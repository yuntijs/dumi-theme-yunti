!(function(){var vhe=Object.defineProperty,yhe=Object.defineProperties;var bhe=Object.getOwnPropertyDescriptors;var Sv=Object.getOwnPropertySymbols;var e9=Object.prototype.hasOwnProperty,t9=Object.prototype.propertyIsEnumerable;var Si=Math.pow,$I=(Ri,Di,ee)=>Di in Ri?vhe(Ri,Di,{enumerable:!0,configurable:!0,writable:!0,value:ee}):Ri[Di]=ee,R=(Ri,Di)=>{for(var ee in Di||(Di={}))e9.call(Di,ee)&&$I(Ri,ee,Di[ee]);if(Sv)for(var ee of Sv(Di))t9.call(Di,ee)&&$I(Ri,ee,Di[ee]);return Ri},Q=(Ri,Di)=>yhe(Ri,bhe(Di));var Eo=(Ri,Di)=>{var ee={};for(var Ut in Ri)e9.call(Ri,Ut)&&Di.indexOf(Ut)<0&&(ee[Ut]=Ri[Ut]);if(Ri!=null&&Sv)for(var Ut of Sv(Ri))Di.indexOf(Ut)<0&&t9.call(Ri,Ut)&&(ee[Ut]=Ri[Ut]);return ee};var ri=(Ri,Di,ee)=>new Promise((Ut,ae)=>{var ge=B=>{try{Ls(ee.next(B))}catch(Me){ae(Me)}},rn=B=>{try{Ls(ee.throw(B))}catch(Me){ae(Me)}},Ls=B=>B.done?Ut(B.value):Promise.resolve(B.value).then(ge,rn);Ls((ee=ee.apply(Ri,Di)).next())});(self.webpackChunkdumi_theme_yunti_example=self.webpackChunkdumi_theme_yunti_example||[]).push([[348],{90348:function(Ri,Di,ee){"use strict";ee.r(Di),ee.d(Di,{ActionIcon:function(){return Ut.Z},ActionIconGroup:function(){return yt},ActionsBar:function(){return p2},Alert:function(){return Zr},Avatar:function(){return kl.Z},BackBottom:function(){return r9},Burger:function(){return k9.Z},ChatHeader:function(){return C9},ChatHeaderTitle:function(){return D9},ChatInputActionBar:function(){return O9},ChatInputArea:function(){return F9},ChatInputAreaInner:function(){return Av},ChatItem:function(){return c2},ChatList:function(){return ZO},ChatSendButton:function(){return V9},CodeEditor:function(){return $O},Collapse:function(){return nj},ColorScales:function(){return sj},ConfigProvider:function(){return Od.ZP},ContextMenu:function(){return lj},CopyButton:function(){return dj.Z},DiscordIcon:function(){return aB},DraggablePanel:function(){return _x.Z},DraggablePanelBody:function(){return fj},DraggablePanelContainer:function(){return mj},DraggablePanelFooter:function(){return yj},DraggablePanelHeader:function(){return Sj},EditableMessage:function(){return l2},EditableMessageList:function(){return Vj},EditableText:function(){return qj},EmojiPicker:function(){return lz},EmptyCard:function(){return fz},Features:function(){return hz.Z},FileTypeIcon:function(){return m3},FluentEmoji:function(){return g3.Z},FontLoader:function(){return gz.Z},Footer:function(){return vz.Z},Form:function(){return jz},FormDivider:function(){return P3},FormFooter:function(){return v3},FormGroup:function(){return ap},FormItem:function(){return e0},FormTitle:function(){return O3},GaussianBackground:function(){return qz},Giscus:function(){return Zz.Z},GradientButton:function(){return Yz.Z},Grid:function(){return Xz.Z},GridBackground:function(){return t0.Z},GridShowcase:function(){return Jz},Header:function(){return $z.Z},Hero:function(){return eB.Z},Highlighter:function(){return tB.ZP},Icon:function(){return hi.Z},Image:function(){return sB.Z},ImageGallery:function(){return oB.Z},Input:function(){return Rd.I},Layout:function(){return Ol.ZP},LayoutFooter:function(){return Ol.D4},LayoutHeader:function(){return Ol.NC},LayoutMain:function(){return Ol.Ku},LayoutSidebar:function(){return Ol.N_},LayoutSidebarInner:function(){return Ol.vK},LayoutToc:function(){return Ol.gn},List:function(){return mB},Logo:function(){return x9},LogoSpline:function(){return $de},LogoThree:function(){return Wde},Markdown:function(){return Mv.Z},MaterialFileTypeIcon:function(){return uce},MessageInput:function(){return $x},MessageModal:function(){return o2},Meta:function(){return rhe},MobileChatInputArea:function(){return K9},MobileChatSendButton:function(){return $9},MobileNavBar:function(){return pce},MobileNavBarTitle:function(){return vce},MobileSafeArea:function(){return Uh},MobileTabBar:function(){return _ce},Modal:function(){return s2},SearchBar:function(){return wce.Z},SelectWithImg:function(){return Sce},SideNav:function(){return Ece},SliderWithInput:function(){return jce},Snippet:function(){return Rce.Z},SortableList:function(){return Gfe},Spline:function(){return Ew},Spotlight:function(){return Ai.Z},SpotlightCard:function(){return Wfe.Z},StoryBook:function(){return qfe.ZP},Swatches:function(){return ehe},SyntaxHighlighter:function(){return g2.Z},TabsNav:function(){return the.Z},Tag:function(){return Cv.Z},TextArea:function(){return Rd.K},ThemeProvider:function(){return ihe.Z},ThemeSwitch:function(){return ahe.Z},Toc:function(){return she.Z},TokenTag:function(){return fhe},Tooltip:function(){return hhe.Z},Typography:function(){return ece.Z},Video:function(){return mhe.Z},colorScales:function(){return Ur._},colors:function(){return Ur._},copyToClipboard:function(){return Ev.v},findCustomThemeName:function(){return Xfe},genCdnUrl:function(){return phe.y},generateColorNeutralPalette:function(){return NI.N},generateColorPalette:function(){return NI.z},getEmoji:function(){return KI.g},getEmojiNameByCharacter:function(){return KI.O},lobeCustomStylish:function(){return Kfe.V},lobeCustomToken:function(){return Qfe.W},neutralColorScales:function(){return Bu.H},neutralColors:function(){return Md},neutralColorsSwatches:function(){return Yfe},primaryColors:function(){return Vr},primaryColorsSwatches:function(){return Zfe},useCdnFn:function(){return Od.nc},useChatListActionsBar:function(){return h2},useControls:function(){return FI.useControls},useCreateStore:function(){return FI.useCreateStore}});var Ut=ee(86982),ae=ee(32710),ge=ee(81622),rn=ee(12531),Ls=ee(59228),B=ee(92379),Me=ee(12274),hi=ee(70957),Ai=ee(18308),re=ee(21394),K=ee(66933),ve,Xe,Ve=(0,K.kc)(function(e,t){var i=e.css,n=e.token,r=e.stylish,a=e.cx,s=t.type,o=i(ve||(ve=(0,re.Z)([`
      background-color: `,`;
      border: 1px solid `,`;
    `])),s==="block"?n.colorFillTertiary:n.colorFillQuaternary,s==="block"?"transparent":n.colorBorder);return{container:a(s!=="pure"&&o,r.blur,i(Xe||(Xe=(0,re.Z)([`
          position: relative;
          padding: 2px;
          border-radius: `,`px;
        `])),n.borderRadius))}}),D=ee(651),He=["type","items","placement","spotlight","direction","dropdownMenu","onActionClick","size"],ut=(0,B.memo)(function(e){var t=e.type,i=t===void 0?"block":t,n=e.items,r=n===void 0?[]:n,a=e.placement,s=e.spotlight,o=s===void 0?!0:s,l=e.direction,d=l===void 0?"row":l,u=e.dropdownMenu,c=u===void 0?[]:u,f=e.onActionClick,h=e.size,p=h===void 0?"small":h,m=(0,ge.Z)(e,He),g=Ve({type:i}),v=g.styles,y=a||(d==="column"?"right":"top");return(0,D.jsxs)(Me.D,(0,ae.Z)((0,ae.Z)({className:v.container,horizontal:d==="row"},m),{},{children:[o&&(0,D.jsx)(Ai.Z,{}),(r==null?void 0:r.length)>0&&r.map(function(b){return(0,D.jsx)(Ut.Z,{disable:b.disable,icon:b.icon,onClick:f?function(){return f==null?void 0:f({item:b,key:b.key,keyPath:[b.key]})}:void 0,placement:y,size:p,title:b.label},b.key)}),(c==null?void 0:c.length)>0&&(0,D.jsx)(rn.Z,{menu:{items:c.map(function(b){return b.type?b:(0,ae.Z)((0,ae.Z)({},b),{},{disabled:b.disable,icon:(0,D.jsx)(hi.Z,{icon:b.icon,size:p}),onClick:f?function(_){return f({item:b,key:_.key,keyPath:_.keyPath})}:void 0})})},trigger:["click"],children:(0,D.jsx)(Ut.Z,{icon:Ls.Z,placement:y,size:p},"more")})]}))}),yt=ut,St=ee(52525),ci=ee(69614),An=ee(93275),Hr=ee(43849),an=ee(97169),$a=ee(44410),Bn=ee(58343),Gn=ee(24423),Lt=ee(25972),Ft=ee(7301),Re=ee(18812),ue,Je,ai,Jt,Li,Gr,Wr,Mi,ui,Fi,qi,ar,es,ts=(0,K.kc)(function(e,t){var i=e.cx,n=e.token,r=e.css,a=e.prefixCls,s=t.closable,o=t.hasTitle,l=t.showIcon,d=o?16:8,u=o?16:12;return{banner:r(ue||(ue=(0,re.Z)([`
        border: none;
        border-radius: 0;
      `]))),colorfulText:r(Je||(Je=(0,re.Z)([`
        .`,"-alert-message,.",`-alert-description {
          color: inherit;
        }
      `])),a,a),container:i(r(ai||(ai=(0,re.Z)([`
          position: relative;

          display: flex;
          flex-direction: row;
          gap: `,`px;
          align-items: flex-start;

          max-width: 100%;
          padding-block: `,`px;
          padding-inline: `,`px
            `,`px;

          .`,`-alert-message {
            font-weight: `,`;
            line-height: 24px;
            word-break: normal;
          }
          .`,`-alert-icon {
            display: flex;
            align-items: center;
            height: 24px;
            margin: 0;
          }
          .`,`-alert-close-icon {
            display: flex;
            align-items: center;
            height: 24px;
            margin: 0;
          }
        `])),o?12:8,d,l?u:u*1.5,s?u:u*1.5,a,o?600:400,a,a),o&&r(Jt||(Jt=(0,re.Z)([`
            .`,`-alert-description {
              line-height: 1.5;
              word-break: normal;
              opacity: 0.75;
            }
          `])),a)),expandText:r(Li||(Li=(0,re.Z)([`
        &:hover {
          cursor: pointer;
        }
      `]))),extra:r(Gr||(Gr=(0,re.Z)([`
        position: relative;

        overflow: hidden;

        max-width: 100%;

        border: 1px solid;
        border-block-start: none;
        border-end-start-radius: `,`px;
        border-end-end-radius: `,`px;
      `])),n.borderRadiusLG,n.borderRadiusLG),extraBody:r(Wr||(Wr=(0,re.Z)([`
        overflow-x: auto;
        width: 100%;
        padding-block: `,`px;
        padding-inline: `,`px;
      `])),d,u),extraHeader:r(Mi||(Mi=(0,re.Z)([`
        padding-block: `,`px;
        padding-inline: `,`px;
        border-block-start: 1px dashed;
      `])),d*.75,u*.75),hasExtra:r(ui||(ui=(0,re.Z)([`
        border-block-end: none;
        border-end-start-radius: 0;
        border-end-end-radius: 0;
      `]))),variantBlock:r(Fi||(Fi=(0,re.Z)([`
        border: none;
      `]))),variantGhost:r(qi||(qi=(0,re.Z)([`
        background: transparent !important;
      `]))),variantPure:r(ar||(ar=(0,re.Z)([`
        padding: 0 !important;
        background: transparent !important;
        border: none;
      `]))),variantPureExtraHeader:r(es||(es=(0,re.Z)([`
        margin-block-start: `,`px;
        margin-inline-start: `,`px;
        padding-inline: 0;
      `])),d,-u*.25)}}),Ca=["closeIcon","closable","description","showIcon","type","variant","icon","colorfulText","style","extra","classNames","text","extraDefaultExpand","extraIsolate","banner"],is={error:an.Z,info:$a.Z,success:Bn.Z,warning:Gn.Z},qr=function(t){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"info",n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return t[(0,Hr.Z)(["color",i].concat(r).join("-"))]},Dd=(0,B.memo)(function(e){var t=e.closeIcon,i=e.closable,n=i===void 0?!1:i,r=e.description,a=e.showIcon,s=a===void 0?!0:a,o=e.type,l=o===void 0?"info":o,d=e.variant,u=e.icon,c=e.colorfulText,f=c===void 0?!0:c,h=e.style,p=e.extra,m=e.classNames,g=e.text,v=e.extraDefaultExpand,y=v===void 0?!1:v,b=e.extraIsolate,_=e.banner,x=(0,ge.Z)(e,Ca),k=(0,B.useState)(y),w=(0,St.Z)(k,2),S=w[0],A=w[1],M=ts({closable:!!n,hasTitle:!!r,showIcon:!!s}),C=M.theme,T=M.styles,P=M.cx,I=!b&&!!p,j=(0,D.jsx)(ci.Z,(0,ae.Z)({banner:_,className:P(T.container,f&&T.colorfulText,!!I&&T.hasExtra,d==="block"&&T.variantBlock,d==="ghost"&&T.variantGhost,d==="pure"&&T.variantPure,m==null?void 0:m.alert,!I&&T.container),closable:n,closeIcon:t||(0,D.jsx)(Ut.Z,{color:qr(C,l),icon:Lt.Z,size:"small"}),description:r,icon:(0,D.jsx)(hi.Z,{icon:is[l]||u,size:{fontSize:r?24:18}}),showIcon:s,style:(0,ae.Z)({color:f?qr(C,l):void 0},h),type:l},x));return p?b?(0,D.jsxs)(Me.D,{className:m==null?void 0:m.container,gap:8,children:[j,p]}):(0,D.jsxs)(Me.D,{className:m==null?void 0:m.container,children:[j,(0,D.jsxs)(Me.D,{className:P(T.extra,_&&T.banner,d==="block"&&T.variantBlock,d==="ghost"&&T.variantGhost,d==="pure"&&T.variantPure),style:{background:qr(C,l,"bg"),borderColor:qr(C,l,"border"),color:qr(C,l),fontSize:r?14:12},children:[(0,D.jsxs)(Me.D,{align:"center",className:P(T.extraHeader,d==="pure"&&T.variantPureExtraHeader),gap:An.ZP?6:10,horizontal:!0,style:{borderColor:qr(C,l,"border")},children:[(0,D.jsx)(Ut.Z,{color:f?qr(C,l):void 0,icon:S?Ft.Z:Re.Z,onClick:function(){return A(!S)},size:{blockSize:24,fontSize:18}}),(0,D.jsx)("div",{className:P(T.expandText),onClick:function(){return A(!S)},children:(g==null?void 0:g.detail)||"Show Details"})]}),S&&(0,D.jsx)("div",{className:P(T.extraBody,d==="pure"&&T.variantPure),children:p})]})]}):j}),Zr=Dd,kl=ee(61672),Nh=ee(9508),Pd=ee(33541),Sl=ee(43768),Lu=ee(9644),aa=ee(47606);function Fs(e,t){t===void 0&&(t=function(){return!0});var i=(0,Nh.CR)((0,Pd.Z)(),2),n=i[0],r=i[1],a=(0,Sl.Z)(t);return(0,aa.Z)(function(){var s=(0,Lu.n)(e,document);if(s){var o=function(){var l;s===document?document.scrollingElement?l={left:document.scrollingElement.scrollLeft,top:document.scrollingElement.scrollTop}:l={left:Math.max(window.pageXOffset,document.documentElement.scrollLeft,document.body.scrollLeft),top:Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)}:l={left:s.scrollLeft,top:s.scrollTop},a.current(l)&&r(l)};return o(),s.addEventListener("scroll",o),function(){s.removeEventListener("scroll",o)}}},[],e),n}var Id=Fs,sr=ee(88016),To=ee(85813),sa=ee(36122),ix,i9=(0,K.kc)(function(e,t){var i=e.token,n=e.css,r=e.stylish,a=e.cx,s=e.responsive;return a(r.blur,n(ix||(ix=(0,re.Z)([`
      pointer-events: `,`;

      position: absolute;
      inset-block-end: 16px;
      inset-inline-end: 16px;
      transform: translateY(`,`);

      padding-inline: 12px !important;

      opacity: `,`;
      background: `,`;
      border-color: `,` !important;
      border-radius: 16px !important;

      `,` {
        inset-inline-end: 0;
        border-inline-end: none;
        border-start-end-radius: 0 !important;
        border-end-end-radius: 0 !important;
      }
    `])),t?"all":"none",t?0:"16px",t?1:0,(0,sa.m4)(i.colorBgContainer,.5),i.colorFillTertiary,s.mobile))}),n9=(0,B.memo)(function(e){var t=e.visibilityHeight,i=t===void 0?240:t,n=e.target,r=e.onClick,a=e.style,s=e.className,o=e.text,l=(0,B.useState)(!1),d=(0,St.Z)(l,2),u=d[0],c=d[1],f=i9(u),h=f.styles,p=f.cx,m=(0,B.useRef)(null),g=n==null?void 0:n.current,v=(g==null?void 0:g.scrollHeight)||0,y=(g==null?void 0:g.clientHeight)||0,b=Id(n);(0,B.useEffect)(function(){b!=null&&b.top&&c((b==null?void 0:b.top)+y+i<v)},[v,b,i]);var _=function(k){var w;n==null||(w=n.current)===null||w===void 0||w.scrollTo({behavior:"smooth",left:0,top:v}),r==null||r(k)};return(0,D.jsx)(sr.ZP,{className:p(h,s),icon:(0,D.jsx)(hi.Z,{icon:To.Z}),onClick:_,ref:m,size:"small",style:a,children:o||"Back to bottom"})}),r9=n9,a9=["size","style"],s9=(0,B.memo)(function(e){var t=e.size,i=t===void 0?"1em":t,n=e.style,r=(0,ge.Z)(e,a9);return(0,D.jsx)("svg",(0,ae.Z)((0,ae.Z)({fill:"none",height:i,shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",style:(0,ae.Z)({flex:"none",lineHeight:1},n),viewBox:"0 0 24 24",width:i},r),{},{children:(0,D.jsx)("path",{d:"M16.88 3.549L7.12 20.451"})}))}),o9=s9,l9=["size","style"],d9=(0,B.memo)(function(e){var t=e.size,i=t===void 0?"1em":t,n=e.style,r=(0,ge.Z)(e,l9);return(0,D.jsxs)("svg",(0,ae.Z)((0,ae.Z)({fill:"currentColor",fillRule:"evenodd",height:i,style:(0,ae.Z)({flex:"none",lineHeight:1},n),viewBox:"0 0 940 320",xmlns:"http://www.w3.org/2000/svg"},r),{},{children:[(0,D.jsx)("title",{children:"LobeHub"}),(0,D.jsx)("path",{d:"M15 240.035V87.172h39.24V205.75h66.192v34.285H15zM183.731 242c-11.759 0-22.196-2.621-31.313-7.862-9.116-5.241-16.317-12.447-21.601-21.619-5.153-9.317-7.729-19.945-7.729-31.883 0-11.937 2.576-22.492 7.729-31.664 5.164-8.963 12.159-15.98 20.982-21.05l.619-.351c9.117-5.241 19.554-7.861 31.313-7.861s22.196 2.62 31.313 7.861c9.248 5.096 16.449 12.229 21.601 21.401 5.153 9.172 7.729 19.727 7.729 31.664 0 11.938-2.576 22.566-7.729 31.883-5.152 9.172-12.353 16.378-21.601 21.619-9.117 5.241-19.554 7.862-31.313 7.862zm0-32.975c4.36 0 8.191-1.092 11.494-3.275 3.436-2.184 6.144-5.387 8.126-9.609 1.982-4.367 2.973-9.536 2.973-15.505 0-5.968-.991-10.991-2.973-15.067-1.906-4.06-4.483-7.177-7.733-9.352l-.393-.257c-3.303-2.184-7.134-3.276-11.494-3.276-4.228 0-8.059 1.092-11.495 3.276-3.303 2.184-6.011 5.387-8.125 9.609-1.982 4.076-2.973 9.099-2.973 15.067 0 5.969.991 11.138 2.973 15.505 2.114 4.222 4.822 7.425 8.125 9.609 3.436 2.183 7.267 3.275 11.495 3.275zM295.508 78l-.001 54.042a34.071 34.071 0 016.541-5.781c6.474-4.367 14.269-6.551 23.385-6.551 9.777 0 18.629 2.475 26.557 7.424 7.872 4.835 14.105 11.684 18.7 20.546l.325.637c4.756 9.026 7.135 19.799 7.135 32.319 0 12.666-2.379 23.585-7.135 32.757-4.624 9.026-10.966 16.087-19.025 21.182-7.928 4.95-16.78 7.425-26.557 7.425-9.644 0-17.704-2.184-24.178-6.551-2.825-1.946-5.336-4.355-7.532-7.226l.001 11.812h-35.87V78h37.654zm21.998 74.684c-4.228 0-8.059 1.092-11.494 3.276-3.303 2.184-6.012 5.387-8.126 9.609-1.982 4.076-2.972 9.099-2.972 15.067 0 5.969.99 11.138 2.972 15.505 2.114 4.222 4.823 7.425 8.126 9.609 3.435 2.183 7.266 3.275 11.494 3.275s7.994-1.092 11.297-3.275c3.435-2.184 6.143-5.387 8.125-9.609 2.114-4.367 3.171-9.536 3.171-15.505 0-5.968-1.057-10.991-3.171-15.067-1.906-4.06-4.483-7.177-7.732-9.352l-.393-.257c-3.303-2.184-7.069-3.276-11.297-3.276zm105.335 38.653l.084.337a27.857 27.857 0 002.057 5.559c2.246 4.222 5.417 7.498 9.513 9.827 4.096 2.184 8.984 3.276 14.665 3.276 5.285 0 9.777-.801 13.477-2.403 3.579-1.632 7.1-4.025 10.564-7.182l.732-.679 19.818 22.711c-5.153 6.26-11.494 11.064-19.025 14.413-7.531 3.203-16.449 4.804-26.755 4.804-12.683 0-23.782-2.621-33.294-7.862-9.381-5.386-16.713-12.665-21.998-21.837-5.153-9.317-7.729-19.872-7.729-31.665 0-11.792 2.51-22.274 7.53-31.446 5.036-9.105 11.902-16.195 20.596-21.268l.61-.351c8.984-5.241 19.091-7.861 30.322-7.861 10.311 0 19.743 2.286 28.294 6.859l.64.347c8.72 4.659 15.656 11.574 20.809 20.746 5.153 9.172 7.729 20.309 7.729 33.411 0 1.294-.052 2.761-.156 4.4l-.042.623-.17 2.353c-.075 1.01-.151 1.973-.227 2.888h-78.044zm21.365-42.147c-4.492 0-8.456 1.092-11.891 3.276-3.303 2.184-5.879 5.314-7.729 9.39a26.04 26.04 0 00-1.117 2.79 30.164 30.164 0 00-1.121 4.499l-.058.354h43.96l-.015-.106c-.401-2.638-1.122-5.055-2.163-7.252l-.246-.503c-1.776-3.774-4.282-6.742-7.519-8.906l-.409-.266c-3.303-2.184-7.2-3.276-11.692-3.276zm111.695-62.018l-.001 57.432h53.51V87.172h39.24v152.863h-39.24v-59.617H555.9l.001 59.617h-39.24V87.172h39.24zM715.766 242c-8.72 0-16.581-1.893-23.583-5.678-6.87-3.785-12.287-9.681-16.251-17.688-3.832-8.153-5.747-18.417-5.747-30.791v-66.168h37.654v59.398c0 9.172 1.519 15.723 4.558 19.654 3.171 3.931 7.597 5.896 13.278 5.896 3.7 0 7.069-.946 10.108-2.839 3.038-1.892 5.483-4.877 7.332-8.953 1.85-4.222 2.775-9.609 2.775-16.16v-56.996h37.654v118.36h-35.871l.004-12.38c-2.642 3.197-5.682 5.868-9.12 8.012-7.002 4.222-14.599 6.333-22.791 6.333zM841.489 78l-.001 54.041a34.1 34.1 0 016.541-5.78c6.474-4.367 14.269-6.551 23.385-6.551 9.777 0 18.629 2.475 26.556 7.424 7.873 4.835 14.106 11.684 18.701 20.546l.325.637c4.756 9.026 7.134 19.799 7.134 32.319 0 12.666-2.378 23.585-7.134 32.757-4.624 9.026-10.966 16.087-19.026 21.182-7.927 4.95-16.779 7.425-26.556 7.425-9.645 0-17.704-2.184-24.178-6.551-2.825-1.946-5.336-4.354-7.531-7.224v11.81h-35.87V78h37.654zm21.998 74.684c-4.228 0-8.059 1.092-11.495 3.276-3.303 2.184-6.011 5.387-8.125 9.609-1.982 4.076-2.973 9.099-2.973 15.067 0 5.969.991 11.138 2.973 15.505 2.114 4.222 4.822 7.425 8.125 9.609 3.436 2.183 7.267 3.275 11.495 3.275 4.228 0 7.993-1.092 11.296-3.275 3.435-2.184 6.144-5.387 8.126-9.609 2.114-4.367 3.171-9.536 3.171-15.505 0-5.968-1.057-10.991-3.171-15.067-1.906-4.06-4.484-7.177-7.733-9.352l-.393-.257c-3.303-2.184-7.068-3.276-11.296-3.276z"})]}))}),nx=d9,Od=ee(8665),jd=ee(91651),rx,c9={path:"assets/logo-3d.webp",pkg:"@lobehub/assets-logo",version:"1.2.0"},u9=(0,K.kc)(function(e){var t=e.css;return{extraTitle:t(rx||(rx=(0,re.Z)([`
      font-weight: 300;
      white-space: nowrap;
    `])))}}),f9=["size","style","alt"],h9=(0,B.memo)(function(e){var t=e.size,i=t===void 0?"1em":t,n=e.style,r=e.alt,a=r===void 0?"LobeHub":r,s=(0,ge.Z)(e,f9),o=(0,Od.nc)();return(0,D.jsx)(jd.Z,(0,ae.Z)({alt:a,height:i,src:o(c9),style:n,width:i},s))}),ax=h9,p9=["size","style"],m9=(0,B.memo)(function(e){var t=e.size,i=t===void 0?"1em":t,n=e.style,r=(0,ge.Z)(e,p9);return(0,D.jsxs)("svg",(0,ae.Z)((0,ae.Z)({height:i,style:(0,ae.Z)({flex:"none",lineHeight:1},n),viewBox:"0 0 24 24",width:i,xmlns:"http://www.w3.org/2000/svg"},r),{},{children:[(0,D.jsx)("title",{children:"LobeHub"}),(0,D.jsx)("path",{d:"M22.951 13.475C22.951 19.672 18.082 24 11.975 24 5.87 24 1 19.59 1 13.393c0-1.843.41-2.633 2.58-2.922 3.89-.518 5.942-.313 8.396-.313 2.453 0 5.942-.104 8.395.313 2.007.342 2.457.71 2.58 3.004z",fill:"#FFB02E"}),(0,D.jsx)("path",{d:"M11.955 19.209c-2.314 0-2.928.286-2.928.286s.287 2.212 2.928 2.212c2.642 0 2.928-2.212 2.928-2.212s-.614-.287-2.928-.287z",fill:"#972021"}),(0,D.jsx)("path",{d:"M21.15 11.51c0 .52-4.09.941-9.133.941-5.044 0-9.133-.422-9.133-.942s4.089-.942 9.133-.942c5.043 0 9.132.422 9.132.942z",fill:"#FF6723"}),(0,D.jsx)("path",{d:"M9.969 12.451c.052-1.226-.04-1.867-.45-2.985 0 0 .777-.987 2.21-.987 1.434 0 2.458.25 2.458.25-.248 1.376-.26 2.206-.205 3.722H9.97z",fill:"#FEE064"}),(0,D.jsx)("path",{d:"M8.633 18.535c1.207-.58 2.032-1.762 2.032-3.217 0-2.081-1.687-3.932-3.768-3.932-2.08 0-3.85 1.605-3.85 3.686 0 1.146.537 2.196 1.365 2.91a4.582 4.582 0 011.625-.289c1.04 0 1.972.327 2.596.842zM15.318 18.535c-1.207-.58-2.032-1.762-2.032-3.217 0-2.081 1.687-3.932 3.768-3.932 2.08 0 3.85 1.605 3.85 3.686 0 1.146-.537 2.196-1.365 2.91a4.582 4.582 0 00-1.625-.289c-1.04 0-1.972.327-2.596.842z",fill:"#fff"}),(0,D.jsx)("path",{d:"M7.143 17.447a2.293 2.293 0 100-4.586 2.293 2.293 0 000 4.586zM16.808 17.447a2.293 2.293 0 110-4.586 2.293 2.293 0 010 4.586z",fill:"#270C36"}),(0,D.jsx)("path",{d:"M13.04.902c-1.149 0-1.597-.942-3.358-.9-1.916 0-2.785 1.064-3.727 1.883-.16.14-.942.574-1.31.737-1.612.717-2.826 1.761-2.826 3.318 0 1.696 1.43 3.071 3.194 3.071.29 0 .57-.037.838-.106.712.863 1.816 1.364 3.053 1.417 1.925.082 2.54-1.25 3.645-.697.758.38 1.133.697 2.334.697 1.402 0 2.053-.43 2.457-.901.738-.86 1.874-.328 2.58-.328 1.538 0 2.785-1.192 2.785-2.662s-1.246-2.662-2.784-2.662c-.422 0-1.217.104-1.393-.573C18.241 2.09 16.878.82 14.924.82c-.763 0-1.449.082-1.884.082z",fill:"#A68AE2"}),(0,D.jsx)("path",{d:"M5.669 1.025a.778.778 0 11-1.557 0 .778.778 0 011.557 0z",fill:"#7B61FF"}),(0,D.jsx)("path",{d:"M4.686 8.192a1.31 1.31 0 11-2.621 0 1.31 1.31 0 012.62 0z",fill:"#F24630"}),(0,D.jsx)("path",{d:"M21.968 3.4a1.27 1.27 0 11-2.539 0 1.27 1.27 0 012.54 0z",fill:"#7CEE1D"}),(0,D.jsx)("path",{d:"M9.701 19.34c.45-.068 1.163-.131 2.254-.131 1 0 1.683.053 2.136.114-.127.48-1.062.664-2.197.664-1.122 0-2.05-.18-2.193-.647z",fill:"#fff"}),(0,D.jsx)("path",{d:"M11.976 23.099c1.646 0 1.909-1.678 1.96-2.098.039-.34-.137-.511-.33-.627-.191-.116-.768-.224-1.63-.224-.862 0-1.435.108-1.63.224-.196.116-.373.288-.33.627.051.42.314 2.098 1.96 2.098z",fill:"#F24630"}),(0,D.jsx)("path",{d:"M12.934 9.972c-.47-.319-1.143-.348-1.621-.043a4.086 4.086 0 01-2.204.638c-2.217 0-4.014-1.742-4.014-3.89 0-2.149 1.797-3.89 4.014-3.89 1.116 0 2.126.44 2.853 1.154.406.397 1.072.51 1.597.295.407-.167.855-.259 1.324-.259 1.878 0 3.4 1.475 3.4 3.295 0 1.82-1.523 3.295-3.4 3.295-.725 0-1.397-.22-1.95-.595z",fill:"#F4B8CA"}),(0,D.jsx)("path",{d:"M16.808 8.07a1.106 1.106 0 11-2.211 0 1.106 1.106 0 012.211 0z",fill:"#0C74FF"})]}))}),g9=m9,v9=["size","style"],y9=(0,B.memo)(function(e){var t=e.size,i=t===void 0?"1em":t,n=e.style,r=(0,ge.Z)(e,v9);return(0,D.jsxs)("svg",(0,ae.Z)((0,ae.Z)({height:i,style:(0,ae.Z)({flex:"none",lineHeight:1},n),viewBox:"0 0 24 24",width:i,xmlns:"http://www.w3.org/2000/svg"},r),{},{children:[(0,D.jsx)("title",{children:"LobeHub"}),(0,D.jsx)("path",{d:"M22.951 13.475C22.951 19.672 18.082 24 11.975 24 5.87 24 1 19.59 1 13.393c0-1.843.41-2.633 2.58-2.922 3.89-.518 5.942-.313 8.396-.313 2.453 0 5.942-.104 8.395.313 2.007.342 2.457.71 2.58 3.004z",fill:"#BFBFBF"}),(0,D.jsx)("path",{d:"M11.955 19.209c-2.314 0-2.928.286-2.928.286s.287 2.212 2.928 2.212c2.642 0 2.928-2.212 2.928-2.212s-.614-.287-2.928-.287z",fill:"#4F4F4F"}),(0,D.jsx)("ellipse",{cx:"12.017",cy:"11.509",fill:"#838383",rx:"9.133",ry:".942"}),(0,D.jsx)("path",{d:"M9.969 12.451c.052-1.226-.04-1.867-.45-2.985 0 0 .777-.987 2.21-.987 1.434 0 2.458.25 2.458.25-.248 1.376-.26 2.206-.205 3.722H9.97z",fill:"#E1E1E1"}),(0,D.jsx)("path",{d:"M8.633 18.535c1.207-.58 2.032-1.762 2.032-3.217 0-2.081-1.687-3.932-3.768-3.932-2.08 0-3.85 1.605-3.85 3.686 0 1.146.537 2.196 1.365 2.91a4.582 4.582 0 011.625-.289c1.04 0 1.972.327 2.596.842zM15.318 18.535c-1.207-.58-2.032-1.762-2.032-3.217 0-2.081 1.687-3.932 3.768-3.932 2.08 0 3.85 1.605 3.85 3.686 0 1.146-.537 2.196-1.365 2.91a4.582 4.582 0 00-1.625-.289c-1.04 0-1.972.327-2.596.842z",fill:"#fff"}),(0,D.jsx)("path",{d:"M16.808 17.447a2.293 2.293 0 110-4.586 2.293 2.293 0 010 4.586zM7.143 17.447a2.293 2.293 0 100-4.586 2.293 2.293 0 000 4.586z",fill:"#1A1A1A"}),(0,D.jsx)("path",{d:"M13.04.902c-1.149 0-1.597-.942-3.358-.9-1.916 0-2.785 1.064-3.727 1.883-.16.14-.942.574-1.31.737-1.612.717-2.826 1.761-2.826 3.318 0 1.696 1.43 3.071 3.194 3.071.29 0 .57-.037.838-.106.712.863 1.816 1.364 3.053 1.417 1.925.082 2.54-1.25 3.645-.697.758.38 1.133.697 2.334.697 1.402 0 2.053-.43 2.457-.901.738-.86 1.874-.328 2.58-.328 1.538 0 2.785-1.192 2.785-2.662s-1.246-2.662-2.784-2.662c-.422 0-1.217.104-1.393-.573C18.241 2.09 16.878.82 14.924.82c-.763 0-1.449.082-1.884.082z",fill:"#838383"}),(0,D.jsx)("circle",{cx:"4.891",cy:"1.025",fill:"#838383",r:".778"}),(0,D.jsx)("circle",{cx:"20.699",cy:"3.4",fill:"#C8C8C8",r:"1.27"}),(0,D.jsx)("path",{d:"M9.701 19.34c.45-.068 1.163-.131 2.254-.131 1 0 1.683.053 2.136.114-.127.48-1.062.664-2.197.664-1.122 0-2.05-.18-2.193-.647z",fill:"#fff"}),(0,D.jsx)("path",{d:"M11.976 23.099c1.646 0 1.909-1.678 1.96-2.098.039-.34-.137-.511-.33-.627-.191-.116-.768-.224-1.63-.224-.862 0-1.435.108-1.63.224-.196.116-.373.288-.33.627.051.42.314 2.098 1.96 2.098z",fill:"#838383"}),(0,D.jsx)("path",{d:"M12.934 9.972c-.47-.319-1.143-.348-1.621-.043a4.086 4.086 0 01-2.204.638c-2.217 0-4.014-1.742-4.014-3.89 0-2.149 1.797-3.89 4.014-3.89 1.116 0 2.126.44 2.853 1.154.406.397 1.072.51 1.597.295.407-.167.855-.259 1.324-.259 1.878 0 3.4 1.475 3.4 3.295 0 1.82-1.523 3.295-3.4 3.295-.725 0-1.397-.22-1.95-.595z",fill:"#C8C8C8"}),(0,D.jsx)("path",{d:"M3.375 9.502a1.31 1.31 0 100-2.62 1.31 1.31 0 000 2.62zM15.702 9.175a1.106 1.106 0 100-2.212 1.106 1.106 0 000 2.212z",fill:"#4F4F4F"})]}))}),b9=y9,_9=["type","size","style","extra","className"],w9=(0,B.memo)(function(e){var t=e.type,i=t===void 0?"3d":t,n=e.size,r=n===void 0?32:n,a=e.style,s=e.extra,o=e.className,l=(0,ge.Z)(e,_9),d=(0,K.Fg)(),u=u9(),c=u.styles,f;switch(i){case"3d":{f=(0,D.jsx)(ax,(0,ae.Z)({size:r},l));break}case"flat":{f=(0,D.jsx)(g9,{size:r,style:a});break}case"mono":{f=(0,D.jsx)(b9,{size:r,style:a});break}case"text":{f=(0,D.jsx)(nx,(0,ae.Z)({className:o,size:r,style:a},l));break}case"combine":{f=(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(ax,{alt:"LobeChat",size:r}),(0,D.jsx)(nx,{size:r,style:{marginLeft:Math.round(r/4)}})]}),s||(f=(0,D.jsx)(Me.D,{align:"center",className:o,flex:"none",horizontal:!0,style:a,children:f}));break}}if(!s)return f;var h=Math.round(r/3*1.9);return(0,D.jsxs)(Me.D,(0,ae.Z)((0,ae.Z)({align:"center",className:o,flex:"none",horizontal:!0,style:a},l),{},{children:[f,(0,D.jsx)(o9,{size:h,style:{color:d.colorFill}}),(0,D.jsx)("div",{className:c.extraTitle,style:{fontSize:h},children:s})]}))}),x9=w9,k9=ee(93974),sx=ee(81863),ox,lx,dx,cx,S9=(0,K.kc)(function(e){var t=e.css,i=e.token,n=e.stylish,r=e.cx;return{center:t(ox||(ox=(0,re.Z)([`
      position: relative;
      overflow: hidden;
    `]))),container:r(n.blurStrong,t(lx||(lx=(0,re.Z)([`
        position: absolute;
        z-index: 10;

        overflow: hidden;
        grid-area: header;
        align-self: stretch;

        width: 100%;
        height: 64px;

        background: linear-gradient(
          to bottom,
          `,`,
          `,`
        );
        border-block-end: 1px solid `,`;
      `])),(0,sa.m4)(i.colorBgLayout,.8),(0,sa.m4)(i.colorBgLayout,.4),i.colorBorder)),left:t(dx||(dx=(0,re.Z)([`
      position: relative;
      overflow: hidden;
      flex: 1;
    `]))),right:t(cx||(cx=(0,re.Z)([`
      position: relative;
      overflow: hidden;
      flex: none;
    `])))}}),A9=["left","right","className","styles","gaps","classNames","showBackButton","onBackClick","children","gap"],M9=(0,B.memo)(function(e){var t=e.left,i=e.right,n=e.className,r=e.styles,a=e.gaps,s=e.classNames,o=e.showBackButton,l=e.onBackClick,d=e.children,u=e.gap,c=u===void 0?16:u,f=(0,ge.Z)(e,A9),h=S9(),p=h.cx,m=h.styles;return(0,D.jsxs)(Me.D,(0,ae.Z)((0,ae.Z)({align:"center",className:p(m.container,n),distribution:"space-between",gap:c,horizontal:!0,paddingInline:16},f),{},{children:[(0,D.jsxs)(Me.D,{align:"center",className:p(m.left,s==null?void 0:s.left),gap:(a==null?void 0:a.left)||12,horizontal:!0,justify:"flex-start",style:r==null?void 0:r.left,children:[o&&(0,D.jsx)(Ut.Z,{icon:sx.Z,onClick:function(){return l==null?void 0:l()},size:{fontSize:24},style:{marginRight:a!=null&&a.left?-a.left/2:-6}}),t]}),d&&(0,D.jsx)(Me.D,{align:"center",className:p(m.center,s==null?void 0:s.center),gap:(a==null?void 0:a.center)||8,horizontal:!0,justify:"center",style:r==null?void 0:r.center,children:d}),(0,D.jsx)(Me.D,{align:"center",className:p(m.right,s==null?void 0:s.right),gap:(a==null?void 0:a.right)||8,horizontal:!0,justify:"flex-end",style:r==null?void 0:r.right,children:i})]}))}),C9=M9,ux,fx,hx,px,mx,gx,E9=(0,K.kc)(function(e){var t=e.css,i=e.token;return{container:t(ux||(ux=(0,re.Z)([`
    position: relative;
    overflow: hidden;
    flex: 1;
    max-width: 100%;
  `]))),desc:t(fx||(fx=(0,re.Z)([`
    overflow: hidden;

    width: 100%;

    font-size: 12px;
    line-height: 1;
    color: `,`;
    text-overflow: ellipsis;
    white-space: nowrap;
  `])),i.colorTextTertiary),tag:t(hx||(hx=(0,re.Z)([`
    flex: none;
    align-items: baseline;
  `]))),title:t(px||(px=(0,re.Z)([`
    overflow: hidden;

    font-size: 16px;
    font-weight: bold;
    line-height: 1;
    text-overflow: ellipsis;
    white-space: nowrap;
  `]))),titleContainer:t(mx||(mx=(0,re.Z)([`
    flex: 1;
    line-height: 1;
  `]))),titleWithDesc:t(gx||(gx=(0,re.Z)([`
    overflow: hidden;
    font-weight: bold;
    text-overflow: ellipsis;
    white-space: nowrap;
  `])))}}),T9=(0,B.memo)(function(e){var t=e.title,i=e.desc,n=e.tag,r=E9(),a=r.styles,s=n&&(0,D.jsx)(Me.D,{align:"center",className:a.tag,horizontal:!0,children:n});return i?(0,D.jsxs)(Me.D,{className:a.container,gap:4,children:[(0,D.jsxs)(Me.D,{align:"center",className:a.titleContainer,gap:8,horizontal:!0,children:[(0,D.jsx)("div",{className:a.titleWithDesc,children:t}),s]}),(0,D.jsx)(Me.D,{align:"center",className:a.desc,horizontal:!0,children:i})]}):(0,D.jsxs)(Me.D,{align:"center",className:a.container,gap:8,horizontal:!0,children:[(0,D.jsx)("div",{className:a.title,children:t}),s]})}),D9=T9,Al=ee(29191),vx,yx,bx,P9=(0,K.kc)(function(e){var t=e.css,i=e.cx,n=e.stylish;return{container:t(vx||(vx=(0,re.Z)([`
    position: relative;
    overflow: hidden;
    width: 100%;
  `]))),left:i(n.noScrollbar,t(yx||(yx=(0,re.Z)([`
      overflow: auto hidden;
    `])))),right:t(bx||(bx=(0,re.Z)([""])))}}),I9=(0,B.memo)(function(e){var t=e.padding,i=t===void 0?"0 16px":t,n=e.leftAddons,r=e.rightAddons,a=(0,Al.F)(),s=a.mobile,o=P9(),l=o.styles;return(0,D.jsxs)(Me.D,{align:"center",className:l.container,flex:"none",horizontal:!0,justify:"space-between",padding:i,children:[(0,D.jsx)(Me.D,{align:"center",className:l.left,flex:1,gap:s?0:4,horizontal:!0,children:n}),(0,D.jsx)(Me.D,{align:"center",className:l.right,flex:0,gap:s?0:4,horizontal:!0,justify:"flex-end",children:r})]})}),O9=I9,Rd=ee(52061),j9=["resize","onCompositionEnd","onPressEnter","onCompositionStart","className","onInput","loading","onSend","onBlur","onChange"],R9=(0,B.forwardRef)(function(e,t){var i=e.resize,n=i===void 0?!1:i,r=e.onCompositionEnd,a=e.onPressEnter,s=e.onCompositionStart,o=e.className,l=e.onInput,d=e.loading,u=e.onSend,c=e.onBlur,f=e.onChange,h=(0,ge.Z)(e,j9),p=(0,B.useRef)(!1);return(0,D.jsx)(Rd.K,(0,ae.Z)({className:o,onBlur:function(g){l==null||l(g.target.value),c==null||c(g)},onChange:function(g){l==null||l(g.target.value),f==null||f(g)},onCompositionEnd:function(g){p.current=!1,r==null||r(g)},onCompositionStart:function(g){p.current=!0,s==null||s(g)},onPressEnter:function(g){a==null||a(g);var v=/mobi|android|iphone/i.test(navigator.userAgent);!d&&!p.current&&(!v&&!g.shiftKey||v&&g.shiftKey)&&(g.preventDefault(),u==null||u())},ref:t,resize:n},h))}),Av=(0,B.memo)(R9),_x=ee(4333),z9=["className","style","classNames","expand","setExpand","bottomAddons","topAddons","onSizeChange","heights","onSend"],wx,xx,kx,B9=(0,K.kc)(function(e){var t=e.css;return{container:t(wx||(wx=(0,re.Z)([`
      position: relative;

      display: flex;
      flex-direction: column;
      gap: 8px;

      height: 100%;
      padding-block: 12px 16px;
      padding-inline: 0;
    `]))),textarea:t(xx||(xx=(0,re.Z)([`
      height: 100% !important;
      padding-block: 0;
      padding-inline: 24px;
      line-height: 1.5;
    `]))),textareaContainer:t(kx||(kx=(0,re.Z)([`
      position: relative;
      flex: 1;
    `])))}}),L9=(0,B.forwardRef)(function(e,t){var i=e.className,n=e.style,r=e.classNames,a=e.expand,s=a===void 0?!0:a,o=e.setExpand,l=e.bottomAddons,d=e.topAddons,u=e.onSizeChange,c=e.heights,f=e.onSend,h=(0,ge.Z)(e,z9),p=B9(),m=p.styles;return(0,D.jsx)(_x.Z,{className:i,classNames:r,fullscreen:s,headerHeight:c==null?void 0:c.headerHeight,maxHeight:c==null?void 0:c.maxHeight,minHeight:c==null?void 0:c.minHeight,onSizeChange:u,placement:"bottom",size:{height:c==null?void 0:c.inputHeight,width:"100%"},style:(0,ae.Z)({zIndex:10},n),children:(0,D.jsxs)("section",{className:m.container,style:{minHeight:c==null?void 0:c.minHeight},children:[d,(0,D.jsx)("div",{className:m.textareaContainer,children:(0,D.jsx)(Av,(0,ae.Z)({className:m.textarea,onSend:function(){f==null||f(),o==null||o(!1)},ref:t,type:"pure"},h))}),l]})})}),F9=(0,B.memo)(L9),Sx=ee(37921),N9=ee(90474),Fu=ee(66784),U9=(0,B.memo)(function(e){var t=e.className,i=e.style,n=e.leftAddons,r=e.rightAddons,a=e.texts,s=e.onSend,o=e.loading,l=e.onStop,d=(0,K.Fg)();return(0,D.jsxs)(Me.D,{align:"end",className:t,distribution:"space-between",flex:"none",gap:8,horizontal:!0,padding:"0 24px",style:i,children:[(0,D.jsx)(Me.D,{align:"center",gap:8,horizontal:!0,children:n}),(0,D.jsxs)(Me.D,{align:"center",gap:8,horizontal:!0,children:[(0,D.jsxs)(Me.D,{gap:4,horizontal:!0,style:{color:d.colorTextDescription,fontSize:12,marginRight:12},children:[(0,D.jsx)(hi.Z,{icon:Sx.Z}),(0,D.jsx)("span",{children:(a==null?void 0:a.send)||"Send"}),(0,D.jsx)("span",{children:"/"}),(0,D.jsxs)(Me.D,{horizontal:!0,children:[(0,D.jsx)(hi.Z,{icon:N9.Z}),(0,D.jsx)(hi.Z,{icon:Sx.Z})]}),(0,D.jsx)("span",{children:(a==null?void 0:a.warp)||"Warp"})]}),r,o?(0,D.jsx)(sr.ZP,{icon:o&&(0,D.jsx)(hi.Z,{icon:Fu.Z,spin:!0}),onClick:l,children:(a==null?void 0:a.stop)||"Stop"}):(0,D.jsx)(sr.ZP,{onClick:s,type:"primary",children:(a==null?void 0:a.send)||"Send"})]})]})}),V9=U9,H9=ee(90784),G9=ee(81332),Ax,Mx,Cx,W9=(0,K.kc)(function(e){var t=e.css;return{bottom:t(Ax||(Ax=(0,re.Z)([`
      padding-block-end: env(safe-area-inset-bottom);
    `]))),container:t(Mx||(Mx=(0,re.Z)([`
      overflow: hidden;
      flex: none;
      width: 100vw;
    `]))),top:t(Cx||(Cx=(0,re.Z)([`
      padding-block-start: env(safe-area-inset-top);
    `])))}}),q9=["position","className"],Z9=(0,B.memo)(function(e){var t=e.position,i=e.className,n=(0,ge.Z)(e,q9),r=W9(),a=r.styles,s=r.cx;return(0,D.jsx)("div",(0,ae.Z)({className:s(a.container,a[t],i)},n))}),Uh=Z9,Ex,Tx,Dx,Px,Ix,Y9=(0,K.kc)(function(e){var t=e.css,i=e.token;return{container:t(Ex||(Ex=(0,re.Z)([`
      flex: none;
      padding-block: 12px 12px;
      background: `,`;
      border-block-start: 1px solid `,`;
    `])),i.colorFillQuaternary,(0,sa.m4)(i.colorBorder,.25)),expand:t(Tx||(Tx=(0,re.Z)([`
      position: absolute;
      height: 100%;
    `]))),expandButton:t(Dx||(Dx=(0,re.Z)([`
      position: absolute;
      inset-inline-start: 14px;
    `]))),expandTextArea:t(Px||(Px=(0,re.Z)([`
      flex: 1;
    `]))),inner:t(Ix||(Ix=(0,re.Z)([`
      height: inherit;
      padding-block: 0;
      padding-inline: 8px;
    `])))}}),X9=(0,B.forwardRef)(function(e,t){var i=e.className,n=e.style,r=e.topAddons,a=e.textAreaLeftAddons,s=e.textAreaRightAddons,o=e.bottomAddons,l=e.expand,d=l===void 0?!1:l,u=e.setExpand,c=e.onSend,f=e.onInput,h=e.loading,p=e.value,m=e.safeArea,g=(0,B.useRef)(null),v=Y9(),y=v.cx,b=v.styles,_=(0,H9.Z)(g),x=(0,B.useState)(!1),k=(0,St.Z)(x,2),w=k[0],S=k[1],A=(0,B.useState)(!1),M=(0,St.Z)(A,2),C=M[0],T=M[1];(0,B.useEffect)(function(){_!=null&&_.height&&S(_.height>72)},[_]);var P=(0,B.useCallback)(function(j){var H=j.children;return d?(0,D.jsxs)(Me.D,{className:b.inner,gap:8,children:[(0,D.jsxs)(Me.D,{gap:8,horizontal:!0,justify:"flex-end",children:[a,s]}),H,r,o]}):(0,D.jsxs)(Me.D,{align:"flex-end",className:b.inner,gap:8,horizontal:!0,children:[a,H,s]})},[d,h]),I=!d&&!C;return(0,D.jsxs)(Me.D,{className:y(b.container,d&&b.expand,i),gap:12,style:n,children:[r&&(0,D.jsx)(Me.D,{style:I?{}:{display:"none"},children:r}),(0,D.jsxs)(Me.D,{className:y(d&&b.expand),ref:g,style:{position:"relative"},children:[w&&(0,D.jsx)(Ut.Z,{active:!0,className:b.expandButton,icon:d?Ft.Z:G9.Z,onClick:function(){return u==null?void 0:u(!d)},size:{blockSize:24,borderRadius:"50%",fontSize:14},style:d?{top:6}:{}}),(0,D.jsx)(P,{children:(0,D.jsx)(Av,{autoSize:d?!1:{maxRows:6,minRows:0},className:y(d&&b.expandTextArea),loading:h,onBlur:function(){return T(!1)},onFocus:function(){return T(!0)},onInput:f,onSend:c,ref:t,style:{height:36,paddingBlock:6},type:d?"pure":"block",value:p})})]}),o&&(0,D.jsx)(Me.D,{style:I?{}:{display:"none"},children:o}),m&&!C&&(0,D.jsx)(Uh,{position:"bottom"})]})}),K9=X9,Q9=ee(52624),J9=(0,B.memo)(function(e){var t=e.loading,i=e.onStop,n=e.onSend,r=(0,K.Fg)(),a={blockSize:36,fontSize:16};return t?(0,D.jsx)(Ut.Z,{active:!0,icon:Fu.Z,onClick:i,size:a,spin:!0}):(0,D.jsx)(Ut.Z,{icon:Q9.Z,onClick:n,size:a,style:{background:r.colorPrimary,color:(0,sa.XV)(r.colorPrimary),flex:"none"}})}),$9=J9,Ox,jx,Rx,zx,Bx,Lx,Fx,Nx,Ux,Vx,Hx,Gx,Wx,qx,Zx,Yx,Xx,Kx,Ml=(0,K.kc)(function(e,t){var i=e.cx,n=e.css,r=e.token,a=e.isDarkMode,s=e.responsive,o=t.placement,l=t.type,d=t.title,u=t.primary,c=t.avatarSize,f=t.editing,h=t.time,p=n(Ox||(Ox=(0,re.Z)([`
      padding-block: 8px;
      padding-inline: 12px;

      background-color: `,`;
      border-radius: `,`px;

      transition: background-color 100ms `,`;
    `])),u?a?r.colorFill:r.colorBgElevated:a?r.colorFillSecondary:r.colorBgContainer,r.borderRadiusLG,r.motionEaseOut),m=n(jx||(jx=(0,re.Z)([`
      padding-block-start: `,`;
    `])),d?0:"6px"),g=n(Rx||(Rx=(0,re.Z)([`
      margin-block-end: -16px;
      transition: background-color 100ms `,`;
    `])),r.motionEaseOut),v=l==="block"?p:m,y=f&&n(zx||(zx=(0,re.Z)([`
        width: 100%;
      `])));return{actions:i(n(Bx||(Bx=(0,re.Z)([`
          flex: none;
          align-self: `,`;
          justify-content: `,`;
        `])),l==="block"?"flex-end":o==="left"?"flex-start":"flex-end",o==="left"?"flex-end":"flex-start"),f&&n(Lx||(Lx=(0,re.Z)([`
            pointer-events: none !important;
            opacity: 0 !important;
          `])))),avatarContainer:n(Fx||(Fx=(0,re.Z)([`
        position: relative;
        flex: none;
        width: `,`px;
        height: `,`px;
      `])),c,c),avatarGroupContainer:n(Nx||(Nx=(0,re.Z)([`
        width: `,`px;
      `])),c),container:i(l==="pure"&&g,n(Ux||(Ux=(0,re.Z)([`
          position: relative;
          width: 100%;
          max-width: 100vw;
          padding: 16px;

          time {
            display: inline-block;
            white-space: nowrap;
          }

          div[role='menubar'] {
            display: flex;
          }

          time,
          div[role='menubar'] {
            pointer-events: none;
            opacity: 0;
            transition: opacity 200ms `,`;
          }

          &:hover {
            time,
            div[role='menubar'] {
              pointer-events: unset;
              opacity: 1;
            }
          }

          `,` {
            padding-block: `,`;
            padding-inline: 8px;
          }
        `])),r.motionEaseOut,s.mobile,l==="pure"?"12px":"6px")),editingContainer:i(y,n(Vx||(Vx=(0,re.Z)([`
          padding-block: 8px 12px;
          padding-inline: 12px;
          border: 1px solid `,`;

          &:active,
          &:hover {
            border-color: `,`;
          }
        `])),r.colorBorderSecondary,r.colorBorder),l==="pure"&&n(Hx||(Hx=(0,re.Z)([`
            background: `,`;
            border-radius: `,`px;
          `])),r.colorFillQuaternary,r.borderRadius)),editingInput:n(Gx||(Gx=(0,re.Z)([`
        width: 100%;
      `]))),errorContainer:n(Wx||(Wx=(0,re.Z)([`
        position: relative;
        overflow: hidden;
        width: 100%;
      `]))),loading:n(qx||(qx=(0,re.Z)([`
        position: absolute;
        inset-block-end: 0;
        inset-inline: `,`
          `,`;

        width: 16px;
        height: 16px;

        color: `,`;

        background: `,`;
        border-radius: 50%;
      `])),o==="right"?"-4px":"unset",o==="left"?"-4px":"unset",r.colorBgLayout,r.colorPrimary),message:i(v,n(Zx||(Zx=(0,re.Z)([`
          position: relative;
          overflow: hidden;
          max-width: 100%;

          `,` {
            width: 100%;
          }
        `])),s.mobile)),messageContainer:i(y,n(Yx||(Yx=(0,re.Z)([`
          position: relative;
          overflow: hidden;
          max-width: 100%;
          margin-block-start: `,`px;

          `,` {
            overflow-x: auto;
          }
        `])),h?-16:0,s.mobile)),messageContent:i(y,n(Xx||(Xx=(0,re.Z)([`
          position: relative;
          overflow: hidden;
          max-width: 100%;

          `,` {
            flex-direction: column !important;
          }
        `])),s.mobile)),messageExtra:i("message-extra"),name:n(Kx||(Kx=(0,re.Z)([`
        pointer-events: none;

        margin-block-end: 6px;

        font-size: 12px;
        line-height: 1;
        color: `,`;
        text-align: `,`;
      `])),r.colorTextDescription,o==="left"?"left":"right")}}),eO=(0,B.memo)(function(e){var t=e.actions,i=e.placement,n=e.type,r=e.editing,a=Ml({editing:r,placement:i,type:n}),s=a.styles;return(0,D.jsx)(Me.D,{align:"flex-start",className:s.actions,role:"menubar",children:t})}),tO=eO,iO=(0,B.memo)(function(e){var t=e.loading,i=e.placement,n=Ml({placement:i}),r=n.styles;return t?(0,D.jsx)(Me.D,{align:"center",className:r.loading,justify:"center",children:(0,D.jsx)(hi.Z,{icon:Fu.Z,size:{fontSize:12,strokeWidth:3},spin:!0})}):null}),nO=iO,rO=(0,B.memo)(function(e){var t=e.loading,i=e.avatar,n=e.placement,r=e.unoptimized,a=e.addon,s=e.onClick,o=e.size,l=o===void 0?40:o,d=Ml({avatarSize:l}),u=d.styles,c=(0,D.jsxs)("div",{className:u.avatarContainer,children:[(0,D.jsx)(kl.Z,{animation:t,avatar:i.avatar,background:i.backgroundColor,onClick:s,size:l,title:i.title,unoptimized:r}),(0,D.jsx)(nO,{loading:t,placement:n})]});return a?(0,D.jsxs)(Me.D,{align:"center",className:u.avatarGroupContainer,gap:8,children:[c,a]}):c}),aO=rO,sO=(0,B.memo)(function(e){var t=e.borderSpacing;return t?(0,D.jsx)("div",{style:{flex:"none",width:t}}):null}),oO=sO,lO=(0,B.memo)(function(e){var t=e.message,i=e.error,n=e.placement,r=Ml({placement:n}),a=r.styles;return(0,D.jsx)(Me.D,{className:a.errorContainer,children:(0,D.jsx)(Zr,(0,ae.Z)({closable:!1,extra:t,showIcon:!0,type:"error"},i))})}),dO=lO,ns=ee(86473),Mv=ee(62090),Qx,Jx=(0,K.kc)(function(e){var t=e.css,i=e.token;return t(Qx||(Qx=(0,re.Z)([`
    position: relative;

    height: 100%;

    font-family: `,`;
    font-size: 13px;
    line-height: 1.8;
  `])),i.fontFamilyCode)}),cO=["text","type","onCancel","defaultValue","onConfirm","renderButtons","textareaStyle","textareaClassname","placeholder","height","style","editButtonSize","classNames"],uO=(0,B.memo)(function(e){var t=e.text,i=e.type,n=i===void 0?"pure":i,r=e.onCancel,a=e.defaultValue,s=e.onConfirm,o=e.renderButtons,l=e.textareaStyle,d=e.textareaClassname,u=e.placeholder,c=e.height,f=c===void 0?"auto":c,h=e.style,p=e.editButtonSize,m=p===void 0?"middle":p,g=e.classNames,v=(0,ge.Z)(e,cO),y=(0,B.useState)(a||""),b=(0,St.Z)(y,2),_=b[0],x=b[1],k=Jx(),w=k.cx,S=k.styles,A=f==="auto";return(0,D.jsxs)(Me.D,(0,ae.Z)((0,ae.Z)({gap:16,style:(0,ae.Z)({flex:1,width:"100%"},h)},v),{},{children:[(0,D.jsx)(Rd.K,{autoSize:A,className:w(S,d),classNames:g,onBlur:function(C){return x(C.target.value)},onChange:function(C){return x(C.target.value)},placeholder:u,resize:!1,style:(0,ae.Z)({height:A?"unset":f,minHeight:"100%"},l),type:n,value:_}),(0,D.jsx)(Me.D,{direction:"horizontal-reverse",gap:8,children:o?o(_).map(function(M,C){return(0,D.jsx)(sr.ZP,(0,ae.Z)({size:"small"},M),C)}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(sr.ZP,{onClick:function(){s==null||s(_)},size:m,type:"primary",children:(t==null?void 0:t.confirm)||"Confirm"}),(0,D.jsx)(sr.ZP,{onClick:r,size:m,children:(t==null?void 0:t.cancel)||"Cancel"})]})})]}))}),$x=uO,fO=ee(50392),e2=ee(36177),hO=ee(67805),t2=ee(61360),pO=ee(94066),mO=ee(20368),gO=["allowFullscreen","children","title","className","wrapClassName","width","onCancel","open","destroyOnClose","paddings","maxHeight","enableResponsive","footer","styles"],vO=["body"],i2,n2,r2,a2,yO=56,bO=68,_O=(0,K.kc)(function(e,t){var i=e.cx,n=e.css,r=e.token,a=e.prefixCls,s=t.maxHeight;return{content:i(s&&n(i2||(i2=(0,re.Z)([`
            .`,`-modal-body {
              overflow: auto;
              max-height: `,`;
            }
          `])),a,s),n(n2||(n2=(0,re.Z)([`
          .`,`-modal-footer {
            margin: 0;
            padding: 16px;
          }
          .`,`-modal-header {
            display: flex;
            gap: 4px;
            align-items: center;
            justify-content: center;

            height: 56px;
            margin-block-end: 0;
            padding: 16px;
          }
          .`,`-modal-content {
            overflow: hidden;
            padding: 0;
            border: 1px solid `,`;
            border-radius: `,`px;
          }
        `])),a,a,a,r.colorSplit,r.borderRadiusLG)),drawerContent:n(r2||(r2=(0,re.Z)([`
        .`,`-drawer-close {
          padding: 0;
        }
        .`,`-drawer-wrapper-body {
          background: linear-gradient(to bottom, `,", ",`);
        }
        .`,`-drawer-header {
          padding: 8px;
        }

        .`,`-drawer-footer {
          display: flex;
          align-items: center;
          justify-content: flex-end;

          padding: 16px;

          border: none;
        }
      `])),a,a,r.colorBgContainer,r.colorBgLayout,a,a),wrap:n(a2||(a2=(0,re.Z)([`
        overflow: hidden auto;
        backdrop-filter: blur(2px);
      `])))}}),wO=(0,B.memo)(function(e){var t,i,n=e.allowFullscreen,r=e.children,a=e.title,s=a===void 0?" ":a,o=e.className,l=e.wrapClassName,d=e.width,u=d===void 0?700:d,c=e.onCancel,f=e.open,h=e.destroyOnClose,p=e.paddings,m=e.maxHeight,g=m===void 0?"75dvh":m,v=e.enableResponsive,y=v===void 0?!0:v,b=e.footer,_=e.styles,x=_===void 0?{}:_,k=(0,ge.Z)(e,gO),w=(0,B.useState)(!1),S=(0,St.Z)(w,2),A=S[0],M=S[1],C=(0,Al.F)(),T=C.mobile,P=_O({maxHeight:g?"calc(".concat((0,t2.Z)(g)?"".concat(g,"px"):g," - ").concat(yO+(b?bO:0),"px)"):void 0}),I=P.styles,j=P.cx,H=P.theme,U=x.body,O=(0,ge.Z)(x,vO);return y&&T?(0,D.jsx)(fO.Z,(0,ae.Z)((0,ae.Z)({className:j(I.drawerContent,o),closeIcon:(0,D.jsx)(Ut.Z,{icon:Lt.Z}),destroyOnClose:h,extra:n&&(0,D.jsx)(Ut.Z,{icon:A?pO.Z:mO.Z,onClick:function(){return M(!A)}}),footer:b,height:A?"calc(100% - env(safe-area-inset-top))":g||"75vh",maskClassName:j(I.wrap,l),onClose:c,open:f,placement:"bottom",styles:(0,ae.Z)({body:(0,ae.Z)({paddingBlock:"16px ".concat(b?0:"16px"),paddingInline:(t=p==null?void 0:p.desktop)!==null&&t!==void 0?t:16},U)},O),title:s},k),{},{children:r})):(0,D.jsx)(e2.ZP,{theme:{token:{colorBgElevated:(0,sa.$n)(.005,H.colorBgContainer)}},children:(0,D.jsx)(hO.Z,(0,ae.Z)((0,ae.Z)({className:j(I.content,o),closable:!0,closeIcon:(0,D.jsx)(hi.Z,{icon:Lt.Z,size:{fontSize:20}}),destroyOnClose:h,footer:b,maskClosable:!0,onCancel:c,open:f,styles:(0,ae.Z)({body:(0,ae.Z)({paddingBlock:"0 ".concat(b===null?"16px":0),paddingInline:(i=p==null?void 0:p.desktop)!==null&&i!==void 0?i:16},U)},O),title:s,width:u,wrapClassName:j(I.wrap,l)},k),{},{children:r}))})}),s2=wO,xO=(0,B.memo)(function(e){var t=e.editing,i=e.open,n=e.height,r=n===void 0?"auto":n,a=e.onOpenChange,s=e.onEditingChange,o=e.placeholder,l=e.value,d=e.onChange,u=e.text,c=e.footer,f=e.extra,h=(0,Al.F)(),p=h.mobile,m=Jx(),g=m.styles,v=(0,ns.Z)(!1,{onChange:s,value:t}),y=(0,St.Z)(v,2),b=y[0],_=y[1],x=(0,ns.Z)(!1,{onChange:a,value:i}),k=(0,St.Z)(x,2),w=k[0],S=k[1],A=(0,B.useState)(l),M=(0,St.Z)(A,2),C=M[0],T=M[1],P=r==="auto",I={height:P?"unset":r,overflowX:"hidden",overflowY:"auto"},j=b?(0,D.jsxs)(Me.D,{direction:"horizontal-reverse",gap:8,children:[(0,D.jsx)(sr.ZP,{onClick:function(){_(!1),d==null||d(C),T(l)},type:"primary",children:(u==null?void 0:u.confirm)||"Confirm"}),(0,D.jsx)(sr.ZP,{onClick:function(){_(!1),T(l)},children:(u==null?void 0:u.cancel)||"Cancel"})]}):c;return(0,D.jsx)(s2,{allowFullscreen:!0,cancelText:(u==null?void 0:u.cancel)||"Cancel",destroyOnClose:!0,footer:j,okText:(u==null?void 0:u.edit)||"Edit",onCancel:function(){S(!1),_(!1),T(l)},onOk:function(){return _(!0)},open:w,title:u==null?void 0:u.title,children:b?(0,D.jsx)(Rd.K,{autoSize:P,className:g,onBlur:function(U){return T(U.target.value)},onChange:function(U){return T(U.target.value)},placeholder:o,resize:!1,style:{flex:p?1:void 0,height:P?"unset":r,minHeight:p?"unset":"100%"},type:p?"pure":"block",value:C}):(0,D.jsxs)(D.Fragment,{children:[f,(0,D.jsx)(Mv.Z,{style:l?I:(0,ae.Z)((0,ae.Z)({},I),{},{opacity:.5}),variant:"chat",children:String(l||o)})]})})}),o2=xO,kO=(0,B.memo)(function(e){var t=e.value,i=e.onChange,n=e.classNames,r=n===void 0?{}:n,a=e.onEditingChange,s=e.editing,o=e.openModal,l=e.onOpenChange,d=e.placeholder,u=e.showEditWhenEmpty,c=u===void 0?!1:u,f=e.styles,h=e.height,p=e.inputType,m=e.editButtonSize,g=e.text,v=e.fullFeaturedCodeBlock,y=e.model,b=e.fontSize,_=(0,ns.Z)(!1,{onChange:a,value:s}),x=(0,St.Z)(_,2),k=x[0],w=x[1],S=(0,ns.Z)(!1,{onChange:l,value:o}),A=(0,St.Z)(S,2),M=A[0],C=A[1],T=h==="auto",P=(0,D.jsx)($x,{className:r==null?void 0:r.input,classNames:{textarea:r==null?void 0:r.textarea},defaultValue:t,editButtonSize:m,height:h,onCancel:function(){return w(!1)},onConfirm:function(j){i==null||i(j),w(!1)},placeholder:d,style:f==null?void 0:f.input,text:g,textareaClassname:r==null?void 0:r.input,type:p});return!t&&c?P:(0,D.jsxs)(D.Fragment,{children:[!M&&k?P:(0,D.jsx)(Mv.Z,{className:r==null?void 0:r.markdown,fontSize:b,fullFeaturedCodeBlock:v,style:(0,ae.Z)({height:T?"unset":h},f==null?void 0:f.markdown),variant:"chat",children:t||d||""}),M&&(0,D.jsx)(o2,{editing:k,extra:y==null?void 0:y.extra,footer:y==null?void 0:y.footer,height:h,onChange:i,onEditingChange:w,onOpenChange:function(j){C(j),w(!1)},open:M,placeholder:d,text:g,value:t})]})}),l2=kO,SO=(0,B.memo)(function(e){var t=e.editing,i=e.onChange,n=e.onEditingChange,r=e.text,a=e.message,s=e.placement,o=e.messageExtra,l=e.renderMessage,d=e.type,u=e.primary,c=e.onDoubleClick,f=e.fontSize,h=Ml({editing:t,placement:s,primary:u,type:d}),p=h.cx,m=h.styles,g=(0,Al.F)(),v=g.mobile,y=(0,D.jsx)(l2,{classNames:{input:m.editingInput},editButtonSize:"small",editing:t,fontSize:f,fullFeaturedCodeBlock:!0,onChange:i,onEditingChange:n,openModal:v?t:void 0,text:r,value:a?String(a).trim():""}),b=l?l(y):y;return(0,D.jsxs)(Me.D,{className:p(m.message,t&&m.editingContainer),onDoubleClick:c,children:[b,o&&!t?(0,D.jsx)("div",{className:m.messageExtra,children:o}):null]})}),AO=SO,MO=ee(12966),Vh=ee.n(MO),CO=function(t){var i=Vh()(),n=Vh()(t);return n.isSame(i,"day")?n.format("HH:mm:ss"):n.isSame(i,"year")?n.format("MM-DD HH:mm:ss"):n.format("YYYY-MM-DD HH:mm:ss")},EO=(0,B.memo)(function(e){var t=e.showTitle,i=e.placement,n=e.time,r=e.avatar,a=Ml({placement:i,showTitle:t,time:n}),s=a.styles;return(0,D.jsxs)(Me.D,{className:s.name,direction:i==="left"?"horizontal":"horizontal-reverse",gap:4,children:[t?r.title||"untitled":void 0,n&&(0,D.jsx)("time",{children:CO(n)})]})}),TO=EO,DO=["avatarAddon","onAvatarClick","avatarProps","actions","className","primary","loading","message","placement","type","avatar","error","showTitle","time","editing","onChange","onEditingChange","messageExtra","renderMessage","text","errorMessage","onDoubleClick","fontSize"],d2=32,PO=(0,B.memo)(function(e){var t=e.avatarAddon,i=e.onAvatarClick,n=e.avatarProps,r=e.actions,a=e.className,s=e.primary,o=e.loading,l=e.message,d=e.placement,u=d===void 0?"left":d,c=e.type,f=c===void 0?"block":c,h=e.avatar,p=e.error,m=e.showTitle,g=e.time,v=e.editing,y=e.onChange,b=e.onEditingChange,_=e.messageExtra,x=e.renderMessage,k=e.text,w=e.errorMessage,S=e.onDoubleClick,A=e.fontSize,M=(0,ge.Z)(e,DO),C=(0,Al.F)(),T=C.mobile,P=Ml({editing:v,placement:u,primary:s,showTitle:m,time:g,title:h.title,type:f}),I=P.cx,j=P.styles;return(0,D.jsxs)(Me.D,(0,ae.Z)((0,ae.Z)({className:I(j.container,a),direction:u==="left"?"horizontal":"horizontal-reverse",gap:T?6:12},M),{},{children:[(0,D.jsx)(aO,(0,ae.Z)((0,ae.Z)({},n),{},{addon:t,avatar:h,loading:o,onClick:i,placement:u,size:T?d2:void 0})),(0,D.jsxs)(Me.D,{align:u==="left"?"flex-start":"flex-end",className:j.messageContainer,children:[(0,D.jsx)(TO,{avatar:h,placement:u,showTitle:m,time:g}),(0,D.jsxs)(Me.D,{align:u==="left"?"flex-start":"flex-end",className:j.messageContent,direction:f==="block"?u==="left"?"horizontal":"horizontal-reverse":"vertical",gap:8,children:[p?(0,D.jsx)(dO,{error:p,message:w,placement:u}):(0,D.jsx)(AO,{editing:v,fontSize:A,message:l,messageExtra:_,onChange:y,onDoubleClick:S,onEditingChange:b,placement:u,primary:s,renderMessage:x,text:k,type:f}),(0,D.jsx)(tO,{actions:r,editing:v,placement:u,type:f})]})]}),T&&f==="block"&&(0,D.jsx)(oO,{borderSpacing:d2})]}))}),c2=PO,u2=ee(24899),IO=ee(81125),Cv=ee(82930),OO=(0,B.memo)(function(e){var t=e.enable,i=e.text;return t?(0,D.jsx)("div",{style:{padding:"0 20px"},children:(0,D.jsx)(u2.Z,{children:(0,D.jsx)(Cv.Z,{icon:(0,D.jsx)(hi.Z,{icon:IO.Z}),children:i||"History Message"})})}):null}),jO=OO,Do=ee(37485),Hh=ee(80440),RO=ee(17614),Ev=ee(64621),zO=ee(62366),f2=ee(78006),BO=ee(64701),LO=ee(38840),h2=function(t){return{copy:{icon:zO.Z,key:"copy",label:(t==null?void 0:t.copy)||"Copy"},del:{icon:f2.Z,key:"del",label:(t==null?void 0:t.delete)||"Delete"},divider:{type:"divider"},edit:{icon:BO.Z,key:"edit",label:(t==null?void 0:t.edit)||"Edit"},regenerate:{icon:LO.Z,key:"regenerate",label:(t==null?void 0:t.regenerate)||"Regenerate"}}},FO=["text"],NO=(0,B.memo)(function(e){var t=e.text,i=(0,ge.Z)(e,FO),n=h2(t),r=n.regenerate,a=n.edit,s=n.copy,o=n.divider,l=n.del;return(0,D.jsx)(yt,(0,ae.Z)({dropdownMenu:[a,s,r,o,l],items:[r,a],type:"ghost"},i))}),p2=NO,UO=["renderMessagesExtra","showTitle","onActionsClick","onAvatarsClick","onMessageChange","type","text","renderMessages","renderErrorMessages","renderActions","loading","groupNav","renderItems"],VO=(0,B.memo)(function(e){var t,i=e.renderMessagesExtra,n=e.showTitle,r=e.onActionsClick,a=e.onAvatarsClick,s=e.onMessageChange,o=e.type,l=e.text,d=e.renderMessages,u=e.renderErrorMessages,c=e.renderActions,f=e.loading,h=e.groupNav,p=e.renderItems,m=(0,ge.Z)(e,UO),g=(0,B.useState)(!1),v=(0,St.Z)(g,2),y=v[0],b=v[1],_=RO.Z.useApp(),x=_.message,k=(0,B.useMemo)(function(){if(!(!p||!(m!=null&&m.role))){var T;if(p!=null&&p[m.role]&&(T=p[m.role]),!T&&p!==null&&p!==void 0&&p.default&&(T=p.default),!!T)return T}},[p==null?void 0:p[m.role]]),w=(0,B.useCallback)(function(T){var P=T.editableContent,I=T.data;if(!(!d||!(m!=null&&m.role))){var j;if(d!=null&&d[m.role]&&(j=d[m.role]),!j&&d!==null&&d!==void 0&&d.default&&(j=d.default),!!j)return(0,D.jsx)(j,(0,ae.Z)((0,ae.Z)({},I),{},{editableContent:P}))}},[d==null?void 0:d[m.role]]),S=(0,B.useCallback)(function(T){var P=T.data;if(!(!i||!(m!=null&&m.role))){var I;if(i!=null&&i[m.role]&&(I=i[m.role]),i!=null&&i.default&&(I=i.default),!!I)return(0,D.jsx)(I,(0,ae.Z)({},P))}},[i==null?void 0:i[m.role]]),A=(0,B.useCallback)(function(T){var P,I=T.data;if(!(!u||!(m!=null&&(P=m.error)!==null&&P!==void 0&&P.type))){var j;if(u!=null&&u[m.error.type]&&(j=u[m.error.type].Render),!j&&u!==null&&u!==void 0&&u.default&&(j=u.default.Render),!!j)return(0,D.jsx)(j,(0,ae.Z)({},I))}},[u==null?void 0:u[m==null||(t=m.error)===null||t===void 0?void 0:t.type]]),M=(0,B.useCallback)(function(T){var P=T.data;if(!(!c||!(m!=null&&m.role))){var I;c!=null&&c[m.role]&&(I=c[m.role]),c!=null&&c.default&&(I=c.default),I||(I=p2);var j=function(){var H=(0,Hh.Z)((0,Do.Z)().mark(function U(O,F){return(0,Do.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:G.t0=O.key,G.next=G.t0==="copy"?3:G.t0==="edit"?7:8;break;case 3:return G.next=5,(0,Ev.v)(F.content);case 5:return x.success((l==null?void 0:l.copySuccess)||"Copy Success"),G.abrupt("break",8);case 7:b(!0);case 8:r==null||r(O,F);case 9:case"end":return G.stop()}},U)}));return function(O,F){return H.apply(this,arguments)}}();return(0,D.jsx)(I,(0,ae.Z)((0,ae.Z)({},P),{},{onActionClick:function(U){return j==null?void 0:j(U,P)},text:l}))}},[c==null?void 0:c[m.role],l,r]),C=(0,B.useMemo)(function(){var T;if(m.error){var P=(T=m.error)===null||T===void 0?void 0:T.message,I={};if(m.error.type&&u!==null&&u!==void 0&&u[m.error.type]){var j;I=(j=u[m.error.type])===null||j===void 0?void 0:j.config}return(0,ae.Z)({message:P},I)}},[u,m.error]);return k?(0,D.jsx)(k,(0,ae.Z)({},e),m.id):(0,D.jsx)(c2,{actions:(0,D.jsx)(M,{data:m}),avatar:m.meta,avatarAddon:h,editing:y,error:C,errorMessage:(0,D.jsx)(A,{data:m}),loading:f,message:m.content,messageExtra:(0,D.jsx)(S,{data:m}),onAvatarClick:a==null?void 0:a(m.role),onChange:function(P){return s==null?void 0:s(m.id,P)},onDoubleClick:function(P){m.id==="default"||m.error||m.role&&["assistant","user"].includes(m.role)&&P.altKey&&b(!0)},onEditingChange:b,placement:o==="chat"&&m.role==="user"?"right":"left",primary:m.role==="user",renderMessage:function(P){return(0,D.jsx)(w,{data:m,editableContent:P})},showTitle:n,text:l,time:m.updateAt||m.createAt,type:o==="chat"?"block":"pure"})}),HO=VO,m2,GO=(0,K.kc)(function(e){var t=e.css;return{container:t(m2||(m2=(0,re.Z)([`
      position: relative;
    `])))}}),WO=["onActionsClick","onAvatarsClick","renderMessagesExtra","className","data","type","text","showTitle","onMessageChange","renderMessages","renderErrorMessages","loadingId","renderItems","enableHistoryCount","renderActions","historyCount"],qO=(0,B.memo)(function(e){var t=e.onActionsClick,i=e.onAvatarsClick,n=e.renderMessagesExtra,r=e.className,a=e.data,s=e.type,o=s===void 0?"chat":s,l=e.text,d=e.showTitle,u=e.onMessageChange,c=e.renderMessages,f=e.renderErrorMessages,h=e.loadingId,p=e.renderItems,m=e.enableHistoryCount,g=e.renderActions,v=e.historyCount,y=v===void 0?0:v,b=(0,ge.Z)(e,WO),_=GO(),x=_.cx,k=_.styles;return(0,D.jsx)("div",(0,ae.Z)((0,ae.Z)({className:x(k.container,r)},b),{},{children:a.map(function(w,S){var A={loading:h===w.id,onActionsClick:t,onAvatarsClick:i,onMessageChange:u,renderActions:g,renderErrorMessages:f,renderItems:p,renderMessages:c,renderMessagesExtra:n,showTitle:d,text:l,type:o},M=a.length,C=m&&M>y&&y===M-S+1;return(0,D.jsxs)(B.Fragment,{children:[(0,D.jsx)(jO,{enable:C,text:l==null?void 0:l.history}),(0,D.jsx)(HO,(0,ae.Z)((0,ae.Z)({},A),w))]},w.id)})}))}),ZO=qO,YO=ee(55640),XO=ee.n(YO),g2=ee(65502),v2,y2,b2,_2,KO=(0,K.kc)(function(e,t){var i=e.cx,n=e.css,r=e.token,a=t.type,s=t.resize,o=n(v2||(v2=(0,re.Z)([`
      padding-block: 8px;
      padding-inline: 12px;

      background-color: `,`;
      border: 1px solid `,`;
      border-radius: `,`px;

      transition:
        background-color 100ms `,`,
        border-color 200ms `,`;

      &:hover {
        background-color: `,`;
        border-color: `,`;
      }
    `])),a==="block"?r.colorFillTertiary:"transparent",a==="block"?"transparent":r.colorBorderSecondary,r.borderRadius,r.motionEaseOut,r.motionEaseOut,a==="block"?r.colorFillSecondary:r.colorFillQuaternary,r.colorBorder);return{container:i(a!=="pure"&&o,n(y2||(y2=(0,re.Z)([`
          overflow: hidden auto;
          width: 100%;
          height: fit-content;
        `])))),editor:n(b2||(b2=(0,re.Z)([`
        resize: `,`;
        height: fit-content;
        min-height: 100%;
        font-family: `,` !important;

        textarea {
          min-height: 36px !important;
        }

        pre {
          min-height: 36px !important;
          word-break: break-all;
          word-wrap: break-word;
          white-space: pre-wrap;

          &.shiki {
            margin: 0;
          }
        }
      `])),s?"vertical":"none",r.fontFamilyCode),textarea:n(_2||(_2=(0,re.Z)([`
        overflow: hidden auto;

        height: 100% !important;

        color: transparent !important;
        word-break: break-all !important;
        word-wrap: break-word !important;

        caret-color: `,`;

        -webkit-text-fill-color: unset !important;

        &::placeholder {
          color: `,`;
        }

        &:focus {
          border: none !important;
          outline: none !important;
          box-shadow: none !important;
        }
      `])),r.colorText,r.colorTextQuaternary)}}),QO=["style","language","value","onValueChange","resize","className","textareaClassName","type"],JO=(0,B.forwardRef)(function(e,t){var i=e.style,n=e.language,r=e.value,a=e.onValueChange,s=e.resize,o=s===void 0?!0:s,l=e.className,d=e.textareaClassName,u=e.type,c=u===void 0?"ghost":u,f=(0,ge.Z)(e,QO),h=KO({resize:o,type:c}),p=h.styles,m=h.cx;return(0,D.jsx)("div",{className:m(p.container,l),style:i,children:(0,D.jsx)(XO(),(0,ae.Z)({className:p.editor,highlight:function(v){return(0,D.jsx)(g2.Z,{language:n,children:v})},onValueChange:a,padding:0,ref:t,textareaClassName:m(p.textarea,d),value:r},f))})}),$O=JO,w2=ee(14896),x2=ee(18271),k2,S2,A2,M2,C2,E2,T2,D2,P2,I2,O2,j2,R2,z2,ej=(0,K.kc)(function(e,t){var i=e.css,n=e.cx,r=e.token,a=e.isDarkMode,s=e.prefixCls,o=t.isSplit,l=t.bodyPadding,d=t.headerPadding,u=i(k2||(k2=(0,re.Z)([`
      background: transparent;
      border-radius: 0;

      .`,`-collapse-header {
        padding-inline: 0 !important;
        background: transparent !important;
      }

      .`,`-collapse-content {
        background: transparent;
        border-color: `,`;
      }

      .`,`-collapse-content-box {
        padding-inline: 2px !important;
        background: transparent;
        border-radius: 0;
      }
    `])),s,s,r.colorFillSecondary,s),c=n(i(S2||(S2=(0,re.Z)([`
        background: transparent !important;
        .`,`-collapse-item {
          background: `,` !important;
        }

        .`,`-collapse-header {
          background: `,` !important;
        }
      `])),s,r.colorFillQuaternary,s,r.colorFillTertiary),o?i(A2||(A2=(0,re.Z)([`
            .`,`-collapse-item {
              overflow: hidden;
              border-radius: `,`px !important;
            }
          `])),s,r.borderRadiusLG):i(M2||(M2=(0,re.Z)([`
            border-radius: `,`px;
          `])),r.borderRadiusLG)),f=n(i(C2||(C2=(0,re.Z)([`
        background: transparent;

        .`,`-collapse-header {
          background: transparent !important;
        }

        .`,`-collapse-content-box {
          background: transparent;
        }
      `])),s,s),o?i(E2||(E2=(0,re.Z)([`
            .`,`-collapse-item {
              overflow: hidden;
              border: 1px solid `,` !important;
              border-radius: `,`px !important;
              &.`,`-collapse-item-active {
                .`,`-collapse-content-box {
                  border-block-start: 1px solid `,` !important;
                }
              }
            }
          `])),s,r.colorBorderSecondary,r.borderRadiusLG,s,s,r.colorBorderSecondary):i(T2||(T2=(0,re.Z)([`
            .`,`-collapse-item:not(:first-child) {
              .`,`-collapse-header {
                border-block-start: 1px solid `,`;
              }
            }
          `])),s,s,r.colorBorderSecondary)),h=n(i(D2||(D2=(0,re.Z)([`
        background: transparent !important;
        .`,`-collapse-item {
          background: transparent !important;
        }

        .`,`-collapse-header {
          background: `,` !important;
        }
      `])),s,s,r.colorFillTertiary),o?i(P2||(P2=(0,re.Z)([`
            background: transparent;
            .`,`-collapse-item {
              overflow: hidden;
              border: 1px solid `,` !important;
              border-radius: `,`px !important;
            }
          `])),s,r.colorBorderSecondary,r.borderRadiusLG):i(I2||(I2=(0,re.Z)([`
            border-radius: `,`px;
            .`,`-collapse-item:not(:first-child) {
              .`,`-collapse-header {
                border-block-start: 1px solid `,`;
              }
            }
          `])),r.borderRadiusLG,s,s,r.colorBorderSecondary));return{blockStyle:c,defaultStyle:h,flatGroup:i(O2||(O2=(0,re.Z)([`
        overflow: hidden;
        padding-inline: 16px;
      `]))),ghostStyle:f,group:n(a&&i(j2||(j2=(0,re.Z)([`
            .`,`-collapse-content {
              background: transparent;
              border-color: `,`;
            }

            .`,`-collapse-header {
              background: `,`;
            }
          `])),s,r.colorBorderSecondary,s,r.colorFillTertiary),i(R2||(R2=(0,re.Z)([`
          overflow: hidden;
          display: flex;
          flex: none;
          flex-direction: column;

          .`,`-collapse-item {
            border: none;
          }

          .`,`-collapse-extra {
            margin-inline-start: 16px;
          }

          .`,`-collapse-header {
            align-items: center !important;
            padding: `,` !important;
            border-radius: 0 !important;
          }

          .`,`-collapse-content-box {
            padding: `,` !important;
          }

          .`,`-form-item-label {
            display: flex;
            flex-direction: column;
            justify-content: center;
          }
        `])),s,s,s,typeof d=="string"?d:"".concat(d,"px"),s,typeof l=="string"?l:"".concat(l,"px"),s)),icon:i(z2||(z2=(0,re.Z)([`
        transition: all 100ms `,`;
      `])),r.motionEaseOut),pureStyle:u}}),tj=["style","variant","gap","className","padding"],ij=(0,B.memo)(function(e){var t=e.style,i=e.variant,n=i===void 0?"default":i,r=e.gap,a=r===void 0?0:r,s=e.className,o=e.padding,l=(0,ge.Z)(e,tj),d=(0,w2.Z)(o)==="object"?o.body:o,u=(0,w2.Z)(o)==="object"?o.header:o,c=ej({bodyPadding:d===void 0?"12px 16px":d,headerPadding:u===void 0?"12px 16px":u,isSplit:!!a}),f=c.cx,h=c.styles,p=f(n==="default"&&h.defaultStyle,n==="block"&&h.blockStyle,n==="ghost"&&h.ghostStyle,n==="pure"&&h.pureStyle);return(0,D.jsx)(x2.Z,(0,ae.Z)({bordered:!a&&(n==="default"||n==="ghost"),className:f(h.group,p,s),expandIcon:function(g){var v=g.isActive;return(0,D.jsx)(hi.Z,{className:h.icon,icon:Ft.Z,size:{fontSize:16},style:v?{}:{rotate:"-90deg"}})},style:(0,ae.Z)({gap:a},t)},l))}),nj=ij,Gh=ee(31180),B2,L2,F2,N2,U2={dark:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACPTkDJAAAAZUlEQVRIDe2VMQoAMAgDa9/g/1/oIzrpZBCh2dLFkkoDF0Fz99OdiOjks+2/7S8fRRmMMIVoRGSoYzvvqF8ZIMKlC1GhQBc6IkPzq32QmdAzkEGihpWOSPsAss8HegYySNSw0hE9WQ4StafZFqkAAAAASUVORK5CYII=) 0% 0% / 26px",light:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAAFpJREFUWAntljEKADAIA23p6v//qQ+wfUEcCu1yriEgp0FHRJSJcnehmmWm1Dv/lO4HIg1AAAKjTqm03ea88zMCCEDgO4HV5bS757f+7wRoAAIQ4B9gByAAgQ3pfiDmXmAeEwAAAABJRU5ErkJggg==) 0% 0% / 26px"},V2=(0,K.kc)(function(e){var t=e.css,i=e.token;return{scaleBox:t(B2||(B2=(0,re.Z)([`
    cursor: pointer;

    position: relative;

    width: 48px;
    height: 32px;

    background-position:
      0 0,
      0 8px,
      8px -8px,
      -8px 0;
    background-size: 16px 16px;

    transition: scale 400ms `,`;

    &:active {
      scale: 0.8;
    }
  `])),i.motionEaseOut),scaleItem:t(L2||(L2=(0,re.Z)([`
    width: 100%;
    height: 100%;
  `]))),scaleRowTitle:t(F2||(F2=(0,re.Z)([`
    width: 64px;
    height: 32px;
  `]))),text:t(N2||(N2=(0,re.Z)([`
    opacity: 0.5;
  `])))}}),rj=(0,B.memo)(function(e){var t=e.name,i=e.title,n=e.scale,r=V2(),a=r.styles,s={},o=!1;switch(i){case"lightA":{s={background:U2.light,backgroundColor:"#fff"},o=!0;break}case"darkA":{s={background:U2.dark,backgroundColor:"#000"},o=!0;break}default:break}return(0,D.jsxs)(Gh.Z,{size:2,children:[(0,D.jsx)("div",{className:a.scaleRowTitle,children:(0,D.jsx)("div",{className:a.text,children:i})},i),n.map(function(l,d){return d===0||d===12?!1:(0,D.jsx)("div",{className:a.scaleBox,onClick:(0,Hh.Z)((0,Do.Z)().mark(function u(){var c;return(0,Do.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return c="token.".concat(t).concat(d).concat(o?"A":""," /* ").concat(l," */"),h.next=3,(0,Ev.v)(c);case 3:An.ZP.success(c);case 4:case"end":return h.stop()}},u)})),style:s,title:l,children:(0,D.jsx)(Me.D,{align:"center",className:a.scaleItem,horizontal:!0,justify:"center",style:{backgroundColor:l}})},d)})]})}),Wh=rj,aj=(0,B.memo)(function(e){var t=e.name,i=e.scale,n=e.midHighLight,r=V2(),a=r.styles;return(0,D.jsx)(Me.D,{align:"center",flex:1,horizontal:!0,justify:"center",children:(0,D.jsx)("div",{style:{padding:"8px 16px 32px 0"},children:(0,D.jsxs)(Gh.Z,{direction:"vertical",size:2,children:[(0,D.jsxs)(Gh.Z,{size:2,children:[(0,D.jsx)(Me.D,{align:"center",className:a.scaleRowTitle,horizontal:!0},"scale-num"),Array.from({length:i.light.length}).fill("").map(function(s,o){if(o===0||o===12)return!1;var l=n===o;return(0,D.jsx)("div",{className:a.scaleBox,children:(0,D.jsx)("div",{className:a.scaleBox,children:(0,D.jsx)(Me.D,{align:"center",className:a.scaleItem,horizontal:!0,justify:"center",style:{fontWeight:l?700:400,opacity:.5},children:o})})},"num".concat(o))})]},"scale-title"),(0,D.jsx)(Wh,{name:t,scale:i.light,title:"light"},"light"),(0,D.jsx)(Wh,{name:t,scale:i.lightA,title:"lightA"},"lightA"),(0,D.jsx)(Wh,{name:t,scale:i.dark,title:"dark"},"dark"),(0,D.jsx)(Wh,{name:t,scale:i.darkA,title:"darkA"},"darkA")]})})})}),sj=aj,oj=(0,B.memo)(function(e){return(0,D.jsx)(rn.Z,(0,ae.Z)({trigger:["contextMenu"]},e))}),lj=oj,dj=ee(13450),H2,G2,W2,q2,qh=(0,K.kc)(function(e){var t=e.css,i=e.token;return{body:t(H2||(H2=(0,re.Z)([`
    overflow: hidden auto;
    padding: 16px;
  `]))),container:t(G2||(G2=(0,re.Z)([`
    position: relative;
    overflow: hidden;
  `]))),footer:t(W2||(W2=(0,re.Z)([`
    padding-block: 8px;
    padding-inline: 16px;
    border-block-start: 1px solid `,`;
  `])),i.colorBorderSecondary),header:t(q2||(q2=(0,re.Z)([`
    padding-block: 8px;
    padding-inline: 16px;
    font-weight: 500;
    border-block-end: 1px solid `,`;
  `])),i.colorBorderSecondary)}}),cj=["className"],uj=(0,B.memo)(function(e){var t=e.className,i=(0,ge.Z)(e,cj),n=qh(),r=n.cx,a=n.styles;return(0,D.jsx)(Me.D,(0,ae.Z)({className:r(a.body,t),flex:1},i))}),fj=uj,hj=["className"],pj=(0,B.memo)(function(e){var t=e.className,i=(0,ge.Z)(e,hj),n=qh(),r=n.cx,a=n.styles;return(0,D.jsx)(Me.D,(0,ae.Z)({className:r(a.container,t)},i))}),mj=pj,gj=["className"],vj=(0,B.memo)(function(e){var t=e.className,i=(0,ge.Z)(e,gj),n=qh(),r=n.cx,a=n.styles;return(0,D.jsx)(Me.D,(0,ae.Z)({align:"center",className:r(a.footer,t),flex:"none",gap:8,horizontal:!0,justify:"flex-start"},i))}),yj=vj,bj=ee(67208),_j=ee(7328),wj=ee(88460),xj=["pin","setPin","className","setExpand","title","position"],kj=(0,B.memo)(function(e){var t=e.pin,i=e.setPin,n=e.className,r=e.setExpand,a=e.title,s=e.position,o=s===void 0?"left":s,l=(0,ge.Z)(e,xj),d=qh(),u=d.cx,c=d.styles,f=(0,ns.Z)(!1,{onChange:i,value:t}),h=(0,St.Z)(f,2),p=h[0],m=h[1],g=(0,D.jsx)(Ut.Z,{icon:bj.Z,onClick:function(){return r==null?void 0:r(!1)},size:{blockSize:24,fontSize:14}}),v=(0,D.jsx)(Ut.Z,{active:t,icon:t?_j.Z:wj.Z,onClick:function(){return m(!p)},size:{blockSize:24,fontSize:14}});return(0,D.jsxs)(Me.D,(0,ae.Z)((0,ae.Z)({align:"center",className:u(c.header,n),flex:"none",gap:8,horizontal:!0,justify:"space-between"},l),{},{children:[o==="left"?g:v,a,o==="left"?v:g]}))}),Sj=kj,Aj=ee(86042),Mj=ee(95490),Z2=ee.n(Mj),Cj=ee(17465),Ej=ee(85779),Tj=ee(36738),Dj=["value","onChange","onValueChanging","onChangeEnd"],Y2=(0,B.forwardRef)(function(e,t){var i=e.value,n=e.onChange,r=e.onValueChanging,a=e.onChangeEnd,s=(0,ge.Z)(e,Dj),o=(0,B.useState)(i||""),l=(0,St.Z)(o,2),d=l[0],u=l[1],c=(0,B.useRef)(!1),f=(0,B.useRef)(!1),h=(0,B.useCallback)(function(){n==null||n(d)},[d]);return(0,B.useEffect)(function(){i!==void 0&&u(i)},[i]),(0,D.jsx)(Rd.I,(0,ae.Z)({autoFocus:!0,onBlur:function(){f.current=!1,a==null||a(d)},onChange:function(m){u(m.target.value),r==null||r(m.target.value)},onCompositionEnd:function(){c.current=!1},onCompositionStart:function(){c.current=!0},onFocus:function(){f.current=!0},onPressEnter:function(m){!m.shiftKey&&!c.current&&(m.preventDefault(),h(),f.current=!1,a==null||a(d))},ref:t,suffix:i===d?(0,D.jsx)("span",{}):(0,D.jsx)(e2.ZP,{theme:{token:{fontSize:14}},children:(0,D.jsxs)(Gh.Z,{size:2,children:[(0,D.jsx)(Ut.Z,{icon:Ej.Z,onClick:function(){u(i)},size:"small",title:"Reset"}),(0,D.jsx)(Ut.Z,{icon:Tj.Z,onClick:h,size:"small",title:"\u2705 Save"})]})}),value:d},s))}),X2=ee(91776),Tv=Symbol.for("immer-nothing"),Nu=Symbol.for("immer-draftable"),ni=Symbol.for("immer-state"),_he=[];function Mn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Cl=Object.getPrototypeOf;function Po(e){return!!e&&!!e[ni]}function rs(e){var t;return e?K2(e)||Array.isArray(e)||!!e[Nu]||!!((t=e.constructor)!=null&&t[Nu])||Vu(e)||Hu(e):!1}var Pj=Object.prototype.constructor.toString();function K2(e){if(!e||typeof e!="object")return!1;const t=Cl(e);if(t===null)return!0;const i=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===Pj}function whe(e){return Po(e)||Mn(15,e),e[ni].base_}function zd(e,t){El(e)===0?Reflect.ownKeys(e).forEach(i=>{t(i,e[i],e)}):e.forEach((i,n)=>t(n,i,e))}function El(e){const t=e[ni];return t?t.type_:Array.isArray(e)?1:Vu(e)?2:Hu(e)?3:0}function Uu(e,t){return El(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Dv(e,t){return El(e)===2?e.get(t):e[t]}function Q2(e,t,i){const n=El(e);n===2?e.set(t,i):n===3?e.add(i):e[t]=i}function Ij(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Vu(e){return e instanceof Map}function Hu(e){return e instanceof Set}function Cn(e){return e.copy_||e.base_}function Pv(e,t){if(Vu(e))return new Map(e);if(Hu(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const i=K2(e);if(t===!0||t==="class_only"&&!i){const n=Object.getOwnPropertyDescriptors(e);delete n[ni];let r=Reflect.ownKeys(n);for(let a=0;a<r.length;a++){const s=r[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Cl(e),n)}else{const n=Cl(e);if(n!==null&&i)return R({},e);const r=Object.create(n);return Object.assign(r,e)}}function Iv(e,t=!1){return Zh(e)||Po(e)||!rs(e)||(El(e)>1&&(e.set=e.add=e.clear=e.delete=Oj),Object.freeze(e),t&&Object.entries(e).forEach(([i,n])=>Iv(n,!0))),e}function Oj(){Mn(2)}function Zh(e){return Object.isFrozen(e)}var Ov={};function Tl(e){const t=Ov[e];return t||Mn(0,e),t}function J2(e,t){Ov[e]||(Ov[e]=t)}var Gu;function Yh(){return Gu}function jj(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $2(e,t){t&&(Tl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function jv(e){Rv(e),e.drafts_.forEach(Rj),e.drafts_=null}function Rv(e){e===Gu&&(Gu=e.parent_)}function ek(e){return Gu=jj(Gu,e)}function Rj(e){const t=e[ni];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function tk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const i=t.drafts_[0];return e!==void 0&&e!==i?(i[ni].modified_&&(jv(t),Mn(4)),rs(e)&&(e=Xh(t,e),t.parent_||Kh(t,e)),t.patches_&&Tl("Patches").generateReplacementPatches_(i[ni].base_,e,t.patches_,t.inversePatches_)):e=Xh(t,i,[]),jv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Tv?e:void 0}function Xh(e,t,i){if(Zh(t))return t;const n=t[ni];if(!n)return zd(t,(r,a)=>ik(e,n,t,r,a,i)),t;if(n.scope_!==e)return t;if(!n.modified_)return Kh(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const r=n.copy_;let a=r,s=!1;n.type_===3&&(a=new Set(r),r.clear(),s=!0),zd(a,(o,l)=>ik(e,n,r,o,l,i,s)),Kh(e,r,!1),i&&e.patches_&&Tl("Patches").generatePatches_(n,i,e.patches_,e.inversePatches_)}return n.copy_}function ik(e,t,i,n,r,a,s){if(Po(r)){const o=a&&t&&t.type_!==3&&!Uu(t.assigned_,n)?a.concat(n):void 0,l=Xh(e,r,o);if(Q2(i,n,l),Po(l))e.canAutoFreeze_=!1;else return}else s&&i.add(r);if(rs(r)&&!Zh(r)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Xh(e,r),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(i,n)&&Kh(e,r)}}function Kh(e,t,i=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Iv(t,i)}function zj(e,t){const i=Array.isArray(e),n={type_:i?1:0,scope_:t?t.scope_:Yh(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=n,a=zv;i&&(r=[n],a=Wu);const{revoke:s,proxy:o}=Proxy.revocable(r,a);return n.draft_=o,n.revoke_=s,o}var zv={get(e,t){if(t===ni)return e;const i=Cn(e);if(!Uu(i,t))return Bj(e,i,t);const n=i[t];return e.finalized_||!rs(n)?n:n===Bv(e.base_,t)?(Lv(e),e.copy_[t]=qu(n,e)):n},has(e,t){return t in Cn(e)},ownKeys(e){return Reflect.ownKeys(Cn(e))},set(e,t,i){const n=nk(Cn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,i),!0;if(!e.modified_){const r=Bv(Cn(e),t),a=r==null?void 0:r[ni];if(a&&a.base_===i)return e.copy_[t]=i,e.assigned_[t]=!1,!0;if(Ij(i,r)&&(i!==void 0||Uu(e.base_,t)))return!0;Lv(e),Ns(e)}return e.copy_[t]===i&&(i!==void 0||t in e.copy_)||Number.isNaN(i)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=i,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Bv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Lv(e),Ns(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const i=Cn(e),n=Reflect.getOwnPropertyDescriptor(i,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:i[t]}},defineProperty(){Mn(11)},getPrototypeOf(e){return Cl(e.base_)},setPrototypeOf(){Mn(12)}},Wu={};zd(zv,(e,t)=>{Wu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Wu.deleteProperty=function(e,t){return Wu.set.call(this,e,t,void 0)},Wu.set=function(e,t,i){return zv.set.call(this,e[0],t,i,e[0])};function Bv(e,t){const i=e[ni];return(i?Cn(i):e)[t]}function Bj(e,t,i){var r;const n=nk(t,i);return n?"value"in n?n.value:(r=n.get)==null?void 0:r.call(e.draft_):void 0}function nk(e,t){if(!(t in e))return;let i=Cl(e);for(;i;){const n=Object.getOwnPropertyDescriptor(i,t);if(n)return n;i=Cl(i)}}function Ns(e){e.modified_||(e.modified_=!0,e.parent_&&Ns(e.parent_))}function Lv(e){e.copy_||(e.copy_=Pv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Lj=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,i,n)=>{if(typeof t=="function"&&typeof i!="function"){const a=i;i=t;const s=this;return function(l=a,...d){return s.produce(l,u=>i.call(this,u,...d))}}typeof i!="function"&&Mn(6),n!==void 0&&typeof n!="function"&&Mn(7);let r;if(rs(t)){const a=ek(this),s=qu(t,void 0);let o=!0;try{r=i(s),o=!1}finally{o?jv(a):Rv(a)}return $2(a,n),tk(r,a)}else if(!t||typeof t!="object"){if(r=i(t),r===void 0&&(r=t),r===Tv&&(r=void 0),this.autoFreeze_&&Iv(r,!0),n){const a=[],s=[];Tl("Patches").generateReplacementPatches_(t,r,a,s),n(a,s)}return r}else Mn(1,t)},this.produceWithPatches=(t,i)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,r;return[this.produce(t,i,(s,o)=>{n=s,r=o}),n,r]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){rs(e)||Mn(8),Po(e)&&(e=Fj(e));const t=ek(this),i=qu(e,void 0);return i[ni].isManual_=!0,Rv(t),i}finishDraft(e,t){const i=e&&e[ni];(!i||!i.isManual_)&&Mn(9);const{scope_:n}=i;return $2(n,t),tk(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let i;for(i=t.length-1;i>=0;i--){const r=t[i];if(r.path.length===0&&r.op==="replace"){e=r.value;break}}i>-1&&(t=t.slice(i+1));const n=Tl("Patches").applyPatches_;return Po(e)?n(e,t):this.produce(e,r=>n(r,t))}};function qu(e,t){const i=Vu(e)?Tl("MapSet").proxyMap_(e,t):Hu(e)?Tl("MapSet").proxySet_(e,t):zj(e,t);return(t?t.scope_:Yh()).drafts_.push(i),i}function Fj(e){return Po(e)||Mn(10,e),rk(e)}function rk(e){if(!rs(e)||Zh(e))return e;const t=e[ni];let i;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,i=Pv(e,t.scope_.immer_.useStrictShallowCopy_)}else i=Pv(e,!0);return zd(i,(n,r)=>{Q2(i,n,rk(r))}),t&&(t.finalized_=!1),i}function xhe(){const t="replace",i="add",n="remove";function r(f,h,p,m){switch(f.type_){case 0:case 2:return s(f,h,p,m);case 1:return a(f,h,p,m);case 3:return o(f,h,p,m)}}function a(f,h,p,m){let{base_:g,assigned_:v}=f,y=f.copy_;y.length<g.length&&([g,y]=[y,g],[p,m]=[m,p]);for(let b=0;b<g.length;b++)if(v[b]&&y[b]!==g[b]){const _=h.concat([b]);p.push({op:t,path:_,value:c(y[b])}),m.push({op:t,path:_,value:c(g[b])})}for(let b=g.length;b<y.length;b++){const _=h.concat([b]);p.push({op:i,path:_,value:c(y[b])})}for(let b=y.length-1;g.length<=b;--b){const _=h.concat([b]);m.push({op:n,path:_})}}function s(f,h,p,m){const{base_:g,copy_:v}=f;zd(f.assigned_,(y,b)=>{const _=Dv(g,y),x=Dv(v,y),k=b?Uu(g,y)?t:i:n;if(_===x&&k===t)return;const w=h.concat(y);p.push(k===n?{op:k,path:w}:{op:k,path:w,value:x}),m.push(k===i?{op:n,path:w}:k===n?{op:i,path:w,value:c(_)}:{op:t,path:w,value:c(_)})})}function o(f,h,p,m){let{base_:g,copy_:v}=f,y=0;g.forEach(b=>{if(!v.has(b)){const _=h.concat([y]);p.push({op:n,path:_,value:b}),m.unshift({op:i,path:_,value:b})}y++}),y=0,v.forEach(b=>{if(!g.has(b)){const _=h.concat([y]);p.push({op:i,path:_,value:b}),m.unshift({op:n,path:_,value:b})}y++})}function l(f,h,p,m){p.push({op:t,path:[],value:h===Tv?void 0:h}),m.push({op:t,path:[],value:f})}function d(f,h){return h.forEach(p=>{const{path:m,op:g}=p;let v=f;for(let x=0;x<m.length-1;x++){const k=El(v);let w=m[x];typeof w!="string"&&typeof w!="number"&&(w=""+w),(k===0||k===1)&&(w==="__proto__"||w==="constructor")&&Mn(19),typeof v=="function"&&w==="prototype"&&Mn(19),v=Dv(v,w),typeof v!="object"&&Mn(18,m.join("/"))}const y=El(v),b=u(p.value),_=m[m.length-1];switch(g){case t:switch(y){case 2:return v.set(_,b);case 3:Mn(16);default:return v[_]=b}case i:switch(y){case 1:return _==="-"?v.push(b):v.splice(_,0,b);case 2:return v.set(_,b);case 3:return v.add(b);default:return v[_]=b}case n:switch(y){case 1:return v.splice(_,1);case 2:return v.delete(_);case 3:return v.delete(p.value);default:return delete v[_]}default:Mn(17,g)}}),f}function u(f){if(!rs(f))return f;if(Array.isArray(f))return f.map(u);if(Vu(f))return new Map(Array.from(f.entries()).map(([p,m])=>[p,u(m)]));if(Hu(f))return new Set(Array.from(f).map(u));const h=Object.create(Cl(f));for(const p in f)h[p]=u(f[p]);return Uu(f,Nu)&&(h[Nu]=f[Nu]),h}function c(f){return Po(f)?u(f):f}J2("Patches",{applyPatches_:d,generatePatches_:r,generateReplacementPatches_:l})}function khe(){class e extends Map{constructor(l,d){super(),this[ni]={type_:2,parent_:d,scope_:d?d.scope_:Yh(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:l,draft_:this,isManual_:!1,revoked_:!1}}get size(){return Cn(this[ni]).size}has(l){return Cn(this[ni]).has(l)}set(l,d){const u=this[ni];return s(u),(!Cn(u).has(l)||Cn(u).get(l)!==d)&&(i(u),Ns(u),u.assigned_.set(l,!0),u.copy_.set(l,d),u.assigned_.set(l,!0)),this}delete(l){if(!this.has(l))return!1;const d=this[ni];return s(d),i(d),Ns(d),d.base_.has(l)?d.assigned_.set(l,!1):d.assigned_.delete(l),d.copy_.delete(l),!0}clear(){const l=this[ni];s(l),Cn(l).size&&(i(l),Ns(l),l.assigned_=new Map,zd(l.base_,d=>{l.assigned_.set(d,!1)}),l.copy_.clear())}forEach(l,d){const u=this[ni];Cn(u).forEach((c,f,h)=>{l.call(d,this.get(f),f,this)})}get(l){const d=this[ni];s(d);const u=Cn(d).get(l);if(d.finalized_||!rs(u)||u!==d.base_.get(l))return u;const c=qu(u,d);return i(d),d.copy_.set(l,c),c}keys(){return Cn(this[ni]).keys()}values(){const l=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const d=l.next();return d.done?d:{done:!1,value:this.get(d.value)}}}}entries(){const l=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const d=l.next();if(d.done)return d;const u=this.get(d.value);return{done:!1,value:[d.value,u]}}}}[Symbol.iterator](){return this.entries()}}function t(o,l){return new e(o,l)}function i(o){o.copy_||(o.assigned_=new Map,o.copy_=new Map(o.base_))}class n extends Set{constructor(l,d){super(),this[ni]={type_:3,parent_:d,scope_:d?d.scope_:Yh(),modified_:!1,finalized_:!1,copy_:void 0,base_:l,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return Cn(this[ni]).size}has(l){const d=this[ni];return s(d),d.copy_?!!(d.copy_.has(l)||d.drafts_.has(l)&&d.copy_.has(d.drafts_.get(l))):d.base_.has(l)}add(l){const d=this[ni];return s(d),this.has(l)||(a(d),Ns(d),d.copy_.add(l)),this}delete(l){if(!this.has(l))return!1;const d=this[ni];return s(d),a(d),Ns(d),d.copy_.delete(l)||(d.drafts_.has(l)?d.copy_.delete(d.drafts_.get(l)):!1)}clear(){const l=this[ni];s(l),Cn(l).size&&(a(l),Ns(l),l.copy_.clear())}values(){const l=this[ni];return s(l),a(l),l.copy_.values()}entries(){const l=this[ni];return s(l),a(l),l.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(l,d){const u=this.values();let c=u.next();for(;!c.done;)l.call(d,c.value,c.value,this),c=u.next()}}function r(o,l){return new n(o,l)}function a(o){o.copy_||(o.copy_=new Set,o.base_.forEach(l=>{if(rs(l)){const d=qu(l,o);o.drafts_.set(l,d),o.copy_.add(d)}else o.copy_.add(l)}))}function s(o){o.revoked_&&Mn(3,JSON.stringify(Cn(o)))}J2("MapSet",{proxyMap_:t,proxySet_:r})}var Yr=new Lj,Bd=Yr.produce,She=Yr.produceWithPatches.bind(Yr),Ahe=Yr.setAutoFreeze.bind(Yr),Mhe=Yr.setUseStrictShallowCopy.bind(Yr),Che=Yr.applyPatches.bind(Yr),Ehe=Yr.createDraft.bind(Yr),The=Yr.finishDraft.bind(Yr);function Dhe(e){return e}function Phe(e){return e}var Nj=function(t,i){switch(i.type){case"addMessage":return[].concat((0,X2.Z)(t),[i.message]);case"insertMessage":return Bd(t,function(n){n.splice(i.index,0,i.message)});case"deleteMessage":return t.filter(function(n,r){return r!==i.index});case"resetMessages":return[];case"updateMessage":return Bd(t,function(n){var r=i.index,a=i.message;n[r].content=a});case"updateMessageRole":return Bd(t,function(n){var r=i.index,a=i.role;n[r].role=a});case"addUserMessage":return Bd(t,function(n){n.push({content:i.message,role:"user"})});case"updateLatestBotMessage":return Bd(t,function(){var n=i.responseStream,r={content:n.join(""),role:"assistant"};return[].concat((0,X2.Z)(t.slice(0,-1)),[r])});case"setErrorMessage":return Bd(t,function(n){var r=i.index,a=i.error;n[r].error=a});default:throw new Error("\u6682\u672A\u5B9E\u73B0\u7684 type\uFF0C\u8BF7\u68C0\u67E5 reducer")}},Uj=(0,B.memo)(function(e){var t=e.disabled,i=e.dataSources,n=e.onChange,r=(0,B.useReducer)(Nj,i),a=(0,St.Z)(r,2),s=a[0],o=a[1];return(0,B.useEffect)(function(){Z2()(i,s)||n==null||n(s)},[s]),i?(0,D.jsxs)(Me.D,{gap:12,children:[s.map(function(l,d){return(0,D.jsxs)(Me.D,{align:"center",gap:8,horizontal:!0,width:"100%",children:[(0,D.jsx)(Aj.default,{disabled:t,dropdownStyle:{zIndex:100},onChange:function(c){o({index:d,role:c,type:"updateMessageRole"})},options:[{label:"System",value:"system"},{label:"Input",value:"user"},{label:"Output",value:"assistant"}],style:{width:120},value:l.role}),(0,D.jsx)(Y2,{disabled:t,onChange:function(c){o({index:d,message:c,type:"updateMessage"})},placeholder:l.role==="user"?"\u8BF7\u586B\u5165\u8F93\u5165\u7684\u6837\u4F8B\u5185\u5BB9":"\u8BF7\u586B\u5165\u8F93\u51FA\u7684\u6837\u4F8B",value:l.content}),(0,D.jsx)(Ut.Z,{icon:f2.Z,onClick:function(){o({index:d,type:"deleteMessage"})},placement:"right",size:{fontSize:16},title:"Delete"})]},"".concat(d,"-").concat(l.content))}),(0,D.jsx)(sr.ZP,{block:!0,disabled:t,icon:(0,D.jsx)(hi.Z,{icon:Cj.Z}),onClick:function(){var d=s.at(-1);o({message:{content:"",role:(d==null?void 0:d.role)==="user"?"assistant":"user"},type:"addMessage"})},children:"Add Props"})]}):void 0},Z2()),Vj=Uj,Hj=ee(92496),Gj=["value","showEditIcon","onChange","editing","onEditingChange"],Wj=(0,B.memo)(function(e){var t=e.value,i=e.showEditIcon,n=i===void 0?!0:i,r=e.onChange,a=e.editing,s=e.onEditingChange,o=(0,ge.Z)(e,Gj),l=(0,ns.Z)(!1,{onChange:s,value:a}),d=(0,St.Z)(l,2),u=d[0],c=d[1];return u?(0,D.jsx)(Y2,(0,ae.Z)({onChange:r,onChangeEnd:function(){c(!1)},value:t},o)):(0,D.jsxs)(Me.D,{gap:8,horizontal:!0,children:[t,n&&(0,D.jsx)(Ut.Z,{icon:Hj.Z,onClick:function(){c(!u)},placement:"right",size:"small",title:"Edit"})]})}),qj=Wj,Zj=JSON.parse(`{"categories":[{"id":"people","emojis":["grinning","smiley","smile","grin","laughing","sweat_smile","rolling_on_the_floor_laughing","joy","slightly_smiling_face","upside_down_face","melting_face","wink","blush","innocent","smiling_face_with_3_hearts","heart_eyes","star-struck","kissing_heart","kissing","relaxed","kissing_closed_eyes","kissing_smiling_eyes","smiling_face_with_tear","yum","stuck_out_tongue","stuck_out_tongue_winking_eye","zany_face","stuck_out_tongue_closed_eyes","money_mouth_face","hugging_face","face_with_hand_over_mouth","face_with_open_eyes_and_hand_over_mouth","face_with_peeking_eye","shushing_face","thinking_face","saluting_face","zipper_mouth_face","face_with_raised_eyebrow","neutral_face","expressionless","no_mouth","dotted_line_face","face_in_clouds","smirk","unamused","face_with_rolling_eyes","grimacing","face_exhaling","lying_face","shaking_face","relieved","pensive","sleepy","drooling_face","sleeping","mask","face_with_thermometer","face_with_head_bandage","nauseated_face","face_vomiting","sneezing_face","hot_face","cold_face","woozy_face","dizzy_face","face_with_spiral_eyes","exploding_head","face_with_cowboy_hat","partying_face","disguised_face","sunglasses","nerd_face","face_with_monocle","confused","face_with_diagonal_mouth","worried","slightly_frowning_face","white_frowning_face","open_mouth","hushed","astonished","flushed","pleading_face","face_holding_back_tears","frowning","anguished","fearful","cold_sweat","disappointed_relieved","cry","sob","scream","confounded","persevere","disappointed","sweat","weary","tired_face","yawning_face","triumph","rage","angry","face_with_symbols_on_mouth","smiling_imp","imp","skull","skull_and_crossbones","hankey","clown_face","japanese_ogre","japanese_goblin","ghost","alien","space_invader","wave","raised_back_of_hand","raised_hand_with_fingers_splayed","hand","spock-hand","rightwards_hand","leftwards_hand","palm_down_hand","palm_up_hand","leftwards_pushing_hand","rightwards_pushing_hand","ok_hand","pinched_fingers","pinching_hand","v","crossed_fingers","hand_with_index_finger_and_thumb_crossed","i_love_you_hand_sign","the_horns","call_me_hand","point_left","point_right","point_up_2","middle_finger","point_down","point_up","index_pointing_at_the_viewer","+1","-1","fist","facepunch","left-facing_fist","right-facing_fist","clap","raised_hands","heart_hands","open_hands","palms_up_together","handshake","pray","writing_hand","nail_care","selfie","muscle","mechanical_arm","mechanical_leg","leg","foot","ear","ear_with_hearing_aid","nose","brain","anatomical_heart","lungs","tooth","bone","eyes","eye","tongue","lips","biting_lip","baby","child","boy","girl","adult","person_with_blond_hair","man","bearded_person","man_with_beard","woman_with_beard","red_haired_man","curly_haired_man","white_haired_man","bald_man","woman","red_haired_woman","red_haired_person","curly_haired_woman","curly_haired_person","white_haired_woman","white_haired_person","bald_woman","bald_person","blond-haired-woman","blond-haired-man","older_adult","older_man","older_woman","person_frowning","man-frowning","woman-frowning","person_with_pouting_face","man-pouting","woman-pouting","no_good","man-gesturing-no","woman-gesturing-no","ok_woman","man-gesturing-ok","woman-gesturing-ok","information_desk_person","man-tipping-hand","woman-tipping-hand","raising_hand","man-raising-hand","woman-raising-hand","deaf_person","deaf_man","deaf_woman","bow","man-bowing","woman-bowing","face_palm","man-facepalming","woman-facepalming","shrug","man-shrugging","woman-shrugging","health_worker","male-doctor","female-doctor","student","male-student","female-student","teacher","male-teacher","female-teacher","judge","male-judge","female-judge","farmer","male-farmer","female-farmer","cook","male-cook","female-cook","mechanic","male-mechanic","female-mechanic","factory_worker","male-factory-worker","female-factory-worker","office_worker","male-office-worker","female-office-worker","scientist","male-scientist","female-scientist","technologist","male-technologist","female-technologist","singer","male-singer","female-singer","artist","male-artist","female-artist","pilot","male-pilot","female-pilot","astronaut","male-astronaut","female-astronaut","firefighter","male-firefighter","female-firefighter","cop","male-police-officer","female-police-officer","sleuth_or_spy","male-detective","female-detective","guardsman","male-guard","female-guard","ninja","construction_worker","male-construction-worker","female-construction-worker","person_with_crown","prince","princess","man_with_turban","man-wearing-turban","woman-wearing-turban","man_with_gua_pi_mao","person_with_headscarf","person_in_tuxedo","man_in_tuxedo","woman_in_tuxedo","bride_with_veil","man_with_veil","woman_with_veil","pregnant_woman","pregnant_man","pregnant_person","breast-feeding","woman_feeding_baby","man_feeding_baby","person_feeding_baby","angel","santa","mrs_claus","mx_claus","superhero","male_superhero","female_superhero","supervillain","male_supervillain","female_supervillain","mage","male_mage","female_mage","fairy","male_fairy","female_fairy","vampire","male_vampire","female_vampire","merperson","merman","mermaid","elf","male_elf","female_elf","genie","male_genie","female_genie","zombie","male_zombie","female_zombie","troll","massage","man-getting-massage","woman-getting-massage","haircut","man-getting-haircut","woman-getting-haircut","walking","man-walking","woman-walking","standing_person","man_standing","woman_standing","kneeling_person","man_kneeling","woman_kneeling","person_with_probing_cane","man_with_probing_cane","woman_with_probing_cane","person_in_motorized_wheelchair","man_in_motorized_wheelchair","woman_in_motorized_wheelchair","person_in_manual_wheelchair","man_in_manual_wheelchair","woman_in_manual_wheelchair","runner","man-running","woman-running","dancer","man_dancing","man_in_business_suit_levitating","dancers","men-with-bunny-ears-partying","women-with-bunny-ears-partying","person_in_steamy_room","man_in_steamy_room","woman_in_steamy_room","person_climbing","man_climbing","woman_climbing","fencer","horse_racing","skier","snowboarder","golfer","man-golfing","woman-golfing","surfer","man-surfing","woman-surfing","rowboat","man-rowing-boat","woman-rowing-boat","swimmer","man-swimming","woman-swimming","person_with_ball","man-bouncing-ball","woman-bouncing-ball","weight_lifter","man-lifting-weights","woman-lifting-weights","bicyclist","man-biking","woman-biking","mountain_bicyclist","man-mountain-biking","woman-mountain-biking","person_doing_cartwheel","man-cartwheeling","woman-cartwheeling","wrestlers","man-wrestling","woman-wrestling","water_polo","man-playing-water-polo","woman-playing-water-polo","handball","man-playing-handball","woman-playing-handball","juggling","man-juggling","woman-juggling","person_in_lotus_position","man_in_lotus_position","woman_in_lotus_position","bath","sleeping_accommodation","people_holding_hands","two_women_holding_hands","man_and_woman_holding_hands","two_men_holding_hands","couplekiss","woman-kiss-man","man-kiss-man","woman-kiss-woman","couple_with_heart","woman-heart-man","man-heart-man","woman-heart-woman","family","man-woman-boy","man-woman-girl","man-woman-girl-boy","man-woman-boy-boy","man-woman-girl-girl","man-man-boy","man-man-girl","man-man-girl-boy","man-man-boy-boy","man-man-girl-girl","woman-woman-boy","woman-woman-girl","woman-woman-girl-boy","woman-woman-boy-boy","woman-woman-girl-girl","man-boy","man-boy-boy","man-girl","man-girl-boy","man-girl-girl","woman-boy","woman-boy-boy","woman-girl","woman-girl-boy","woman-girl-girl","speaking_head_in_silhouette","bust_in_silhouette","busts_in_silhouette","people_hugging","footprints","robot_face","smiley_cat","smile_cat","joy_cat","heart_eyes_cat","smirk_cat","kissing_cat","scream_cat","crying_cat_face","pouting_cat","see_no_evil","hear_no_evil","speak_no_evil","love_letter","cupid","gift_heart","sparkling_heart","heartpulse","heartbeat","revolving_hearts","two_hearts","heart_decoration","heavy_heart_exclamation_mark_ornament","broken_heart","heart_on_fire","mending_heart","heart","pink_heart","orange_heart","yellow_heart","green_heart","blue_heart","light_blue_heart","purple_heart","brown_heart","black_heart","grey_heart","white_heart","kiss","100","anger","boom","dizzy","sweat_drops","dash","hole","speech_balloon","eye-in-speech-bubble","left_speech_bubble","right_anger_bubble","thought_balloon","zzz"]},{"id":"nature","emojis":["monkey_face","monkey","gorilla","orangutan","dog","dog2","guide_dog","service_dog","poodle","wolf","fox_face","raccoon","cat","cat2","black_cat","lion_face","tiger","tiger2","leopard","horse","moose","donkey","racehorse","unicorn_face","zebra_face","deer","bison","cow","ox","water_buffalo","cow2","pig","pig2","boar","pig_nose","ram","sheep","goat","dromedary_camel","camel","llama","giraffe_face","elephant","mammoth","rhinoceros","hippopotamus","mouse","mouse2","rat","hamster","rabbit","rabbit2","chipmunk","beaver","hedgehog","bat","bear","polar_bear","koala","panda_face","sloth","otter","skunk","kangaroo","badger","feet","turkey","chicken","rooster","hatching_chick","baby_chick","hatched_chick","bird","penguin","dove_of_peace","eagle","duck","swan","owl","dodo","feather","flamingo","peacock","parrot","wing","black_bird","goose","frog","crocodile","turtle","lizard","snake","dragon_face","dragon","sauropod","t-rex","whale","whale2","dolphin","seal","fish","tropical_fish","blowfish","shark","octopus","shell","coral","jellyfish","snail","butterfly","bug","ant","bee","beetle","ladybug","cricket","cockroach","spider","spider_web","scorpion","mosquito","fly","worm","microbe","bouquet","cherry_blossom","white_flower","lotus","rosette","rose","wilted_flower","hibiscus","sunflower","blossom","tulip","hyacinth","seedling","potted_plant","evergreen_tree","deciduous_tree","palm_tree","cactus","ear_of_rice","herb","shamrock","four_leaf_clover","maple_leaf","fallen_leaf","leaves","empty_nest","nest_with_eggs","mushroom"]},{"id":"foods","emojis":["grapes","melon","watermelon","tangerine","lemon","banana","pineapple","mango","apple","green_apple","pear","peach","cherries","strawberry","blueberries","kiwifruit","tomato","olive","coconut","avocado","eggplant","potato","carrot","corn","hot_pepper","bell_pepper","cucumber","leafy_green","broccoli","garlic","onion","peanuts","beans","chestnut","ginger_root","pea_pod","bread","croissant","baguette_bread","flatbread","pretzel","bagel","pancakes","waffle","cheese_wedge","meat_on_bone","poultry_leg","cut_of_meat","bacon","hamburger","fries","pizza","hotdog","sandwich","taco","burrito","tamale","stuffed_flatbread","falafel","egg","fried_egg","shallow_pan_of_food","stew","fondue","bowl_with_spoon","green_salad","popcorn","butter","salt","canned_food","bento","rice_cracker","rice_ball","rice","curry","ramen","spaghetti","sweet_potato","oden","sushi","fried_shrimp","fish_cake","moon_cake","dango","dumpling","fortune_cookie","takeout_box","crab","lobster","shrimp","squid","oyster","icecream","shaved_ice","ice_cream","doughnut","cookie","birthday","cake","cupcake","pie","chocolate_bar","candy","lollipop","custard","honey_pot","baby_bottle","glass_of_milk","coffee","teapot","tea","sake","champagne","wine_glass","cocktail","tropical_drink","beer","beers","clinking_glasses","tumbler_glass","pouring_liquid","cup_with_straw","bubble_tea","beverage_box","mate_drink","ice_cube","chopsticks","knife_fork_plate","fork_and_knife","spoon","hocho","jar","amphora"]},{"id":"activity","emojis":["jack_o_lantern","christmas_tree","fireworks","sparkler","firecracker","sparkles","balloon","tada","confetti_ball","tanabata_tree","bamboo","dolls","flags","wind_chime","rice_scene","red_envelope","ribbon","gift","reminder_ribbon","admission_tickets","ticket","medal","trophy","sports_medal","first_place_medal","second_place_medal","third_place_medal","soccer","baseball","softball","basketball","volleyball","football","rugby_football","tennis","flying_disc","bowling","cricket_bat_and_ball","field_hockey_stick_and_ball","ice_hockey_stick_and_puck","lacrosse","table_tennis_paddle_and_ball","badminton_racquet_and_shuttlecock","boxing_glove","martial_arts_uniform","goal_net","golf","ice_skate","fishing_pole_and_fish","diving_mask","running_shirt_with_sash","ski","sled","curling_stone","dart","yo-yo","kite","gun","8ball","crystal_ball","magic_wand","video_game","joystick","slot_machine","game_die","jigsaw","teddy_bear","pinata","mirror_ball","nesting_dolls","spades","hearts","diamonds","clubs","chess_pawn","black_joker","mahjong","flower_playing_cards","performing_arts","frame_with_picture","art","thread","sewing_needle","yarn","knot"]},{"id":"places","emojis":["earth_africa","earth_americas","earth_asia","globe_with_meridians","world_map","japan","compass","snow_capped_mountain","mountain","volcano","mount_fuji","camping","beach_with_umbrella","desert","desert_island","national_park","stadium","classical_building","building_construction","bricks","rock","wood","hut","house_buildings","derelict_house_building","house","house_with_garden","office","post_office","european_post_office","hospital","bank","hotel","love_hotel","convenience_store","school","department_store","factory","japanese_castle","european_castle","wedding","tokyo_tower","statue_of_liberty","church","mosque","hindu_temple","synagogue","shinto_shrine","kaaba","fountain","tent","foggy","night_with_stars","cityscape","sunrise_over_mountains","sunrise","city_sunset","city_sunrise","bridge_at_night","hotsprings","carousel_horse","playground_slide","ferris_wheel","roller_coaster","barber","circus_tent","steam_locomotive","railway_car","bullettrain_side","bullettrain_front","train2","metro","light_rail","station","tram","monorail","mountain_railway","train","bus","oncoming_bus","trolleybus","minibus","ambulance","fire_engine","police_car","oncoming_police_car","taxi","oncoming_taxi","car","oncoming_automobile","blue_car","pickup_truck","truck","articulated_lorry","tractor","racing_car","racing_motorcycle","motor_scooter","manual_wheelchair","motorized_wheelchair","auto_rickshaw","bike","scooter","skateboard","roller_skate","busstop","motorway","railway_track","oil_drum","fuelpump","wheel","rotating_light","traffic_light","vertical_traffic_light","octagonal_sign","construction","anchor","ring_buoy","boat","canoe","speedboat","passenger_ship","ferry","motor_boat","ship","airplane","small_airplane","airplane_departure","airplane_arriving","parachute","seat","helicopter","suspension_railway","mountain_cableway","aerial_tramway","satellite","rocket","flying_saucer","bellhop_bell","luggage","hourglass","hourglass_flowing_sand","watch","alarm_clock","stopwatch","timer_clock","mantelpiece_clock","clock12","clock1230","clock1","clock130","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","clock10","clock1030","clock11","clock1130","new_moon","waxing_crescent_moon","first_quarter_moon","moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","crescent_moon","new_moon_with_face","first_quarter_moon_with_face","last_quarter_moon_with_face","thermometer","sunny","full_moon_with_face","sun_with_face","ringed_planet","star","star2","stars","milky_way","cloud","partly_sunny","thunder_cloud_and_rain","mostly_sunny","barely_sunny","partly_sunny_rain","rain_cloud","snow_cloud","lightning","tornado","fog","wind_blowing_face","cyclone","rainbow","closed_umbrella","umbrella","umbrella_with_rain_drops","umbrella_on_ground","zap","snowflake","snowman","snowman_without_snow","comet","fire","droplet","ocean"]},{"id":"objects","emojis":["eyeglasses","dark_sunglasses","goggles","lab_coat","safety_vest","necktie","shirt","jeans","scarf","gloves","coat","socks","dress","kimono","sari","one-piece_swimsuit","briefs","shorts","bikini","womans_clothes","folding_hand_fan","purse","handbag","pouch","shopping_bags","school_satchel","thong_sandal","mans_shoe","athletic_shoe","hiking_boot","womans_flat_shoe","high_heel","sandal","ballet_shoes","boot","hair_pick","crown","womans_hat","tophat","mortar_board","billed_cap","military_helmet","helmet_with_white_cross","prayer_beads","lipstick","ring","gem","mute","speaker","sound","loud_sound","loudspeaker","mega","postal_horn","bell","no_bell","musical_score","musical_note","notes","studio_microphone","level_slider","control_knobs","microphone","headphones","radio","saxophone","accordion","guitar","musical_keyboard","trumpet","violin","banjo","drum_with_drumsticks","long_drum","maracas","flute","iphone","calling","phone","telephone_receiver","pager","fax","battery","low_battery","electric_plug","computer","desktop_computer","printer","keyboard","three_button_mouse","trackball","minidisc","floppy_disk","cd","dvd","abacus","movie_camera","film_frames","film_projector","clapper","tv","camera","camera_with_flash","video_camera","vhs","mag","mag_right","candle","bulb","flashlight","izakaya_lantern","diya_lamp","notebook_with_decorative_cover","closed_book","book","green_book","blue_book","orange_book","books","notebook","ledger","page_with_curl","scroll","page_facing_up","newspaper","rolled_up_newspaper","bookmark_tabs","bookmark","label","moneybag","coin","yen","dollar","euro","pound","money_with_wings","credit_card","receipt","chart","email","e-mail","incoming_envelope","envelope_with_arrow","outbox_tray","inbox_tray","package","mailbox","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","postbox","ballot_box_with_ballot","pencil2","black_nib","lower_left_fountain_pen","lower_left_ballpoint_pen","lower_left_paintbrush","lower_left_crayon","memo","briefcase","file_folder","open_file_folder","card_index_dividers","date","calendar","spiral_note_pad","spiral_calendar_pad","card_index","chart_with_upwards_trend","chart_with_downwards_trend","bar_chart","clipboard","pushpin","round_pushpin","paperclip","linked_paperclips","straight_ruler","triangular_ruler","scissors","card_file_box","file_cabinet","wastebasket","lock","unlock","lock_with_ink_pen","closed_lock_with_key","key","old_key","hammer","axe","pick","hammer_and_pick","hammer_and_wrench","dagger_knife","crossed_swords","bomb","boomerang","bow_and_arrow","shield","carpentry_saw","wrench","screwdriver","nut_and_bolt","gear","compression","scales","probing_cane","link","chains","hook","toolbox","magnet","ladder","alembic","test_tube","petri_dish","dna","microscope","telescope","satellite_antenna","syringe","drop_of_blood","pill","adhesive_bandage","crutch","stethoscope","x-ray","door","elevator","mirror","window","bed","couch_and_lamp","chair","toilet","plunger","shower","bathtub","mouse_trap","razor","lotion_bottle","safety_pin","broom","basket","roll_of_paper","bucket","soap","bubbles","toothbrush","sponge","fire_extinguisher","shopping_trolley","smoking","coffin","headstone","funeral_urn","nazar_amulet","hamsa","moyai","placard","identification_card"]},{"id":"symbols","emojis":["atm","put_litter_in_its_place","potable_water","wheelchair","mens","womens","restroom","baby_symbol","wc","passport_control","customs","baggage_claim","left_luggage","warning","children_crossing","no_entry","no_entry_sign","no_bicycles","no_smoking","do_not_litter","non-potable_water","no_pedestrians","no_mobile_phones","underage","radioactive_sign","biohazard_sign","arrow_up","arrow_upper_right","arrow_right","arrow_lower_right","arrow_down","arrow_lower_left","arrow_left","arrow_upper_left","arrow_up_down","left_right_arrow","leftwards_arrow_with_hook","arrow_right_hook","arrow_heading_up","arrow_heading_down","arrows_clockwise","arrows_counterclockwise","back","end","on","soon","top","place_of_worship","atom_symbol","om_symbol","star_of_david","wheel_of_dharma","yin_yang","latin_cross","orthodox_cross","star_and_crescent","peace_symbol","menorah_with_nine_branches","six_pointed_star","khanda","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","twisted_rightwards_arrows","repeat","repeat_one","arrow_forward","fast_forward","black_right_pointing_double_triangle_with_vertical_bar","black_right_pointing_triangle_with_double_vertical_bar","arrow_backward","rewind","black_left_pointing_double_triangle_with_vertical_bar","arrow_up_small","arrow_double_up","arrow_down_small","arrow_double_down","double_vertical_bar","black_square_for_stop","black_circle_for_record","eject","cinema","low_brightness","high_brightness","signal_strength","wireless","vibration_mode","mobile_phone_off","female_sign","male_sign","transgender_symbol","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","heavy_equals_sign","infinity","bangbang","interrobang","question","grey_question","grey_exclamation","exclamation","wavy_dash","currency_exchange","heavy_dollar_sign","medical_symbol","recycle","fleur_de_lis","trident","name_badge","beginner","o","white_check_mark","ballot_box_with_check","heavy_check_mark","x","negative_squared_cross_mark","curly_loop","loop","part_alternation_mark","eight_spoked_asterisk","eight_pointed_black_star","sparkle","copyright","registered","tm","hash","keycap_star","zero","one","two","three","four","five","six","seven","eight","nine","keycap_ten","capital_abcd","abcd","1234","symbols","abc","a","ab","b","cl","cool","free","information_source","id","m","new","ng","o2","ok","parking","sos","up","vs","koko","sa","u6708","u6709","u6307","ideograph_advantage","u5272","u7121","u7981","accept","u7533","u5408","u7a7a","congratulations","secret","u55b6","u6e80","red_circle","large_orange_circle","large_yellow_circle","large_green_circle","large_blue_circle","large_purple_circle","large_brown_circle","black_circle","white_circle","large_red_square","large_orange_square","large_yellow_square","large_green_square","large_blue_square","large_purple_square","large_brown_square","black_large_square","white_large_square","black_medium_square","white_medium_square","black_medium_small_square","white_medium_small_square","black_small_square","white_small_square","large_orange_diamond","large_blue_diamond","small_orange_diamond","small_blue_diamond","small_red_triangle","small_red_triangle_down","diamond_shape_with_a_dot_inside","radio_button","white_square_button","black_square_button"]},{"id":"flags","emojis":["checkered_flag","cn","crossed_flags","de","es","flag-ac","flag-ad","flag-ae","flag-af","flag-ag","flag-ai","flag-al","flag-am","flag-ao","flag-aq","flag-ar","flag-as","flag-at","flag-au","flag-aw","flag-ax","flag-az","flag-ba","flag-bb","flag-bd","flag-be","flag-bf","flag-bg","flag-bh","flag-bi","flag-bj","flag-bl","flag-bm","flag-bn","flag-bo","flag-bq","flag-br","flag-bs","flag-bt","flag-bv","flag-bw","flag-by","flag-bz","flag-ca","flag-cc","flag-cd","flag-cf","flag-cg","flag-ch","flag-ci","flag-ck","flag-cl","flag-cm","flag-co","flag-cp","flag-cr","flag-cu","flag-cv","flag-cw","flag-cx","flag-cy","flag-cz","flag-dg","flag-dj","flag-dk","flag-dm","flag-do","flag-dz","flag-ea","flag-ec","flag-ee","flag-eg","flag-eh","flag-england","flag-er","flag-et","flag-eu","flag-fi","flag-fj","flag-fk","flag-fm","flag-fo","flag-ga","flag-gd","flag-ge","flag-gf","flag-gg","flag-gh","flag-gi","flag-gl","flag-gm","flag-gn","flag-gp","flag-gq","flag-gr","flag-gs","flag-gt","flag-gu","flag-gw","flag-gy","flag-hk","flag-hm","flag-hn","flag-hr","flag-ht","flag-hu","flag-ic","flag-id","flag-ie","flag-il","flag-im","flag-in","flag-io","flag-iq","flag-ir","flag-is","flag-je","flag-jm","flag-jo","flag-ke","flag-kg","flag-kh","flag-ki","flag-km","flag-kn","flag-kp","flag-kw","flag-ky","flag-kz","flag-la","flag-lb","flag-lc","flag-li","flag-lk","flag-lr","flag-ls","flag-lt","flag-lu","flag-lv","flag-ly","flag-ma","flag-mc","flag-md","flag-me","flag-mf","flag-mg","flag-mh","flag-mk","flag-ml","flag-mm","flag-mn","flag-mo","flag-mp","flag-mq","flag-mr","flag-ms","flag-mt","flag-mu","flag-mv","flag-mw","flag-mx","flag-my","flag-mz","flag-na","flag-nc","flag-ne","flag-nf","flag-ng","flag-ni","flag-nl","flag-no","flag-np","flag-nr","flag-nu","flag-nz","flag-om","flag-pa","flag-pe","flag-pf","flag-pg","flag-ph","flag-pk","flag-pl","flag-pm","flag-pn","flag-pr","flag-ps","flag-pt","flag-pw","flag-py","flag-qa","flag-re","flag-ro","flag-rs","flag-rw","flag-sa","flag-sb","flag-sc","flag-scotland","flag-sd","flag-se","flag-sg","flag-sh","flag-si","flag-sj","flag-sk","flag-sl","flag-sm","flag-sn","flag-so","flag-sr","flag-ss","flag-st","flag-sv","flag-sx","flag-sy","flag-sz","flag-ta","flag-tc","flag-td","flag-tf","flag-tg","flag-th","flag-tj","flag-tk","flag-tl","flag-tm","flag-tn","flag-to","flag-tr","flag-tt","flag-tv","flag-tw","flag-tz","flag-ua","flag-ug","flag-um","flag-un","flag-uy","flag-uz","flag-va","flag-vc","flag-ve","flag-vg","flag-vi","flag-vn","flag-vu","flag-wales","flag-wf","flag-ws","flag-xk","flag-ye","flag-yt","flag-za","flag-zm","flag-zw","fr","gb","it","jp","kr","pirate_flag","rainbow-flag","ru","transgender_flag","triangular_flag_on_post","us","waving_black_flag","waving_white_flag"]}],"emojis":{"100":{"id":"100","name":"Hundred Points","keywords":["100","score","perfect","numbers","century","exam","quiz","test","pass"],"skins":[{"unified":"1f4af","native":"\u{1F4AF}"}],"version":1},"1234":{"id":"1234","name":"Input Numbers","keywords":["1234","blue","square","1","2","3","4"],"skins":[{"unified":"1f522","native":"\u{1F522}"}],"version":1},"grinning":{"id":"grinning","name":"Grinning Face","emoticons":[":D"],"keywords":["smile","happy","joy",":D","grin"],"skins":[{"unified":"1f600","native":"\u{1F600}"}],"version":1},"smiley":{"id":"smiley","name":"Grinning Face with Big Eyes","emoticons":[":)","=)","=-)"],"keywords":["smiley","happy","joy","haha",":D",":)","smile","funny"],"skins":[{"unified":"1f603","native":"\u{1F603}"}],"version":1},"smile":{"id":"smile","name":"Grinning Face with Smiling Eyes","emoticons":[":)","C:","c:",":D",":-D"],"keywords":["smile","happy","joy","funny","haha","laugh","like",":D",":)"],"skins":[{"unified":"1f604","native":"\u{1F604}"}],"version":1},"grin":{"id":"grin","name":"Beaming Face with Smiling Eyes","keywords":["grin","happy","smile","joy","kawaii"],"skins":[{"unified":"1f601","native":"\u{1F601}"}],"version":1},"laughing":{"id":"laughing","name":"Grinning Squinting Face","emoticons":[":>",":->"],"keywords":["laughing","satisfied","happy","joy","lol","haha","glad","XD","laugh"],"skins":[{"unified":"1f606","native":"\u{1F606}"}],"version":1},"sweat_smile":{"id":"sweat_smile","name":"Grinning Face with Sweat","keywords":["smile","hot","happy","laugh","relief"],"skins":[{"unified":"1f605","native":"\u{1F605}"}],"version":1},"rolling_on_the_floor_laughing":{"id":"rolling_on_the_floor_laughing","name":"Rolling on the Floor Laughing","keywords":["face","lol","haha","rofl"],"skins":[{"unified":"1f923","native":"\u{1F923}"}],"version":3},"joy":{"id":"joy","name":"Face with Tears of Joy","keywords":["cry","weep","happy","happytears","haha"],"skins":[{"unified":"1f602","native":"\u{1F602}"}],"version":1},"slightly_smiling_face":{"id":"slightly_smiling_face","name":"Slightly Smiling Face","emoticons":[":)","(:",":-)"],"keywords":["smile"],"skins":[{"unified":"1f642","native":"\u{1F642}"}],"version":1},"upside_down_face":{"id":"upside_down_face","name":"Upside-Down Face","keywords":["upside","down","flipped","silly","smile"],"skins":[{"unified":"1f643","native":"\u{1F643}"}],"version":1},"melting_face":{"id":"melting_face","name":"Melting Face","keywords":["hot","heat"],"skins":[{"unified":"1fae0","native":"\u{1FAE0}"}],"version":14},"wink":{"id":"wink","name":"Winking Face","emoticons":[";)",";-)"],"keywords":["wink","happy","mischievous","secret",";)","smile","eye"],"skins":[{"unified":"1f609","native":"\u{1F609}"}],"version":1},"blush":{"id":"blush","name":"Smiling Face with Smiling Eyes","emoticons":[":)"],"keywords":["blush","smile","happy","flushed","crush","embarrassed","shy","joy"],"skins":[{"unified":"1f60a","native":"\u{1F60A}"}],"version":1},"innocent":{"id":"innocent","name":"Smiling Face with Halo","keywords":["innocent","angel","heaven"],"skins":[{"unified":"1f607","native":"\u{1F607}"}],"version":1},"smiling_face_with_3_hearts":{"id":"smiling_face_with_3_hearts","name":"Smiling Face with Hearts","keywords":["3","love","like","affection","valentines","infatuation","crush","adore"],"skins":[{"unified":"1f970","native":"\u{1F970}"}],"version":11},"heart_eyes":{"id":"heart_eyes","name":"Smiling Face with Heart-Eyes","keywords":["heart","eyes","love","like","affection","valentines","infatuation","crush"],"skins":[{"unified":"1f60d","native":"\u{1F60D}"}],"version":1},"star-struck":{"id":"star-struck","name":"Star-Struck","keywords":["star","struck","grinning","face","with","eyes","smile","starry"],"skins":[{"unified":"1f929","native":"\u{1F929}"}],"version":5},"kissing_heart":{"id":"kissing_heart","name":"Face Blowing a Kiss","emoticons":[":*",":-*"],"keywords":["kissing","heart","love","like","affection","valentines","infatuation"],"skins":[{"unified":"1f618","native":"\u{1F618}"}],"version":1},"kissing":{"id":"kissing","name":"Kissing Face","keywords":["love","like","3","valentines","infatuation","kiss"],"skins":[{"unified":"1f617","native":"\u{1F617}"}],"version":1},"relaxed":{"id":"relaxed","name":"Smiling Face","keywords":["relaxed","blush","massage","happiness"],"skins":[{"unified":"263a-fe0f","native":"\u263A\uFE0F"}],"version":1},"kissing_closed_eyes":{"id":"kissing_closed_eyes","name":"Kissing Face with Closed Eyes","keywords":["love","like","affection","valentines","infatuation","kiss"],"skins":[{"unified":"1f61a","native":"\u{1F61A}"}],"version":1},"kissing_smiling_eyes":{"id":"kissing_smiling_eyes","name":"Kissing Face with Smiling Eyes","keywords":["affection","valentines","infatuation","kiss"],"skins":[{"unified":"1f619","native":"\u{1F619}"}],"version":1},"smiling_face_with_tear":{"id":"smiling_face_with_tear","name":"Smiling Face with Tear","keywords":["sad","cry","pretend"],"skins":[{"unified":"1f972","native":"\u{1F972}"}],"version":13},"yum":{"id":"yum","name":"Face Savoring Food","keywords":["yum","happy","joy","tongue","smile","silly","yummy","nom","delicious","savouring"],"skins":[{"unified":"1f60b","native":"\u{1F60B}"}],"version":1},"stuck_out_tongue":{"id":"stuck_out_tongue","name":"Face with Tongue","emoticons":[":p",":-p",":P",":-P",":b",":-b"],"keywords":["stuck","out","prank","childish","playful","mischievous","smile"],"skins":[{"unified":"1f61b","native":"\u{1F61B}"}],"version":1},"stuck_out_tongue_winking_eye":{"id":"stuck_out_tongue_winking_eye","name":"Winking Face with Tongue","emoticons":[";p",";-p",";b",";-b",";P",";-P"],"keywords":["stuck","out","eye","prank","childish","playful","mischievous","smile","wink"],"skins":[{"unified":"1f61c","native":"\u{1F61C}"}],"version":1},"zany_face":{"id":"zany_face","name":"Zany Face","keywords":["grinning","with","one","large","and","small","eye","goofy","crazy"],"skins":[{"unified":"1f92a","native":"\u{1F92A}"}],"version":5},"stuck_out_tongue_closed_eyes":{"id":"stuck_out_tongue_closed_eyes","name":"Squinting Face with Tongue","keywords":["stuck","out","closed","eyes","prank","playful","mischievous","smile"],"skins":[{"unified":"1f61d","native":"\u{1F61D}"}],"version":1},"money_mouth_face":{"id":"money_mouth_face","name":"Money-Mouth Face","keywords":["money","mouth","rich","dollar"],"skins":[{"unified":"1f911","native":"\u{1F911}"}],"version":1},"hugging_face":{"id":"hugging_face","name":"Hugging Face","keywords":["smile","hug"],"skins":[{"unified":"1f917","native":"\u{1F917}"}],"version":1},"face_with_hand_over_mouth":{"id":"face_with_hand_over_mouth","name":"Face with Hand over Mouth","keywords":["smiling","eyes","and","covering","whoops","shock","surprise"],"skins":[{"unified":"1f92d","native":"\u{1F92D}"}],"version":5},"face_with_open_eyes_and_hand_over_mouth":{"id":"face_with_open_eyes_and_hand_over_mouth","name":"Face with Open Eyes and Hand over Mouth","keywords":["silence","secret","shock","surprise"],"skins":[{"unified":"1fae2","native":"\u{1FAE2}"}],"version":14},"face_with_peeking_eye":{"id":"face_with_peeking_eye","name":"Face with Peeking Eye","keywords":["scared","frightening","embarrassing","shy"],"skins":[{"unified":"1fae3","native":"\u{1FAE3}"}],"version":14},"shushing_face":{"id":"shushing_face","name":"Shushing Face","keywords":["with","finger","covering","closed","lips","quiet","shhh"],"skins":[{"unified":"1f92b","native":"\u{1F92B}"}],"version":5},"thinking_face":{"id":"thinking_face","name":"Thinking Face","keywords":["hmmm","think","consider"],"skins":[{"unified":"1f914","native":"\u{1F914}"}],"version":1},"saluting_face":{"id":"saluting_face","name":"Saluting Face","keywords":["respect","salute"],"skins":[{"unified":"1fae1","native":"\u{1FAE1}"}],"version":14},"zipper_mouth_face":{"id":"zipper_mouth_face","name":"Zipper-Mouth Face","keywords":["zipper","mouth","sealed","secret"],"skins":[{"unified":"1f910","native":"\u{1F910}"}],"version":1},"face_with_raised_eyebrow":{"id":"face_with_raised_eyebrow","name":"Face with Raised Eyebrow","keywords":["one","distrust","scepticism","disapproval","disbelief","surprise"],"skins":[{"unified":"1f928","native":"\u{1F928}"}],"version":5},"neutral_face":{"id":"neutral_face","name":"Neutral Face","emoticons":[":|",":-|"],"keywords":["indifference","meh",":",""],"skins":[{"unified":"1f610","native":"\u{1F610}"}],"version":1},"expressionless":{"id":"expressionless","name":"Expressionless Face","emoticons":["-_-"],"keywords":["indifferent","-","","meh","deadpan"],"skins":[{"unified":"1f611","native":"\u{1F611}"}],"version":1},"no_mouth":{"id":"no_mouth","name":"Face Without Mouth","keywords":["no","hellokitty"],"skins":[{"unified":"1f636","native":"\u{1F636}"}],"version":1},"dotted_line_face":{"id":"dotted_line_face","name":"Dotted Line Face","keywords":["invisible","lonely","isolation","depression"],"skins":[{"unified":"1fae5","native":"\u{1FAE5}"}],"version":14},"face_in_clouds":{"id":"face_in_clouds","name":"Face in Clouds","keywords":["shower","steam","dream"],"skins":[{"unified":"1f636-200d-1f32b-fe0f","native":"\u{1F636}\u200D\u{1F32B}\uFE0F"}],"version":13.1},"smirk":{"id":"smirk","name":"Smirking Face","keywords":["smirk","smile","mean","prank","smug","sarcasm"],"skins":[{"unified":"1f60f","native":"\u{1F60F}"}],"version":1},"unamused":{"id":"unamused","name":"Unamused Face","emoticons":[":("],"keywords":["indifference","bored","straight","serious","sarcasm","unimpressed","skeptical","dubious","side","eye"],"skins":[{"unified":"1f612","native":"\u{1F612}"}],"version":1},"face_with_rolling_eyes":{"id":"face_with_rolling_eyes","name":"Face with Rolling Eyes","keywords":["eyeroll","frustrated"],"skins":[{"unified":"1f644","native":"\u{1F644}"}],"version":1},"grimacing":{"id":"grimacing","name":"Grimacing Face","keywords":["grimace","teeth"],"skins":[{"unified":"1f62c","native":"\u{1F62C}"}],"version":1},"face_exhaling":{"id":"face_exhaling","name":"Face Exhaling","keywords":["relieve","relief","tired","sigh"],"skins":[{"unified":"1f62e-200d-1f4a8","native":"\u{1F62E}\u200D\u{1F4A8}"}],"version":13.1},"lying_face":{"id":"lying_face","name":"Lying Face","keywords":["lie","pinocchio"],"skins":[{"unified":"1f925","native":"\u{1F925}"}],"version":3},"shaking_face":{"id":"shaking_face","name":"Shaking Face","keywords":["dizzy","shock","blurry","earthquake"],"skins":[{"unified":"1fae8","native":"\u{1FAE8}"}],"version":15},"relieved":{"id":"relieved","name":"Relieved Face","keywords":["relaxed","phew","massage","happiness"],"skins":[{"unified":"1f60c","native":"\u{1F60C}"}],"version":1},"pensive":{"id":"pensive","name":"Pensive Face","keywords":["sad","depressed","upset"],"skins":[{"unified":"1f614","native":"\u{1F614}"}],"version":1},"sleepy":{"id":"sleepy","name":"Sleepy Face","keywords":["tired","rest","nap"],"skins":[{"unified":"1f62a","native":"\u{1F62A}"}],"version":1},"drooling_face":{"id":"drooling_face","name":"Drooling Face","keywords":[],"skins":[{"unified":"1f924","native":"\u{1F924}"}],"version":3},"sleeping":{"id":"sleeping","name":"Sleeping Face","keywords":["tired","sleepy","night","zzz"],"skins":[{"unified":"1f634","native":"\u{1F634}"}],"version":1},"mask":{"id":"mask","name":"Face with Medical Mask","keywords":["sick","ill","disease","covid"],"skins":[{"unified":"1f637","native":"\u{1F637}"}],"version":1},"face_with_thermometer":{"id":"face_with_thermometer","name":"Face with Thermometer","keywords":["sick","temperature","cold","fever","covid"],"skins":[{"unified":"1f912","native":"\u{1F912}"}],"version":1},"face_with_head_bandage":{"id":"face_with_head_bandage","name":"Face with Head-Bandage","keywords":["head","bandage","injured","clumsy","hurt"],"skins":[{"unified":"1f915","native":"\u{1F915}"}],"version":1},"nauseated_face":{"id":"nauseated_face","name":"Nauseated Face","keywords":["vomit","gross","green","sick","throw","up","ill"],"skins":[{"unified":"1f922","native":"\u{1F922}"}],"version":3},"face_vomiting":{"id":"face_vomiting","name":"Face Vomiting","keywords":["with","open","mouth","sick"],"skins":[{"unified":"1f92e","native":"\u{1F92E}"}],"version":5},"sneezing_face":{"id":"sneezing_face","name":"Sneezing Face","keywords":["gesundheit","sneeze","sick","allergy"],"skins":[{"unified":"1f927","native":"\u{1F927}"}],"version":3},"hot_face":{"id":"hot_face","name":"Hot Face","keywords":["feverish","heat","red","sweating"],"skins":[{"unified":"1f975","native":"\u{1F975}"}],"version":11},"cold_face":{"id":"cold_face","name":"Cold Face","keywords":["blue","freezing","frozen","frostbite","icicles"],"skins":[{"unified":"1f976","native":"\u{1F976}"}],"version":11},"woozy_face":{"id":"woozy_face","name":"Woozy Face","keywords":["dizzy","intoxicated","tipsy","wavy"],"skins":[{"unified":"1f974","native":"\u{1F974}"}],"version":11},"dizzy_face":{"id":"dizzy_face","name":"Dizzy Face","keywords":["spent","unconscious","xox"],"skins":[{"unified":"1f635","native":"\u{1F635}"}],"version":1},"face_with_spiral_eyes":{"id":"face_with_spiral_eyes","name":"Face with Spiral Eyes","keywords":["sick","ill","confused","nauseous","nausea"],"skins":[{"unified":"1f635-200d-1f4ab","native":"\u{1F635}\u200D\u{1F4AB}"}],"version":13.1},"exploding_head":{"id":"exploding_head","name":"Exploding Head","keywords":["shocked","face","with","mind","blown"],"skins":[{"unified":"1f92f","native":"\u{1F92F}"}],"version":5},"face_with_cowboy_hat":{"id":"face_with_cowboy_hat","name":"Cowboy Hat Face","keywords":["with","cowgirl"],"skins":[{"unified":"1f920","native":"\u{1F920}"}],"version":3},"partying_face":{"id":"partying_face","name":"Partying Face","keywords":["celebration","woohoo"],"skins":[{"unified":"1f973","native":"\u{1F973}"}],"version":11},"disguised_face":{"id":"disguised_face","name":"Disguised Face","keywords":["pretent","brows","glasses","moustache"],"skins":[{"unified":"1f978","native":"\u{1F978}"}],"version":13},"sunglasses":{"id":"sunglasses","name":"Smiling Face with Sunglasses","emoticons":["8)"],"keywords":["cool","smile","summer","beach","sunglass"],"skins":[{"unified":"1f60e","native":"\u{1F60E}"}],"version":1},"nerd_face":{"id":"nerd_face","name":"Nerd Face","keywords":["nerdy","geek","dork"],"skins":[{"unified":"1f913","native":"\u{1F913}"}],"version":1},"face_with_monocle":{"id":"face_with_monocle","name":"Face with Monocle","keywords":["stuffy","wealthy"],"skins":[{"unified":"1f9d0","native":"\u{1F9D0}"}],"version":5},"confused":{"id":"confused","name":"Confused Face","emoticons":[":\\\\",":-\\\\",":/",":-/"],"keywords":["indifference","huh","weird","hmmm",":/"],"skins":[{"unified":"1f615","native":"\u{1F615}"}],"version":1},"face_with_diagonal_mouth":{"id":"face_with_diagonal_mouth","name":"Face with Diagonal Mouth","keywords":["skeptic","confuse","frustrated","indifferent"],"skins":[{"unified":"1fae4","native":"\u{1FAE4}"}],"version":14},"worried":{"id":"worried","name":"Worried Face","keywords":["concern","nervous",":("],"skins":[{"unified":"1f61f","native":"\u{1F61F}"}],"version":1},"slightly_frowning_face":{"id":"slightly_frowning_face","name":"Slightly Frowning Face","keywords":["disappointed","sad","upset"],"skins":[{"unified":"1f641","native":"\u{1F641}"}],"version":1},"white_frowning_face":{"id":"white_frowning_face","name":"Frowning Face","keywords":["white","sad","upset","frown"],"skins":[{"unified":"2639-fe0f","native":"\u2639\uFE0F"}],"version":1},"open_mouth":{"id":"open_mouth","name":"Face with Open Mouth","emoticons":[":o",":-o",":O",":-O"],"keywords":["surprise","impressed","wow","whoa",":O"],"skins":[{"unified":"1f62e","native":"\u{1F62E}"}],"version":1},"hushed":{"id":"hushed","name":"Hushed Face","keywords":["woo","shh"],"skins":[{"unified":"1f62f","native":"\u{1F62F}"}],"version":1},"astonished":{"id":"astonished","name":"Astonished Face","keywords":["xox","surprised","poisoned"],"skins":[{"unified":"1f632","native":"\u{1F632}"}],"version":1},"flushed":{"id":"flushed","name":"Flushed Face","keywords":["blush","shy","flattered"],"skins":[{"unified":"1f633","native":"\u{1F633}"}],"version":1},"pleading_face":{"id":"pleading_face","name":"Pleading Face","keywords":["begging","mercy","cry","tears","sad","grievance"],"skins":[{"unified":"1f97a","native":"\u{1F97A}"}],"version":11},"face_holding_back_tears":{"id":"face_holding_back_tears","name":"Face Holding Back Tears","keywords":["touched","gratitude","cry"],"skins":[{"unified":"1f979","native":"\u{1F979}"}],"version":14},"frowning":{"id":"frowning","name":"Frowning Face with Open Mouth","keywords":["aw","what"],"skins":[{"unified":"1f626","native":"\u{1F626}"}],"version":1},"anguished":{"id":"anguished","name":"Anguished Face","emoticons":["D:"],"keywords":["stunned","nervous"],"skins":[{"unified":"1f627","native":"\u{1F627}"}],"version":1},"fearful":{"id":"fearful","name":"Fearful Face","keywords":["scared","terrified","nervous"],"skins":[{"unified":"1f628","native":"\u{1F628}"}],"version":1},"cold_sweat":{"id":"cold_sweat","name":"Anxious Face with Sweat","keywords":["cold","nervous"],"skins":[{"unified":"1f630","native":"\u{1F630}"}],"version":1},"disappointed_relieved":{"id":"disappointed_relieved","name":"Sad but Relieved Face","keywords":["disappointed","phew","sweat","nervous"],"skins":[{"unified":"1f625","native":"\u{1F625}"}],"version":1},"cry":{"id":"cry","name":"Crying Face","emoticons":[":'("],"keywords":["cry","tears","sad","depressed","upset",":'("],"skins":[{"unified":"1f622","native":"\u{1F622}"}],"version":1},"sob":{"id":"sob","name":"Loudly Crying Face","emoticons":[":'("],"keywords":["sob","cry","tears","sad","upset","depressed"],"skins":[{"unified":"1f62d","native":"\u{1F62D}"}],"version":1},"scream":{"id":"scream","name":"Face Screaming in Fear","keywords":["scream","munch","scared","omg"],"skins":[{"unified":"1f631","native":"\u{1F631}"}],"version":1},"confounded":{"id":"confounded","name":"Confounded Face","keywords":["confused","sick","unwell","oops",":S"],"skins":[{"unified":"1f616","native":"\u{1F616}"}],"version":1},"persevere":{"id":"persevere","name":"Persevering Face","keywords":["persevere","sick","no","upset","oops"],"skins":[{"unified":"1f623","native":"\u{1F623}"}],"version":1},"disappointed":{"id":"disappointed","name":"Disappointed Face","emoticons":["):",":(",":-("],"keywords":["sad","upset","depressed",":("],"skins":[{"unified":"1f61e","native":"\u{1F61E}"}],"version":1},"sweat":{"id":"sweat","name":"Face with Cold Sweat","keywords":["downcast","hot","sad","tired","exercise"],"skins":[{"unified":"1f613","native":"\u{1F613}"}],"version":1},"weary":{"id":"weary","name":"Weary Face","keywords":["tired","sleepy","sad","frustrated","upset"],"skins":[{"unified":"1f629","native":"\u{1F629}"}],"version":1},"tired_face":{"id":"tired_face","name":"Tired Face","keywords":["sick","whine","upset","frustrated"],"skins":[{"unified":"1f62b","native":"\u{1F62B}"}],"version":1},"yawning_face":{"id":"yawning_face","name":"Yawning Face","keywords":["tired","sleepy"],"skins":[{"unified":"1f971","native":"\u{1F971}"}],"version":12},"triumph":{"id":"triumph","name":"Face with Look of Triumph","keywords":["steam","from","nose","gas","phew","proud","pride"],"skins":[{"unified":"1f624","native":"\u{1F624}"}],"version":1},"rage":{"id":"rage","name":"Pouting Face","keywords":["rage","angry","mad","hate","despise"],"skins":[{"unified":"1f621","native":"\u{1F621}"}],"version":1},"angry":{"id":"angry","name":"Angry Face","emoticons":[">:(",">:-("],"keywords":["mad","annoyed","frustrated"],"skins":[{"unified":"1f620","native":"\u{1F620}"}],"version":1},"face_with_symbols_on_mouth":{"id":"face_with_symbols_on_mouth","name":"Face with Symbols on Mouth","keywords":["serious","covering","swearing","cursing","cussing","profanity","expletive"],"skins":[{"unified":"1f92c","native":"\u{1F92C}"}],"version":5},"smiling_imp":{"id":"smiling_imp","name":"Smiling Face with Horns","keywords":["imp","devil"],"skins":[{"unified":"1f608","native":"\u{1F608}"}],"version":1},"imp":{"id":"imp","name":"Imp","keywords":["angry","face","with","horns","devil"],"skins":[{"unified":"1f47f","native":"\u{1F47F}"}],"version":1},"skull":{"id":"skull","name":"Skull","keywords":["dead","skeleton","creepy","death"],"skins":[{"unified":"1f480","native":"\u{1F480}"}],"version":1},"skull_and_crossbones":{"id":"skull_and_crossbones","name":"Skull and Crossbones","keywords":["poison","danger","deadly","scary","death","pirate","evil"],"skins":[{"unified":"2620-fe0f","native":"\u2620\uFE0F"}],"version":1},"hankey":{"id":"hankey","name":"Pile of Poo","keywords":["hankey","poop","shit","shitface","fail","turd"],"skins":[{"unified":"1f4a9","native":"\u{1F4A9}"}],"version":1},"clown_face":{"id":"clown_face","name":"Clown Face","keywords":[],"skins":[{"unified":"1f921","native":"\u{1F921}"}],"version":3},"japanese_ogre":{"id":"japanese_ogre","name":"Ogre","keywords":["japanese","monster","red","mask","halloween","scary","creepy","devil","demon"],"skins":[{"unified":"1f479","native":"\u{1F479}"}],"version":1},"japanese_goblin":{"id":"japanese_goblin","name":"Goblin","keywords":["japanese","red","evil","mask","monster","scary","creepy"],"skins":[{"unified":"1f47a","native":"\u{1F47A}"}],"version":1},"ghost":{"id":"ghost","name":"Ghost","keywords":["halloween","spooky","scary"],"skins":[{"unified":"1f47b","native":"\u{1F47B}"}],"version":1},"alien":{"id":"alien","name":"Alien","keywords":["UFO","paul","weird","outer","space"],"skins":[{"unified":"1f47d","native":"\u{1F47D}"}],"version":1},"space_invader":{"id":"space_invader","name":"Alien Monster","keywords":["space","invader","game","arcade","play"],"skins":[{"unified":"1f47e","native":"\u{1F47E}"}],"version":1},"robot_face":{"id":"robot_face","name":"Robot","keywords":["face","computer","machine","bot"],"skins":[{"unified":"1f916","native":"\u{1F916}"}],"version":1},"smiley_cat":{"id":"smiley_cat","name":"Grinning Cat","keywords":["smiley","animal","cats","happy","smile"],"skins":[{"unified":"1f63a","native":"\u{1F63A}"}],"version":1},"smile_cat":{"id":"smile_cat","name":"Grinning Cat with Smiling Eyes","keywords":["smile","animal","cats"],"skins":[{"unified":"1f638","native":"\u{1F638}"}],"version":1},"joy_cat":{"id":"joy_cat","name":"Cat with Tears of Joy","keywords":["animal","cats","haha","happy"],"skins":[{"unified":"1f639","native":"\u{1F639}"}],"version":1},"heart_eyes_cat":{"id":"heart_eyes_cat","name":"Smiling Cat with Heart-Eyes","keywords":["heart","eyes","animal","love","like","affection","cats","valentines"],"skins":[{"unified":"1f63b","native":"\u{1F63B}"}],"version":1},"smirk_cat":{"id":"smirk_cat","name":"Cat with Wry Smile","keywords":["smirk","animal","cats"],"skins":[{"unified":"1f63c","native":"\u{1F63C}"}],"version":1},"kissing_cat":{"id":"kissing_cat","name":"Kissing Cat","keywords":["animal","cats","kiss"],"skins":[{"unified":"1f63d","native":"\u{1F63D}"}],"version":1},"scream_cat":{"id":"scream_cat","name":"Weary Cat","keywords":["scream","animal","cats","munch","scared"],"skins":[{"unified":"1f640","native":"\u{1F640}"}],"version":1},"crying_cat_face":{"id":"crying_cat_face","name":"Crying Cat","keywords":["face","animal","tears","weep","sad","cats","upset","cry"],"skins":[{"unified":"1f63f","native":"\u{1F63F}"}],"version":1},"pouting_cat":{"id":"pouting_cat","name":"Pouting Cat","keywords":["animal","cats"],"skins":[{"unified":"1f63e","native":"\u{1F63E}"}],"version":1},"see_no_evil":{"id":"see_no_evil","name":"See-No-Evil Monkey","keywords":["see","no","evil","animal","nature","haha"],"skins":[{"unified":"1f648","native":"\u{1F648}"}],"version":1},"hear_no_evil":{"id":"hear_no_evil","name":"Hear-No-Evil Monkey","keywords":["hear","no","evil","animal","nature"],"skins":[{"unified":"1f649","native":"\u{1F649}"}],"version":1},"speak_no_evil":{"id":"speak_no_evil","name":"Speak-No-Evil Monkey","keywords":["speak","no","evil","animal","nature","omg"],"skins":[{"unified":"1f64a","native":"\u{1F64A}"}],"version":1},"love_letter":{"id":"love_letter","name":"Love Letter","keywords":["email","like","affection","envelope","valentines"],"skins":[{"unified":"1f48c","native":"\u{1F48C}"}],"version":1},"cupid":{"id":"cupid","name":"Heart with Arrow","keywords":["cupid","love","like","affection","valentines"],"skins":[{"unified":"1f498","native":"\u{1F498}"}],"version":1},"gift_heart":{"id":"gift_heart","name":"Heart with Ribbon","keywords":["gift","love","valentines"],"skins":[{"unified":"1f49d","native":"\u{1F49D}"}],"version":1},"sparkling_heart":{"id":"sparkling_heart","name":"Sparkling Heart","keywords":["love","like","affection","valentines"],"skins":[{"unified":"1f496","native":"\u{1F496}"}],"version":1},"heartpulse":{"id":"heartpulse","name":"Growing Heart","keywords":["heartpulse","like","love","affection","valentines","pink"],"skins":[{"unified":"1f497","native":"\u{1F497}"}],"version":1},"heartbeat":{"id":"heartbeat","name":"Beating Heart","keywords":["heartbeat","love","like","affection","valentines","pink"],"skins":[{"unified":"1f493","native":"\u{1F493}"}],"version":1},"revolving_hearts":{"id":"revolving_hearts","name":"Revolving Hearts","keywords":["love","like","affection","valentines"],"skins":[{"unified":"1f49e","native":"\u{1F49E}"}],"version":1},"two_hearts":{"id":"two_hearts","name":"Two Hearts","keywords":["love","like","affection","valentines","heart"],"skins":[{"unified":"1f495","native":"\u{1F495}"}],"version":1},"heart_decoration":{"id":"heart_decoration","name":"Heart Decoration","keywords":["purple","square","love","like"],"skins":[{"unified":"1f49f","native":"\u{1F49F}"}],"version":1},"heavy_heart_exclamation_mark_ornament":{"id":"heavy_heart_exclamation_mark_ornament","name":"Heart Exclamation","keywords":["heavy","mark","ornament","decoration","love"],"skins":[{"unified":"2763-fe0f","native":"\u2763\uFE0F"}],"version":1},"broken_heart":{"id":"broken_heart","name":"Broken Heart","emoticons":["</3"],"keywords":["sad","sorry","break","heartbreak"],"skins":[{"unified":"1f494","native":"\u{1F494}"}],"version":1},"heart_on_fire":{"id":"heart_on_fire","name":"Heart on Fire","keywords":["passionate","enthusiastic"],"skins":[{"unified":"2764-fe0f-200d-1f525","native":"\u2764\uFE0F\u200D\u{1F525}"}],"version":13.1},"mending_heart":{"id":"mending_heart","name":"Mending Heart","keywords":["broken","bandage","wounded"],"skins":[{"unified":"2764-fe0f-200d-1fa79","native":"\u2764\uFE0F\u200D\u{1FA79}"}],"version":13.1},"heart":{"id":"heart","name":"Red Heart","emoticons":["<3"],"keywords":["love","like","valentines"],"skins":[{"unified":"2764-fe0f","native":"\u2764\uFE0F"}],"version":1},"pink_heart":{"id":"pink_heart","name":"Pink Heart","keywords":["valentines"],"skins":[{"unified":"1fa77","native":"\u{1FA77}"}],"version":15},"orange_heart":{"id":"orange_heart","name":"Orange Heart","keywords":["love","like","affection","valentines"],"skins":[{"unified":"1f9e1","native":"\u{1F9E1}"}],"version":5},"yellow_heart":{"id":"yellow_heart","name":"Yellow Heart","emoticons":["<3"],"keywords":["love","like","affection","valentines"],"skins":[{"unified":"1f49b","native":"\u{1F49B}"}],"version":1},"green_heart":{"id":"green_heart","name":"Green Heart","emoticons":["<3"],"keywords":["love","like","affection","valentines"],"skins":[{"unified":"1f49a","native":"\u{1F49A}"}],"version":1},"blue_heart":{"id":"blue_heart","name":"Blue Heart","emoticons":["<3"],"keywords":["love","like","affection","valentines"],"skins":[{"unified":"1f499","native":"\u{1F499}"}],"version":1},"light_blue_heart":{"id":"light_blue_heart","name":"Light Blue Heart","keywords":["ice","baby"],"skins":[{"unified":"1fa75","native":"\u{1FA75}"}],"version":15},"purple_heart":{"id":"purple_heart","name":"Purple Heart","emoticons":["<3"],"keywords":["love","like","affection","valentines"],"skins":[{"unified":"1f49c","native":"\u{1F49C}"}],"version":1},"brown_heart":{"id":"brown_heart","name":"Brown Heart","keywords":["coffee"],"skins":[{"unified":"1f90e","native":"\u{1F90E}"}],"version":12},"black_heart":{"id":"black_heart","name":"Black Heart","keywords":["evil"],"skins":[{"unified":"1f5a4","native":"\u{1F5A4}"}],"version":3},"grey_heart":{"id":"grey_heart","name":"Grey Heart","keywords":["silver","monochrome"],"skins":[{"unified":"1fa76","native":"\u{1FA76}"}],"version":15},"white_heart":{"id":"white_heart","name":"White Heart","keywords":["pure"],"skins":[{"unified":"1f90d","native":"\u{1F90D}"}],"version":12},"kiss":{"id":"kiss","name":"Kiss Mark","keywords":["face","lips","love","like","affection","valentines"],"skins":[{"unified":"1f48b","native":"\u{1F48B}"}],"version":1},"anger":{"id":"anger","name":"Anger Symbol","keywords":["angry","mad"],"skins":[{"unified":"1f4a2","native":"\u{1F4A2}"}],"version":1},"boom":{"id":"boom","name":"Collision","keywords":["boom","bomb","explode","explosion","blown"],"skins":[{"unified":"1f4a5","native":"\u{1F4A5}"}],"version":1},"dizzy":{"id":"dizzy","name":"Dizzy","keywords":["star","sparkle","shoot","magic"],"skins":[{"unified":"1f4ab","native":"\u{1F4AB}"}],"version":1},"sweat_drops":{"id":"sweat_drops","name":"Sweat Droplets","keywords":["drops","water","drip","oops"],"skins":[{"unified":"1f4a6","native":"\u{1F4A6}"}],"version":1},"dash":{"id":"dash","name":"Dash Symbol","keywords":["dashing","away","wind","air","fast","shoo","fart","smoke","puff"],"skins":[{"unified":"1f4a8","native":"\u{1F4A8}"}],"version":1},"hole":{"id":"hole","name":"Hole","keywords":["embarrassing"],"skins":[{"unified":"1f573-fe0f","native":"\u{1F573}\uFE0F"}],"version":1},"speech_balloon":{"id":"speech_balloon","name":"Speech Balloon","keywords":["bubble","words","message","talk","chatting"],"skins":[{"unified":"1f4ac","native":"\u{1F4AC}"}],"version":1},"eye-in-speech-bubble":{"id":"eye-in-speech-bubble","name":"Eye in Speech Bubble","keywords":["in-speech-bubble","info"],"skins":[{"unified":"1f441-fe0f-200d-1f5e8-fe0f","native":"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F"}],"version":2},"left_speech_bubble":{"id":"left_speech_bubble","name":"Left Speech Bubble","keywords":["words","message","talk","chatting"],"skins":[{"unified":"1f5e8-fe0f","native":"\u{1F5E8}\uFE0F"}],"version":2},"right_anger_bubble":{"id":"right_anger_bubble","name":"Right Anger Bubble","keywords":["caption","speech","thinking","mad"],"skins":[{"unified":"1f5ef-fe0f","native":"\u{1F5EF}\uFE0F"}],"version":1},"thought_balloon":{"id":"thought_balloon","name":"Thought Balloon","keywords":["bubble","cloud","speech","thinking","dream"],"skins":[{"unified":"1f4ad","native":"\u{1F4AD}"}],"version":1},"zzz":{"id":"zzz","name":"Zzz","keywords":["sleepy","tired","dream"],"skins":[{"unified":"1f4a4","native":"\u{1F4A4}"}],"version":1},"wave":{"id":"wave","name":"Waving Hand","keywords":["wave","hands","gesture","goodbye","solong","farewell","hello","hi","palm"],"skins":[{"unified":"1f44b","native":"\u{1F44B}"},{"unified":"1f44b-1f3fb","native":"\u{1F44B}\u{1F3FB}"},{"unified":"1f44b-1f3fc","native":"\u{1F44B}\u{1F3FC}"},{"unified":"1f44b-1f3fd","native":"\u{1F44B}\u{1F3FD}"},{"unified":"1f44b-1f3fe","native":"\u{1F44B}\u{1F3FE}"},{"unified":"1f44b-1f3ff","native":"\u{1F44B}\u{1F3FF}"}],"version":1},"raised_back_of_hand":{"id":"raised_back_of_hand","name":"Raised Back of Hand","keywords":["fingers","backhand"],"skins":[{"unified":"1f91a","native":"\u{1F91A}"},{"unified":"1f91a-1f3fb","native":"\u{1F91A}\u{1F3FB}"},{"unified":"1f91a-1f3fc","native":"\u{1F91A}\u{1F3FC}"},{"unified":"1f91a-1f3fd","native":"\u{1F91A}\u{1F3FD}"},{"unified":"1f91a-1f3fe","native":"\u{1F91A}\u{1F3FE}"},{"unified":"1f91a-1f3ff","native":"\u{1F91A}\u{1F3FF}"}],"version":3},"raised_hand_with_fingers_splayed":{"id":"raised_hand_with_fingers_splayed","name":"Hand with Fingers Splayed","keywords":["raised","palm"],"skins":[{"unified":"1f590-fe0f","native":"\u{1F590}\uFE0F"},{"unified":"1f590-1f3fb","native":"\u{1F590}\u{1F3FB}"},{"unified":"1f590-1f3fc","native":"\u{1F590}\u{1F3FC}"},{"unified":"1f590-1f3fd","native":"\u{1F590}\u{1F3FD}"},{"unified":"1f590-1f3fe","native":"\u{1F590}\u{1F3FE}"},{"unified":"1f590-1f3ff","native":"\u{1F590}\u{1F3FF}"}],"version":1},"hand":{"id":"hand","name":"Raised Hand","keywords":["fingers","stop","highfive","high","five","palm","ban"],"skins":[{"unified":"270b","native":"\u270B"},{"unified":"270b-1f3fb","native":"\u270B\u{1F3FB}"},{"unified":"270b-1f3fc","native":"\u270B\u{1F3FC}"},{"unified":"270b-1f3fd","native":"\u270B\u{1F3FD}"},{"unified":"270b-1f3fe","native":"\u270B\u{1F3FE}"},{"unified":"270b-1f3ff","native":"\u270B\u{1F3FF}"}],"version":1},"spock-hand":{"id":"spock-hand","name":"Vulcan Salute","keywords":["spock","hand","fingers","star","trek"],"skins":[{"unified":"1f596","native":"\u{1F596}"},{"unified":"1f596-1f3fb","native":"\u{1F596}\u{1F3FB}"},{"unified":"1f596-1f3fc","native":"\u{1F596}\u{1F3FC}"},{"unified":"1f596-1f3fd","native":"\u{1F596}\u{1F3FD}"},{"unified":"1f596-1f3fe","native":"\u{1F596}\u{1F3FE}"},{"unified":"1f596-1f3ff","native":"\u{1F596}\u{1F3FF}"}],"version":1},"rightwards_hand":{"id":"rightwards_hand","name":"Rightwards Hand","keywords":["palm","offer"],"skins":[{"unified":"1faf1","native":"\u{1FAF1}"},{"unified":"1faf1-1f3fb","native":"\u{1FAF1}\u{1F3FB}"},{"unified":"1faf1-1f3fc","native":"\u{1FAF1}\u{1F3FC}"},{"unified":"1faf1-1f3fd","native":"\u{1FAF1}\u{1F3FD}"},{"unified":"1faf1-1f3fe","native":"\u{1FAF1}\u{1F3FE}"},{"unified":"1faf1-1f3ff","native":"\u{1FAF1}\u{1F3FF}"}],"version":14},"leftwards_hand":{"id":"leftwards_hand","name":"Leftwards Hand","keywords":["palm","offer"],"skins":[{"unified":"1faf2","native":"\u{1FAF2}"},{"unified":"1faf2-1f3fb","native":"\u{1FAF2}\u{1F3FB}"},{"unified":"1faf2-1f3fc","native":"\u{1FAF2}\u{1F3FC}"},{"unified":"1faf2-1f3fd","native":"\u{1FAF2}\u{1F3FD}"},{"unified":"1faf2-1f3fe","native":"\u{1FAF2}\u{1F3FE}"},{"unified":"1faf2-1f3ff","native":"\u{1FAF2}\u{1F3FF}"}],"version":14},"palm_down_hand":{"id":"palm_down_hand","name":"Palm Down Hand","keywords":["drop"],"skins":[{"unified":"1faf3","native":"\u{1FAF3}"},{"unified":"1faf3-1f3fb","native":"\u{1FAF3}\u{1F3FB}"},{"unified":"1faf3-1f3fc","native":"\u{1FAF3}\u{1F3FC}"},{"unified":"1faf3-1f3fd","native":"\u{1FAF3}\u{1F3FD}"},{"unified":"1faf3-1f3fe","native":"\u{1FAF3}\u{1F3FE}"},{"unified":"1faf3-1f3ff","native":"\u{1FAF3}\u{1F3FF}"}],"version":14},"palm_up_hand":{"id":"palm_up_hand","name":"Palm Up Hand","keywords":["lift","offer","demand"],"skins":[{"unified":"1faf4","native":"\u{1FAF4}"},{"unified":"1faf4-1f3fb","native":"\u{1FAF4}\u{1F3FB}"},{"unified":"1faf4-1f3fc","native":"\u{1FAF4}\u{1F3FC}"},{"unified":"1faf4-1f3fd","native":"\u{1FAF4}\u{1F3FD}"},{"unified":"1faf4-1f3fe","native":"\u{1FAF4}\u{1F3FE}"},{"unified":"1faf4-1f3ff","native":"\u{1FAF4}\u{1F3FF}"}],"version":14},"leftwards_pushing_hand":{"id":"leftwards_pushing_hand","name":"Leftwards Pushing Hand","keywords":["highfive","high","five","pressing","stop"],"skins":[{"unified":"1faf7","native":"\u{1FAF7}"},{"unified":"1faf7-1f3fb","native":"\u{1FAF7}\u{1F3FB}"},{"unified":"1faf7-1f3fc","native":"\u{1FAF7}\u{1F3FC}"},{"unified":"1faf7-1f3fd","native":"\u{1FAF7}\u{1F3FD}"},{"unified":"1faf7-1f3fe","native":"\u{1FAF7}\u{1F3FE}"},{"unified":"1faf7-1f3ff","native":"\u{1FAF7}\u{1F3FF}"}],"version":15},"rightwards_pushing_hand":{"id":"rightwards_pushing_hand","name":"Rightwards Pushing Hand","keywords":["highfive","high","five","pressing","stop"],"skins":[{"unified":"1faf8","native":"\u{1FAF8}"},{"unified":"1faf8-1f3fb","native":"\u{1FAF8}\u{1F3FB}"},{"unified":"1faf8-1f3fc","native":"\u{1FAF8}\u{1F3FC}"},{"unified":"1faf8-1f3fd","native":"\u{1FAF8}\u{1F3FD}"},{"unified":"1faf8-1f3fe","native":"\u{1FAF8}\u{1F3FE}"},{"unified":"1faf8-1f3ff","native":"\u{1FAF8}\u{1F3FF}"}],"version":15},"ok_hand":{"id":"ok_hand","name":"Ok Hand","keywords":["fingers","limbs","perfect","okay"],"skins":[{"unified":"1f44c","native":"\u{1F44C}"},{"unified":"1f44c-1f3fb","native":"\u{1F44C}\u{1F3FB}"},{"unified":"1f44c-1f3fc","native":"\u{1F44C}\u{1F3FC}"},{"unified":"1f44c-1f3fd","native":"\u{1F44C}\u{1F3FD}"},{"unified":"1f44c-1f3fe","native":"\u{1F44C}\u{1F3FE}"},{"unified":"1f44c-1f3ff","native":"\u{1F44C}\u{1F3FF}"}],"version":1},"pinched_fingers":{"id":"pinched_fingers","name":"Pinched Fingers","keywords":["size","tiny","small"],"skins":[{"unified":"1f90c","native":"\u{1F90C}"},{"unified":"1f90c-1f3fb","native":"\u{1F90C}\u{1F3FB}"},{"unified":"1f90c-1f3fc","native":"\u{1F90C}\u{1F3FC}"},{"unified":"1f90c-1f3fd","native":"\u{1F90C}\u{1F3FD}"},{"unified":"1f90c-1f3fe","native":"\u{1F90C}\u{1F3FE}"},{"unified":"1f90c-1f3ff","native":"\u{1F90C}\u{1F3FF}"}],"version":13},"pinching_hand":{"id":"pinching_hand","name":"Pinching Hand","keywords":["tiny","small","size"],"skins":[{"unified":"1f90f","native":"\u{1F90F}"},{"unified":"1f90f-1f3fb","native":"\u{1F90F}\u{1F3FB}"},{"unified":"1f90f-1f3fc","native":"\u{1F90F}\u{1F3FC}"},{"unified":"1f90f-1f3fd","native":"\u{1F90F}\u{1F3FD}"},{"unified":"1f90f-1f3fe","native":"\u{1F90F}\u{1F3FE}"},{"unified":"1f90f-1f3ff","native":"\u{1F90F}\u{1F3FF}"}],"version":12},"v":{"id":"v","name":"Victory Hand","keywords":["v","fingers","ohyeah","peace","two"],"skins":[{"unified":"270c-fe0f","native":"\u270C\uFE0F"},{"unified":"270c-1f3fb","native":"\u270C\u{1F3FB}"},{"unified":"270c-1f3fc","native":"\u270C\u{1F3FC}"},{"unified":"270c-1f3fd","native":"\u270C\u{1F3FD}"},{"unified":"270c-1f3fe","native":"\u270C\u{1F3FE}"},{"unified":"270c-1f3ff","native":"\u270C\u{1F3FF}"}],"version":1},"crossed_fingers":{"id":"crossed_fingers","name":"Crossed Fingers","keywords":["hand","with","index","and","middle","good","lucky"],"skins":[{"unified":"1f91e","native":"\u{1F91E}"},{"unified":"1f91e-1f3fb","native":"\u{1F91E}\u{1F3FB}"},{"unified":"1f91e-1f3fc","native":"\u{1F91E}\u{1F3FC}"},{"unified":"1f91e-1f3fd","native":"\u{1F91E}\u{1F3FD}"},{"unified":"1f91e-1f3fe","native":"\u{1F91E}\u{1F3FE}"},{"unified":"1f91e-1f3ff","native":"\u{1F91E}\u{1F3FF}"}],"version":3},"hand_with_index_finger_and_thumb_crossed":{"id":"hand_with_index_finger_and_thumb_crossed","name":"Hand with Index Finger and Thumb Crossed","keywords":["heart","love","money","expensive"],"skins":[{"unified":"1faf0","native":"\u{1FAF0}"},{"unified":"1faf0-1f3fb","native":"\u{1FAF0}\u{1F3FB}"},{"unified":"1faf0-1f3fc","native":"\u{1FAF0}\u{1F3FC}"},{"unified":"1faf0-1f3fd","native":"\u{1FAF0}\u{1F3FD}"},{"unified":"1faf0-1f3fe","native":"\u{1FAF0}\u{1F3FE}"},{"unified":"1faf0-1f3ff","native":"\u{1FAF0}\u{1F3FF}"}],"version":14},"i_love_you_hand_sign":{"id":"i_love_you_hand_sign","name":"Love-You Gesture","keywords":["i","love","you","hand","sign","fingers"],"skins":[{"unified":"1f91f","native":"\u{1F91F}"},{"unified":"1f91f-1f3fb","native":"\u{1F91F}\u{1F3FB}"},{"unified":"1f91f-1f3fc","native":"\u{1F91F}\u{1F3FC}"},{"unified":"1f91f-1f3fd","native":"\u{1F91F}\u{1F3FD}"},{"unified":"1f91f-1f3fe","native":"\u{1F91F}\u{1F3FE}"},{"unified":"1f91f-1f3ff","native":"\u{1F91F}\u{1F3FF}"}],"version":5},"the_horns":{"id":"the_horns","name":"Sign of the Horns","keywords":["hand","fingers","evil","eye","rock","on"],"skins":[{"unified":"1f918","native":"\u{1F918}"},{"unified":"1f918-1f3fb","native":"\u{1F918}\u{1F3FB}"},{"unified":"1f918-1f3fc","native":"\u{1F918}\u{1F3FC}"},{"unified":"1f918-1f3fd","native":"\u{1F918}\u{1F3FD}"},{"unified":"1f918-1f3fe","native":"\u{1F918}\u{1F3FE}"},{"unified":"1f918-1f3ff","native":"\u{1F918}\u{1F3FF}"}],"version":1},"call_me_hand":{"id":"call_me_hand","name":"Call Me Hand","keywords":["hands","gesture","shaka"],"skins":[{"unified":"1f919","native":"\u{1F919}"},{"unified":"1f919-1f3fb","native":"\u{1F919}\u{1F3FB}"},{"unified":"1f919-1f3fc","native":"\u{1F919}\u{1F3FC}"},{"unified":"1f919-1f3fd","native":"\u{1F919}\u{1F3FD}"},{"unified":"1f919-1f3fe","native":"\u{1F919}\u{1F3FE}"},{"unified":"1f919-1f3ff","native":"\u{1F919}\u{1F3FF}"}],"version":3},"point_left":{"id":"point_left","name":"Backhand Index Pointing Left","keywords":["point","direction","fingers","hand"],"skins":[{"unified":"1f448","native":"\u{1F448}"},{"unified":"1f448-1f3fb","native":"\u{1F448}\u{1F3FB}"},{"unified":"1f448-1f3fc","native":"\u{1F448}\u{1F3FC}"},{"unified":"1f448-1f3fd","native":"\u{1F448}\u{1F3FD}"},{"unified":"1f448-1f3fe","native":"\u{1F448}\u{1F3FE}"},{"unified":"1f448-1f3ff","native":"\u{1F448}\u{1F3FF}"}],"version":1},"point_right":{"id":"point_right","name":"Backhand Index Pointing Right","keywords":["point","fingers","hand","direction"],"skins":[{"unified":"1f449","native":"\u{1F449}"},{"unified":"1f449-1f3fb","native":"\u{1F449}\u{1F3FB}"},{"unified":"1f449-1f3fc","native":"\u{1F449}\u{1F3FC}"},{"unified":"1f449-1f3fd","native":"\u{1F449}\u{1F3FD}"},{"unified":"1f449-1f3fe","native":"\u{1F449}\u{1F3FE}"},{"unified":"1f449-1f3ff","native":"\u{1F449}\u{1F3FF}"}],"version":1},"point_up_2":{"id":"point_up_2","name":"Backhand Index Pointing Up","keywords":["point","2","fingers","hand","direction"],"skins":[{"unified":"1f446","native":"\u{1F446}"},{"unified":"1f446-1f3fb","native":"\u{1F446}\u{1F3FB}"},{"unified":"1f446-1f3fc","native":"\u{1F446}\u{1F3FC}"},{"unified":"1f446-1f3fd","native":"\u{1F446}\u{1F3FD}"},{"unified":"1f446-1f3fe","native":"\u{1F446}\u{1F3FE}"},{"unified":"1f446-1f3ff","native":"\u{1F446}\u{1F3FF}"}],"version":1},"middle_finger":{"id":"middle_finger","name":"Middle Finger","keywords":["reversed","hand","with","extended","fingers","rude","flipping"],"skins":[{"unified":"1f595","native":"\u{1F595}"},{"unified":"1f595-1f3fb","native":"\u{1F595}\u{1F3FB}"},{"unified":"1f595-1f3fc","native":"\u{1F595}\u{1F3FC}"},{"unified":"1f595-1f3fd","native":"\u{1F595}\u{1F3FD}"},{"unified":"1f595-1f3fe","native":"\u{1F595}\u{1F3FE}"},{"unified":"1f595-1f3ff","native":"\u{1F595}\u{1F3FF}"}],"version":1},"point_down":{"id":"point_down","name":"Backhand Index Pointing Down","keywords":["point","fingers","hand","direction"],"skins":[{"unified":"1f447","native":"\u{1F447}"},{"unified":"1f447-1f3fb","native":"\u{1F447}\u{1F3FB}"},{"unified":"1f447-1f3fc","native":"\u{1F447}\u{1F3FC}"},{"unified":"1f447-1f3fd","native":"\u{1F447}\u{1F3FD}"},{"unified":"1f447-1f3fe","native":"\u{1F447}\u{1F3FE}"},{"unified":"1f447-1f3ff","native":"\u{1F447}\u{1F3FF}"}],"version":1},"point_up":{"id":"point_up","name":"Index Pointing Up","keywords":["point","hand","fingers","direction"],"skins":[{"unified":"261d-fe0f","native":"\u261D\uFE0F"},{"unified":"261d-1f3fb","native":"\u261D\u{1F3FB}"},{"unified":"261d-1f3fc","native":"\u261D\u{1F3FC}"},{"unified":"261d-1f3fd","native":"\u261D\u{1F3FD}"},{"unified":"261d-1f3fe","native":"\u261D\u{1F3FE}"},{"unified":"261d-1f3ff","native":"\u261D\u{1F3FF}"}],"version":1},"index_pointing_at_the_viewer":{"id":"index_pointing_at_the_viewer","name":"Index Pointing at the Viewer","keywords":["you","recruit"],"skins":[{"unified":"1faf5","native":"\u{1FAF5}"},{"unified":"1faf5-1f3fb","native":"\u{1FAF5}\u{1F3FB}"},{"unified":"1faf5-1f3fc","native":"\u{1FAF5}\u{1F3FC}"},{"unified":"1faf5-1f3fd","native":"\u{1FAF5}\u{1F3FD}"},{"unified":"1faf5-1f3fe","native":"\u{1FAF5}\u{1F3FE}"},{"unified":"1faf5-1f3ff","native":"\u{1FAF5}\u{1F3FF}"}],"version":14},"+1":{"id":"+1","name":"Thumbs Up","keywords":["+1","thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],"skins":[{"unified":"1f44d","native":"\u{1F44D}"},{"unified":"1f44d-1f3fb","native":"\u{1F44D}\u{1F3FB}"},{"unified":"1f44d-1f3fc","native":"\u{1F44D}\u{1F3FC}"},{"unified":"1f44d-1f3fd","native":"\u{1F44D}\u{1F3FD}"},{"unified":"1f44d-1f3fe","native":"\u{1F44D}\u{1F3FE}"},{"unified":"1f44d-1f3ff","native":"\u{1F44D}\u{1F3FF}"}],"version":1},"-1":{"id":"-1","name":"Thumbs Down","keywords":["-1","thumbsdown","no","dislike","hand"],"skins":[{"unified":"1f44e","native":"\u{1F44E}"},{"unified":"1f44e-1f3fb","native":"\u{1F44E}\u{1F3FB}"},{"unified":"1f44e-1f3fc","native":"\u{1F44E}\u{1F3FC}"},{"unified":"1f44e-1f3fd","native":"\u{1F44E}\u{1F3FD}"},{"unified":"1f44e-1f3fe","native":"\u{1F44E}\u{1F3FE}"},{"unified":"1f44e-1f3ff","native":"\u{1F44E}\u{1F3FF}"}],"version":1},"fist":{"id":"fist","name":"Raised Fist","keywords":["fingers","hand","grasp"],"skins":[{"unified":"270a","native":"\u270A"},{"unified":"270a-1f3fb","native":"\u270A\u{1F3FB}"},{"unified":"270a-1f3fc","native":"\u270A\u{1F3FC}"},{"unified":"270a-1f3fd","native":"\u270A\u{1F3FD}"},{"unified":"270a-1f3fe","native":"\u270A\u{1F3FE}"},{"unified":"270a-1f3ff","native":"\u270A\u{1F3FF}"}],"version":1},"facepunch":{"id":"facepunch","name":"Oncoming Fist","keywords":["facepunch","punch","angry","violence","hit","attack","hand"],"skins":[{"unified":"1f44a","native":"\u{1F44A}"},{"unified":"1f44a-1f3fb","native":"\u{1F44A}\u{1F3FB}"},{"unified":"1f44a-1f3fc","native":"\u{1F44A}\u{1F3FC}"},{"unified":"1f44a-1f3fd","native":"\u{1F44A}\u{1F3FD}"},{"unified":"1f44a-1f3fe","native":"\u{1F44A}\u{1F3FE}"},{"unified":"1f44a-1f3ff","native":"\u{1F44A}\u{1F3FF}"}],"version":1},"left-facing_fist":{"id":"left-facing_fist","name":"Left-Facing Fist","keywords":["left","facing","hand","fistbump"],"skins":[{"unified":"1f91b","native":"\u{1F91B}"},{"unified":"1f91b-1f3fb","native":"\u{1F91B}\u{1F3FB}"},{"unified":"1f91b-1f3fc","native":"\u{1F91B}\u{1F3FC}"},{"unified":"1f91b-1f3fd","native":"\u{1F91B}\u{1F3FD}"},{"unified":"1f91b-1f3fe","native":"\u{1F91B}\u{1F3FE}"},{"unified":"1f91b-1f3ff","native":"\u{1F91B}\u{1F3FF}"}],"version":3},"right-facing_fist":{"id":"right-facing_fist","name":"Right-Facing Fist","keywords":["right","facing","hand","fistbump"],"skins":[{"unified":"1f91c","native":"\u{1F91C}"},{"unified":"1f91c-1f3fb","native":"\u{1F91C}\u{1F3FB}"},{"unified":"1f91c-1f3fc","native":"\u{1F91C}\u{1F3FC}"},{"unified":"1f91c-1f3fd","native":"\u{1F91C}\u{1F3FD}"},{"unified":"1f91c-1f3fe","native":"\u{1F91C}\u{1F3FE}"},{"unified":"1f91c-1f3ff","native":"\u{1F91C}\u{1F3FF}"}],"version":3},"clap":{"id":"clap","name":"Clapping Hands","keywords":["clap","praise","applause","congrats","yay"],"skins":[{"unified":"1f44f","native":"\u{1F44F}"},{"unified":"1f44f-1f3fb","native":"\u{1F44F}\u{1F3FB}"},{"unified":"1f44f-1f3fc","native":"\u{1F44F}\u{1F3FC}"},{"unified":"1f44f-1f3fd","native":"\u{1F44F}\u{1F3FD}"},{"unified":"1f44f-1f3fe","native":"\u{1F44F}\u{1F3FE}"},{"unified":"1f44f-1f3ff","native":"\u{1F44F}\u{1F3FF}"}],"version":1},"raised_hands":{"id":"raised_hands","name":"Raising Hands","keywords":["raised","gesture","hooray","yea","celebration"],"skins":[{"unified":"1f64c","native":"\u{1F64C}"},{"unified":"1f64c-1f3fb","native":"\u{1F64C}\u{1F3FB}"},{"unified":"1f64c-1f3fc","native":"\u{1F64C}\u{1F3FC}"},{"unified":"1f64c-1f3fd","native":"\u{1F64C}\u{1F3FD}"},{"unified":"1f64c-1f3fe","native":"\u{1F64C}\u{1F3FE}"},{"unified":"1f64c-1f3ff","native":"\u{1F64C}\u{1F3FF}"}],"version":1},"heart_hands":{"id":"heart_hands","name":"Heart Hands","keywords":["love","appreciation","support"],"skins":[{"unified":"1faf6","native":"\u{1FAF6}"},{"unified":"1faf6-1f3fb","native":"\u{1FAF6}\u{1F3FB}"},{"unified":"1faf6-1f3fc","native":"\u{1FAF6}\u{1F3FC}"},{"unified":"1faf6-1f3fd","native":"\u{1FAF6}\u{1F3FD}"},{"unified":"1faf6-1f3fe","native":"\u{1FAF6}\u{1F3FE}"},{"unified":"1faf6-1f3ff","native":"\u{1FAF6}\u{1F3FF}"}],"version":14},"open_hands":{"id":"open_hands","name":"Open Hands","keywords":["fingers","butterfly"],"skins":[{"unified":"1f450","native":"\u{1F450}"},{"unified":"1f450-1f3fb","native":"\u{1F450}\u{1F3FB}"},{"unified":"1f450-1f3fc","native":"\u{1F450}\u{1F3FC}"},{"unified":"1f450-1f3fd","native":"\u{1F450}\u{1F3FD}"},{"unified":"1f450-1f3fe","native":"\u{1F450}\u{1F3FE}"},{"unified":"1f450-1f3ff","native":"\u{1F450}\u{1F3FF}"}],"version":1},"palms_up_together":{"id":"palms_up_together","name":"Palms Up Together","keywords":["hands","gesture","cupped","prayer"],"skins":[{"unified":"1f932","native":"\u{1F932}"},{"unified":"1f932-1f3fb","native":"\u{1F932}\u{1F3FB}"},{"unified":"1f932-1f3fc","native":"\u{1F932}\u{1F3FC}"},{"unified":"1f932-1f3fd","native":"\u{1F932}\u{1F3FD}"},{"unified":"1f932-1f3fe","native":"\u{1F932}\u{1F3FE}"},{"unified":"1f932-1f3ff","native":"\u{1F932}\u{1F3FF}"}],"version":5},"handshake":{"id":"handshake","name":"Handshake","keywords":["agreement","shake"],"skins":[{"unified":"1f91d","native":"\u{1F91D}"},{"unified":"1f91d-1f3fb","native":"\u{1F91D}\u{1F3FB}"},{"unified":"1f91d-1f3fc","native":"\u{1F91D}\u{1F3FC}"},{"unified":"1f91d-1f3fd","native":"\u{1F91D}\u{1F3FD}"},{"unified":"1f91d-1f3fe","native":"\u{1F91D}\u{1F3FE}"},{"unified":"1f91d-1f3ff","native":"\u{1F91D}\u{1F3FF}"}],"version":3},"pray":{"id":"pray","name":"Folded Hands","keywords":["pray","please","hope","wish","namaste","highfive","high","five","thank","you","thanks","appreciate"],"skins":[{"unified":"1f64f","native":"\u{1F64F}"},{"unified":"1f64f-1f3fb","native":"\u{1F64F}\u{1F3FB}"},{"unified":"1f64f-1f3fc","native":"\u{1F64F}\u{1F3FC}"},{"unified":"1f64f-1f3fd","native":"\u{1F64F}\u{1F3FD}"},{"unified":"1f64f-1f3fe","native":"\u{1F64F}\u{1F3FE}"},{"unified":"1f64f-1f3ff","native":"\u{1F64F}\u{1F3FF}"}],"version":1},"writing_hand":{"id":"writing_hand","name":"Writing Hand","keywords":["lower","left","ballpoint","pen","stationery","write","compose"],"skins":[{"unified":"270d-fe0f","native":"\u270D\uFE0F"},{"unified":"270d-1f3fb","native":"\u270D\u{1F3FB}"},{"unified":"270d-1f3fc","native":"\u270D\u{1F3FC}"},{"unified":"270d-1f3fd","native":"\u270D\u{1F3FD}"},{"unified":"270d-1f3fe","native":"\u270D\u{1F3FE}"},{"unified":"270d-1f3ff","native":"\u270D\u{1F3FF}"}],"version":1},"nail_care":{"id":"nail_care","name":"Nail Polish","keywords":["care","beauty","manicure","finger","fashion"],"skins":[{"unified":"1f485","native":"\u{1F485}"},{"unified":"1f485-1f3fb","native":"\u{1F485}\u{1F3FB}"},{"unified":"1f485-1f3fc","native":"\u{1F485}\u{1F3FC}"},{"unified":"1f485-1f3fd","native":"\u{1F485}\u{1F3FD}"},{"unified":"1f485-1f3fe","native":"\u{1F485}\u{1F3FE}"},{"unified":"1f485-1f3ff","native":"\u{1F485}\u{1F3FF}"}],"version":1},"selfie":{"id":"selfie","name":"Selfie","keywords":["camera","phone"],"skins":[{"unified":"1f933","native":"\u{1F933}"},{"unified":"1f933-1f3fb","native":"\u{1F933}\u{1F3FB}"},{"unified":"1f933-1f3fc","native":"\u{1F933}\u{1F3FC}"},{"unified":"1f933-1f3fd","native":"\u{1F933}\u{1F3FD}"},{"unified":"1f933-1f3fe","native":"\u{1F933}\u{1F3FE}"},{"unified":"1f933-1f3ff","native":"\u{1F933}\u{1F3FF}"}],"version":3},"muscle":{"id":"muscle","name":"Flexed Biceps","keywords":["muscle","arm","flex","hand","summer","strong"],"skins":[{"unified":"1f4aa","native":"\u{1F4AA}"},{"unified":"1f4aa-1f3fb","native":"\u{1F4AA}\u{1F3FB}"},{"unified":"1f4aa-1f3fc","native":"\u{1F4AA}\u{1F3FC}"},{"unified":"1f4aa-1f3fd","native":"\u{1F4AA}\u{1F3FD}"},{"unified":"1f4aa-1f3fe","native":"\u{1F4AA}\u{1F3FE}"},{"unified":"1f4aa-1f3ff","native":"\u{1F4AA}\u{1F3FF}"}],"version":1},"mechanical_arm":{"id":"mechanical_arm","name":"Mechanical Arm","keywords":["accessibility"],"skins":[{"unified":"1f9be","native":"\u{1F9BE}"}],"version":12},"mechanical_leg":{"id":"mechanical_leg","name":"Mechanical Leg","keywords":["accessibility"],"skins":[{"unified":"1f9bf","native":"\u{1F9BF}"}],"version":12},"leg":{"id":"leg","name":"Leg","keywords":["kick","limb"],"skins":[{"unified":"1f9b5","native":"\u{1F9B5}"},{"unified":"1f9b5-1f3fb","native":"\u{1F9B5}\u{1F3FB}"},{"unified":"1f9b5-1f3fc","native":"\u{1F9B5}\u{1F3FC}"},{"unified":"1f9b5-1f3fd","native":"\u{1F9B5}\u{1F3FD}"},{"unified":"1f9b5-1f3fe","native":"\u{1F9B5}\u{1F3FE}"},{"unified":"1f9b5-1f3ff","native":"\u{1F9B5}\u{1F3FF}"}],"version":11},"foot":{"id":"foot","name":"Foot","keywords":["kick","stomp"],"skins":[{"unified":"1f9b6","native":"\u{1F9B6}"},{"unified":"1f9b6-1f3fb","native":"\u{1F9B6}\u{1F3FB}"},{"unified":"1f9b6-1f3fc","native":"\u{1F9B6}\u{1F3FC}"},{"unified":"1f9b6-1f3fd","native":"\u{1F9B6}\u{1F3FD}"},{"unified":"1f9b6-1f3fe","native":"\u{1F9B6}\u{1F3FE}"},{"unified":"1f9b6-1f3ff","native":"\u{1F9B6}\u{1F3FF}"}],"version":11},"ear":{"id":"ear","name":"Ear","keywords":["face","hear","sound","listen"],"skins":[{"unified":"1f442","native":"\u{1F442}"},{"unified":"1f442-1f3fb","native":"\u{1F442}\u{1F3FB}"},{"unified":"1f442-1f3fc","native":"\u{1F442}\u{1F3FC}"},{"unified":"1f442-1f3fd","native":"\u{1F442}\u{1F3FD}"},{"unified":"1f442-1f3fe","native":"\u{1F442}\u{1F3FE}"},{"unified":"1f442-1f3ff","native":"\u{1F442}\u{1F3FF}"}],"version":1},"ear_with_hearing_aid":{"id":"ear_with_hearing_aid","name":"Ear with Hearing Aid","keywords":["accessibility"],"skins":[{"unified":"1f9bb","native":"\u{1F9BB}"},{"unified":"1f9bb-1f3fb","native":"\u{1F9BB}\u{1F3FB}"},{"unified":"1f9bb-1f3fc","native":"\u{1F9BB}\u{1F3FC}"},{"unified":"1f9bb-1f3fd","native":"\u{1F9BB}\u{1F3FD}"},{"unified":"1f9bb-1f3fe","native":"\u{1F9BB}\u{1F3FE}"},{"unified":"1f9bb-1f3ff","native":"\u{1F9BB}\u{1F3FF}"}],"version":12},"nose":{"id":"nose","name":"Nose","keywords":["smell","sniff"],"skins":[{"unified":"1f443","native":"\u{1F443}"},{"unified":"1f443-1f3fb","native":"\u{1F443}\u{1F3FB}"},{"unified":"1f443-1f3fc","native":"\u{1F443}\u{1F3FC}"},{"unified":"1f443-1f3fd","native":"\u{1F443}\u{1F3FD}"},{"unified":"1f443-1f3fe","native":"\u{1F443}\u{1F3FE}"},{"unified":"1f443-1f3ff","native":"\u{1F443}\u{1F3FF}"}],"version":1},"brain":{"id":"brain","name":"Brain","keywords":["smart","intelligent"],"skins":[{"unified":"1f9e0","native":"\u{1F9E0}"}],"version":5},"anatomical_heart":{"id":"anatomical_heart","name":"Anatomical Heart","keywords":["health","heartbeat"],"skins":[{"unified":"1fac0","native":"\u{1FAC0}"}],"version":13},"lungs":{"id":"lungs","name":"Lungs","keywords":["breathe"],"skins":[{"unified":"1fac1","native":"\u{1FAC1}"}],"version":13},"tooth":{"id":"tooth","name":"Tooth","keywords":["teeth","dentist"],"skins":[{"unified":"1f9b7","native":"\u{1F9B7}"}],"version":11},"bone":{"id":"bone","name":"Bone","keywords":["skeleton"],"skins":[{"unified":"1f9b4","native":"\u{1F9B4}"}],"version":11},"eyes":{"id":"eyes","name":"Eyes","keywords":["look","watch","stalk","peek","see"],"skins":[{"unified":"1f440","native":"\u{1F440}"}],"version":1},"eye":{"id":"eye","name":"Eye","keywords":["face","look","see","watch","stare"],"skins":[{"unified":"1f441-fe0f","native":"\u{1F441}\uFE0F"}],"version":1},"tongue":{"id":"tongue","name":"Tongue","keywords":["mouth","playful"],"skins":[{"unified":"1f445","native":"\u{1F445}"}],"version":1},"lips":{"id":"lips","name":"Mouth","keywords":["lips","kiss"],"skins":[{"unified":"1f444","native":"\u{1F444}"}],"version":1},"biting_lip":{"id":"biting_lip","name":"Biting Lip","keywords":["flirt","sexy","pain","worry"],"skins":[{"unified":"1fae6","native":"\u{1FAE6}"}],"version":14},"baby":{"id":"baby","name":"Baby","keywords":["child","boy","girl","toddler"],"skins":[{"unified":"1f476","native":"\u{1F476}"},{"unified":"1f476-1f3fb","native":"\u{1F476}\u{1F3FB}"},{"unified":"1f476-1f3fc","native":"\u{1F476}\u{1F3FC}"},{"unified":"1f476-1f3fd","native":"\u{1F476}\u{1F3FD}"},{"unified":"1f476-1f3fe","native":"\u{1F476}\u{1F3FE}"},{"unified":"1f476-1f3ff","native":"\u{1F476}\u{1F3FF}"}],"version":1},"child":{"id":"child","name":"Child","keywords":["gender","neutral","young"],"skins":[{"unified":"1f9d2","native":"\u{1F9D2}"},{"unified":"1f9d2-1f3fb","native":"\u{1F9D2}\u{1F3FB}"},{"unified":"1f9d2-1f3fc","native":"\u{1F9D2}\u{1F3FC}"},{"unified":"1f9d2-1f3fd","native":"\u{1F9D2}\u{1F3FD}"},{"unified":"1f9d2-1f3fe","native":"\u{1F9D2}\u{1F3FE}"},{"unified":"1f9d2-1f3ff","native":"\u{1F9D2}\u{1F3FF}"}],"version":5},"boy":{"id":"boy","name":"Boy","keywords":["man","male","guy","teenager"],"skins":[{"unified":"1f466","native":"\u{1F466}"},{"unified":"1f466-1f3fb","native":"\u{1F466}\u{1F3FB}"},{"unified":"1f466-1f3fc","native":"\u{1F466}\u{1F3FC}"},{"unified":"1f466-1f3fd","native":"\u{1F466}\u{1F3FD}"},{"unified":"1f466-1f3fe","native":"\u{1F466}\u{1F3FE}"},{"unified":"1f466-1f3ff","native":"\u{1F466}\u{1F3FF}"}],"version":1},"girl":{"id":"girl","name":"Girl","keywords":["female","woman","teenager"],"skins":[{"unified":"1f467","native":"\u{1F467}"},{"unified":"1f467-1f3fb","native":"\u{1F467}\u{1F3FB}"},{"unified":"1f467-1f3fc","native":"\u{1F467}\u{1F3FC}"},{"unified":"1f467-1f3fd","native":"\u{1F467}\u{1F3FD}"},{"unified":"1f467-1f3fe","native":"\u{1F467}\u{1F3FE}"},{"unified":"1f467-1f3ff","native":"\u{1F467}\u{1F3FF}"}],"version":1},"adult":{"id":"adult","name":"Adult","keywords":["person","gender","neutral"],"skins":[{"unified":"1f9d1","native":"\u{1F9D1}"},{"unified":"1f9d1-1f3fb","native":"\u{1F9D1}\u{1F3FB}"},{"unified":"1f9d1-1f3fc","native":"\u{1F9D1}\u{1F3FC}"},{"unified":"1f9d1-1f3fd","native":"\u{1F9D1}\u{1F3FD}"},{"unified":"1f9d1-1f3fe","native":"\u{1F9D1}\u{1F3FE}"},{"unified":"1f9d1-1f3ff","native":"\u{1F9D1}\u{1F3FF}"}],"version":5},"person_with_blond_hair":{"id":"person_with_blond_hair","name":"Person Blond Hair","keywords":["with","hairstyle"],"skins":[{"unified":"1f471","native":"\u{1F471}"},{"unified":"1f471-1f3fb","native":"\u{1F471}\u{1F3FB}"},{"unified":"1f471-1f3fc","native":"\u{1F471}\u{1F3FC}"},{"unified":"1f471-1f3fd","native":"\u{1F471}\u{1F3FD}"},{"unified":"1f471-1f3fe","native":"\u{1F471}\u{1F3FE}"},{"unified":"1f471-1f3ff","native":"\u{1F471}\u{1F3FF}"}],"version":1},"man":{"id":"man","name":"Man","keywords":["mustache","father","dad","guy","classy","sir","moustache"],"skins":[{"unified":"1f468","native":"\u{1F468}"},{"unified":"1f468-1f3fb","native":"\u{1F468}\u{1F3FB}"},{"unified":"1f468-1f3fc","native":"\u{1F468}\u{1F3FC}"},{"unified":"1f468-1f3fd","native":"\u{1F468}\u{1F3FD}"},{"unified":"1f468-1f3fe","native":"\u{1F468}\u{1F3FE}"},{"unified":"1f468-1f3ff","native":"\u{1F468}\u{1F3FF}"}],"version":1},"bearded_person":{"id":"bearded_person","name":"Person Beard","keywords":["bearded","man","bewhiskered"],"skins":[{"unified":"1f9d4","native":"\u{1F9D4}"},{"unified":"1f9d4-1f3fb","native":"\u{1F9D4}\u{1F3FB}"},{"unified":"1f9d4-1f3fc","native":"\u{1F9D4}\u{1F3FC}"},{"unified":"1f9d4-1f3fd","native":"\u{1F9D4}\u{1F3FD}"},{"unified":"1f9d4-1f3fe","native":"\u{1F9D4}\u{1F3FE}"},{"unified":"1f9d4-1f3ff","native":"\u{1F9D4}\u{1F3FF}"}],"version":5},"man_with_beard":{"id":"man_with_beard","name":"Man: Beard","keywords":["man","with","facial","hair"],"skins":[{"unified":"1f9d4-200d-2642-fe0f","native":"\u{1F9D4}\u200D\u2642\uFE0F"},{"unified":"1f9d4-1f3fb-200d-2642-fe0f","native":"\u{1F9D4}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f9d4-1f3fc-200d-2642-fe0f","native":"\u{1F9D4}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f9d4-1f3fd-200d-2642-fe0f","native":"\u{1F9D4}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f9d4-1f3fe-200d-2642-fe0f","native":"\u{1F9D4}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f9d4-1f3ff-200d-2642-fe0f","native":"\u{1F9D4}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":13.1},"woman_with_beard":{"id":"woman_with_beard","name":"Woman: Beard","keywords":["woman","with","facial","hair"],"skins":[{"unified":"1f9d4-200d-2640-fe0f","native":"\u{1F9D4}\u200D\u2640\uFE0F"},{"unified":"1f9d4-1f3fb-200d-2640-fe0f","native":"\u{1F9D4}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f9d4-1f3fc-200d-2640-fe0f","native":"\u{1F9D4}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f9d4-1f3fd-200d-2640-fe0f","native":"\u{1F9D4}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f9d4-1f3fe-200d-2640-fe0f","native":"\u{1F9D4}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f9d4-1f3ff-200d-2640-fe0f","native":"\u{1F9D4}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":13.1},"red_haired_man":{"id":"red_haired_man","name":"Man: Red Hair","keywords":["haired","man","hairstyle"],"skins":[{"unified":"1f468-200d-1f9b0","native":"\u{1F468}\u200D\u{1F9B0}"},{"unified":"1f468-1f3fb-200d-1f9b0","native":"\u{1F468}\u{1F3FB}\u200D\u{1F9B0}"},{"unified":"1f468-1f3fc-200d-1f9b0","native":"\u{1F468}\u{1F3FC}\u200D\u{1F9B0}"},{"unified":"1f468-1f3fd-200d-1f9b0","native":"\u{1F468}\u{1F3FD}\u200D\u{1F9B0}"},{"unified":"1f468-1f3fe-200d-1f9b0","native":"\u{1F468}\u{1F3FE}\u200D\u{1F9B0}"},{"unified":"1f468-1f3ff-200d-1f9b0","native":"\u{1F468}\u{1F3FF}\u200D\u{1F9B0}"}],"version":11},"curly_haired_man":{"id":"curly_haired_man","name":"Man: Curly Hair","keywords":["haired","man","hairstyle"],"skins":[{"unified":"1f468-200d-1f9b1","native":"\u{1F468}\u200D\u{1F9B1}"},{"unified":"1f468-1f3fb-200d-1f9b1","native":"\u{1F468}\u{1F3FB}\u200D\u{1F9B1}"},{"unified":"1f468-1f3fc-200d-1f9b1","native":"\u{1F468}\u{1F3FC}\u200D\u{1F9B1}"},{"unified":"1f468-1f3fd-200d-1f9b1","native":"\u{1F468}\u{1F3FD}\u200D\u{1F9B1}"},{"unified":"1f468-1f3fe-200d-1f9b1","native":"\u{1F468}\u{1F3FE}\u200D\u{1F9B1}"},{"unified":"1f468-1f3ff-200d-1f9b1","native":"\u{1F468}\u{1F3FF}\u200D\u{1F9B1}"}],"version":11},"white_haired_man":{"id":"white_haired_man","name":"Man: White Hair","keywords":["haired","man","old","elder"],"skins":[{"unified":"1f468-200d-1f9b3","native":"\u{1F468}\u200D\u{1F9B3}"},{"unified":"1f468-1f3fb-200d-1f9b3","native":"\u{1F468}\u{1F3FB}\u200D\u{1F9B3}"},{"unified":"1f468-1f3fc-200d-1f9b3","native":"\u{1F468}\u{1F3FC}\u200D\u{1F9B3}"},{"unified":"1f468-1f3fd-200d-1f9b3","native":"\u{1F468}\u{1F3FD}\u200D\u{1F9B3}"},{"unified":"1f468-1f3fe-200d-1f9b3","native":"\u{1F468}\u{1F3FE}\u200D\u{1F9B3}"},{"unified":"1f468-1f3ff-200d-1f9b3","native":"\u{1F468}\u{1F3FF}\u200D\u{1F9B3}"}],"version":11},"bald_man":{"id":"bald_man","name":"Man: Bald","keywords":["man","hairless"],"skins":[{"unified":"1f468-200d-1f9b2","native":"\u{1F468}\u200D\u{1F9B2}"},{"unified":"1f468-1f3fb-200d-1f9b2","native":"\u{1F468}\u{1F3FB}\u200D\u{1F9B2}"},{"unified":"1f468-1f3fc-200d-1f9b2","native":"\u{1F468}\u{1F3FC}\u200D\u{1F9B2}"},{"unified":"1f468-1f3fd-200d-1f9b2","native":"\u{1F468}\u{1F3FD}\u200D\u{1F9B2}"},{"unified":"1f468-1f3fe-200d-1f9b2","native":"\u{1F468}\u{1F3FE}\u200D\u{1F9B2}"},{"unified":"1f468-1f3ff-200d-1f9b2","native":"\u{1F468}\u{1F3FF}\u200D\u{1F9B2}"}],"version":11},"woman":{"id":"woman","name":"Woman","keywords":["female","girls","lady"],"skins":[{"unified":"1f469","native":"\u{1F469}"},{"unified":"1f469-1f3fb","native":"\u{1F469}\u{1F3FB}"},{"unified":"1f469-1f3fc","native":"\u{1F469}\u{1F3FC}"},{"unified":"1f469-1f3fd","native":"\u{1F469}\u{1F3FD}"},{"unified":"1f469-1f3fe","native":"\u{1F469}\u{1F3FE}"},{"unified":"1f469-1f3ff","native":"\u{1F469}\u{1F3FF}"}],"version":1},"red_haired_woman":{"id":"red_haired_woman","name":"Woman: Red Hair","keywords":["haired","woman","hairstyle"],"skins":[{"unified":"1f469-200d-1f9b0","native":"\u{1F469}\u200D\u{1F9B0}"},{"unified":"1f469-1f3fb-200d-1f9b0","native":"\u{1F469}\u{1F3FB}\u200D\u{1F9B0}"},{"unified":"1f469-1f3fc-200d-1f9b0","native":"\u{1F469}\u{1F3FC}\u200D\u{1F9B0}"},{"unified":"1f469-1f3fd-200d-1f9b0","native":"\u{1F469}\u{1F3FD}\u200D\u{1F9B0}"},{"unified":"1f469-1f3fe-200d-1f9b0","native":"\u{1F469}\u{1F3FE}\u200D\u{1F9B0}"},{"unified":"1f469-1f3ff-200d-1f9b0","native":"\u{1F469}\u{1F3FF}\u200D\u{1F9B0}"}],"version":11},"red_haired_person":{"id":"red_haired_person","name":"Person: Red Hair","keywords":["haired","person","hairstyle"],"skins":[{"unified":"1f9d1-200d-1f9b0","native":"\u{1F9D1}\u200D\u{1F9B0}"},{"unified":"1f9d1-1f3fb-200d-1f9b0","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F9B0}"},{"unified":"1f9d1-1f3fc-200d-1f9b0","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F9B0}"},{"unified":"1f9d1-1f3fd-200d-1f9b0","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F9B0}"},{"unified":"1f9d1-1f3fe-200d-1f9b0","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F9B0}"},{"unified":"1f9d1-1f3ff-200d-1f9b0","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F9B0}"}],"version":12.1},"curly_haired_woman":{"id":"curly_haired_woman","name":"Woman: Curly Hair","keywords":["haired","woman","hairstyle"],"skins":[{"unified":"1f469-200d-1f9b1","native":"\u{1F469}\u200D\u{1F9B1}"},{"unified":"1f469-1f3fb-200d-1f9b1","native":"\u{1F469}\u{1F3FB}\u200D\u{1F9B1}"},{"unified":"1f469-1f3fc-200d-1f9b1","native":"\u{1F469}\u{1F3FC}\u200D\u{1F9B1}"},{"unified":"1f469-1f3fd-200d-1f9b1","native":"\u{1F469}\u{1F3FD}\u200D\u{1F9B1}"},{"unified":"1f469-1f3fe-200d-1f9b1","native":"\u{1F469}\u{1F3FE}\u200D\u{1F9B1}"},{"unified":"1f469-1f3ff-200d-1f9b1","native":"\u{1F469}\u{1F3FF}\u200D\u{1F9B1}"}],"version":11},"curly_haired_person":{"id":"curly_haired_person","name":"Person: Curly Hair","keywords":["haired","person","hairstyle"],"skins":[{"unified":"1f9d1-200d-1f9b1","native":"\u{1F9D1}\u200D\u{1F9B1}"},{"unified":"1f9d1-1f3fb-200d-1f9b1","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F9B1}"},{"unified":"1f9d1-1f3fc-200d-1f9b1","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F9B1}"},{"unified":"1f9d1-1f3fd-200d-1f9b1","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F9B1}"},{"unified":"1f9d1-1f3fe-200d-1f9b1","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F9B1}"},{"unified":"1f9d1-1f3ff-200d-1f9b1","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F9B1}"}],"version":12.1},"white_haired_woman":{"id":"white_haired_woman","name":"Woman: White Hair","keywords":["haired","woman","old","elder"],"skins":[{"unified":"1f469-200d-1f9b3","native":"\u{1F469}\u200D\u{1F9B3}"},{"unified":"1f469-1f3fb-200d-1f9b3","native":"\u{1F469}\u{1F3FB}\u200D\u{1F9B3}"},{"unified":"1f469-1f3fc-200d-1f9b3","native":"\u{1F469}\u{1F3FC}\u200D\u{1F9B3}"},{"unified":"1f469-1f3fd-200d-1f9b3","native":"\u{1F469}\u{1F3FD}\u200D\u{1F9B3}"},{"unified":"1f469-1f3fe-200d-1f9b3","native":"\u{1F469}\u{1F3FE}\u200D\u{1F9B3}"},{"unified":"1f469-1f3ff-200d-1f9b3","native":"\u{1F469}\u{1F3FF}\u200D\u{1F9B3}"}],"version":11},"white_haired_person":{"id":"white_haired_person","name":"Person: White Hair","keywords":["haired","person","elder","old"],"skins":[{"unified":"1f9d1-200d-1f9b3","native":"\u{1F9D1}\u200D\u{1F9B3}"},{"unified":"1f9d1-1f3fb-200d-1f9b3","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F9B3}"},{"unified":"1f9d1-1f3fc-200d-1f9b3","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F9B3}"},{"unified":"1f9d1-1f3fd-200d-1f9b3","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F9B3}"},{"unified":"1f9d1-1f3fe-200d-1f9b3","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F9B3}"},{"unified":"1f9d1-1f3ff-200d-1f9b3","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F9B3}"}],"version":12.1},"bald_woman":{"id":"bald_woman","name":"Woman: Bald","keywords":["woman","hairless"],"skins":[{"unified":"1f469-200d-1f9b2","native":"\u{1F469}\u200D\u{1F9B2}"},{"unified":"1f469-1f3fb-200d-1f9b2","native":"\u{1F469}\u{1F3FB}\u200D\u{1F9B2}"},{"unified":"1f469-1f3fc-200d-1f9b2","native":"\u{1F469}\u{1F3FC}\u200D\u{1F9B2}"},{"unified":"1f469-1f3fd-200d-1f9b2","native":"\u{1F469}\u{1F3FD}\u200D\u{1F9B2}"},{"unified":"1f469-1f3fe-200d-1f9b2","native":"\u{1F469}\u{1F3FE}\u200D\u{1F9B2}"},{"unified":"1f469-1f3ff-200d-1f9b2","native":"\u{1F469}\u{1F3FF}\u200D\u{1F9B2}"}],"version":11},"bald_person":{"id":"bald_person","name":"Person: Bald","keywords":["person","hairless"],"skins":[{"unified":"1f9d1-200d-1f9b2","native":"\u{1F9D1}\u200D\u{1F9B2}"},{"unified":"1f9d1-1f3fb-200d-1f9b2","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F9B2}"},{"unified":"1f9d1-1f3fc-200d-1f9b2","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F9B2}"},{"unified":"1f9d1-1f3fd-200d-1f9b2","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F9B2}"},{"unified":"1f9d1-1f3fe-200d-1f9b2","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F9B2}"},{"unified":"1f9d1-1f3ff-200d-1f9b2","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F9B2}"}],"version":12.1},"blond-haired-woman":{"id":"blond-haired-woman","name":"Woman: Blond Hair","keywords":["haired-woman","woman","female","girl","blonde","person"],"skins":[{"unified":"1f471-200d-2640-fe0f","native":"\u{1F471}\u200D\u2640\uFE0F"},{"unified":"1f471-1f3fb-200d-2640-fe0f","native":"\u{1F471}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f471-1f3fc-200d-2640-fe0f","native":"\u{1F471}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f471-1f3fd-200d-2640-fe0f","native":"\u{1F471}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f471-1f3fe-200d-2640-fe0f","native":"\u{1F471}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f471-1f3ff-200d-2640-fe0f","native":"\u{1F471}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"blond-haired-man":{"id":"blond-haired-man","name":"Man: Blond Hair","keywords":["haired-man","man","male","boy","blonde","guy","person"],"skins":[{"unified":"1f471-200d-2642-fe0f","native":"\u{1F471}\u200D\u2642\uFE0F"},{"unified":"1f471-1f3fb-200d-2642-fe0f","native":"\u{1F471}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f471-1f3fc-200d-2642-fe0f","native":"\u{1F471}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f471-1f3fd-200d-2642-fe0f","native":"\u{1F471}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f471-1f3fe-200d-2642-fe0f","native":"\u{1F471}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f471-1f3ff-200d-2642-fe0f","native":"\u{1F471}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"older_adult":{"id":"older_adult","name":"Older Adult","keywords":["person","human","elder","senior","gender","neutral"],"skins":[{"unified":"1f9d3","native":"\u{1F9D3}"},{"unified":"1f9d3-1f3fb","native":"\u{1F9D3}\u{1F3FB}"},{"unified":"1f9d3-1f3fc","native":"\u{1F9D3}\u{1F3FC}"},{"unified":"1f9d3-1f3fd","native":"\u{1F9D3}\u{1F3FD}"},{"unified":"1f9d3-1f3fe","native":"\u{1F9D3}\u{1F3FE}"},{"unified":"1f9d3-1f3ff","native":"\u{1F9D3}\u{1F3FF}"}],"version":5},"older_man":{"id":"older_man","name":"Old Man","keywords":["older","human","male","men","elder","senior"],"skins":[{"unified":"1f474","native":"\u{1F474}"},{"unified":"1f474-1f3fb","native":"\u{1F474}\u{1F3FB}"},{"unified":"1f474-1f3fc","native":"\u{1F474}\u{1F3FC}"},{"unified":"1f474-1f3fd","native":"\u{1F474}\u{1F3FD}"},{"unified":"1f474-1f3fe","native":"\u{1F474}\u{1F3FE}"},{"unified":"1f474-1f3ff","native":"\u{1F474}\u{1F3FF}"}],"version":1},"older_woman":{"id":"older_woman","name":"Old Woman","keywords":["older","human","female","women","lady","elder","senior"],"skins":[{"unified":"1f475","native":"\u{1F475}"},{"unified":"1f475-1f3fb","native":"\u{1F475}\u{1F3FB}"},{"unified":"1f475-1f3fc","native":"\u{1F475}\u{1F3FC}"},{"unified":"1f475-1f3fd","native":"\u{1F475}\u{1F3FD}"},{"unified":"1f475-1f3fe","native":"\u{1F475}\u{1F3FE}"},{"unified":"1f475-1f3ff","native":"\u{1F475}\u{1F3FF}"}],"version":1},"person_frowning":{"id":"person_frowning","name":"Person Frowning","keywords":["worried"],"skins":[{"unified":"1f64d","native":"\u{1F64D}"},{"unified":"1f64d-1f3fb","native":"\u{1F64D}\u{1F3FB}"},{"unified":"1f64d-1f3fc","native":"\u{1F64D}\u{1F3FC}"},{"unified":"1f64d-1f3fd","native":"\u{1F64D}\u{1F3FD}"},{"unified":"1f64d-1f3fe","native":"\u{1F64D}\u{1F3FE}"},{"unified":"1f64d-1f3ff","native":"\u{1F64D}\u{1F3FF}"}],"version":1},"man-frowning":{"id":"man-frowning","name":"Man Frowning","keywords":["male","boy","sad","depressed","discouraged","unhappy"],"skins":[{"unified":"1f64d-200d-2642-fe0f","native":"\u{1F64D}\u200D\u2642\uFE0F"},{"unified":"1f64d-1f3fb-200d-2642-fe0f","native":"\u{1F64D}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f64d-1f3fc-200d-2642-fe0f","native":"\u{1F64D}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f64d-1f3fd-200d-2642-fe0f","native":"\u{1F64D}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f64d-1f3fe-200d-2642-fe0f","native":"\u{1F64D}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f64d-1f3ff-200d-2642-fe0f","native":"\u{1F64D}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-frowning":{"id":"woman-frowning","name":"Woman Frowning","keywords":["female","girl","sad","depressed","discouraged","unhappy"],"skins":[{"unified":"1f64d-200d-2640-fe0f","native":"\u{1F64D}\u200D\u2640\uFE0F"},{"unified":"1f64d-1f3fb-200d-2640-fe0f","native":"\u{1F64D}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f64d-1f3fc-200d-2640-fe0f","native":"\u{1F64D}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f64d-1f3fd-200d-2640-fe0f","native":"\u{1F64D}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f64d-1f3fe-200d-2640-fe0f","native":"\u{1F64D}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f64d-1f3ff-200d-2640-fe0f","native":"\u{1F64D}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"person_with_pouting_face":{"id":"person_with_pouting_face","name":"Person Pouting","keywords":["with","face","upset"],"skins":[{"unified":"1f64e","native":"\u{1F64E}"},{"unified":"1f64e-1f3fb","native":"\u{1F64E}\u{1F3FB}"},{"unified":"1f64e-1f3fc","native":"\u{1F64E}\u{1F3FC}"},{"unified":"1f64e-1f3fd","native":"\u{1F64E}\u{1F3FD}"},{"unified":"1f64e-1f3fe","native":"\u{1F64E}\u{1F3FE}"},{"unified":"1f64e-1f3ff","native":"\u{1F64E}\u{1F3FF}"}],"version":1},"man-pouting":{"id":"man-pouting","name":"Man Pouting","keywords":["male","boy"],"skins":[{"unified":"1f64e-200d-2642-fe0f","native":"\u{1F64E}\u200D\u2642\uFE0F"},{"unified":"1f64e-1f3fb-200d-2642-fe0f","native":"\u{1F64E}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f64e-1f3fc-200d-2642-fe0f","native":"\u{1F64E}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f64e-1f3fd-200d-2642-fe0f","native":"\u{1F64E}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f64e-1f3fe-200d-2642-fe0f","native":"\u{1F64E}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f64e-1f3ff-200d-2642-fe0f","native":"\u{1F64E}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-pouting":{"id":"woman-pouting","name":"Woman Pouting","keywords":["female","girl"],"skins":[{"unified":"1f64e-200d-2640-fe0f","native":"\u{1F64E}\u200D\u2640\uFE0F"},{"unified":"1f64e-1f3fb-200d-2640-fe0f","native":"\u{1F64E}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f64e-1f3fc-200d-2640-fe0f","native":"\u{1F64E}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f64e-1f3fd-200d-2640-fe0f","native":"\u{1F64E}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f64e-1f3fe-200d-2640-fe0f","native":"\u{1F64E}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f64e-1f3ff-200d-2640-fe0f","native":"\u{1F64E}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"no_good":{"id":"no_good","name":"Person Gesturing No","keywords":["good","decline"],"skins":[{"unified":"1f645","native":"\u{1F645}"},{"unified":"1f645-1f3fb","native":"\u{1F645}\u{1F3FB}"},{"unified":"1f645-1f3fc","native":"\u{1F645}\u{1F3FC}"},{"unified":"1f645-1f3fd","native":"\u{1F645}\u{1F3FD}"},{"unified":"1f645-1f3fe","native":"\u{1F645}\u{1F3FE}"},{"unified":"1f645-1f3ff","native":"\u{1F645}\u{1F3FF}"}],"version":1},"man-gesturing-no":{"id":"man-gesturing-no","name":"Man Gesturing No","keywords":["gesturing-no","male","boy","nope"],"skins":[{"unified":"1f645-200d-2642-fe0f","native":"\u{1F645}\u200D\u2642\uFE0F"},{"unified":"1f645-1f3fb-200d-2642-fe0f","native":"\u{1F645}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f645-1f3fc-200d-2642-fe0f","native":"\u{1F645}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f645-1f3fd-200d-2642-fe0f","native":"\u{1F645}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f645-1f3fe-200d-2642-fe0f","native":"\u{1F645}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f645-1f3ff-200d-2642-fe0f","native":"\u{1F645}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-gesturing-no":{"id":"woman-gesturing-no","name":"Woman Gesturing No","keywords":["gesturing-no","female","girl","nope"],"skins":[{"unified":"1f645-200d-2640-fe0f","native":"\u{1F645}\u200D\u2640\uFE0F"},{"unified":"1f645-1f3fb-200d-2640-fe0f","native":"\u{1F645}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f645-1f3fc-200d-2640-fe0f","native":"\u{1F645}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f645-1f3fd-200d-2640-fe0f","native":"\u{1F645}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f645-1f3fe-200d-2640-fe0f","native":"\u{1F645}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f645-1f3ff-200d-2640-fe0f","native":"\u{1F645}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"ok_woman":{"id":"ok_woman","name":"Person Gesturing Ok","keywords":["woman","agree"],"skins":[{"unified":"1f646","native":"\u{1F646}"},{"unified":"1f646-1f3fb","native":"\u{1F646}\u{1F3FB}"},{"unified":"1f646-1f3fc","native":"\u{1F646}\u{1F3FC}"},{"unified":"1f646-1f3fd","native":"\u{1F646}\u{1F3FD}"},{"unified":"1f646-1f3fe","native":"\u{1F646}\u{1F3FE}"},{"unified":"1f646-1f3ff","native":"\u{1F646}\u{1F3FF}"}],"version":1},"man-gesturing-ok":{"id":"man-gesturing-ok","name":"Man Gesturing Ok","keywords":["gesturing-ok","men","boy","male","blue","human"],"skins":[{"unified":"1f646-200d-2642-fe0f","native":"\u{1F646}\u200D\u2642\uFE0F"},{"unified":"1f646-1f3fb-200d-2642-fe0f","native":"\u{1F646}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f646-1f3fc-200d-2642-fe0f","native":"\u{1F646}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f646-1f3fd-200d-2642-fe0f","native":"\u{1F646}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f646-1f3fe-200d-2642-fe0f","native":"\u{1F646}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f646-1f3ff-200d-2642-fe0f","native":"\u{1F646}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-gesturing-ok":{"id":"woman-gesturing-ok","name":"Woman Gesturing Ok","keywords":["gesturing-ok","women","girl","female","pink","human"],"skins":[{"unified":"1f646-200d-2640-fe0f","native":"\u{1F646}\u200D\u2640\uFE0F"},{"unified":"1f646-1f3fb-200d-2640-fe0f","native":"\u{1F646}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f646-1f3fc-200d-2640-fe0f","native":"\u{1F646}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f646-1f3fd-200d-2640-fe0f","native":"\u{1F646}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f646-1f3fe-200d-2640-fe0f","native":"\u{1F646}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f646-1f3ff-200d-2640-fe0f","native":"\u{1F646}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"information_desk_person":{"id":"information_desk_person","name":"Person Tipping Hand","keywords":["information","desk"],"skins":[{"unified":"1f481","native":"\u{1F481}"},{"unified":"1f481-1f3fb","native":"\u{1F481}\u{1F3FB}"},{"unified":"1f481-1f3fc","native":"\u{1F481}\u{1F3FC}"},{"unified":"1f481-1f3fd","native":"\u{1F481}\u{1F3FD}"},{"unified":"1f481-1f3fe","native":"\u{1F481}\u{1F3FE}"},{"unified":"1f481-1f3ff","native":"\u{1F481}\u{1F3FF}"}],"version":1},"man-tipping-hand":{"id":"man-tipping-hand","name":"Man Tipping Hand","keywords":["tipping-hand","male","boy","human","information"],"skins":[{"unified":"1f481-200d-2642-fe0f","native":"\u{1F481}\u200D\u2642\uFE0F"},{"unified":"1f481-1f3fb-200d-2642-fe0f","native":"\u{1F481}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f481-1f3fc-200d-2642-fe0f","native":"\u{1F481}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f481-1f3fd-200d-2642-fe0f","native":"\u{1F481}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f481-1f3fe-200d-2642-fe0f","native":"\u{1F481}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f481-1f3ff-200d-2642-fe0f","native":"\u{1F481}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-tipping-hand":{"id":"woman-tipping-hand","name":"Woman Tipping Hand","keywords":["tipping-hand","female","girl","human","information"],"skins":[{"unified":"1f481-200d-2640-fe0f","native":"\u{1F481}\u200D\u2640\uFE0F"},{"unified":"1f481-1f3fb-200d-2640-fe0f","native":"\u{1F481}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f481-1f3fc-200d-2640-fe0f","native":"\u{1F481}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f481-1f3fd-200d-2640-fe0f","native":"\u{1F481}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f481-1f3fe-200d-2640-fe0f","native":"\u{1F481}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f481-1f3ff-200d-2640-fe0f","native":"\u{1F481}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"raising_hand":{"id":"raising_hand","name":"Person Raising Hand","keywords":["question"],"skins":[{"unified":"1f64b","native":"\u{1F64B}"},{"unified":"1f64b-1f3fb","native":"\u{1F64B}\u{1F3FB}"},{"unified":"1f64b-1f3fc","native":"\u{1F64B}\u{1F3FC}"},{"unified":"1f64b-1f3fd","native":"\u{1F64B}\u{1F3FD}"},{"unified":"1f64b-1f3fe","native":"\u{1F64B}\u{1F3FE}"},{"unified":"1f64b-1f3ff","native":"\u{1F64B}\u{1F3FF}"}],"version":1},"man-raising-hand":{"id":"man-raising-hand","name":"Man Raising Hand","keywords":["raising-hand","male","boy"],"skins":[{"unified":"1f64b-200d-2642-fe0f","native":"\u{1F64B}\u200D\u2642\uFE0F"},{"unified":"1f64b-1f3fb-200d-2642-fe0f","native":"\u{1F64B}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f64b-1f3fc-200d-2642-fe0f","native":"\u{1F64B}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f64b-1f3fd-200d-2642-fe0f","native":"\u{1F64B}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f64b-1f3fe-200d-2642-fe0f","native":"\u{1F64B}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f64b-1f3ff-200d-2642-fe0f","native":"\u{1F64B}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-raising-hand":{"id":"woman-raising-hand","name":"Woman Raising Hand","keywords":["raising-hand","female","girl"],"skins":[{"unified":"1f64b-200d-2640-fe0f","native":"\u{1F64B}\u200D\u2640\uFE0F"},{"unified":"1f64b-1f3fb-200d-2640-fe0f","native":"\u{1F64B}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f64b-1f3fc-200d-2640-fe0f","native":"\u{1F64B}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f64b-1f3fd-200d-2640-fe0f","native":"\u{1F64B}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f64b-1f3fe-200d-2640-fe0f","native":"\u{1F64B}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f64b-1f3ff-200d-2640-fe0f","native":"\u{1F64B}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"deaf_person":{"id":"deaf_person","name":"Deaf Person","keywords":["accessibility"],"skins":[{"unified":"1f9cf","native":"\u{1F9CF}"},{"unified":"1f9cf-1f3fb","native":"\u{1F9CF}\u{1F3FB}"},{"unified":"1f9cf-1f3fc","native":"\u{1F9CF}\u{1F3FC}"},{"unified":"1f9cf-1f3fd","native":"\u{1F9CF}\u{1F3FD}"},{"unified":"1f9cf-1f3fe","native":"\u{1F9CF}\u{1F3FE}"},{"unified":"1f9cf-1f3ff","native":"\u{1F9CF}\u{1F3FF}"}],"version":12},"deaf_man":{"id":"deaf_man","name":"Deaf Man","keywords":["accessibility"],"skins":[{"unified":"1f9cf-200d-2642-fe0f","native":"\u{1F9CF}\u200D\u2642\uFE0F"},{"unified":"1f9cf-1f3fb-200d-2642-fe0f","native":"\u{1F9CF}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f9cf-1f3fc-200d-2642-fe0f","native":"\u{1F9CF}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f9cf-1f3fd-200d-2642-fe0f","native":"\u{1F9CF}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f9cf-1f3fe-200d-2642-fe0f","native":"\u{1F9CF}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f9cf-1f3ff-200d-2642-fe0f","native":"\u{1F9CF}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":12},"deaf_woman":{"id":"deaf_woman","name":"Deaf Woman","keywords":["accessibility"],"skins":[{"unified":"1f9cf-200d-2640-fe0f","native":"\u{1F9CF}\u200D\u2640\uFE0F"},{"unified":"1f9cf-1f3fb-200d-2640-fe0f","native":"\u{1F9CF}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f9cf-1f3fc-200d-2640-fe0f","native":"\u{1F9CF}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f9cf-1f3fd-200d-2640-fe0f","native":"\u{1F9CF}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f9cf-1f3fe-200d-2640-fe0f","native":"\u{1F9CF}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f9cf-1f3ff-200d-2640-fe0f","native":"\u{1F9CF}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":12},"bow":{"id":"bow","name":"Person Bowing","keywords":["bow","respectiful"],"skins":[{"unified":"1f647","native":"\u{1F647}"},{"unified":"1f647-1f3fb","native":"\u{1F647}\u{1F3FB}"},{"unified":"1f647-1f3fc","native":"\u{1F647}\u{1F3FC}"},{"unified":"1f647-1f3fd","native":"\u{1F647}\u{1F3FD}"},{"unified":"1f647-1f3fe","native":"\u{1F647}\u{1F3FE}"},{"unified":"1f647-1f3ff","native":"\u{1F647}\u{1F3FF}"}],"version":1},"man-bowing":{"id":"man-bowing","name":"Man Bowing","keywords":["male","boy"],"skins":[{"unified":"1f647-200d-2642-fe0f","native":"\u{1F647}\u200D\u2642\uFE0F"},{"unified":"1f647-1f3fb-200d-2642-fe0f","native":"\u{1F647}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f647-1f3fc-200d-2642-fe0f","native":"\u{1F647}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f647-1f3fd-200d-2642-fe0f","native":"\u{1F647}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f647-1f3fe-200d-2642-fe0f","native":"\u{1F647}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f647-1f3ff-200d-2642-fe0f","native":"\u{1F647}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-bowing":{"id":"woman-bowing","name":"Woman Bowing","keywords":["female","girl"],"skins":[{"unified":"1f647-200d-2640-fe0f","native":"\u{1F647}\u200D\u2640\uFE0F"},{"unified":"1f647-1f3fb-200d-2640-fe0f","native":"\u{1F647}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f647-1f3fc-200d-2640-fe0f","native":"\u{1F647}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f647-1f3fd-200d-2640-fe0f","native":"\u{1F647}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f647-1f3fe-200d-2640-fe0f","native":"\u{1F647}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f647-1f3ff-200d-2640-fe0f","native":"\u{1F647}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"face_palm":{"id":"face_palm","name":"Face Palm","keywords":["person","facepalming","disappointed"],"skins":[{"unified":"1f926","native":"\u{1F926}"},{"unified":"1f926-1f3fb","native":"\u{1F926}\u{1F3FB}"},{"unified":"1f926-1f3fc","native":"\u{1F926}\u{1F3FC}"},{"unified":"1f926-1f3fd","native":"\u{1F926}\u{1F3FD}"},{"unified":"1f926-1f3fe","native":"\u{1F926}\u{1F3FE}"},{"unified":"1f926-1f3ff","native":"\u{1F926}\u{1F3FF}"}],"version":3},"man-facepalming":{"id":"man-facepalming","name":"Man Facepalming","keywords":["male","boy","disbelief"],"skins":[{"unified":"1f926-200d-2642-fe0f","native":"\u{1F926}\u200D\u2642\uFE0F"},{"unified":"1f926-1f3fb-200d-2642-fe0f","native":"\u{1F926}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f926-1f3fc-200d-2642-fe0f","native":"\u{1F926}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f926-1f3fd-200d-2642-fe0f","native":"\u{1F926}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f926-1f3fe-200d-2642-fe0f","native":"\u{1F926}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f926-1f3ff-200d-2642-fe0f","native":"\u{1F926}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-facepalming":{"id":"woman-facepalming","name":"Woman Facepalming","keywords":["female","girl","disbelief"],"skins":[{"unified":"1f926-200d-2640-fe0f","native":"\u{1F926}\u200D\u2640\uFE0F"},{"unified":"1f926-1f3fb-200d-2640-fe0f","native":"\u{1F926}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f926-1f3fc-200d-2640-fe0f","native":"\u{1F926}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f926-1f3fd-200d-2640-fe0f","native":"\u{1F926}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f926-1f3fe-200d-2640-fe0f","native":"\u{1F926}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f926-1f3ff-200d-2640-fe0f","native":"\u{1F926}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"shrug":{"id":"shrug","name":"Shrug","keywords":["person","shrugging","regardless"],"skins":[{"unified":"1f937","native":"\u{1F937}"},{"unified":"1f937-1f3fb","native":"\u{1F937}\u{1F3FB}"},{"unified":"1f937-1f3fc","native":"\u{1F937}\u{1F3FC}"},{"unified":"1f937-1f3fd","native":"\u{1F937}\u{1F3FD}"},{"unified":"1f937-1f3fe","native":"\u{1F937}\u{1F3FE}"},{"unified":"1f937-1f3ff","native":"\u{1F937}\u{1F3FF}"}],"version":3},"man-shrugging":{"id":"man-shrugging","name":"Man Shrugging","keywords":["male","boy","confused","indifferent","doubt"],"skins":[{"unified":"1f937-200d-2642-fe0f","native":"\u{1F937}\u200D\u2642\uFE0F"},{"unified":"1f937-1f3fb-200d-2642-fe0f","native":"\u{1F937}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f937-1f3fc-200d-2642-fe0f","native":"\u{1F937}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f937-1f3fd-200d-2642-fe0f","native":"\u{1F937}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f937-1f3fe-200d-2642-fe0f","native":"\u{1F937}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f937-1f3ff-200d-2642-fe0f","native":"\u{1F937}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-shrugging":{"id":"woman-shrugging","name":"Woman Shrugging","keywords":["female","girl","confused","indifferent","doubt"],"skins":[{"unified":"1f937-200d-2640-fe0f","native":"\u{1F937}\u200D\u2640\uFE0F"},{"unified":"1f937-1f3fb-200d-2640-fe0f","native":"\u{1F937}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f937-1f3fc-200d-2640-fe0f","native":"\u{1F937}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f937-1f3fd-200d-2640-fe0f","native":"\u{1F937}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f937-1f3fe-200d-2640-fe0f","native":"\u{1F937}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f937-1f3ff-200d-2640-fe0f","native":"\u{1F937}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"health_worker":{"id":"health_worker","name":"Health Worker","keywords":["hospital"],"skins":[{"unified":"1f9d1-200d-2695-fe0f","native":"\u{1F9D1}\u200D\u2695\uFE0F"},{"unified":"1f9d1-1f3fb-200d-2695-fe0f","native":"\u{1F9D1}\u{1F3FB}\u200D\u2695\uFE0F"},{"unified":"1f9d1-1f3fc-200d-2695-fe0f","native":"\u{1F9D1}\u{1F3FC}\u200D\u2695\uFE0F"},{"unified":"1f9d1-1f3fd-200d-2695-fe0f","native":"\u{1F9D1}\u{1F3FD}\u200D\u2695\uFE0F"},{"unified":"1f9d1-1f3fe-200d-2695-fe0f","native":"\u{1F9D1}\u{1F3FE}\u200D\u2695\uFE0F"},{"unified":"1f9d1-1f3ff-200d-2695-fe0f","native":"\u{1F9D1}\u{1F3FF}\u200D\u2695\uFE0F"}],"version":12.1},"male-doctor":{"id":"male-doctor","name":"Man Health Worker","keywords":["male","doctor","nurse","therapist","healthcare","human"],"skins":[{"unified":"1f468-200d-2695-fe0f","native":"\u{1F468}\u200D\u2695\uFE0F"},{"unified":"1f468-1f3fb-200d-2695-fe0f","native":"\u{1F468}\u{1F3FB}\u200D\u2695\uFE0F"},{"unified":"1f468-1f3fc-200d-2695-fe0f","native":"\u{1F468}\u{1F3FC}\u200D\u2695\uFE0F"},{"unified":"1f468-1f3fd-200d-2695-fe0f","native":"\u{1F468}\u{1F3FD}\u200D\u2695\uFE0F"},{"unified":"1f468-1f3fe-200d-2695-fe0f","native":"\u{1F468}\u{1F3FE}\u200D\u2695\uFE0F"},{"unified":"1f468-1f3ff-200d-2695-fe0f","native":"\u{1F468}\u{1F3FF}\u200D\u2695\uFE0F"}],"version":4},"female-doctor":{"id":"female-doctor","name":"Woman Health Worker","keywords":["female","doctor","nurse","therapist","healthcare","human"],"skins":[{"unified":"1f469-200d-2695-fe0f","native":"\u{1F469}\u200D\u2695\uFE0F"},{"unified":"1f469-1f3fb-200d-2695-fe0f","native":"\u{1F469}\u{1F3FB}\u200D\u2695\uFE0F"},{"unified":"1f469-1f3fc-200d-2695-fe0f","native":"\u{1F469}\u{1F3FC}\u200D\u2695\uFE0F"},{"unified":"1f469-1f3fd-200d-2695-fe0f","native":"\u{1F469}\u{1F3FD}\u200D\u2695\uFE0F"},{"unified":"1f469-1f3fe-200d-2695-fe0f","native":"\u{1F469}\u{1F3FE}\u200D\u2695\uFE0F"},{"unified":"1f469-1f3ff-200d-2695-fe0f","native":"\u{1F469}\u{1F3FF}\u200D\u2695\uFE0F"}],"version":4},"student":{"id":"student","name":"Student","keywords":["learn"],"skins":[{"unified":"1f9d1-200d-1f393","native":"\u{1F9D1}\u200D\u{1F393}"},{"unified":"1f9d1-1f3fb-200d-1f393","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F393}"},{"unified":"1f9d1-1f3fc-200d-1f393","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F393}"},{"unified":"1f9d1-1f3fd-200d-1f393","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F393}"},{"unified":"1f9d1-1f3fe-200d-1f393","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F393}"},{"unified":"1f9d1-1f3ff-200d-1f393","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F393}"}],"version":12.1},"male-student":{"id":"male-student","name":"Man Student","keywords":["male","graduate","human"],"skins":[{"unified":"1f468-200d-1f393","native":"\u{1F468}\u200D\u{1F393}"},{"unified":"1f468-1f3fb-200d-1f393","native":"\u{1F468}\u{1F3FB}\u200D\u{1F393}"},{"unified":"1f468-1f3fc-200d-1f393","native":"\u{1F468}\u{1F3FC}\u200D\u{1F393}"},{"unified":"1f468-1f3fd-200d-1f393","native":"\u{1F468}\u{1F3FD}\u200D\u{1F393}"},{"unified":"1f468-1f3fe-200d-1f393","native":"\u{1F468}\u{1F3FE}\u200D\u{1F393}"},{"unified":"1f468-1f3ff-200d-1f393","native":"\u{1F468}\u{1F3FF}\u200D\u{1F393}"}],"version":4},"female-student":{"id":"female-student","name":"Woman Student","keywords":["female","graduate","human"],"skins":[{"unified":"1f469-200d-1f393","native":"\u{1F469}\u200D\u{1F393}"},{"unified":"1f469-1f3fb-200d-1f393","native":"\u{1F469}\u{1F3FB}\u200D\u{1F393}"},{"unified":"1f469-1f3fc-200d-1f393","native":"\u{1F469}\u{1F3FC}\u200D\u{1F393}"},{"unified":"1f469-1f3fd-200d-1f393","native":"\u{1F469}\u{1F3FD}\u200D\u{1F393}"},{"unified":"1f469-1f3fe-200d-1f393","native":"\u{1F469}\u{1F3FE}\u200D\u{1F393}"},{"unified":"1f469-1f3ff-200d-1f393","native":"\u{1F469}\u{1F3FF}\u200D\u{1F393}"}],"version":4},"teacher":{"id":"teacher","name":"Teacher","keywords":["professor"],"skins":[{"unified":"1f9d1-200d-1f3eb","native":"\u{1F9D1}\u200D\u{1F3EB}"},{"unified":"1f9d1-1f3fb-200d-1f3eb","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F3EB}"},{"unified":"1f9d1-1f3fc-200d-1f3eb","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F3EB}"},{"unified":"1f9d1-1f3fd-200d-1f3eb","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F3EB}"},{"unified":"1f9d1-1f3fe-200d-1f3eb","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F3EB}"},{"unified":"1f9d1-1f3ff-200d-1f3eb","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F3EB}"}],"version":12.1},"male-teacher":{"id":"male-teacher","name":"Man Teacher","keywords":["male","instructor","professor","human"],"skins":[{"unified":"1f468-200d-1f3eb","native":"\u{1F468}\u200D\u{1F3EB}"},{"unified":"1f468-1f3fb-200d-1f3eb","native":"\u{1F468}\u{1F3FB}\u200D\u{1F3EB}"},{"unified":"1f468-1f3fc-200d-1f3eb","native":"\u{1F468}\u{1F3FC}\u200D\u{1F3EB}"},{"unified":"1f468-1f3fd-200d-1f3eb","native":"\u{1F468}\u{1F3FD}\u200D\u{1F3EB}"},{"unified":"1f468-1f3fe-200d-1f3eb","native":"\u{1F468}\u{1F3FE}\u200D\u{1F3EB}"},{"unified":"1f468-1f3ff-200d-1f3eb","native":"\u{1F468}\u{1F3FF}\u200D\u{1F3EB}"}],"version":4},"female-teacher":{"id":"female-teacher","name":"Woman Teacher","keywords":["female","instructor","professor","human"],"skins":[{"unified":"1f469-200d-1f3eb","native":"\u{1F469}\u200D\u{1F3EB}"},{"unified":"1f469-1f3fb-200d-1f3eb","native":"\u{1F469}\u{1F3FB}\u200D\u{1F3EB}"},{"unified":"1f469-1f3fc-200d-1f3eb","native":"\u{1F469}\u{1F3FC}\u200D\u{1F3EB}"},{"unified":"1f469-1f3fd-200d-1f3eb","native":"\u{1F469}\u{1F3FD}\u200D\u{1F3EB}"},{"unified":"1f469-1f3fe-200d-1f3eb","native":"\u{1F469}\u{1F3FE}\u200D\u{1F3EB}"},{"unified":"1f469-1f3ff-200d-1f3eb","native":"\u{1F469}\u{1F3FF}\u200D\u{1F3EB}"}],"version":4},"judge":{"id":"judge","name":"Judge","keywords":["law"],"skins":[{"unified":"1f9d1-200d-2696-fe0f","native":"\u{1F9D1}\u200D\u2696\uFE0F"},{"unified":"1f9d1-1f3fb-200d-2696-fe0f","native":"\u{1F9D1}\u{1F3FB}\u200D\u2696\uFE0F"},{"unified":"1f9d1-1f3fc-200d-2696-fe0f","native":"\u{1F9D1}\u{1F3FC}\u200D\u2696\uFE0F"},{"unified":"1f9d1-1f3fd-200d-2696-fe0f","native":"\u{1F9D1}\u{1F3FD}\u200D\u2696\uFE0F"},{"unified":"1f9d1-1f3fe-200d-2696-fe0f","native":"\u{1F9D1}\u{1F3FE}\u200D\u2696\uFE0F"},{"unified":"1f9d1-1f3ff-200d-2696-fe0f","native":"\u{1F9D1}\u{1F3FF}\u200D\u2696\uFE0F"}],"version":12.1},"male-judge":{"id":"male-judge","name":"Man Judge","keywords":["male","justice","court","human"],"skins":[{"unified":"1f468-200d-2696-fe0f","native":"\u{1F468}\u200D\u2696\uFE0F"},{"unified":"1f468-1f3fb-200d-2696-fe0f","native":"\u{1F468}\u{1F3FB}\u200D\u2696\uFE0F"},{"unified":"1f468-1f3fc-200d-2696-fe0f","native":"\u{1F468}\u{1F3FC}\u200D\u2696\uFE0F"},{"unified":"1f468-1f3fd-200d-2696-fe0f","native":"\u{1F468}\u{1F3FD}\u200D\u2696\uFE0F"},{"unified":"1f468-1f3fe-200d-2696-fe0f","native":"\u{1F468}\u{1F3FE}\u200D\u2696\uFE0F"},{"unified":"1f468-1f3ff-200d-2696-fe0f","native":"\u{1F468}\u{1F3FF}\u200D\u2696\uFE0F"}],"version":4},"female-judge":{"id":"female-judge","name":"Woman Judge","keywords":["female","justice","court","human"],"skins":[{"unified":"1f469-200d-2696-fe0f","native":"\u{1F469}\u200D\u2696\uFE0F"},{"unified":"1f469-1f3fb-200d-2696-fe0f","native":"\u{1F469}\u{1F3FB}\u200D\u2696\uFE0F"},{"unified":"1f469-1f3fc-200d-2696-fe0f","native":"\u{1F469}\u{1F3FC}\u200D\u2696\uFE0F"},{"unified":"1f469-1f3fd-200d-2696-fe0f","native":"\u{1F469}\u{1F3FD}\u200D\u2696\uFE0F"},{"unified":"1f469-1f3fe-200d-2696-fe0f","native":"\u{1F469}\u{1F3FE}\u200D\u2696\uFE0F"},{"unified":"1f469-1f3ff-200d-2696-fe0f","native":"\u{1F469}\u{1F3FF}\u200D\u2696\uFE0F"}],"version":4},"farmer":{"id":"farmer","name":"Farmer","keywords":["crops"],"skins":[{"unified":"1f9d1-200d-1f33e","native":"\u{1F9D1}\u200D\u{1F33E}"},{"unified":"1f9d1-1f3fb-200d-1f33e","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F33E}"},{"unified":"1f9d1-1f3fc-200d-1f33e","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F33E}"},{"unified":"1f9d1-1f3fd-200d-1f33e","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F33E}"},{"unified":"1f9d1-1f3fe-200d-1f33e","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F33E}"},{"unified":"1f9d1-1f3ff-200d-1f33e","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F33E}"}],"version":12.1},"male-farmer":{"id":"male-farmer","name":"Man Farmer","keywords":["male","rancher","gardener","human"],"skins":[{"unified":"1f468-200d-1f33e","native":"\u{1F468}\u200D\u{1F33E}"},{"unified":"1f468-1f3fb-200d-1f33e","native":"\u{1F468}\u{1F3FB}\u200D\u{1F33E}"},{"unified":"1f468-1f3fc-200d-1f33e","native":"\u{1F468}\u{1F3FC}\u200D\u{1F33E}"},{"unified":"1f468-1f3fd-200d-1f33e","native":"\u{1F468}\u{1F3FD}\u200D\u{1F33E}"},{"unified":"1f468-1f3fe-200d-1f33e","native":"\u{1F468}\u{1F3FE}\u200D\u{1F33E}"},{"unified":"1f468-1f3ff-200d-1f33e","native":"\u{1F468}\u{1F3FF}\u200D\u{1F33E}"}],"version":4},"female-farmer":{"id":"female-farmer","name":"Woman Farmer","keywords":["female","rancher","gardener","human"],"skins":[{"unified":"1f469-200d-1f33e","native":"\u{1F469}\u200D\u{1F33E}"},{"unified":"1f469-1f3fb-200d-1f33e","native":"\u{1F469}\u{1F3FB}\u200D\u{1F33E}"},{"unified":"1f469-1f3fc-200d-1f33e","native":"\u{1F469}\u{1F3FC}\u200D\u{1F33E}"},{"unified":"1f469-1f3fd-200d-1f33e","native":"\u{1F469}\u{1F3FD}\u200D\u{1F33E}"},{"unified":"1f469-1f3fe-200d-1f33e","native":"\u{1F469}\u{1F3FE}\u200D\u{1F33E}"},{"unified":"1f469-1f3ff-200d-1f33e","native":"\u{1F469}\u{1F3FF}\u200D\u{1F33E}"}],"version":4},"cook":{"id":"cook","name":"Cook","keywords":["food","kitchen","culinary"],"skins":[{"unified":"1f9d1-200d-1f373","native":"\u{1F9D1}\u200D\u{1F373}"},{"unified":"1f9d1-1f3fb-200d-1f373","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F373}"},{"unified":"1f9d1-1f3fc-200d-1f373","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F373}"},{"unified":"1f9d1-1f3fd-200d-1f373","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F373}"},{"unified":"1f9d1-1f3fe-200d-1f373","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F373}"},{"unified":"1f9d1-1f3ff-200d-1f373","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F373}"}],"version":12.1},"male-cook":{"id":"male-cook","name":"Man Cook","keywords":["male","chef","human"],"skins":[{"unified":"1f468-200d-1f373","native":"\u{1F468}\u200D\u{1F373}"},{"unified":"1f468-1f3fb-200d-1f373","native":"\u{1F468}\u{1F3FB}\u200D\u{1F373}"},{"unified":"1f468-1f3fc-200d-1f373","native":"\u{1F468}\u{1F3FC}\u200D\u{1F373}"},{"unified":"1f468-1f3fd-200d-1f373","native":"\u{1F468}\u{1F3FD}\u200D\u{1F373}"},{"unified":"1f468-1f3fe-200d-1f373","native":"\u{1F468}\u{1F3FE}\u200D\u{1F373}"},{"unified":"1f468-1f3ff-200d-1f373","native":"\u{1F468}\u{1F3FF}\u200D\u{1F373}"}],"version":4},"female-cook":{"id":"female-cook","name":"Woman Cook","keywords":["female","chef","human"],"skins":[{"unified":"1f469-200d-1f373","native":"\u{1F469}\u200D\u{1F373}"},{"unified":"1f469-1f3fb-200d-1f373","native":"\u{1F469}\u{1F3FB}\u200D\u{1F373}"},{"unified":"1f469-1f3fc-200d-1f373","native":"\u{1F469}\u{1F3FC}\u200D\u{1F373}"},{"unified":"1f469-1f3fd-200d-1f373","native":"\u{1F469}\u{1F3FD}\u200D\u{1F373}"},{"unified":"1f469-1f3fe-200d-1f373","native":"\u{1F469}\u{1F3FE}\u200D\u{1F373}"},{"unified":"1f469-1f3ff-200d-1f373","native":"\u{1F469}\u{1F3FF}\u200D\u{1F373}"}],"version":4},"mechanic":{"id":"mechanic","name":"Mechanic","keywords":["worker","technician"],"skins":[{"unified":"1f9d1-200d-1f527","native":"\u{1F9D1}\u200D\u{1F527}"},{"unified":"1f9d1-1f3fb-200d-1f527","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F527}"},{"unified":"1f9d1-1f3fc-200d-1f527","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F527}"},{"unified":"1f9d1-1f3fd-200d-1f527","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F527}"},{"unified":"1f9d1-1f3fe-200d-1f527","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F527}"},{"unified":"1f9d1-1f3ff-200d-1f527","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F527}"}],"version":12.1},"male-mechanic":{"id":"male-mechanic","name":"Man Mechanic","keywords":["male","plumber","human","wrench"],"skins":[{"unified":"1f468-200d-1f527","native":"\u{1F468}\u200D\u{1F527}"},{"unified":"1f468-1f3fb-200d-1f527","native":"\u{1F468}\u{1F3FB}\u200D\u{1F527}"},{"unified":"1f468-1f3fc-200d-1f527","native":"\u{1F468}\u{1F3FC}\u200D\u{1F527}"},{"unified":"1f468-1f3fd-200d-1f527","native":"\u{1F468}\u{1F3FD}\u200D\u{1F527}"},{"unified":"1f468-1f3fe-200d-1f527","native":"\u{1F468}\u{1F3FE}\u200D\u{1F527}"},{"unified":"1f468-1f3ff-200d-1f527","native":"\u{1F468}\u{1F3FF}\u200D\u{1F527}"}],"version":4},"female-mechanic":{"id":"female-mechanic","name":"Woman Mechanic","keywords":["female","plumber","human","wrench"],"skins":[{"unified":"1f469-200d-1f527","native":"\u{1F469}\u200D\u{1F527}"},{"unified":"1f469-1f3fb-200d-1f527","native":"\u{1F469}\u{1F3FB}\u200D\u{1F527}"},{"unified":"1f469-1f3fc-200d-1f527","native":"\u{1F469}\u{1F3FC}\u200D\u{1F527}"},{"unified":"1f469-1f3fd-200d-1f527","native":"\u{1F469}\u{1F3FD}\u200D\u{1F527}"},{"unified":"1f469-1f3fe-200d-1f527","native":"\u{1F469}\u{1F3FE}\u200D\u{1F527}"},{"unified":"1f469-1f3ff-200d-1f527","native":"\u{1F469}\u{1F3FF}\u200D\u{1F527}"}],"version":4},"factory_worker":{"id":"factory_worker","name":"Factory Worker","keywords":["labor"],"skins":[{"unified":"1f9d1-200d-1f3ed","native":"\u{1F9D1}\u200D\u{1F3ED}"},{"unified":"1f9d1-1f3fb-200d-1f3ed","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F3ED}"},{"unified":"1f9d1-1f3fc-200d-1f3ed","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F3ED}"},{"unified":"1f9d1-1f3fd-200d-1f3ed","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F3ED}"},{"unified":"1f9d1-1f3fe-200d-1f3ed","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F3ED}"},{"unified":"1f9d1-1f3ff-200d-1f3ed","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F3ED}"}],"version":12.1},"male-factory-worker":{"id":"male-factory-worker","name":"Man Factory Worker","keywords":["male","factory-worker","assembly","industrial","human"],"skins":[{"unified":"1f468-200d-1f3ed","native":"\u{1F468}\u200D\u{1F3ED}"},{"unified":"1f468-1f3fb-200d-1f3ed","native":"\u{1F468}\u{1F3FB}\u200D\u{1F3ED}"},{"unified":"1f468-1f3fc-200d-1f3ed","native":"\u{1F468}\u{1F3FC}\u200D\u{1F3ED}"},{"unified":"1f468-1f3fd-200d-1f3ed","native":"\u{1F468}\u{1F3FD}\u200D\u{1F3ED}"},{"unified":"1f468-1f3fe-200d-1f3ed","native":"\u{1F468}\u{1F3FE}\u200D\u{1F3ED}"},{"unified":"1f468-1f3ff-200d-1f3ed","native":"\u{1F468}\u{1F3FF}\u200D\u{1F3ED}"}],"version":4},"female-factory-worker":{"id":"female-factory-worker","name":"Woman Factory Worker","keywords":["female","factory-worker","assembly","industrial","human"],"skins":[{"unified":"1f469-200d-1f3ed","native":"\u{1F469}\u200D\u{1F3ED}"},{"unified":"1f469-1f3fb-200d-1f3ed","native":"\u{1F469}\u{1F3FB}\u200D\u{1F3ED}"},{"unified":"1f469-1f3fc-200d-1f3ed","native":"\u{1F469}\u{1F3FC}\u200D\u{1F3ED}"},{"unified":"1f469-1f3fd-200d-1f3ed","native":"\u{1F469}\u{1F3FD}\u200D\u{1F3ED}"},{"unified":"1f469-1f3fe-200d-1f3ed","native":"\u{1F469}\u{1F3FE}\u200D\u{1F3ED}"},{"unified":"1f469-1f3ff-200d-1f3ed","native":"\u{1F469}\u{1F3FF}\u200D\u{1F3ED}"}],"version":4},"office_worker":{"id":"office_worker","name":"Office Worker","keywords":["business"],"skins":[{"unified":"1f9d1-200d-1f4bc","native":"\u{1F9D1}\u200D\u{1F4BC}"},{"unified":"1f9d1-1f3fb-200d-1f4bc","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F4BC}"},{"unified":"1f9d1-1f3fc-200d-1f4bc","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F4BC}"},{"unified":"1f9d1-1f3fd-200d-1f4bc","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F4BC}"},{"unified":"1f9d1-1f3fe-200d-1f4bc","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F4BC}"},{"unified":"1f9d1-1f3ff-200d-1f4bc","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F4BC}"}],"version":12.1},"male-office-worker":{"id":"male-office-worker","name":"Man Office Worker","keywords":["male","office-worker","business","manager","human"],"skins":[{"unified":"1f468-200d-1f4bc","native":"\u{1F468}\u200D\u{1F4BC}"},{"unified":"1f468-1f3fb-200d-1f4bc","native":"\u{1F468}\u{1F3FB}\u200D\u{1F4BC}"},{"unified":"1f468-1f3fc-200d-1f4bc","native":"\u{1F468}\u{1F3FC}\u200D\u{1F4BC}"},{"unified":"1f468-1f3fd-200d-1f4bc","native":"\u{1F468}\u{1F3FD}\u200D\u{1F4BC}"},{"unified":"1f468-1f3fe-200d-1f4bc","native":"\u{1F468}\u{1F3FE}\u200D\u{1F4BC}"},{"unified":"1f468-1f3ff-200d-1f4bc","native":"\u{1F468}\u{1F3FF}\u200D\u{1F4BC}"}],"version":4},"female-office-worker":{"id":"female-office-worker","name":"Woman Office Worker","keywords":["female","office-worker","business","manager","human"],"skins":[{"unified":"1f469-200d-1f4bc","native":"\u{1F469}\u200D\u{1F4BC}"},{"unified":"1f469-1f3fb-200d-1f4bc","native":"\u{1F469}\u{1F3FB}\u200D\u{1F4BC}"},{"unified":"1f469-1f3fc-200d-1f4bc","native":"\u{1F469}\u{1F3FC}\u200D\u{1F4BC}"},{"unified":"1f469-1f3fd-200d-1f4bc","native":"\u{1F469}\u{1F3FD}\u200D\u{1F4BC}"},{"unified":"1f469-1f3fe-200d-1f4bc","native":"\u{1F469}\u{1F3FE}\u200D\u{1F4BC}"},{"unified":"1f469-1f3ff-200d-1f4bc","native":"\u{1F469}\u{1F3FF}\u200D\u{1F4BC}"}],"version":4},"scientist":{"id":"scientist","name":"Scientist","keywords":["chemistry"],"skins":[{"unified":"1f9d1-200d-1f52c","native":"\u{1F9D1}\u200D\u{1F52C}"},{"unified":"1f9d1-1f3fb-200d-1f52c","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F52C}"},{"unified":"1f9d1-1f3fc-200d-1f52c","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F52C}"},{"unified":"1f9d1-1f3fd-200d-1f52c","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F52C}"},{"unified":"1f9d1-1f3fe-200d-1f52c","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F52C}"},{"unified":"1f9d1-1f3ff-200d-1f52c","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F52C}"}],"version":12.1},"male-scientist":{"id":"male-scientist","name":"Man Scientist","keywords":["male","biologist","chemist","engineer","physicist","human"],"skins":[{"unified":"1f468-200d-1f52c","native":"\u{1F468}\u200D\u{1F52C}"},{"unified":"1f468-1f3fb-200d-1f52c","native":"\u{1F468}\u{1F3FB}\u200D\u{1F52C}"},{"unified":"1f468-1f3fc-200d-1f52c","native":"\u{1F468}\u{1F3FC}\u200D\u{1F52C}"},{"unified":"1f468-1f3fd-200d-1f52c","native":"\u{1F468}\u{1F3FD}\u200D\u{1F52C}"},{"unified":"1f468-1f3fe-200d-1f52c","native":"\u{1F468}\u{1F3FE}\u200D\u{1F52C}"},{"unified":"1f468-1f3ff-200d-1f52c","native":"\u{1F468}\u{1F3FF}\u200D\u{1F52C}"}],"version":4},"female-scientist":{"id":"female-scientist","name":"Woman Scientist","keywords":["female","biologist","chemist","engineer","physicist","human"],"skins":[{"unified":"1f469-200d-1f52c","native":"\u{1F469}\u200D\u{1F52C}"},{"unified":"1f469-1f3fb-200d-1f52c","native":"\u{1F469}\u{1F3FB}\u200D\u{1F52C}"},{"unified":"1f469-1f3fc-200d-1f52c","native":"\u{1F469}\u{1F3FC}\u200D\u{1F52C}"},{"unified":"1f469-1f3fd-200d-1f52c","native":"\u{1F469}\u{1F3FD}\u200D\u{1F52C}"},{"unified":"1f469-1f3fe-200d-1f52c","native":"\u{1F469}\u{1F3FE}\u200D\u{1F52C}"},{"unified":"1f469-1f3ff-200d-1f52c","native":"\u{1F469}\u{1F3FF}\u200D\u{1F52C}"}],"version":4},"technologist":{"id":"technologist","name":"Technologist","keywords":["computer"],"skins":[{"unified":"1f9d1-200d-1f4bb","native":"\u{1F9D1}\u200D\u{1F4BB}"},{"unified":"1f9d1-1f3fb-200d-1f4bb","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F4BB}"},{"unified":"1f9d1-1f3fc-200d-1f4bb","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F4BB}"},{"unified":"1f9d1-1f3fd-200d-1f4bb","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F4BB}"},{"unified":"1f9d1-1f3fe-200d-1f4bb","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F4BB}"},{"unified":"1f9d1-1f3ff-200d-1f4bb","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F4BB}"}],"version":12.1},"male-technologist":{"id":"male-technologist","name":"Man Technologist","keywords":["male","coder","developer","engineer","programmer","software","human","laptop","computer"],"skins":[{"unified":"1f468-200d-1f4bb","native":"\u{1F468}\u200D\u{1F4BB}"},{"unified":"1f468-1f3fb-200d-1f4bb","native":"\u{1F468}\u{1F3FB}\u200D\u{1F4BB}"},{"unified":"1f468-1f3fc-200d-1f4bb","native":"\u{1F468}\u{1F3FC}\u200D\u{1F4BB}"},{"unified":"1f468-1f3fd-200d-1f4bb","native":"\u{1F468}\u{1F3FD}\u200D\u{1F4BB}"},{"unified":"1f468-1f3fe-200d-1f4bb","native":"\u{1F468}\u{1F3FE}\u200D\u{1F4BB}"},{"unified":"1f468-1f3ff-200d-1f4bb","native":"\u{1F468}\u{1F3FF}\u200D\u{1F4BB}"}],"version":4},"female-technologist":{"id":"female-technologist","name":"Woman Technologist","keywords":["female","coder","developer","engineer","programmer","software","human","laptop","computer"],"skins":[{"unified":"1f469-200d-1f4bb","native":"\u{1F469}\u200D\u{1F4BB}"},{"unified":"1f469-1f3fb-200d-1f4bb","native":"\u{1F469}\u{1F3FB}\u200D\u{1F4BB}"},{"unified":"1f469-1f3fc-200d-1f4bb","native":"\u{1F469}\u{1F3FC}\u200D\u{1F4BB}"},{"unified":"1f469-1f3fd-200d-1f4bb","native":"\u{1F469}\u{1F3FD}\u200D\u{1F4BB}"},{"unified":"1f469-1f3fe-200d-1f4bb","native":"\u{1F469}\u{1F3FE}\u200D\u{1F4BB}"},{"unified":"1f469-1f3ff-200d-1f4bb","native":"\u{1F469}\u{1F3FF}\u200D\u{1F4BB}"}],"version":4},"singer":{"id":"singer","name":"Singer","keywords":["song","artist","performer"],"skins":[{"unified":"1f9d1-200d-1f3a4","native":"\u{1F9D1}\u200D\u{1F3A4}"},{"unified":"1f9d1-1f3fb-200d-1f3a4","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F3A4}"},{"unified":"1f9d1-1f3fc-200d-1f3a4","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F3A4}"},{"unified":"1f9d1-1f3fd-200d-1f3a4","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F3A4}"},{"unified":"1f9d1-1f3fe-200d-1f3a4","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F3A4}"},{"unified":"1f9d1-1f3ff-200d-1f3a4","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F3A4}"}],"version":12.1},"male-singer":{"id":"male-singer","name":"Man Singer","keywords":["male","rockstar","entertainer","human"],"skins":[{"unified":"1f468-200d-1f3a4","native":"\u{1F468}\u200D\u{1F3A4}"},{"unified":"1f468-1f3fb-200d-1f3a4","native":"\u{1F468}\u{1F3FB}\u200D\u{1F3A4}"},{"unified":"1f468-1f3fc-200d-1f3a4","native":"\u{1F468}\u{1F3FC}\u200D\u{1F3A4}"},{"unified":"1f468-1f3fd-200d-1f3a4","native":"\u{1F468}\u{1F3FD}\u200D\u{1F3A4}"},{"unified":"1f468-1f3fe-200d-1f3a4","native":"\u{1F468}\u{1F3FE}\u200D\u{1F3A4}"},{"unified":"1f468-1f3ff-200d-1f3a4","native":"\u{1F468}\u{1F3FF}\u200D\u{1F3A4}"}],"version":4},"female-singer":{"id":"female-singer","name":"Woman Singer","keywords":["female","rockstar","entertainer","human"],"skins":[{"unified":"1f469-200d-1f3a4","native":"\u{1F469}\u200D\u{1F3A4}"},{"unified":"1f469-1f3fb-200d-1f3a4","native":"\u{1F469}\u{1F3FB}\u200D\u{1F3A4}"},{"unified":"1f469-1f3fc-200d-1f3a4","native":"\u{1F469}\u{1F3FC}\u200D\u{1F3A4}"},{"unified":"1f469-1f3fd-200d-1f3a4","native":"\u{1F469}\u{1F3FD}\u200D\u{1F3A4}"},{"unified":"1f469-1f3fe-200d-1f3a4","native":"\u{1F469}\u{1F3FE}\u200D\u{1F3A4}"},{"unified":"1f469-1f3ff-200d-1f3a4","native":"\u{1F469}\u{1F3FF}\u200D\u{1F3A4}"}],"version":4},"artist":{"id":"artist","name":"Artist","keywords":["painting","draw","creativity"],"skins":[{"unified":"1f9d1-200d-1f3a8","native":"\u{1F9D1}\u200D\u{1F3A8}"},{"unified":"1f9d1-1f3fb-200d-1f3a8","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F3A8}"},{"unified":"1f9d1-1f3fc-200d-1f3a8","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F3A8}"},{"unified":"1f9d1-1f3fd-200d-1f3a8","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F3A8}"},{"unified":"1f9d1-1f3fe-200d-1f3a8","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F3A8}"},{"unified":"1f9d1-1f3ff-200d-1f3a8","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F3A8}"}],"version":12.1},"male-artist":{"id":"male-artist","name":"Man Artist","keywords":["male","painter","human"],"skins":[{"unified":"1f468-200d-1f3a8","native":"\u{1F468}\u200D\u{1F3A8}"},{"unified":"1f468-1f3fb-200d-1f3a8","native":"\u{1F468}\u{1F3FB}\u200D\u{1F3A8}"},{"unified":"1f468-1f3fc-200d-1f3a8","native":"\u{1F468}\u{1F3FC}\u200D\u{1F3A8}"},{"unified":"1f468-1f3fd-200d-1f3a8","native":"\u{1F468}\u{1F3FD}\u200D\u{1F3A8}"},{"unified":"1f468-1f3fe-200d-1f3a8","native":"\u{1F468}\u{1F3FE}\u200D\u{1F3A8}"},{"unified":"1f468-1f3ff-200d-1f3a8","native":"\u{1F468}\u{1F3FF}\u200D\u{1F3A8}"}],"version":4},"female-artist":{"id":"female-artist","name":"Woman Artist","keywords":["female","painter","human"],"skins":[{"unified":"1f469-200d-1f3a8","native":"\u{1F469}\u200D\u{1F3A8}"},{"unified":"1f469-1f3fb-200d-1f3a8","native":"\u{1F469}\u{1F3FB}\u200D\u{1F3A8}"},{"unified":"1f469-1f3fc-200d-1f3a8","native":"\u{1F469}\u{1F3FC}\u200D\u{1F3A8}"},{"unified":"1f469-1f3fd-200d-1f3a8","native":"\u{1F469}\u{1F3FD}\u200D\u{1F3A8}"},{"unified":"1f469-1f3fe-200d-1f3a8","native":"\u{1F469}\u{1F3FE}\u200D\u{1F3A8}"},{"unified":"1f469-1f3ff-200d-1f3a8","native":"\u{1F469}\u{1F3FF}\u200D\u{1F3A8}"}],"version":4},"pilot":{"id":"pilot","name":"Pilot","keywords":["fly","plane","airplane"],"skins":[{"unified":"1f9d1-200d-2708-fe0f","native":"\u{1F9D1}\u200D\u2708\uFE0F"},{"unified":"1f9d1-1f3fb-200d-2708-fe0f","native":"\u{1F9D1}\u{1F3FB}\u200D\u2708\uFE0F"},{"unified":"1f9d1-1f3fc-200d-2708-fe0f","native":"\u{1F9D1}\u{1F3FC}\u200D\u2708\uFE0F"},{"unified":"1f9d1-1f3fd-200d-2708-fe0f","native":"\u{1F9D1}\u{1F3FD}\u200D\u2708\uFE0F"},{"unified":"1f9d1-1f3fe-200d-2708-fe0f","native":"\u{1F9D1}\u{1F3FE}\u200D\u2708\uFE0F"},{"unified":"1f9d1-1f3ff-200d-2708-fe0f","native":"\u{1F9D1}\u{1F3FF}\u200D\u2708\uFE0F"}],"version":12.1},"male-pilot":{"id":"male-pilot","name":"Man Pilot","keywords":["male","aviator","plane","human"],"skins":[{"unified":"1f468-200d-2708-fe0f","native":"\u{1F468}\u200D\u2708\uFE0F"},{"unified":"1f468-1f3fb-200d-2708-fe0f","native":"\u{1F468}\u{1F3FB}\u200D\u2708\uFE0F"},{"unified":"1f468-1f3fc-200d-2708-fe0f","native":"\u{1F468}\u{1F3FC}\u200D\u2708\uFE0F"},{"unified":"1f468-1f3fd-200d-2708-fe0f","native":"\u{1F468}\u{1F3FD}\u200D\u2708\uFE0F"},{"unified":"1f468-1f3fe-200d-2708-fe0f","native":"\u{1F468}\u{1F3FE}\u200D\u2708\uFE0F"},{"unified":"1f468-1f3ff-200d-2708-fe0f","native":"\u{1F468}\u{1F3FF}\u200D\u2708\uFE0F"}],"version":4},"female-pilot":{"id":"female-pilot","name":"Woman Pilot","keywords":["female","aviator","plane","human"],"skins":[{"unified":"1f469-200d-2708-fe0f","native":"\u{1F469}\u200D\u2708\uFE0F"},{"unified":"1f469-1f3fb-200d-2708-fe0f","native":"\u{1F469}\u{1F3FB}\u200D\u2708\uFE0F"},{"unified":"1f469-1f3fc-200d-2708-fe0f","native":"\u{1F469}\u{1F3FC}\u200D\u2708\uFE0F"},{"unified":"1f469-1f3fd-200d-2708-fe0f","native":"\u{1F469}\u{1F3FD}\u200D\u2708\uFE0F"},{"unified":"1f469-1f3fe-200d-2708-fe0f","native":"\u{1F469}\u{1F3FE}\u200D\u2708\uFE0F"},{"unified":"1f469-1f3ff-200d-2708-fe0f","native":"\u{1F469}\u{1F3FF}\u200D\u2708\uFE0F"}],"version":4},"astronaut":{"id":"astronaut","name":"Astronaut","keywords":["outerspace"],"skins":[{"unified":"1f9d1-200d-1f680","native":"\u{1F9D1}\u200D\u{1F680}"},{"unified":"1f9d1-1f3fb-200d-1f680","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F680}"},{"unified":"1f9d1-1f3fc-200d-1f680","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F680}"},{"unified":"1f9d1-1f3fd-200d-1f680","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F680}"},{"unified":"1f9d1-1f3fe-200d-1f680","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F680}"},{"unified":"1f9d1-1f3ff-200d-1f680","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F680}"}],"version":12.1},"male-astronaut":{"id":"male-astronaut","name":"Man Astronaut","keywords":["male","space","rocket","human"],"skins":[{"unified":"1f468-200d-1f680","native":"\u{1F468}\u200D\u{1F680}"},{"unified":"1f468-1f3fb-200d-1f680","native":"\u{1F468}\u{1F3FB}\u200D\u{1F680}"},{"unified":"1f468-1f3fc-200d-1f680","native":"\u{1F468}\u{1F3FC}\u200D\u{1F680}"},{"unified":"1f468-1f3fd-200d-1f680","native":"\u{1F468}\u{1F3FD}\u200D\u{1F680}"},{"unified":"1f468-1f3fe-200d-1f680","native":"\u{1F468}\u{1F3FE}\u200D\u{1F680}"},{"unified":"1f468-1f3ff-200d-1f680","native":"\u{1F468}\u{1F3FF}\u200D\u{1F680}"}],"version":4},"female-astronaut":{"id":"female-astronaut","name":"Woman Astronaut","keywords":["female","space","rocket","human"],"skins":[{"unified":"1f469-200d-1f680","native":"\u{1F469}\u200D\u{1F680}"},{"unified":"1f469-1f3fb-200d-1f680","native":"\u{1F469}\u{1F3FB}\u200D\u{1F680}"},{"unified":"1f469-1f3fc-200d-1f680","native":"\u{1F469}\u{1F3FC}\u200D\u{1F680}"},{"unified":"1f469-1f3fd-200d-1f680","native":"\u{1F469}\u{1F3FD}\u200D\u{1F680}"},{"unified":"1f469-1f3fe-200d-1f680","native":"\u{1F469}\u{1F3FE}\u200D\u{1F680}"},{"unified":"1f469-1f3ff-200d-1f680","native":"\u{1F469}\u{1F3FF}\u200D\u{1F680}"}],"version":4},"firefighter":{"id":"firefighter","name":"Firefighter","keywords":["fire"],"skins":[{"unified":"1f9d1-200d-1f692","native":"\u{1F9D1}\u200D\u{1F692}"},{"unified":"1f9d1-1f3fb-200d-1f692","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F692}"},{"unified":"1f9d1-1f3fc-200d-1f692","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F692}"},{"unified":"1f9d1-1f3fd-200d-1f692","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F692}"},{"unified":"1f9d1-1f3fe-200d-1f692","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F692}"},{"unified":"1f9d1-1f3ff-200d-1f692","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F692}"}],"version":12.1},"male-firefighter":{"id":"male-firefighter","name":"Man Firefighter","keywords":["male","fireman","human"],"skins":[{"unified":"1f468-200d-1f692","native":"\u{1F468}\u200D\u{1F692}"},{"unified":"1f468-1f3fb-200d-1f692","native":"\u{1F468}\u{1F3FB}\u200D\u{1F692}"},{"unified":"1f468-1f3fc-200d-1f692","native":"\u{1F468}\u{1F3FC}\u200D\u{1F692}"},{"unified":"1f468-1f3fd-200d-1f692","native":"\u{1F468}\u{1F3FD}\u200D\u{1F692}"},{"unified":"1f468-1f3fe-200d-1f692","native":"\u{1F468}\u{1F3FE}\u200D\u{1F692}"},{"unified":"1f468-1f3ff-200d-1f692","native":"\u{1F468}\u{1F3FF}\u200D\u{1F692}"}],"version":4},"female-firefighter":{"id":"female-firefighter","name":"Woman Firefighter","keywords":["female","fireman","human"],"skins":[{"unified":"1f469-200d-1f692","native":"\u{1F469}\u200D\u{1F692}"},{"unified":"1f469-1f3fb-200d-1f692","native":"\u{1F469}\u{1F3FB}\u200D\u{1F692}"},{"unified":"1f469-1f3fc-200d-1f692","native":"\u{1F469}\u{1F3FC}\u200D\u{1F692}"},{"unified":"1f469-1f3fd-200d-1f692","native":"\u{1F469}\u{1F3FD}\u200D\u{1F692}"},{"unified":"1f469-1f3fe-200d-1f692","native":"\u{1F469}\u{1F3FE}\u200D\u{1F692}"},{"unified":"1f469-1f3ff-200d-1f692","native":"\u{1F469}\u{1F3FF}\u200D\u{1F692}"}],"version":4},"cop":{"id":"cop","name":"Police Officer","keywords":["cop"],"skins":[{"unified":"1f46e","native":"\u{1F46E}"},{"unified":"1f46e-1f3fb","native":"\u{1F46E}\u{1F3FB}"},{"unified":"1f46e-1f3fc","native":"\u{1F46E}\u{1F3FC}"},{"unified":"1f46e-1f3fd","native":"\u{1F46E}\u{1F3FD}"},{"unified":"1f46e-1f3fe","native":"\u{1F46E}\u{1F3FE}"},{"unified":"1f46e-1f3ff","native":"\u{1F46E}\u{1F3FF}"}],"version":1},"male-police-officer":{"id":"male-police-officer","name":"Man Police Officer","keywords":["male","police-officer","law","legal","enforcement","arrest","911"],"skins":[{"unified":"1f46e-200d-2642-fe0f","native":"\u{1F46E}\u200D\u2642\uFE0F"},{"unified":"1f46e-1f3fb-200d-2642-fe0f","native":"\u{1F46E}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f46e-1f3fc-200d-2642-fe0f","native":"\u{1F46E}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f46e-1f3fd-200d-2642-fe0f","native":"\u{1F46E}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f46e-1f3fe-200d-2642-fe0f","native":"\u{1F46E}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f46e-1f3ff-200d-2642-fe0f","native":"\u{1F46E}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"female-police-officer":{"id":"female-police-officer","name":"Woman Police Officer","keywords":["female","police-officer","law","legal","enforcement","arrest","911"],"skins":[{"unified":"1f46e-200d-2640-fe0f","native":"\u{1F46E}\u200D\u2640\uFE0F"},{"unified":"1f46e-1f3fb-200d-2640-fe0f","native":"\u{1F46E}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f46e-1f3fc-200d-2640-fe0f","native":"\u{1F46E}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f46e-1f3fd-200d-2640-fe0f","native":"\u{1F46E}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f46e-1f3fe-200d-2640-fe0f","native":"\u{1F46E}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f46e-1f3ff-200d-2640-fe0f","native":"\u{1F46E}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"sleuth_or_spy":{"id":"sleuth_or_spy","name":"Detective","keywords":["sleuth","or","spy","human"],"skins":[{"unified":"1f575-fe0f","native":"\u{1F575}\uFE0F"},{"unified":"1f575-1f3fb","native":"\u{1F575}\u{1F3FB}"},{"unified":"1f575-1f3fc","native":"\u{1F575}\u{1F3FC}"},{"unified":"1f575-1f3fd","native":"\u{1F575}\u{1F3FD}"},{"unified":"1f575-1f3fe","native":"\u{1F575}\u{1F3FE}"},{"unified":"1f575-1f3ff","native":"\u{1F575}\u{1F3FF}"}],"version":1},"male-detective":{"id":"male-detective","name":"Man Detective","keywords":["male","crime"],"skins":[{"unified":"1f575-fe0f-200d-2642-fe0f","native":"\u{1F575}\uFE0F\u200D\u2642\uFE0F"},{"unified":"1f575-1f3fb-200d-2642-fe0f","native":"\u{1F575}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f575-1f3fc-200d-2642-fe0f","native":"\u{1F575}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f575-1f3fd-200d-2642-fe0f","native":"\u{1F575}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f575-1f3fe-200d-2642-fe0f","native":"\u{1F575}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f575-1f3ff-200d-2642-fe0f","native":"\u{1F575}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"female-detective":{"id":"female-detective","name":"Woman Detective","keywords":["female","human","spy"],"skins":[{"unified":"1f575-fe0f-200d-2640-fe0f","native":"\u{1F575}\uFE0F\u200D\u2640\uFE0F"},{"unified":"1f575-1f3fb-200d-2640-fe0f","native":"\u{1F575}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f575-1f3fc-200d-2640-fe0f","native":"\u{1F575}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f575-1f3fd-200d-2640-fe0f","native":"\u{1F575}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f575-1f3fe-200d-2640-fe0f","native":"\u{1F575}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f575-1f3ff-200d-2640-fe0f","native":"\u{1F575}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"guardsman":{"id":"guardsman","name":"Guard","keywords":["guardsman","protect"],"skins":[{"unified":"1f482","native":"\u{1F482}"},{"unified":"1f482-1f3fb","native":"\u{1F482}\u{1F3FB}"},{"unified":"1f482-1f3fc","native":"\u{1F482}\u{1F3FC}"},{"unified":"1f482-1f3fd","native":"\u{1F482}\u{1F3FD}"},{"unified":"1f482-1f3fe","native":"\u{1F482}\u{1F3FE}"},{"unified":"1f482-1f3ff","native":"\u{1F482}\u{1F3FF}"}],"version":1},"male-guard":{"id":"male-guard","name":"Man Guard","keywords":["male","uk","gb","british","guy","royal"],"skins":[{"unified":"1f482-200d-2642-fe0f","native":"\u{1F482}\u200D\u2642\uFE0F"},{"unified":"1f482-1f3fb-200d-2642-fe0f","native":"\u{1F482}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f482-1f3fc-200d-2642-fe0f","native":"\u{1F482}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f482-1f3fd-200d-2642-fe0f","native":"\u{1F482}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f482-1f3fe-200d-2642-fe0f","native":"\u{1F482}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f482-1f3ff-200d-2642-fe0f","native":"\u{1F482}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"female-guard":{"id":"female-guard","name":"Woman Guard","keywords":["female","uk","gb","british","royal"],"skins":[{"unified":"1f482-200d-2640-fe0f","native":"\u{1F482}\u200D\u2640\uFE0F"},{"unified":"1f482-1f3fb-200d-2640-fe0f","native":"\u{1F482}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f482-1f3fc-200d-2640-fe0f","native":"\u{1F482}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f482-1f3fd-200d-2640-fe0f","native":"\u{1F482}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f482-1f3fe-200d-2640-fe0f","native":"\u{1F482}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f482-1f3ff-200d-2640-fe0f","native":"\u{1F482}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"ninja":{"id":"ninja","name":"Ninja","keywords":["ninjutsu","skills","japanese"],"skins":[{"unified":"1f977","native":"\u{1F977}"},{"unified":"1f977-1f3fb","native":"\u{1F977}\u{1F3FB}"},{"unified":"1f977-1f3fc","native":"\u{1F977}\u{1F3FC}"},{"unified":"1f977-1f3fd","native":"\u{1F977}\u{1F3FD}"},{"unified":"1f977-1f3fe","native":"\u{1F977}\u{1F3FE}"},{"unified":"1f977-1f3ff","native":"\u{1F977}\u{1F3FF}"}],"version":13},"construction_worker":{"id":"construction_worker","name":"Construction Worker","keywords":["labor","build"],"skins":[{"unified":"1f477","native":"\u{1F477}"},{"unified":"1f477-1f3fb","native":"\u{1F477}\u{1F3FB}"},{"unified":"1f477-1f3fc","native":"\u{1F477}\u{1F3FC}"},{"unified":"1f477-1f3fd","native":"\u{1F477}\u{1F3FD}"},{"unified":"1f477-1f3fe","native":"\u{1F477}\u{1F3FE}"},{"unified":"1f477-1f3ff","native":"\u{1F477}\u{1F3FF}"}],"version":1},"male-construction-worker":{"id":"male-construction-worker","name":"Man Construction Worker","keywords":["male","construction-worker","human","wip","guy","build","labor"],"skins":[{"unified":"1f477-200d-2642-fe0f","native":"\u{1F477}\u200D\u2642\uFE0F"},{"unified":"1f477-1f3fb-200d-2642-fe0f","native":"\u{1F477}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f477-1f3fc-200d-2642-fe0f","native":"\u{1F477}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f477-1f3fd-200d-2642-fe0f","native":"\u{1F477}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f477-1f3fe-200d-2642-fe0f","native":"\u{1F477}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f477-1f3ff-200d-2642-fe0f","native":"\u{1F477}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"female-construction-worker":{"id":"female-construction-worker","name":"Woman Construction Worker","keywords":["female","construction-worker","human","wip","build","labor"],"skins":[{"unified":"1f477-200d-2640-fe0f","native":"\u{1F477}\u200D\u2640\uFE0F"},{"unified":"1f477-1f3fb-200d-2640-fe0f","native":"\u{1F477}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f477-1f3fc-200d-2640-fe0f","native":"\u{1F477}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f477-1f3fd-200d-2640-fe0f","native":"\u{1F477}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f477-1f3fe-200d-2640-fe0f","native":"\u{1F477}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f477-1f3ff-200d-2640-fe0f","native":"\u{1F477}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"person_with_crown":{"id":"person_with_crown","name":"Person with Crown","keywords":["royalty","power"],"skins":[{"unified":"1fac5","native":"\u{1FAC5}"},{"unified":"1fac5-1f3fb","native":"\u{1FAC5}\u{1F3FB}"},{"unified":"1fac5-1f3fc","native":"\u{1FAC5}\u{1F3FC}"},{"unified":"1fac5-1f3fd","native":"\u{1FAC5}\u{1F3FD}"},{"unified":"1fac5-1f3fe","native":"\u{1FAC5}\u{1F3FE}"},{"unified":"1fac5-1f3ff","native":"\u{1FAC5}\u{1F3FF}"}],"version":14},"prince":{"id":"prince","name":"Prince","keywords":["boy","man","male","crown","royal","king"],"skins":[{"unified":"1f934","native":"\u{1F934}"},{"unified":"1f934-1f3fb","native":"\u{1F934}\u{1F3FB}"},{"unified":"1f934-1f3fc","native":"\u{1F934}\u{1F3FC}"},{"unified":"1f934-1f3fd","native":"\u{1F934}\u{1F3FD}"},{"unified":"1f934-1f3fe","native":"\u{1F934}\u{1F3FE}"},{"unified":"1f934-1f3ff","native":"\u{1F934}\u{1F3FF}"}],"version":3},"princess":{"id":"princess","name":"Princess","keywords":["girl","woman","female","blond","crown","royal","queen"],"skins":[{"unified":"1f478","native":"\u{1F478}"},{"unified":"1f478-1f3fb","native":"\u{1F478}\u{1F3FB}"},{"unified":"1f478-1f3fc","native":"\u{1F478}\u{1F3FC}"},{"unified":"1f478-1f3fd","native":"\u{1F478}\u{1F3FD}"},{"unified":"1f478-1f3fe","native":"\u{1F478}\u{1F3FE}"},{"unified":"1f478-1f3ff","native":"\u{1F478}\u{1F3FF}"}],"version":1},"man_with_turban":{"id":"man_with_turban","name":"Man with Turban","keywords":["person","wearing","headdress"],"skins":[{"unified":"1f473","native":"\u{1F473}"},{"unified":"1f473-1f3fb","native":"\u{1F473}\u{1F3FB}"},{"unified":"1f473-1f3fc","native":"\u{1F473}\u{1F3FC}"},{"unified":"1f473-1f3fd","native":"\u{1F473}\u{1F3FD}"},{"unified":"1f473-1f3fe","native":"\u{1F473}\u{1F3FE}"},{"unified":"1f473-1f3ff","native":"\u{1F473}\u{1F3FF}"}],"version":1},"man-wearing-turban":{"id":"man-wearing-turban","name":"Man Wearing Turban","keywords":["wearing-turban","male","indian","hinduism","arabs"],"skins":[{"unified":"1f473-200d-2642-fe0f","native":"\u{1F473}\u200D\u2642\uFE0F"},{"unified":"1f473-1f3fb-200d-2642-fe0f","native":"\u{1F473}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f473-1f3fc-200d-2642-fe0f","native":"\u{1F473}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f473-1f3fd-200d-2642-fe0f","native":"\u{1F473}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f473-1f3fe-200d-2642-fe0f","native":"\u{1F473}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f473-1f3ff-200d-2642-fe0f","native":"\u{1F473}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-wearing-turban":{"id":"woman-wearing-turban","name":"Woman Wearing Turban","keywords":["wearing-turban","female","indian","hinduism","arabs"],"skins":[{"unified":"1f473-200d-2640-fe0f","native":"\u{1F473}\u200D\u2640\uFE0F"},{"unified":"1f473-1f3fb-200d-2640-fe0f","native":"\u{1F473}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f473-1f3fc-200d-2640-fe0f","native":"\u{1F473}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f473-1f3fd-200d-2640-fe0f","native":"\u{1F473}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f473-1f3fe-200d-2640-fe0f","native":"\u{1F473}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f473-1f3ff-200d-2640-fe0f","native":"\u{1F473}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"man_with_gua_pi_mao":{"id":"man_with_gua_pi_mao","name":"Man with Gua Pi Mao","keywords":["skullcap","male","boy","chinese"],"skins":[{"unified":"1f472","native":"\u{1F472}"},{"unified":"1f472-1f3fb","native":"\u{1F472}\u{1F3FB}"},{"unified":"1f472-1f3fc","native":"\u{1F472}\u{1F3FC}"},{"unified":"1f472-1f3fd","native":"\u{1F472}\u{1F3FD}"},{"unified":"1f472-1f3fe","native":"\u{1F472}\u{1F3FE}"},{"unified":"1f472-1f3ff","native":"\u{1F472}\u{1F3FF}"}],"version":1},"person_with_headscarf":{"id":"person_with_headscarf","name":"Woman with Headscarf","keywords":["person","female","hijab","mantilla","tichel"],"skins":[{"unified":"1f9d5","native":"\u{1F9D5}"},{"unified":"1f9d5-1f3fb","native":"\u{1F9D5}\u{1F3FB}"},{"unified":"1f9d5-1f3fc","native":"\u{1F9D5}\u{1F3FC}"},{"unified":"1f9d5-1f3fd","native":"\u{1F9D5}\u{1F3FD}"},{"unified":"1f9d5-1f3fe","native":"\u{1F9D5}\u{1F3FE}"},{"unified":"1f9d5-1f3ff","native":"\u{1F9D5}\u{1F3FF}"}],"version":5},"person_in_tuxedo":{"id":"person_in_tuxedo","name":"Man in Tuxedo","keywords":["person","couple","marriage","wedding","groom"],"skins":[{"unified":"1f935","native":"\u{1F935}"},{"unified":"1f935-1f3fb","native":"\u{1F935}\u{1F3FB}"},{"unified":"1f935-1f3fc","native":"\u{1F935}\u{1F3FC}"},{"unified":"1f935-1f3fd","native":"\u{1F935}\u{1F3FD}"},{"unified":"1f935-1f3fe","native":"\u{1F935}\u{1F3FE}"},{"unified":"1f935-1f3ff","native":"\u{1F935}\u{1F3FF}"}],"version":3},"man_in_tuxedo":{"id":"man_in_tuxedo","name":"Man in Tuxedo","keywords":["formal","fashion"],"skins":[{"unified":"1f935-200d-2642-fe0f","native":"\u{1F935}\u200D\u2642\uFE0F"},{"unified":"1f935-1f3fb-200d-2642-fe0f","native":"\u{1F935}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f935-1f3fc-200d-2642-fe0f","native":"\u{1F935}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f935-1f3fd-200d-2642-fe0f","native":"\u{1F935}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f935-1f3fe-200d-2642-fe0f","native":"\u{1F935}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f935-1f3ff-200d-2642-fe0f","native":"\u{1F935}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":13},"woman_in_tuxedo":{"id":"woman_in_tuxedo","name":"Woman in Tuxedo","keywords":["formal","fashion"],"skins":[{"unified":"1f935-200d-2640-fe0f","native":"\u{1F935}\u200D\u2640\uFE0F"},{"unified":"1f935-1f3fb-200d-2640-fe0f","native":"\u{1F935}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f935-1f3fc-200d-2640-fe0f","native":"\u{1F935}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f935-1f3fd-200d-2640-fe0f","native":"\u{1F935}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f935-1f3fe-200d-2640-fe0f","native":"\u{1F935}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f935-1f3ff-200d-2640-fe0f","native":"\u{1F935}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":13},"bride_with_veil":{"id":"bride_with_veil","name":"Bride with Veil","keywords":["couple","marriage","wedding","woman"],"skins":[{"unified":"1f470","native":"\u{1F470}"},{"unified":"1f470-1f3fb","native":"\u{1F470}\u{1F3FB}"},{"unified":"1f470-1f3fc","native":"\u{1F470}\u{1F3FC}"},{"unified":"1f470-1f3fd","native":"\u{1F470}\u{1F3FD}"},{"unified":"1f470-1f3fe","native":"\u{1F470}\u{1F3FE}"},{"unified":"1f470-1f3ff","native":"\u{1F470}\u{1F3FF}"}],"version":1},"man_with_veil":{"id":"man_with_veil","name":"Man with Veil","keywords":["wedding","marriage"],"skins":[{"unified":"1f470-200d-2642-fe0f","native":"\u{1F470}\u200D\u2642\uFE0F"},{"unified":"1f470-1f3fb-200d-2642-fe0f","native":"\u{1F470}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f470-1f3fc-200d-2642-fe0f","native":"\u{1F470}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f470-1f3fd-200d-2642-fe0f","native":"\u{1F470}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f470-1f3fe-200d-2642-fe0f","native":"\u{1F470}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f470-1f3ff-200d-2642-fe0f","native":"\u{1F470}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":13},"woman_with_veil":{"id":"woman_with_veil","name":"Woman with Veil","keywords":["wedding","marriage"],"skins":[{"unified":"1f470-200d-2640-fe0f","native":"\u{1F470}\u200D\u2640\uFE0F"},{"unified":"1f470-1f3fb-200d-2640-fe0f","native":"\u{1F470}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f470-1f3fc-200d-2640-fe0f","native":"\u{1F470}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f470-1f3fd-200d-2640-fe0f","native":"\u{1F470}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f470-1f3fe-200d-2640-fe0f","native":"\u{1F470}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f470-1f3ff-200d-2640-fe0f","native":"\u{1F470}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":13},"pregnant_woman":{"id":"pregnant_woman","name":"Pregnant Woman","keywords":["baby"],"skins":[{"unified":"1f930","native":"\u{1F930}"},{"unified":"1f930-1f3fb","native":"\u{1F930}\u{1F3FB}"},{"unified":"1f930-1f3fc","native":"\u{1F930}\u{1F3FC}"},{"unified":"1f930-1f3fd","native":"\u{1F930}\u{1F3FD}"},{"unified":"1f930-1f3fe","native":"\u{1F930}\u{1F3FE}"},{"unified":"1f930-1f3ff","native":"\u{1F930}\u{1F3FF}"}],"version":3},"pregnant_man":{"id":"pregnant_man","name":"Pregnant Man","keywords":["baby","belly"],"skins":[{"unified":"1fac3","native":"\u{1FAC3}"},{"unified":"1fac3-1f3fb","native":"\u{1FAC3}\u{1F3FB}"},{"unified":"1fac3-1f3fc","native":"\u{1FAC3}\u{1F3FC}"},{"unified":"1fac3-1f3fd","native":"\u{1FAC3}\u{1F3FD}"},{"unified":"1fac3-1f3fe","native":"\u{1FAC3}\u{1F3FE}"},{"unified":"1fac3-1f3ff","native":"\u{1FAC3}\u{1F3FF}"}],"version":14},"pregnant_person":{"id":"pregnant_person","name":"Pregnant Person","keywords":["baby","belly"],"skins":[{"unified":"1fac4","native":"\u{1FAC4}"},{"unified":"1fac4-1f3fb","native":"\u{1FAC4}\u{1F3FB}"},{"unified":"1fac4-1f3fc","native":"\u{1FAC4}\u{1F3FC}"},{"unified":"1fac4-1f3fd","native":"\u{1FAC4}\u{1F3FD}"},{"unified":"1fac4-1f3fe","native":"\u{1FAC4}\u{1F3FE}"},{"unified":"1fac4-1f3ff","native":"\u{1FAC4}\u{1F3FF}"}],"version":14},"breast-feeding":{"id":"breast-feeding","name":"Breast-Feeding","keywords":["breast","feeding","nursing","baby"],"skins":[{"unified":"1f931","native":"\u{1F931}"},{"unified":"1f931-1f3fb","native":"\u{1F931}\u{1F3FB}"},{"unified":"1f931-1f3fc","native":"\u{1F931}\u{1F3FC}"},{"unified":"1f931-1f3fd","native":"\u{1F931}\u{1F3FD}"},{"unified":"1f931-1f3fe","native":"\u{1F931}\u{1F3FE}"},{"unified":"1f931-1f3ff","native":"\u{1F931}\u{1F3FF}"}],"version":5},"woman_feeding_baby":{"id":"woman_feeding_baby","name":"Woman Feeding Baby","keywords":["birth","food"],"skins":[{"unified":"1f469-200d-1f37c","native":"\u{1F469}\u200D\u{1F37C}"},{"unified":"1f469-1f3fb-200d-1f37c","native":"\u{1F469}\u{1F3FB}\u200D\u{1F37C}"},{"unified":"1f469-1f3fc-200d-1f37c","native":"\u{1F469}\u{1F3FC}\u200D\u{1F37C}"},{"unified":"1f469-1f3fd-200d-1f37c","native":"\u{1F469}\u{1F3FD}\u200D\u{1F37C}"},{"unified":"1f469-1f3fe-200d-1f37c","native":"\u{1F469}\u{1F3FE}\u200D\u{1F37C}"},{"unified":"1f469-1f3ff-200d-1f37c","native":"\u{1F469}\u{1F3FF}\u200D\u{1F37C}"}],"version":13},"man_feeding_baby":{"id":"man_feeding_baby","name":"Man Feeding Baby","keywords":["birth","food"],"skins":[{"unified":"1f468-200d-1f37c","native":"\u{1F468}\u200D\u{1F37C}"},{"unified":"1f468-1f3fb-200d-1f37c","native":"\u{1F468}\u{1F3FB}\u200D\u{1F37C}"},{"unified":"1f468-1f3fc-200d-1f37c","native":"\u{1F468}\u{1F3FC}\u200D\u{1F37C}"},{"unified":"1f468-1f3fd-200d-1f37c","native":"\u{1F468}\u{1F3FD}\u200D\u{1F37C}"},{"unified":"1f468-1f3fe-200d-1f37c","native":"\u{1F468}\u{1F3FE}\u200D\u{1F37C}"},{"unified":"1f468-1f3ff-200d-1f37c","native":"\u{1F468}\u{1F3FF}\u200D\u{1F37C}"}],"version":13},"person_feeding_baby":{"id":"person_feeding_baby","name":"Person Feeding Baby","keywords":["birth","food"],"skins":[{"unified":"1f9d1-200d-1f37c","native":"\u{1F9D1}\u200D\u{1F37C}"},{"unified":"1f9d1-1f3fb-200d-1f37c","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F37C}"},{"unified":"1f9d1-1f3fc-200d-1f37c","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F37C}"},{"unified":"1f9d1-1f3fd-200d-1f37c","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F37C}"},{"unified":"1f9d1-1f3fe-200d-1f37c","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F37C}"},{"unified":"1f9d1-1f3ff-200d-1f37c","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F37C}"}],"version":13},"angel":{"id":"angel","name":"Baby Angel","keywords":["heaven","wings","halo"],"skins":[{"unified":"1f47c","native":"\u{1F47C}"},{"unified":"1f47c-1f3fb","native":"\u{1F47C}\u{1F3FB}"},{"unified":"1f47c-1f3fc","native":"\u{1F47C}\u{1F3FC}"},{"unified":"1f47c-1f3fd","native":"\u{1F47C}\u{1F3FD}"},{"unified":"1f47c-1f3fe","native":"\u{1F47C}\u{1F3FE}"},{"unified":"1f47c-1f3ff","native":"\u{1F47C}\u{1F3FF}"}],"version":1},"santa":{"id":"santa","name":"Santa Claus","keywords":["festival","man","male","xmas","father","christmas"],"skins":[{"unified":"1f385","native":"\u{1F385}"},{"unified":"1f385-1f3fb","native":"\u{1F385}\u{1F3FB}"},{"unified":"1f385-1f3fc","native":"\u{1F385}\u{1F3FC}"},{"unified":"1f385-1f3fd","native":"\u{1F385}\u{1F3FD}"},{"unified":"1f385-1f3fe","native":"\u{1F385}\u{1F3FE}"},{"unified":"1f385-1f3ff","native":"\u{1F385}\u{1F3FF}"}],"version":1},"mrs_claus":{"id":"mrs_claus","name":"Mrs. Claus","keywords":["mrs","mother","christmas","woman","female","xmas"],"skins":[{"unified":"1f936","native":"\u{1F936}"},{"unified":"1f936-1f3fb","native":"\u{1F936}\u{1F3FB}"},{"unified":"1f936-1f3fc","native":"\u{1F936}\u{1F3FC}"},{"unified":"1f936-1f3fd","native":"\u{1F936}\u{1F3FD}"},{"unified":"1f936-1f3fe","native":"\u{1F936}\u{1F3FE}"},{"unified":"1f936-1f3ff","native":"\u{1F936}\u{1F3FF}"}],"version":3},"mx_claus":{"id":"mx_claus","name":"Mx Claus","keywords":["christmas"],"skins":[{"unified":"1f9d1-200d-1f384","native":"\u{1F9D1}\u200D\u{1F384}"},{"unified":"1f9d1-1f3fb-200d-1f384","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F384}"},{"unified":"1f9d1-1f3fc-200d-1f384","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F384}"},{"unified":"1f9d1-1f3fd-200d-1f384","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F384}"},{"unified":"1f9d1-1f3fe-200d-1f384","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F384}"},{"unified":"1f9d1-1f3ff-200d-1f384","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F384}"}],"version":13},"superhero":{"id":"superhero","name":"Superhero","keywords":["marvel"],"skins":[{"unified":"1f9b8","native":"\u{1F9B8}"},{"unified":"1f9b8-1f3fb","native":"\u{1F9B8}\u{1F3FB}"},{"unified":"1f9b8-1f3fc","native":"\u{1F9B8}\u{1F3FC}"},{"unified":"1f9b8-1f3fd","native":"\u{1F9B8}\u{1F3FD}"},{"unified":"1f9b8-1f3fe","native":"\u{1F9B8}\u{1F3FE}"},{"unified":"1f9b8-1f3ff","native":"\u{1F9B8}\u{1F3FF}"}],"version":11},"male_superhero":{"id":"male_superhero","name":"Man Superhero","keywords":["male","good","hero","superpowers"],"skins":[{"unified":"1f9b8-200d-2642-fe0f","native":"\u{1F9B8}\u200D\u2642\uFE0F"},{"unified":"1f9b8-1f3fb-200d-2642-fe0f","native":"\u{1F9B8}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f9b8-1f3fc-200d-2642-fe0f","native":"\u{1F9B8}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f9b8-1f3fd-200d-2642-fe0f","native":"\u{1F9B8}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f9b8-1f3fe-200d-2642-fe0f","native":"\u{1F9B8}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f9b8-1f3ff-200d-2642-fe0f","native":"\u{1F9B8}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":11},"female_superhero":{"id":"female_superhero","name":"Woman Superhero","keywords":["female","good","heroine","superpowers"],"skins":[{"unified":"1f9b8-200d-2640-fe0f","native":"\u{1F9B8}\u200D\u2640\uFE0F"},{"unified":"1f9b8-1f3fb-200d-2640-fe0f","native":"\u{1F9B8}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f9b8-1f3fc-200d-2640-fe0f","native":"\u{1F9B8}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f9b8-1f3fd-200d-2640-fe0f","native":"\u{1F9B8}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f9b8-1f3fe-200d-2640-fe0f","native":"\u{1F9B8}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f9b8-1f3ff-200d-2640-fe0f","native":"\u{1F9B8}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":11},"supervillain":{"id":"supervillain","name":"Supervillain","keywords":["marvel"],"skins":[{"unified":"1f9b9","native":"\u{1F9B9}"},{"unified":"1f9b9-1f3fb","native":"\u{1F9B9}\u{1F3FB}"},{"unified":"1f9b9-1f3fc","native":"\u{1F9B9}\u{1F3FC}"},{"unified":"1f9b9-1f3fd","native":"\u{1F9B9}\u{1F3FD}"},{"unified":"1f9b9-1f3fe","native":"\u{1F9B9}\u{1F3FE}"},{"unified":"1f9b9-1f3ff","native":"\u{1F9B9}\u{1F3FF}"}],"version":11},"male_supervillain":{"id":"male_supervillain","name":"Man Supervillain","keywords":["male","evil","bad","criminal","hero","superpowers"],"skins":[{"unified":"1f9b9-200d-2642-fe0f","native":"\u{1F9B9}\u200D\u2642\uFE0F"},{"unified":"1f9b9-1f3fb-200d-2642-fe0f","native":"\u{1F9B9}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f9b9-1f3fc-200d-2642-fe0f","native":"\u{1F9B9}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f9b9-1f3fd-200d-2642-fe0f","native":"\u{1F9B9}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f9b9-1f3fe-200d-2642-fe0f","native":"\u{1F9B9}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f9b9-1f3ff-200d-2642-fe0f","native":"\u{1F9B9}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":11},"female_supervillain":{"id":"female_supervillain","name":"Woman Supervillain","keywords":["female","evil","bad","criminal","heroine","superpowers"],"skins":[{"unified":"1f9b9-200d-2640-fe0f","native":"\u{1F9B9}\u200D\u2640\uFE0F"},{"unified":"1f9b9-1f3fb-200d-2640-fe0f","native":"\u{1F9B9}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f9b9-1f3fc-200d-2640-fe0f","native":"\u{1F9B9}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f9b9-1f3fd-200d-2640-fe0f","native":"\u{1F9B9}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f9b9-1f3fe-200d-2640-fe0f","native":"\u{1F9B9}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f9b9-1f3ff-200d-2640-fe0f","native":"\u{1F9B9}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":11},"mage":{"id":"mage","name":"Mage","keywords":["magic"],"skins":[{"unified":"1f9d9","native":"\u{1F9D9}"},{"unified":"1f9d9-1f3fb","native":"\u{1F9D9}\u{1F3FB}"},{"unified":"1f9d9-1f3fc","native":"\u{1F9D9}\u{1F3FC}"},{"unified":"1f9d9-1f3fd","native":"\u{1F9D9}\u{1F3FD}"},{"unified":"1f9d9-1f3fe","native":"\u{1F9D9}\u{1F3FE}"},{"unified":"1f9d9-1f3ff","native":"\u{1F9D9}\u{1F3FF}"}],"version":5},"male_mage":{"id":"male_mage","name":"Man Mage","keywords":["male","sorcerer"],"skins":[{"unified":"1f9d9-200d-2642-fe0f","native":"\u{1F9D9}\u200D\u2642\uFE0F"},{"unified":"1f9d9-1f3fb-200d-2642-fe0f","native":"\u{1F9D9}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f9d9-1f3fc-200d-2642-fe0f","native":"\u{1F9D9}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f9d9-1f3fd-200d-2642-fe0f","native":"\u{1F9D9}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f9d9-1f3fe-200d-2642-fe0f","native":"\u{1F9D9}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f9d9-1f3ff-200d-2642-fe0f","native":"\u{1F9D9}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":5},"female_mage":{"id":"female_mage","name":"Woman Mage","keywords":["female","witch"],"skins":[{"unified":"1f9d9-200d-2640-fe0f","native":"\u{1F9D9}\u200D\u2640\uFE0F"},{"unified":"1f9d9-1f3fb-200d-2640-fe0f","native":"\u{1F9D9}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f9d9-1f3fc-200d-2640-fe0f","native":"\u{1F9D9}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f9d9-1f3fd-200d-2640-fe0f","native":"\u{1F9D9}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f9d9-1f3fe-200d-2640-fe0f","native":"\u{1F9D9}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f9d9-1f3ff-200d-2640-fe0f","native":"\u{1F9D9}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":5},"fairy":{"id":"fairy","name":"Fairy","keywords":["wings","magical"],"skins":[{"unified":"1f9da","native":"\u{1F9DA}"},{"unified":"1f9da-1f3fb","native":"\u{1F9DA}\u{1F3FB}"},{"unified":"1f9da-1f3fc","native":"\u{1F9DA}\u{1F3FC}"},{"unified":"1f9da-1f3fd","native":"\u{1F9DA}\u{1F3FD}"},{"unified":"1f9da-1f3fe","native":"\u{1F9DA}\u{1F3FE}"},{"unified":"1f9da-1f3ff","native":"\u{1F9DA}\u{1F3FF}"}],"version":5},"male_fairy":{"id":"male_fairy","name":"Man Fairy","keywords":["male"],"skins":[{"unified":"1f9da-200d-2642-fe0f","native":"\u{1F9DA}\u200D\u2642\uFE0F"},{"unified":"1f9da-1f3fb-200d-2642-fe0f","native":"\u{1F9DA}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f9da-1f3fc-200d-2642-fe0f","native":"\u{1F9DA}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f9da-1f3fd-200d-2642-fe0f","native":"\u{1F9DA}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f9da-1f3fe-200d-2642-fe0f","native":"\u{1F9DA}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f9da-1f3ff-200d-2642-fe0f","native":"\u{1F9DA}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":5},"female_fairy":{"id":"female_fairy","name":"Woman Fairy","keywords":["female"],"skins":[{"unified":"1f9da-200d-2640-fe0f","native":"\u{1F9DA}\u200D\u2640\uFE0F"},{"unified":"1f9da-1f3fb-200d-2640-fe0f","native":"\u{1F9DA}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f9da-1f3fc-200d-2640-fe0f","native":"\u{1F9DA}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f9da-1f3fd-200d-2640-fe0f","native":"\u{1F9DA}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f9da-1f3fe-200d-2640-fe0f","native":"\u{1F9DA}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f9da-1f3ff-200d-2640-fe0f","native":"\u{1F9DA}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":5},"vampire":{"id":"vampire","name":"Vampire","keywords":["blood","twilight"],"skins":[{"unified":"1f9db","native":"\u{1F9DB}"},{"unified":"1f9db-1f3fb","native":"\u{1F9DB}\u{1F3FB}"},{"unified":"1f9db-1f3fc","native":"\u{1F9DB}\u{1F3FC}"},{"unified":"1f9db-1f3fd","native":"\u{1F9DB}\u{1F3FD}"},{"unified":"1f9db-1f3fe","native":"\u{1F9DB}\u{1F3FE}"},{"unified":"1f9db-1f3ff","native":"\u{1F9DB}\u{1F3FF}"}],"version":5},"male_vampire":{"id":"male_vampire","name":"Man Vampire","keywords":["male","dracula"],"skins":[{"unified":"1f9db-200d-2642-fe0f","native":"\u{1F9DB}\u200D\u2642\uFE0F"},{"unified":"1f9db-1f3fb-200d-2642-fe0f","native":"\u{1F9DB}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f9db-1f3fc-200d-2642-fe0f","native":"\u{1F9DB}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f9db-1f3fd-200d-2642-fe0f","native":"\u{1F9DB}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f9db-1f3fe-200d-2642-fe0f","native":"\u{1F9DB}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f9db-1f3ff-200d-2642-fe0f","native":"\u{1F9DB}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":5},"female_vampire":{"id":"female_vampire","name":"Woman Vampire","keywords":["female"],"skins":[{"unified":"1f9db-200d-2640-fe0f","native":"\u{1F9DB}\u200D\u2640\uFE0F"},{"unified":"1f9db-1f3fb-200d-2640-fe0f","native":"\u{1F9DB}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f9db-1f3fc-200d-2640-fe0f","native":"\u{1F9DB}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f9db-1f3fd-200d-2640-fe0f","native":"\u{1F9DB}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f9db-1f3fe-200d-2640-fe0f","native":"\u{1F9DB}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f9db-1f3ff-200d-2640-fe0f","native":"\u{1F9DB}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":5},"merperson":{"id":"merperson","name":"Merperson","keywords":["sea"],"skins":[{"unified":"1f9dc","native":"\u{1F9DC}"},{"unified":"1f9dc-1f3fb","native":"\u{1F9DC}\u{1F3FB}"},{"unified":"1f9dc-1f3fc","native":"\u{1F9DC}\u{1F3FC}"},{"unified":"1f9dc-1f3fd","native":"\u{1F9DC}\u{1F3FD}"},{"unified":"1f9dc-1f3fe","native":"\u{1F9DC}\u{1F3FE}"},{"unified":"1f9dc-1f3ff","native":"\u{1F9DC}\u{1F3FF}"}],"version":5},"merman":{"id":"merman","name":"Merman","keywords":["man","male","triton"],"skins":[{"unified":"1f9dc-200d-2642-fe0f","native":"\u{1F9DC}\u200D\u2642\uFE0F"},{"unified":"1f9dc-1f3fb-200d-2642-fe0f","native":"\u{1F9DC}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f9dc-1f3fc-200d-2642-fe0f","native":"\u{1F9DC}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f9dc-1f3fd-200d-2642-fe0f","native":"\u{1F9DC}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f9dc-1f3fe-200d-2642-fe0f","native":"\u{1F9DC}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f9dc-1f3ff-200d-2642-fe0f","native":"\u{1F9DC}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":5},"mermaid":{"id":"mermaid","name":"Mermaid","keywords":["woman","female","merwoman","ariel"],"skins":[{"unified":"1f9dc-200d-2640-fe0f","native":"\u{1F9DC}\u200D\u2640\uFE0F"},{"unified":"1f9dc-1f3fb-200d-2640-fe0f","native":"\u{1F9DC}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f9dc-1f3fc-200d-2640-fe0f","native":"\u{1F9DC}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f9dc-1f3fd-200d-2640-fe0f","native":"\u{1F9DC}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f9dc-1f3fe-200d-2640-fe0f","native":"\u{1F9DC}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f9dc-1f3ff-200d-2640-fe0f","native":"\u{1F9DC}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":5},"elf":{"id":"elf","name":"Elf","keywords":["magical"],"skins":[{"unified":"1f9dd","native":"\u{1F9DD}"},{"unified":"1f9dd-1f3fb","native":"\u{1F9DD}\u{1F3FB}"},{"unified":"1f9dd-1f3fc","native":"\u{1F9DD}\u{1F3FC}"},{"unified":"1f9dd-1f3fd","native":"\u{1F9DD}\u{1F3FD}"},{"unified":"1f9dd-1f3fe","native":"\u{1F9DD}\u{1F3FE}"},{"unified":"1f9dd-1f3ff","native":"\u{1F9DD}\u{1F3FF}"}],"version":5},"male_elf":{"id":"male_elf","name":"Man Elf","keywords":["male"],"skins":[{"unified":"1f9dd-200d-2642-fe0f","native":"\u{1F9DD}\u200D\u2642\uFE0F"},{"unified":"1f9dd-1f3fb-200d-2642-fe0f","native":"\u{1F9DD}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f9dd-1f3fc-200d-2642-fe0f","native":"\u{1F9DD}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f9dd-1f3fd-200d-2642-fe0f","native":"\u{1F9DD}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f9dd-1f3fe-200d-2642-fe0f","native":"\u{1F9DD}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f9dd-1f3ff-200d-2642-fe0f","native":"\u{1F9DD}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":5},"female_elf":{"id":"female_elf","name":"Woman Elf","keywords":["female"],"skins":[{"unified":"1f9dd-200d-2640-fe0f","native":"\u{1F9DD}\u200D\u2640\uFE0F"},{"unified":"1f9dd-1f3fb-200d-2640-fe0f","native":"\u{1F9DD}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f9dd-1f3fc-200d-2640-fe0f","native":"\u{1F9DD}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f9dd-1f3fd-200d-2640-fe0f","native":"\u{1F9DD}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f9dd-1f3fe-200d-2640-fe0f","native":"\u{1F9DD}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f9dd-1f3ff-200d-2640-fe0f","native":"\u{1F9DD}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":5},"genie":{"id":"genie","name":"Genie","keywords":["magical","wishes"],"skins":[{"unified":"1f9de","native":"\u{1F9DE}"}],"version":5},"male_genie":{"id":"male_genie","name":"Man Genie","keywords":["male"],"skins":[{"unified":"1f9de-200d-2642-fe0f","native":"\u{1F9DE}\u200D\u2642\uFE0F"}],"version":5},"female_genie":{"id":"female_genie","name":"Woman Genie","keywords":["female"],"skins":[{"unified":"1f9de-200d-2640-fe0f","native":"\u{1F9DE}\u200D\u2640\uFE0F"}],"version":5},"zombie":{"id":"zombie","name":"Zombie","keywords":["dead"],"skins":[{"unified":"1f9df","native":"\u{1F9DF}"}],"version":5},"male_zombie":{"id":"male_zombie","name":"Man Zombie","keywords":["male","dracula","undead","walking","dead"],"skins":[{"unified":"1f9df-200d-2642-fe0f","native":"\u{1F9DF}\u200D\u2642\uFE0F"}],"version":5},"female_zombie":{"id":"female_zombie","name":"Woman Zombie","keywords":["female","undead","walking","dead"],"skins":[{"unified":"1f9df-200d-2640-fe0f","native":"\u{1F9DF}\u200D\u2640\uFE0F"}],"version":5},"troll":{"id":"troll","name":"Troll","keywords":["mystical","monster"],"skins":[{"unified":"1f9cc","native":"\u{1F9CC}"}],"version":14},"massage":{"id":"massage","name":"Face Massage","keywords":["person","getting","relax"],"skins":[{"unified":"1f486","native":"\u{1F486}"},{"unified":"1f486-1f3fb","native":"\u{1F486}\u{1F3FB}"},{"unified":"1f486-1f3fc","native":"\u{1F486}\u{1F3FC}"},{"unified":"1f486-1f3fd","native":"\u{1F486}\u{1F3FD}"},{"unified":"1f486-1f3fe","native":"\u{1F486}\u{1F3FE}"},{"unified":"1f486-1f3ff","native":"\u{1F486}\u{1F3FF}"}],"version":1},"man-getting-massage":{"id":"man-getting-massage","name":"Man Getting Massage","keywords":["getting-massage","male","boy","head"],"skins":[{"unified":"1f486-200d-2642-fe0f","native":"\u{1F486}\u200D\u2642\uFE0F"},{"unified":"1f486-1f3fb-200d-2642-fe0f","native":"\u{1F486}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f486-1f3fc-200d-2642-fe0f","native":"\u{1F486}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f486-1f3fd-200d-2642-fe0f","native":"\u{1F486}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f486-1f3fe-200d-2642-fe0f","native":"\u{1F486}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f486-1f3ff-200d-2642-fe0f","native":"\u{1F486}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-getting-massage":{"id":"woman-getting-massage","name":"Woman Getting Massage","keywords":["getting-massage","female","girl","head"],"skins":[{"unified":"1f486-200d-2640-fe0f","native":"\u{1F486}\u200D\u2640\uFE0F"},{"unified":"1f486-1f3fb-200d-2640-fe0f","native":"\u{1F486}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f486-1f3fc-200d-2640-fe0f","native":"\u{1F486}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f486-1f3fd-200d-2640-fe0f","native":"\u{1F486}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f486-1f3fe-200d-2640-fe0f","native":"\u{1F486}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f486-1f3ff-200d-2640-fe0f","native":"\u{1F486}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"haircut":{"id":"haircut","name":"Haircut","keywords":["person","getting","hairstyle"],"skins":[{"unified":"1f487","native":"\u{1F487}"},{"unified":"1f487-1f3fb","native":"\u{1F487}\u{1F3FB}"},{"unified":"1f487-1f3fc","native":"\u{1F487}\u{1F3FC}"},{"unified":"1f487-1f3fd","native":"\u{1F487}\u{1F3FD}"},{"unified":"1f487-1f3fe","native":"\u{1F487}\u{1F3FE}"},{"unified":"1f487-1f3ff","native":"\u{1F487}\u{1F3FF}"}],"version":1},"man-getting-haircut":{"id":"man-getting-haircut","name":"Man Getting Haircut","keywords":["getting-haircut","male","boy"],"skins":[{"unified":"1f487-200d-2642-fe0f","native":"\u{1F487}\u200D\u2642\uFE0F"},{"unified":"1f487-1f3fb-200d-2642-fe0f","native":"\u{1F487}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f487-1f3fc-200d-2642-fe0f","native":"\u{1F487}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f487-1f3fd-200d-2642-fe0f","native":"\u{1F487}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f487-1f3fe-200d-2642-fe0f","native":"\u{1F487}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f487-1f3ff-200d-2642-fe0f","native":"\u{1F487}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-getting-haircut":{"id":"woman-getting-haircut","name":"Woman Getting Haircut","keywords":["getting-haircut","female","girl"],"skins":[{"unified":"1f487-200d-2640-fe0f","native":"\u{1F487}\u200D\u2640\uFE0F"},{"unified":"1f487-1f3fb-200d-2640-fe0f","native":"\u{1F487}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f487-1f3fc-200d-2640-fe0f","native":"\u{1F487}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f487-1f3fd-200d-2640-fe0f","native":"\u{1F487}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f487-1f3fe-200d-2640-fe0f","native":"\u{1F487}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f487-1f3ff-200d-2640-fe0f","native":"\u{1F487}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"walking":{"id":"walking","name":"Pedestrian","keywords":["walking","person","move"],"skins":[{"unified":"1f6b6","native":"\u{1F6B6}"},{"unified":"1f6b6-1f3fb","native":"\u{1F6B6}\u{1F3FB}"},{"unified":"1f6b6-1f3fc","native":"\u{1F6B6}\u{1F3FC}"},{"unified":"1f6b6-1f3fd","native":"\u{1F6B6}\u{1F3FD}"},{"unified":"1f6b6-1f3fe","native":"\u{1F6B6}\u{1F3FE}"},{"unified":"1f6b6-1f3ff","native":"\u{1F6B6}\u{1F3FF}"}],"version":1},"man-walking":{"id":"man-walking","name":"Man Walking","keywords":["human","feet","steps"],"skins":[{"unified":"1f6b6-200d-2642-fe0f","native":"\u{1F6B6}\u200D\u2642\uFE0F"},{"unified":"1f6b6-1f3fb-200d-2642-fe0f","native":"\u{1F6B6}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f6b6-1f3fc-200d-2642-fe0f","native":"\u{1F6B6}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f6b6-1f3fd-200d-2642-fe0f","native":"\u{1F6B6}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f6b6-1f3fe-200d-2642-fe0f","native":"\u{1F6B6}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f6b6-1f3ff-200d-2642-fe0f","native":"\u{1F6B6}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-walking":{"id":"woman-walking","name":"Woman Walking","keywords":["human","feet","steps","female"],"skins":[{"unified":"1f6b6-200d-2640-fe0f","native":"\u{1F6B6}\u200D\u2640\uFE0F"},{"unified":"1f6b6-1f3fb-200d-2640-fe0f","native":"\u{1F6B6}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f6b6-1f3fc-200d-2640-fe0f","native":"\u{1F6B6}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f6b6-1f3fd-200d-2640-fe0f","native":"\u{1F6B6}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f6b6-1f3fe-200d-2640-fe0f","native":"\u{1F6B6}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f6b6-1f3ff-200d-2640-fe0f","native":"\u{1F6B6}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"standing_person":{"id":"standing_person","name":"Standing Person","keywords":["still"],"skins":[{"unified":"1f9cd","native":"\u{1F9CD}"},{"unified":"1f9cd-1f3fb","native":"\u{1F9CD}\u{1F3FB}"},{"unified":"1f9cd-1f3fc","native":"\u{1F9CD}\u{1F3FC}"},{"unified":"1f9cd-1f3fd","native":"\u{1F9CD}\u{1F3FD}"},{"unified":"1f9cd-1f3fe","native":"\u{1F9CD}\u{1F3FE}"},{"unified":"1f9cd-1f3ff","native":"\u{1F9CD}\u{1F3FF}"}],"version":12},"man_standing":{"id":"man_standing","name":"Man Standing","keywords":["still"],"skins":[{"unified":"1f9cd-200d-2642-fe0f","native":"\u{1F9CD}\u200D\u2642\uFE0F"},{"unified":"1f9cd-1f3fb-200d-2642-fe0f","native":"\u{1F9CD}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f9cd-1f3fc-200d-2642-fe0f","native":"\u{1F9CD}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f9cd-1f3fd-200d-2642-fe0f","native":"\u{1F9CD}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f9cd-1f3fe-200d-2642-fe0f","native":"\u{1F9CD}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f9cd-1f3ff-200d-2642-fe0f","native":"\u{1F9CD}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":12},"woman_standing":{"id":"woman_standing","name":"Woman Standing","keywords":["still"],"skins":[{"unified":"1f9cd-200d-2640-fe0f","native":"\u{1F9CD}\u200D\u2640\uFE0F"},{"unified":"1f9cd-1f3fb-200d-2640-fe0f","native":"\u{1F9CD}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f9cd-1f3fc-200d-2640-fe0f","native":"\u{1F9CD}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f9cd-1f3fd-200d-2640-fe0f","native":"\u{1F9CD}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f9cd-1f3fe-200d-2640-fe0f","native":"\u{1F9CD}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f9cd-1f3ff-200d-2640-fe0f","native":"\u{1F9CD}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":12},"kneeling_person":{"id":"kneeling_person","name":"Kneeling Person","keywords":["pray","respectful"],"skins":[{"unified":"1f9ce","native":"\u{1F9CE}"},{"unified":"1f9ce-1f3fb","native":"\u{1F9CE}\u{1F3FB}"},{"unified":"1f9ce-1f3fc","native":"\u{1F9CE}\u{1F3FC}"},{"unified":"1f9ce-1f3fd","native":"\u{1F9CE}\u{1F3FD}"},{"unified":"1f9ce-1f3fe","native":"\u{1F9CE}\u{1F3FE}"},{"unified":"1f9ce-1f3ff","native":"\u{1F9CE}\u{1F3FF}"}],"version":12},"man_kneeling":{"id":"man_kneeling","name":"Man Kneeling","keywords":["pray","respectful"],"skins":[{"unified":"1f9ce-200d-2642-fe0f","native":"\u{1F9CE}\u200D\u2642\uFE0F"},{"unified":"1f9ce-1f3fb-200d-2642-fe0f","native":"\u{1F9CE}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f9ce-1f3fc-200d-2642-fe0f","native":"\u{1F9CE}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f9ce-1f3fd-200d-2642-fe0f","native":"\u{1F9CE}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f9ce-1f3fe-200d-2642-fe0f","native":"\u{1F9CE}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f9ce-1f3ff-200d-2642-fe0f","native":"\u{1F9CE}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":12},"woman_kneeling":{"id":"woman_kneeling","name":"Woman Kneeling","keywords":["respectful","pray"],"skins":[{"unified":"1f9ce-200d-2640-fe0f","native":"\u{1F9CE}\u200D\u2640\uFE0F"},{"unified":"1f9ce-1f3fb-200d-2640-fe0f","native":"\u{1F9CE}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f9ce-1f3fc-200d-2640-fe0f","native":"\u{1F9CE}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f9ce-1f3fd-200d-2640-fe0f","native":"\u{1F9CE}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f9ce-1f3fe-200d-2640-fe0f","native":"\u{1F9CE}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f9ce-1f3ff-200d-2640-fe0f","native":"\u{1F9CE}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":12},"person_with_probing_cane":{"id":"person_with_probing_cane","name":"Person with White Cane","keywords":["probing","blind"],"skins":[{"unified":"1f9d1-200d-1f9af","native":"\u{1F9D1}\u200D\u{1F9AF}"},{"unified":"1f9d1-1f3fb-200d-1f9af","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F9AF}"},{"unified":"1f9d1-1f3fc-200d-1f9af","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F9AF}"},{"unified":"1f9d1-1f3fd-200d-1f9af","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F9AF}"},{"unified":"1f9d1-1f3fe-200d-1f9af","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F9AF}"},{"unified":"1f9d1-1f3ff-200d-1f9af","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F9AF}"}],"version":12.1},"man_with_probing_cane":{"id":"man_with_probing_cane","name":"Man with White Cane","keywords":["probing","blind"],"skins":[{"unified":"1f468-200d-1f9af","native":"\u{1F468}\u200D\u{1F9AF}"},{"unified":"1f468-1f3fb-200d-1f9af","native":"\u{1F468}\u{1F3FB}\u200D\u{1F9AF}"},{"unified":"1f468-1f3fc-200d-1f9af","native":"\u{1F468}\u{1F3FC}\u200D\u{1F9AF}"},{"unified":"1f468-1f3fd-200d-1f9af","native":"\u{1F468}\u{1F3FD}\u200D\u{1F9AF}"},{"unified":"1f468-1f3fe-200d-1f9af","native":"\u{1F468}\u{1F3FE}\u200D\u{1F9AF}"},{"unified":"1f468-1f3ff-200d-1f9af","native":"\u{1F468}\u{1F3FF}\u200D\u{1F9AF}"}],"version":12},"woman_with_probing_cane":{"id":"woman_with_probing_cane","name":"Woman with White Cane","keywords":["probing","blind"],"skins":[{"unified":"1f469-200d-1f9af","native":"\u{1F469}\u200D\u{1F9AF}"},{"unified":"1f469-1f3fb-200d-1f9af","native":"\u{1F469}\u{1F3FB}\u200D\u{1F9AF}"},{"unified":"1f469-1f3fc-200d-1f9af","native":"\u{1F469}\u{1F3FC}\u200D\u{1F9AF}"},{"unified":"1f469-1f3fd-200d-1f9af","native":"\u{1F469}\u{1F3FD}\u200D\u{1F9AF}"},{"unified":"1f469-1f3fe-200d-1f9af","native":"\u{1F469}\u{1F3FE}\u200D\u{1F9AF}"},{"unified":"1f469-1f3ff-200d-1f9af","native":"\u{1F469}\u{1F3FF}\u200D\u{1F9AF}"}],"version":12},"person_in_motorized_wheelchair":{"id":"person_in_motorized_wheelchair","name":"Person in Motorized Wheelchair","keywords":["disability","accessibility"],"skins":[{"unified":"1f9d1-200d-1f9bc","native":"\u{1F9D1}\u200D\u{1F9BC}"},{"unified":"1f9d1-1f3fb-200d-1f9bc","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F9BC}"},{"unified":"1f9d1-1f3fc-200d-1f9bc","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F9BC}"},{"unified":"1f9d1-1f3fd-200d-1f9bc","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F9BC}"},{"unified":"1f9d1-1f3fe-200d-1f9bc","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F9BC}"},{"unified":"1f9d1-1f3ff-200d-1f9bc","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F9BC}"}],"version":12.1},"man_in_motorized_wheelchair":{"id":"man_in_motorized_wheelchair","name":"Man in Motorized Wheelchair","keywords":["disability","accessibility"],"skins":[{"unified":"1f468-200d-1f9bc","native":"\u{1F468}\u200D\u{1F9BC}"},{"unified":"1f468-1f3fb-200d-1f9bc","native":"\u{1F468}\u{1F3FB}\u200D\u{1F9BC}"},{"unified":"1f468-1f3fc-200d-1f9bc","native":"\u{1F468}\u{1F3FC}\u200D\u{1F9BC}"},{"unified":"1f468-1f3fd-200d-1f9bc","native":"\u{1F468}\u{1F3FD}\u200D\u{1F9BC}"},{"unified":"1f468-1f3fe-200d-1f9bc","native":"\u{1F468}\u{1F3FE}\u200D\u{1F9BC}"},{"unified":"1f468-1f3ff-200d-1f9bc","native":"\u{1F468}\u{1F3FF}\u200D\u{1F9BC}"}],"version":12},"woman_in_motorized_wheelchair":{"id":"woman_in_motorized_wheelchair","name":"Woman in Motorized Wheelchair","keywords":["disability","accessibility"],"skins":[{"unified":"1f469-200d-1f9bc","native":"\u{1F469}\u200D\u{1F9BC}"},{"unified":"1f469-1f3fb-200d-1f9bc","native":"\u{1F469}\u{1F3FB}\u200D\u{1F9BC}"},{"unified":"1f469-1f3fc-200d-1f9bc","native":"\u{1F469}\u{1F3FC}\u200D\u{1F9BC}"},{"unified":"1f469-1f3fd-200d-1f9bc","native":"\u{1F469}\u{1F3FD}\u200D\u{1F9BC}"},{"unified":"1f469-1f3fe-200d-1f9bc","native":"\u{1F469}\u{1F3FE}\u200D\u{1F9BC}"},{"unified":"1f469-1f3ff-200d-1f9bc","native":"\u{1F469}\u{1F3FF}\u200D\u{1F9BC}"}],"version":12},"person_in_manual_wheelchair":{"id":"person_in_manual_wheelchair","name":"Person in Manual Wheelchair","keywords":["disability","accessibility"],"skins":[{"unified":"1f9d1-200d-1f9bd","native":"\u{1F9D1}\u200D\u{1F9BD}"},{"unified":"1f9d1-1f3fb-200d-1f9bd","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F9BD}"},{"unified":"1f9d1-1f3fc-200d-1f9bd","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F9BD}"},{"unified":"1f9d1-1f3fd-200d-1f9bd","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F9BD}"},{"unified":"1f9d1-1f3fe-200d-1f9bd","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F9BD}"},{"unified":"1f9d1-1f3ff-200d-1f9bd","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F9BD}"}],"version":12.1},"man_in_manual_wheelchair":{"id":"man_in_manual_wheelchair","name":"Man in Manual Wheelchair","keywords":["disability","accessibility"],"skins":[{"unified":"1f468-200d-1f9bd","native":"\u{1F468}\u200D\u{1F9BD}"},{"unified":"1f468-1f3fb-200d-1f9bd","native":"\u{1F468}\u{1F3FB}\u200D\u{1F9BD}"},{"unified":"1f468-1f3fc-200d-1f9bd","native":"\u{1F468}\u{1F3FC}\u200D\u{1F9BD}"},{"unified":"1f468-1f3fd-200d-1f9bd","native":"\u{1F468}\u{1F3FD}\u200D\u{1F9BD}"},{"unified":"1f468-1f3fe-200d-1f9bd","native":"\u{1F468}\u{1F3FE}\u200D\u{1F9BD}"},{"unified":"1f468-1f3ff-200d-1f9bd","native":"\u{1F468}\u{1F3FF}\u200D\u{1F9BD}"}],"version":12},"woman_in_manual_wheelchair":{"id":"woman_in_manual_wheelchair","name":"Woman in Manual Wheelchair","keywords":["disability","accessibility"],"skins":[{"unified":"1f469-200d-1f9bd","native":"\u{1F469}\u200D\u{1F9BD}"},{"unified":"1f469-1f3fb-200d-1f9bd","native":"\u{1F469}\u{1F3FB}\u200D\u{1F9BD}"},{"unified":"1f469-1f3fc-200d-1f9bd","native":"\u{1F469}\u{1F3FC}\u200D\u{1F9BD}"},{"unified":"1f469-1f3fd-200d-1f9bd","native":"\u{1F469}\u{1F3FD}\u200D\u{1F9BD}"},{"unified":"1f469-1f3fe-200d-1f9bd","native":"\u{1F469}\u{1F3FE}\u200D\u{1F9BD}"},{"unified":"1f469-1f3ff-200d-1f9bd","native":"\u{1F469}\u{1F3FF}\u200D\u{1F9BD}"}],"version":12},"runner":{"id":"runner","name":"Runner","keywords":["running","person","move"],"skins":[{"unified":"1f3c3","native":"\u{1F3C3}"},{"unified":"1f3c3-1f3fb","native":"\u{1F3C3}\u{1F3FB}"},{"unified":"1f3c3-1f3fc","native":"\u{1F3C3}\u{1F3FC}"},{"unified":"1f3c3-1f3fd","native":"\u{1F3C3}\u{1F3FD}"},{"unified":"1f3c3-1f3fe","native":"\u{1F3C3}\u{1F3FE}"},{"unified":"1f3c3-1f3ff","native":"\u{1F3C3}\u{1F3FF}"}],"version":1},"man-running":{"id":"man-running","name":"Man Running","keywords":["walking","exercise","race"],"skins":[{"unified":"1f3c3-200d-2642-fe0f","native":"\u{1F3C3}\u200D\u2642\uFE0F"},{"unified":"1f3c3-1f3fb-200d-2642-fe0f","native":"\u{1F3C3}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f3c3-1f3fc-200d-2642-fe0f","native":"\u{1F3C3}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f3c3-1f3fd-200d-2642-fe0f","native":"\u{1F3C3}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f3c3-1f3fe-200d-2642-fe0f","native":"\u{1F3C3}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f3c3-1f3ff-200d-2642-fe0f","native":"\u{1F3C3}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-running":{"id":"woman-running","name":"Woman Running","keywords":["walking","exercise","race","female"],"skins":[{"unified":"1f3c3-200d-2640-fe0f","native":"\u{1F3C3}\u200D\u2640\uFE0F"},{"unified":"1f3c3-1f3fb-200d-2640-fe0f","native":"\u{1F3C3}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f3c3-1f3fc-200d-2640-fe0f","native":"\u{1F3C3}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f3c3-1f3fd-200d-2640-fe0f","native":"\u{1F3C3}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f3c3-1f3fe-200d-2640-fe0f","native":"\u{1F3C3}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f3c3-1f3ff-200d-2640-fe0f","native":"\u{1F3C3}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"dancer":{"id":"dancer","name":"Dancer","keywords":["woman","dancing","female","girl","fun"],"skins":[{"unified":"1f483","native":"\u{1F483}"},{"unified":"1f483-1f3fb","native":"\u{1F483}\u{1F3FB}"},{"unified":"1f483-1f3fc","native":"\u{1F483}\u{1F3FC}"},{"unified":"1f483-1f3fd","native":"\u{1F483}\u{1F3FD}"},{"unified":"1f483-1f3fe","native":"\u{1F483}\u{1F3FE}"},{"unified":"1f483-1f3ff","native":"\u{1F483}\u{1F3FF}"}],"version":1},"man_dancing":{"id":"man_dancing","name":"Man Dancing","keywords":["male","boy","fun","dancer"],"skins":[{"unified":"1f57a","native":"\u{1F57A}"},{"unified":"1f57a-1f3fb","native":"\u{1F57A}\u{1F3FB}"},{"unified":"1f57a-1f3fc","native":"\u{1F57A}\u{1F3FC}"},{"unified":"1f57a-1f3fd","native":"\u{1F57A}\u{1F3FD}"},{"unified":"1f57a-1f3fe","native":"\u{1F57A}\u{1F3FE}"},{"unified":"1f57a-1f3ff","native":"\u{1F57A}\u{1F3FF}"}],"version":3},"man_in_business_suit_levitating":{"id":"man_in_business_suit_levitating","name":"Person in Suit Levitating","keywords":["man","business","levitate","hover","jump"],"skins":[{"unified":"1f574-fe0f","native":"\u{1F574}\uFE0F"},{"unified":"1f574-1f3fb","native":"\u{1F574}\u{1F3FB}"},{"unified":"1f574-1f3fc","native":"\u{1F574}\u{1F3FC}"},{"unified":"1f574-1f3fd","native":"\u{1F574}\u{1F3FD}"},{"unified":"1f574-1f3fe","native":"\u{1F574}\u{1F3FE}"},{"unified":"1f574-1f3ff","native":"\u{1F574}\u{1F3FF}"}],"version":1},"dancers":{"id":"dancers","name":"Woman with Bunny Ears","keywords":["dancers","people","perform","costume"],"skins":[{"unified":"1f46f","native":"\u{1F46F}"}],"version":1},"men-with-bunny-ears-partying":{"id":"men-with-bunny-ears-partying","name":"Men with Bunny Ears","keywords":["with-bunny-ears-partying","man","male","boys"],"skins":[{"unified":"1f46f-200d-2642-fe0f","native":"\u{1F46F}\u200D\u2642\uFE0F"}],"version":4},"women-with-bunny-ears-partying":{"id":"women-with-bunny-ears-partying","name":"Women with Bunny Ears","keywords":["with-bunny-ears-partying","woman","female","girls"],"skins":[{"unified":"1f46f-200d-2640-fe0f","native":"\u{1F46F}\u200D\u2640\uFE0F"}],"version":4},"person_in_steamy_room":{"id":"person_in_steamy_room","name":"Person in Steamy Room","keywords":["relax","spa"],"skins":[{"unified":"1f9d6","native":"\u{1F9D6}"},{"unified":"1f9d6-1f3fb","native":"\u{1F9D6}\u{1F3FB}"},{"unified":"1f9d6-1f3fc","native":"\u{1F9D6}\u{1F3FC}"},{"unified":"1f9d6-1f3fd","native":"\u{1F9D6}\u{1F3FD}"},{"unified":"1f9d6-1f3fe","native":"\u{1F9D6}\u{1F3FE}"},{"unified":"1f9d6-1f3ff","native":"\u{1F9D6}\u{1F3FF}"}],"version":5},"man_in_steamy_room":{"id":"man_in_steamy_room","name":"Man in Steamy Room","keywords":["male","spa","steamroom","sauna"],"skins":[{"unified":"1f9d6-200d-2642-fe0f","native":"\u{1F9D6}\u200D\u2642\uFE0F"},{"unified":"1f9d6-1f3fb-200d-2642-fe0f","native":"\u{1F9D6}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f9d6-1f3fc-200d-2642-fe0f","native":"\u{1F9D6}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f9d6-1f3fd-200d-2642-fe0f","native":"\u{1F9D6}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f9d6-1f3fe-200d-2642-fe0f","native":"\u{1F9D6}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f9d6-1f3ff-200d-2642-fe0f","native":"\u{1F9D6}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":5},"woman_in_steamy_room":{"id":"woman_in_steamy_room","name":"Woman in Steamy Room","keywords":["female","spa","steamroom","sauna"],"skins":[{"unified":"1f9d6-200d-2640-fe0f","native":"\u{1F9D6}\u200D\u2640\uFE0F"},{"unified":"1f9d6-1f3fb-200d-2640-fe0f","native":"\u{1F9D6}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f9d6-1f3fc-200d-2640-fe0f","native":"\u{1F9D6}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f9d6-1f3fd-200d-2640-fe0f","native":"\u{1F9D6}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f9d6-1f3fe-200d-2640-fe0f","native":"\u{1F9D6}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f9d6-1f3ff-200d-2640-fe0f","native":"\u{1F9D6}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":5},"person_climbing":{"id":"person_climbing","name":"Person Climbing","keywords":["sport"],"skins":[{"unified":"1f9d7","native":"\u{1F9D7}"},{"unified":"1f9d7-1f3fb","native":"\u{1F9D7}\u{1F3FB}"},{"unified":"1f9d7-1f3fc","native":"\u{1F9D7}\u{1F3FC}"},{"unified":"1f9d7-1f3fd","native":"\u{1F9D7}\u{1F3FD}"},{"unified":"1f9d7-1f3fe","native":"\u{1F9D7}\u{1F3FE}"},{"unified":"1f9d7-1f3ff","native":"\u{1F9D7}\u{1F3FF}"}],"version":5},"man_climbing":{"id":"man_climbing","name":"Man Climbing","keywords":["sports","hobby","male","rock"],"skins":[{"unified":"1f9d7-200d-2642-fe0f","native":"\u{1F9D7}\u200D\u2642\uFE0F"},{"unified":"1f9d7-1f3fb-200d-2642-fe0f","native":"\u{1F9D7}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f9d7-1f3fc-200d-2642-fe0f","native":"\u{1F9D7}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f9d7-1f3fd-200d-2642-fe0f","native":"\u{1F9D7}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f9d7-1f3fe-200d-2642-fe0f","native":"\u{1F9D7}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f9d7-1f3ff-200d-2642-fe0f","native":"\u{1F9D7}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":5},"woman_climbing":{"id":"woman_climbing","name":"Woman Climbing","keywords":["sports","hobby","female","rock"],"skins":[{"unified":"1f9d7-200d-2640-fe0f","native":"\u{1F9D7}\u200D\u2640\uFE0F"},{"unified":"1f9d7-1f3fb-200d-2640-fe0f","native":"\u{1F9D7}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f9d7-1f3fc-200d-2640-fe0f","native":"\u{1F9D7}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f9d7-1f3fd-200d-2640-fe0f","native":"\u{1F9D7}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f9d7-1f3fe-200d-2640-fe0f","native":"\u{1F9D7}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f9d7-1f3ff-200d-2640-fe0f","native":"\u{1F9D7}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":5},"fencer":{"id":"fencer","name":"Fencer","keywords":["person","fencing","sports","sword"],"skins":[{"unified":"1f93a","native":"\u{1F93A}"}],"version":3},"horse_racing":{"id":"horse_racing","name":"Horse Racing","keywords":["animal","betting","competition","gambling","luck"],"skins":[{"unified":"1f3c7","native":"\u{1F3C7}"},{"unified":"1f3c7-1f3fb","native":"\u{1F3C7}\u{1F3FB}"},{"unified":"1f3c7-1f3fc","native":"\u{1F3C7}\u{1F3FC}"},{"unified":"1f3c7-1f3fd","native":"\u{1F3C7}\u{1F3FD}"},{"unified":"1f3c7-1f3fe","native":"\u{1F3C7}\u{1F3FE}"},{"unified":"1f3c7-1f3ff","native":"\u{1F3C7}\u{1F3FF}"}],"version":1},"skier":{"id":"skier","name":"Skier","keywords":["sports","winter","snow"],"skins":[{"unified":"26f7-fe0f","native":"\u26F7\uFE0F"}],"version":1},"snowboarder":{"id":"snowboarder","name":"Snowboarder","keywords":["sports","winter"],"skins":[{"unified":"1f3c2","native":"\u{1F3C2}"},{"unified":"1f3c2-1f3fb","native":"\u{1F3C2}\u{1F3FB}"},{"unified":"1f3c2-1f3fc","native":"\u{1F3C2}\u{1F3FC}"},{"unified":"1f3c2-1f3fd","native":"\u{1F3C2}\u{1F3FD}"},{"unified":"1f3c2-1f3fe","native":"\u{1F3C2}\u{1F3FE}"},{"unified":"1f3c2-1f3ff","native":"\u{1F3C2}\u{1F3FF}"}],"version":1},"golfer":{"id":"golfer","name":"Person Golfing","keywords":["golfer","sports","business"],"skins":[{"unified":"1f3cc-fe0f","native":"\u{1F3CC}\uFE0F"},{"unified":"1f3cc-1f3fb","native":"\u{1F3CC}\u{1F3FB}"},{"unified":"1f3cc-1f3fc","native":"\u{1F3CC}\u{1F3FC}"},{"unified":"1f3cc-1f3fd","native":"\u{1F3CC}\u{1F3FD}"},{"unified":"1f3cc-1f3fe","native":"\u{1F3CC}\u{1F3FE}"},{"unified":"1f3cc-1f3ff","native":"\u{1F3CC}\u{1F3FF}"}],"version":1},"man-golfing":{"id":"man-golfing","name":"Man Golfing","keywords":["sport"],"skins":[{"unified":"1f3cc-fe0f-200d-2642-fe0f","native":"\u{1F3CC}\uFE0F\u200D\u2642\uFE0F"},{"unified":"1f3cc-1f3fb-200d-2642-fe0f","native":"\u{1F3CC}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f3cc-1f3fc-200d-2642-fe0f","native":"\u{1F3CC}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f3cc-1f3fd-200d-2642-fe0f","native":"\u{1F3CC}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f3cc-1f3fe-200d-2642-fe0f","native":"\u{1F3CC}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f3cc-1f3ff-200d-2642-fe0f","native":"\u{1F3CC}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-golfing":{"id":"woman-golfing","name":"Woman Golfing","keywords":["sports","business","female"],"skins":[{"unified":"1f3cc-fe0f-200d-2640-fe0f","native":"\u{1F3CC}\uFE0F\u200D\u2640\uFE0F"},{"unified":"1f3cc-1f3fb-200d-2640-fe0f","native":"\u{1F3CC}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f3cc-1f3fc-200d-2640-fe0f","native":"\u{1F3CC}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f3cc-1f3fd-200d-2640-fe0f","native":"\u{1F3CC}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f3cc-1f3fe-200d-2640-fe0f","native":"\u{1F3CC}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f3cc-1f3ff-200d-2640-fe0f","native":"\u{1F3CC}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"surfer":{"id":"surfer","name":"Surfer","keywords":["person","surfing","sport","sea"],"skins":[{"unified":"1f3c4","native":"\u{1F3C4}"},{"unified":"1f3c4-1f3fb","native":"\u{1F3C4}\u{1F3FB}"},{"unified":"1f3c4-1f3fc","native":"\u{1F3C4}\u{1F3FC}"},{"unified":"1f3c4-1f3fd","native":"\u{1F3C4}\u{1F3FD}"},{"unified":"1f3c4-1f3fe","native":"\u{1F3C4}\u{1F3FE}"},{"unified":"1f3c4-1f3ff","native":"\u{1F3C4}\u{1F3FF}"}],"version":1},"man-surfing":{"id":"man-surfing","name":"Man Surfing","keywords":["sports","ocean","sea","summer","beach"],"skins":[{"unified":"1f3c4-200d-2642-fe0f","native":"\u{1F3C4}\u200D\u2642\uFE0F"},{"unified":"1f3c4-1f3fb-200d-2642-fe0f","native":"\u{1F3C4}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f3c4-1f3fc-200d-2642-fe0f","native":"\u{1F3C4}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f3c4-1f3fd-200d-2642-fe0f","native":"\u{1F3C4}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f3c4-1f3fe-200d-2642-fe0f","native":"\u{1F3C4}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f3c4-1f3ff-200d-2642-fe0f","native":"\u{1F3C4}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-surfing":{"id":"woman-surfing","name":"Woman Surfing","keywords":["sports","ocean","sea","summer","beach","female"],"skins":[{"unified":"1f3c4-200d-2640-fe0f","native":"\u{1F3C4}\u200D\u2640\uFE0F"},{"unified":"1f3c4-1f3fb-200d-2640-fe0f","native":"\u{1F3C4}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f3c4-1f3fc-200d-2640-fe0f","native":"\u{1F3C4}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f3c4-1f3fd-200d-2640-fe0f","native":"\u{1F3C4}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f3c4-1f3fe-200d-2640-fe0f","native":"\u{1F3C4}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f3c4-1f3ff-200d-2640-fe0f","native":"\u{1F3C4}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"rowboat":{"id":"rowboat","name":"Rowboat","keywords":["person","rowing","boat","sport","move"],"skins":[{"unified":"1f6a3","native":"\u{1F6A3}"},{"unified":"1f6a3-1f3fb","native":"\u{1F6A3}\u{1F3FB}"},{"unified":"1f6a3-1f3fc","native":"\u{1F6A3}\u{1F3FC}"},{"unified":"1f6a3-1f3fd","native":"\u{1F6A3}\u{1F3FD}"},{"unified":"1f6a3-1f3fe","native":"\u{1F6A3}\u{1F3FE}"},{"unified":"1f6a3-1f3ff","native":"\u{1F6A3}\u{1F3FF}"}],"version":1},"man-rowing-boat":{"id":"man-rowing-boat","name":"Man Rowing Boat","keywords":["rowing-boat","sports","hobby","water","ship"],"skins":[{"unified":"1f6a3-200d-2642-fe0f","native":"\u{1F6A3}\u200D\u2642\uFE0F"},{"unified":"1f6a3-1f3fb-200d-2642-fe0f","native":"\u{1F6A3}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f6a3-1f3fc-200d-2642-fe0f","native":"\u{1F6A3}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f6a3-1f3fd-200d-2642-fe0f","native":"\u{1F6A3}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f6a3-1f3fe-200d-2642-fe0f","native":"\u{1F6A3}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f6a3-1f3ff-200d-2642-fe0f","native":"\u{1F6A3}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-rowing-boat":{"id":"woman-rowing-boat","name":"Woman Rowing Boat","keywords":["rowing-boat","sports","hobby","water","ship","female"],"skins":[{"unified":"1f6a3-200d-2640-fe0f","native":"\u{1F6A3}\u200D\u2640\uFE0F"},{"unified":"1f6a3-1f3fb-200d-2640-fe0f","native":"\u{1F6A3}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f6a3-1f3fc-200d-2640-fe0f","native":"\u{1F6A3}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f6a3-1f3fd-200d-2640-fe0f","native":"\u{1F6A3}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f6a3-1f3fe-200d-2640-fe0f","native":"\u{1F6A3}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f6a3-1f3ff-200d-2640-fe0f","native":"\u{1F6A3}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"swimmer":{"id":"swimmer","name":"Swimmer","keywords":["person","swimming","sport","pool"],"skins":[{"unified":"1f3ca","native":"\u{1F3CA}"},{"unified":"1f3ca-1f3fb","native":"\u{1F3CA}\u{1F3FB}"},{"unified":"1f3ca-1f3fc","native":"\u{1F3CA}\u{1F3FC}"},{"unified":"1f3ca-1f3fd","native":"\u{1F3CA}\u{1F3FD}"},{"unified":"1f3ca-1f3fe","native":"\u{1F3CA}\u{1F3FE}"},{"unified":"1f3ca-1f3ff","native":"\u{1F3CA}\u{1F3FF}"}],"version":1},"man-swimming":{"id":"man-swimming","name":"Man Swimming","keywords":["sports","exercise","human","athlete","water","summer"],"skins":[{"unified":"1f3ca-200d-2642-fe0f","native":"\u{1F3CA}\u200D\u2642\uFE0F"},{"unified":"1f3ca-1f3fb-200d-2642-fe0f","native":"\u{1F3CA}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f3ca-1f3fc-200d-2642-fe0f","native":"\u{1F3CA}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f3ca-1f3fd-200d-2642-fe0f","native":"\u{1F3CA}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f3ca-1f3fe-200d-2642-fe0f","native":"\u{1F3CA}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f3ca-1f3ff-200d-2642-fe0f","native":"\u{1F3CA}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-swimming":{"id":"woman-swimming","name":"Woman Swimming","keywords":["sports","exercise","human","athlete","water","summer","female"],"skins":[{"unified":"1f3ca-200d-2640-fe0f","native":"\u{1F3CA}\u200D\u2640\uFE0F"},{"unified":"1f3ca-1f3fb-200d-2640-fe0f","native":"\u{1F3CA}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f3ca-1f3fc-200d-2640-fe0f","native":"\u{1F3CA}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f3ca-1f3fd-200d-2640-fe0f","native":"\u{1F3CA}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f3ca-1f3fe-200d-2640-fe0f","native":"\u{1F3CA}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f3ca-1f3ff-200d-2640-fe0f","native":"\u{1F3CA}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"person_with_ball":{"id":"person_with_ball","name":"Person Bouncing Ball","keywords":["with","sports","human"],"skins":[{"unified":"26f9-fe0f","native":"\u26F9\uFE0F"},{"unified":"26f9-1f3fb","native":"\u26F9\u{1F3FB}"},{"unified":"26f9-1f3fc","native":"\u26F9\u{1F3FC}"},{"unified":"26f9-1f3fd","native":"\u26F9\u{1F3FD}"},{"unified":"26f9-1f3fe","native":"\u26F9\u{1F3FE}"},{"unified":"26f9-1f3ff","native":"\u26F9\u{1F3FF}"}],"version":1},"man-bouncing-ball":{"id":"man-bouncing-ball","name":"Man Bouncing Ball","keywords":["bouncing-ball","sport"],"skins":[{"unified":"26f9-fe0f-200d-2642-fe0f","native":"\u26F9\uFE0F\u200D\u2642\uFE0F"},{"unified":"26f9-1f3fb-200d-2642-fe0f","native":"\u26F9\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"26f9-1f3fc-200d-2642-fe0f","native":"\u26F9\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"26f9-1f3fd-200d-2642-fe0f","native":"\u26F9\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"26f9-1f3fe-200d-2642-fe0f","native":"\u26F9\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"26f9-1f3ff-200d-2642-fe0f","native":"\u26F9\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-bouncing-ball":{"id":"woman-bouncing-ball","name":"Woman Bouncing Ball","keywords":["bouncing-ball","sports","human","female"],"skins":[{"unified":"26f9-fe0f-200d-2640-fe0f","native":"\u26F9\uFE0F\u200D\u2640\uFE0F"},{"unified":"26f9-1f3fb-200d-2640-fe0f","native":"\u26F9\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"26f9-1f3fc-200d-2640-fe0f","native":"\u26F9\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"26f9-1f3fd-200d-2640-fe0f","native":"\u26F9\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"26f9-1f3fe-200d-2640-fe0f","native":"\u26F9\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"26f9-1f3ff-200d-2640-fe0f","native":"\u26F9\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"weight_lifter":{"id":"weight_lifter","name":"Person Lifting Weights","keywords":["weight","lifter","sports","training","exercise"],"skins":[{"unified":"1f3cb-fe0f","native":"\u{1F3CB}\uFE0F"},{"unified":"1f3cb-1f3fb","native":"\u{1F3CB}\u{1F3FB}"},{"unified":"1f3cb-1f3fc","native":"\u{1F3CB}\u{1F3FC}"},{"unified":"1f3cb-1f3fd","native":"\u{1F3CB}\u{1F3FD}"},{"unified":"1f3cb-1f3fe","native":"\u{1F3CB}\u{1F3FE}"},{"unified":"1f3cb-1f3ff","native":"\u{1F3CB}\u{1F3FF}"}],"version":1},"man-lifting-weights":{"id":"man-lifting-weights","name":"Man Lifting Weights","keywords":["lifting-weights","sport"],"skins":[{"unified":"1f3cb-fe0f-200d-2642-fe0f","native":"\u{1F3CB}\uFE0F\u200D\u2642\uFE0F"},{"unified":"1f3cb-1f3fb-200d-2642-fe0f","native":"\u{1F3CB}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f3cb-1f3fc-200d-2642-fe0f","native":"\u{1F3CB}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f3cb-1f3fd-200d-2642-fe0f","native":"\u{1F3CB}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f3cb-1f3fe-200d-2642-fe0f","native":"\u{1F3CB}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f3cb-1f3ff-200d-2642-fe0f","native":"\u{1F3CB}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-lifting-weights":{"id":"woman-lifting-weights","name":"Woman Lifting Weights","keywords":["lifting-weights","sports","training","exercise","female"],"skins":[{"unified":"1f3cb-fe0f-200d-2640-fe0f","native":"\u{1F3CB}\uFE0F\u200D\u2640\uFE0F"},{"unified":"1f3cb-1f3fb-200d-2640-fe0f","native":"\u{1F3CB}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f3cb-1f3fc-200d-2640-fe0f","native":"\u{1F3CB}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f3cb-1f3fd-200d-2640-fe0f","native":"\u{1F3CB}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f3cb-1f3fe-200d-2640-fe0f","native":"\u{1F3CB}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f3cb-1f3ff-200d-2640-fe0f","native":"\u{1F3CB}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"bicyclist":{"id":"bicyclist","name":"Bicyclist","keywords":["person","biking","sport","move"],"skins":[{"unified":"1f6b4","native":"\u{1F6B4}"},{"unified":"1f6b4-1f3fb","native":"\u{1F6B4}\u{1F3FB}"},{"unified":"1f6b4-1f3fc","native":"\u{1F6B4}\u{1F3FC}"},{"unified":"1f6b4-1f3fd","native":"\u{1F6B4}\u{1F3FD}"},{"unified":"1f6b4-1f3fe","native":"\u{1F6B4}\u{1F3FE}"},{"unified":"1f6b4-1f3ff","native":"\u{1F6B4}\u{1F3FF}"}],"version":1},"man-biking":{"id":"man-biking","name":"Man Biking","keywords":["sports","bike","exercise","hipster"],"skins":[{"unified":"1f6b4-200d-2642-fe0f","native":"\u{1F6B4}\u200D\u2642\uFE0F"},{"unified":"1f6b4-1f3fb-200d-2642-fe0f","native":"\u{1F6B4}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f6b4-1f3fc-200d-2642-fe0f","native":"\u{1F6B4}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f6b4-1f3fd-200d-2642-fe0f","native":"\u{1F6B4}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f6b4-1f3fe-200d-2642-fe0f","native":"\u{1F6B4}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f6b4-1f3ff-200d-2642-fe0f","native":"\u{1F6B4}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-biking":{"id":"woman-biking","name":"Woman Biking","keywords":["sports","bike","exercise","hipster","female"],"skins":[{"unified":"1f6b4-200d-2640-fe0f","native":"\u{1F6B4}\u200D\u2640\uFE0F"},{"unified":"1f6b4-1f3fb-200d-2640-fe0f","native":"\u{1F6B4}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f6b4-1f3fc-200d-2640-fe0f","native":"\u{1F6B4}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f6b4-1f3fd-200d-2640-fe0f","native":"\u{1F6B4}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f6b4-1f3fe-200d-2640-fe0f","native":"\u{1F6B4}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f6b4-1f3ff-200d-2640-fe0f","native":"\u{1F6B4}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"mountain_bicyclist":{"id":"mountain_bicyclist","name":"Mountain Bicyclist","keywords":["person","biking","sport","move"],"skins":[{"unified":"1f6b5","native":"\u{1F6B5}"},{"unified":"1f6b5-1f3fb","native":"\u{1F6B5}\u{1F3FB}"},{"unified":"1f6b5-1f3fc","native":"\u{1F6B5}\u{1F3FC}"},{"unified":"1f6b5-1f3fd","native":"\u{1F6B5}\u{1F3FD}"},{"unified":"1f6b5-1f3fe","native":"\u{1F6B5}\u{1F3FE}"},{"unified":"1f6b5-1f3ff","native":"\u{1F6B5}\u{1F3FF}"}],"version":1},"man-mountain-biking":{"id":"man-mountain-biking","name":"Man Mountain Biking","keywords":["mountain-biking","transportation","sports","human","race","bike"],"skins":[{"unified":"1f6b5-200d-2642-fe0f","native":"\u{1F6B5}\u200D\u2642\uFE0F"},{"unified":"1f6b5-1f3fb-200d-2642-fe0f","native":"\u{1F6B5}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f6b5-1f3fc-200d-2642-fe0f","native":"\u{1F6B5}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f6b5-1f3fd-200d-2642-fe0f","native":"\u{1F6B5}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f6b5-1f3fe-200d-2642-fe0f","native":"\u{1F6B5}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f6b5-1f3ff-200d-2642-fe0f","native":"\u{1F6B5}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-mountain-biking":{"id":"woman-mountain-biking","name":"Woman Mountain Biking","keywords":["mountain-biking","transportation","sports","human","race","bike","female"],"skins":[{"unified":"1f6b5-200d-2640-fe0f","native":"\u{1F6B5}\u200D\u2640\uFE0F"},{"unified":"1f6b5-1f3fb-200d-2640-fe0f","native":"\u{1F6B5}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f6b5-1f3fc-200d-2640-fe0f","native":"\u{1F6B5}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f6b5-1f3fd-200d-2640-fe0f","native":"\u{1F6B5}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f6b5-1f3fe-200d-2640-fe0f","native":"\u{1F6B5}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f6b5-1f3ff-200d-2640-fe0f","native":"\u{1F6B5}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"person_doing_cartwheel":{"id":"person_doing_cartwheel","name":"Person Cartwheeling","keywords":["doing","cartwheel","sport","gymnastic"],"skins":[{"unified":"1f938","native":"\u{1F938}"},{"unified":"1f938-1f3fb","native":"\u{1F938}\u{1F3FB}"},{"unified":"1f938-1f3fc","native":"\u{1F938}\u{1F3FC}"},{"unified":"1f938-1f3fd","native":"\u{1F938}\u{1F3FD}"},{"unified":"1f938-1f3fe","native":"\u{1F938}\u{1F3FE}"},{"unified":"1f938-1f3ff","native":"\u{1F938}\u{1F3FF}"}],"version":3},"man-cartwheeling":{"id":"man-cartwheeling","name":"Man Cartwheeling","keywords":["gymnastics"],"skins":[{"unified":"1f938-200d-2642-fe0f","native":"\u{1F938}\u200D\u2642\uFE0F"},{"unified":"1f938-1f3fb-200d-2642-fe0f","native":"\u{1F938}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f938-1f3fc-200d-2642-fe0f","native":"\u{1F938}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f938-1f3fd-200d-2642-fe0f","native":"\u{1F938}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f938-1f3fe-200d-2642-fe0f","native":"\u{1F938}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f938-1f3ff-200d-2642-fe0f","native":"\u{1F938}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-cartwheeling":{"id":"woman-cartwheeling","name":"Woman Cartwheeling","keywords":["gymnastics"],"skins":[{"unified":"1f938-200d-2640-fe0f","native":"\u{1F938}\u200D\u2640\uFE0F"},{"unified":"1f938-1f3fb-200d-2640-fe0f","native":"\u{1F938}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f938-1f3fc-200d-2640-fe0f","native":"\u{1F938}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f938-1f3fd-200d-2640-fe0f","native":"\u{1F938}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f938-1f3fe-200d-2640-fe0f","native":"\u{1F938}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f938-1f3ff-200d-2640-fe0f","native":"\u{1F938}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"wrestlers":{"id":"wrestlers","name":"Wrestlers","keywords":["people","wrestling","sport"],"skins":[{"unified":"1f93c","native":"\u{1F93C}"}],"version":3},"man-wrestling":{"id":"man-wrestling","name":"Men Wrestling","keywords":["man","sports","wrestlers"],"skins":[{"unified":"1f93c-200d-2642-fe0f","native":"\u{1F93C}\u200D\u2642\uFE0F"}],"version":4},"woman-wrestling":{"id":"woman-wrestling","name":"Women Wrestling","keywords":["woman","sports","wrestlers"],"skins":[{"unified":"1f93c-200d-2640-fe0f","native":"\u{1F93C}\u200D\u2640\uFE0F"}],"version":4},"water_polo":{"id":"water_polo","name":"Water Polo","keywords":["person","playing","sport"],"skins":[{"unified":"1f93d","native":"\u{1F93D}"},{"unified":"1f93d-1f3fb","native":"\u{1F93D}\u{1F3FB}"},{"unified":"1f93d-1f3fc","native":"\u{1F93D}\u{1F3FC}"},{"unified":"1f93d-1f3fd","native":"\u{1F93D}\u{1F3FD}"},{"unified":"1f93d-1f3fe","native":"\u{1F93D}\u{1F3FE}"},{"unified":"1f93d-1f3ff","native":"\u{1F93D}\u{1F3FF}"}],"version":3},"man-playing-water-polo":{"id":"man-playing-water-polo","name":"Man Playing Water Polo","keywords":["playing-water-polo","sports","pool"],"skins":[{"unified":"1f93d-200d-2642-fe0f","native":"\u{1F93D}\u200D\u2642\uFE0F"},{"unified":"1f93d-1f3fb-200d-2642-fe0f","native":"\u{1F93D}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f93d-1f3fc-200d-2642-fe0f","native":"\u{1F93D}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f93d-1f3fd-200d-2642-fe0f","native":"\u{1F93D}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f93d-1f3fe-200d-2642-fe0f","native":"\u{1F93D}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f93d-1f3ff-200d-2642-fe0f","native":"\u{1F93D}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-playing-water-polo":{"id":"woman-playing-water-polo","name":"Woman Playing Water Polo","keywords":["playing-water-polo","sports","pool"],"skins":[{"unified":"1f93d-200d-2640-fe0f","native":"\u{1F93D}\u200D\u2640\uFE0F"},{"unified":"1f93d-1f3fb-200d-2640-fe0f","native":"\u{1F93D}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f93d-1f3fc-200d-2640-fe0f","native":"\u{1F93D}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f93d-1f3fd-200d-2640-fe0f","native":"\u{1F93D}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f93d-1f3fe-200d-2640-fe0f","native":"\u{1F93D}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f93d-1f3ff-200d-2640-fe0f","native":"\u{1F93D}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"handball":{"id":"handball","name":"Handball","keywords":["person","playing","sport"],"skins":[{"unified":"1f93e","native":"\u{1F93E}"},{"unified":"1f93e-1f3fb","native":"\u{1F93E}\u{1F3FB}"},{"unified":"1f93e-1f3fc","native":"\u{1F93E}\u{1F3FC}"},{"unified":"1f93e-1f3fd","native":"\u{1F93E}\u{1F3FD}"},{"unified":"1f93e-1f3fe","native":"\u{1F93E}\u{1F3FE}"},{"unified":"1f93e-1f3ff","native":"\u{1F93E}\u{1F3FF}"}],"version":3},"man-playing-handball":{"id":"man-playing-handball","name":"Man Playing Handball","keywords":["playing-handball","sports"],"skins":[{"unified":"1f93e-200d-2642-fe0f","native":"\u{1F93E}\u200D\u2642\uFE0F"},{"unified":"1f93e-1f3fb-200d-2642-fe0f","native":"\u{1F93E}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f93e-1f3fc-200d-2642-fe0f","native":"\u{1F93E}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f93e-1f3fd-200d-2642-fe0f","native":"\u{1F93E}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f93e-1f3fe-200d-2642-fe0f","native":"\u{1F93E}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f93e-1f3ff-200d-2642-fe0f","native":"\u{1F93E}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-playing-handball":{"id":"woman-playing-handball","name":"Woman Playing Handball","keywords":["playing-handball","sports"],"skins":[{"unified":"1f93e-200d-2640-fe0f","native":"\u{1F93E}\u200D\u2640\uFE0F"},{"unified":"1f93e-1f3fb-200d-2640-fe0f","native":"\u{1F93E}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f93e-1f3fc-200d-2640-fe0f","native":"\u{1F93E}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f93e-1f3fd-200d-2640-fe0f","native":"\u{1F93E}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f93e-1f3fe-200d-2640-fe0f","native":"\u{1F93E}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f93e-1f3ff-200d-2640-fe0f","native":"\u{1F93E}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"juggling":{"id":"juggling","name":"Juggling","keywords":["person","performance","balance"],"skins":[{"unified":"1f939","native":"\u{1F939}"},{"unified":"1f939-1f3fb","native":"\u{1F939}\u{1F3FB}"},{"unified":"1f939-1f3fc","native":"\u{1F939}\u{1F3FC}"},{"unified":"1f939-1f3fd","native":"\u{1F939}\u{1F3FD}"},{"unified":"1f939-1f3fe","native":"\u{1F939}\u{1F3FE}"},{"unified":"1f939-1f3ff","native":"\u{1F939}\u{1F3FF}"}],"version":3},"man-juggling":{"id":"man-juggling","name":"Man Juggling","keywords":["juggle","balance","skill","multitask"],"skins":[{"unified":"1f939-200d-2642-fe0f","native":"\u{1F939}\u200D\u2642\uFE0F"},{"unified":"1f939-1f3fb-200d-2642-fe0f","native":"\u{1F939}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f939-1f3fc-200d-2642-fe0f","native":"\u{1F939}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f939-1f3fd-200d-2642-fe0f","native":"\u{1F939}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f939-1f3fe-200d-2642-fe0f","native":"\u{1F939}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f939-1f3ff-200d-2642-fe0f","native":"\u{1F939}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":4},"woman-juggling":{"id":"woman-juggling","name":"Woman Juggling","keywords":["juggle","balance","skill","multitask"],"skins":[{"unified":"1f939-200d-2640-fe0f","native":"\u{1F939}\u200D\u2640\uFE0F"},{"unified":"1f939-1f3fb-200d-2640-fe0f","native":"\u{1F939}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f939-1f3fc-200d-2640-fe0f","native":"\u{1F939}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f939-1f3fd-200d-2640-fe0f","native":"\u{1F939}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f939-1f3fe-200d-2640-fe0f","native":"\u{1F939}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f939-1f3ff-200d-2640-fe0f","native":"\u{1F939}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":4},"person_in_lotus_position":{"id":"person_in_lotus_position","name":"Person in Lotus Position","keywords":["meditate"],"skins":[{"unified":"1f9d8","native":"\u{1F9D8}"},{"unified":"1f9d8-1f3fb","native":"\u{1F9D8}\u{1F3FB}"},{"unified":"1f9d8-1f3fc","native":"\u{1F9D8}\u{1F3FC}"},{"unified":"1f9d8-1f3fd","native":"\u{1F9D8}\u{1F3FD}"},{"unified":"1f9d8-1f3fe","native":"\u{1F9D8}\u{1F3FE}"},{"unified":"1f9d8-1f3ff","native":"\u{1F9D8}\u{1F3FF}"}],"version":5},"man_in_lotus_position":{"id":"man_in_lotus_position","name":"Man in Lotus Position","keywords":["male","meditation","yoga","serenity","zen","mindfulness"],"skins":[{"unified":"1f9d8-200d-2642-fe0f","native":"\u{1F9D8}\u200D\u2642\uFE0F"},{"unified":"1f9d8-1f3fb-200d-2642-fe0f","native":"\u{1F9D8}\u{1F3FB}\u200D\u2642\uFE0F"},{"unified":"1f9d8-1f3fc-200d-2642-fe0f","native":"\u{1F9D8}\u{1F3FC}\u200D\u2642\uFE0F"},{"unified":"1f9d8-1f3fd-200d-2642-fe0f","native":"\u{1F9D8}\u{1F3FD}\u200D\u2642\uFE0F"},{"unified":"1f9d8-1f3fe-200d-2642-fe0f","native":"\u{1F9D8}\u{1F3FE}\u200D\u2642\uFE0F"},{"unified":"1f9d8-1f3ff-200d-2642-fe0f","native":"\u{1F9D8}\u{1F3FF}\u200D\u2642\uFE0F"}],"version":5},"woman_in_lotus_position":{"id":"woman_in_lotus_position","name":"Woman in Lotus Position","keywords":["female","meditation","yoga","serenity","zen","mindfulness"],"skins":[{"unified":"1f9d8-200d-2640-fe0f","native":"\u{1F9D8}\u200D\u2640\uFE0F"},{"unified":"1f9d8-1f3fb-200d-2640-fe0f","native":"\u{1F9D8}\u{1F3FB}\u200D\u2640\uFE0F"},{"unified":"1f9d8-1f3fc-200d-2640-fe0f","native":"\u{1F9D8}\u{1F3FC}\u200D\u2640\uFE0F"},{"unified":"1f9d8-1f3fd-200d-2640-fe0f","native":"\u{1F9D8}\u{1F3FD}\u200D\u2640\uFE0F"},{"unified":"1f9d8-1f3fe-200d-2640-fe0f","native":"\u{1F9D8}\u{1F3FE}\u200D\u2640\uFE0F"},{"unified":"1f9d8-1f3ff-200d-2640-fe0f","native":"\u{1F9D8}\u{1F3FF}\u200D\u2640\uFE0F"}],"version":5},"bath":{"id":"bath","name":"Bath","keywords":["person","taking","clean","shower","bathroom"],"skins":[{"unified":"1f6c0","native":"\u{1F6C0}"},{"unified":"1f6c0-1f3fb","native":"\u{1F6C0}\u{1F3FB}"},{"unified":"1f6c0-1f3fc","native":"\u{1F6C0}\u{1F3FC}"},{"unified":"1f6c0-1f3fd","native":"\u{1F6C0}\u{1F3FD}"},{"unified":"1f6c0-1f3fe","native":"\u{1F6C0}\u{1F3FE}"},{"unified":"1f6c0-1f3ff","native":"\u{1F6C0}\u{1F3FF}"}],"version":1},"sleeping_accommodation":{"id":"sleeping_accommodation","name":"Person in Bed","keywords":["sleeping","accommodation","rest"],"skins":[{"unified":"1f6cc","native":"\u{1F6CC}"},{"unified":"1f6cc-1f3fb","native":"\u{1F6CC}\u{1F3FB}"},{"unified":"1f6cc-1f3fc","native":"\u{1F6CC}\u{1F3FC}"},{"unified":"1f6cc-1f3fd","native":"\u{1F6CC}\u{1F3FD}"},{"unified":"1f6cc-1f3fe","native":"\u{1F6CC}\u{1F3FE}"},{"unified":"1f6cc-1f3ff","native":"\u{1F6CC}\u{1F3FF}"}],"version":1},"people_holding_hands":{"id":"people_holding_hands","name":"People Holding Hands","keywords":["friendship"],"skins":[{"unified":"1f9d1-200d-1f91d-200d-1f9d1","native":"\u{1F9D1}\u200D\u{1F91D}\u200D\u{1F9D1}"},{"unified":"1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fb","native":"\u{1F9D1}\u{1F3FB}\u200D\u{1F91D}\u200D\u{1F9D1}\u{1F3FB}"},{"unified":"1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fc","native":"\u{1F9D1}\u{1F3FC}\u200D\u{1F91D}\u200D\u{1F9D1}\u{1F3FC}"},{"unified":"1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fd","native":"\u{1F9D1}\u{1F3FD}\u200D\u{1F91D}\u200D\u{1F9D1}\u{1F3FD}"},{"unified":"1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fe","native":"\u{1F9D1}\u{1F3FE}\u200D\u{1F91D}\u200D\u{1F9D1}\u{1F3FE}"},{"unified":"1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3ff","native":"\u{1F9D1}\u{1F3FF}\u200D\u{1F91D}\u200D\u{1F9D1}\u{1F3FF}"}],"version":12},"two_women_holding_hands":{"id":"two_women_holding_hands","name":"Women Holding Hands","keywords":["two","pair","friendship","couple","love","like","female","people","human"],"skins":[{"unified":"1f46d","native":"\u{1F46D}"},{"unified":"1f46d-1f3fb","native":"\u{1F46D}\u{1F3FB}"},{"unified":"1f46d-1f3fc","native":"\u{1F46D}\u{1F3FC}"},{"unified":"1f46d-1f3fd","native":"\u{1F46D}\u{1F3FD}"},{"unified":"1f46d-1f3fe","native":"\u{1F46D}\u{1F3FE}"},{"unified":"1f46d-1f3ff","native":"\u{1F46D}\u{1F3FF}"}],"version":1},"man_and_woman_holding_hands":{"id":"man_and_woman_holding_hands","name":"Man and Woman Holding Hands","keywords":["couple","pair","people","human","love","date","dating","like","affection","valentines","marriage"],"skins":[{"unified":"1f46b","native":"\u{1F46B}"},{"unified":"1f46b-1f3fb","native":"\u{1F46B}\u{1F3FB}"},{"unified":"1f46b-1f3fc","native":"\u{1F46B}\u{1F3FC}"},{"unified":"1f46b-1f3fd","native":"\u{1F46B}\u{1F3FD}"},{"unified":"1f46b-1f3fe","native":"\u{1F46B}\u{1F3FE}"},{"unified":"1f46b-1f3ff","native":"\u{1F46B}\u{1F3FF}"}],"version":1},"two_men_holding_hands":{"id":"two_men_holding_hands","name":"Men Holding Hands","keywords":["two","pair","couple","love","like","bromance","friendship","people","human"],"skins":[{"unified":"1f46c","native":"\u{1F46C}"},{"unified":"1f46c-1f3fb","native":"\u{1F46C}\u{1F3FB}"},{"unified":"1f46c-1f3fc","native":"\u{1F46C}\u{1F3FC}"},{"unified":"1f46c-1f3fd","native":"\u{1F46C}\u{1F3FD}"},{"unified":"1f46c-1f3fe","native":"\u{1F46C}\u{1F3FE}"},{"unified":"1f46c-1f3ff","native":"\u{1F46C}\u{1F3FF}"}],"version":1},"couplekiss":{"id":"couplekiss","name":"Kiss","keywords":["couplekiss","pair","valentines","love","like","dating","marriage"],"skins":[{"unified":"1f48f","native":"\u{1F48F}"},{"unified":"1f48f-1f3fb","native":"\u{1F48F}\u{1F3FB}"},{"unified":"1f48f-1f3fc","native":"\u{1F48F}\u{1F3FC}"},{"unified":"1f48f-1f3fd","native":"\u{1F48F}\u{1F3FD}"},{"unified":"1f48f-1f3fe","native":"\u{1F48F}\u{1F3FE}"},{"unified":"1f48f-1f3ff","native":"\u{1F48F}\u{1F3FF}"}],"version":1},"woman-kiss-man":{"id":"woman-kiss-man","name":"Kiss: Woman, Man","keywords":["woman","kiss-man","kiss","love"],"skins":[{"unified":"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468","native":"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}"},{"unified":"1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","native":"\u{1F469}\u{1F3FB}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FB}"},{"unified":"1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","native":"\u{1F469}\u{1F3FC}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FC}"},{"unified":"1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","native":"\u{1F469}\u{1F3FD}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FD}"},{"unified":"1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","native":"\u{1F469}\u{1F3FE}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FE}"},{"unified":"1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","native":"\u{1F469}\u{1F3FF}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FF}"}],"version":2},"man-kiss-man":{"id":"man-kiss-man","name":"Kiss: Man, Man","keywords":["kiss-man","kiss","pair","valentines","love","like","dating","marriage"],"skins":[{"unified":"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468","native":"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}"},{"unified":"1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","native":"\u{1F468}\u{1F3FB}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FB}"},{"unified":"1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","native":"\u{1F468}\u{1F3FC}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FC}"},{"unified":"1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","native":"\u{1F468}\u{1F3FD}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FD}"},{"unified":"1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","native":"\u{1F468}\u{1F3FE}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FE}"},{"unified":"1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","native":"\u{1F468}\u{1F3FF}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FF}"}],"version":2},"woman-kiss-woman":{"id":"woman-kiss-woman","name":"Kiss: Woman, Woman","keywords":["kiss-woman","kiss","pair","valentines","love","like","dating","marriage"],"skins":[{"unified":"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469","native":"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}"},{"unified":"1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","native":"\u{1F469}\u{1F3FB}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}\u{1F3FB}"},{"unified":"1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","native":"\u{1F469}\u{1F3FC}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}\u{1F3FC}"},{"unified":"1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","native":"\u{1F469}\u{1F3FD}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}\u{1F3FD}"},{"unified":"1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","native":"\u{1F469}\u{1F3FE}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}\u{1F3FE}"},{"unified":"1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","native":"\u{1F469}\u{1F3FF}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}\u{1F3FF}"}],"version":2},"couple_with_heart":{"id":"couple_with_heart","name":"Couple with Heart","keywords":["pair","love","like","affection","human","dating","valentines","marriage"],"skins":[{"unified":"1f491","native":"\u{1F491}"},{"unified":"1f491-1f3fb","native":"\u{1F491}\u{1F3FB}"},{"unified":"1f491-1f3fc","native":"\u{1F491}\u{1F3FC}"},{"unified":"1f491-1f3fd","native":"\u{1F491}\u{1F3FD}"},{"unified":"1f491-1f3fe","native":"\u{1F491}\u{1F3FE}"},{"unified":"1f491-1f3ff","native":"\u{1F491}\u{1F3FF}"}],"version":1},"woman-heart-man":{"id":"woman-heart-man","name":"Couple with Heart: Woman, Man","keywords":["woman","heart-man","heart","love"],"skins":[{"unified":"1f469-200d-2764-fe0f-200d-1f468","native":"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F468}"},{"unified":"1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","native":"\u{1F469}\u{1F3FB}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FB}"},{"unified":"1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","native":"\u{1F469}\u{1F3FC}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FC}"},{"unified":"1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","native":"\u{1F469}\u{1F3FD}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FD}"},{"unified":"1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","native":"\u{1F469}\u{1F3FE}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FE}"},{"unified":"1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff","native":"\u{1F469}\u{1F3FF}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FF}"}],"version":2},"man-heart-man":{"id":"man-heart-man","name":"Couple with Heart: Man, Man","keywords":["heart-man","heart","pair","love","like","affection","human","dating","valentines","marriage"],"skins":[{"unified":"1f468-200d-2764-fe0f-200d-1f468","native":"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F468}"},{"unified":"1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","native":"\u{1F468}\u{1F3FB}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FB}"},{"unified":"1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","native":"\u{1F468}\u{1F3FC}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FC}"},{"unified":"1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","native":"\u{1F468}\u{1F3FD}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FD}"},{"unified":"1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","native":"\u{1F468}\u{1F3FE}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FE}"},{"unified":"1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff","native":"\u{1F468}\u{1F3FF}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FF}"}],"version":2},"woman-heart-woman":{"id":"woman-heart-woman","name":"Couple with Heart: Woman, Woman","keywords":["heart-woman","heart","pair","love","like","affection","human","dating","valentines","marriage"],"skins":[{"unified":"1f469-200d-2764-fe0f-200d-1f469","native":"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F469}"},{"unified":"1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fb","native":"\u{1F469}\u{1F3FB}\u200D\u2764\uFE0F\u200D\u{1F469}\u{1F3FB}"},{"unified":"1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fc","native":"\u{1F469}\u{1F3FC}\u200D\u2764\uFE0F\u200D\u{1F469}\u{1F3FC}"},{"unified":"1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fd","native":"\u{1F469}\u{1F3FD}\u200D\u2764\uFE0F\u200D\u{1F469}\u{1F3FD}"},{"unified":"1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fe","native":"\u{1F469}\u{1F3FE}\u200D\u2764\uFE0F\u200D\u{1F469}\u{1F3FE}"},{"unified":"1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3ff","native":"\u{1F469}\u{1F3FF}\u200D\u2764\uFE0F\u200D\u{1F469}\u{1F3FF}"}],"version":2},"family":{"id":"family","name":"Family","keywords":["home","parents","child","mom","dad","father","mother","people","human"],"skins":[{"unified":"1f46a","native":"\u{1F46A}"}],"version":1},"man-woman-boy":{"id":"man-woman-boy","name":"Family: Man, Woman, Boy","keywords":["man","woman-boy","family","woman","love"],"skins":[{"unified":"1f468-200d-1f469-200d-1f466","native":"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}"}],"version":2},"man-woman-girl":{"id":"man-woman-girl","name":"Family: Man, Woman, Girl","keywords":["man","woman-girl","family","woman","home","parents","people","human","child"],"skins":[{"unified":"1f468-200d-1f469-200d-1f467","native":"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}"}],"version":2},"man-woman-girl-boy":{"id":"man-woman-girl-boy","name":"Family: Man, Woman, Girl, Boy","keywords":["man","woman-girl-boy","family","woman","girl","home","parents","people","human","children"],"skins":[{"unified":"1f468-200d-1f469-200d-1f467-200d-1f466","native":"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}"}],"version":2},"man-woman-boy-boy":{"id":"man-woman-boy-boy","name":"Family: Man, Woman, Boy, Boy","keywords":["man","woman-boy-boy","family","woman","home","parents","people","human","children"],"skins":[{"unified":"1f468-200d-1f469-200d-1f466-200d-1f466","native":"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}"}],"version":2},"man-woman-girl-girl":{"id":"man-woman-girl-girl","name":"Family: Man, Woman, Girl, Girl","keywords":["man","woman-girl-girl","family","woman","home","parents","people","human","children"],"skins":[{"unified":"1f468-200d-1f469-200d-1f467-200d-1f467","native":"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}"}],"version":2},"man-man-boy":{"id":"man-man-boy","name":"Family: Man, Man, Boy","keywords":["man","man-boy","family","home","parents","people","human","children"],"skins":[{"unified":"1f468-200d-1f468-200d-1f466","native":"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}"}],"version":2},"man-man-girl":{"id":"man-man-girl","name":"Family: Man, Man, Girl","keywords":["man","man-girl","family","home","parents","people","human","children"],"skins":[{"unified":"1f468-200d-1f468-200d-1f467","native":"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}"}],"version":2},"man-man-girl-boy":{"id":"man-man-girl-boy","name":"Family: Man, Man, Girl, Boy","keywords":["man","man-girl-boy","family","girl","home","parents","people","human","children"],"skins":[{"unified":"1f468-200d-1f468-200d-1f467-200d-1f466","native":"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F466}"}],"version":2},"man-man-boy-boy":{"id":"man-man-boy-boy","name":"Family: Man, Man, Boy, Boy","keywords":["man","man-boy-boy","family","home","parents","people","human","children"],"skins":[{"unified":"1f468-200d-1f468-200d-1f466-200d-1f466","native":"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}\u200D\u{1F466}"}],"version":2},"man-man-girl-girl":{"id":"man-man-girl-girl","name":"Family: Man, Man, Girl, Girl","keywords":["man","man-girl-girl","family","home","parents","people","human","children"],"skins":[{"unified":"1f468-200d-1f468-200d-1f467-200d-1f467","native":"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F467}"}],"version":2},"woman-woman-boy":{"id":"woman-woman-boy","name":"Family: Woman, Woman, Boy","keywords":["woman","woman-boy","family","home","parents","people","human","children"],"skins":[{"unified":"1f469-200d-1f469-200d-1f466","native":"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}"}],"version":2},"woman-woman-girl":{"id":"woman-woman-girl","name":"Family: Woman, Woman, Girl","keywords":["woman","woman-girl","family","home","parents","people","human","children"],"skins":[{"unified":"1f469-200d-1f469-200d-1f467","native":"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}"}],"version":2},"woman-woman-girl-boy":{"id":"woman-woman-girl-boy","name":"Family: Woman, Woman, Girl, Boy","keywords":["woman","woman-girl-boy","family","girl","home","parents","people","human","children"],"skins":[{"unified":"1f469-200d-1f469-200d-1f467-200d-1f466","native":"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}"}],"version":2},"woman-woman-boy-boy":{"id":"woman-woman-boy-boy","name":"Family: Woman, Woman, Boy, Boy","keywords":["woman","woman-boy-boy","family","home","parents","people","human","children"],"skins":[{"unified":"1f469-200d-1f469-200d-1f466-200d-1f466","native":"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}"}],"version":2},"woman-woman-girl-girl":{"id":"woman-woman-girl-girl","name":"Family: Woman, Woman, Girl, Girl","keywords":["woman","woman-girl-girl","family","home","parents","people","human","children"],"skins":[{"unified":"1f469-200d-1f469-200d-1f467-200d-1f467","native":"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}"}],"version":2},"man-boy":{"id":"man-boy","name":"Family: Man, Boy","keywords":["man","family","home","parent","people","human","child"],"skins":[{"unified":"1f468-200d-1f466","native":"\u{1F468}\u200D\u{1F466}"}],"version":4},"man-boy-boy":{"id":"man-boy-boy","name":"Family: Man, Boy, Boy","keywords":["man","boy-boy","family","home","parent","people","human","children"],"skins":[{"unified":"1f468-200d-1f466-200d-1f466","native":"\u{1F468}\u200D\u{1F466}\u200D\u{1F466}"}],"version":4},"man-girl":{"id":"man-girl","name":"Family: Man, Girl","keywords":["man","family","home","parent","people","human","child"],"skins":[{"unified":"1f468-200d-1f467","native":"\u{1F468}\u200D\u{1F467}"}],"version":4},"man-girl-boy":{"id":"man-girl-boy","name":"Family: Man, Girl, Boy","keywords":["man","girl-boy","family","girl","home","parent","people","human","children"],"skins":[{"unified":"1f468-200d-1f467-200d-1f466","native":"\u{1F468}\u200D\u{1F467}\u200D\u{1F466}"}],"version":4},"man-girl-girl":{"id":"man-girl-girl","name":"Family: Man, Girl, Girl","keywords":["man","girl-girl","family","home","parent","people","human","children"],"skins":[{"unified":"1f468-200d-1f467-200d-1f467","native":"\u{1F468}\u200D\u{1F467}\u200D\u{1F467}"}],"version":4},"woman-boy":{"id":"woman-boy","name":"Family: Woman, Boy","keywords":["woman","family","home","parent","people","human","child"],"skins":[{"unified":"1f469-200d-1f466","native":"\u{1F469}\u200D\u{1F466}"}],"version":4},"woman-boy-boy":{"id":"woman-boy-boy","name":"Family: Woman, Boy, Boy","keywords":["woman","boy-boy","family","home","parent","people","human","children"],"skins":[{"unified":"1f469-200d-1f466-200d-1f466","native":"\u{1F469}\u200D\u{1F466}\u200D\u{1F466}"}],"version":4},"woman-girl":{"id":"woman-girl","name":"Family: Woman, Girl","keywords":["woman","family","home","parent","people","human","child"],"skins":[{"unified":"1f469-200d-1f467","native":"\u{1F469}\u200D\u{1F467}"}],"version":4},"woman-girl-boy":{"id":"woman-girl-boy","name":"Family: Woman, Girl, Boy","keywords":["woman","girl-boy","family","girl","home","parent","people","human","children"],"skins":[{"unified":"1f469-200d-1f467-200d-1f466","native":"\u{1F469}\u200D\u{1F467}\u200D\u{1F466}"}],"version":4},"woman-girl-girl":{"id":"woman-girl-girl","name":"Family: Woman, Girl, Girl","keywords":["woman","girl-girl","family","home","parent","people","human","children"],"skins":[{"unified":"1f469-200d-1f467-200d-1f467","native":"\u{1F469}\u200D\u{1F467}\u200D\u{1F467}"}],"version":4},"speaking_head_in_silhouette":{"id":"speaking_head_in_silhouette","name":"Speaking Head","keywords":["in","silhouette","user","person","human","sing","say","talk"],"skins":[{"unified":"1f5e3-fe0f","native":"\u{1F5E3}\uFE0F"}],"version":1},"bust_in_silhouette":{"id":"bust_in_silhouette","name":"Bust in Silhouette","keywords":["user","person","human"],"skins":[{"unified":"1f464","native":"\u{1F464}"}],"version":1},"busts_in_silhouette":{"id":"busts_in_silhouette","name":"Busts in Silhouette","keywords":["user","person","human","group","team"],"skins":[{"unified":"1f465","native":"\u{1F465}"}],"version":1},"people_hugging":{"id":"people_hugging","name":"People Hugging","keywords":["care"],"skins":[{"unified":"1fac2","native":"\u{1FAC2}"}],"version":13},"footprints":{"id":"footprints","name":"Footprints","keywords":["feet","tracking","walking","beach"],"skins":[{"unified":"1f463","native":"\u{1F463}"}],"version":1},"monkey_face":{"id":"monkey_face","name":"Monkey Face","emoticons":[":o)"],"keywords":["animal","nature","circus"],"skins":[{"unified":"1f435","native":"\u{1F435}"}],"version":1},"monkey":{"id":"monkey","name":"Monkey","keywords":["animal","nature","banana","circus"],"skins":[{"unified":"1f412","native":"\u{1F412}"}],"version":1},"gorilla":{"id":"gorilla","name":"Gorilla","keywords":["animal","nature","circus"],"skins":[{"unified":"1f98d","native":"\u{1F98D}"}],"version":3},"orangutan":{"id":"orangutan","name":"Orangutan","keywords":["animal"],"skins":[{"unified":"1f9a7","native":"\u{1F9A7}"}],"version":12},"dog":{"id":"dog","name":"Dog Face","keywords":["animal","friend","nature","woof","puppy","pet","faithful"],"skins":[{"unified":"1f436","native":"\u{1F436}"}],"version":1},"dog2":{"id":"dog2","name":"Dog","keywords":["dog2","animal","nature","friend","doge","pet","faithful"],"skins":[{"unified":"1f415","native":"\u{1F415}"}],"version":1},"guide_dog":{"id":"guide_dog","name":"Guide Dog","keywords":["animal","blind"],"skins":[{"unified":"1f9ae","native":"\u{1F9AE}"}],"version":12},"service_dog":{"id":"service_dog","name":"Service Dog","keywords":["blind","animal"],"skins":[{"unified":"1f415-200d-1f9ba","native":"\u{1F415}\u200D\u{1F9BA}"}],"version":12},"poodle":{"id":"poodle","name":"Poodle","keywords":["dog","animal","101","nature","pet"],"skins":[{"unified":"1f429","native":"\u{1F429}"}],"version":1},"wolf":{"id":"wolf","name":"Wolf","keywords":["animal","nature","wild"],"skins":[{"unified":"1f43a","native":"\u{1F43A}"}],"version":1},"fox_face":{"id":"fox_face","name":"Fox","keywords":["face","animal","nature"],"skins":[{"unified":"1f98a","native":"\u{1F98A}"}],"version":3},"raccoon":{"id":"raccoon","name":"Raccoon","keywords":["animal","nature"],"skins":[{"unified":"1f99d","native":"\u{1F99D}"}],"version":11},"cat":{"id":"cat","name":"Cat Face","keywords":["animal","meow","nature","pet","kitten"],"skins":[{"unified":"1f431","native":"\u{1F431}"}],"version":1},"cat2":{"id":"cat2","name":"Cat","keywords":["cat2","animal","meow","pet","cats"],"skins":[{"unified":"1f408","native":"\u{1F408}"}],"version":1},"black_cat":{"id":"black_cat","name":"Black Cat","keywords":["superstition","luck"],"skins":[{"unified":"1f408-200d-2b1b","native":"\u{1F408}\u200D\u2B1B"}],"version":13},"lion_face":{"id":"lion_face","name":"Lion","keywords":["face","animal","nature"],"skins":[{"unified":"1f981","native":"\u{1F981}"}],"version":1},"tiger":{"id":"tiger","name":"Tiger Face","keywords":["animal","cat","danger","wild","nature","roar"],"skins":[{"unified":"1f42f","native":"\u{1F42F}"}],"version":1},"tiger2":{"id":"tiger2","name":"Tiger","keywords":["tiger2","animal","nature","roar"],"skins":[{"unified":"1f405","native":"\u{1F405}"}],"version":1},"leopard":{"id":"leopard","name":"Leopard","keywords":["animal","nature"],"skins":[{"unified":"1f406","native":"\u{1F406}"}],"version":1},"horse":{"id":"horse","name":"Horse Face","keywords":["animal","brown","nature"],"skins":[{"unified":"1f434","native":"\u{1F434}"}],"version":1},"moose":{"id":"moose","name":"Moose","keywords":["shrek","canada","sweden","sven","cool"],"skins":[{"unified":"1face","native":"\u{1FACE}"}],"version":15},"donkey":{"id":"donkey","name":"Donkey","keywords":["eeyore","mule"],"skins":[{"unified":"1facf","native":"\u{1FACF}"}],"version":15},"racehorse":{"id":"racehorse","name":"Horse","keywords":["racehorse","animal","gamble","luck"],"skins":[{"unified":"1f40e","native":"\u{1F40E}"}],"version":1},"unicorn_face":{"id":"unicorn_face","name":"Unicorn","keywords":["face","animal","nature","mystical"],"skins":[{"unified":"1f984","native":"\u{1F984}"}],"version":1},"zebra_face":{"id":"zebra_face","name":"Zebra","keywords":["face","animal","nature","stripes","safari"],"skins":[{"unified":"1f993","native":"\u{1F993}"}],"version":5},"deer":{"id":"deer","name":"Deer","keywords":["animal","nature","horns","venison"],"skins":[{"unified":"1f98c","native":"\u{1F98C}"}],"version":3},"bison":{"id":"bison","name":"Bison","keywords":["ox"],"skins":[{"unified":"1f9ac","native":"\u{1F9AC}"}],"version":13},"cow":{"id":"cow","name":"Cow Face","keywords":["beef","ox","animal","nature","moo","milk"],"skins":[{"unified":"1f42e","native":"\u{1F42E}"}],"version":1},"ox":{"id":"ox","name":"Ox","keywords":["animal","cow","beef"],"skins":[{"unified":"1f402","native":"\u{1F402}"}],"version":1},"water_buffalo":{"id":"water_buffalo","name":"Water Buffalo","keywords":["animal","nature","ox","cow"],"skins":[{"unified":"1f403","native":"\u{1F403}"}],"version":1},"cow2":{"id":"cow2","name":"Cow","keywords":["cow2","beef","ox","animal","nature","moo","milk"],"skins":[{"unified":"1f404","native":"\u{1F404}"}],"version":1},"pig":{"id":"pig","name":"Pig Face","keywords":["animal","oink","nature"],"skins":[{"unified":"1f437","native":"\u{1F437}"}],"version":1},"pig2":{"id":"pig2","name":"Pig","keywords":["pig2","animal","nature"],"skins":[{"unified":"1f416","native":"\u{1F416}"}],"version":1},"boar":{"id":"boar","name":"Boar","keywords":["animal","nature"],"skins":[{"unified":"1f417","native":"\u{1F417}"}],"version":1},"pig_nose":{"id":"pig_nose","name":"Pig Nose","keywords":["animal","oink"],"skins":[{"unified":"1f43d","native":"\u{1F43D}"}],"version":1},"ram":{"id":"ram","name":"Ram","keywords":["animal","sheep","nature"],"skins":[{"unified":"1f40f","native":"\u{1F40F}"}],"version":1},"sheep":{"id":"sheep","name":"Ewe","keywords":["sheep","animal","nature","wool","shipit"],"skins":[{"unified":"1f411","native":"\u{1F411}"}],"version":1},"goat":{"id":"goat","name":"Goat","keywords":["animal","nature"],"skins":[{"unified":"1f410","native":"\u{1F410}"}],"version":1},"dromedary_camel":{"id":"dromedary_camel","name":"Camel","keywords":["dromedary","animal","hot","desert","hump"],"skins":[{"unified":"1f42a","native":"\u{1F42A}"}],"version":1},"camel":{"id":"camel","name":"Bactrian Camel","keywords":["two","hump","animal","nature","hot","desert"],"skins":[{"unified":"1f42b","native":"\u{1F42B}"}],"version":1},"llama":{"id":"llama","name":"Llama","keywords":["animal","nature","alpaca"],"skins":[{"unified":"1f999","native":"\u{1F999}"}],"version":11},"giraffe_face":{"id":"giraffe_face","name":"Giraffe","keywords":["face","animal","nature","spots","safari"],"skins":[{"unified":"1f992","native":"\u{1F992}"}],"version":5},"elephant":{"id":"elephant","name":"Elephant","keywords":["animal","nature","nose","th","circus"],"skins":[{"unified":"1f418","native":"\u{1F418}"}],"version":1},"mammoth":{"id":"mammoth","name":"Mammoth","keywords":["elephant","tusks"],"skins":[{"unified":"1f9a3","native":"\u{1F9A3}"}],"version":13},"rhinoceros":{"id":"rhinoceros","name":"Rhinoceros","keywords":["animal","nature","horn"],"skins":[{"unified":"1f98f","native":"\u{1F98F}"}],"version":3},"hippopotamus":{"id":"hippopotamus","name":"Hippopotamus","keywords":["animal","nature"],"skins":[{"unified":"1f99b","native":"\u{1F99B}"}],"version":11},"mouse":{"id":"mouse","name":"Mouse Face","keywords":["animal","nature","cheese","wedge","rodent"],"skins":[{"unified":"1f42d","native":"\u{1F42D}"}],"version":1},"mouse2":{"id":"mouse2","name":"Mouse","keywords":["mouse2","animal","nature","rodent"],"skins":[{"unified":"1f401","native":"\u{1F401}"}],"version":1},"rat":{"id":"rat","name":"Rat","keywords":["animal","mouse","rodent"],"skins":[{"unified":"1f400","native":"\u{1F400}"}],"version":1},"hamster":{"id":"hamster","name":"Hamster","keywords":["animal","nature"],"skins":[{"unified":"1f439","native":"\u{1F439}"}],"version":1},"rabbit":{"id":"rabbit","name":"Rabbit Face","keywords":["animal","nature","pet","spring","magic","bunny"],"skins":[{"unified":"1f430","native":"\u{1F430}"}],"version":1},"rabbit2":{"id":"rabbit2","name":"Rabbit","keywords":["rabbit2","animal","nature","pet","magic","spring"],"skins":[{"unified":"1f407","native":"\u{1F407}"}],"version":1},"chipmunk":{"id":"chipmunk","name":"Chipmunk","keywords":["animal","nature","rodent","squirrel"],"skins":[{"unified":"1f43f-fe0f","native":"\u{1F43F}\uFE0F"}],"version":1},"beaver":{"id":"beaver","name":"Beaver","keywords":["animal","rodent"],"skins":[{"unified":"1f9ab","native":"\u{1F9AB}"}],"version":13},"hedgehog":{"id":"hedgehog","name":"Hedgehog","keywords":["animal","nature","spiny"],"skins":[{"unified":"1f994","native":"\u{1F994}"}],"version":5},"bat":{"id":"bat","name":"Bat","keywords":["animal","nature","blind","vampire"],"skins":[{"unified":"1f987","native":"\u{1F987}"}],"version":3},"bear":{"id":"bear","name":"Bear","keywords":["animal","nature","wild"],"skins":[{"unified":"1f43b","native":"\u{1F43B}"}],"version":1},"polar_bear":{"id":"polar_bear","name":"Polar Bear","keywords":["animal","arctic"],"skins":[{"unified":"1f43b-200d-2744-fe0f","native":"\u{1F43B}\u200D\u2744\uFE0F"}],"version":13},"koala":{"id":"koala","name":"Koala","keywords":["animal","nature"],"skins":[{"unified":"1f428","native":"\u{1F428}"}],"version":1},"panda_face":{"id":"panda_face","name":"Panda","keywords":["face","animal","nature"],"skins":[{"unified":"1f43c","native":"\u{1F43C}"}],"version":1},"sloth":{"id":"sloth","name":"Sloth","keywords":["animal"],"skins":[{"unified":"1f9a5","native":"\u{1F9A5}"}],"version":12},"otter":{"id":"otter","name":"Otter","keywords":["animal"],"skins":[{"unified":"1f9a6","native":"\u{1F9A6}"}],"version":12},"skunk":{"id":"skunk","name":"Skunk","keywords":["animal"],"skins":[{"unified":"1f9a8","native":"\u{1F9A8}"}],"version":12},"kangaroo":{"id":"kangaroo","name":"Kangaroo","keywords":["animal","nature","australia","joey","hop","marsupial"],"skins":[{"unified":"1f998","native":"\u{1F998}"}],"version":11},"badger":{"id":"badger","name":"Badger","keywords":["animal","nature","honey"],"skins":[{"unified":"1f9a1","native":"\u{1F9A1}"}],"version":11},"feet":{"id":"feet","name":"Paw Prints","keywords":["feet","animal","tracking","footprints","dog","cat","pet"],"skins":[{"unified":"1f43e","native":"\u{1F43E}"}],"version":1},"turkey":{"id":"turkey","name":"Turkey","keywords":["animal","bird"],"skins":[{"unified":"1f983","native":"\u{1F983}"}],"version":1},"chicken":{"id":"chicken","name":"Chicken","keywords":["animal","cluck","nature","bird"],"skins":[{"unified":"1f414","native":"\u{1F414}"}],"version":1},"rooster":{"id":"rooster","name":"Rooster","keywords":["animal","nature","chicken"],"skins":[{"unified":"1f413","native":"\u{1F413}"}],"version":1},"hatching_chick":{"id":"hatching_chick","name":"Hatching Chick","keywords":["animal","chicken","egg","born","baby","bird"],"skins":[{"unified":"1f423","native":"\u{1F423}"}],"version":1},"baby_chick":{"id":"baby_chick","name":"Baby Chick","keywords":["animal","chicken","bird"],"skins":[{"unified":"1f424","native":"\u{1F424}"}],"version":1},"hatched_chick":{"id":"hatched_chick","name":"Front-Facing Baby Chick","keywords":["hatched","front","facing","animal","chicken","bird"],"skins":[{"unified":"1f425","native":"\u{1F425}"}],"version":1},"bird":{"id":"bird","name":"Bird","keywords":["animal","nature","fly","tweet","spring"],"skins":[{"unified":"1f426","native":"\u{1F426}"}],"version":1},"penguin":{"id":"penguin","name":"Penguin","keywords":["animal","nature"],"skins":[{"unified":"1f427","native":"\u{1F427}"}],"version":1},"dove_of_peace":{"id":"dove_of_peace","name":"Dove","keywords":["of","peace","animal","bird"],"skins":[{"unified":"1f54a-fe0f","native":"\u{1F54A}\uFE0F"}],"version":1},"eagle":{"id":"eagle","name":"Eagle","keywords":["animal","nature","bird"],"skins":[{"unified":"1f985","native":"\u{1F985}"}],"version":3},"duck":{"id":"duck","name":"Duck","keywords":["animal","nature","bird","mallard"],"skins":[{"unified":"1f986","native":"\u{1F986}"}],"version":3},"swan":{"id":"swan","name":"Swan","keywords":["animal","nature","bird"],"skins":[{"unified":"1f9a2","native":"\u{1F9A2}"}],"version":11},"owl":{"id":"owl","name":"Owl","keywords":["animal","nature","bird","hoot"],"skins":[{"unified":"1f989","native":"\u{1F989}"}],"version":3},"dodo":{"id":"dodo","name":"Dodo","keywords":["animal","bird"],"skins":[{"unified":"1f9a4","native":"\u{1F9A4}"}],"version":13},"feather":{"id":"feather","name":"Feather","keywords":["bird","fly"],"skins":[{"unified":"1fab6","native":"\u{1FAB6}"}],"version":13},"flamingo":{"id":"flamingo","name":"Flamingo","keywords":["animal"],"skins":[{"unified":"1f9a9","native":"\u{1F9A9}"}],"version":12},"peacock":{"id":"peacock","name":"Peacock","keywords":["animal","nature","peahen","bird"],"skins":[{"unified":"1f99a","native":"\u{1F99A}"}],"version":11},"parrot":{"id":"parrot","name":"Parrot","keywords":["animal","nature","bird","pirate","talk"],"skins":[{"unified":"1f99c","native":"\u{1F99C}"}],"version":11},"wing":{"id":"wing","name":"Wing","keywords":["angel","birds","flying"],"skins":[{"unified":"1fabd","native":"\u{1FABD}"}],"version":15},"black_bird":{"id":"black_bird","name":"Black Bird","keywords":["crow"],"skins":[{"unified":"1f426-200d-2b1b","native":"\u{1F426}\u200D\u2B1B"}],"version":15},"goose":{"id":"goose","name":"Goose","keywords":["silly","jemima","goosebumps"],"skins":[{"unified":"1fabf","native":"\u{1FABF}"}],"version":15},"frog":{"id":"frog","name":"Frog","keywords":["animal","nature","croak","toad"],"skins":[{"unified":"1f438","native":"\u{1F438}"}],"version":1},"crocodile":{"id":"crocodile","name":"Crocodile","keywords":["animal","nature","reptile","lizard","alligator"],"skins":[{"unified":"1f40a","native":"\u{1F40A}"}],"version":1},"turtle":{"id":"turtle","name":"Turtle","keywords":["animal","slow","nature","tortoise"],"skins":[{"unified":"1f422","native":"\u{1F422}"}],"version":1},"lizard":{"id":"lizard","name":"Lizard","keywords":["animal","nature","reptile"],"skins":[{"unified":"1f98e","native":"\u{1F98E}"}],"version":3},"snake":{"id":"snake","name":"Snake","keywords":["animal","evil","nature","hiss","python"],"skins":[{"unified":"1f40d","native":"\u{1F40D}"}],"version":1},"dragon_face":{"id":"dragon_face","name":"Dragon Face","keywords":["animal","myth","nature","chinese","green"],"skins":[{"unified":"1f432","native":"\u{1F432}"}],"version":1},"dragon":{"id":"dragon","name":"Dragon","keywords":["animal","myth","nature","chinese","green"],"skins":[{"unified":"1f409","native":"\u{1F409}"}],"version":1},"sauropod":{"id":"sauropod","name":"Sauropod","keywords":["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],"skins":[{"unified":"1f995","native":"\u{1F995}"}],"version":5},"t-rex":{"id":"t-rex","name":"T-Rex","keywords":["t","rex","animal","nature","dinosaur","tyrannosaurus","extinct"],"skins":[{"unified":"1f996","native":"\u{1F996}"}],"version":5},"whale":{"id":"whale","name":"Spouting Whale","keywords":["animal","nature","sea","ocean"],"skins":[{"unified":"1f433","native":"\u{1F433}"}],"version":1},"whale2":{"id":"whale2","name":"Whale","keywords":["whale2","animal","nature","sea","ocean"],"skins":[{"unified":"1f40b","native":"\u{1F40B}"}],"version":1},"dolphin":{"id":"dolphin","name":"Dolphin","keywords":["flipper","animal","nature","fish","sea","ocean","fins","beach"],"skins":[{"unified":"1f42c","native":"\u{1F42C}"}],"version":1},"seal":{"id":"seal","name":"Seal","keywords":["animal","creature","sea"],"skins":[{"unified":"1f9ad","native":"\u{1F9AD}"}],"version":13},"fish":{"id":"fish","name":"Fish","keywords":["animal","food","nature"],"skins":[{"unified":"1f41f","native":"\u{1F41F}"}],"version":1},"tropical_fish":{"id":"tropical_fish","name":"Tropical Fish","keywords":["animal","swim","ocean","beach","nemo"],"skins":[{"unified":"1f420","native":"\u{1F420}"}],"version":1},"blowfish":{"id":"blowfish","name":"Blowfish","keywords":["animal","nature","food","sea","ocean"],"skins":[{"unified":"1f421","native":"\u{1F421}"}],"version":1},"shark":{"id":"shark","name":"Shark","keywords":["animal","nature","fish","sea","ocean","jaws","fins","beach"],"skins":[{"unified":"1f988","native":"\u{1F988}"}],"version":3},"octopus":{"id":"octopus","name":"Octopus","keywords":["animal","creature","ocean","sea","nature","beach"],"skins":[{"unified":"1f419","native":"\u{1F419}"}],"version":1},"shell":{"id":"shell","name":"Spiral Shell","keywords":["nature","sea","beach"],"skins":[{"unified":"1f41a","native":"\u{1F41A}"}],"version":1},"coral":{"id":"coral","name":"Coral","keywords":["ocean","sea","reef"],"skins":[{"unified":"1fab8","native":"\u{1FAB8}"}],"version":14},"jellyfish":{"id":"jellyfish","name":"Jellyfish","keywords":["sting","tentacles"],"skins":[{"unified":"1fabc","native":"\u{1FABC}"}],"version":15},"snail":{"id":"snail","name":"Snail","keywords":["slow","animal","shell"],"skins":[{"unified":"1f40c","native":"\u{1F40C}"}],"version":1},"butterfly":{"id":"butterfly","name":"Butterfly","keywords":["animal","insect","nature","caterpillar"],"skins":[{"unified":"1f98b","native":"\u{1F98B}"}],"version":3},"bug":{"id":"bug","name":"Bug","keywords":["animal","insect","nature","worm"],"skins":[{"unified":"1f41b","native":"\u{1F41B}"}],"version":1},"ant":{"id":"ant","name":"Ant","keywords":["animal","insect","nature","bug"],"skins":[{"unified":"1f41c","native":"\u{1F41C}"}],"version":1},"bee":{"id":"bee","name":"Honeybee","keywords":["bee","animal","insect","nature","bug","spring","honey"],"skins":[{"unified":"1f41d","native":"\u{1F41D}"}],"version":1},"beetle":{"id":"beetle","name":"Beetle","keywords":["insect"],"skins":[{"unified":"1fab2","native":"\u{1FAB2}"}],"version":13},"ladybug":{"id":"ladybug","name":"Lady Beetle","keywords":["ladybug","animal","insect","nature"],"skins":[{"unified":"1f41e","native":"\u{1F41E}"}],"version":1},"cricket":{"id":"cricket","name":"Cricket","keywords":["animal","chirp"],"skins":[{"unified":"1f997","native":"\u{1F997}"}],"version":5},"cockroach":{"id":"cockroach","name":"Cockroach","keywords":["insect","pests"],"skins":[{"unified":"1fab3","native":"\u{1FAB3}"}],"version":13},"spider":{"id":"spider","name":"Spider","keywords":["animal","arachnid"],"skins":[{"unified":"1f577-fe0f","native":"\u{1F577}\uFE0F"}],"version":1},"spider_web":{"id":"spider_web","name":"Spider Web","keywords":["animal","insect","arachnid","silk"],"skins":[{"unified":"1f578-fe0f","native":"\u{1F578}\uFE0F"}],"version":1},"scorpion":{"id":"scorpion","name":"Scorpion","keywords":["animal","arachnid"],"skins":[{"unified":"1f982","native":"\u{1F982}"}],"version":1},"mosquito":{"id":"mosquito","name":"Mosquito","keywords":["animal","nature","insect","malaria"],"skins":[{"unified":"1f99f","native":"\u{1F99F}"}],"version":11},"fly":{"id":"fly","name":"Fly","keywords":["insect"],"skins":[{"unified":"1fab0","native":"\u{1FAB0}"}],"version":13},"worm":{"id":"worm","name":"Worm","keywords":["animal"],"skins":[{"unified":"1fab1","native":"\u{1FAB1}"}],"version":13},"microbe":{"id":"microbe","name":"Microbe","keywords":["amoeba","bacteria","germs","virus","covid"],"skins":[{"unified":"1f9a0","native":"\u{1F9A0}"}],"version":11},"bouquet":{"id":"bouquet","name":"Bouquet","keywords":["flowers","nature","spring"],"skins":[{"unified":"1f490","native":"\u{1F490}"}],"version":1},"cherry_blossom":{"id":"cherry_blossom","name":"Cherry Blossom","keywords":["nature","plant","spring","flower"],"skins":[{"unified":"1f338","native":"\u{1F338}"}],"version":1},"white_flower":{"id":"white_flower","name":"White Flower","keywords":["japanese","spring"],"skins":[{"unified":"1f4ae","native":"\u{1F4AE}"}],"version":1},"lotus":{"id":"lotus","name":"Lotus","keywords":["flower","calm","meditation"],"skins":[{"unified":"1fab7","native":"\u{1FAB7}"}],"version":14},"rosette":{"id":"rosette","name":"Rosette","keywords":["flower","decoration","military"],"skins":[{"unified":"1f3f5-fe0f","native":"\u{1F3F5}\uFE0F"}],"version":1},"rose":{"id":"rose","name":"Rose","keywords":["flowers","valentines","love","spring"],"skins":[{"unified":"1f339","native":"\u{1F339}"}],"version":1},"wilted_flower":{"id":"wilted_flower","name":"Wilted Flower","keywords":["plant","nature","rose"],"skins":[{"unified":"1f940","native":"\u{1F940}"}],"version":3},"hibiscus":{"id":"hibiscus","name":"Hibiscus","keywords":["plant","vegetable","flowers","beach"],"skins":[{"unified":"1f33a","native":"\u{1F33A}"}],"version":1},"sunflower":{"id":"sunflower","name":"Sunflower","keywords":["nature","plant","fall"],"skins":[{"unified":"1f33b","native":"\u{1F33B}"}],"version":1},"blossom":{"id":"blossom","name":"Blossom","keywords":["nature","flowers","yellow"],"skins":[{"unified":"1f33c","native":"\u{1F33C}"}],"version":1},"tulip":{"id":"tulip","name":"Tulip","keywords":["flowers","plant","nature","summer","spring"],"skins":[{"unified":"1f337","native":"\u{1F337}"}],"version":1},"hyacinth":{"id":"hyacinth","name":"Hyacinth","keywords":["flower","lavender"],"skins":[{"unified":"1fabb","native":"\u{1FABB}"}],"version":15},"seedling":{"id":"seedling","name":"Seedling","keywords":["plant","nature","grass","lawn","spring"],"skins":[{"unified":"1f331","native":"\u{1F331}"}],"version":1},"potted_plant":{"id":"potted_plant","name":"Potted Plant","keywords":["greenery","house"],"skins":[{"unified":"1fab4","native":"\u{1FAB4}"}],"version":13},"evergreen_tree":{"id":"evergreen_tree","name":"Evergreen Tree","keywords":["plant","nature"],"skins":[{"unified":"1f332","native":"\u{1F332}"}],"version":1},"deciduous_tree":{"id":"deciduous_tree","name":"Deciduous Tree","keywords":["plant","nature"],"skins":[{"unified":"1f333","native":"\u{1F333}"}],"version":1},"palm_tree":{"id":"palm_tree","name":"Palm Tree","keywords":["plant","vegetable","nature","summer","beach","mojito","tropical"],"skins":[{"unified":"1f334","native":"\u{1F334}"}],"version":1},"cactus":{"id":"cactus","name":"Cactus","keywords":["vegetable","plant","nature"],"skins":[{"unified":"1f335","native":"\u{1F335}"}],"version":1},"ear_of_rice":{"id":"ear_of_rice","name":"Ear of Rice","keywords":["sheaf","nature","plant"],"skins":[{"unified":"1f33e","native":"\u{1F33E}"}],"version":1},"herb":{"id":"herb","name":"Herb","keywords":["vegetable","plant","medicine","weed","grass","lawn"],"skins":[{"unified":"1f33f","native":"\u{1F33F}"}],"version":1},"shamrock":{"id":"shamrock","name":"Shamrock","keywords":["vegetable","plant","nature","irish","clover"],"skins":[{"unified":"2618-fe0f","native":"\u2618\uFE0F"}],"version":1},"four_leaf_clover":{"id":"four_leaf_clover","name":"Four Leaf Clover","keywords":["vegetable","plant","nature","lucky","irish"],"skins":[{"unified":"1f340","native":"\u{1F340}"}],"version":1},"maple_leaf":{"id":"maple_leaf","name":"Maple Leaf","keywords":["nature","plant","vegetable","ca","fall"],"skins":[{"unified":"1f341","native":"\u{1F341}"}],"version":1},"fallen_leaf":{"id":"fallen_leaf","name":"Fallen Leaf","keywords":["nature","plant","vegetable","leaves"],"skins":[{"unified":"1f342","native":"\u{1F342}"}],"version":1},"leaves":{"id":"leaves","name":"Leaf Fluttering in Wind","keywords":["leaves","nature","plant","tree","vegetable","grass","lawn","spring"],"skins":[{"unified":"1f343","native":"\u{1F343}"}],"version":1},"empty_nest":{"id":"empty_nest","name":"Empty Nest","keywords":["bird"],"skins":[{"unified":"1fab9","native":"\u{1FAB9}"}],"version":14},"nest_with_eggs":{"id":"nest_with_eggs","name":"Nest with Eggs","keywords":["bird"],"skins":[{"unified":"1faba","native":"\u{1FABA}"}],"version":14},"mushroom":{"id":"mushroom","name":"Mushroom","keywords":["plant","vegetable"],"skins":[{"unified":"1f344","native":"\u{1F344}"}],"version":1},"grapes":{"id":"grapes","name":"Grapes","keywords":["fruit","food","wine"],"skins":[{"unified":"1f347","native":"\u{1F347}"}],"version":1},"melon":{"id":"melon","name":"Melon","keywords":["fruit","nature","food"],"skins":[{"unified":"1f348","native":"\u{1F348}"}],"version":1},"watermelon":{"id":"watermelon","name":"Watermelon","keywords":["fruit","food","picnic","summer"],"skins":[{"unified":"1f349","native":"\u{1F349}"}],"version":1},"tangerine":{"id":"tangerine","name":"Tangerine","keywords":["food","fruit","nature","orange"],"skins":[{"unified":"1f34a","native":"\u{1F34A}"}],"version":1},"lemon":{"id":"lemon","name":"Lemon","keywords":["fruit","nature"],"skins":[{"unified":"1f34b","native":"\u{1F34B}"}],"version":1},"banana":{"id":"banana","name":"Banana","keywords":["fruit","food","monkey"],"skins":[{"unified":"1f34c","native":"\u{1F34C}"}],"version":1},"pineapple":{"id":"pineapple","name":"Pineapple","keywords":["fruit","nature","food"],"skins":[{"unified":"1f34d","native":"\u{1F34D}"}],"version":1},"mango":{"id":"mango","name":"Mango","keywords":["fruit","food","tropical"],"skins":[{"unified":"1f96d","native":"\u{1F96D}"}],"version":11},"apple":{"id":"apple","name":"Red Apple","keywords":["fruit","mac","school"],"skins":[{"unified":"1f34e","native":"\u{1F34E}"}],"version":1},"green_apple":{"id":"green_apple","name":"Green Apple","keywords":["fruit","nature"],"skins":[{"unified":"1f34f","native":"\u{1F34F}"}],"version":1},"pear":{"id":"pear","name":"Pear","keywords":["fruit","nature","food"],"skins":[{"unified":"1f350","native":"\u{1F350}"}],"version":1},"peach":{"id":"peach","name":"Peach","keywords":["fruit","nature","food"],"skins":[{"unified":"1f351","native":"\u{1F351}"}],"version":1},"cherries":{"id":"cherries","name":"Cherries","keywords":["food","fruit"],"skins":[{"unified":"1f352","native":"\u{1F352}"}],"version":1},"strawberry":{"id":"strawberry","name":"Strawberry","keywords":["fruit","food","nature"],"skins":[{"unified":"1f353","native":"\u{1F353}"}],"version":1},"blueberries":{"id":"blueberries","name":"Blueberries","keywords":["fruit"],"skins":[{"unified":"1fad0","native":"\u{1FAD0}"}],"version":13},"kiwifruit":{"id":"kiwifruit","name":"Kiwifruit","keywords":["kiwi","fruit","food"],"skins":[{"unified":"1f95d","native":"\u{1F95D}"}],"version":3},"tomato":{"id":"tomato","name":"Tomato","keywords":["fruit","vegetable","nature","food"],"skins":[{"unified":"1f345","native":"\u{1F345}"}],"version":1},"olive":{"id":"olive","name":"Olive","keywords":["fruit"],"skins":[{"unified":"1fad2","native":"\u{1FAD2}"}],"version":13},"coconut":{"id":"coconut","name":"Coconut","keywords":["fruit","nature","food","palm"],"skins":[{"unified":"1f965","native":"\u{1F965}"}],"version":5},"avocado":{"id":"avocado","name":"Avocado","keywords":["fruit","food"],"skins":[{"unified":"1f951","native":"\u{1F951}"}],"version":3},"eggplant":{"id":"eggplant","name":"Eggplant","keywords":["vegetable","nature","food","aubergine"],"skins":[{"unified":"1f346","native":"\u{1F346}"}],"version":1},"potato":{"id":"potato","name":"Potato","keywords":["food","tuber","vegatable","starch"],"skins":[{"unified":"1f954","native":"\u{1F954}"}],"version":3},"carrot":{"id":"carrot","name":"Carrot","keywords":["vegetable","food","orange"],"skins":[{"unified":"1f955","native":"\u{1F955}"}],"version":3},"corn":{"id":"corn","name":"Ear of Corn","keywords":["food","vegetable","plant"],"skins":[{"unified":"1f33d","native":"\u{1F33D}"}],"version":1},"hot_pepper":{"id":"hot_pepper","name":"Hot Pepper","keywords":["food","spicy","chilli","chili"],"skins":[{"unified":"1f336-fe0f","native":"\u{1F336}\uFE0F"}],"version":1},"bell_pepper":{"id":"bell_pepper","name":"Bell Pepper","keywords":["fruit","plant"],"skins":[{"unified":"1fad1","native":"\u{1FAD1}"}],"version":13},"cucumber":{"id":"cucumber","name":"Cucumber","keywords":["fruit","food","pickle"],"skins":[{"unified":"1f952","native":"\u{1F952}"}],"version":3},"leafy_green":{"id":"leafy_green","name":"Leafy Green","keywords":["food","vegetable","plant","bok","choy","cabbage","kale","lettuce"],"skins":[{"unified":"1f96c","native":"\u{1F96C}"}],"version":11},"broccoli":{"id":"broccoli","name":"Broccoli","keywords":["fruit","food","vegetable"],"skins":[{"unified":"1f966","native":"\u{1F966}"}],"version":5},"garlic":{"id":"garlic","name":"Garlic","keywords":["food","spice","cook"],"skins":[{"unified":"1f9c4","native":"\u{1F9C4}"}],"version":12},"onion":{"id":"onion","name":"Onion","keywords":["cook","food","spice"],"skins":[{"unified":"1f9c5","native":"\u{1F9C5}"}],"version":12},"peanuts":{"id":"peanuts","name":"Peanuts","keywords":["food","nut"],"skins":[{"unified":"1f95c","native":"\u{1F95C}"}],"version":3},"beans":{"id":"beans","name":"Beans","keywords":["food"],"skins":[{"unified":"1fad8","native":"\u{1FAD8}"}],"version":14},"chestnut":{"id":"chestnut","name":"Chestnut","keywords":["food","squirrel"],"skins":[{"unified":"1f330","native":"\u{1F330}"}],"version":1},"ginger_root":{"id":"ginger_root","name":"Ginger Root","keywords":["spice","yellow","cooking","gingerbread"],"skins":[{"unified":"1fada","native":"\u{1FADA}"}],"version":15},"pea_pod":{"id":"pea_pod","name":"Pea Pod","keywords":["cozy","green"],"skins":[{"unified":"1fadb","native":"\u{1FADB}"}],"version":15},"bread":{"id":"bread","name":"Bread","keywords":["food","wheat","breakfast","toast"],"skins":[{"unified":"1f35e","native":"\u{1F35E}"}],"version":1},"croissant":{"id":"croissant","name":"Croissant","keywords":["food","bread","french"],"skins":[{"unified":"1f950","native":"\u{1F950}"}],"version":3},"baguette_bread":{"id":"baguette_bread","name":"Baguette Bread","keywords":["food","french","france","bakery"],"skins":[{"unified":"1f956","native":"\u{1F956}"}],"version":3},"flatbread":{"id":"flatbread","name":"Flatbread","keywords":["flour","food","bakery"],"skins":[{"unified":"1fad3","native":"\u{1FAD3}"}],"version":13},"pretzel":{"id":"pretzel","name":"Pretzel","keywords":["food","bread","twisted","germany","bakery"],"skins":[{"unified":"1f968","native":"\u{1F968}"}],"version":5},"bagel":{"id":"bagel","name":"Bagel","keywords":["food","bread","bakery","schmear","jewish"],"skins":[{"unified":"1f96f","native":"\u{1F96F}"}],"version":11},"pancakes":{"id":"pancakes","name":"Pancakes","keywords":["food","breakfast","flapjacks","hotcakes","brunch"],"skins":[{"unified":"1f95e","native":"\u{1F95E}"}],"version":3},"waffle":{"id":"waffle","name":"Waffle","keywords":["food","breakfast","brunch"],"skins":[{"unified":"1f9c7","native":"\u{1F9C7}"}],"version":12},"cheese_wedge":{"id":"cheese_wedge","name":"Cheese Wedge","keywords":["food","chadder","swiss"],"skins":[{"unified":"1f9c0","native":"\u{1F9C0}"}],"version":1},"meat_on_bone":{"id":"meat_on_bone","name":"Meat on Bone","keywords":["good","food","drumstick"],"skins":[{"unified":"1f356","native":"\u{1F356}"}],"version":1},"poultry_leg":{"id":"poultry_leg","name":"Poultry Leg","keywords":["food","meat","drumstick","bird","chicken","turkey"],"skins":[{"unified":"1f357","native":"\u{1F357}"}],"version":1},"cut_of_meat":{"id":"cut_of_meat","name":"Cut of Meat","keywords":["food","cow","chop","lambchop","porkchop"],"skins":[{"unified":"1f969","native":"\u{1F969}"}],"version":5},"bacon":{"id":"bacon","name":"Bacon","keywords":["food","breakfast","pork","pig","meat","brunch"],"skins":[{"unified":"1f953","native":"\u{1F953}"}],"version":3},"hamburger":{"id":"hamburger","name":"Hamburger","keywords":["meat","fast","food","beef","cheeseburger","mcdonalds","burger","king"],"skins":[{"unified":"1f354","native":"\u{1F354}"}],"version":1},"fries":{"id":"fries","name":"French Fries","keywords":["chips","snack","fast","food","potato"],"skins":[{"unified":"1f35f","native":"\u{1F35F}"}],"version":1},"pizza":{"id":"pizza","name":"Pizza","keywords":["food","party","italy"],"skins":[{"unified":"1f355","native":"\u{1F355}"}],"version":1},"hotdog":{"id":"hotdog","name":"Hot Dog","keywords":["hotdog","food","frankfurter","america"],"skins":[{"unified":"1f32d","native":"\u{1F32D}"}],"version":1},"sandwich":{"id":"sandwich","name":"Sandwich","keywords":["food","lunch","bread","toast","bakery"],"skins":[{"unified":"1f96a","native":"\u{1F96A}"}],"version":5},"taco":{"id":"taco","name":"Taco","keywords":["food","mexican"],"skins":[{"unified":"1f32e","native":"\u{1F32E}"}],"version":1},"burrito":{"id":"burrito","name":"Burrito","keywords":["food","mexican"],"skins":[{"unified":"1f32f","native":"\u{1F32F}"}],"version":1},"tamale":{"id":"tamale","name":"Tamale","keywords":["food","masa"],"skins":[{"unified":"1fad4","native":"\u{1FAD4}"}],"version":13},"stuffed_flatbread":{"id":"stuffed_flatbread","name":"Stuffed Flatbread","keywords":["food","gyro","mediterranean"],"skins":[{"unified":"1f959","native":"\u{1F959}"}],"version":3},"falafel":{"id":"falafel","name":"Falafel","keywords":["food","mediterranean"],"skins":[{"unified":"1f9c6","native":"\u{1F9C6}"}],"version":12},"egg":{"id":"egg","name":"Egg","keywords":["food","chicken","breakfast"],"skins":[{"unified":"1f95a","native":"\u{1F95A}"}],"version":3},"fried_egg":{"id":"fried_egg","name":"Cooking","keywords":["fried","egg","food","breakfast","kitchen","skillet"],"skins":[{"unified":"1f373","native":"\u{1F373}"}],"version":1},"shallow_pan_of_food":{"id":"shallow_pan_of_food","name":"Shallow Pan of Food","keywords":["cooking","casserole","paella","skillet"],"skins":[{"unified":"1f958","native":"\u{1F958}"}],"version":3},"stew":{"id":"stew","name":"Pot of Food","keywords":["stew","meat","soup","hot"],"skins":[{"unified":"1f372","native":"\u{1F372}"}],"version":1},"fondue":{"id":"fondue","name":"Fondue","keywords":["cheese","pot","food"],"skins":[{"unified":"1fad5","native":"\u{1FAD5}"}],"version":13},"bowl_with_spoon":{"id":"bowl_with_spoon","name":"Bowl with Spoon","keywords":["food","breakfast","cereal","oatmeal","porridge"],"skins":[{"unified":"1f963","native":"\u{1F963}"}],"version":5},"green_salad":{"id":"green_salad","name":"Green Salad","keywords":["food","healthy","lettuce","vegetable"],"skins":[{"unified":"1f957","native":"\u{1F957}"}],"version":3},"popcorn":{"id":"popcorn","name":"Popcorn","keywords":["food","movie","theater","films","snack","drama"],"skins":[{"unified":"1f37f","native":"\u{1F37F}"}],"version":1},"butter":{"id":"butter","name":"Butter","keywords":["food","cook"],"skins":[{"unified":"1f9c8","native":"\u{1F9C8}"}],"version":12},"salt":{"id":"salt","name":"Salt","keywords":["condiment","shaker"],"skins":[{"unified":"1f9c2","native":"\u{1F9C2}"}],"version":11},"canned_food":{"id":"canned_food","name":"Canned Food","keywords":["soup","tomatoes"],"skins":[{"unified":"1f96b","native":"\u{1F96B}"}],"version":5},"bento":{"id":"bento","name":"Bento Box","keywords":["food","japanese","lunch"],"skins":[{"unified":"1f371","native":"\u{1F371}"}],"version":1},"rice_cracker":{"id":"rice_cracker","name":"Rice Cracker","keywords":["food","japanese","snack"],"skins":[{"unified":"1f358","native":"\u{1F358}"}],"version":1},"rice_ball":{"id":"rice_ball","name":"Rice Ball","keywords":["food","japanese"],"skins":[{"unified":"1f359","native":"\u{1F359}"}],"version":1},"rice":{"id":"rice","name":"Cooked Rice","keywords":["food","asian"],"skins":[{"unified":"1f35a","native":"\u{1F35A}"}],"version":1},"curry":{"id":"curry","name":"Curry Rice","keywords":["food","spicy","hot","indian"],"skins":[{"unified":"1f35b","native":"\u{1F35B}"}],"version":1},"ramen":{"id":"ramen","name":"Steaming Bowl","keywords":["ramen","food","japanese","noodle","chopsticks"],"skins":[{"unified":"1f35c","native":"\u{1F35C}"}],"version":1},"spaghetti":{"id":"spaghetti","name":"Spaghetti","keywords":["food","italian","pasta","noodle"],"skins":[{"unified":"1f35d","native":"\u{1F35D}"}],"version":1},"sweet_potato":{"id":"sweet_potato","name":"Roasted Sweet Potato","keywords":["food","nature","plant"],"skins":[{"unified":"1f360","native":"\u{1F360}"}],"version":1},"oden":{"id":"oden","name":"Oden","keywords":["food","japanese"],"skins":[{"unified":"1f362","native":"\u{1F362}"}],"version":1},"sushi":{"id":"sushi","name":"Sushi","keywords":["food","fish","japanese","rice"],"skins":[{"unified":"1f363","native":"\u{1F363}"}],"version":1},"fried_shrimp":{"id":"fried_shrimp","name":"Fried Shrimp","keywords":["food","animal","appetizer","summer"],"skins":[{"unified":"1f364","native":"\u{1F364}"}],"version":1},"fish_cake":{"id":"fish_cake","name":"Fish Cake with Swirl","keywords":["food","japan","sea","beach","narutomaki","pink","kamaboko","surimi","ramen"],"skins":[{"unified":"1f365","native":"\u{1F365}"}],"version":1},"moon_cake":{"id":"moon_cake","name":"Moon Cake","keywords":["food","autumn","dessert"],"skins":[{"unified":"1f96e","native":"\u{1F96E}"}],"version":11},"dango":{"id":"dango","name":"Dango","keywords":["food","dessert","sweet","japanese","barbecue","meat"],"skins":[{"unified":"1f361","native":"\u{1F361}"}],"version":1},"dumpling":{"id":"dumpling","name":"Dumpling","keywords":["food","empanada","pierogi","potsticker","gyoza"],"skins":[{"unified":"1f95f","native":"\u{1F95F}"}],"version":5},"fortune_cookie":{"id":"fortune_cookie","name":"Fortune Cookie","keywords":["food","prophecy","dessert"],"skins":[{"unified":"1f960","native":"\u{1F960}"}],"version":5},"takeout_box":{"id":"takeout_box","name":"Takeout Box","keywords":["food","leftovers"],"skins":[{"unified":"1f961","native":"\u{1F961}"}],"version":5},"crab":{"id":"crab","name":"Crab","keywords":["animal","crustacean"],"skins":[{"unified":"1f980","native":"\u{1F980}"}],"version":1},"lobster":{"id":"lobster","name":"Lobster","keywords":["animal","nature","bisque","claws","seafood"],"skins":[{"unified":"1f99e","native":"\u{1F99E}"}],"version":11},"shrimp":{"id":"shrimp","name":"Shrimp","keywords":["animal","ocean","nature","seafood"],"skins":[{"unified":"1f990","native":"\u{1F990}"}],"version":3},"squid":{"id":"squid","name":"Squid","keywords":["animal","nature","ocean","sea"],"skins":[{"unified":"1f991","native":"\u{1F991}"}],"version":3},"oyster":{"id":"oyster","name":"Oyster","keywords":["food"],"skins":[{"unified":"1f9aa","native":"\u{1F9AA}"}],"version":12},"icecream":{"id":"icecream","name":"Soft Ice Cream","keywords":["icecream","food","hot","dessert","summer"],"skins":[{"unified":"1f366","native":"\u{1F366}"}],"version":1},"shaved_ice":{"id":"shaved_ice","name":"Shaved Ice","keywords":["hot","dessert","summer"],"skins":[{"unified":"1f367","native":"\u{1F367}"}],"version":1},"ice_cream":{"id":"ice_cream","name":"Ice Cream","keywords":["food","hot","dessert"],"skins":[{"unified":"1f368","native":"\u{1F368}"}],"version":1},"doughnut":{"id":"doughnut","name":"Doughnut","keywords":["food","dessert","snack","sweet","donut"],"skins":[{"unified":"1f369","native":"\u{1F369}"}],"version":1},"cookie":{"id":"cookie","name":"Cookie","keywords":["food","snack","oreo","chocolate","sweet","dessert"],"skins":[{"unified":"1f36a","native":"\u{1F36A}"}],"version":1},"birthday":{"id":"birthday","name":"Birthday Cake","keywords":["food","dessert"],"skins":[{"unified":"1f382","native":"\u{1F382}"}],"version":1},"cake":{"id":"cake","name":"Shortcake","keywords":["cake","food","dessert"],"skins":[{"unified":"1f370","native":"\u{1F370}"}],"version":1},"cupcake":{"id":"cupcake","name":"Cupcake","keywords":["food","dessert","bakery","sweet"],"skins":[{"unified":"1f9c1","native":"\u{1F9C1}"}],"version":11},"pie":{"id":"pie","name":"Pie","keywords":["food","dessert","pastry"],"skins":[{"unified":"1f967","native":"\u{1F967}"}],"version":5},"chocolate_bar":{"id":"chocolate_bar","name":"Chocolate Bar","keywords":["food","snack","dessert","sweet"],"skins":[{"unified":"1f36b","native":"\u{1F36B}"}],"version":1},"candy":{"id":"candy","name":"Candy","keywords":["snack","dessert","sweet","lolly"],"skins":[{"unified":"1f36c","native":"\u{1F36C}"}],"version":1},"lollipop":{"id":"lollipop","name":"Lollipop","keywords":["food","snack","candy","sweet"],"skins":[{"unified":"1f36d","native":"\u{1F36D}"}],"version":1},"custard":{"id":"custard","name":"Custard","keywords":["dessert","food"],"skins":[{"unified":"1f36e","native":"\u{1F36E}"}],"version":1},"honey_pot":{"id":"honey_pot","name":"Honey Pot","keywords":["bees","sweet","kitchen"],"skins":[{"unified":"1f36f","native":"\u{1F36F}"}],"version":1},"baby_bottle":{"id":"baby_bottle","name":"Baby Bottle","keywords":["food","container","milk"],"skins":[{"unified":"1f37c","native":"\u{1F37C}"}],"version":1},"glass_of_milk":{"id":"glass_of_milk","name":"Glass of Milk","keywords":["beverage","drink","cow"],"skins":[{"unified":"1f95b","native":"\u{1F95B}"}],"version":3},"coffee":{"id":"coffee","name":"Hot Beverage","keywords":["coffee","caffeine","latte","espresso","mug"],"skins":[{"unified":"2615","native":"\u2615"}],"version":1},"teapot":{"id":"teapot","name":"Teapot","keywords":["drink","hot"],"skins":[{"unified":"1fad6","native":"\u{1FAD6}"}],"version":13},"tea":{"id":"tea","name":"Teacup Without Handle","keywords":["tea","drink","bowl","breakfast","green","british"],"skins":[{"unified":"1f375","native":"\u{1F375}"}],"version":1},"sake":{"id":"sake","name":"Sake","keywords":["wine","drink","drunk","beverage","japanese","alcohol","booze"],"skins":[{"unified":"1f376","native":"\u{1F376}"}],"version":1},"champagne":{"id":"champagne","name":"Bottle with Popping Cork","keywords":["champagne","drink","wine","celebration"],"skins":[{"unified":"1f37e","native":"\u{1F37E}"}],"version":1},"wine_glass":{"id":"wine_glass","name":"Wine Glass","keywords":["drink","beverage","drunk","alcohol","booze"],"skins":[{"unified":"1f377","native":"\u{1F377}"}],"version":1},"cocktail":{"id":"cocktail","name":"Cocktail Glass","keywords":["drink","drunk","alcohol","beverage","booze","mojito"],"skins":[{"unified":"1f378","native":"\u{1F378}"}],"version":1},"tropical_drink":{"id":"tropical_drink","name":"Tropical Drink","keywords":["beverage","cocktail","summer","beach","alcohol","booze","mojito"],"skins":[{"unified":"1f379","native":"\u{1F379}"}],"version":1},"beer":{"id":"beer","name":"Beer Mug","keywords":["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],"skins":[{"unified":"1f37a","native":"\u{1F37A}"}],"version":1},"beers":{"id":"beers","name":"Clinking Beer Mugs","keywords":["beers","relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],"skins":[{"unified":"1f37b","native":"\u{1F37B}"}],"version":1},"clinking_glasses":{"id":"clinking_glasses","name":"Clinking Glasses","keywords":["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],"skins":[{"unified":"1f942","native":"\u{1F942}"}],"version":3},"tumbler_glass":{"id":"tumbler_glass","name":"Tumbler Glass","keywords":["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","shot"],"skins":[{"unified":"1f943","native":"\u{1F943}"}],"version":3},"pouring_liquid":{"id":"pouring_liquid","name":"Pouring Liquid","keywords":["cup","water"],"skins":[{"unified":"1fad7","native":"\u{1FAD7}"}],"version":14},"cup_with_straw":{"id":"cup_with_straw","name":"Cup with Straw","keywords":["drink","soda"],"skins":[{"unified":"1f964","native":"\u{1F964}"}],"version":5},"bubble_tea":{"id":"bubble_tea","name":"Bubble Tea","keywords":["taiwan","boba","milk","straw"],"skins":[{"unified":"1f9cb","native":"\u{1F9CB}"}],"version":13},"beverage_box":{"id":"beverage_box","name":"Beverage Box","keywords":["drink"],"skins":[{"unified":"1f9c3","native":"\u{1F9C3}"}],"version":12},"mate_drink":{"id":"mate_drink","name":"Mate","keywords":["drink","tea","beverage"],"skins":[{"unified":"1f9c9","native":"\u{1F9C9}"}],"version":12},"ice_cube":{"id":"ice_cube","name":"Ice","keywords":["cube","water","cold"],"skins":[{"unified":"1f9ca","native":"\u{1F9CA}"}],"version":12},"chopsticks":{"id":"chopsticks","name":"Chopsticks","keywords":["food"],"skins":[{"unified":"1f962","native":"\u{1F962}"}],"version":5},"knife_fork_plate":{"id":"knife_fork_plate","name":"Fork and Knife with Plate","keywords":["food","eat","meal","lunch","dinner","restaurant"],"skins":[{"unified":"1f37d-fe0f","native":"\u{1F37D}\uFE0F"}],"version":1},"fork_and_knife":{"id":"fork_and_knife","name":"Fork and Knife","keywords":["cutlery","kitchen"],"skins":[{"unified":"1f374","native":"\u{1F374}"}],"version":1},"spoon":{"id":"spoon","name":"Spoon","keywords":["cutlery","kitchen","tableware"],"skins":[{"unified":"1f944","native":"\u{1F944}"}],"version":3},"hocho":{"id":"hocho","name":"Hocho","keywords":["knife","kitchen","blade","cutlery","weapon"],"skins":[{"unified":"1f52a","native":"\u{1F52A}"}],"version":1},"jar":{"id":"jar","name":"Jar","keywords":["container","sauce"],"skins":[{"unified":"1fad9","native":"\u{1FAD9}"}],"version":14},"amphora":{"id":"amphora","name":"Amphora","keywords":["vase","jar"],"skins":[{"unified":"1f3fa","native":"\u{1F3FA}"}],"version":1},"earth_africa":{"id":"earth_africa","name":"Earth Globe Europe-Africa","keywords":["africa","showing","europe","world","international"],"skins":[{"unified":"1f30d","native":"\u{1F30D}"}],"version":1},"earth_americas":{"id":"earth_americas","name":"Earth Globe Americas","keywords":["showing","world","USA","international"],"skins":[{"unified":"1f30e","native":"\u{1F30E}"}],"version":1},"earth_asia":{"id":"earth_asia","name":"Earth Globe Asia-Australia","keywords":["asia","showing","australia","world","east","international"],"skins":[{"unified":"1f30f","native":"\u{1F30F}"}],"version":1},"globe_with_meridians":{"id":"globe_with_meridians","name":"Globe with Meridians","keywords":["earth","international","world","internet","interweb","i18n"],"skins":[{"unified":"1f310","native":"\u{1F310}"}],"version":1},"world_map":{"id":"world_map","name":"World Map","keywords":["location","direction"],"skins":[{"unified":"1f5fa-fe0f","native":"\u{1F5FA}\uFE0F"}],"version":1},"japan":{"id":"japan","name":"Map of Japan","keywords":["nation","country","japanese","asia"],"skins":[{"unified":"1f5fe","native":"\u{1F5FE}"}],"version":1},"compass":{"id":"compass","name":"Compass","keywords":["magnetic","navigation","orienteering"],"skins":[{"unified":"1f9ed","native":"\u{1F9ED}"}],"version":11},"snow_capped_mountain":{"id":"snow_capped_mountain","name":"Snow-Capped Mountain","keywords":["snow","capped","photo","nature","environment","winter","cold"],"skins":[{"unified":"1f3d4-fe0f","native":"\u{1F3D4}\uFE0F"}],"version":1},"mountain":{"id":"mountain","name":"Mountain","keywords":["photo","nature","environment"],"skins":[{"unified":"26f0-fe0f","native":"\u26F0\uFE0F"}],"version":1},"volcano":{"id":"volcano","name":"Volcano","keywords":["photo","nature","disaster"],"skins":[{"unified":"1f30b","native":"\u{1F30B}"}],"version":1},"mount_fuji":{"id":"mount_fuji","name":"Mount Fuji","keywords":["photo","mountain","nature","japanese"],"skins":[{"unified":"1f5fb","native":"\u{1F5FB}"}],"version":1},"camping":{"id":"camping","name":"Camping","keywords":["photo","outdoors","tent"],"skins":[{"unified":"1f3d5-fe0f","native":"\u{1F3D5}\uFE0F"}],"version":1},"beach_with_umbrella":{"id":"beach_with_umbrella","name":"Beach with Umbrella","keywords":["weather","summer","sunny","sand","mojito"],"skins":[{"unified":"1f3d6-fe0f","native":"\u{1F3D6}\uFE0F"}],"version":1},"desert":{"id":"desert","name":"Desert","keywords":["photo","warm","saharah"],"skins":[{"unified":"1f3dc-fe0f","native":"\u{1F3DC}\uFE0F"}],"version":1},"desert_island":{"id":"desert_island","name":"Desert Island","keywords":["photo","tropical","mojito"],"skins":[{"unified":"1f3dd-fe0f","native":"\u{1F3DD}\uFE0F"}],"version":1},"national_park":{"id":"national_park","name":"National Park","keywords":["photo","environment","nature"],"skins":[{"unified":"1f3de-fe0f","native":"\u{1F3DE}\uFE0F"}],"version":1},"stadium":{"id":"stadium","name":"Stadium","keywords":["photo","place","sports","concert","venue"],"skins":[{"unified":"1f3df-fe0f","native":"\u{1F3DF}\uFE0F"}],"version":1},"classical_building":{"id":"classical_building","name":"Classical Building","keywords":["art","culture","history"],"skins":[{"unified":"1f3db-fe0f","native":"\u{1F3DB}\uFE0F"}],"version":1},"building_construction":{"id":"building_construction","name":"Building Construction","keywords":["wip","working","progress"],"skins":[{"unified":"1f3d7-fe0f","native":"\u{1F3D7}\uFE0F"}],"version":1},"bricks":{"id":"bricks","name":"Brick","keywords":["bricks"],"skins":[{"unified":"1f9f1","native":"\u{1F9F1}"}],"version":11},"rock":{"id":"rock","name":"Rock","keywords":["stone"],"skins":[{"unified":"1faa8","native":"\u{1FAA8}"}],"version":13},"wood":{"id":"wood","name":"Wood","keywords":["nature","timber","trunk"],"skins":[{"unified":"1fab5","native":"\u{1FAB5}"}],"version":13},"hut":{"id":"hut","name":"Hut","keywords":["house","structure"],"skins":[{"unified":"1f6d6","native":"\u{1F6D6}"}],"version":13},"house_buildings":{"id":"house_buildings","name":"Houses","keywords":["house","buildings","photo"],"skins":[{"unified":"1f3d8-fe0f","native":"\u{1F3D8}\uFE0F"}],"version":1},"derelict_house_building":{"id":"derelict_house_building","name":"Derelict House","keywords":["building","abandon","evict","broken"],"skins":[{"unified":"1f3da-fe0f","native":"\u{1F3DA}\uFE0F"}],"version":1},"house":{"id":"house","name":"House","keywords":["building","home"],"skins":[{"unified":"1f3e0","native":"\u{1F3E0}"}],"version":1},"house_with_garden":{"id":"house_with_garden","name":"House with Garden","keywords":["home","plant","nature"],"skins":[{"unified":"1f3e1","native":"\u{1F3E1}"}],"version":1},"office":{"id":"office","name":"Office Building","keywords":["bureau","work"],"skins":[{"unified":"1f3e2","native":"\u{1F3E2}"}],"version":1},"post_office":{"id":"post_office","name":"Japanese Post Office","keywords":["building","envelope","communication"],"skins":[{"unified":"1f3e3","native":"\u{1F3E3}"}],"version":1},"european_post_office":{"id":"european_post_office","name":"Post Office","keywords":["european","building","email"],"skins":[{"unified":"1f3e4","native":"\u{1F3E4}"}],"version":1},"hospital":{"id":"hospital","name":"Hospital","keywords":["building","health","surgery","doctor"],"skins":[{"unified":"1f3e5","native":"\u{1F3E5}"}],"version":1},"bank":{"id":"bank","name":"Bank","keywords":["building","money","sales","cash","business","enterprise"],"skins":[{"unified":"1f3e6","native":"\u{1F3E6}"}],"version":1},"hotel":{"id":"hotel","name":"Hotel","keywords":["building","accomodation","checkin"],"skins":[{"unified":"1f3e8","native":"\u{1F3E8}"}],"version":1},"love_hotel":{"id":"love_hotel","name":"Love Hotel","keywords":["like","affection","dating"],"skins":[{"unified":"1f3e9","native":"\u{1F3E9}"}],"version":1},"convenience_store":{"id":"convenience_store","name":"Convenience Store","keywords":["building","shopping","groceries"],"skins":[{"unified":"1f3ea","native":"\u{1F3EA}"}],"version":1},"school":{"id":"school","name":"School","keywords":["building","student","education","learn","teach"],"skins":[{"unified":"1f3eb","native":"\u{1F3EB}"}],"version":1},"department_store":{"id":"department_store","name":"Department Store","keywords":["building","shopping","mall"],"skins":[{"unified":"1f3ec","native":"\u{1F3EC}"}],"version":1},"factory":{"id":"factory","name":"Factory","keywords":["building","industry","pollution","smoke"],"skins":[{"unified":"1f3ed","native":"\u{1F3ED}"}],"version":1},"japanese_castle":{"id":"japanese_castle","name":"Japanese Castle","keywords":["photo","building"],"skins":[{"unified":"1f3ef","native":"\u{1F3EF}"}],"version":1},"european_castle":{"id":"european_castle","name":"Castle","keywords":["european","building","royalty","history"],"skins":[{"unified":"1f3f0","native":"\u{1F3F0}"}],"version":1},"wedding":{"id":"wedding","name":"Wedding","keywords":["love","like","affection","couple","marriage","bride","groom"],"skins":[{"unified":"1f492","native":"\u{1F492}"}],"version":1},"tokyo_tower":{"id":"tokyo_tower","name":"Tokyo Tower","keywords":["photo","japanese"],"skins":[{"unified":"1f5fc","native":"\u{1F5FC}"}],"version":1},"statue_of_liberty":{"id":"statue_of_liberty","name":"Statue of Liberty","keywords":["american","newyork"],"skins":[{"unified":"1f5fd","native":"\u{1F5FD}"}],"version":1},"church":{"id":"church","name":"Church","keywords":["building","religion","christ"],"skins":[{"unified":"26ea","native":"\u26EA"}],"version":1},"mosque":{"id":"mosque","name":"Mosque","keywords":["islam","worship","minaret"],"skins":[{"unified":"1f54c","native":"\u{1F54C}"}],"version":1},"hindu_temple":{"id":"hindu_temple","name":"Hindu Temple","keywords":["religion"],"skins":[{"unified":"1f6d5","native":"\u{1F6D5}"}],"version":12},"synagogue":{"id":"synagogue","name":"Synagogue","keywords":["judaism","worship","temple","jewish"],"skins":[{"unified":"1f54d","native":"\u{1F54D}"}],"version":1},"shinto_shrine":{"id":"shinto_shrine","name":"Shinto Shrine","keywords":["temple","japan","kyoto"],"skins":[{"unified":"26e9-fe0f","native":"\u26E9\uFE0F"}],"version":1},"kaaba":{"id":"kaaba","name":"Kaaba","keywords":["mecca","mosque","islam"],"skins":[{"unified":"1f54b","native":"\u{1F54B}"}],"version":1},"fountain":{"id":"fountain","name":"Fountain","keywords":["photo","summer","water","fresh"],"skins":[{"unified":"26f2","native":"\u26F2"}],"version":1},"tent":{"id":"tent","name":"Tent","keywords":["photo","camping","outdoors"],"skins":[{"unified":"26fa","native":"\u26FA"}],"version":1},"foggy":{"id":"foggy","name":"Foggy","keywords":["photo","mountain"],"skins":[{"unified":"1f301","native":"\u{1F301}"}],"version":1},"night_with_stars":{"id":"night_with_stars","name":"Night with Stars","keywords":["evening","city","downtown"],"skins":[{"unified":"1f303","native":"\u{1F303}"}],"version":1},"cityscape":{"id":"cityscape","name":"Cityscape","keywords":["photo","night","life","urban"],"skins":[{"unified":"1f3d9-fe0f","native":"\u{1F3D9}\uFE0F"}],"version":1},"sunrise_over_mountains":{"id":"sunrise_over_mountains","name":"Sunrise over Mountains","keywords":["view","vacation","photo"],"skins":[{"unified":"1f304","native":"\u{1F304}"}],"version":1},"sunrise":{"id":"sunrise","name":"Sunrise","keywords":["morning","view","vacation","photo"],"skins":[{"unified":"1f305","native":"\u{1F305}"}],"version":1},"city_sunset":{"id":"city_sunset","name":"Cityscape at Dusk","keywords":["city","sunset","photo","evening","sky","buildings"],"skins":[{"unified":"1f306","native":"\u{1F306}"}],"version":1},"city_sunrise":{"id":"city_sunrise","name":"Sunset","keywords":["city","sunrise","photo","good","morning","dawn"],"skins":[{"unified":"1f307","native":"\u{1F307}"}],"version":1},"bridge_at_night":{"id":"bridge_at_night","name":"Bridge at Night","keywords":["photo","sanfrancisco"],"skins":[{"unified":"1f309","native":"\u{1F309}"}],"version":1},"hotsprings":{"id":"hotsprings","name":"Hot Springs","keywords":["hotsprings","bath","warm","relax"],"skins":[{"unified":"2668-fe0f","native":"\u2668\uFE0F"}],"version":1},"carousel_horse":{"id":"carousel_horse","name":"Carousel Horse","keywords":["photo","carnival"],"skins":[{"unified":"1f3a0","native":"\u{1F3A0}"}],"version":1},"playground_slide":{"id":"playground_slide","name":"Playground Slide","keywords":["fun","park"],"skins":[{"unified":"1f6dd","native":"\u{1F6DD}"}],"version":14},"ferris_wheel":{"id":"ferris_wheel","name":"Ferris Wheel","keywords":["photo","carnival","londoneye"],"skins":[{"unified":"1f3a1","native":"\u{1F3A1}"}],"version":1},"roller_coaster":{"id":"roller_coaster","name":"Roller Coaster","keywords":["carnival","playground","photo","fun"],"skins":[{"unified":"1f3a2","native":"\u{1F3A2}"}],"version":1},"barber":{"id":"barber","name":"Barber Pole","keywords":["hair","salon","style"],"skins":[{"unified":"1f488","native":"\u{1F488}"}],"version":1},"circus_tent":{"id":"circus_tent","name":"Circus Tent","keywords":["festival","carnival","party"],"skins":[{"unified":"1f3aa","native":"\u{1F3AA}"}],"version":1},"steam_locomotive":{"id":"steam_locomotive","name":"Locomotive","keywords":["steam","transportation","vehicle","train"],"skins":[{"unified":"1f682","native":"\u{1F682}"}],"version":1},"railway_car":{"id":"railway_car","name":"Railway Car","keywords":["transportation","vehicle"],"skins":[{"unified":"1f683","native":"\u{1F683}"}],"version":1},"bullettrain_side":{"id":"bullettrain_side","name":"High-Speed Train","keywords":["bullettrain","side","high","speed","transportation","vehicle"],"skins":[{"unified":"1f684","native":"\u{1F684}"}],"version":1},"bullettrain_front":{"id":"bullettrain_front","name":"Bullet Train","keywords":["bullettrain","front","transportation","vehicle","speed","fast","public","travel"],"skins":[{"unified":"1f685","native":"\u{1F685}"}],"version":1},"train2":{"id":"train2","name":"Train","keywords":["train2","transportation","vehicle"],"skins":[{"unified":"1f686","native":"\u{1F686}"}],"version":1},"metro":{"id":"metro","name":"Metro","keywords":["transportation","blue","square","mrt","underground","tube"],"skins":[{"unified":"1f687","native":"\u{1F687}"}],"version":1},"light_rail":{"id":"light_rail","name":"Light Rail","keywords":["transportation","vehicle"],"skins":[{"unified":"1f688","native":"\u{1F688}"}],"version":1},"station":{"id":"station","name":"Station","keywords":["transportation","vehicle","public"],"skins":[{"unified":"1f689","native":"\u{1F689}"}],"version":1},"tram":{"id":"tram","name":"Tram","keywords":["transportation","vehicle"],"skins":[{"unified":"1f68a","native":"\u{1F68A}"}],"version":1},"monorail":{"id":"monorail","name":"Monorail","keywords":["transportation","vehicle"],"skins":[{"unified":"1f69d","native":"\u{1F69D}"}],"version":1},"mountain_railway":{"id":"mountain_railway","name":"Mountain Railway","keywords":["transportation","vehicle"],"skins":[{"unified":"1f69e","native":"\u{1F69E}"}],"version":1},"train":{"id":"train","name":"Tram Car","keywords":["train","transportation","vehicle","carriage","public","travel"],"skins":[{"unified":"1f68b","native":"\u{1F68B}"}],"version":1},"bus":{"id":"bus","name":"Bus","keywords":["car","vehicle","transportation"],"skins":[{"unified":"1f68c","native":"\u{1F68C}"}],"version":1},"oncoming_bus":{"id":"oncoming_bus","name":"Oncoming Bus","keywords":["vehicle","transportation"],"skins":[{"unified":"1f68d","native":"\u{1F68D}"}],"version":1},"trolleybus":{"id":"trolleybus","name":"Trolleybus","keywords":["bart","transportation","vehicle"],"skins":[{"unified":"1f68e","native":"\u{1F68E}"}],"version":1},"minibus":{"id":"minibus","name":"Minibus","keywords":["vehicle","car","transportation"],"skins":[{"unified":"1f690","native":"\u{1F690}"}],"version":1},"ambulance":{"id":"ambulance","name":"Ambulance","keywords":["health","911","hospital"],"skins":[{"unified":"1f691","native":"\u{1F691}"}],"version":1},"fire_engine":{"id":"fire_engine","name":"Fire Engine","keywords":["transportation","cars","vehicle"],"skins":[{"unified":"1f692","native":"\u{1F692}"}],"version":1},"police_car":{"id":"police_car","name":"Police Car","keywords":["vehicle","cars","transportation","law","legal","enforcement"],"skins":[{"unified":"1f693","native":"\u{1F693}"}],"version":1},"oncoming_police_car":{"id":"oncoming_police_car","name":"Oncoming Police Car","keywords":["vehicle","law","legal","enforcement","911"],"skins":[{"unified":"1f694","native":"\u{1F694}"}],"version":1},"taxi":{"id":"taxi","name":"Taxi","keywords":["uber","vehicle","cars","transportation"],"skins":[{"unified":"1f695","native":"\u{1F695}"}],"version":1},"oncoming_taxi":{"id":"oncoming_taxi","name":"Oncoming Taxi","keywords":["vehicle","cars","uber"],"skins":[{"unified":"1f696","native":"\u{1F696}"}],"version":1},"car":{"id":"car","name":"Automobile","keywords":["car","red","transportation","vehicle"],"skins":[{"unified":"1f697","native":"\u{1F697}"}],"version":1},"oncoming_automobile":{"id":"oncoming_automobile","name":"Oncoming Automobile","keywords":["car","vehicle","transportation"],"skins":[{"unified":"1f698","native":"\u{1F698}"}],"version":1},"blue_car":{"id":"blue_car","name":"Recreational Vehicle","keywords":["blue","car","sport","utility","transportation"],"skins":[{"unified":"1f699","native":"\u{1F699}"}],"version":1},"pickup_truck":{"id":"pickup_truck","name":"Pickup Truck","keywords":["car","transportation"],"skins":[{"unified":"1f6fb","native":"\u{1F6FB}"}],"version":13},"truck":{"id":"truck","name":"Delivery Truck","keywords":["cars","transportation"],"skins":[{"unified":"1f69a","native":"\u{1F69A}"}],"version":1},"articulated_lorry":{"id":"articulated_lorry","name":"Articulated Lorry","keywords":["vehicle","cars","transportation","express"],"skins":[{"unified":"1f69b","native":"\u{1F69B}"}],"version":1},"tractor":{"id":"tractor","name":"Tractor","keywords":["vehicle","car","farming","agriculture"],"skins":[{"unified":"1f69c","native":"\u{1F69C}"}],"version":1},"racing_car":{"id":"racing_car","name":"Racing Car","keywords":["sports","race","fast","formula","f1"],"skins":[{"unified":"1f3ce-fe0f","native":"\u{1F3CE}\uFE0F"}],"version":1},"racing_motorcycle":{"id":"racing_motorcycle","name":"Motorcycle","keywords":["racing","race","sports","fast"],"skins":[{"unified":"1f3cd-fe0f","native":"\u{1F3CD}\uFE0F"}],"version":1},"motor_scooter":{"id":"motor_scooter","name":"Motor Scooter","keywords":["vehicle","vespa","sasha"],"skins":[{"unified":"1f6f5","native":"\u{1F6F5}"}],"version":3},"manual_wheelchair":{"id":"manual_wheelchair","name":"Manual Wheelchair","keywords":["accessibility"],"skins":[{"unified":"1f9bd","native":"\u{1F9BD}"}],"version":12},"motorized_wheelchair":{"id":"motorized_wheelchair","name":"Motorized Wheelchair","keywords":["accessibility"],"skins":[{"unified":"1f9bc","native":"\u{1F9BC}"}],"version":12},"auto_rickshaw":{"id":"auto_rickshaw","name":"Auto Rickshaw","keywords":["move","transportation"],"skins":[{"unified":"1f6fa","native":"\u{1F6FA}"}],"version":12},"bike":{"id":"bike","name":"Bicycle","keywords":["bike","sports","exercise","hipster"],"skins":[{"unified":"1f6b2","native":"\u{1F6B2}"}],"version":1},"scooter":{"id":"scooter","name":"Scooter","keywords":["kick","vehicle","razor"],"skins":[{"unified":"1f6f4","native":"\u{1F6F4}"}],"version":3},"skateboard":{"id":"skateboard","name":"Skateboard","keywords":["board"],"skins":[{"unified":"1f6f9","native":"\u{1F6F9}"}],"version":11},"roller_skate":{"id":"roller_skate","name":"Roller Skate","keywords":["footwear","sports"],"skins":[{"unified":"1f6fc","native":"\u{1F6FC}"}],"version":13},"busstop":{"id":"busstop","name":"Bus Stop","keywords":["busstop","transportation","wait"],"skins":[{"unified":"1f68f","native":"\u{1F68F}"}],"version":1},"motorway":{"id":"motorway","name":"Motorway","keywords":["road","cupertino","interstate","highway"],"skins":[{"unified":"1f6e3-fe0f","native":"\u{1F6E3}\uFE0F"}],"version":1},"railway_track":{"id":"railway_track","name":"Railway Track","keywords":["train","transportation"],"skins":[{"unified":"1f6e4-fe0f","native":"\u{1F6E4}\uFE0F"}],"version":1},"oil_drum":{"id":"oil_drum","name":"Oil Drum","keywords":["barrell"],"skins":[{"unified":"1f6e2-fe0f","native":"\u{1F6E2}\uFE0F"}],"version":1},"fuelpump":{"id":"fuelpump","name":"Fuel Pump","keywords":["fuelpump","gas","station","petroleum"],"skins":[{"unified":"26fd","native":"\u26FD"}],"version":1},"wheel":{"id":"wheel","name":"Wheel","keywords":["car","transport"],"skins":[{"unified":"1f6de","native":"\u{1F6DE}"}],"version":14},"rotating_light":{"id":"rotating_light","name":"Police Car Light","keywords":["rotating","ambulance","911","emergency","alert","error","pinged","law","legal"],"skins":[{"unified":"1f6a8","native":"\u{1F6A8}"}],"version":1},"traffic_light":{"id":"traffic_light","name":"Horizontal Traffic Light","keywords":["transportation","signal"],"skins":[{"unified":"1f6a5","native":"\u{1F6A5}"}],"version":1},"vertical_traffic_light":{"id":"vertical_traffic_light","name":"Vertical Traffic Light","keywords":["transportation","driving"],"skins":[{"unified":"1f6a6","native":"\u{1F6A6}"}],"version":1},"octagonal_sign":{"id":"octagonal_sign","name":"Stop Sign","keywords":["octagonal"],"skins":[{"unified":"1f6d1","native":"\u{1F6D1}"}],"version":3},"construction":{"id":"construction","name":"Construction","keywords":["wip","progress","caution","warning"],"skins":[{"unified":"1f6a7","native":"\u{1F6A7}"}],"version":1},"anchor":{"id":"anchor","name":"Anchor","keywords":["ship","ferry","sea","boat"],"skins":[{"unified":"2693","native":"\u2693"}],"version":1},"ring_buoy":{"id":"ring_buoy","name":"Ring Buoy","keywords":["life","saver","preserver"],"skins":[{"unified":"1f6df","native":"\u{1F6DF}"}],"version":14},"boat":{"id":"boat","name":"Sailboat","keywords":["boat","ship","summer","transportation","water","sailing"],"skins":[{"unified":"26f5","native":"\u26F5"}],"version":1},"canoe":{"id":"canoe","name":"Canoe","keywords":["boat","paddle","water","ship"],"skins":[{"unified":"1f6f6","native":"\u{1F6F6}"}],"version":3},"speedboat":{"id":"speedboat","name":"Speedboat","keywords":["ship","transportation","vehicle","summer"],"skins":[{"unified":"1f6a4","native":"\u{1F6A4}"}],"version":1},"passenger_ship":{"id":"passenger_ship","name":"Passenger Ship","keywords":["yacht","cruise","ferry"],"skins":[{"unified":"1f6f3-fe0f","native":"\u{1F6F3}\uFE0F"}],"version":1},"ferry":{"id":"ferry","name":"Ferry","keywords":["boat","ship","yacht"],"skins":[{"unified":"26f4-fe0f","native":"\u26F4\uFE0F"}],"version":1},"motor_boat":{"id":"motor_boat","name":"Motor Boat","keywords":["ship"],"skins":[{"unified":"1f6e5-fe0f","native":"\u{1F6E5}\uFE0F"}],"version":1},"ship":{"id":"ship","name":"Ship","keywords":["transportation","titanic","deploy"],"skins":[{"unified":"1f6a2","native":"\u{1F6A2}"}],"version":1},"airplane":{"id":"airplane","name":"Airplane","keywords":["vehicle","transportation","flight","fly"],"skins":[{"unified":"2708-fe0f","native":"\u2708\uFE0F"}],"version":1},"small_airplane":{"id":"small_airplane","name":"Small Airplane","keywords":["flight","transportation","fly","vehicle"],"skins":[{"unified":"1f6e9-fe0f","native":"\u{1F6E9}\uFE0F"}],"version":1},"airplane_departure":{"id":"airplane_departure","name":"Airplane Departure","keywords":["airport","flight","landing"],"skins":[{"unified":"1f6eb","native":"\u{1F6EB}"}],"version":1},"airplane_arriving":{"id":"airplane_arriving","name":"Airplane Arrival","keywords":["arriving","airport","flight","boarding"],"skins":[{"unified":"1f6ec","native":"\u{1F6EC}"}],"version":1},"parachute":{"id":"parachute","name":"Parachute","keywords":["fly","glide"],"skins":[{"unified":"1fa82","native":"\u{1FA82}"}],"version":12},"seat":{"id":"seat","name":"Seat","keywords":["sit","airplane","transport","bus","flight","fly"],"skins":[{"unified":"1f4ba","native":"\u{1F4BA}"}],"version":1},"helicopter":{"id":"helicopter","name":"Helicopter","keywords":["transportation","vehicle","fly"],"skins":[{"unified":"1f681","native":"\u{1F681}"}],"version":1},"suspension_railway":{"id":"suspension_railway","name":"Suspension Railway","keywords":["vehicle","transportation"],"skins":[{"unified":"1f69f","native":"\u{1F69F}"}],"version":1},"mountain_cableway":{"id":"mountain_cableway","name":"Mountain Cableway","keywords":["transportation","vehicle","ski"],"skins":[{"unified":"1f6a0","native":"\u{1F6A0}"}],"version":1},"aerial_tramway":{"id":"aerial_tramway","name":"Aerial Tramway","keywords":["transportation","vehicle","ski"],"skins":[{"unified":"1f6a1","native":"\u{1F6A1}"}],"version":1},"satellite":{"id":"satellite","name":"Satellite","keywords":["communication","gps","orbit","spaceflight","NASA","ISS"],"skins":[{"unified":"1f6f0-fe0f","native":"\u{1F6F0}\uFE0F"}],"version":1},"rocket":{"id":"rocket","name":"Rocket","keywords":["launch","ship","staffmode","NASA","outer","space","fly"],"skins":[{"unified":"1f680","native":"\u{1F680}"}],"version":1},"flying_saucer":{"id":"flying_saucer","name":"Flying Saucer","keywords":["transportation","vehicle","ufo"],"skins":[{"unified":"1f6f8","native":"\u{1F6F8}"}],"version":5},"bellhop_bell":{"id":"bellhop_bell","name":"Bellhop Bell","keywords":["service"],"skins":[{"unified":"1f6ce-fe0f","native":"\u{1F6CE}\uFE0F"}],"version":1},"luggage":{"id":"luggage","name":"Luggage","keywords":["packing","travel"],"skins":[{"unified":"1f9f3","native":"\u{1F9F3}"}],"version":11},"hourglass":{"id":"hourglass","name":"Hourglass","keywords":["done","time","clock","oldschool","limit","exam","quiz","test"],"skins":[{"unified":"231b","native":"\u231B"}],"version":1},"hourglass_flowing_sand":{"id":"hourglass_flowing_sand","name":"Hourglass Not Done","keywords":["flowing","sand","oldschool","time","countdown"],"skins":[{"unified":"23f3","native":"\u23F3"}],"version":1},"watch":{"id":"watch","name":"Watch","keywords":["time","accessories"],"skins":[{"unified":"231a","native":"\u231A"}],"version":1},"alarm_clock":{"id":"alarm_clock","name":"Alarm Clock","keywords":["time","wake"],"skins":[{"unified":"23f0","native":"\u23F0"}],"version":1},"stopwatch":{"id":"stopwatch","name":"Stopwatch","keywords":["time","deadline"],"skins":[{"unified":"23f1-fe0f","native":"\u23F1\uFE0F"}],"version":1},"timer_clock":{"id":"timer_clock","name":"Timer Clock","keywords":["alarm"],"skins":[{"unified":"23f2-fe0f","native":"\u23F2\uFE0F"}],"version":1},"mantelpiece_clock":{"id":"mantelpiece_clock","name":"Mantelpiece Clock","keywords":["time"],"skins":[{"unified":"1f570-fe0f","native":"\u{1F570}\uFE0F"}],"version":1},"clock12":{"id":"clock12","name":"Twelve O\u2019clock","keywords":["clock12","o","clock","12","00:00","0000","12:00","1200","time","noon","midnight","midday","late","early","schedule"],"skins":[{"unified":"1f55b","native":"\u{1F55B}"}],"version":1},"clock1230":{"id":"clock1230","name":"Twelve-Thirty","keywords":["clock1230","twelve","thirty","00:30","0030","12:30","1230","time","late","early","schedule"],"skins":[{"unified":"1f567","native":"\u{1F567}"}],"version":1},"clock1":{"id":"clock1","name":"One O\u2019clock","keywords":["clock1","o","clock","1","1:00","100","13:00","1300","time","late","early","schedule"],"skins":[{"unified":"1f550","native":"\u{1F550}"}],"version":1},"clock130":{"id":"clock130","name":"One-Thirty","keywords":["clock130","one","thirty","1:30","130","13:30","1330","time","late","early","schedule"],"skins":[{"unified":"1f55c","native":"\u{1F55C}"}],"version":1},"clock2":{"id":"clock2","name":"Two O\u2019clock","keywords":["clock2","o","clock","2","2:00","200","14:00","1400","time","late","early","schedule"],"skins":[{"unified":"1f551","native":"\u{1F551}"}],"version":1},"clock230":{"id":"clock230","name":"Two-Thirty","keywords":["clock230","two","thirty","2:30","230","14:30","1430","time","late","early","schedule"],"skins":[{"unified":"1f55d","native":"\u{1F55D}"}],"version":1},"clock3":{"id":"clock3","name":"Three O\u2019clock","keywords":["clock3","o","clock","3","3:00","300","15:00","1500","time","late","early","schedule"],"skins":[{"unified":"1f552","native":"\u{1F552}"}],"version":1},"clock330":{"id":"clock330","name":"Three-Thirty","keywords":["clock330","three","thirty","3:30","330","15:30","1530","time","late","early","schedule"],"skins":[{"unified":"1f55e","native":"\u{1F55E}"}],"version":1},"clock4":{"id":"clock4","name":"Four O\u2019clock","keywords":["clock4","o","clock","4","4:00","400","16:00","1600","time","late","early","schedule"],"skins":[{"unified":"1f553","native":"\u{1F553}"}],"version":1},"clock430":{"id":"clock430","name":"Four-Thirty","keywords":["clock430","four","thirty","4:30","430","16:30","1630","time","late","early","schedule"],"skins":[{"unified":"1f55f","native":"\u{1F55F}"}],"version":1},"clock5":{"id":"clock5","name":"Five O\u2019clock","keywords":["clock5","o","clock","5","5:00","500","17:00","1700","time","late","early","schedule"],"skins":[{"unified":"1f554","native":"\u{1F554}"}],"version":1},"clock530":{"id":"clock530","name":"Five-Thirty","keywords":["clock530","five","thirty","5:30","530","17:30","1730","time","late","early","schedule"],"skins":[{"unified":"1f560","native":"\u{1F560}"}],"version":1},"clock6":{"id":"clock6","name":"Six O\u2019clock","keywords":["clock6","o","clock","6","6:00","600","18:00","1800","time","late","early","schedule","dawn","dusk"],"skins":[{"unified":"1f555","native":"\u{1F555}"}],"version":1},"clock630":{"id":"clock630","name":"Six-Thirty","keywords":["clock630","six","thirty","6:30","630","18:30","1830","time","late","early","schedule"],"skins":[{"unified":"1f561","native":"\u{1F561}"}],"version":1},"clock7":{"id":"clock7","name":"Seven O\u2019clock","keywords":["clock7","o","clock","7","7:00","700","19:00","1900","time","late","early","schedule"],"skins":[{"unified":"1f556","native":"\u{1F556}"}],"version":1},"clock730":{"id":"clock730","name":"Seven-Thirty","keywords":["clock730","seven","thirty","7:30","730","19:30","1930","time","late","early","schedule"],"skins":[{"unified":"1f562","native":"\u{1F562}"}],"version":1},"clock8":{"id":"clock8","name":"Eight O\u2019clock","keywords":["clock8","o","clock","8","8:00","800","20:00","2000","time","late","early","schedule"],"skins":[{"unified":"1f557","native":"\u{1F557}"}],"version":1},"clock830":{"id":"clock830","name":"Eight-Thirty","keywords":["clock830","eight","thirty","8:30","830","20:30","2030","time","late","early","schedule"],"skins":[{"unified":"1f563","native":"\u{1F563}"}],"version":1},"clock9":{"id":"clock9","name":"Nine O\u2019clock","keywords":["clock9","o","clock","9","9:00","900","21:00","2100","time","late","early","schedule"],"skins":[{"unified":"1f558","native":"\u{1F558}"}],"version":1},"clock930":{"id":"clock930","name":"Nine-Thirty","keywords":["clock930","nine","thirty","9:30","930","21:30","2130","time","late","early","schedule"],"skins":[{"unified":"1f564","native":"\u{1F564}"}],"version":1},"clock10":{"id":"clock10","name":"Ten O\u2019clock","keywords":["clock10","o","clock","10","10:00","1000","22:00","2200","time","late","early","schedule"],"skins":[{"unified":"1f559","native":"\u{1F559}"}],"version":1},"clock1030":{"id":"clock1030","name":"Ten-Thirty","keywords":["clock1030","ten","thirty","10:30","1030","22:30","2230","time","late","early","schedule"],"skins":[{"unified":"1f565","native":"\u{1F565}"}],"version":1},"clock11":{"id":"clock11","name":"Eleven O\u2019clock","keywords":["clock11","o","clock","11","11:00","1100","23:00","2300","time","late","early","schedule"],"skins":[{"unified":"1f55a","native":"\u{1F55A}"}],"version":1},"clock1130":{"id":"clock1130","name":"Eleven-Thirty","keywords":["clock1130","eleven","thirty","11:30","1130","23:30","2330","time","late","early","schedule"],"skins":[{"unified":"1f566","native":"\u{1F566}"}],"version":1},"new_moon":{"id":"new_moon","name":"New Moon","keywords":["nature","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f311","native":"\u{1F311}"}],"version":1},"waxing_crescent_moon":{"id":"waxing_crescent_moon","name":"Waxing Crescent Moon","keywords":["nature","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f312","native":"\u{1F312}"}],"version":1},"first_quarter_moon":{"id":"first_quarter_moon","name":"First Quarter Moon","keywords":["nature","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f313","native":"\u{1F313}"}],"version":1},"moon":{"id":"moon","name":"Waxing Gibbous Moon","keywords":["nature","night","sky","gray","twilight","planet","space","evening","sleep"],"skins":[{"unified":"1f314","native":"\u{1F314}"}],"version":1},"full_moon":{"id":"full_moon","name":"Full Moon","keywords":["nature","yellow","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f315","native":"\u{1F315}"}],"version":1},"waning_gibbous_moon":{"id":"waning_gibbous_moon","name":"Waning Gibbous Moon","keywords":["nature","twilight","planet","space","night","evening","sleep","waxing"],"skins":[{"unified":"1f316","native":"\u{1F316}"}],"version":1},"last_quarter_moon":{"id":"last_quarter_moon","name":"Last Quarter Moon","keywords":["nature","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f317","native":"\u{1F317}"}],"version":1},"waning_crescent_moon":{"id":"waning_crescent_moon","name":"Waning Crescent Moon","keywords":["nature","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f318","native":"\u{1F318}"}],"version":1},"crescent_moon":{"id":"crescent_moon","name":"Crescent Moon","keywords":["night","sleep","sky","evening","magic"],"skins":[{"unified":"1f319","native":"\u{1F319}"}],"version":1},"new_moon_with_face":{"id":"new_moon_with_face","name":"New Moon Face","keywords":["with","nature","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f31a","native":"\u{1F31A}"}],"version":1},"first_quarter_moon_with_face":{"id":"first_quarter_moon_with_face","name":"First Quarter Moon Face","keywords":["with","nature","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f31b","native":"\u{1F31B}"}],"version":1},"last_quarter_moon_with_face":{"id":"last_quarter_moon_with_face","name":"Last Quarter Moon Face","keywords":["with","nature","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f31c","native":"\u{1F31C}"}],"version":1},"thermometer":{"id":"thermometer","name":"Thermometer","keywords":["weather","temperature","hot","cold"],"skins":[{"unified":"1f321-fe0f","native":"\u{1F321}\uFE0F"}],"version":1},"sunny":{"id":"sunny","name":"Sun","keywords":["sunny","weather","nature","brightness","summer","beach","spring"],"skins":[{"unified":"2600-fe0f","native":"\u2600\uFE0F"}],"version":1},"full_moon_with_face":{"id":"full_moon_with_face","name":"Full Moon Face","keywords":["with","nature","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f31d","native":"\u{1F31D}"}],"version":1},"sun_with_face":{"id":"sun_with_face","name":"Sun with Face","keywords":["nature","morning","sky"],"skins":[{"unified":"1f31e","native":"\u{1F31E}"}],"version":1},"ringed_planet":{"id":"ringed_planet","name":"Ringed Planet","keywords":["outerspace"],"skins":[{"unified":"1fa90","native":"\u{1FA90}"}],"version":12},"star":{"id":"star","name":"Star","keywords":["night","yellow"],"skins":[{"unified":"2b50","native":"\u2B50"}],"version":1},"star2":{"id":"star2","name":"Glowing Star","keywords":["star2","night","sparkle","awesome","good","magic"],"skins":[{"unified":"1f31f","native":"\u{1F31F}"}],"version":1},"stars":{"id":"stars","name":"Shooting Star","keywords":["stars","night","photo"],"skins":[{"unified":"1f320","native":"\u{1F320}"}],"version":1},"milky_way":{"id":"milky_way","name":"Milky Way","keywords":["photo","space","stars"],"skins":[{"unified":"1f30c","native":"\u{1F30C}"}],"version":1},"cloud":{"id":"cloud","name":"Cloud","keywords":["weather","sky"],"skins":[{"unified":"2601-fe0f","native":"\u2601\uFE0F"}],"version":1},"partly_sunny":{"id":"partly_sunny","name":"Sun Behind Cloud","keywords":["partly","sunny","weather","nature","cloudy","morning","fall","spring"],"skins":[{"unified":"26c5","native":"\u26C5"}],"version":1},"thunder_cloud_and_rain":{"id":"thunder_cloud_and_rain","name":"Cloud with Lightning and Rain","keywords":["thunder","weather"],"skins":[{"unified":"26c8-fe0f","native":"\u26C8\uFE0F"}],"version":1},"mostly_sunny":{"id":"mostly_sunny","name":"Sun Behind Small Cloud","keywords":["mostly","sunny","weather"],"skins":[{"unified":"1f324-fe0f","native":"\u{1F324}\uFE0F"}],"version":1},"barely_sunny":{"id":"barely_sunny","name":"Sun Behind Large Cloud","keywords":["barely","sunny","weather"],"skins":[{"unified":"1f325-fe0f","native":"\u{1F325}\uFE0F"}],"version":1},"partly_sunny_rain":{"id":"partly_sunny_rain","name":"Sun Behind Rain Cloud","keywords":["partly","sunny","weather"],"skins":[{"unified":"1f326-fe0f","native":"\u{1F326}\uFE0F"}],"version":1},"rain_cloud":{"id":"rain_cloud","name":"Cloud with Rain","keywords":["weather"],"skins":[{"unified":"1f327-fe0f","native":"\u{1F327}\uFE0F"}],"version":1},"snow_cloud":{"id":"snow_cloud","name":"Cloud with Snow","keywords":["weather"],"skins":[{"unified":"1f328-fe0f","native":"\u{1F328}\uFE0F"}],"version":1},"lightning":{"id":"lightning","name":"Cloud with Lightning","keywords":["weather","thunder"],"skins":[{"unified":"1f329-fe0f","native":"\u{1F329}\uFE0F"}],"version":1},"tornado":{"id":"tornado","name":"Tornado","keywords":["cloud","weather","cyclone","twister"],"skins":[{"unified":"1f32a-fe0f","native":"\u{1F32A}\uFE0F"}],"version":1},"fog":{"id":"fog","name":"Fog","keywords":["weather"],"skins":[{"unified":"1f32b-fe0f","native":"\u{1F32B}\uFE0F"}],"version":1},"wind_blowing_face":{"id":"wind_blowing_face","name":"Wind Face","keywords":["blowing","gust","air"],"skins":[{"unified":"1f32c-fe0f","native":"\u{1F32C}\uFE0F"}],"version":1},"cyclone":{"id":"cyclone","name":"Cyclone","keywords":["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],"skins":[{"unified":"1f300","native":"\u{1F300}"}],"version":1},"rainbow":{"id":"rainbow","name":"Rainbow","keywords":["nature","happy","unicorn","face","photo","sky","spring"],"skins":[{"unified":"1f308","native":"\u{1F308}"}],"version":1},"closed_umbrella":{"id":"closed_umbrella","name":"Closed Umbrella","keywords":["weather","rain","drizzle"],"skins":[{"unified":"1f302","native":"\u{1F302}"}],"version":1},"umbrella":{"id":"umbrella","name":"Umbrella","keywords":["weather","spring"],"skins":[{"unified":"2602-fe0f","native":"\u2602\uFE0F"}],"version":1},"umbrella_with_rain_drops":{"id":"umbrella_with_rain_drops","name":"Umbrella with Rain Drops","keywords":["rainy","weather","spring"],"skins":[{"unified":"2614","native":"\u2614"}],"version":1},"umbrella_on_ground":{"id":"umbrella_on_ground","name":"Umbrella on Ground","keywords":["weather","summer"],"skins":[{"unified":"26f1-fe0f","native":"\u26F1\uFE0F"}],"version":1},"zap":{"id":"zap","name":"High Voltage","keywords":["zap","thunder","weather","lightning","bolt","fast"],"skins":[{"unified":"26a1","native":"\u26A1"}],"version":1},"snowflake":{"id":"snowflake","name":"Snowflake","keywords":["winter","season","cold","weather","christmas","xmas"],"skins":[{"unified":"2744-fe0f","native":"\u2744\uFE0F"}],"version":1},"snowman":{"id":"snowman","name":"Snowman","keywords":["winter","season","cold","weather","christmas","xmas","frozen"],"skins":[{"unified":"2603-fe0f","native":"\u2603\uFE0F"}],"version":1},"snowman_without_snow":{"id":"snowman_without_snow","name":"Snowman Without Snow","keywords":["winter","season","cold","weather","christmas","xmas","frozen"],"skins":[{"unified":"26c4","native":"\u26C4"}],"version":1},"comet":{"id":"comet","name":"Comet","keywords":["space"],"skins":[{"unified":"2604-fe0f","native":"\u2604\uFE0F"}],"version":1},"fire":{"id":"fire","name":"Fire","keywords":["hot","cook","flame"],"skins":[{"unified":"1f525","native":"\u{1F525}"}],"version":1},"droplet":{"id":"droplet","name":"Droplet","keywords":["water","drip","faucet","spring"],"skins":[{"unified":"1f4a7","native":"\u{1F4A7}"}],"version":1},"ocean":{"id":"ocean","name":"Water Wave","keywords":["ocean","sea","nature","tsunami","disaster"],"skins":[{"unified":"1f30a","native":"\u{1F30A}"}],"version":1},"jack_o_lantern":{"id":"jack_o_lantern","name":"Jack-O-Lantern","keywords":["jack","o","lantern","halloween","light","pumpkin","creepy","fall"],"skins":[{"unified":"1f383","native":"\u{1F383}"}],"version":1},"christmas_tree":{"id":"christmas_tree","name":"Christmas Tree","keywords":["festival","vacation","december","xmas","celebration"],"skins":[{"unified":"1f384","native":"\u{1F384}"}],"version":1},"fireworks":{"id":"fireworks","name":"Fireworks","keywords":["photo","festival","carnival","congratulations"],"skins":[{"unified":"1f386","native":"\u{1F386}"}],"version":1},"sparkler":{"id":"sparkler","name":"Sparkler","keywords":["stars","night","shine"],"skins":[{"unified":"1f387","native":"\u{1F387}"}],"version":1},"firecracker":{"id":"firecracker","name":"Firecracker","keywords":["dynamite","boom","explode","explosion","explosive"],"skins":[{"unified":"1f9e8","native":"\u{1F9E8}"}],"version":11},"sparkles":{"id":"sparkles","name":"Sparkles","keywords":["stars","shine","shiny","cool","awesome","good","magic"],"skins":[{"unified":"2728","native":"\u2728"}],"version":1},"balloon":{"id":"balloon","name":"Balloon","keywords":["party","celebration","birthday","circus"],"skins":[{"unified":"1f388","native":"\u{1F388}"}],"version":1},"tada":{"id":"tada","name":"Party Popper","keywords":["tada","congratulations","birthday","magic","circus","celebration"],"skins":[{"unified":"1f389","native":"\u{1F389}"}],"version":1},"confetti_ball":{"id":"confetti_ball","name":"Confetti Ball","keywords":["festival","party","birthday","circus"],"skins":[{"unified":"1f38a","native":"\u{1F38A}"}],"version":1},"tanabata_tree":{"id":"tanabata_tree","name":"Tanabata Tree","keywords":["plant","nature","branch","summer","bamboo","wish","star","festival","tanzaku"],"skins":[{"unified":"1f38b","native":"\u{1F38B}"}],"version":1},"bamboo":{"id":"bamboo","name":"Pine Decoration","keywords":["bamboo","japanese","plant","nature","vegetable","panda","new","years"],"skins":[{"unified":"1f38d","native":"\u{1F38D}"}],"version":1},"dolls":{"id":"dolls","name":"Japanese Dolls","keywords":["toy","kimono"],"skins":[{"unified":"1f38e","native":"\u{1F38E}"}],"version":1},"flags":{"id":"flags","name":"Carp Streamer","keywords":["flags","fish","japanese","koinobori","banner"],"skins":[{"unified":"1f38f","native":"\u{1F38F}"}],"version":1},"wind_chime":{"id":"wind_chime","name":"Wind Chime","keywords":["nature","ding","spring","bell"],"skins":[{"unified":"1f390","native":"\u{1F390}"}],"version":1},"rice_scene":{"id":"rice_scene","name":"Moon Viewing Ceremony","keywords":["rice","scene","photo","japan","asia","tsukimi"],"skins":[{"unified":"1f391","native":"\u{1F391}"}],"version":1},"red_envelope":{"id":"red_envelope","name":"Red Envelope","keywords":["gift"],"skins":[{"unified":"1f9e7","native":"\u{1F9E7}"}],"version":11},"ribbon":{"id":"ribbon","name":"Ribbon","keywords":["decoration","pink","girl","bowtie"],"skins":[{"unified":"1f380","native":"\u{1F380}"}],"version":1},"gift":{"id":"gift","name":"Wrapped Gift","keywords":["present","birthday","christmas","xmas"],"skins":[{"unified":"1f381","native":"\u{1F381}"}],"version":1},"reminder_ribbon":{"id":"reminder_ribbon","name":"Reminder Ribbon","keywords":["sports","cause","support","awareness"],"skins":[{"unified":"1f397-fe0f","native":"\u{1F397}\uFE0F"}],"version":1},"admission_tickets":{"id":"admission_tickets","name":"Admission Tickets","keywords":["sports","concert","entrance"],"skins":[{"unified":"1f39f-fe0f","native":"\u{1F39F}\uFE0F"}],"version":1},"ticket":{"id":"ticket","name":"Ticket","keywords":["event","concert","pass"],"skins":[{"unified":"1f3ab","native":"\u{1F3AB}"}],"version":1},"medal":{"id":"medal","name":"Military Medal","keywords":["award","winning","army"],"skins":[{"unified":"1f396-fe0f","native":"\u{1F396}\uFE0F"}],"version":1},"trophy":{"id":"trophy","name":"Trophy","keywords":["win","award","contest","place","ftw","ceremony"],"skins":[{"unified":"1f3c6","native":"\u{1F3C6}"}],"version":1},"sports_medal":{"id":"sports_medal","name":"Sports Medal","keywords":["award","winning"],"skins":[{"unified":"1f3c5","native":"\u{1F3C5}"}],"version":1},"first_place_medal":{"id":"first_place_medal","name":"1st Place Medal","keywords":["first","award","winning"],"skins":[{"unified":"1f947","native":"\u{1F947}"}],"version":3},"second_place_medal":{"id":"second_place_medal","name":"2nd Place Medal","keywords":["second","award"],"skins":[{"unified":"1f948","native":"\u{1F948}"}],"version":3},"third_place_medal":{"id":"third_place_medal","name":"3rd Place Medal","keywords":["third","award"],"skins":[{"unified":"1f949","native":"\u{1F949}"}],"version":3},"soccer":{"id":"soccer","name":"Soccer Ball","keywords":["sports","football"],"skins":[{"unified":"26bd","native":"\u26BD"}],"version":1},"baseball":{"id":"baseball","name":"Baseball","keywords":["sports","balls"],"skins":[{"unified":"26be","native":"\u26BE"}],"version":1},"softball":{"id":"softball","name":"Softball","keywords":["sports","balls"],"skins":[{"unified":"1f94e","native":"\u{1F94E}"}],"version":11},"basketball":{"id":"basketball","name":"Basketball","keywords":["sports","balls","NBA"],"skins":[{"unified":"1f3c0","native":"\u{1F3C0}"}],"version":1},"volleyball":{"id":"volleyball","name":"Volleyball","keywords":["sports","balls"],"skins":[{"unified":"1f3d0","native":"\u{1F3D0}"}],"version":1},"football":{"id":"football","name":"American Football","keywords":["sports","balls","NFL"],"skins":[{"unified":"1f3c8","native":"\u{1F3C8}"}],"version":1},"rugby_football":{"id":"rugby_football","name":"Rugby Football","keywords":["sports","team"],"skins":[{"unified":"1f3c9","native":"\u{1F3C9}"}],"version":1},"tennis":{"id":"tennis","name":"Tennis","keywords":["sports","balls","green"],"skins":[{"unified":"1f3be","native":"\u{1F3BE}"}],"version":1},"flying_disc":{"id":"flying_disc","name":"Flying Disc","keywords":["sports","frisbee","ultimate"],"skins":[{"unified":"1f94f","native":"\u{1F94F}"}],"version":11},"bowling":{"id":"bowling","name":"Bowling","keywords":["sports","fun","play"],"skins":[{"unified":"1f3b3","native":"\u{1F3B3}"}],"version":1},"cricket_bat_and_ball":{"id":"cricket_bat_and_ball","name":"Cricket Game","keywords":["bat","and","ball","sports"],"skins":[{"unified":"1f3cf","native":"\u{1F3CF}"}],"version":1},"field_hockey_stick_and_ball":{"id":"field_hockey_stick_and_ball","name":"Field Hockey","keywords":["stick","and","ball","sports"],"skins":[{"unified":"1f3d1","native":"\u{1F3D1}"}],"version":1},"ice_hockey_stick_and_puck":{"id":"ice_hockey_stick_and_puck","name":"Ice Hockey","keywords":["stick","and","puck","sports"],"skins":[{"unified":"1f3d2","native":"\u{1F3D2}"}],"version":1},"lacrosse":{"id":"lacrosse","name":"Lacrosse","keywords":["sports","ball","stick"],"skins":[{"unified":"1f94d","native":"\u{1F94D}"}],"version":11},"table_tennis_paddle_and_ball":{"id":"table_tennis_paddle_and_ball","name":"Ping Pong","keywords":["table","tennis","paddle","and","ball","sports","pingpong"],"skins":[{"unified":"1f3d3","native":"\u{1F3D3}"}],"version":1},"badminton_racquet_and_shuttlecock":{"id":"badminton_racquet_and_shuttlecock","name":"Badminton","keywords":["racquet","and","shuttlecock","sports"],"skins":[{"unified":"1f3f8","native":"\u{1F3F8}"}],"version":1},"boxing_glove":{"id":"boxing_glove","name":"Boxing Glove","keywords":["sports","fighting"],"skins":[{"unified":"1f94a","native":"\u{1F94A}"}],"version":3},"martial_arts_uniform":{"id":"martial_arts_uniform","name":"Martial Arts Uniform","keywords":["judo","karate","taekwondo"],"skins":[{"unified":"1f94b","native":"\u{1F94B}"}],"version":3},"goal_net":{"id":"goal_net","name":"Goal Net","keywords":["sports"],"skins":[{"unified":"1f945","native":"\u{1F945}"}],"version":3},"golf":{"id":"golf","name":"Flag in Hole","keywords":["golf","sports","business","summer"],"skins":[{"unified":"26f3","native":"\u26F3"}],"version":1},"ice_skate":{"id":"ice_skate","name":"Ice Skate","keywords":["sports"],"skins":[{"unified":"26f8-fe0f","native":"\u26F8\uFE0F"}],"version":1},"fishing_pole_and_fish":{"id":"fishing_pole_and_fish","name":"Fishing Pole","keywords":["and","fish","food","hobby","summer"],"skins":[{"unified":"1f3a3","native":"\u{1F3A3}"}],"version":1},"diving_mask":{"id":"diving_mask","name":"Diving Mask","keywords":["sport","ocean"],"skins":[{"unified":"1f93f","native":"\u{1F93F}"}],"version":12},"running_shirt_with_sash":{"id":"running_shirt_with_sash","name":"Running Shirt","keywords":["with","sash","play","pageant"],"skins":[{"unified":"1f3bd","native":"\u{1F3BD}"}],"version":1},"ski":{"id":"ski","name":"Skis","keywords":["ski","sports","winter","cold","snow"],"skins":[{"unified":"1f3bf","native":"\u{1F3BF}"}],"version":1},"sled":{"id":"sled","name":"Sled","keywords":["sleigh","luge","toboggan"],"skins":[{"unified":"1f6f7","native":"\u{1F6F7}"}],"version":5},"curling_stone":{"id":"curling_stone","name":"Curling Stone","keywords":["sports"],"skins":[{"unified":"1f94c","native":"\u{1F94C}"}],"version":5},"dart":{"id":"dart","name":"Bullseye","keywords":["dart","direct","hit","game","play","bar","target"],"skins":[{"unified":"1f3af","native":"\u{1F3AF}"}],"version":1},"yo-yo":{"id":"yo-yo","name":"Yo-Yo","keywords":["yo","toy"],"skins":[{"unified":"1fa80","native":"\u{1FA80}"}],"version":12},"kite":{"id":"kite","name":"Kite","keywords":["wind","fly"],"skins":[{"unified":"1fa81","native":"\u{1FA81}"}],"version":12},"gun":{"id":"gun","name":"Pistol","keywords":["gun","violence","weapon","revolver"],"skins":[{"unified":"1f52b","native":"\u{1F52B}"}],"version":1},"8ball":{"id":"8ball","name":"Billiards","keywords":["8ball","pool","8","ball","hobby","game","luck","magic"],"skins":[{"unified":"1f3b1","native":"\u{1F3B1}"}],"version":1},"crystal_ball":{"id":"crystal_ball","name":"Crystal Ball","keywords":["disco","party","magic","circus","fortune","teller"],"skins":[{"unified":"1f52e","native":"\u{1F52E}"}],"version":1},"magic_wand":{"id":"magic_wand","name":"Magic Wand","keywords":["supernature","power"],"skins":[{"unified":"1fa84","native":"\u{1FA84}"}],"version":13},"video_game":{"id":"video_game","name":"Video Game","keywords":["play","console","PS4","controller"],"skins":[{"unified":"1f3ae","native":"\u{1F3AE}"}],"version":1},"joystick":{"id":"joystick","name":"Joystick","keywords":["game","play"],"skins":[{"unified":"1f579-fe0f","native":"\u{1F579}\uFE0F"}],"version":1},"slot_machine":{"id":"slot_machine","name":"Slot Machine","keywords":["bet","gamble","vegas","fruit","luck","casino"],"skins":[{"unified":"1f3b0","native":"\u{1F3B0}"}],"version":1},"game_die":{"id":"game_die","name":"Game Die","keywords":["dice","random","tabletop","play","luck"],"skins":[{"unified":"1f3b2","native":"\u{1F3B2}"}],"version":1},"jigsaw":{"id":"jigsaw","name":"Puzzle Piece","keywords":["jigsaw","interlocking"],"skins":[{"unified":"1f9e9","native":"\u{1F9E9}"}],"version":11},"teddy_bear":{"id":"teddy_bear","name":"Teddy Bear","keywords":["plush","stuffed"],"skins":[{"unified":"1f9f8","native":"\u{1F9F8}"}],"version":11},"pinata":{"id":"pinata","name":"Pinata","keywords":["mexico","candy","celebration"],"skins":[{"unified":"1fa85","native":"\u{1FA85}"}],"version":13},"mirror_ball":{"id":"mirror_ball","name":"Mirror Ball","keywords":["disco","dance","party"],"skins":[{"unified":"1faa9","native":"\u{1FAA9}"}],"version":14},"nesting_dolls":{"id":"nesting_dolls","name":"Nesting Dolls","keywords":["matryoshka","toy"],"skins":[{"unified":"1fa86","native":"\u{1FA86}"}],"version":13},"spades":{"id":"spades","name":"Spade Suit","keywords":["spades","poker","cards","suits","magic"],"skins":[{"unified":"2660-fe0f","native":"\u2660\uFE0F"}],"version":1},"hearts":{"id":"hearts","name":"Heart Suit","keywords":["hearts","poker","cards","magic","suits"],"skins":[{"unified":"2665-fe0f","native":"\u2665\uFE0F"}],"version":1},"diamonds":{"id":"diamonds","name":"Diamond Suit","keywords":["diamonds","poker","cards","magic","suits"],"skins":[{"unified":"2666-fe0f","native":"\u2666\uFE0F"}],"version":1},"clubs":{"id":"clubs","name":"Club Suit","keywords":["clubs","poker","cards","magic","suits"],"skins":[{"unified":"2663-fe0f","native":"\u2663\uFE0F"}],"version":1},"chess_pawn":{"id":"chess_pawn","name":"Chess Pawn","keywords":["expendable"],"skins":[{"unified":"265f-fe0f","native":"\u265F\uFE0F"}],"version":11},"black_joker":{"id":"black_joker","name":"Joker","keywords":["black","poker","cards","game","play","magic"],"skins":[{"unified":"1f0cf","native":"\u{1F0CF}"}],"version":1},"mahjong":{"id":"mahjong","name":"Mahjong Red Dragon","keywords":["game","play","chinese","kanji"],"skins":[{"unified":"1f004","native":"\u{1F004}"}],"version":1},"flower_playing_cards":{"id":"flower_playing_cards","name":"Flower Playing Cards","keywords":["game","sunset","red"],"skins":[{"unified":"1f3b4","native":"\u{1F3B4}"}],"version":1},"performing_arts":{"id":"performing_arts","name":"Performing Arts","keywords":["acting","theater","drama"],"skins":[{"unified":"1f3ad","native":"\u{1F3AD}"}],"version":1},"frame_with_picture":{"id":"frame_with_picture","name":"Framed Picture","keywords":["frame","with","photography"],"skins":[{"unified":"1f5bc-fe0f","native":"\u{1F5BC}\uFE0F"}],"version":1},"art":{"id":"art","name":"Artist Palette","keywords":["art","design","paint","draw","colors"],"skins":[{"unified":"1f3a8","native":"\u{1F3A8}"}],"version":1},"thread":{"id":"thread","name":"Thread","keywords":["needle","sewing","spool","string"],"skins":[{"unified":"1f9f5","native":"\u{1F9F5}"}],"version":11},"sewing_needle":{"id":"sewing_needle","name":"Sewing Needle","keywords":["stitches"],"skins":[{"unified":"1faa1","native":"\u{1FAA1}"}],"version":13},"yarn":{"id":"yarn","name":"Yarn","keywords":["ball","crochet","knit"],"skins":[{"unified":"1f9f6","native":"\u{1F9F6}"}],"version":11},"knot":{"id":"knot","name":"Knot","keywords":["rope","scout"],"skins":[{"unified":"1faa2","native":"\u{1FAA2}"}],"version":13},"eyeglasses":{"id":"eyeglasses","name":"Glasses","keywords":["eyeglasses","fashion","accessories","eyesight","nerdy","dork","geek"],"skins":[{"unified":"1f453","native":"\u{1F453}"}],"version":1},"dark_sunglasses":{"id":"dark_sunglasses","name":"Sunglasses","keywords":["dark","face","cool","accessories"],"skins":[{"unified":"1f576-fe0f","native":"\u{1F576}\uFE0F"}],"version":1},"goggles":{"id":"goggles","name":"Goggles","keywords":["eyes","protection","safety"],"skins":[{"unified":"1f97d","native":"\u{1F97D}"}],"version":11},"lab_coat":{"id":"lab_coat","name":"Lab Coat","keywords":["doctor","experiment","scientist","chemist"],"skins":[{"unified":"1f97c","native":"\u{1F97C}"}],"version":11},"safety_vest":{"id":"safety_vest","name":"Safety Vest","keywords":["protection"],"skins":[{"unified":"1f9ba","native":"\u{1F9BA}"}],"version":12},"necktie":{"id":"necktie","name":"Necktie","keywords":["shirt","suitup","formal","fashion","cloth","business"],"skins":[{"unified":"1f454","native":"\u{1F454}"}],"version":1},"shirt":{"id":"shirt","name":"T-Shirt","keywords":["shirt","tshirt","t","fashion","cloth","casual","tee"],"skins":[{"unified":"1f455","native":"\u{1F455}"}],"version":1},"jeans":{"id":"jeans","name":"Jeans","keywords":["fashion","shopping"],"skins":[{"unified":"1f456","native":"\u{1F456}"}],"version":1},"scarf":{"id":"scarf","name":"Scarf","keywords":["neck","winter","clothes"],"skins":[{"unified":"1f9e3","native":"\u{1F9E3}"}],"version":5},"gloves":{"id":"gloves","name":"Gloves","keywords":["hands","winter","clothes"],"skins":[{"unified":"1f9e4","native":"\u{1F9E4}"}],"version":5},"coat":{"id":"coat","name":"Coat","keywords":["jacket"],"skins":[{"unified":"1f9e5","native":"\u{1F9E5}"}],"version":5},"socks":{"id":"socks","name":"Socks","keywords":["stockings","clothes"],"skins":[{"unified":"1f9e6","native":"\u{1F9E6}"}],"version":5},"dress":{"id":"dress","name":"Dress","keywords":["clothes","fashion","shopping"],"skins":[{"unified":"1f457","native":"\u{1F457}"}],"version":1},"kimono":{"id":"kimono","name":"Kimono","keywords":["dress","fashion","women","female","japanese"],"skins":[{"unified":"1f458","native":"\u{1F458}"}],"version":1},"sari":{"id":"sari","name":"Sari","keywords":["dress"],"skins":[{"unified":"1f97b","native":"\u{1F97B}"}],"version":12},"one-piece_swimsuit":{"id":"one-piece_swimsuit","name":"One-Piece Swimsuit","keywords":["one","piece","fashion"],"skins":[{"unified":"1fa71","native":"\u{1FA71}"}],"version":12},"briefs":{"id":"briefs","name":"Briefs","keywords":["clothing"],"skins":[{"unified":"1fa72","native":"\u{1FA72}"}],"version":12},"shorts":{"id":"shorts","name":"Shorts","keywords":["clothing"],"skins":[{"unified":"1fa73","native":"\u{1FA73}"}],"version":12},"bikini":{"id":"bikini","name":"Bikini","keywords":["swimming","female","woman","girl","fashion","beach","summer"],"skins":[{"unified":"1f459","native":"\u{1F459}"}],"version":1},"womans_clothes":{"id":"womans_clothes","name":"Womans Clothes","keywords":["woman","s","fashion","shopping","bags","female"],"skins":[{"unified":"1f45a","native":"\u{1F45A}"}],"version":1},"folding_hand_fan":{"id":"folding_hand_fan","name":"Folding Hand Fan","keywords":["flamenco","hot"],"skins":[{"unified":"1faad","native":"\u{1FAAD}"}],"version":15},"purse":{"id":"purse","name":"Purse","keywords":["fashion","accessories","money","sales","shopping"],"skins":[{"unified":"1f45b","native":"\u{1F45B}"}],"version":1},"handbag":{"id":"handbag","name":"Handbag","keywords":["fashion","accessory","accessories","shopping"],"skins":[{"unified":"1f45c","native":"\u{1F45C}"}],"version":1},"pouch":{"id":"pouch","name":"Pouch","keywords":["clutch","bag","accessories","shopping"],"skins":[{"unified":"1f45d","native":"\u{1F45D}"}],"version":1},"shopping_bags":{"id":"shopping_bags","name":"Shopping Bags","keywords":["mall","buy","purchase"],"skins":[{"unified":"1f6cd-fe0f","native":"\u{1F6CD}\uFE0F"}],"version":1},"school_satchel":{"id":"school_satchel","name":"Backpack","keywords":["school","satchel","student","education","bag"],"skins":[{"unified":"1f392","native":"\u{1F392}"}],"version":1},"thong_sandal":{"id":"thong_sandal","name":"Thong Sandal","keywords":["footwear","summer"],"skins":[{"unified":"1fa74","native":"\u{1FA74}"}],"version":13},"mans_shoe":{"id":"mans_shoe","name":"Mans Shoe","keywords":["man","s","fashion","male"],"skins":[{"unified":"1f45e","native":"\u{1F45E}"}],"version":1},"athletic_shoe":{"id":"athletic_shoe","name":"Running Shoe","keywords":["athletic","shoes","sports","sneakers"],"skins":[{"unified":"1f45f","native":"\u{1F45F}"}],"version":1},"hiking_boot":{"id":"hiking_boot","name":"Hiking Boot","keywords":["backpacking","camping"],"skins":[{"unified":"1f97e","native":"\u{1F97E}"}],"version":11},"womans_flat_shoe":{"id":"womans_flat_shoe","name":"Flat Shoe","keywords":["womans","ballet","slip","on","slipper"],"skins":[{"unified":"1f97f","native":"\u{1F97F}"}],"version":11},"high_heel":{"id":"high_heel","name":"High-Heeled Shoe","keywords":["high","heel","heeled","fashion","shoes","female","pumps","stiletto"],"skins":[{"unified":"1f460","native":"\u{1F460}"}],"version":1},"sandal":{"id":"sandal","name":"Womans Sandal","keywords":["woman","s","shoes","fashion","flip","flops"],"skins":[{"unified":"1f461","native":"\u{1F461}"}],"version":1},"ballet_shoes":{"id":"ballet_shoes","name":"Ballet Shoes","keywords":["dance"],"skins":[{"unified":"1fa70","native":"\u{1FA70}"}],"version":12},"boot":{"id":"boot","name":"Womans Boots","keywords":["boot","woman","s","shoes","fashion"],"skins":[{"unified":"1f462","native":"\u{1F462}"}],"version":1},"hair_pick":{"id":"hair_pick","name":"Hair Pick","keywords":["afro","comb"],"skins":[{"unified":"1faae","native":"\u{1FAAE}"}],"version":15},"crown":{"id":"crown","name":"Crown","keywords":["king","kod","leader","royalty","lord"],"skins":[{"unified":"1f451","native":"\u{1F451}"}],"version":1},"womans_hat":{"id":"womans_hat","name":"Womans Hat","keywords":["woman","s","fashion","accessories","female","lady","spring"],"skins":[{"unified":"1f452","native":"\u{1F452}"}],"version":1},"tophat":{"id":"tophat","name":"Top Hat","keywords":["tophat","magic","gentleman","classy","circus"],"skins":[{"unified":"1f3a9","native":"\u{1F3A9}"}],"version":1},"mortar_board":{"id":"mortar_board","name":"Graduation Cap","keywords":["mortar","board","school","college","degree","university","hat","legal","learn","education"],"skins":[{"unified":"1f393","native":"\u{1F393}"}],"version":1},"billed_cap":{"id":"billed_cap","name":"Billed Cap","keywords":["baseball"],"skins":[{"unified":"1f9e2","native":"\u{1F9E2}"}],"version":5},"military_helmet":{"id":"military_helmet","name":"Military Helmet","keywords":["army","protection"],"skins":[{"unified":"1fa96","native":"\u{1FA96}"}],"version":13},"helmet_with_white_cross":{"id":"helmet_with_white_cross","name":"Rescue Worker\u2019s Helmet","keywords":["with","white","cross","worker","s","construction","build"],"skins":[{"unified":"26d1-fe0f","native":"\u26D1\uFE0F"}],"version":1},"prayer_beads":{"id":"prayer_beads","name":"Prayer Beads","keywords":["dhikr","religious"],"skins":[{"unified":"1f4ff","native":"\u{1F4FF}"}],"version":1},"lipstick":{"id":"lipstick","name":"Lipstick","keywords":["female","girl","fashion","woman"],"skins":[{"unified":"1f484","native":"\u{1F484}"}],"version":1},"ring":{"id":"ring","name":"Ring","keywords":["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],"skins":[{"unified":"1f48d","native":"\u{1F48D}"}],"version":1},"gem":{"id":"gem","name":"Gem Stone","keywords":["blue","ruby","diamond","jewelry"],"skins":[{"unified":"1f48e","native":"\u{1F48E}"}],"version":1},"mute":{"id":"mute","name":"Muted Speaker","keywords":["mute","sound","volume","silence","quiet"],"skins":[{"unified":"1f507","native":"\u{1F507}"}],"version":1},"speaker":{"id":"speaker","name":"Speaker","keywords":["low","volume","sound","silence","broadcast"],"skins":[{"unified":"1f508","native":"\u{1F508}"}],"version":1},"sound":{"id":"sound","name":"Speaker Medium Volume","keywords":["sound","broadcast"],"skins":[{"unified":"1f509","native":"\u{1F509}"}],"version":1},"loud_sound":{"id":"loud_sound","name":"Speaker High Volume","keywords":["loud","sound","noise","noisy","broadcast"],"skins":[{"unified":"1f50a","native":"\u{1F50A}"}],"version":1},"loudspeaker":{"id":"loudspeaker","name":"Loudspeaker","keywords":["volume","sound"],"skins":[{"unified":"1f4e2","native":"\u{1F4E2}"}],"version":1},"mega":{"id":"mega","name":"Megaphone","keywords":["mega","sound","speaker","volume"],"skins":[{"unified":"1f4e3","native":"\u{1F4E3}"}],"version":1},"postal_horn":{"id":"postal_horn","name":"Postal Horn","keywords":["instrument","music"],"skins":[{"unified":"1f4ef","native":"\u{1F4EF}"}],"version":1},"bell":{"id":"bell","name":"Bell","keywords":["sound","notification","christmas","xmas","chime"],"skins":[{"unified":"1f514","native":"\u{1F514}"}],"version":1},"no_bell":{"id":"no_bell","name":"Bell with Slash","keywords":["no","sound","volume","mute","quiet","silent"],"skins":[{"unified":"1f515","native":"\u{1F515}"}],"version":1},"musical_score":{"id":"musical_score","name":"Musical Score","keywords":["treble","clef","compose"],"skins":[{"unified":"1f3bc","native":"\u{1F3BC}"}],"version":1},"musical_note":{"id":"musical_note","name":"Musical Note","keywords":["score","tone","sound"],"skins":[{"unified":"1f3b5","native":"\u{1F3B5}"}],"version":1},"notes":{"id":"notes","name":"Musical Notes","keywords":["music","score"],"skins":[{"unified":"1f3b6","native":"\u{1F3B6}"}],"version":1},"studio_microphone":{"id":"studio_microphone","name":"Studio Microphone","keywords":["sing","recording","artist","talkshow"],"skins":[{"unified":"1f399-fe0f","native":"\u{1F399}\uFE0F"}],"version":1},"level_slider":{"id":"level_slider","name":"Level Slider","keywords":["scale"],"skins":[{"unified":"1f39a-fe0f","native":"\u{1F39A}\uFE0F"}],"version":1},"control_knobs":{"id":"control_knobs","name":"Control Knobs","keywords":["dial"],"skins":[{"unified":"1f39b-fe0f","native":"\u{1F39B}\uFE0F"}],"version":1},"microphone":{"id":"microphone","name":"Microphone","keywords":["sound","music","PA","sing","talkshow"],"skins":[{"unified":"1f3a4","native":"\u{1F3A4}"}],"version":1},"headphones":{"id":"headphones","name":"Headphone","keywords":["headphones","music","score","gadgets"],"skins":[{"unified":"1f3a7","native":"\u{1F3A7}"}],"version":1},"radio":{"id":"radio","name":"Radio","keywords":["communication","music","podcast","program"],"skins":[{"unified":"1f4fb","native":"\u{1F4FB}"}],"version":1},"saxophone":{"id":"saxophone","name":"Saxophone","keywords":["music","instrument","jazz","blues"],"skins":[{"unified":"1f3b7","native":"\u{1F3B7}"}],"version":1},"accordion":{"id":"accordion","name":"Accordion","keywords":["music"],"skins":[{"unified":"1fa97","native":"\u{1FA97}"}],"version":13},"guitar":{"id":"guitar","name":"Guitar","keywords":["music","instrument"],"skins":[{"unified":"1f3b8","native":"\u{1F3B8}"}],"version":1},"musical_keyboard":{"id":"musical_keyboard","name":"Musical Keyboard","keywords":["piano","instrument","compose"],"skins":[{"unified":"1f3b9","native":"\u{1F3B9}"}],"version":1},"trumpet":{"id":"trumpet","name":"Trumpet","keywords":["music","brass"],"skins":[{"unified":"1f3ba","native":"\u{1F3BA}"}],"version":1},"violin":{"id":"violin","name":"Violin","keywords":["music","instrument","orchestra","symphony"],"skins":[{"unified":"1f3bb","native":"\u{1F3BB}"}],"version":1},"banjo":{"id":"banjo","name":"Banjo","keywords":["music","instructment"],"skins":[{"unified":"1fa95","native":"\u{1FA95}"}],"version":12},"drum_with_drumsticks":{"id":"drum_with_drumsticks","name":"Drum","keywords":["with","drumsticks","music","instrument","snare"],"skins":[{"unified":"1f941","native":"\u{1F941}"}],"version":3},"long_drum":{"id":"long_drum","name":"Long Drum","keywords":["music"],"skins":[{"unified":"1fa98","native":"\u{1FA98}"}],"version":13},"maracas":{"id":"maracas","name":"Maracas","keywords":["music","instrument","percussion"],"skins":[{"unified":"1fa87","native":"\u{1FA87}"}],"version":15},"flute":{"id":"flute","name":"Flute","keywords":["bamboo","music","instrument","pied","piper"],"skins":[{"unified":"1fa88","native":"\u{1FA88}"}],"version":15},"iphone":{"id":"iphone","name":"Mobile Phone","keywords":["iphone","technology","apple","gadgets","dial"],"skins":[{"unified":"1f4f1","native":"\u{1F4F1}"}],"version":1},"calling":{"id":"calling","name":"Mobile Phone with Arrow","keywords":["calling","iphone","incoming"],"skins":[{"unified":"1f4f2","native":"\u{1F4F2}"}],"version":1},"phone":{"id":"phone","name":"Telephone","keywords":["phone","technology","communication","dial"],"skins":[{"unified":"260e-fe0f","native":"\u260E\uFE0F"}],"version":1},"telephone_receiver":{"id":"telephone_receiver","name":"Telephone Receiver","keywords":["technology","communication","dial"],"skins":[{"unified":"1f4de","native":"\u{1F4DE}"}],"version":1},"pager":{"id":"pager","name":"Pager","keywords":["bbcall","oldschool","90s"],"skins":[{"unified":"1f4df","native":"\u{1F4DF}"}],"version":1},"fax":{"id":"fax","name":"Fax Machine","keywords":["communication","technology"],"skins":[{"unified":"1f4e0","native":"\u{1F4E0}"}],"version":1},"battery":{"id":"battery","name":"Battery","keywords":["power","energy","sustain"],"skins":[{"unified":"1f50b","native":"\u{1F50B}"}],"version":1},"low_battery":{"id":"low_battery","name":"Low Battery","keywords":["drained","dead"],"skins":[{"unified":"1faab","native":"\u{1FAAB}"}],"version":14},"electric_plug":{"id":"electric_plug","name":"Electric Plug","keywords":["charger","power"],"skins":[{"unified":"1f50c","native":"\u{1F50C}"}],"version":1},"computer":{"id":"computer","name":"Laptop","keywords":["computer","technology","screen","display","monitor"],"skins":[{"unified":"1f4bb","native":"\u{1F4BB}"}],"version":1},"desktop_computer":{"id":"desktop_computer","name":"Desktop Computer","keywords":["technology","computing","screen"],"skins":[{"unified":"1f5a5-fe0f","native":"\u{1F5A5}\uFE0F"}],"version":1},"printer":{"id":"printer","name":"Printer","keywords":["paper","ink"],"skins":[{"unified":"1f5a8-fe0f","native":"\u{1F5A8}\uFE0F"}],"version":1},"keyboard":{"id":"keyboard","name":"Keyboard","keywords":["technology","computer","type","input","text"],"skins":[{"unified":"2328-fe0f","native":"\u2328\uFE0F"}],"version":1},"three_button_mouse":{"id":"three_button_mouse","name":"Computer Mouse","keywords":["three","button","click"],"skins":[{"unified":"1f5b1-fe0f","native":"\u{1F5B1}\uFE0F"}],"version":1},"trackball":{"id":"trackball","name":"Trackball","keywords":["technology","trackpad"],"skins":[{"unified":"1f5b2-fe0f","native":"\u{1F5B2}\uFE0F"}],"version":1},"minidisc":{"id":"minidisc","name":"Minidisc","keywords":["computer","disk","technology","record","data","90s"],"skins":[{"unified":"1f4bd","native":"\u{1F4BD}"}],"version":1},"floppy_disk":{"id":"floppy_disk","name":"Floppy Disk","keywords":["oldschool","technology","save","90s","80s"],"skins":[{"unified":"1f4be","native":"\u{1F4BE}"}],"version":1},"cd":{"id":"cd","name":"Optical Disc","keywords":["cd","disk","technology","dvd","90s"],"skins":[{"unified":"1f4bf","native":"\u{1F4BF}"}],"version":1},"dvd":{"id":"dvd","name":"Dvd","keywords":["cd","disk","disc"],"skins":[{"unified":"1f4c0","native":"\u{1F4C0}"}],"version":1},"abacus":{"id":"abacus","name":"Abacus","keywords":["calculation"],"skins":[{"unified":"1f9ee","native":"\u{1F9EE}"}],"version":11},"movie_camera":{"id":"movie_camera","name":"Movie Camera","keywords":["film","record"],"skins":[{"unified":"1f3a5","native":"\u{1F3A5}"}],"version":1},"film_frames":{"id":"film_frames","name":"Film Frames","keywords":["movie"],"skins":[{"unified":"1f39e-fe0f","native":"\u{1F39E}\uFE0F"}],"version":1},"film_projector":{"id":"film_projector","name":"Film Projector","keywords":["video","tape","record","movie"],"skins":[{"unified":"1f4fd-fe0f","native":"\u{1F4FD}\uFE0F"}],"version":1},"clapper":{"id":"clapper","name":"Clapper Board","keywords":["movie","film","record"],"skins":[{"unified":"1f3ac","native":"\u{1F3AC}"}],"version":1},"tv":{"id":"tv","name":"Television","keywords":["tv","technology","program","oldschool","show"],"skins":[{"unified":"1f4fa","native":"\u{1F4FA}"}],"version":1},"camera":{"id":"camera","name":"Camera","keywords":["gadgets","photography"],"skins":[{"unified":"1f4f7","native":"\u{1F4F7}"}],"version":1},"camera_with_flash":{"id":"camera_with_flash","name":"Camera with Flash","keywords":["photography","gadgets"],"skins":[{"unified":"1f4f8","native":"\u{1F4F8}"}],"version":1},"video_camera":{"id":"video_camera","name":"Video Camera","keywords":["film","record"],"skins":[{"unified":"1f4f9","native":"\u{1F4F9}"}],"version":1},"vhs":{"id":"vhs","name":"Videocassette","keywords":["vhs","record","video","oldschool","90s","80s"],"skins":[{"unified":"1f4fc","native":"\u{1F4FC}"}],"version":1},"mag":{"id":"mag","name":"Magnifying Glass Tilted Left","keywords":["mag","search","zoom","find","detective"],"skins":[{"unified":"1f50d","native":"\u{1F50D}"}],"version":1},"mag_right":{"id":"mag_right","name":"Magnifying Glass Tilted Right","keywords":["mag","search","zoom","find","detective"],"skins":[{"unified":"1f50e","native":"\u{1F50E}"}],"version":1},"candle":{"id":"candle","name":"Candle","keywords":["fire","wax"],"skins":[{"unified":"1f56f-fe0f","native":"\u{1F56F}\uFE0F"}],"version":1},"bulb":{"id":"bulb","name":"Light Bulb","keywords":["electricity","idea"],"skins":[{"unified":"1f4a1","native":"\u{1F4A1}"}],"version":1},"flashlight":{"id":"flashlight","name":"Flashlight","keywords":["dark","camping","sight","night"],"skins":[{"unified":"1f526","native":"\u{1F526}"}],"version":1},"izakaya_lantern":{"id":"izakaya_lantern","name":"Izakaya Lantern","keywords":["red","paper","light","halloween","spooky"],"skins":[{"unified":"1f3ee","native":"\u{1F3EE}"}],"version":1},"diya_lamp":{"id":"diya_lamp","name":"Diya Lamp","keywords":["lighting"],"skins":[{"unified":"1fa94","native":"\u{1FA94}"}],"version":12},"notebook_with_decorative_cover":{"id":"notebook_with_decorative_cover","name":"Notebook with Decorative Cover","keywords":["classroom","notes","record","paper","study"],"skins":[{"unified":"1f4d4","native":"\u{1F4D4}"}],"version":1},"closed_book":{"id":"closed_book","name":"Closed Book","keywords":["read","library","knowledge","textbook","learn"],"skins":[{"unified":"1f4d5","native":"\u{1F4D5}"}],"version":1},"book":{"id":"book","name":"Open Book","keywords":["read","library","knowledge","literature","learn","study"],"skins":[{"unified":"1f4d6","native":"\u{1F4D6}"}],"version":1},"green_book":{"id":"green_book","name":"Green Book","keywords":["read","library","knowledge","study"],"skins":[{"unified":"1f4d7","native":"\u{1F4D7}"}],"version":1},"blue_book":{"id":"blue_book","name":"Blue Book","keywords":["read","library","knowledge","learn","study"],"skins":[{"unified":"1f4d8","native":"\u{1F4D8}"}],"version":1},"orange_book":{"id":"orange_book","name":"Orange Book","keywords":["read","library","knowledge","textbook","study"],"skins":[{"unified":"1f4d9","native":"\u{1F4D9}"}],"version":1},"books":{"id":"books","name":"Books","keywords":["literature","library","study"],"skins":[{"unified":"1f4da","native":"\u{1F4DA}"}],"version":1},"notebook":{"id":"notebook","name":"Notebook","keywords":["stationery","record","notes","paper","study"],"skins":[{"unified":"1f4d3","native":"\u{1F4D3}"}],"version":1},"ledger":{"id":"ledger","name":"Ledger","keywords":["notes","paper"],"skins":[{"unified":"1f4d2","native":"\u{1F4D2}"}],"version":1},"page_with_curl":{"id":"page_with_curl","name":"Page with Curl","keywords":["documents","office","paper"],"skins":[{"unified":"1f4c3","native":"\u{1F4C3}"}],"version":1},"scroll":{"id":"scroll","name":"Scroll","keywords":["documents","ancient","history","paper"],"skins":[{"unified":"1f4dc","native":"\u{1F4DC}"}],"version":1},"page_facing_up":{"id":"page_facing_up","name":"Page Facing Up","keywords":["documents","office","paper","information"],"skins":[{"unified":"1f4c4","native":"\u{1F4C4}"}],"version":1},"newspaper":{"id":"newspaper","name":"Newspaper","keywords":["press","headline"],"skins":[{"unified":"1f4f0","native":"\u{1F4F0}"}],"version":1},"rolled_up_newspaper":{"id":"rolled_up_newspaper","name":"Rolled-Up Newspaper","keywords":["rolled","up","press","headline"],"skins":[{"unified":"1f5de-fe0f","native":"\u{1F5DE}\uFE0F"}],"version":1},"bookmark_tabs":{"id":"bookmark_tabs","name":"Bookmark Tabs","keywords":["favorite","save","order","tidy"],"skins":[{"unified":"1f4d1","native":"\u{1F4D1}"}],"version":1},"bookmark":{"id":"bookmark","name":"Bookmark","keywords":["favorite","label","save"],"skins":[{"unified":"1f516","native":"\u{1F516}"}],"version":1},"label":{"id":"label","name":"Label","keywords":["sale","tag"],"skins":[{"unified":"1f3f7-fe0f","native":"\u{1F3F7}\uFE0F"}],"version":1},"moneybag":{"id":"moneybag","name":"Money Bag","keywords":["moneybag","dollar","payment","coins","sale"],"skins":[{"unified":"1f4b0","native":"\u{1F4B0}"}],"version":1},"coin":{"id":"coin","name":"Coin","keywords":["money","currency"],"skins":[{"unified":"1fa99","native":"\u{1FA99}"}],"version":13},"yen":{"id":"yen","name":"Yen Banknote","keywords":["money","sales","japanese","dollar","currency"],"skins":[{"unified":"1f4b4","native":"\u{1F4B4}"}],"version":1},"dollar":{"id":"dollar","name":"Dollar Banknote","keywords":["money","sales","bill","currency"],"skins":[{"unified":"1f4b5","native":"\u{1F4B5}"}],"version":1},"euro":{"id":"euro","name":"Euro Banknote","keywords":["money","sales","dollar","currency"],"skins":[{"unified":"1f4b6","native":"\u{1F4B6}"}],"version":1},"pound":{"id":"pound","name":"Pound Banknote","keywords":["british","sterling","money","sales","bills","uk","england","currency"],"skins":[{"unified":"1f4b7","native":"\u{1F4B7}"}],"version":1},"money_with_wings":{"id":"money_with_wings","name":"Money with Wings","keywords":["dollar","bills","payment","sale"],"skins":[{"unified":"1f4b8","native":"\u{1F4B8}"}],"version":1},"credit_card":{"id":"credit_card","name":"Credit Card","keywords":["money","sales","dollar","bill","payment","shopping"],"skins":[{"unified":"1f4b3","native":"\u{1F4B3}"}],"version":1},"receipt":{"id":"receipt","name":"Receipt","keywords":["accounting","expenses"],"skins":[{"unified":"1f9fe","native":"\u{1F9FE}"}],"version":11},"chart":{"id":"chart","name":"Chart Increasing with Yen","keywords":["green","square","graph","presentation","stats"],"skins":[{"unified":"1f4b9","native":"\u{1F4B9}"}],"version":1},"email":{"id":"email","name":"Envelope","keywords":["email","letter","postal","inbox","communication"],"skins":[{"unified":"2709-fe0f","native":"\u2709\uFE0F"}],"version":1},"e-mail":{"id":"e-mail","name":"E-Mail","keywords":["e","mail","communication","inbox"],"skins":[{"unified":"1f4e7","native":"\u{1F4E7}"}],"version":1},"incoming_envelope":{"id":"incoming_envelope","name":"Incoming Envelope","keywords":["email","inbox"],"skins":[{"unified":"1f4e8","native":"\u{1F4E8}"}],"version":1},"envelope_with_arrow":{"id":"envelope_with_arrow","name":"Envelope with Arrow","keywords":["email","communication"],"skins":[{"unified":"1f4e9","native":"\u{1F4E9}"}],"version":1},"outbox_tray":{"id":"outbox_tray","name":"Outbox Tray","keywords":["inbox","email"],"skins":[{"unified":"1f4e4","native":"\u{1F4E4}"}],"version":1},"inbox_tray":{"id":"inbox_tray","name":"Inbox Tray","keywords":["email","documents"],"skins":[{"unified":"1f4e5","native":"\u{1F4E5}"}],"version":1},"package":{"id":"package","name":"Package","keywords":["mail","gift","cardboard","box","moving"],"skins":[{"unified":"1f4e6","native":"\u{1F4E6}"}],"version":1},"mailbox":{"id":"mailbox","name":"Closed Mailbox with Raised Flag","keywords":["email","inbox","communication"],"skins":[{"unified":"1f4eb","native":"\u{1F4EB}"}],"version":1},"mailbox_closed":{"id":"mailbox_closed","name":"Closed Mailbox with Lowered Flag","keywords":["email","communication","inbox"],"skins":[{"unified":"1f4ea","native":"\u{1F4EA}"}],"version":1},"mailbox_with_mail":{"id":"mailbox_with_mail","name":"Open Mailbox with Raised Flag","keywords":["mail","email","inbox","communication"],"skins":[{"unified":"1f4ec","native":"\u{1F4EC}"}],"version":1},"mailbox_with_no_mail":{"id":"mailbox_with_no_mail","name":"Open Mailbox with Lowered Flag","keywords":["no","mail","email","inbox"],"skins":[{"unified":"1f4ed","native":"\u{1F4ED}"}],"version":1},"postbox":{"id":"postbox","name":"Postbox","keywords":["email","letter","envelope"],"skins":[{"unified":"1f4ee","native":"\u{1F4EE}"}],"version":1},"ballot_box_with_ballot":{"id":"ballot_box_with_ballot","name":"Ballot Box with Ballot","keywords":["election","vote"],"skins":[{"unified":"1f5f3-fe0f","native":"\u{1F5F3}\uFE0F"}],"version":1},"pencil2":{"id":"pencil2","name":"Pencil","keywords":["pencil2","stationery","write","paper","writing","school","study"],"skins":[{"unified":"270f-fe0f","native":"\u270F\uFE0F"}],"version":1},"black_nib":{"id":"black_nib","name":"Black Nib","keywords":["pen","stationery","writing","write"],"skins":[{"unified":"2712-fe0f","native":"\u2712\uFE0F"}],"version":1},"lower_left_fountain_pen":{"id":"lower_left_fountain_pen","name":"Fountain Pen","keywords":["lower","left","stationery","writing","write"],"skins":[{"unified":"1f58b-fe0f","native":"\u{1F58B}\uFE0F"}],"version":1},"lower_left_ballpoint_pen":{"id":"lower_left_ballpoint_pen","name":"Pen","keywords":["lower","left","ballpoint","stationery","writing","write"],"skins":[{"unified":"1f58a-fe0f","native":"\u{1F58A}\uFE0F"}],"version":1},"lower_left_paintbrush":{"id":"lower_left_paintbrush","name":"Paintbrush","keywords":["lower","left","drawing","creativity","art"],"skins":[{"unified":"1f58c-fe0f","native":"\u{1F58C}\uFE0F"}],"version":1},"lower_left_crayon":{"id":"lower_left_crayon","name":"Crayon","keywords":["lower","left","drawing","creativity"],"skins":[{"unified":"1f58d-fe0f","native":"\u{1F58D}\uFE0F"}],"version":1},"memo":{"id":"memo","name":"Memo","keywords":["pencil","write","documents","stationery","paper","writing","legal","exam","quiz","test","study","compose"],"skins":[{"unified":"1f4dd","native":"\u{1F4DD}"}],"version":1},"briefcase":{"id":"briefcase","name":"Briefcase","keywords":["business","documents","work","law","legal","job","career"],"skins":[{"unified":"1f4bc","native":"\u{1F4BC}"}],"version":1},"file_folder":{"id":"file_folder","name":"File Folder","keywords":["documents","business","office"],"skins":[{"unified":"1f4c1","native":"\u{1F4C1}"}],"version":1},"open_file_folder":{"id":"open_file_folder","name":"Open File Folder","keywords":["documents","load"],"skins":[{"unified":"1f4c2","native":"\u{1F4C2}"}],"version":1},"card_index_dividers":{"id":"card_index_dividers","name":"Card Index Dividers","keywords":["organizing","business","stationery"],"skins":[{"unified":"1f5c2-fe0f","native":"\u{1F5C2}\uFE0F"}],"version":1},"date":{"id":"date","name":"Calendar","keywords":["date","schedule"],"skins":[{"unified":"1f4c5","native":"\u{1F4C5}"}],"version":1},"calendar":{"id":"calendar","name":"Tear-off Calendar","keywords":["tear","off","schedule","date","planning"],"skins":[{"unified":"1f4c6","native":"\u{1F4C6}"}],"version":1},"spiral_note_pad":{"id":"spiral_note_pad","name":"Spiral Notepad","keywords":["note","pad","memo","stationery"],"skins":[{"unified":"1f5d2-fe0f","native":"\u{1F5D2}\uFE0F"}],"version":1},"spiral_calendar_pad":{"id":"spiral_calendar_pad","name":"Spiral Calendar","keywords":["pad","date","schedule","planning"],"skins":[{"unified":"1f5d3-fe0f","native":"\u{1F5D3}\uFE0F"}],"version":1},"card_index":{"id":"card_index","name":"Card Index","keywords":["business","stationery"],"skins":[{"unified":"1f4c7","native":"\u{1F4C7}"}],"version":1},"chart_with_upwards_trend":{"id":"chart_with_upwards_trend","name":"Chart Increasing","keywords":["with","upwards","trend","graph","presentation","stats","recovery","business","economics","money","sales","good","success"],"skins":[{"unified":"1f4c8","native":"\u{1F4C8}"}],"version":1},"chart_with_downwards_trend":{"id":"chart_with_downwards_trend","name":"Chart Decreasing","keywords":["with","downwards","trend","graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],"skins":[{"unified":"1f4c9","native":"\u{1F4C9}"}],"version":1},"bar_chart":{"id":"bar_chart","name":"Bar Chart","keywords":["graph","presentation","stats"],"skins":[{"unified":"1f4ca","native":"\u{1F4CA}"}],"version":1},"clipboard":{"id":"clipboard","name":"Clipboard","keywords":["stationery","documents"],"skins":[{"unified":"1f4cb","native":"\u{1F4CB}"}],"version":1},"pushpin":{"id":"pushpin","name":"Pushpin","keywords":["stationery","mark","here"],"skins":[{"unified":"1f4cc","native":"\u{1F4CC}"}],"version":1},"round_pushpin":{"id":"round_pushpin","name":"Round Pushpin","keywords":["stationery","location","map","here"],"skins":[{"unified":"1f4cd","native":"\u{1F4CD}"}],"version":1},"paperclip":{"id":"paperclip","name":"Paperclip","keywords":["documents","stationery"],"skins":[{"unified":"1f4ce","native":"\u{1F4CE}"}],"version":1},"linked_paperclips":{"id":"linked_paperclips","name":"Linked Paperclips","keywords":["documents","stationery"],"skins":[{"unified":"1f587-fe0f","native":"\u{1F587}\uFE0F"}],"version":1},"straight_ruler":{"id":"straight_ruler","name":"Straight Ruler","keywords":["stationery","calculate","length","math","school","drawing","architect","sketch"],"skins":[{"unified":"1f4cf","native":"\u{1F4CF}"}],"version":1},"triangular_ruler":{"id":"triangular_ruler","name":"Triangular Ruler","keywords":["stationery","math","architect","sketch"],"skins":[{"unified":"1f4d0","native":"\u{1F4D0}"}],"version":1},"scissors":{"id":"scissors","name":"Scissors","keywords":["stationery","cut"],"skins":[{"unified":"2702-fe0f","native":"\u2702\uFE0F"}],"version":1},"card_file_box":{"id":"card_file_box","name":"Card File Box","keywords":["business","stationery"],"skins":[{"unified":"1f5c3-fe0f","native":"\u{1F5C3}\uFE0F"}],"version":1},"file_cabinet":{"id":"file_cabinet","name":"File Cabinet","keywords":["filing","organizing"],"skins":[{"unified":"1f5c4-fe0f","native":"\u{1F5C4}\uFE0F"}],"version":1},"wastebasket":{"id":"wastebasket","name":"Wastebasket","keywords":["bin","trash","rubbish","garbage","toss"],"skins":[{"unified":"1f5d1-fe0f","native":"\u{1F5D1}\uFE0F"}],"version":1},"lock":{"id":"lock","name":"Lock","keywords":["locked","security","password","padlock"],"skins":[{"unified":"1f512","native":"\u{1F512}"}],"version":1},"unlock":{"id":"unlock","name":"Unlocked","keywords":["unlock","privacy","security"],"skins":[{"unified":"1f513","native":"\u{1F513}"}],"version":1},"lock_with_ink_pen":{"id":"lock_with_ink_pen","name":"Locked with Pen","keywords":["lock","ink","security","secret"],"skins":[{"unified":"1f50f","native":"\u{1F50F}"}],"version":1},"closed_lock_with_key":{"id":"closed_lock_with_key","name":"Locked with Key","keywords":["closed","lock","security","privacy"],"skins":[{"unified":"1f510","native":"\u{1F510}"}],"version":1},"key":{"id":"key","name":"Key","keywords":["lock","door","password"],"skins":[{"unified":"1f511","native":"\u{1F511}"}],"version":1},"old_key":{"id":"old_key","name":"Old Key","keywords":["lock","door","password"],"skins":[{"unified":"1f5dd-fe0f","native":"\u{1F5DD}\uFE0F"}],"version":1},"hammer":{"id":"hammer","name":"Hammer","keywords":["tools","build","create"],"skins":[{"unified":"1f528","native":"\u{1F528}"}],"version":1},"axe":{"id":"axe","name":"Axe","keywords":["tool","chop","cut"],"skins":[{"unified":"1fa93","native":"\u{1FA93}"}],"version":12},"pick":{"id":"pick","name":"Pick","keywords":["tools","dig"],"skins":[{"unified":"26cf-fe0f","native":"\u26CF\uFE0F"}],"version":1},"hammer_and_pick":{"id":"hammer_and_pick","name":"Hammer and Pick","keywords":["tools","build","create"],"skins":[{"unified":"2692-fe0f","native":"\u2692\uFE0F"}],"version":1},"hammer_and_wrench":{"id":"hammer_and_wrench","name":"Hammer and Wrench","keywords":["tools","build","create"],"skins":[{"unified":"1f6e0-fe0f","native":"\u{1F6E0}\uFE0F"}],"version":1},"dagger_knife":{"id":"dagger_knife","name":"Dagger","keywords":["knife","weapon"],"skins":[{"unified":"1f5e1-fe0f","native":"\u{1F5E1}\uFE0F"}],"version":1},"crossed_swords":{"id":"crossed_swords","name":"Crossed Swords","keywords":["weapon"],"skins":[{"unified":"2694-fe0f","native":"\u2694\uFE0F"}],"version":1},"bomb":{"id":"bomb","name":"Bomb","keywords":["boom","explode","explosion","terrorism"],"skins":[{"unified":"1f4a3","native":"\u{1F4A3}"}],"version":1},"boomerang":{"id":"boomerang","name":"Boomerang","keywords":["weapon"],"skins":[{"unified":"1fa83","native":"\u{1FA83}"}],"version":13},"bow_and_arrow":{"id":"bow_and_arrow","name":"Bow and Arrow","keywords":["sports"],"skins":[{"unified":"1f3f9","native":"\u{1F3F9}"}],"version":1},"shield":{"id":"shield","name":"Shield","keywords":["protection","security"],"skins":[{"unified":"1f6e1-fe0f","native":"\u{1F6E1}\uFE0F"}],"version":1},"carpentry_saw":{"id":"carpentry_saw","name":"Carpentry Saw","keywords":["cut","chop"],"skins":[{"unified":"1fa9a","native":"\u{1FA9A}"}],"version":13},"wrench":{"id":"wrench","name":"Wrench","keywords":["tools","diy","ikea","fix","maintainer"],"skins":[{"unified":"1f527","native":"\u{1F527}"}],"version":1},"screwdriver":{"id":"screwdriver","name":"Screwdriver","keywords":["tools"],"skins":[{"unified":"1fa9b","native":"\u{1FA9B}"}],"version":13},"nut_and_bolt":{"id":"nut_and_bolt","name":"Nut and Bolt","keywords":["handy","tools","fix"],"skins":[{"unified":"1f529","native":"\u{1F529}"}],"version":1},"gear":{"id":"gear","name":"Gear","keywords":["cog"],"skins":[{"unified":"2699-fe0f","native":"\u2699\uFE0F"}],"version":1},"compression":{"id":"compression","name":"Clamp","keywords":["compression","tool"],"skins":[{"unified":"1f5dc-fe0f","native":"\u{1F5DC}\uFE0F"}],"version":1},"scales":{"id":"scales","name":"Balance Scale","keywords":["scales","law","fairness","weight"],"skins":[{"unified":"2696-fe0f","native":"\u2696\uFE0F"}],"version":1},"probing_cane":{"id":"probing_cane","name":"White Cane","keywords":["probing","accessibility"],"skins":[{"unified":"1f9af","native":"\u{1F9AF}"}],"version":12},"link":{"id":"link","name":"Link","keywords":["rings","url"],"skins":[{"unified":"1f517","native":"\u{1F517}"}],"version":1},"chains":{"id":"chains","name":"Chains","keywords":["lock","arrest"],"skins":[{"unified":"26d3-fe0f","native":"\u26D3\uFE0F"}],"version":1},"hook":{"id":"hook","name":"Hook","keywords":["tools"],"skins":[{"unified":"1fa9d","native":"\u{1FA9D}"}],"version":13},"toolbox":{"id":"toolbox","name":"Toolbox","keywords":["tools","diy","fix","maintainer","mechanic"],"skins":[{"unified":"1f9f0","native":"\u{1F9F0}"}],"version":11},"magnet":{"id":"magnet","name":"Magnet","keywords":["attraction","magnetic"],"skins":[{"unified":"1f9f2","native":"\u{1F9F2}"}],"version":11},"ladder":{"id":"ladder","name":"Ladder","keywords":["tools"],"skins":[{"unified":"1fa9c","native":"\u{1FA9C}"}],"version":13},"alembic":{"id":"alembic","name":"Alembic","keywords":["distilling","science","experiment","chemistry"],"skins":[{"unified":"2697-fe0f","native":"\u2697\uFE0F"}],"version":1},"test_tube":{"id":"test_tube","name":"Test Tube","keywords":["chemistry","experiment","lab","science"],"skins":[{"unified":"1f9ea","native":"\u{1F9EA}"}],"version":11},"petri_dish":{"id":"petri_dish","name":"Petri Dish","keywords":["bacteria","biology","culture","lab"],"skins":[{"unified":"1f9eb","native":"\u{1F9EB}"}],"version":11},"dna":{"id":"dna","name":"Dna","keywords":["biologist","genetics","life"],"skins":[{"unified":"1f9ec","native":"\u{1F9EC}"}],"version":11},"microscope":{"id":"microscope","name":"Microscope","keywords":["laboratory","experiment","zoomin","science","study"],"skins":[{"unified":"1f52c","native":"\u{1F52C}"}],"version":1},"telescope":{"id":"telescope","name":"Telescope","keywords":["stars","space","zoom","science","astronomy"],"skins":[{"unified":"1f52d","native":"\u{1F52D}"}],"version":1},"satellite_antenna":{"id":"satellite_antenna","name":"Satellite Antenna","keywords":["communication","future","radio","space"],"skins":[{"unified":"1f4e1","native":"\u{1F4E1}"}],"version":1},"syringe":{"id":"syringe","name":"Syringe","keywords":["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],"skins":[{"unified":"1f489","native":"\u{1F489}"}],"version":1},"drop_of_blood":{"id":"drop_of_blood","name":"Drop of Blood","keywords":["period","hurt","harm","wound"],"skins":[{"unified":"1fa78","native":"\u{1FA78}"}],"version":12},"pill":{"id":"pill","name":"Pill","keywords":["health","medicine","doctor","pharmacy","drug"],"skins":[{"unified":"1f48a","native":"\u{1F48A}"}],"version":1},"adhesive_bandage":{"id":"adhesive_bandage","name":"Adhesive Bandage","keywords":["heal"],"skins":[{"unified":"1fa79","native":"\u{1FA79}"}],"version":12},"crutch":{"id":"crutch","name":"Crutch","keywords":["accessibility","assist"],"skins":[{"unified":"1fa7c","native":"\u{1FA7C}"}],"version":14},"stethoscope":{"id":"stethoscope","name":"Stethoscope","keywords":["health"],"skins":[{"unified":"1fa7a","native":"\u{1FA7A}"}],"version":12},"x-ray":{"id":"x-ray","name":"X-Ray","keywords":["x","ray","skeleton","medicine"],"skins":[{"unified":"1fa7b","native":"\u{1FA7B}"}],"version":14},"door":{"id":"door","name":"Door","keywords":["house","entry","exit"],"skins":[{"unified":"1f6aa","native":"\u{1F6AA}"}],"version":1},"elevator":{"id":"elevator","name":"Elevator","keywords":["lift"],"skins":[{"unified":"1f6d7","native":"\u{1F6D7}"}],"version":13},"mirror":{"id":"mirror","name":"Mirror","keywords":["reflection"],"skins":[{"unified":"1fa9e","native":"\u{1FA9E}"}],"version":13},"window":{"id":"window","name":"Window","keywords":["scenery"],"skins":[{"unified":"1fa9f","native":"\u{1FA9F}"}],"version":13},"bed":{"id":"bed","name":"Bed","keywords":["sleep","rest"],"skins":[{"unified":"1f6cf-fe0f","native":"\u{1F6CF}\uFE0F"}],"version":1},"couch_and_lamp":{"id":"couch_and_lamp","name":"Couch and Lamp","keywords":["read","chill"],"skins":[{"unified":"1f6cb-fe0f","native":"\u{1F6CB}\uFE0F"}],"version":1},"chair":{"id":"chair","name":"Chair","keywords":["sit","furniture"],"skins":[{"unified":"1fa91","native":"\u{1FA91}"}],"version":12},"toilet":{"id":"toilet","name":"Toilet","keywords":["restroom","wc","washroom","bathroom","potty"],"skins":[{"unified":"1f6bd","native":"\u{1F6BD}"}],"version":1},"plunger":{"id":"plunger","name":"Plunger","keywords":["toilet"],"skins":[{"unified":"1faa0","native":"\u{1FAA0}"}],"version":13},"shower":{"id":"shower","name":"Shower","keywords":["clean","water","bathroom"],"skins":[{"unified":"1f6bf","native":"\u{1F6BF}"}],"version":1},"bathtub":{"id":"bathtub","name":"Bathtub","keywords":["clean","shower","bathroom"],"skins":[{"unified":"1f6c1","native":"\u{1F6C1}"}],"version":1},"mouse_trap":{"id":"mouse_trap","name":"Mouse Trap","keywords":["cheese"],"skins":[{"unified":"1faa4","native":"\u{1FAA4}"}],"version":13},"razor":{"id":"razor","name":"Razor","keywords":["cut"],"skins":[{"unified":"1fa92","native":"\u{1FA92}"}],"version":12},"lotion_bottle":{"id":"lotion_bottle","name":"Lotion Bottle","keywords":["moisturizer","sunscreen"],"skins":[{"unified":"1f9f4","native":"\u{1F9F4}"}],"version":11},"safety_pin":{"id":"safety_pin","name":"Safety Pin","keywords":["diaper"],"skins":[{"unified":"1f9f7","native":"\u{1F9F7}"}],"version":11},"broom":{"id":"broom","name":"Broom","keywords":["cleaning","sweeping","witch"],"skins":[{"unified":"1f9f9","native":"\u{1F9F9}"}],"version":11},"basket":{"id":"basket","name":"Basket","keywords":["laundry"],"skins":[{"unified":"1f9fa","native":"\u{1F9FA}"}],"version":11},"roll_of_paper":{"id":"roll_of_paper","name":"Roll of Paper","keywords":[],"skins":[{"unified":"1f9fb","native":"\u{1F9FB}"}],"version":11},"bucket":{"id":"bucket","name":"Bucket","keywords":["water","container"],"skins":[{"unified":"1faa3","native":"\u{1FAA3}"}],"version":13},"soap":{"id":"soap","name":"Soap","keywords":["bar","bathing","cleaning","lather"],"skins":[{"unified":"1f9fc","native":"\u{1F9FC}"}],"version":11},"bubbles":{"id":"bubbles","name":"Bubbles","keywords":["soap","fun","carbonation","sparkling"],"skins":[{"unified":"1fae7","native":"\u{1FAE7}"}],"version":14},"toothbrush":{"id":"toothbrush","name":"Toothbrush","keywords":["hygiene","dental"],"skins":[{"unified":"1faa5","native":"\u{1FAA5}"}],"version":13},"sponge":{"id":"sponge","name":"Sponge","keywords":["absorbing","cleaning","porous"],"skins":[{"unified":"1f9fd","native":"\u{1F9FD}"}],"version":11},"fire_extinguisher":{"id":"fire_extinguisher","name":"Fire Extinguisher","keywords":["quench"],"skins":[{"unified":"1f9ef","native":"\u{1F9EF}"}],"version":11},"shopping_trolley":{"id":"shopping_trolley","name":"Shopping Cart","keywords":["trolley"],"skins":[{"unified":"1f6d2","native":"\u{1F6D2}"}],"version":3},"smoking":{"id":"smoking","name":"Cigarette","keywords":["smoking","kills","tobacco","joint","smoke"],"skins":[{"unified":"1f6ac","native":"\u{1F6AC}"}],"version":1},"coffin":{"id":"coffin","name":"Coffin","keywords":["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],"skins":[{"unified":"26b0-fe0f","native":"\u26B0\uFE0F"}],"version":1},"headstone":{"id":"headstone","name":"Headstone","keywords":["death","rip","grave"],"skins":[{"unified":"1faa6","native":"\u{1FAA6}"}],"version":13},"funeral_urn":{"id":"funeral_urn","name":"Funeral Urn","keywords":["dead","die","death","rip","ashes"],"skins":[{"unified":"26b1-fe0f","native":"\u26B1\uFE0F"}],"version":1},"nazar_amulet":{"id":"nazar_amulet","name":"Nazar Amulet","keywords":["bead","charm"],"skins":[{"unified":"1f9ff","native":"\u{1F9FF}"}],"version":11},"hamsa":{"id":"hamsa","name":"Hamsa","keywords":["religion","protection"],"skins":[{"unified":"1faac","native":"\u{1FAAC}"}],"version":14},"moyai":{"id":"moyai","name":"Moai","keywords":["moyai","rock","easter","island"],"skins":[{"unified":"1f5ff","native":"\u{1F5FF}"}],"version":1},"placard":{"id":"placard","name":"Placard","keywords":["announcement"],"skins":[{"unified":"1faa7","native":"\u{1FAA7}"}],"version":13},"identification_card":{"id":"identification_card","name":"Identification Card","keywords":["document"],"skins":[{"unified":"1faaa","native":"\u{1FAAA}"}],"version":14},"atm":{"id":"atm","name":"Atm Sign","keywords":["money","sales","cash","blue","square","payment","bank"],"skins":[{"unified":"1f3e7","native":"\u{1F3E7}"}],"version":1},"put_litter_in_its_place":{"id":"put_litter_in_its_place","name":"Litter in Bin Sign","keywords":["put","its","place","blue","square","human","info"],"skins":[{"unified":"1f6ae","native":"\u{1F6AE}"}],"version":1},"potable_water":{"id":"potable_water","name":"Potable Water","keywords":["blue","square","liquid","restroom","cleaning","faucet"],"skins":[{"unified":"1f6b0","native":"\u{1F6B0}"}],"version":1},"wheelchair":{"id":"wheelchair","name":"Wheelchair Symbol","keywords":["blue","square","disabled","accessibility"],"skins":[{"unified":"267f","native":"\u267F"}],"version":1},"mens":{"id":"mens","name":"Men\u2019s Room","keywords":["mens","men","s","toilet","restroom","wc","blue","square","gender","male"],"skins":[{"unified":"1f6b9","native":"\u{1F6B9}"}],"version":1},"womens":{"id":"womens","name":"Women\u2019s Room","keywords":["womens","women","s","purple","square","woman","female","toilet","loo","restroom","gender"],"skins":[{"unified":"1f6ba","native":"\u{1F6BA}"}],"version":1},"restroom":{"id":"restroom","name":"Restroom","keywords":["blue","square","toilet","refresh","wc","gender"],"skins":[{"unified":"1f6bb","native":"\u{1F6BB}"}],"version":1},"baby_symbol":{"id":"baby_symbol","name":"Baby Symbol","keywords":["orange","square","child"],"skins":[{"unified":"1f6bc","native":"\u{1F6BC}"}],"version":1},"wc":{"id":"wc","name":"Water Closet","keywords":["wc","toilet","restroom","blue","square"],"skins":[{"unified":"1f6be","native":"\u{1F6BE}"}],"version":1},"passport_control":{"id":"passport_control","name":"Passport Control","keywords":["custom","blue","square"],"skins":[{"unified":"1f6c2","native":"\u{1F6C2}"}],"version":1},"customs":{"id":"customs","name":"Customs","keywords":["passport","border","blue","square"],"skins":[{"unified":"1f6c3","native":"\u{1F6C3}"}],"version":1},"baggage_claim":{"id":"baggage_claim","name":"Baggage Claim","keywords":["blue","square","airport","transport"],"skins":[{"unified":"1f6c4","native":"\u{1F6C4}"}],"version":1},"left_luggage":{"id":"left_luggage","name":"Left Luggage","keywords":["blue","square","travel"],"skins":[{"unified":"1f6c5","native":"\u{1F6C5}"}],"version":1},"warning":{"id":"warning","name":"Warning","keywords":["exclamation","wip","alert","error","problem","issue"],"skins":[{"unified":"26a0-fe0f","native":"\u26A0\uFE0F"}],"version":1},"children_crossing":{"id":"children_crossing","name":"Children Crossing","keywords":["school","warning","danger","sign","driving","yellow","diamond"],"skins":[{"unified":"1f6b8","native":"\u{1F6B8}"}],"version":1},"no_entry":{"id":"no_entry","name":"No Entry","keywords":["limit","security","privacy","bad","denied","stop","circle"],"skins":[{"unified":"26d4","native":"\u26D4"}],"version":1},"no_entry_sign":{"id":"no_entry_sign","name":"Prohibited","keywords":["no","entry","sign","forbid","stop","limit","denied","disallow","circle"],"skins":[{"unified":"1f6ab","native":"\u{1F6AB}"}],"version":1},"no_bicycles":{"id":"no_bicycles","name":"No Bicycles","keywords":["cyclist","prohibited","circle"],"skins":[{"unified":"1f6b3","native":"\u{1F6B3}"}],"version":1},"no_smoking":{"id":"no_smoking","name":"No Smoking","keywords":["cigarette","blue","square","smell","smoke"],"skins":[{"unified":"1f6ad","native":"\u{1F6AD}"}],"version":1},"do_not_litter":{"id":"do_not_litter","name":"No Littering","keywords":["do","not","litter","trash","bin","garbage","circle"],"skins":[{"unified":"1f6af","native":"\u{1F6AF}"}],"version":1},"non-potable_water":{"id":"non-potable_water","name":"Non-Potable Water","keywords":["non","potable","drink","faucet","tap","circle"],"skins":[{"unified":"1f6b1","native":"\u{1F6B1}"}],"version":1},"no_pedestrians":{"id":"no_pedestrians","name":"No Pedestrians","keywords":["rules","crossing","walking","circle"],"skins":[{"unified":"1f6b7","native":"\u{1F6B7}"}],"version":1},"no_mobile_phones":{"id":"no_mobile_phones","name":"No Mobile Phones","keywords":["iphone","mute","circle"],"skins":[{"unified":"1f4f5","native":"\u{1F4F5}"}],"version":1},"underage":{"id":"underage","name":"No One Under Eighteen","keywords":["underage","18","drink","pub","night","minor","circle"],"skins":[{"unified":"1f51e","native":"\u{1F51E}"}],"version":1},"radioactive_sign":{"id":"radioactive_sign","name":"Radioactive","keywords":["sign","nuclear","danger"],"skins":[{"unified":"2622-fe0f","native":"\u2622\uFE0F"}],"version":1},"biohazard_sign":{"id":"biohazard_sign","name":"Biohazard","keywords":["sign","danger"],"skins":[{"unified":"2623-fe0f","native":"\u2623\uFE0F"}],"version":1},"arrow_up":{"id":"arrow_up","name":"Up Arrow","keywords":["blue","square","continue","top","direction"],"skins":[{"unified":"2b06-fe0f","native":"\u2B06\uFE0F"}],"version":1},"arrow_upper_right":{"id":"arrow_upper_right","name":"Up-Right Arrow","keywords":["upper","right","up","blue","square","point","direction","diagonal","northeast"],"skins":[{"unified":"2197-fe0f","native":"\u2197\uFE0F"}],"version":1},"arrow_right":{"id":"arrow_right","name":"Right Arrow","keywords":["blue","square","next"],"skins":[{"unified":"27a1-fe0f","native":"\u27A1\uFE0F"}],"version":1},"arrow_lower_right":{"id":"arrow_lower_right","name":"South East Arrow","keywords":["lower","right","down","blue","square","direction","diagonal","southeast"],"skins":[{"unified":"2198-fe0f","native":"\u2198\uFE0F"}],"version":1},"arrow_down":{"id":"arrow_down","name":"Down Arrow","keywords":["blue","square","direction","bottom"],"skins":[{"unified":"2b07-fe0f","native":"\u2B07\uFE0F"}],"version":1},"arrow_lower_left":{"id":"arrow_lower_left","name":"Down-Left Arrow","keywords":["lower","left","down","blue","square","direction","diagonal","southwest"],"skins":[{"unified":"2199-fe0f","native":"\u2199\uFE0F"}],"version":1},"arrow_left":{"id":"arrow_left","name":"Left Arrow","keywords":["blue","square","previous","back"],"skins":[{"unified":"2b05-fe0f","native":"\u2B05\uFE0F"}],"version":1},"arrow_upper_left":{"id":"arrow_upper_left","name":"Up-Left Arrow","keywords":["upper","left","up","blue","square","point","direction","diagonal","northwest"],"skins":[{"unified":"2196-fe0f","native":"\u2196\uFE0F"}],"version":1},"arrow_up_down":{"id":"arrow_up_down","name":"Up Down Arrow","keywords":["blue","square","direction","way","vertical"],"skins":[{"unified":"2195-fe0f","native":"\u2195\uFE0F"}],"version":1},"left_right_arrow":{"id":"left_right_arrow","name":"Left Right Arrow","keywords":["shape","direction","horizontal","sideways"],"skins":[{"unified":"2194-fe0f","native":"\u2194\uFE0F"}],"version":1},"leftwards_arrow_with_hook":{"id":"leftwards_arrow_with_hook","name":"Right Arrow Curving Left","keywords":["leftwards","with","hook","back","return","blue","square","undo","enter"],"skins":[{"unified":"21a9-fe0f","native":"\u21A9\uFE0F"}],"version":1},"arrow_right_hook":{"id":"arrow_right_hook","name":"Left Arrow Curving Right","keywords":["hook","blue","square","return","rotate","direction"],"skins":[{"unified":"21aa-fe0f","native":"\u21AA\uFE0F"}],"version":1},"arrow_heading_up":{"id":"arrow_heading_up","name":"Right Arrow Curving Up","keywords":["heading","blue","square","direction","top"],"skins":[{"unified":"2934-fe0f","native":"\u2934\uFE0F"}],"version":1},"arrow_heading_down":{"id":"arrow_heading_down","name":"Right Arrow Curving Down","keywords":["heading","blue","square","direction","bottom"],"skins":[{"unified":"2935-fe0f","native":"\u2935\uFE0F"}],"version":1},"arrows_clockwise":{"id":"arrows_clockwise","name":"Clockwise Vertical Arrows","keywords":["sync","cycle","round","repeat"],"skins":[{"unified":"1f503","native":"\u{1F503}"}],"version":1},"arrows_counterclockwise":{"id":"arrows_counterclockwise","name":"Counterclockwise Arrows Button","keywords":["blue","square","sync","cycle"],"skins":[{"unified":"1f504","native":"\u{1F504}"}],"version":1},"back":{"id":"back","name":"Back Arrow","keywords":["words","return"],"skins":[{"unified":"1f519","native":"\u{1F519}"}],"version":1},"end":{"id":"end","name":"End Arrow","keywords":["words"],"skins":[{"unified":"1f51a","native":"\u{1F51A}"}],"version":1},"on":{"id":"on","name":"On! Arrow","keywords":["on","words"],"skins":[{"unified":"1f51b","native":"\u{1F51B}"}],"version":1},"soon":{"id":"soon","name":"Soon Arrow","keywords":["words"],"skins":[{"unified":"1f51c","native":"\u{1F51C}"}],"version":1},"top":{"id":"top","name":"Top Arrow","keywords":["words","blue","square"],"skins":[{"unified":"1f51d","native":"\u{1F51D}"}],"version":1},"place_of_worship":{"id":"place_of_worship","name":"Place of Worship","keywords":["religion","church","temple","prayer"],"skins":[{"unified":"1f6d0","native":"\u{1F6D0}"}],"version":1},"atom_symbol":{"id":"atom_symbol","name":"Atom Symbol","keywords":["science","physics","chemistry"],"skins":[{"unified":"269b-fe0f","native":"\u269B\uFE0F"}],"version":1},"om_symbol":{"id":"om_symbol","name":"Om","keywords":["symbol","hinduism","buddhism","sikhism","jainism"],"skins":[{"unified":"1f549-fe0f","native":"\u{1F549}\uFE0F"}],"version":1},"star_of_david":{"id":"star_of_david","name":"Star of David","keywords":["judaism"],"skins":[{"unified":"2721-fe0f","native":"\u2721\uFE0F"}],"version":1},"wheel_of_dharma":{"id":"wheel_of_dharma","name":"Wheel of Dharma","keywords":["hinduism","buddhism","sikhism","jainism"],"skins":[{"unified":"2638-fe0f","native":"\u2638\uFE0F"}],"version":1},"yin_yang":{"id":"yin_yang","name":"Yin Yang","keywords":["balance"],"skins":[{"unified":"262f-fe0f","native":"\u262F\uFE0F"}],"version":1},"latin_cross":{"id":"latin_cross","name":"Latin Cross","keywords":["christianity"],"skins":[{"unified":"271d-fe0f","native":"\u271D\uFE0F"}],"version":1},"orthodox_cross":{"id":"orthodox_cross","name":"Orthodox Cross","keywords":["suppedaneum","religion"],"skins":[{"unified":"2626-fe0f","native":"\u2626\uFE0F"}],"version":1},"star_and_crescent":{"id":"star_and_crescent","name":"Star and Crescent","keywords":["islam"],"skins":[{"unified":"262a-fe0f","native":"\u262A\uFE0F"}],"version":1},"peace_symbol":{"id":"peace_symbol","name":"Peace Symbol","keywords":["hippie"],"skins":[{"unified":"262e-fe0f","native":"\u262E\uFE0F"}],"version":1},"menorah_with_nine_branches":{"id":"menorah_with_nine_branches","name":"Menorah","keywords":["with","nine","branches","hanukkah","candles","jewish"],"skins":[{"unified":"1f54e","native":"\u{1F54E}"}],"version":1},"six_pointed_star":{"id":"six_pointed_star","name":"Dotted Six-Pointed Star","keywords":["six","pointed","purple","square","religion","jewish","hexagram"],"skins":[{"unified":"1f52f","native":"\u{1F52F}"}],"version":1},"khanda":{"id":"khanda","name":"Khanda","keywords":["Sikhism","religion"],"skins":[{"unified":"1faaf","native":"\u{1FAAF}"}],"version":15},"aries":{"id":"aries","name":"Aries","keywords":["sign","purple","square","zodiac","astrology"],"skins":[{"unified":"2648","native":"\u2648"}],"version":1},"taurus":{"id":"taurus","name":"Taurus","keywords":["purple","square","sign","zodiac","astrology"],"skins":[{"unified":"2649","native":"\u2649"}],"version":1},"gemini":{"id":"gemini","name":"Gemini","keywords":["sign","zodiac","purple","square","astrology"],"skins":[{"unified":"264a","native":"\u264A"}],"version":1},"cancer":{"id":"cancer","name":"Cancer","keywords":["sign","zodiac","purple","square","astrology"],"skins":[{"unified":"264b","native":"\u264B"}],"version":1},"leo":{"id":"leo","name":"Leo","keywords":["sign","purple","square","zodiac","astrology"],"skins":[{"unified":"264c","native":"\u264C"}],"version":1},"virgo":{"id":"virgo","name":"Virgo","keywords":["sign","zodiac","purple","square","astrology"],"skins":[{"unified":"264d","native":"\u264D"}],"version":1},"libra":{"id":"libra","name":"Libra","keywords":["sign","purple","square","zodiac","astrology"],"skins":[{"unified":"264e","native":"\u264E"}],"version":1},"scorpius":{"id":"scorpius","name":"Scorpio","keywords":["scorpius","sign","zodiac","purple","square","astrology"],"skins":[{"unified":"264f","native":"\u264F"}],"version":1},"sagittarius":{"id":"sagittarius","name":"Sagittarius","keywords":["sign","zodiac","purple","square","astrology"],"skins":[{"unified":"2650","native":"\u2650"}],"version":1},"capricorn":{"id":"capricorn","name":"Capricorn","keywords":["sign","zodiac","purple","square","astrology"],"skins":[{"unified":"2651","native":"\u2651"}],"version":1},"aquarius":{"id":"aquarius","name":"Aquarius","keywords":["sign","purple","square","zodiac","astrology"],"skins":[{"unified":"2652","native":"\u2652"}],"version":1},"pisces":{"id":"pisces","name":"Pisces","keywords":["purple","square","sign","zodiac","astrology"],"skins":[{"unified":"2653","native":"\u2653"}],"version":1},"ophiuchus":{"id":"ophiuchus","name":"Ophiuchus","keywords":["sign","purple","square","constellation","astrology"],"skins":[{"unified":"26ce","native":"\u26CE"}],"version":1},"twisted_rightwards_arrows":{"id":"twisted_rightwards_arrows","name":"Shuffle Tracks Button","keywords":["twisted","rightwards","arrows","blue","square","music","random"],"skins":[{"unified":"1f500","native":"\u{1F500}"}],"version":1},"repeat":{"id":"repeat","name":"Repeat Button","keywords":["loop","record"],"skins":[{"unified":"1f501","native":"\u{1F501}"}],"version":1},"repeat_one":{"id":"repeat_one","name":"Repeat Single Button","keywords":["one","blue","square","loop"],"skins":[{"unified":"1f502","native":"\u{1F502}"}],"version":1},"arrow_forward":{"id":"arrow_forward","name":"Play Button","keywords":["arrow","forward","blue","square","right","direction"],"skins":[{"unified":"25b6-fe0f","native":"\u25B6\uFE0F"}],"version":1},"fast_forward":{"id":"fast_forward","name":"Fast-Forward Button","keywords":["fast","forward","blue","square","play","speed","continue"],"skins":[{"unified":"23e9","native":"\u23E9"}],"version":1},"black_right_pointing_double_triangle_with_vertical_bar":{"id":"black_right_pointing_double_triangle_with_vertical_bar","name":"Next Track Button","keywords":["black","right","pointing","double","triangle","with","vertical","bar","forward","blue","square"],"skins":[{"unified":"23ed-fe0f","native":"\u23ED\uFE0F"}],"version":1},"black_right_pointing_triangle_with_double_vertical_bar":{"id":"black_right_pointing_triangle_with_double_vertical_bar","name":"Play or Pause Button","keywords":["black","right","pointing","triangle","with","double","vertical","bar","blue","square"],"skins":[{"unified":"23ef-fe0f","native":"\u23EF\uFE0F"}],"version":1},"arrow_backward":{"id":"arrow_backward","name":"Reverse Button","keywords":["arrow","backward","blue","square","left","direction"],"skins":[{"unified":"25c0-fe0f","native":"\u25C0\uFE0F"}],"version":1},"rewind":{"id":"rewind","name":"Fast Reverse Button","keywords":["rewind","play","blue","square"],"skins":[{"unified":"23ea","native":"\u23EA"}],"version":1},"black_left_pointing_double_triangle_with_vertical_bar":{"id":"black_left_pointing_double_triangle_with_vertical_bar","name":"Last Track Button","keywords":["black","left","pointing","double","triangle","with","vertical","bar","backward"],"skins":[{"unified":"23ee-fe0f","native":"\u23EE\uFE0F"}],"version":1},"arrow_up_small":{"id":"arrow_up_small","name":"Upwards Button","keywords":["arrow","up","small","blue","square","triangle","direction","point","forward","top"],"skins":[{"unified":"1f53c","native":"\u{1F53C}"}],"version":1},"arrow_double_up":{"id":"arrow_double_up","name":"Fast Up Button","keywords":["arrow","double","blue","square","direction","top"],"skins":[{"unified":"23eb","native":"\u23EB"}],"version":1},"arrow_down_small":{"id":"arrow_down_small","name":"Downwards Button","keywords":["arrow","down","small","blue","square","direction","bottom"],"skins":[{"unified":"1f53d","native":"\u{1F53D}"}],"version":1},"arrow_double_down":{"id":"arrow_double_down","name":"Fast Down Button","keywords":["arrow","double","blue","square","direction","bottom"],"skins":[{"unified":"23ec","native":"\u23EC"}],"version":1},"double_vertical_bar":{"id":"double_vertical_bar","name":"Pause Button","keywords":["double","vertical","bar","blue","square"],"skins":[{"unified":"23f8-fe0f","native":"\u23F8\uFE0F"}],"version":1},"black_square_for_stop":{"id":"black_square_for_stop","name":"Stop Button","keywords":["black","square","for","blue"],"skins":[{"unified":"23f9-fe0f","native":"\u23F9\uFE0F"}],"version":1},"black_circle_for_record":{"id":"black_circle_for_record","name":"Record Button","keywords":["black","circle","for","blue","square"],"skins":[{"unified":"23fa-fe0f","native":"\u23FA\uFE0F"}],"version":1},"eject":{"id":"eject","name":"Eject Button","keywords":["blue","square"],"skins":[{"unified":"23cf-fe0f","native":"\u23CF\uFE0F"}],"version":1},"cinema":{"id":"cinema","name":"Cinema","keywords":["blue","square","record","film","movie","curtain","stage","theater"],"skins":[{"unified":"1f3a6","native":"\u{1F3A6}"}],"version":1},"low_brightness":{"id":"low_brightness","name":"Dim Button","keywords":["low","brightness","sun","afternoon","warm","summer"],"skins":[{"unified":"1f505","native":"\u{1F505}"}],"version":1},"high_brightness":{"id":"high_brightness","name":"Bright Button","keywords":["high","brightness","sun","light"],"skins":[{"unified":"1f506","native":"\u{1F506}"}],"version":1},"signal_strength":{"id":"signal_strength","name":"Antenna Bars","keywords":["signal","strength","blue","square","reception","phone","internet","connection","wifi","bluetooth"],"skins":[{"unified":"1f4f6","native":"\u{1F4F6}"}],"version":1},"wireless":{"id":"wireless","name":"Wireless","keywords":["wifi","internet","contactless","signal"],"skins":[{"unified":"1f6dc","native":"\u{1F6DC}"}],"version":15},"vibration_mode":{"id":"vibration_mode","name":"Vibration Mode","keywords":["orange","square","phone"],"skins":[{"unified":"1f4f3","native":"\u{1F4F3}"}],"version":1},"mobile_phone_off":{"id":"mobile_phone_off","name":"Mobile Phone off","keywords":["mute","orange","square","silence","quiet"],"skins":[{"unified":"1f4f4","native":"\u{1F4F4}"}],"version":1},"female_sign":{"id":"female_sign","name":"Female Sign","keywords":["woman","women","lady","girl"],"skins":[{"unified":"2640-fe0f","native":"\u2640\uFE0F"}],"version":4},"male_sign":{"id":"male_sign","name":"Male Sign","keywords":["man","boy","men"],"skins":[{"unified":"2642-fe0f","native":"\u2642\uFE0F"}],"version":4},"transgender_symbol":{"id":"transgender_symbol","name":"Transgender Symbol","keywords":["lgbtq"],"skins":[{"unified":"26a7-fe0f","native":"\u26A7\uFE0F"}],"version":13},"heavy_multiplication_x":{"id":"heavy_multiplication_x","name":"Multiply","keywords":["heavy","multiplication","x","sign","math","calculation"],"skins":[{"unified":"2716-fe0f","native":"\u2716\uFE0F"}],"version":1},"heavy_plus_sign":{"id":"heavy_plus_sign","name":"Plus","keywords":["heavy","sign","math","calculation","addition","more","increase"],"skins":[{"unified":"2795","native":"\u2795"}],"version":1},"heavy_minus_sign":{"id":"heavy_minus_sign","name":"Minus","keywords":["heavy","sign","math","calculation","subtract","less"],"skins":[{"unified":"2796","native":"\u2796"}],"version":1},"heavy_division_sign":{"id":"heavy_division_sign","name":"Divide","keywords":["heavy","division","sign","math","calculation"],"skins":[{"unified":"2797","native":"\u2797"}],"version":1},"heavy_equals_sign":{"id":"heavy_equals_sign","name":"Heavy Equals Sign","keywords":["math"],"skins":[{"unified":"1f7f0","native":"\u{1F7F0}"}],"version":14},"infinity":{"id":"infinity","name":"Infinity","keywords":["forever"],"skins":[{"unified":"267e-fe0f","native":"\u267E\uFE0F"}],"version":11},"bangbang":{"id":"bangbang","name":"Double Exclamation Mark","keywords":["bangbang","surprise"],"skins":[{"unified":"203c-fe0f","native":"\u203C\uFE0F"}],"version":1},"interrobang":{"id":"interrobang","name":"Exclamation Question Mark","keywords":["interrobang","wat","punctuation","surprise"],"skins":[{"unified":"2049-fe0f","native":"\u2049\uFE0F"}],"version":1},"question":{"id":"question","name":"Red Question Mark","keywords":["doubt","confused"],"skins":[{"unified":"2753","native":"\u2753"}],"version":1},"grey_question":{"id":"grey_question","name":"White Question Mark","keywords":["grey","doubts","gray","huh","confused"],"skins":[{"unified":"2754","native":"\u2754"}],"version":1},"grey_exclamation":{"id":"grey_exclamation","name":"White Exclamation Mark","keywords":["grey","surprise","punctuation","gray","wow","warning"],"skins":[{"unified":"2755","native":"\u2755"}],"version":1},"exclamation":{"id":"exclamation","name":"Red Exclamation Mark","keywords":["heavy","danger","surprise","punctuation","wow","warning"],"skins":[{"unified":"2757","native":"\u2757"}],"version":1},"wavy_dash":{"id":"wavy_dash","name":"Wavy Dash","keywords":["draw","line","moustache","mustache","squiggle","scribble"],"skins":[{"unified":"3030-fe0f","native":"\u3030\uFE0F"}],"version":1},"currency_exchange":{"id":"currency_exchange","name":"Currency Exchange","keywords":["money","sales","dollar","travel"],"skins":[{"unified":"1f4b1","native":"\u{1F4B1}"}],"version":1},"heavy_dollar_sign":{"id":"heavy_dollar_sign","name":"Heavy Dollar Sign","keywords":["money","sales","payment","currency","buck"],"skins":[{"unified":"1f4b2","native":"\u{1F4B2}"}],"version":1},"medical_symbol":{"id":"medical_symbol","name":"Medical Symbol","keywords":["staff","of","aesculapius","health","hospital"],"skins":[{"unified":"2695-fe0f","native":"\u2695\uFE0F"}],"version":4},"recycle":{"id":"recycle","name":"Recycling Symbol","keywords":["recycle","arrow","environment","garbage","trash"],"skins":[{"unified":"267b-fe0f","native":"\u267B\uFE0F"}],"version":1},"fleur_de_lis":{"id":"fleur_de_lis","name":"Fleur-De-Lis","keywords":["fleur","de","lis","decorative","scout"],"skins":[{"unified":"269c-fe0f","native":"\u269C\uFE0F"}],"version":1},"trident":{"id":"trident","name":"Trident Emblem","keywords":["weapon","spear"],"skins":[{"unified":"1f531","native":"\u{1F531}"}],"version":1},"name_badge":{"id":"name_badge","name":"Name Badge","keywords":["fire","forbid"],"skins":[{"unified":"1f4db","native":"\u{1F4DB}"}],"version":1},"beginner":{"id":"beginner","name":"Japanese Symbol for Beginner","keywords":["badge","shield"],"skins":[{"unified":"1f530","native":"\u{1F530}"}],"version":1},"o":{"id":"o","name":"Hollow Red Circle","keywords":["o","round"],"skins":[{"unified":"2b55","native":"\u2B55"}],"version":1},"white_check_mark":{"id":"white_check_mark","name":"Check Mark Button","keywords":["white","green","square","ok","agree","vote","election","answer","tick"],"skins":[{"unified":"2705","native":"\u2705"}],"version":1},"ballot_box_with_check":{"id":"ballot_box_with_check","name":"Check Box with Check","keywords":["ballot","ok","agree","confirm","black","square","vote","election","yes","tick"],"skins":[{"unified":"2611-fe0f","native":"\u2611\uFE0F"}],"version":1},"heavy_check_mark":{"id":"heavy_check_mark","name":"Check Mark","keywords":["heavy","ok","nike","answer","yes","tick"],"skins":[{"unified":"2714-fe0f","native":"\u2714\uFE0F"}],"version":1},"x":{"id":"x","name":"Cross Mark","keywords":["x","no","delete","remove","cancel","red"],"skins":[{"unified":"274c","native":"\u274C"}],"version":1},"negative_squared_cross_mark":{"id":"negative_squared_cross_mark","name":"Cross Mark Button","keywords":["negative","squared","x","green","square","no","deny"],"skins":[{"unified":"274e","native":"\u274E"}],"version":1},"curly_loop":{"id":"curly_loop","name":"Curly Loop","keywords":["scribble","draw","shape","squiggle"],"skins":[{"unified":"27b0","native":"\u27B0"}],"version":1},"loop":{"id":"loop","name":"Double Curly Loop","keywords":["tape","cassette"],"skins":[{"unified":"27bf","native":"\u27BF"}],"version":1},"part_alternation_mark":{"id":"part_alternation_mark","name":"Part Alternation Mark","keywords":["graph","presentation","stats","business","economics","bad"],"skins":[{"unified":"303d-fe0f","native":"\u303D\uFE0F"}],"version":1},"eight_spoked_asterisk":{"id":"eight_spoked_asterisk","name":"Eight Spoked Asterisk","keywords":["star","sparkle","green","square"],"skins":[{"unified":"2733-fe0f","native":"\u2733\uFE0F"}],"version":1},"eight_pointed_black_star":{"id":"eight_pointed_black_star","name":"Eight-Pointed Star","keywords":["eight","pointed","black","orange","square","shape","polygon"],"skins":[{"unified":"2734-fe0f","native":"\u2734\uFE0F"}],"version":1},"sparkle":{"id":"sparkle","name":"Sparkle","keywords":["stars","green","square","awesome","good","fireworks"],"skins":[{"unified":"2747-fe0f","native":"\u2747\uFE0F"}],"version":1},"copyright":{"id":"copyright","name":"Copyright","keywords":["ip","license","circle","law","legal"],"skins":[{"unified":"00a9-fe0f","native":"\xA9\uFE0F"}],"version":1},"registered":{"id":"registered","name":"Registered","keywords":["alphabet","circle"],"skins":[{"unified":"00ae-fe0f","native":"\xAE\uFE0F"}],"version":1},"tm":{"id":"tm","name":"Trade Mark","keywords":["tm","trademark","brand","law","legal"],"skins":[{"unified":"2122-fe0f","native":"\u2122\uFE0F"}],"version":1},"hash":{"id":"hash","name":"Hash Key","keywords":["keycap","","symbol","blue","square","twitter"],"skins":[{"unified":"0023-fe0f-20e3","native":"#\uFE0F\u20E3"}],"version":1},"keycap_star":{"id":"keycap_star","name":"Keycap: *","keywords":["keycap","star",""],"skins":[{"unified":"002a-fe0f-20e3","native":"*\uFE0F\u20E3"}],"version":2},"zero":{"id":"zero","name":"Keycap 0","keywords":["zero","numbers","blue","square","null"],"skins":[{"unified":"0030-fe0f-20e3","native":"0\uFE0F\u20E3"}],"version":1},"one":{"id":"one","name":"Keycap 1","keywords":["one","blue","square","numbers"],"skins":[{"unified":"0031-fe0f-20e3","native":"1\uFE0F\u20E3"}],"version":1},"two":{"id":"two","name":"Keycap 2","keywords":["two","numbers","prime","blue","square"],"skins":[{"unified":"0032-fe0f-20e3","native":"2\uFE0F\u20E3"}],"version":1},"three":{"id":"three","name":"Keycap 3","keywords":["three","numbers","prime","blue","square"],"skins":[{"unified":"0033-fe0f-20e3","native":"3\uFE0F\u20E3"}],"version":1},"four":{"id":"four","name":"Keycap 4","keywords":["four","numbers","blue","square"],"skins":[{"unified":"0034-fe0f-20e3","native":"4\uFE0F\u20E3"}],"version":1},"five":{"id":"five","name":"Keycap 5","keywords":["five","numbers","blue","square","prime"],"skins":[{"unified":"0035-fe0f-20e3","native":"5\uFE0F\u20E3"}],"version":1},"six":{"id":"six","name":"Keycap 6","keywords":["six","numbers","blue","square"],"skins":[{"unified":"0036-fe0f-20e3","native":"6\uFE0F\u20E3"}],"version":1},"seven":{"id":"seven","name":"Keycap 7","keywords":["seven","numbers","blue","square","prime"],"skins":[{"unified":"0037-fe0f-20e3","native":"7\uFE0F\u20E3"}],"version":1},"eight":{"id":"eight","name":"Keycap 8","keywords":["eight","blue","square","numbers"],"skins":[{"unified":"0038-fe0f-20e3","native":"8\uFE0F\u20E3"}],"version":1},"nine":{"id":"nine","name":"Keycap 9","keywords":["nine","blue","square","numbers"],"skins":[{"unified":"0039-fe0f-20e3","native":"9\uFE0F\u20E3"}],"version":1},"keycap_ten":{"id":"keycap_ten","name":"Keycap 10","keywords":["ten","numbers","blue","square"],"skins":[{"unified":"1f51f","native":"\u{1F51F}"}],"version":1},"capital_abcd":{"id":"capital_abcd","name":"Input Latin Uppercase","keywords":["capital","abcd","alphabet","words","blue","square"],"skins":[{"unified":"1f520","native":"\u{1F520}"}],"version":1},"abcd":{"id":"abcd","name":"Input Latin Lowercase","keywords":["abcd","blue","square","alphabet"],"skins":[{"unified":"1f521","native":"\u{1F521}"}],"version":1},"symbols":{"id":"symbols","name":"Input Symbols","keywords":["blue","square","music","note","ampersand","percent","glyphs","characters"],"skins":[{"unified":"1f523","native":"\u{1F523}"}],"version":1},"abc":{"id":"abc","name":"Input Latin Letters","keywords":["abc","blue","square","alphabet"],"skins":[{"unified":"1f524","native":"\u{1F524}"}],"version":1},"a":{"id":"a","name":"A Button (blood Type)","keywords":["red","square","alphabet","letter"],"skins":[{"unified":"1f170-fe0f","native":"\u{1F170}\uFE0F"}],"version":1},"ab":{"id":"ab","name":"Negative Squared Ab","keywords":["button","red","square","alphabet"],"skins":[{"unified":"1f18e","native":"\u{1F18E}"}],"version":1},"b":{"id":"b","name":"B Button (blood Type)","keywords":["red","square","alphabet","letter"],"skins":[{"unified":"1f171-fe0f","native":"\u{1F171}\uFE0F"}],"version":1},"cl":{"id":"cl","name":"Cl Button","keywords":["alphabet","words","red","square"],"skins":[{"unified":"1f191","native":"\u{1F191}"}],"version":1},"cool":{"id":"cool","name":"Cool Button","keywords":["words","blue","square"],"skins":[{"unified":"1f192","native":"\u{1F192}"}],"version":1},"free":{"id":"free","name":"Free Button","keywords":["blue","square","words"],"skins":[{"unified":"1f193","native":"\u{1F193}"}],"version":1},"information_source":{"id":"information_source","name":"Information","keywords":["source","blue","square","alphabet","letter"],"skins":[{"unified":"2139-fe0f","native":"\u2139\uFE0F"}],"version":1},"id":{"id":"id","name":"Id Button","keywords":["purple","square","words"],"skins":[{"unified":"1f194","native":"\u{1F194}"}],"version":1},"m":{"id":"m","name":"Circled M","keywords":["alphabet","blue","circle","letter"],"skins":[{"unified":"24c2-fe0f","native":"\u24C2\uFE0F"}],"version":1},"new":{"id":"new","name":"New Button","keywords":["blue","square","words","start"],"skins":[{"unified":"1f195","native":"\u{1F195}"}],"version":1},"ng":{"id":"ng","name":"Ng Button","keywords":["blue","square","words","shape","icon"],"skins":[{"unified":"1f196","native":"\u{1F196}"}],"version":1},"o2":{"id":"o2","name":"O Button (blood Type)","keywords":["o2","alphabet","red","square","letter"],"skins":[{"unified":"1f17e-fe0f","native":"\u{1F17E}\uFE0F"}],"version":1},"ok":{"id":"ok","name":"Ok Button","keywords":["good","agree","yes","blue","square"],"skins":[{"unified":"1f197","native":"\u{1F197}"}],"version":1},"parking":{"id":"parking","name":"P Button","keywords":["parking","cars","blue","square","alphabet","letter"],"skins":[{"unified":"1f17f-fe0f","native":"\u{1F17F}\uFE0F"}],"version":1},"sos":{"id":"sos","name":"Sos Button","keywords":["help","red","square","words","emergency","911"],"skins":[{"unified":"1f198","native":"\u{1F198}"}],"version":1},"up":{"id":"up","name":"Up! Button","keywords":["up","blue","square","above","high"],"skins":[{"unified":"1f199","native":"\u{1F199}"}],"version":1},"vs":{"id":"vs","name":"Vs Button","keywords":["words","orange","square"],"skins":[{"unified":"1f19a","native":"\u{1F19A}"}],"version":1},"koko":{"id":"koko","name":"Squared Katakana Koko","keywords":["japanese","here","button","blue","square","destination"],"skins":[{"unified":"1f201","native":"\u{1F201}"}],"version":1},"sa":{"id":"sa","name":"Squared Katakana Sa","keywords":["japanese","service","charge","button","blue","square"],"skins":[{"unified":"1f202-fe0f","native":"\u{1F202}\uFE0F"}],"version":1},"u6708":{"id":"u6708","name":"Japanese \u201Cmonthly Amount\u201D Button","keywords":["u6708","monthly","amount","chinese","month","moon","orange","square","kanji"],"skins":[{"unified":"1f237-fe0f","native":"\u{1F237}\uFE0F"}],"version":1},"u6709":{"id":"u6709","name":"Squared Cjk Unified Ideograph-6709","keywords":["u6709","japanese","not","free","of","charge","button","orange","square","chinese","have","kanji"],"skins":[{"unified":"1f236","native":"\u{1F236}"}],"version":1},"u6307":{"id":"u6307","name":"Japanese \u201Creserved\u201D Button","keywords":["u6307","reserved","chinese","point","green","square","kanji"],"skins":[{"unified":"1f22f","native":"\u{1F22F}"}],"version":1},"ideograph_advantage":{"id":"ideograph_advantage","name":"Japanese \u201Cbargain\u201D Button","keywords":["ideograph","advantage","bargain","chinese","kanji","obtain","get","circle"],"skins":[{"unified":"1f250","native":"\u{1F250}"}],"version":1},"u5272":{"id":"u5272","name":"Japanese \u201Cdiscount\u201D Button","keywords":["u5272","discount","cut","divide","chinese","kanji","pink","square"],"skins":[{"unified":"1f239","native":"\u{1F239}"}],"version":1},"u7121":{"id":"u7121","name":"Japanese \u201Cfree of Charge\u201D Button","keywords":["u7121","free","charge","nothing","chinese","kanji","orange","square"],"skins":[{"unified":"1f21a","native":"\u{1F21A}"}],"version":1},"u7981":{"id":"u7981","name":"Japanese \u201Cprohibited\u201D Button","keywords":["u7981","prohibited","kanji","chinese","forbidden","limit","restricted","red","square"],"skins":[{"unified":"1f232","native":"\u{1F232}"}],"version":1},"accept":{"id":"accept","name":"Circled Ideograph Accept","keywords":["japanese","acceptable","button","ok","good","chinese","kanji","agree","yes","orange","circle"],"skins":[{"unified":"1f251","native":"\u{1F251}"}],"version":1},"u7533":{"id":"u7533","name":"Japanese \u201Capplication\u201D Button","keywords":["u7533","application","chinese","kanji","orange","square"],"skins":[{"unified":"1f238","native":"\u{1F238}"}],"version":1},"u5408":{"id":"u5408","name":"Japanese \u201Cpassing Grade\u201D Button","keywords":["u5408","passing","grade","chinese","join","kanji","red","square"],"skins":[{"unified":"1f234","native":"\u{1F234}"}],"version":1},"u7a7a":{"id":"u7a7a","name":"Japanese \u201Cvacancy\u201D Button","keywords":["u7a7a","vacancy","kanji","chinese","empty","sky","blue","square"],"skins":[{"unified":"1f233","native":"\u{1F233}"}],"version":1},"congratulations":{"id":"congratulations","name":"Circled Ideograph Congratulation","keywords":["congratulations","japanese","button","chinese","kanji","red","circle"],"skins":[{"unified":"3297-fe0f","native":"\u3297\uFE0F"}],"version":1},"secret":{"id":"secret","name":"Circled Ideograph Secret","keywords":["japanese","button","privacy","chinese","sshh","kanji","red","circle"],"skins":[{"unified":"3299-fe0f","native":"\u3299\uFE0F"}],"version":1},"u55b6":{"id":"u55b6","name":"Squared Cjk Unified Ideograph-55b6","keywords":["u55b6","japanese","open","for","business","button","opening","hours","orange","square"],"skins":[{"unified":"1f23a","native":"\u{1F23A}"}],"version":1},"u6e80":{"id":"u6e80","name":"Japanese \u201Cno Vacancy\u201D Button","keywords":["u6e80","no","vacancy","full","chinese","red","square","kanji"],"skins":[{"unified":"1f235","native":"\u{1F235}"}],"version":1},"red_circle":{"id":"red_circle","name":"Red Circle","keywords":["shape","error","danger"],"skins":[{"unified":"1f534","native":"\u{1F534}"}],"version":1},"large_orange_circle":{"id":"large_orange_circle","name":"Orange Circle","keywords":["large","round"],"skins":[{"unified":"1f7e0","native":"\u{1F7E0}"}],"version":12},"large_yellow_circle":{"id":"large_yellow_circle","name":"Yellow Circle","keywords":["large","round"],"skins":[{"unified":"1f7e1","native":"\u{1F7E1}"}],"version":12},"large_green_circle":{"id":"large_green_circle","name":"Green Circle","keywords":["large","round"],"skins":[{"unified":"1f7e2","native":"\u{1F7E2}"}],"version":12},"large_blue_circle":{"id":"large_blue_circle","name":"Blue Circle","keywords":["large","shape","icon","button"],"skins":[{"unified":"1f535","native":"\u{1F535}"}],"version":1},"large_purple_circle":{"id":"large_purple_circle","name":"Purple Circle","keywords":["large","round"],"skins":[{"unified":"1f7e3","native":"\u{1F7E3}"}],"version":12},"large_brown_circle":{"id":"large_brown_circle","name":"Brown Circle","keywords":["large","round"],"skins":[{"unified":"1f7e4","native":"\u{1F7E4}"}],"version":12},"black_circle":{"id":"black_circle","name":"Black Circle","keywords":["shape","button","round"],"skins":[{"unified":"26ab","native":"\u26AB"}],"version":1},"white_circle":{"id":"white_circle","name":"White Circle","keywords":["shape","round"],"skins":[{"unified":"26aa","native":"\u26AA"}],"version":1},"large_red_square":{"id":"large_red_square","name":"Red Square","keywords":["large"],"skins":[{"unified":"1f7e5","native":"\u{1F7E5}"}],"version":12},"large_orange_square":{"id":"large_orange_square","name":"Orange Square","keywords":["large"],"skins":[{"unified":"1f7e7","native":"\u{1F7E7}"}],"version":12},"large_yellow_square":{"id":"large_yellow_square","name":"Yellow Square","keywords":["large"],"skins":[{"unified":"1f7e8","native":"\u{1F7E8}"}],"version":12},"large_green_square":{"id":"large_green_square","name":"Green Square","keywords":["large"],"skins":[{"unified":"1f7e9","native":"\u{1F7E9}"}],"version":12},"large_blue_square":{"id":"large_blue_square","name":"Blue Square","keywords":["large"],"skins":[{"unified":"1f7e6","native":"\u{1F7E6}"}],"version":12},"large_purple_square":{"id":"large_purple_square","name":"Purple Square","keywords":["large"],"skins":[{"unified":"1f7ea","native":"\u{1F7EA}"}],"version":12},"large_brown_square":{"id":"large_brown_square","name":"Brown Square","keywords":["large"],"skins":[{"unified":"1f7eb","native":"\u{1F7EB}"}],"version":12},"black_large_square":{"id":"black_large_square","name":"Black Large Square","keywords":["shape","icon","button"],"skins":[{"unified":"2b1b","native":"\u2B1B"}],"version":1},"white_large_square":{"id":"white_large_square","name":"White Large Square","keywords":["shape","icon","stone","button"],"skins":[{"unified":"2b1c","native":"\u2B1C"}],"version":1},"black_medium_square":{"id":"black_medium_square","name":"Black Medium Square","keywords":["shape","button","icon"],"skins":[{"unified":"25fc-fe0f","native":"\u25FC\uFE0F"}],"version":1},"white_medium_square":{"id":"white_medium_square","name":"White Medium Square","keywords":["shape","stone","icon"],"skins":[{"unified":"25fb-fe0f","native":"\u25FB\uFE0F"}],"version":1},"black_medium_small_square":{"id":"black_medium_small_square","name":"Black Medium Small Square","keywords":["icon","shape","button"],"skins":[{"unified":"25fe","native":"\u25FE"}],"version":1},"white_medium_small_square":{"id":"white_medium_small_square","name":"White Medium Small Square","keywords":["shape","stone","icon","button"],"skins":[{"unified":"25fd","native":"\u25FD"}],"version":1},"black_small_square":{"id":"black_small_square","name":"Black Small Square","keywords":["shape","icon"],"skins":[{"unified":"25aa-fe0f","native":"\u25AA\uFE0F"}],"version":1},"white_small_square":{"id":"white_small_square","name":"White Small Square","keywords":["shape","icon"],"skins":[{"unified":"25ab-fe0f","native":"\u25AB\uFE0F"}],"version":1},"large_orange_diamond":{"id":"large_orange_diamond","name":"Large Orange Diamond","keywords":["shape","jewel","gem"],"skins":[{"unified":"1f536","native":"\u{1F536}"}],"version":1},"large_blue_diamond":{"id":"large_blue_diamond","name":"Large Blue Diamond","keywords":["shape","jewel","gem"],"skins":[{"unified":"1f537","native":"\u{1F537}"}],"version":1},"small_orange_diamond":{"id":"small_orange_diamond","name":"Small Orange Diamond","keywords":["shape","jewel","gem"],"skins":[{"unified":"1f538","native":"\u{1F538}"}],"version":1},"small_blue_diamond":{"id":"small_blue_diamond","name":"Small Blue Diamond","keywords":["shape","jewel","gem"],"skins":[{"unified":"1f539","native":"\u{1F539}"}],"version":1},"small_red_triangle":{"id":"small_red_triangle","name":"Red Triangle Pointed Up","keywords":["small","shape","direction","top"],"skins":[{"unified":"1f53a","native":"\u{1F53A}"}],"version":1},"small_red_triangle_down":{"id":"small_red_triangle_down","name":"Red Triangle Pointed Down","keywords":["small","shape","direction","bottom"],"skins":[{"unified":"1f53b","native":"\u{1F53B}"}],"version":1},"diamond_shape_with_a_dot_inside":{"id":"diamond_shape_with_a_dot_inside","name":"Diamond with a Dot","keywords":["shape","inside","jewel","blue","gem","crystal","fancy"],"skins":[{"unified":"1f4a0","native":"\u{1F4A0}"}],"version":1},"radio_button":{"id":"radio_button","name":"Radio Button","keywords":["input","old","music","circle"],"skins":[{"unified":"1f518","native":"\u{1F518}"}],"version":1},"white_square_button":{"id":"white_square_button","name":"White Square Button","keywords":["shape","input"],"skins":[{"unified":"1f533","native":"\u{1F533}"}],"version":1},"black_square_button":{"id":"black_square_button","name":"Black Square Button","keywords":["shape","input","frame"],"skins":[{"unified":"1f532","native":"\u{1F532}"}],"version":1},"checkered_flag":{"id":"checkered_flag","name":"Chequered Flag","keywords":["checkered","contest","finishline","race","gokart"],"skins":[{"unified":"1f3c1","native":"\u{1F3C1}"}],"version":1},"triangular_flag_on_post":{"id":"triangular_flag_on_post","name":"Triangular Flag","keywords":["on","post","mark","milestone","place"],"skins":[{"unified":"1f6a9","native":"\u{1F6A9}"}],"version":1},"crossed_flags":{"id":"crossed_flags","name":"Crossed Flags","keywords":["japanese","nation","country","border"],"skins":[{"unified":"1f38c","native":"\u{1F38C}"}],"version":1},"waving_black_flag":{"id":"waving_black_flag","name":"Black Flag","keywords":["waving","pirate"],"skins":[{"unified":"1f3f4","native":"\u{1F3F4}"}],"version":1},"waving_white_flag":{"id":"waving_white_flag","name":"White Flag","keywords":["waving","losing","loser","lost","surrender","give","up","fail"],"skins":[{"unified":"1f3f3-fe0f","native":"\u{1F3F3}\uFE0F"}],"version":1},"rainbow-flag":{"id":"rainbow-flag","name":"Rainbow Flag","keywords":["pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],"skins":[{"unified":"1f3f3-fe0f-200d-1f308","native":"\u{1F3F3}\uFE0F\u200D\u{1F308}"}],"version":4},"transgender_flag":{"id":"transgender_flag","name":"Transgender Flag","keywords":["lgbtq"],"skins":[{"unified":"1f3f3-fe0f-200d-26a7-fe0f","native":"\u{1F3F3}\uFE0F\u200D\u26A7\uFE0F"}],"version":13},"pirate_flag":{"id":"pirate_flag","name":"Pirate Flag","keywords":["skull","crossbones","banner"],"skins":[{"unified":"1f3f4-200d-2620-fe0f","native":"\u{1F3F4}\u200D\u2620\uFE0F"}],"version":11},"flag-ac":{"id":"flag-ac","name":"Ascension Island Flag","keywords":["ac"],"skins":[{"unified":"1f1e6-1f1e8","native":"\u{1F1E6}\u{1F1E8}"}],"version":2},"flag-ad":{"id":"flag-ad","name":"Andorra Flag","keywords":["ad","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1e9","native":"\u{1F1E6}\u{1F1E9}"}],"version":2},"flag-ae":{"id":"flag-ae","name":"United Arab Emirates Flag","keywords":["ae","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1ea","native":"\u{1F1E6}\u{1F1EA}"}],"version":2},"flag-af":{"id":"flag-af","name":"Afghanistan Flag","keywords":["af","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1eb","native":"\u{1F1E6}\u{1F1EB}"}],"version":2},"flag-ag":{"id":"flag-ag","name":"Antigua & Barbuda Flag","keywords":["ag","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1ec","native":"\u{1F1E6}\u{1F1EC}"}],"version":2},"flag-ai":{"id":"flag-ai","name":"Anguilla Flag","keywords":["ai","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1ee","native":"\u{1F1E6}\u{1F1EE}"}],"version":2},"flag-al":{"id":"flag-al","name":"Albania Flag","keywords":["al","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1f1","native":"\u{1F1E6}\u{1F1F1}"}],"version":2},"flag-am":{"id":"flag-am","name":"Armenia Flag","keywords":["am","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1f2","native":"\u{1F1E6}\u{1F1F2}"}],"version":2},"flag-ao":{"id":"flag-ao","name":"Angola Flag","keywords":["ao","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1f4","native":"\u{1F1E6}\u{1F1F4}"}],"version":2},"flag-aq":{"id":"flag-aq","name":"Antarctica Flag","keywords":["aq","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1f6","native":"\u{1F1E6}\u{1F1F6}"}],"version":2},"flag-ar":{"id":"flag-ar","name":"Argentina Flag","keywords":["ar","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1f7","native":"\u{1F1E6}\u{1F1F7}"}],"version":2},"flag-as":{"id":"flag-as","name":"American Samoa Flag","keywords":["as","ws","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1f8","native":"\u{1F1E6}\u{1F1F8}"}],"version":2},"flag-at":{"id":"flag-at","name":"Austria Flag","keywords":["at","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1f9","native":"\u{1F1E6}\u{1F1F9}"}],"version":2},"flag-au":{"id":"flag-au","name":"Australia Flag","keywords":["au","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1fa","native":"\u{1F1E6}\u{1F1FA}"}],"version":2},"flag-aw":{"id":"flag-aw","name":"Aruba Flag","keywords":["aw","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1fc","native":"\u{1F1E6}\u{1F1FC}"}],"version":2},"flag-ax":{"id":"flag-ax","name":"\xC5land Islands Flag","keywords":["ax","aland","Aland","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1fd","native":"\u{1F1E6}\u{1F1FD}"}],"version":2},"flag-az":{"id":"flag-az","name":"Azerbaijan Flag","keywords":["az","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1ff","native":"\u{1F1E6}\u{1F1FF}"}],"version":2},"flag-ba":{"id":"flag-ba","name":"Bosnia & Herzegovina Flag","keywords":["ba","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1e6","native":"\u{1F1E7}\u{1F1E6}"}],"version":2},"flag-bb":{"id":"flag-bb","name":"Barbados Flag","keywords":["bb","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1e7","native":"\u{1F1E7}\u{1F1E7}"}],"version":2},"flag-bd":{"id":"flag-bd","name":"Bangladesh Flag","keywords":["bd","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1e9","native":"\u{1F1E7}\u{1F1E9}"}],"version":2},"flag-be":{"id":"flag-be","name":"Belgium Flag","keywords":["be","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1ea","native":"\u{1F1E7}\u{1F1EA}"}],"version":2},"flag-bf":{"id":"flag-bf","name":"Burkina Faso Flag","keywords":["bf","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1eb","native":"\u{1F1E7}\u{1F1EB}"}],"version":2},"flag-bg":{"id":"flag-bg","name":"Bulgaria Flag","keywords":["bg","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1ec","native":"\u{1F1E7}\u{1F1EC}"}],"version":2},"flag-bh":{"id":"flag-bh","name":"Bahrain Flag","keywords":["bh","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1ed","native":"\u{1F1E7}\u{1F1ED}"}],"version":2},"flag-bi":{"id":"flag-bi","name":"Burundi Flag","keywords":["bi","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1ee","native":"\u{1F1E7}\u{1F1EE}"}],"version":2},"flag-bj":{"id":"flag-bj","name":"Benin Flag","keywords":["bj","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1ef","native":"\u{1F1E7}\u{1F1EF}"}],"version":2},"flag-bl":{"id":"flag-bl","name":"St. Barth\xE9lemy Flag","keywords":["bl","st","barthelemy","saint","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1f1","native":"\u{1F1E7}\u{1F1F1}"}],"version":2},"flag-bm":{"id":"flag-bm","name":"Bermuda Flag","keywords":["bm","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1f2","native":"\u{1F1E7}\u{1F1F2}"}],"version":2},"flag-bn":{"id":"flag-bn","name":"Brunei Flag","keywords":["bn","darussalam","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1f3","native":"\u{1F1E7}\u{1F1F3}"}],"version":2},"flag-bo":{"id":"flag-bo","name":"Bolivia Flag","keywords":["bo","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1f4","native":"\u{1F1E7}\u{1F1F4}"}],"version":2},"flag-bq":{"id":"flag-bq","name":"Caribbean Netherlands Flag","keywords":["bq","bonaire","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1f6","native":"\u{1F1E7}\u{1F1F6}"}],"version":2},"flag-br":{"id":"flag-br","name":"Brazil Flag","keywords":["br","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1f7","native":"\u{1F1E7}\u{1F1F7}"}],"version":2},"flag-bs":{"id":"flag-bs","name":"Bahamas Flag","keywords":["bs","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1f8","native":"\u{1F1E7}\u{1F1F8}"}],"version":2},"flag-bt":{"id":"flag-bt","name":"Bhutan Flag","keywords":["bt","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1f9","native":"\u{1F1E7}\u{1F1F9}"}],"version":2},"flag-bv":{"id":"flag-bv","name":"Bouvet Island Flag","keywords":["bv","norway"],"skins":[{"unified":"1f1e7-1f1fb","native":"\u{1F1E7}\u{1F1FB}"}],"version":2},"flag-bw":{"id":"flag-bw","name":"Botswana Flag","keywords":["bw","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1fc","native":"\u{1F1E7}\u{1F1FC}"}],"version":2},"flag-by":{"id":"flag-by","name":"Belarus Flag","keywords":["by","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1fe","native":"\u{1F1E7}\u{1F1FE}"}],"version":2},"flag-bz":{"id":"flag-bz","name":"Belize Flag","keywords":["bz","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1ff","native":"\u{1F1E7}\u{1F1FF}"}],"version":2},"flag-ca":{"id":"flag-ca","name":"Canada Flag","keywords":["ca","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1e6","native":"\u{1F1E8}\u{1F1E6}"}],"version":2},"flag-cc":{"id":"flag-cc","name":"Cocos (keeling) Islands Flag","keywords":["cc","keeling","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1e8","native":"\u{1F1E8}\u{1F1E8}"}],"version":2},"flag-cd":{"id":"flag-cd","name":"Congo - Kinshasa Flag","keywords":["cd","democratic","republic","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1e9","native":"\u{1F1E8}\u{1F1E9}"}],"version":2},"flag-cf":{"id":"flag-cf","name":"Central African Republic Flag","keywords":["cf","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1eb","native":"\u{1F1E8}\u{1F1EB}"}],"version":2},"flag-cg":{"id":"flag-cg","name":"Congo - Brazzaville Flag","keywords":["cg","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1ec","native":"\u{1F1E8}\u{1F1EC}"}],"version":2},"flag-ch":{"id":"flag-ch","name":"Switzerland Flag","keywords":["ch","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1ed","native":"\u{1F1E8}\u{1F1ED}"}],"version":2},"flag-ci":{"id":"flag-ci","name":"C\xF4te D\u2019ivoire Flag","keywords":["ci","cote","d","ivoire","ivory","coast","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1ee","native":"\u{1F1E8}\u{1F1EE}"}],"version":2},"flag-ck":{"id":"flag-ck","name":"Cook Islands Flag","keywords":["ck","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1f0","native":"\u{1F1E8}\u{1F1F0}"}],"version":2},"flag-cl":{"id":"flag-cl","name":"Chile Flag","keywords":["cl","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1f1","native":"\u{1F1E8}\u{1F1F1}"}],"version":2},"flag-cm":{"id":"flag-cm","name":"Cameroon Flag","keywords":["cm","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1f2","native":"\u{1F1E8}\u{1F1F2}"}],"version":2},"cn":{"id":"cn","name":"China Flag","keywords":["cn","chinese","prc","country","nation","banner"],"skins":[{"unified":"1f1e8-1f1f3","native":"\u{1F1E8}\u{1F1F3}"}],"version":1},"flag-co":{"id":"flag-co","name":"Colombia Flag","keywords":["co","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1f4","native":"\u{1F1E8}\u{1F1F4}"}],"version":2},"flag-cp":{"id":"flag-cp","name":"Clipperton Island Flag","keywords":["cp"],"skins":[{"unified":"1f1e8-1f1f5","native":"\u{1F1E8}\u{1F1F5}"}],"version":2},"flag-cr":{"id":"flag-cr","name":"Costa Rica Flag","keywords":["cr","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1f7","native":"\u{1F1E8}\u{1F1F7}"}],"version":2},"flag-cu":{"id":"flag-cu","name":"Cuba Flag","keywords":["cu","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1fa","native":"\u{1F1E8}\u{1F1FA}"}],"version":2},"flag-cv":{"id":"flag-cv","name":"Cape Verde Flag","keywords":["cv","cabo","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1fb","native":"\u{1F1E8}\u{1F1FB}"}],"version":2},"flag-cw":{"id":"flag-cw","name":"Cura\xE7ao Flag","keywords":["cw","curacao","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1fc","native":"\u{1F1E8}\u{1F1FC}"}],"version":2},"flag-cx":{"id":"flag-cx","name":"Christmas Island Flag","keywords":["cx","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1fd","native":"\u{1F1E8}\u{1F1FD}"}],"version":2},"flag-cy":{"id":"flag-cy","name":"Cyprus Flag","keywords":["cy","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1fe","native":"\u{1F1E8}\u{1F1FE}"}],"version":2},"flag-cz":{"id":"flag-cz","name":"Czechia Flag","keywords":["cz","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1ff","native":"\u{1F1E8}\u{1F1FF}"}],"version":2},"de":{"id":"de","name":"Germany Flag","keywords":["de","german","nation","country","banner"],"skins":[{"unified":"1f1e9-1f1ea","native":"\u{1F1E9}\u{1F1EA}"}],"version":1},"flag-dg":{"id":"flag-dg","name":"Diego Garcia Flag","keywords":["dg"],"skins":[{"unified":"1f1e9-1f1ec","native":"\u{1F1E9}\u{1F1EC}"}],"version":2},"flag-dj":{"id":"flag-dj","name":"Djibouti Flag","keywords":["dj","nation","country","banner"],"skins":[{"unified":"1f1e9-1f1ef","native":"\u{1F1E9}\u{1F1EF}"}],"version":2},"flag-dk":{"id":"flag-dk","name":"Denmark Flag","keywords":["dk","nation","country","banner"],"skins":[{"unified":"1f1e9-1f1f0","native":"\u{1F1E9}\u{1F1F0}"}],"version":2},"flag-dm":{"id":"flag-dm","name":"Dominica Flag","keywords":["dm","nation","country","banner"],"skins":[{"unified":"1f1e9-1f1f2","native":"\u{1F1E9}\u{1F1F2}"}],"version":2},"flag-do":{"id":"flag-do","name":"Dominican Republic Flag","keywords":["do","nation","country","banner"],"skins":[{"unified":"1f1e9-1f1f4","native":"\u{1F1E9}\u{1F1F4}"}],"version":2},"flag-dz":{"id":"flag-dz","name":"Algeria Flag","keywords":["dz","nation","country","banner"],"skins":[{"unified":"1f1e9-1f1ff","native":"\u{1F1E9}\u{1F1FF}"}],"version":2},"flag-ea":{"id":"flag-ea","name":"Ceuta & Melilla Flag","keywords":["ea"],"skins":[{"unified":"1f1ea-1f1e6","native":"\u{1F1EA}\u{1F1E6}"}],"version":2},"flag-ec":{"id":"flag-ec","name":"Ecuador Flag","keywords":["ec","nation","country","banner"],"skins":[{"unified":"1f1ea-1f1e8","native":"\u{1F1EA}\u{1F1E8}"}],"version":2},"flag-ee":{"id":"flag-ee","name":"Estonia Flag","keywords":["ee","nation","country","banner"],"skins":[{"unified":"1f1ea-1f1ea","native":"\u{1F1EA}\u{1F1EA}"}],"version":2},"flag-eg":{"id":"flag-eg","name":"Egypt Flag","keywords":["eg","nation","country","banner"],"skins":[{"unified":"1f1ea-1f1ec","native":"\u{1F1EA}\u{1F1EC}"}],"version":2},"flag-eh":{"id":"flag-eh","name":"Western Sahara Flag","keywords":["eh","nation","country","banner"],"skins":[{"unified":"1f1ea-1f1ed","native":"\u{1F1EA}\u{1F1ED}"}],"version":2},"flag-er":{"id":"flag-er","name":"Eritrea Flag","keywords":["er","nation","country","banner"],"skins":[{"unified":"1f1ea-1f1f7","native":"\u{1F1EA}\u{1F1F7}"}],"version":2},"es":{"id":"es","name":"Spain Flag","keywords":["es","nation","country","banner"],"skins":[{"unified":"1f1ea-1f1f8","native":"\u{1F1EA}\u{1F1F8}"}],"version":1},"flag-et":{"id":"flag-et","name":"Ethiopia Flag","keywords":["et","nation","country","banner"],"skins":[{"unified":"1f1ea-1f1f9","native":"\u{1F1EA}\u{1F1F9}"}],"version":2},"flag-eu":{"id":"flag-eu","name":"European Union Flag","keywords":["eu","banner"],"skins":[{"unified":"1f1ea-1f1fa","native":"\u{1F1EA}\u{1F1FA}"}],"version":2},"flag-fi":{"id":"flag-fi","name":"Finland Flag","keywords":["fi","nation","country","banner"],"skins":[{"unified":"1f1eb-1f1ee","native":"\u{1F1EB}\u{1F1EE}"}],"version":2},"flag-fj":{"id":"flag-fj","name":"Fiji Flag","keywords":["fj","nation","country","banner"],"skins":[{"unified":"1f1eb-1f1ef","native":"\u{1F1EB}\u{1F1EF}"}],"version":2},"flag-fk":{"id":"flag-fk","name":"Falkland Islands Flag","keywords":["fk","malvinas","nation","country","banner"],"skins":[{"unified":"1f1eb-1f1f0","native":"\u{1F1EB}\u{1F1F0}"}],"version":2},"flag-fm":{"id":"flag-fm","name":"Micronesia Flag","keywords":["fm","federated","states","nation","country","banner"],"skins":[{"unified":"1f1eb-1f1f2","native":"\u{1F1EB}\u{1F1F2}"}],"version":2},"flag-fo":{"id":"flag-fo","name":"Faroe Islands Flag","keywords":["fo","nation","country","banner"],"skins":[{"unified":"1f1eb-1f1f4","native":"\u{1F1EB}\u{1F1F4}"}],"version":2},"fr":{"id":"fr","name":"France Flag","keywords":["fr","banner","nation","french","country"],"skins":[{"unified":"1f1eb-1f1f7","native":"\u{1F1EB}\u{1F1F7}"}],"version":1},"flag-ga":{"id":"flag-ga","name":"Gabon Flag","keywords":["ga","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1e6","native":"\u{1F1EC}\u{1F1E6}"}],"version":2},"gb":{"id":"gb","name":"United Kingdom Flag","keywords":["gb","uk","great","britain","northern","ireland","nation","country","banner","british","UK","english","england","union","jack"],"skins":[{"unified":"1f1ec-1f1e7","native":"\u{1F1EC}\u{1F1E7}"}],"version":1},"flag-gd":{"id":"flag-gd","name":"Grenada Flag","keywords":["gd","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1e9","native":"\u{1F1EC}\u{1F1E9}"}],"version":2},"flag-ge":{"id":"flag-ge","name":"Georgia Flag","keywords":["ge","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1ea","native":"\u{1F1EC}\u{1F1EA}"}],"version":2},"flag-gf":{"id":"flag-gf","name":"French Guiana Flag","keywords":["gf","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1eb","native":"\u{1F1EC}\u{1F1EB}"}],"version":2},"flag-gg":{"id":"flag-gg","name":"Guernsey Flag","keywords":["gg","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1ec","native":"\u{1F1EC}\u{1F1EC}"}],"version":2},"flag-gh":{"id":"flag-gh","name":"Ghana Flag","keywords":["gh","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1ed","native":"\u{1F1EC}\u{1F1ED}"}],"version":2},"flag-gi":{"id":"flag-gi","name":"Gibraltar Flag","keywords":["gi","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1ee","native":"\u{1F1EC}\u{1F1EE}"}],"version":2},"flag-gl":{"id":"flag-gl","name":"Greenland Flag","keywords":["gl","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1f1","native":"\u{1F1EC}\u{1F1F1}"}],"version":2},"flag-gm":{"id":"flag-gm","name":"Gambia Flag","keywords":["gm","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1f2","native":"\u{1F1EC}\u{1F1F2}"}],"version":2},"flag-gn":{"id":"flag-gn","name":"Guinea Flag","keywords":["gn","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1f3","native":"\u{1F1EC}\u{1F1F3}"}],"version":2},"flag-gp":{"id":"flag-gp","name":"Guadeloupe Flag","keywords":["gp","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1f5","native":"\u{1F1EC}\u{1F1F5}"}],"version":2},"flag-gq":{"id":"flag-gq","name":"Equatorial Guinea Flag","keywords":["gq","gn","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1f6","native":"\u{1F1EC}\u{1F1F6}"}],"version":2},"flag-gr":{"id":"flag-gr","name":"Greece Flag","keywords":["gr","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1f7","native":"\u{1F1EC}\u{1F1F7}"}],"version":2},"flag-gs":{"id":"flag-gs","name":"South Georgia & South Sandwich Islands Flag","keywords":["gs","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1f8","native":"\u{1F1EC}\u{1F1F8}"}],"version":2},"flag-gt":{"id":"flag-gt","name":"Guatemala Flag","keywords":["gt","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1f9","native":"\u{1F1EC}\u{1F1F9}"}],"version":2},"flag-gu":{"id":"flag-gu","name":"Guam Flag","keywords":["gu","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1fa","native":"\u{1F1EC}\u{1F1FA}"}],"version":2},"flag-gw":{"id":"flag-gw","name":"Guinea-Bissau Flag","keywords":["gw","guinea","bissau","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1fc","native":"\u{1F1EC}\u{1F1FC}"}],"version":2},"flag-gy":{"id":"flag-gy","name":"Guyana Flag","keywords":["gy","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1fe","native":"\u{1F1EC}\u{1F1FE}"}],"version":2},"flag-hk":{"id":"flag-hk","name":"Hong Kong Sar China Flag","keywords":["hk","nation","country","banner"],"skins":[{"unified":"1f1ed-1f1f0","native":"\u{1F1ED}\u{1F1F0}"}],"version":2},"flag-hm":{"id":"flag-hm","name":"Heard & Mcdonald Islands Flag","keywords":["hm"],"skins":[{"unified":"1f1ed-1f1f2","native":"\u{1F1ED}\u{1F1F2}"}],"version":2},"flag-hn":{"id":"flag-hn","name":"Honduras Flag","keywords":["hn","nation","country","banner"],"skins":[{"unified":"1f1ed-1f1f3","native":"\u{1F1ED}\u{1F1F3}"}],"version":2},"flag-hr":{"id":"flag-hr","name":"Croatia Flag","keywords":["hr","nation","country","banner"],"skins":[{"unified":"1f1ed-1f1f7","native":"\u{1F1ED}\u{1F1F7}"}],"version":2},"flag-ht":{"id":"flag-ht","name":"Haiti Flag","keywords":["ht","nation","country","banner"],"skins":[{"unified":"1f1ed-1f1f9","native":"\u{1F1ED}\u{1F1F9}"}],"version":2},"flag-hu":{"id":"flag-hu","name":"Hungary Flag","keywords":["hu","nation","country","banner"],"skins":[{"unified":"1f1ed-1f1fa","native":"\u{1F1ED}\u{1F1FA}"}],"version":2},"flag-ic":{"id":"flag-ic","name":"Canary Islands Flag","keywords":["ic","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1e8","native":"\u{1F1EE}\u{1F1E8}"}],"version":2},"flag-id":{"id":"flag-id","name":"Indonesia Flag","keywords":["id","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1e9","native":"\u{1F1EE}\u{1F1E9}"}],"version":2},"flag-ie":{"id":"flag-ie","name":"Ireland Flag","keywords":["ie","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1ea","native":"\u{1F1EE}\u{1F1EA}"}],"version":2},"flag-il":{"id":"flag-il","name":"Israel Flag","keywords":["il","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1f1","native":"\u{1F1EE}\u{1F1F1}"}],"version":2},"flag-im":{"id":"flag-im","name":"Isle of Man Flag","keywords":["im","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1f2","native":"\u{1F1EE}\u{1F1F2}"}],"version":2},"flag-in":{"id":"flag-in","name":"India Flag","keywords":["in","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1f3","native":"\u{1F1EE}\u{1F1F3}"}],"version":2},"flag-io":{"id":"flag-io","name":"British Indian Ocean Territory Flag","keywords":["io","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1f4","native":"\u{1F1EE}\u{1F1F4}"}],"version":2},"flag-iq":{"id":"flag-iq","name":"Iraq Flag","keywords":["iq","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1f6","native":"\u{1F1EE}\u{1F1F6}"}],"version":2},"flag-ir":{"id":"flag-ir","name":"Iran Flag","keywords":["ir","islamic","republic","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1f7","native":"\u{1F1EE}\u{1F1F7}"}],"version":2},"flag-is":{"id":"flag-is","name":"Iceland Flag","keywords":["is","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1f8","native":"\u{1F1EE}\u{1F1F8}"}],"version":2},"it":{"id":"it","name":"Italy Flag","keywords":["it","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1f9","native":"\u{1F1EE}\u{1F1F9}"}],"version":1},"flag-je":{"id":"flag-je","name":"Jersey Flag","keywords":["je","nation","country","banner"],"skins":[{"unified":"1f1ef-1f1ea","native":"\u{1F1EF}\u{1F1EA}"}],"version":2},"flag-jm":{"id":"flag-jm","name":"Jamaica Flag","keywords":["jm","nation","country","banner"],"skins":[{"unified":"1f1ef-1f1f2","native":"\u{1F1EF}\u{1F1F2}"}],"version":2},"flag-jo":{"id":"flag-jo","name":"Jordan Flag","keywords":["jo","nation","country","banner"],"skins":[{"unified":"1f1ef-1f1f4","native":"\u{1F1EF}\u{1F1F4}"}],"version":2},"jp":{"id":"jp","name":"Japan Flag","keywords":["jp","japanese","nation","country","banner","ja"],"skins":[{"unified":"1f1ef-1f1f5","native":"\u{1F1EF}\u{1F1F5}"}],"version":1},"flag-ke":{"id":"flag-ke","name":"Kenya Flag","keywords":["ke","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1ea","native":"\u{1F1F0}\u{1F1EA}"}],"version":2},"flag-kg":{"id":"flag-kg","name":"Kyrgyzstan Flag","keywords":["kg","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1ec","native":"\u{1F1F0}\u{1F1EC}"}],"version":2},"flag-kh":{"id":"flag-kh","name":"Cambodia Flag","keywords":["kh","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1ed","native":"\u{1F1F0}\u{1F1ED}"}],"version":2},"flag-ki":{"id":"flag-ki","name":"Kiribati Flag","keywords":["ki","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1ee","native":"\u{1F1F0}\u{1F1EE}"}],"version":2},"flag-km":{"id":"flag-km","name":"Comoros Flag","keywords":["km","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1f2","native":"\u{1F1F0}\u{1F1F2}"}],"version":2},"flag-kn":{"id":"flag-kn","name":"St. Kitts & Nevis Flag","keywords":["kn","st","saint","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1f3","native":"\u{1F1F0}\u{1F1F3}"}],"version":2},"flag-kp":{"id":"flag-kp","name":"North Korea Flag","keywords":["kp","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1f5","native":"\u{1F1F0}\u{1F1F5}"}],"version":2},"kr":{"id":"kr","name":"South Korea Flag","keywords":["kr","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1f7","native":"\u{1F1F0}\u{1F1F7}"}],"version":1},"flag-kw":{"id":"flag-kw","name":"Kuwait Flag","keywords":["kw","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1fc","native":"\u{1F1F0}\u{1F1FC}"}],"version":2},"flag-ky":{"id":"flag-ky","name":"Cayman Islands Flag","keywords":["ky","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1fe","native":"\u{1F1F0}\u{1F1FE}"}],"version":2},"flag-kz":{"id":"flag-kz","name":"Kazakhstan Flag","keywords":["kz","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1ff","native":"\u{1F1F0}\u{1F1FF}"}],"version":2},"flag-la":{"id":"flag-la","name":"Laos Flag","keywords":["la","lao","democratic","republic","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1e6","native":"\u{1F1F1}\u{1F1E6}"}],"version":2},"flag-lb":{"id":"flag-lb","name":"Lebanon Flag","keywords":["lb","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1e7","native":"\u{1F1F1}\u{1F1E7}"}],"version":2},"flag-lc":{"id":"flag-lc","name":"St. Lucia Flag","keywords":["lc","st","saint","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1e8","native":"\u{1F1F1}\u{1F1E8}"}],"version":2},"flag-li":{"id":"flag-li","name":"Liechtenstein Flag","keywords":["li","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1ee","native":"\u{1F1F1}\u{1F1EE}"}],"version":2},"flag-lk":{"id":"flag-lk","name":"Sri Lanka Flag","keywords":["lk","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1f0","native":"\u{1F1F1}\u{1F1F0}"}],"version":2},"flag-lr":{"id":"flag-lr","name":"Liberia Flag","keywords":["lr","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1f7","native":"\u{1F1F1}\u{1F1F7}"}],"version":2},"flag-ls":{"id":"flag-ls","name":"Lesotho Flag","keywords":["ls","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1f8","native":"\u{1F1F1}\u{1F1F8}"}],"version":2},"flag-lt":{"id":"flag-lt","name":"Lithuania Flag","keywords":["lt","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1f9","native":"\u{1F1F1}\u{1F1F9}"}],"version":2},"flag-lu":{"id":"flag-lu","name":"Luxembourg Flag","keywords":["lu","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1fa","native":"\u{1F1F1}\u{1F1FA}"}],"version":2},"flag-lv":{"id":"flag-lv","name":"Latvia Flag","keywords":["lv","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1fb","native":"\u{1F1F1}\u{1F1FB}"}],"version":2},"flag-ly":{"id":"flag-ly","name":"Libya Flag","keywords":["ly","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1fe","native":"\u{1F1F1}\u{1F1FE}"}],"version":2},"flag-ma":{"id":"flag-ma","name":"Morocco Flag","keywords":["ma","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1e6","native":"\u{1F1F2}\u{1F1E6}"}],"version":2},"flag-mc":{"id":"flag-mc","name":"Monaco Flag","keywords":["mc","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1e8","native":"\u{1F1F2}\u{1F1E8}"}],"version":2},"flag-md":{"id":"flag-md","name":"Moldova Flag","keywords":["md","republic","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1e9","native":"\u{1F1F2}\u{1F1E9}"}],"version":2},"flag-me":{"id":"flag-me","name":"Montenegro Flag","keywords":["me","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1ea","native":"\u{1F1F2}\u{1F1EA}"}],"version":2},"flag-mf":{"id":"flag-mf","name":"St. Martin Flag","keywords":["mf","st"],"skins":[{"unified":"1f1f2-1f1eb","native":"\u{1F1F2}\u{1F1EB}"}],"version":2},"flag-mg":{"id":"flag-mg","name":"Madagascar Flag","keywords":["mg","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1ec","native":"\u{1F1F2}\u{1F1EC}"}],"version":2},"flag-mh":{"id":"flag-mh","name":"Marshall Islands Flag","keywords":["mh","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1ed","native":"\u{1F1F2}\u{1F1ED}"}],"version":2},"flag-mk":{"id":"flag-mk","name":"North Macedonia Flag","keywords":["mk","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f0","native":"\u{1F1F2}\u{1F1F0}"}],"version":2},"flag-ml":{"id":"flag-ml","name":"Mali Flag","keywords":["ml","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f1","native":"\u{1F1F2}\u{1F1F1}"}],"version":2},"flag-mm":{"id":"flag-mm","name":"Myanmar (burma) Flag","keywords":["mm","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f2","native":"\u{1F1F2}\u{1F1F2}"}],"version":2},"flag-mn":{"id":"flag-mn","name":"Mongolia Flag","keywords":["mn","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f3","native":"\u{1F1F2}\u{1F1F3}"}],"version":2},"flag-mo":{"id":"flag-mo","name":"Macao Sar China Flag","keywords":["mo","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f4","native":"\u{1F1F2}\u{1F1F4}"}],"version":2},"flag-mp":{"id":"flag-mp","name":"Northern Mariana Islands Flag","keywords":["mp","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f5","native":"\u{1F1F2}\u{1F1F5}"}],"version":2},"flag-mq":{"id":"flag-mq","name":"Martinique Flag","keywords":["mq","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f6","native":"\u{1F1F2}\u{1F1F6}"}],"version":2},"flag-mr":{"id":"flag-mr","name":"Mauritania Flag","keywords":["mr","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f7","native":"\u{1F1F2}\u{1F1F7}"}],"version":2},"flag-ms":{"id":"flag-ms","name":"Montserrat Flag","keywords":["ms","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f8","native":"\u{1F1F2}\u{1F1F8}"}],"version":2},"flag-mt":{"id":"flag-mt","name":"Malta Flag","keywords":["mt","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f9","native":"\u{1F1F2}\u{1F1F9}"}],"version":2},"flag-mu":{"id":"flag-mu","name":"Mauritius Flag","keywords":["mu","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1fa","native":"\u{1F1F2}\u{1F1FA}"}],"version":2},"flag-mv":{"id":"flag-mv","name":"Maldives Flag","keywords":["mv","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1fb","native":"\u{1F1F2}\u{1F1FB}"}],"version":2},"flag-mw":{"id":"flag-mw","name":"Malawi Flag","keywords":["mw","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1fc","native":"\u{1F1F2}\u{1F1FC}"}],"version":2},"flag-mx":{"id":"flag-mx","name":"Mexico Flag","keywords":["mx","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1fd","native":"\u{1F1F2}\u{1F1FD}"}],"version":2},"flag-my":{"id":"flag-my","name":"Malaysia Flag","keywords":["my","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1fe","native":"\u{1F1F2}\u{1F1FE}"}],"version":2},"flag-mz":{"id":"flag-mz","name":"Mozambique Flag","keywords":["mz","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1ff","native":"\u{1F1F2}\u{1F1FF}"}],"version":2},"flag-na":{"id":"flag-na","name":"Namibia Flag","keywords":["na","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1e6","native":"\u{1F1F3}\u{1F1E6}"}],"version":2},"flag-nc":{"id":"flag-nc","name":"New Caledonia Flag","keywords":["nc","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1e8","native":"\u{1F1F3}\u{1F1E8}"}],"version":2},"flag-ne":{"id":"flag-ne","name":"Niger Flag","keywords":["ne","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1ea","native":"\u{1F1F3}\u{1F1EA}"}],"version":2},"flag-nf":{"id":"flag-nf","name":"Norfolk Island Flag","keywords":["nf","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1eb","native":"\u{1F1F3}\u{1F1EB}"}],"version":2},"flag-ng":{"id":"flag-ng","name":"Nigeria Flag","keywords":["ng","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1ec","native":"\u{1F1F3}\u{1F1EC}"}],"version":2},"flag-ni":{"id":"flag-ni","name":"Nicaragua Flag","keywords":["ni","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1ee","native":"\u{1F1F3}\u{1F1EE}"}],"version":2},"flag-nl":{"id":"flag-nl","name":"Netherlands Flag","keywords":["nl","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1f1","native":"\u{1F1F3}\u{1F1F1}"}],"version":2},"flag-no":{"id":"flag-no","name":"Norway Flag","keywords":["no","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1f4","native":"\u{1F1F3}\u{1F1F4}"}],"version":2},"flag-np":{"id":"flag-np","name":"Nepal Flag","keywords":["np","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1f5","native":"\u{1F1F3}\u{1F1F5}"}],"version":2},"flag-nr":{"id":"flag-nr","name":"Nauru Flag","keywords":["nr","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1f7","native":"\u{1F1F3}\u{1F1F7}"}],"version":2},"flag-nu":{"id":"flag-nu","name":"Niue Flag","keywords":["nu","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1fa","native":"\u{1F1F3}\u{1F1FA}"}],"version":2},"flag-nz":{"id":"flag-nz","name":"New Zealand Flag","keywords":["nz","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1ff","native":"\u{1F1F3}\u{1F1FF}"}],"version":2},"flag-om":{"id":"flag-om","name":"Oman Flag","keywords":["om","symbol","nation","country","banner"],"skins":[{"unified":"1f1f4-1f1f2","native":"\u{1F1F4}\u{1F1F2}"}],"version":2},"flag-pa":{"id":"flag-pa","name":"Panama Flag","keywords":["pa","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1e6","native":"\u{1F1F5}\u{1F1E6}"}],"version":2},"flag-pe":{"id":"flag-pe","name":"Peru Flag","keywords":["pe","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1ea","native":"\u{1F1F5}\u{1F1EA}"}],"version":2},"flag-pf":{"id":"flag-pf","name":"French Polynesia Flag","keywords":["pf","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1eb","native":"\u{1F1F5}\u{1F1EB}"}],"version":2},"flag-pg":{"id":"flag-pg","name":"Papua New Guinea Flag","keywords":["pg","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1ec","native":"\u{1F1F5}\u{1F1EC}"}],"version":2},"flag-ph":{"id":"flag-ph","name":"Philippines Flag","keywords":["ph","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1ed","native":"\u{1F1F5}\u{1F1ED}"}],"version":2},"flag-pk":{"id":"flag-pk","name":"Pakistan Flag","keywords":["pk","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1f0","native":"\u{1F1F5}\u{1F1F0}"}],"version":2},"flag-pl":{"id":"flag-pl","name":"Poland Flag","keywords":["pl","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1f1","native":"\u{1F1F5}\u{1F1F1}"}],"version":2},"flag-pm":{"id":"flag-pm","name":"St. Pierre & Miquelon Flag","keywords":["pm","st","saint","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1f2","native":"\u{1F1F5}\u{1F1F2}"}],"version":2},"flag-pn":{"id":"flag-pn","name":"Pitcairn Islands Flag","keywords":["pn","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1f3","native":"\u{1F1F5}\u{1F1F3}"}],"version":2},"flag-pr":{"id":"flag-pr","name":"Puerto Rico Flag","keywords":["pr","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1f7","native":"\u{1F1F5}\u{1F1F7}"}],"version":2},"flag-ps":{"id":"flag-ps","name":"Palestinian Territories Flag","keywords":["ps","palestine","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1f8","native":"\u{1F1F5}\u{1F1F8}"}],"version":2},"flag-pt":{"id":"flag-pt","name":"Portugal Flag","keywords":["pt","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1f9","native":"\u{1F1F5}\u{1F1F9}"}],"version":2},"flag-pw":{"id":"flag-pw","name":"Palau Flag","keywords":["pw","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1fc","native":"\u{1F1F5}\u{1F1FC}"}],"version":2},"flag-py":{"id":"flag-py","name":"Paraguay Flag","keywords":["py","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1fe","native":"\u{1F1F5}\u{1F1FE}"}],"version":2},"flag-qa":{"id":"flag-qa","name":"Qatar Flag","keywords":["qa","nation","country","banner"],"skins":[{"unified":"1f1f6-1f1e6","native":"\u{1F1F6}\u{1F1E6}"}],"version":2},"flag-re":{"id":"flag-re","name":"R\xE9union Flag","keywords":["re","reunion","nation","country","banner"],"skins":[{"unified":"1f1f7-1f1ea","native":"\u{1F1F7}\u{1F1EA}"}],"version":2},"flag-ro":{"id":"flag-ro","name":"Romania Flag","keywords":["ro","nation","country","banner"],"skins":[{"unified":"1f1f7-1f1f4","native":"\u{1F1F7}\u{1F1F4}"}],"version":2},"flag-rs":{"id":"flag-rs","name":"Serbia Flag","keywords":["rs","nation","country","banner"],"skins":[{"unified":"1f1f7-1f1f8","native":"\u{1F1F7}\u{1F1F8}"}],"version":2},"ru":{"id":"ru","name":"Russia Flag","keywords":["ru","russian","federation","nation","country","banner"],"skins":[{"unified":"1f1f7-1f1fa","native":"\u{1F1F7}\u{1F1FA}"}],"version":1},"flag-rw":{"id":"flag-rw","name":"Rwanda Flag","keywords":["rw","nation","country","banner"],"skins":[{"unified":"1f1f7-1f1fc","native":"\u{1F1F7}\u{1F1FC}"}],"version":2},"flag-sa":{"id":"flag-sa","name":"Saudi Arabia Flag","keywords":["sa","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1e6","native":"\u{1F1F8}\u{1F1E6}"}],"version":2},"flag-sb":{"id":"flag-sb","name":"Solomon Islands Flag","keywords":["sb","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1e7","native":"\u{1F1F8}\u{1F1E7}"}],"version":2},"flag-sc":{"id":"flag-sc","name":"Seychelles Flag","keywords":["sc","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1e8","native":"\u{1F1F8}\u{1F1E8}"}],"version":2},"flag-sd":{"id":"flag-sd","name":"Sudan Flag","keywords":["sd","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1e9","native":"\u{1F1F8}\u{1F1E9}"}],"version":2},"flag-se":{"id":"flag-se","name":"Sweden Flag","keywords":["se","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1ea","native":"\u{1F1F8}\u{1F1EA}"}],"version":2},"flag-sg":{"id":"flag-sg","name":"Singapore Flag","keywords":["sg","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1ec","native":"\u{1F1F8}\u{1F1EC}"}],"version":2},"flag-sh":{"id":"flag-sh","name":"St. Helena Flag","keywords":["sh","st","saint","ascension","tristan","cunha","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1ed","native":"\u{1F1F8}\u{1F1ED}"}],"version":2},"flag-si":{"id":"flag-si","name":"Slovenia Flag","keywords":["si","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1ee","native":"\u{1F1F8}\u{1F1EE}"}],"version":2},"flag-sj":{"id":"flag-sj","name":"Svalbard & Jan Mayen Flag","keywords":["sj"],"skins":[{"unified":"1f1f8-1f1ef","native":"\u{1F1F8}\u{1F1EF}"}],"version":2},"flag-sk":{"id":"flag-sk","name":"Slovakia Flag","keywords":["sk","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1f0","native":"\u{1F1F8}\u{1F1F0}"}],"version":2},"flag-sl":{"id":"flag-sl","name":"Sierra Leone Flag","keywords":["sl","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1f1","native":"\u{1F1F8}\u{1F1F1}"}],"version":2},"flag-sm":{"id":"flag-sm","name":"San Marino Flag","keywords":["sm","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1f2","native":"\u{1F1F8}\u{1F1F2}"}],"version":2},"flag-sn":{"id":"flag-sn","name":"Senegal Flag","keywords":["sn","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1f3","native":"\u{1F1F8}\u{1F1F3}"}],"version":2},"flag-so":{"id":"flag-so","name":"Somalia Flag","keywords":["so","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1f4","native":"\u{1F1F8}\u{1F1F4}"}],"version":2},"flag-sr":{"id":"flag-sr","name":"Suriname Flag","keywords":["sr","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1f7","native":"\u{1F1F8}\u{1F1F7}"}],"version":2},"flag-ss":{"id":"flag-ss","name":"South Sudan Flag","keywords":["ss","sd","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1f8","native":"\u{1F1F8}\u{1F1F8}"}],"version":2},"flag-st":{"id":"flag-st","name":"S\xE3o Tom\xE9 & Pr\xEDncipe Flag","keywords":["st","sao","tome","principe","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1f9","native":"\u{1F1F8}\u{1F1F9}"}],"version":2},"flag-sv":{"id":"flag-sv","name":"El Salvador Flag","keywords":["sv","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1fb","native":"\u{1F1F8}\u{1F1FB}"}],"version":2},"flag-sx":{"id":"flag-sx","name":"Sint Maarten Flag","keywords":["sx","dutch","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1fd","native":"\u{1F1F8}\u{1F1FD}"}],"version":2},"flag-sy":{"id":"flag-sy","name":"Syria Flag","keywords":["sy","syrian","arab","republic","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1fe","native":"\u{1F1F8}\u{1F1FE}"}],"version":2},"flag-sz":{"id":"flag-sz","name":"Eswatini Flag","keywords":["sz","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1ff","native":"\u{1F1F8}\u{1F1FF}"}],"version":2},"flag-ta":{"id":"flag-ta","name":"Tristan Da Cunha Flag","keywords":["ta"],"skins":[{"unified":"1f1f9-1f1e6","native":"\u{1F1F9}\u{1F1E6}"}],"version":2},"flag-tc":{"id":"flag-tc","name":"Turks & Caicos Islands Flag","keywords":["tc","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1e8","native":"\u{1F1F9}\u{1F1E8}"}],"version":2},"flag-td":{"id":"flag-td","name":"Chad Flag","keywords":["td","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1e9","native":"\u{1F1F9}\u{1F1E9}"}],"version":2},"flag-tf":{"id":"flag-tf","name":"French Southern Territories Flag","keywords":["tf","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1eb","native":"\u{1F1F9}\u{1F1EB}"}],"version":2},"flag-tg":{"id":"flag-tg","name":"Togo Flag","keywords":["tg","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1ec","native":"\u{1F1F9}\u{1F1EC}"}],"version":2},"flag-th":{"id":"flag-th","name":"Thailand Flag","keywords":["th","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1ed","native":"\u{1F1F9}\u{1F1ED}"}],"version":2},"flag-tj":{"id":"flag-tj","name":"Tajikistan Flag","keywords":["tj","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1ef","native":"\u{1F1F9}\u{1F1EF}"}],"version":2},"flag-tk":{"id":"flag-tk","name":"Tokelau Flag","keywords":["tk","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1f0","native":"\u{1F1F9}\u{1F1F0}"}],"version":2},"flag-tl":{"id":"flag-tl","name":"Timor-Leste Flag","keywords":["tl","timor","leste","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1f1","native":"\u{1F1F9}\u{1F1F1}"}],"version":2},"flag-tm":{"id":"flag-tm","name":"Turkmenistan Flag","keywords":["tm","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1f2","native":"\u{1F1F9}\u{1F1F2}"}],"version":2},"flag-tn":{"id":"flag-tn","name":"Tunisia Flag","keywords":["tn","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1f3","native":"\u{1F1F9}\u{1F1F3}"}],"version":2},"flag-to":{"id":"flag-to","name":"Tonga Flag","keywords":["to","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1f4","native":"\u{1F1F9}\u{1F1F4}"}],"version":2},"flag-tr":{"id":"flag-tr","name":"Turkey Flag","keywords":["tr","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1f7","native":"\u{1F1F9}\u{1F1F7}"}],"version":2},"flag-tt":{"id":"flag-tt","name":"Trinidad & Tobago Flag","keywords":["tt","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1f9","native":"\u{1F1F9}\u{1F1F9}"}],"version":2},"flag-tv":{"id":"flag-tv","name":"Tuvalu Flag","keywords":["tv","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1fb","native":"\u{1F1F9}\u{1F1FB}"}],"version":2},"flag-tw":{"id":"flag-tw","name":"Taiwan Flag","keywords":["tw","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1fc","native":"\u{1F1F9}\u{1F1FC}"}],"version":2},"flag-tz":{"id":"flag-tz","name":"Tanzania Flag","keywords":["tz","united","republic","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1ff","native":"\u{1F1F9}\u{1F1FF}"}],"version":2},"flag-ua":{"id":"flag-ua","name":"Ukraine Flag","keywords":["ua","nation","country","banner"],"skins":[{"unified":"1f1fa-1f1e6","native":"\u{1F1FA}\u{1F1E6}"}],"version":2},"flag-ug":{"id":"flag-ug","name":"Uganda Flag","keywords":["ug","nation","country","banner"],"skins":[{"unified":"1f1fa-1f1ec","native":"\u{1F1FA}\u{1F1EC}"}],"version":2},"flag-um":{"id":"flag-um","name":"U.s. Outlying Islands Flag","keywords":["um","u","s"],"skins":[{"unified":"1f1fa-1f1f2","native":"\u{1F1FA}\u{1F1F2}"}],"version":2},"flag-un":{"id":"flag-un","name":"United Nations Flag","keywords":["un","banner"],"skins":[{"unified":"1f1fa-1f1f3","native":"\u{1F1FA}\u{1F1F3}"}],"version":4},"us":{"id":"us","name":"United States Flag","keywords":["us","america","nation","country","banner"],"skins":[{"unified":"1f1fa-1f1f8","native":"\u{1F1FA}\u{1F1F8}"}],"version":1},"flag-uy":{"id":"flag-uy","name":"Uruguay Flag","keywords":["uy","nation","country","banner"],"skins":[{"unified":"1f1fa-1f1fe","native":"\u{1F1FA}\u{1F1FE}"}],"version":2},"flag-uz":{"id":"flag-uz","name":"Uzbekistan Flag","keywords":["uz","nation","country","banner"],"skins":[{"unified":"1f1fa-1f1ff","native":"\u{1F1FA}\u{1F1FF}"}],"version":2},"flag-va":{"id":"flag-va","name":"Vatican City Flag","keywords":["va","nation","country","banner"],"skins":[{"unified":"1f1fb-1f1e6","native":"\u{1F1FB}\u{1F1E6}"}],"version":2},"flag-vc":{"id":"flag-vc","name":"St. Vincent & Grenadines Flag","keywords":["vc","st","saint","nation","country","banner"],"skins":[{"unified":"1f1fb-1f1e8","native":"\u{1F1FB}\u{1F1E8}"}],"version":2},"flag-ve":{"id":"flag-ve","name":"Venezuela Flag","keywords":["ve","bolivarian","republic","nation","country","banner"],"skins":[{"unified":"1f1fb-1f1ea","native":"\u{1F1FB}\u{1F1EA}"}],"version":2},"flag-vg":{"id":"flag-vg","name":"British Virgin Islands Flag","keywords":["vg","bvi","nation","country","banner"],"skins":[{"unified":"1f1fb-1f1ec","native":"\u{1F1FB}\u{1F1EC}"}],"version":2},"flag-vi":{"id":"flag-vi","name":"U.s. Virgin Islands Flag","keywords":["vi","u","s","us","nation","country","banner"],"skins":[{"unified":"1f1fb-1f1ee","native":"\u{1F1FB}\u{1F1EE}"}],"version":2},"flag-vn":{"id":"flag-vn","name":"Vietnam Flag","keywords":["vn","viet","nam","nation","country","banner"],"skins":[{"unified":"1f1fb-1f1f3","native":"\u{1F1FB}\u{1F1F3}"}],"version":2},"flag-vu":{"id":"flag-vu","name":"Vanuatu Flag","keywords":["vu","nation","country","banner"],"skins":[{"unified":"1f1fb-1f1fa","native":"\u{1F1FB}\u{1F1FA}"}],"version":2},"flag-wf":{"id":"flag-wf","name":"Wallis & Futuna Flag","keywords":["wf","nation","country","banner"],"skins":[{"unified":"1f1fc-1f1eb","native":"\u{1F1FC}\u{1F1EB}"}],"version":2},"flag-ws":{"id":"flag-ws","name":"Samoa Flag","keywords":["ws","nation","country","banner"],"skins":[{"unified":"1f1fc-1f1f8","native":"\u{1F1FC}\u{1F1F8}"}],"version":2},"flag-xk":{"id":"flag-xk","name":"Kosovo Flag","keywords":["xk","nation","country","banner"],"skins":[{"unified":"1f1fd-1f1f0","native":"\u{1F1FD}\u{1F1F0}"}],"version":2},"flag-ye":{"id":"flag-ye","name":"Yemen Flag","keywords":["ye","nation","country","banner"],"skins":[{"unified":"1f1fe-1f1ea","native":"\u{1F1FE}\u{1F1EA}"}],"version":2},"flag-yt":{"id":"flag-yt","name":"Mayotte Flag","keywords":["yt","nation","country","banner"],"skins":[{"unified":"1f1fe-1f1f9","native":"\u{1F1FE}\u{1F1F9}"}],"version":2},"flag-za":{"id":"flag-za","name":"South Africa Flag","keywords":["za","nation","country","banner"],"skins":[{"unified":"1f1ff-1f1e6","native":"\u{1F1FF}\u{1F1E6}"}],"version":2},"flag-zm":{"id":"flag-zm","name":"Zambia Flag","keywords":["zm","nation","country","banner"],"skins":[{"unified":"1f1ff-1f1f2","native":"\u{1F1FF}\u{1F1F2}"}],"version":2},"flag-zw":{"id":"flag-zw","name":"Zimbabwe Flag","keywords":["zw","nation","country","banner"],"skins":[{"unified":"1f1ff-1f1fc","native":"\u{1F1FF}\u{1F1FC}"}],"version":2},"flag-england":{"id":"flag-england","name":"England Flag","keywords":["english"],"skins":[{"unified":"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f","native":"\u{1F3F4}\u{E0067}\u{E0062}\u{E0065}\u{E006E}\u{E0067}\u{E007F}"}],"version":5},"flag-scotland":{"id":"flag-scotland","name":"Scotland Flag","keywords":["scottish"],"skins":[{"unified":"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f","native":"\u{1F3F4}\u{E0067}\u{E0062}\u{E0073}\u{E0063}\u{E0074}\u{E007F}"}],"version":5},"flag-wales":{"id":"flag-wales","name":"Wales Flag","keywords":["welsh"],"skins":[{"unified":"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f","native":"\u{1F3F4}\u{E0067}\u{E0062}\u{E0077}\u{E006C}\u{E0073}\u{E007F}"}],"version":5}},"aliases":{"satisfied":"laughing","grinning_face_with_star_eyes":"star-struck","grinning_face_with_one_large_and_one_small_eye":"zany_face","smiling_face_with_smiling_eyes_and_hand_covering_mouth":"face_with_hand_over_mouth","face_with_finger_covering_closed_lips":"shushing_face","face_with_one_eyebrow_raised":"face_with_raised_eyebrow","face_with_open_mouth_vomiting":"face_vomiting","shocked_face_with_exploding_head":"exploding_head","serious_face_with_symbols_covering_mouth":"face_with_symbols_on_mouth","poop":"hankey","shit":"hankey","collision":"boom","raised_hand":"hand","hand_with_index_and_middle_fingers_crossed":"crossed_fingers","sign_of_the_horns":"the_horns","reversed_hand_with_middle_finger_extended":"middle_finger","thumbsup":"+1","thumbsdown":"-1","punch":"facepunch","mother_christmas":"mrs_claus","running":"runner","man-with-bunny-ears-partying":"men-with-bunny-ears-partying","woman-with-bunny-ears-partying":"women-with-bunny-ears-partying","women_holding_hands":"two_women_holding_hands","woman_and_man_holding_hands":"man_and_woman_holding_hands","couple":"man_and_woman_holding_hands","men_holding_hands":"two_men_holding_hands","paw_prints":"feet","flipper":"dolphin","honeybee":"bee","lady_beetle":"ladybug","cooking":"fried_egg","knife":"hocho","red_car":"car","sailboat":"boat","waxing_gibbous_moon":"moon","sun_small_cloud":"mostly_sunny","sun_behind_cloud":"barely_sunny","sun_behind_rain_cloud":"partly_sunny_rain","lightning_cloud":"lightning","tornado_cloud":"tornado","tshirt":"shirt","shoe":"mans_shoe","telephone":"phone","lantern":"izakaya_lantern","open_book":"book","envelope":"email","pencil":"memo","heavy_exclamation_mark":"exclamation","staff_of_aesculapius":"medical_symbol","flag-cn":"cn","flag-de":"de","flag-es":"es","flag-fr":"fr","uk":"gb","flag-gb":"gb","flag-it":"it","flag-jp":"jp","flag-kr":"kr","flag-ru":"ru","flag-us":"us"},"sheet":{"cols":61,"rows":61}}`);function ak(e){return e&&e.__esModule?e.default:e}function oa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Zu,ct,sk,Yj,Yu,ok,lk,dk,Qh={},ck=[],Xj=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Us(e,t){for(var i in t)e[i]=t[i];return e}function uk(e){var t=e.parentNode;t&&t.removeChild(e)}function Vs(e,t,i){var n,r,a,s={};for(a in t)a=="key"?n=t[a]:a=="ref"?r=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?Zu.call(arguments,2):i),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)s[a]===void 0&&(s[a]=e.defaultProps[a]);return Xu(e,s,n,r,null)}function Xu(e,t,i,n,r){var a={type:e,props:t,key:i,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r==null?++sk:r};return r==null&&ct.vnode!=null&&ct.vnode(a),a}function as(){return{current:null}}function Io(e){return e.children}function Ea(e,t){this.props=e,this.context=t}function Ld(e,t){if(t==null)return e.__?Ld(e.__,e.__.__k.indexOf(e)+1):null;for(var i;t<e.__k.length;t++)if((i=e.__k[t])!=null&&i.__e!=null)return i.__e;return typeof e.type=="function"?Ld(e):null}function fk(e){var t,i;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((i=e.__k[t])!=null&&i.__e!=null){e.__e=e.__c.base=i.__e;break}return fk(e)}}function Fv(e){(!e.__d&&(e.__d=!0)&&Yu.push(e)&&!Jh.__r++||lk!==ct.debounceRendering)&&((lk=ct.debounceRendering)||ok)(Jh)}function Jh(){for(var e;Jh.__r=Yu.length;)e=Yu.sort(function(t,i){return t.__v.__b-i.__v.__b}),Yu=[],e.some(function(t){var i,n,r,a,s,o;t.__d&&(s=(a=(i=t).__v).__e,(o=i.__P)&&(n=[],(r=Us({},a)).__v=a.__v+1,Nv(o,a,r,i.__n,o.ownerSVGElement!==void 0,a.__h!=null?[s]:null,n,s==null?Ld(a):s,a.__h),bk(n,a),a.__e!=s&&fk(a)))})}function hk(e,t,i,n,r,a,s,o,l,d){var u,c,f,h,p,m,g,v=n&&n.__k||ck,y=v.length;for(i.__k=[],u=0;u<t.length;u++)if((h=i.__k[u]=(h=t[u])==null||typeof h=="boolean"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?Xu(null,h,null,null,h):Array.isArray(h)?Xu(Io,{children:h},null,null,null):h.__b>0?Xu(h.type,h.props,h.key,null,h.__v):h)!=null){if(h.__=i,h.__b=i.__b+1,(f=v[u])===null||f&&h.key==f.key&&h.type===f.type)v[u]=void 0;else for(c=0;c<y;c++){if((f=v[c])&&h.key==f.key&&h.type===f.type){v[c]=void 0;break}f=null}Nv(e,h,f=f||Qh,r,a,s,o,l,d),p=h.__e,(c=h.ref)&&f.ref!=c&&(g||(g=[]),f.ref&&g.push(f.ref,null,h),g.push(c,h.__c||p,h)),p!=null?(m==null&&(m=p),typeof h.type=="function"&&h.__k===f.__k?h.__d=l=pk(h,l,e):l=mk(e,h,f,v,p,l),typeof i.type=="function"&&(i.__d=l)):l&&f.__e==l&&l.parentNode!=e&&(l=Ld(f))}for(i.__e=m,u=y;u--;)v[u]!=null&&(typeof i.type=="function"&&v[u].__e!=null&&v[u].__e==i.__d&&(i.__d=Ld(n,u+1)),wk(v[u],v[u]));if(g)for(u=0;u<g.length;u++)_k(g[u],g[++u],g[++u])}function pk(e,t,i){for(var n,r=e.__k,a=0;r&&a<r.length;a++)(n=r[a])&&(n.__=e,t=typeof n.type=="function"?pk(n,t,i):mk(i,n,n,r,n.__e,t));return t}function Hs(e,t){return t=t||[],e==null||typeof e=="boolean"||(Array.isArray(e)?e.some(function(i){Hs(i,t)}):t.push(e)),t}function mk(e,t,i,n,r,a){var s,o,l;if(t.__d!==void 0)s=t.__d,t.__d=void 0;else if(i==null||r!=a||r.parentNode==null)e:if(a==null||a.parentNode!==e)e.appendChild(r),s=null;else{for(o=a,l=0;(o=o.nextSibling)&&l<n.length;l+=2)if(o==r)break e;e.insertBefore(r,a),s=a}return s!==void 0?s:r.nextSibling}function Kj(e,t,i,n,r){var a;for(a in i)a==="children"||a==="key"||a in t||$h(e,a,null,i[a],n);for(a in t)r&&typeof t[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||i[a]===t[a]||$h(e,a,t[a],i[a],n)}function gk(e,t,i){t[0]==="-"?e.setProperty(t,i):e[t]=i==null?"":typeof i!="number"||Xj.test(t)?i:i+"px"}function $h(e,t,i,n,r){var a;e:if(t==="style")if(typeof i=="string")e.style.cssText=i;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)i&&t in i||gk(e.style,t,"");if(i)for(t in i)n&&i[t]===n[t]||gk(e.style,t,i[t])}else if(t[0]==="o"&&t[1]==="n")a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=i,i?n||e.addEventListener(t,a?yk:vk,a):e.removeEventListener(t,a?yk:vk,a);else if(t!=="dangerouslySetInnerHTML"){if(r)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=i==null?"":i;break e}catch(s){}typeof i=="function"||(i!=null&&(i!==!1||t[0]==="a"&&t[1]==="r")?e.setAttribute(t,i):e.removeAttribute(t))}}function vk(e){this.l[e.type+!1](ct.event?ct.event(e):e)}function yk(e){this.l[e.type+!0](ct.event?ct.event(e):e)}function Nv(e,t,i,n,r,a,s,o,l){var d,u,c,f,h,p,m,g,v,y,b,_=t.type;if(t.constructor!==void 0)return null;i.__h!=null&&(l=i.__h,o=t.__e=i.__e,t.__h=null,a=[o]),(d=ct.__b)&&d(t);try{e:if(typeof _=="function"){if(g=t.props,v=(d=_.contextType)&&n[d.__c],y=d?v?v.props.value:d.__:n,i.__c?m=(u=t.__c=i.__c).__=u.__E:("prototype"in _&&_.prototype.render?t.__c=u=new _(g,y):(t.__c=u=new Ea(g,y),u.constructor=_,u.render=Jj),v&&v.sub(u),u.props=g,u.state||(u.state={}),u.context=y,u.__n=n,c=u.__d=!0,u.__h=[]),u.__s==null&&(u.__s=u.state),_.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Us({},u.__s)),Us(u.__s,_.getDerivedStateFromProps(g,u.__s))),f=u.props,h=u.state,c)_.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(_.getDerivedStateFromProps==null&&g!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(g,y),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(g,u.__s,y)===!1||t.__v===i.__v){u.props=g,u.state=u.__s,t.__v!==i.__v&&(u.__d=!1),u.__v=t,t.__e=i.__e,t.__k=i.__k,t.__k.forEach(function(x){x&&(x.__=t)}),u.__h.length&&s.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(g,u.__s,y),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,h,p)})}u.context=y,u.props=g,u.state=u.__s,(d=ct.__r)&&d(t),u.__d=!1,u.__v=t,u.__P=e,d=u.render(u.props,u.state,u.context),u.state=u.__s,u.getChildContext!=null&&(n=Us(Us({},n),u.getChildContext())),c||u.getSnapshotBeforeUpdate==null||(p=u.getSnapshotBeforeUpdate(f,h)),b=d!=null&&d.type===Io&&d.key==null?d.props.children:d,hk(e,Array.isArray(b)?b:[b],t,i,n,r,a,s,o,l),u.base=t.__e,t.__h=null,u.__h.length&&s.push(u),m&&(u.__E=u.__=null),u.__e=!1}else a==null&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=Qj(i.__e,t,i,n,r,a,s,l);(d=ct.diffed)&&d(t)}catch(x){t.__v=null,(l||a!=null)&&(t.__e=o,t.__h=!!l,a[a.indexOf(o)]=null),ct.__e(x,t,i)}}function bk(e,t){ct.__c&&ct.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(n){n.call(i)})}catch(n){ct.__e(n,i.__v)}})}function Qj(e,t,i,n,r,a,s,o){var l,d,u,c=i.props,f=t.props,h=t.type,p=0;if(h==="svg"&&(r=!0),a!=null){for(;p<a.length;p++)if((l=a[p])&&"setAttribute"in l==!!h&&(h?l.localName===h:l.nodeType===3)){e=l,a[p]=null;break}}if(e==null){if(h===null)return document.createTextNode(f);e=r?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,f.is&&f),a=null,o=!1}if(h===null)c===f||o&&e.data===f||(e.data=f);else{if(a=a&&Zu.call(e.childNodes),d=(c=i.props||Qh).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!o){if(a!=null)for(c={},p=0;p<e.attributes.length;p++)c[e.attributes[p].name]=e.attributes[p].value;(u||d)&&(u&&(d&&u.__html==d.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(Kj(e,f,c,r,o),u)t.__k=[];else if(p=t.props.children,hk(e,Array.isArray(p)?p:[p],t,i,n,r&&h!=="foreignObject",a,s,a?a[0]:i.__k&&Ld(i,0),o),a!=null)for(p=a.length;p--;)a[p]!=null&&uk(a[p]);o||("value"in f&&(p=f.value)!==void 0&&(p!==c.value||p!==e.value||h==="progress"&&!p)&&$h(e,"value",p,c.value,!1),"checked"in f&&(p=f.checked)!==void 0&&p!==e.checked&&$h(e,"checked",p,c.checked,!1))}return e}function _k(e,t,i){try{typeof e=="function"?e(t):e.current=t}catch(n){ct.__e(n,i)}}function wk(e,t,i){var n,r;if(ct.unmount&&ct.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||_k(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){ct.__e(a,t)}n.base=n.__P=null}if(n=e.__k)for(r=0;r<n.length;r++)n[r]&&wk(n[r],t,typeof e.type!="function");i||e.__e==null||uk(e.__e),e.__e=e.__d=void 0}function Jj(e,t,i){return this.constructor(e,i)}function Dl(e,t,i){var n,r,a;ct.__&&ct.__(e,t),r=(n=typeof i=="function")?null:i&&i.__k||t.__k,a=[],Nv(t,e=(!n&&i||t).__k=Vs(Io,null,[e]),r||Qh,Qh,t.ownerSVGElement!==void 0,!n&&i?[i]:r?null:t.firstChild?Zu.call(t.childNodes):null,a,!n&&i?i:r?r.__e:t.firstChild,n),bk(a,e)}function xk(e,t){Dl(e,t,xk)}function $j(e,t,i){var n,r,a,s=Us({},e.props);for(a in t)a=="key"?n=t[a]:a=="ref"?r=t[a]:s[a]=t[a];return arguments.length>2&&(s.children=arguments.length>3?Zu.call(arguments,2):i),Xu(e.type,s,n||e.key,r||e.ref,null)}function eR(e,t){var i={__c:t="__cC"+dk++,__:e,Consumer:function(n,r){return n.children(r)},Provider:function(n){var r,a;return this.getChildContext||(r=[],(a={})[t]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&r.some(Fv)},this.sub=function(s){r.push(s);var o=s.componentWillUnmount;s.componentWillUnmount=function(){r.splice(r.indexOf(s),1),o&&o.call(s)}}),n.children}};return i.Provider.__=i.Consumer.contextType=i}Zu=ck.slice,ct={__e:function(e,t){for(var i,n,r;t=t.__;)if((i=t.__c)&&!i.__)try{if((n=i.constructor)&&n.getDerivedStateFromError!=null&&(i.setState(n.getDerivedStateFromError(e)),r=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e),r=i.__d),r)return i.__E=i}catch(a){e=a}throw e}},sk=0,Yj=function(e){return e!=null&&e.constructor===void 0},Ea.prototype.setState=function(e,t){var i;i=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Us({},this.state),typeof e=="function"&&(e=e(Us({},i),this.props)),e&&Us(i,e),e!=null&&this.__v&&(t&&this.__h.push(t),Fv(this))},Ea.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Fv(this))},Ea.prototype.render=Io,Yu=[],ok=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Jh.__r=0,dk=0;var tR=0;function De(e,t,i,n,r){var a,s,o={};for(s in t)s=="ref"?a=t[s]:o[s]=t[s];var l={type:e,props:o,key:i,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--tR,__source:n,__self:r};if(typeof e=="function"&&(a=e.defaultProps))for(s in a)o[s]===void 0&&(o[s]=a[s]);return ct.vnode&&ct.vnode(l),l}function iR(e,t){try{window.localStorage[`emoji-mart.${e}`]=JSON.stringify(t)}catch(i){}}function nR(e){try{const t=window.localStorage[`emoji-mart.${e}`];if(t)return JSON.parse(t)}catch(t){}}var Oo={set:iR,get:nR};const Uv=new Map,rR=[{v:15,emoji:"\u{1FAE8}"},{v:14,emoji:"\u{1FAE0}"},{v:13.1,emoji:"\u{1F636}\u200D\u{1F32B}\uFE0F"},{v:13,emoji:"\u{1F978}"},{v:12.1,emoji:"\u{1F9D1}\u200D\u{1F9B0}"},{v:12,emoji:"\u{1F971}"},{v:11,emoji:"\u{1F970}"},{v:5,emoji:"\u{1F929}"},{v:4,emoji:"\u{1F471}\u200D\u2640\uFE0F"},{v:3,emoji:"\u{1F923}"},{v:2,emoji:"\u{1F44B}\u{1F3FB}"},{v:1,emoji:"\u{1F643}"}];function aR(){for(const{v:e,emoji:t}of rR)if(kk(t))return e}function sR(){return!kk("\u{1F1E8}\u{1F1E6}")}function kk(e){if(Uv.has(e))return Uv.get(e);const t=oR(e);return Uv.set(e,t),t}const oR=(()=>{let e=null;try{navigator.userAgent.includes("jsdom")||(e=document.createElement("canvas").getContext("2d",{willReadFrequently:!0}))}catch(r){}if(!e)return()=>!1;const t=25,i=20,n=Math.floor(t/2);return e.font=n+"px Arial, Sans-Serif",e.textBaseline="top",e.canvas.width=i*2,e.canvas.height=t,r=>{e.clearRect(0,0,i*2,t),e.fillStyle="#FF0000",e.fillText(r,0,22),e.fillStyle="#0000FF",e.fillText(r,i,22);const a=e.getImageData(0,0,i,t).data,s=a.length;let o=0;for(;o<s&&!a[o+3];o+=4);if(o>=s)return!1;const l=i+o/4%i,d=Math.floor(o/4/i),u=e.getImageData(l,d,1,1).data;return!(a[o]!==u[0]||a[o+2]!==u[2]||e.measureText(r).width>=i)}})();var Sk={latestVersion:aR,noCountryFlags:sR};const Vv=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart"];let Ln=null;function lR(e){Ln||(Ln=Oo.get("frequently")||{});const t=e.id||e;t&&(Ln[t]||(Ln[t]=0),Ln[t]+=1,Oo.set("last",t),Oo.set("frequently",Ln))}function dR({maxFrequentRows:e,perLine:t}){if(!e)return[];Ln||(Ln=Oo.get("frequently"));let i=[];if(!Ln){Ln={};for(let a in Vv.slice(0,t)){const s=Vv[a];Ln[s]=t-a,i.push(s)}return i}const n=e*t,r=Oo.get("last");for(let a in Ln)i.push(a);if(i.sort((a,s)=>{const o=Ln[s],l=Ln[a];return o==l?a.localeCompare(s):o-l}),i.length>n){const a=i.slice(n);i=i.slice(0,n);for(let s of a)s!=r&&delete Ln[s];r&&i.indexOf(r)==-1&&(delete Ln[i[i.length-1]],i.splice(-1,1,r)),Oo.set("frequently",Ln)}return i}var Ak={add:lR,get:dR,DEFAULTS:Vv},Mk={};Mk=JSON.parse('{"search":"Search","search_no_results_1":"Oh no!","search_no_results_2":"That emoji couldn\u2019t be found","pick":"Pick an emoji\u2026","add_custom":"Add custom emoji","categories":{"activity":"Activity","custom":"Custom","flags":"Flags","foods":"Food & Drink","frequent":"Frequently used","nature":"Animals & Nature","objects":"Objects","people":"Smileys & People","places":"Travel & Places","search":"Search Results","symbols":"Symbols"},"skins":{"1":"Default","2":"Light","3":"Medium-Light","4":"Medium","5":"Medium-Dark","6":"Dark","choose":"Choose default skin tone"}}');var Gs={autoFocus:{value:!1},dynamicWidth:{value:!1},emojiButtonColors:{value:null},emojiButtonRadius:{value:"100%"},emojiButtonSize:{value:36},emojiSize:{value:24},emojiVersion:{value:15,choices:[1,2,3,4,5,11,12,12.1,13,13.1,14,15]},exceptEmojis:{value:[]},icons:{value:"auto",choices:["auto","outline","solid"]},locale:{value:"en",choices:["en","ar","be","cs","de","es","fa","fi","fr","hi","it","ja","ko","nl","pl","pt","ru","sa","tr","uk","vi","zh"]},maxFrequentRows:{value:4},navPosition:{value:"top",choices:["top","bottom","none"]},noCountryFlags:{value:!1},noResultsEmoji:{value:null},perLine:{value:9},previewEmoji:{value:null},previewPosition:{value:"bottom",choices:["top","bottom","none"]},searchPosition:{value:"sticky",choices:["sticky","static","none"]},set:{value:"native",choices:["native","apple","facebook","google","twitter"]},skin:{value:1,choices:[1,2,3,4,5,6]},skinTonePosition:{value:"preview",choices:["preview","search","none"]},theme:{value:"auto",choices:["auto","light","dark"]},categories:null,categoryIcons:null,custom:null,data:null,i18n:null,getImageURL:null,getSpritesheetURL:null,onAddCustomEmoji:null,onClickOutside:null,onEmojiSelect:null,stickySearch:{deprecated:!0,value:!0}};let Wn=null,Wt=null;const Hv={};function Ck(e){return ri(this,null,function*(){if(Hv[e])return Hv[e];const i=yield(yield fetch(e)).json();return Hv[e]=i,i})}let Gv=null,Ihe=!1,Ek=null,Tk=!1;function ep(e,{caller:t}={}){return Gv||(Gv=new Promise(i=>{Ek=i})),e?cR(e):t&&!Tk&&console.warn(`\`${t}\` requires data to be initialized first. Promise will be pending until \`init\` is called.`),Gv}function cR(e){return ri(this,null,function*(){Tk=!0;let{emojiVersion:t,set:i,locale:n}=e;if(t||(t=Gs.emojiVersion.value),i||(i=Gs.set.value),n||(n=Gs.locale.value),Wt)Wt.categories=Wt.categories.filter(l=>!l.name);else{Wt=(typeof e.data=="function"?yield e.data():e.data)||(yield Ck(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/sets/${t}/${i}.json`)),Wt.emoticons={},Wt.natives={},Wt.categories.unshift({id:"frequent",emojis:[]});for(const l in Wt.aliases){const d=Wt.aliases[l],u=Wt.emojis[d];u&&(u.aliases||(u.aliases=[]),u.aliases.push(l))}Wt.originalCategories=Wt.categories}if(Wn=(typeof e.i18n=="function"?yield e.i18n():e.i18n)||(n=="en"?ak(Mk):yield Ck(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/i18n/${n}.json`)),e.custom)for(let l in e.custom){l=parseInt(l);const d=e.custom[l],u=e.custom[l-1];if(!(!d.emojis||!d.emojis.length)){d.id||(d.id=`custom_${l+1}`),d.name||(d.name=Wn.categories.custom),u&&!d.icon&&(d.target=u.target||u),Wt.categories.push(d);for(const c of d.emojis)Wt.emojis[c.id]=c}}e.categories&&(Wt.categories=Wt.originalCategories.filter(l=>e.categories.indexOf(l.id)!=-1).sort((l,d)=>{const u=e.categories.indexOf(l.id),c=e.categories.indexOf(d.id);return u-c}));let r=null,a=null;i=="native"&&(r=Sk.latestVersion(),a=e.noCountryFlags||Sk.noCountryFlags());let s=Wt.categories.length,o=!1;for(;s--;){const l=Wt.categories[s];if(l.id=="frequent"){let{maxFrequentRows:c,perLine:f}=e;c=c>=0?c:Gs.maxFrequentRows.value,f||(f=Gs.perLine.value),l.emojis=Ak.get({maxFrequentRows:c,perLine:f})}if(!l.emojis||!l.emojis.length){Wt.categories.splice(s,1);continue}const{categoryIcons:d}=e;if(d){const c=d[l.id];c&&!l.icon&&(l.icon=c)}let u=l.emojis.length;for(;u--;){const c=l.emojis[u],f=c.id?c:Wt.emojis[c],h=()=>{l.emojis.splice(u,1)};if(!f||e.exceptEmojis&&e.exceptEmojis.includes(f.id)){h();continue}if(r&&f.version>r){h();continue}if(a&&l.id=="flags"&&!mR.includes(f.id)){h();continue}if(!f.search){if(o=!0,f.search=","+[[f.id,!1],[f.name,!0],[f.keywords,!1],[f.emoticons,!1]].map(([m,g])=>{if(m)return(Array.isArray(m)?m:[m]).map(v=>(g?v.split(/[-|_|\s]+/):[v]).map(y=>y.toLowerCase())).flat()}).flat().filter(m=>m&&m.trim()).join(","),f.emoticons)for(const m of f.emoticons)Wt.emoticons[m]||(Wt.emoticons[m]=f.id);let p=0;for(const m of f.skins){if(!m)continue;p++;const{native:g}=m;g&&(Wt.natives[g]=f.id,f.search+=`,${g}`);const v=p==1?"":`:skin-tone-${p}:`;m.shortcodes=`:${f.id}:${v}`}}}}o&&Pl.reset(),Ek()})}function Dk(e,t,i){e||(e={});const n={};for(let r in t)n[r]=Pk(r,e,t,i);return n}function Pk(e,t,i,n){const r=i[e];let a=n&&n.getAttribute(e)||(t[e]!=null&&t[e]!=null?t[e]:null);return r&&(a!=null&&r.value&&typeof r.value!=typeof a&&(typeof r.value=="boolean"?a=a!="false":a=r.value.constructor(a)),r.transform&&a&&(a=r.transform(a)),(a==null||r.choices&&r.choices.indexOf(a)==-1)&&(a=r.value)),a}const uR=/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/;let Wv=null;function fR(e){return e.id?e:Wt.emojis[e]||Wt.emojis[Wt.aliases[e]]||Wt.emojis[Wt.natives[e]]}function hR(){Wv=null}function pR(n){return ri(this,arguments,function*(e,{maxResults:t,caller:i}={}){if(!e||!e.trim().length)return null;t||(t=90),yield ep(null,{caller:i||"SearchIndex.search"});const r=e.toLowerCase().replace(/(\w)-/,"$1 ").split(/[\s|,]+/).filter((l,d,u)=>l.trim()&&u.indexOf(l)==d);if(!r.length)return;let a=Wv||(Wv=Object.values(Wt.emojis)),s,o;for(const l of r){if(!a.length)break;s=[],o={};for(const d of a){if(!d.search)continue;const u=d.search.indexOf(`,${l}`);u!=-1&&(s.push(d),o[d.id]||(o[d.id]=0),o[d.id]+=d.id==l?0:u+1)}a=s}return s.length<2||(s.sort((l,d)=>{const u=o[l.id],c=o[d.id];return u==c?l.id.localeCompare(d.id):u-c}),s.length>t&&(s=s.slice(0,t))),s})}var Pl={search:pR,get:fR,reset:hR,SHORTCODES_REGEX:uR};const mR=["checkered_flag","crossed_flags","pirate_flag","rainbow-flag","transgender_flag","triangular_flag_on_post","waving_black_flag","waving_white_flag"];function gR(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((i,n)=>i==t[n])}function vR(e=1){return ri(this,null,function*(){for(let t in[...Array(e).keys()])yield new Promise(requestAnimationFrame)})}function Ik(e,{skinIndex:t=0}={}){const i=e.skins[t]||(t=0,e.skins[t]),n={id:e.id,name:e.name,native:i.native,unified:i.unified,keywords:e.keywords,shortcodes:i.shortcodes||e.shortcodes};return e.skins.length>1&&(n.skin=t+1),i.src&&(n.src=i.src),e.aliases&&e.aliases.length&&(n.aliases=e.aliases),e.emoticons&&e.emoticons.length&&(n.emoticons=e.emoticons),n}function Ohe(e){return ri(this,null,function*(){const t=yield Pl.search(e,{maxResults:1,caller:"getEmojiDataFromNative"});if(!t||!t.length)return null;const i=t[0];let n=0;for(let r of i.skins){if(r.native==e)break;n++}return Ik(i,{skinIndex:n})})}var tp={categories:{activity:{outline:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:De("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"})}),solid:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:De("path",{d:"M16.17 337.5c0 44.98 7.565 83.54 13.98 107.9C35.22 464.3 50.46 496 174.9 496c9.566 0 19.59-.4707 29.84-1.271L17.33 307.3C16.53 317.6 16.17 327.7 16.17 337.5zM495.8 174.5c0-44.98-7.565-83.53-13.98-107.9c-4.688-17.54-18.34-31.23-36.04-35.95C435.5 27.91 392.9 16 337 16c-9.564 0-19.59 .4707-29.84 1.271l187.5 187.5C495.5 194.4 495.8 184.3 495.8 174.5zM26.77 248.8l236.3 236.3c142-36.1 203.9-150.4 222.2-221.1L248.9 26.87C106.9 62.96 45.07 177.2 26.77 248.8zM256 335.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L164.7 283.3C161.6 280.2 160 276.1 160 271.1c0-8.529 6.865-16 16-16c4.095 0 8.189 1.562 11.31 4.688l64.01 64C254.4 327.8 256 331.9 256 335.1zM304 287.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L212.7 235.3C209.6 232.2 208 228.1 208 223.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01C302.5 279.8 304 283.9 304 287.1zM256 175.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01c3.125 3.125 4.688 7.219 4.688 11.31c0 9.133-7.468 16-16 16c-4.094 0-8.189-1.562-11.31-4.688l-64.01-64.01C257.6 184.2 256 180.1 256 175.1z"})})},custom:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:De("path",{d:"M417.1 368c-5.937 10.27-16.69 16-27.75 16c-5.422 0-10.92-1.375-15.97-4.281L256 311.4V448c0 17.67-14.33 32-31.1 32S192 465.7 192 448V311.4l-118.3 68.29C68.67 382.6 63.17 384 57.75 384c-11.06 0-21.81-5.734-27.75-16c-8.828-15.31-3.594-34.88 11.72-43.72L159.1 256L41.72 187.7C26.41 178.9 21.17 159.3 29.1 144C36.63 132.5 49.26 126.7 61.65 128.2C65.78 128.7 69.88 130.1 73.72 132.3L192 200.6V64c0-17.67 14.33-32 32-32S256 46.33 256 64v136.6l118.3-68.29c3.838-2.213 7.939-3.539 12.07-4.051C398.7 126.7 411.4 132.5 417.1 144c8.828 15.31 3.594 34.88-11.72 43.72L288 256l118.3 68.28C421.6 333.1 426.8 352.7 417.1 368z"})}),flags:{outline:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:De("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"})}),solid:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:De("path",{d:"M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z"})})},foods:{outline:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:De("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"})}),solid:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:De("path",{d:"M481.9 270.1C490.9 279.1 496 291.3 496 304C496 316.7 490.9 328.9 481.9 337.9C472.9 346.9 460.7 352 448 352H64C51.27 352 39.06 346.9 30.06 337.9C21.06 328.9 16 316.7 16 304C16 291.3 21.06 279.1 30.06 270.1C39.06 261.1 51.27 256 64 256H448C460.7 256 472.9 261.1 481.9 270.1zM475.3 388.7C478.3 391.7 480 395.8 480 400V416C480 432.1 473.3 449.3 461.3 461.3C449.3 473.3 432.1 480 416 480H96C79.03 480 62.75 473.3 50.75 461.3C38.74 449.3 32 432.1 32 416V400C32 395.8 33.69 391.7 36.69 388.7C39.69 385.7 43.76 384 48 384H464C468.2 384 472.3 385.7 475.3 388.7zM50.39 220.8C45.93 218.6 42.03 215.5 38.97 211.6C35.91 207.7 33.79 203.2 32.75 198.4C31.71 193.5 31.8 188.5 32.99 183.7C54.98 97.02 146.5 32 256 32C365.5 32 457 97.02 479 183.7C480.2 188.5 480.3 193.5 479.2 198.4C478.2 203.2 476.1 207.7 473 211.6C469.1 215.5 466.1 218.6 461.6 220.8C457.2 222.9 452.3 224 447.3 224H64.67C59.73 224 54.84 222.9 50.39 220.8zM372.7 116.7C369.7 119.7 368 123.8 368 128C368 131.2 368.9 134.3 370.7 136.9C372.5 139.5 374.1 141.6 377.9 142.8C380.8 143.1 384 144.3 387.1 143.7C390.2 143.1 393.1 141.6 395.3 139.3C397.6 137.1 399.1 134.2 399.7 131.1C400.3 128 399.1 124.8 398.8 121.9C397.6 118.1 395.5 116.5 392.9 114.7C390.3 112.9 387.2 111.1 384 111.1C379.8 111.1 375.7 113.7 372.7 116.7V116.7zM244.7 84.69C241.7 87.69 240 91.76 240 96C240 99.16 240.9 102.3 242.7 104.9C244.5 107.5 246.1 109.6 249.9 110.8C252.8 111.1 256 112.3 259.1 111.7C262.2 111.1 265.1 109.6 267.3 107.3C269.6 105.1 271.1 102.2 271.7 99.12C272.3 96.02 271.1 92.8 270.8 89.88C269.6 86.95 267.5 84.45 264.9 82.7C262.3 80.94 259.2 79.1 256 79.1C251.8 79.1 247.7 81.69 244.7 84.69V84.69zM116.7 116.7C113.7 119.7 112 123.8 112 128C112 131.2 112.9 134.3 114.7 136.9C116.5 139.5 118.1 141.6 121.9 142.8C124.8 143.1 128 144.3 131.1 143.7C134.2 143.1 137.1 141.6 139.3 139.3C141.6 137.1 143.1 134.2 143.7 131.1C144.3 128 143.1 124.8 142.8 121.9C141.6 118.1 139.5 116.5 136.9 114.7C134.3 112.9 131.2 111.1 128 111.1C123.8 111.1 119.7 113.7 116.7 116.7L116.7 116.7z"})})},frequent:{outline:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[De("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),De("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"})]}),solid:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:De("path",{d:"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"})})},nature:{outline:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[De("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),De("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"})]}),solid:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:De("path",{d:"M332.7 19.85C334.6 8.395 344.5 0 356.1 0C363.6 0 370.6 3.52 375.1 9.502L392 32H444.1C456.8 32 469.1 37.06 478.1 46.06L496 64H552C565.3 64 576 74.75 576 88V112C576 156.2 540.2 192 496 192H426.7L421.6 222.5L309.6 158.5L332.7 19.85zM448 64C439.2 64 432 71.16 432 80C432 88.84 439.2 96 448 96C456.8 96 464 88.84 464 80C464 71.16 456.8 64 448 64zM416 256.1V480C416 497.7 401.7 512 384 512H352C334.3 512 320 497.7 320 480V364.8C295.1 377.1 268.8 384 240 384C211.2 384 184 377.1 160 364.8V480C160 497.7 145.7 512 128 512H96C78.33 512 64 497.7 64 480V249.8C35.23 238.9 12.64 214.5 4.836 183.3L.9558 167.8C-3.331 150.6 7.094 133.2 24.24 128.1C41.38 124.7 58.76 135.1 63.05 152.2L66.93 167.8C70.49 182 83.29 191.1 97.97 191.1H303.8L416 256.1z"})})},objects:{outline:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[De("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),De("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"})]}),solid:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:De("path",{d:"M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z"})})},people:{outline:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[De("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),De("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"})]}),solid:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:De("path",{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 432C332.1 432 396.2 382 415.2 314.1C419.1 300.4 407.8 288 393.6 288H118.4C104.2 288 92.92 300.4 96.76 314.1C115.8 382 179.9 432 256 432V432zM176.4 160C158.7 160 144.4 174.3 144.4 192C144.4 209.7 158.7 224 176.4 224C194 224 208.4 209.7 208.4 192C208.4 174.3 194 160 176.4 160zM336.4 224C354 224 368.4 209.7 368.4 192C368.4 174.3 354 160 336.4 160C318.7 160 304.4 174.3 304.4 192C304.4 209.7 318.7 224 336.4 224z"})})},places:{outline:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[De("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),De("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"})]}),solid:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:De("path",{d:"M39.61 196.8L74.8 96.29C88.27 57.78 124.6 32 165.4 32H346.6C387.4 32 423.7 57.78 437.2 96.29L472.4 196.8C495.6 206.4 512 229.3 512 256V448C512 465.7 497.7 480 480 480H448C430.3 480 416 465.7 416 448V400H96V448C96 465.7 81.67 480 64 480H32C14.33 480 0 465.7 0 448V256C0 229.3 16.36 206.4 39.61 196.8V196.8zM109.1 192H402.9L376.8 117.4C372.3 104.6 360.2 96 346.6 96H165.4C151.8 96 139.7 104.6 135.2 117.4L109.1 192zM96 256C78.33 256 64 270.3 64 288C64 305.7 78.33 320 96 320C113.7 320 128 305.7 128 288C128 270.3 113.7 256 96 256zM416 320C433.7 320 448 305.7 448 288C448 270.3 433.7 256 416 256C398.3 256 384 270.3 384 288C384 305.7 398.3 320 416 320z"})})},symbols:{outline:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:De("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"})}),solid:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:De("path",{d:"M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z"})})}},search:{loupe:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:De("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})}),delete:De("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:De("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})}};function qv(e){let{id:t,skin:i,emoji:n}=e;if(e.shortcodes){const o=e.shortcodes.match(Pl.SHORTCODES_REGEX);o&&(t=o[1],o[2]&&(i=o[2]))}if(n||(n=Pl.get(t||e.native)),!n)return e.fallback;const r=n.skins[i-1]||n.skins[0],a=r.src||(e.set!="native"&&!e.spritesheet?typeof e.getImageURL=="function"?e.getImageURL(e.set,r.unified):`https://cdn.jsdelivr.net/npm/emoji-datasource-${e.set}@15.0.1/img/${e.set}/64/${r.unified}.png`:void 0),s=typeof e.getSpritesheetURL=="function"?e.getSpritesheetURL(e.set):`https://cdn.jsdelivr.net/npm/emoji-datasource-${e.set}@15.0.1/img/${e.set}/sheets-256/64.png`;return De("span",{class:"emoji-mart-emoji","data-emoji-set":e.set,children:a?De("img",{style:{maxWidth:e.size||"1em",maxHeight:e.size||"1em",display:"inline-block"},alt:r.native||r.shortcodes,src:a}):e.set=="native"?De("span",{style:{fontSize:e.size,fontFamily:'"EmojiMart", "Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "Android Emoji"'},children:r.native}):De("span",{style:{display:"block",width:e.size,height:e.size,backgroundImage:`url(${s})`,backgroundSize:`${100*Wt.sheet.cols}% ${100*Wt.sheet.rows}%`,backgroundPosition:`${100/(Wt.sheet.cols-1)*r.x}% ${100/(Wt.sheet.rows-1)*r.y}%`}})})}const yR=typeof window!="undefined"&&window.HTMLElement?window.HTMLElement:Object;class Ok extends yR{static get observedAttributes(){return Object.keys(this.Props)}update(t={}){for(let i in t)this.attributeChangedCallback(i,null,t[i])}attributeChangedCallback(t,i,n){if(!this.component)return;const r=Pk(t,{[t]:n},this.constructor.Props,this);this.component.componentWillReceiveProps?this.component.componentWillReceiveProps({[t]:r}):(this.component.props[t]=r,this.component.forceUpdate())}disconnectedCallback(){this.disconnected=!0,this.component&&this.component.unregister&&this.component.unregister()}constructor(t={}){if(super(),this.props=t,t.parent||t.ref){let i=null;const n=t.parent||(i=t.ref&&t.ref.current);i&&(i.innerHTML=""),n&&n.appendChild(this)}}}class bR extends Ok{setShadow(){this.attachShadow({mode:"open"})}injectStyles(t){if(!t)return;const i=document.createElement("style");i.textContent=t,this.shadowRoot.insertBefore(i,this.shadowRoot.firstChild)}constructor(t,{styles:i}={}){super(t),this.setShadow(),this.injectStyles(i)}}var jk={fallback:"",id:"",native:"",shortcodes:"",size:{value:"",transform:e=>/\D/.test(e)?e:`${e}px`},set:Gs.set,skin:Gs.skin};class Rk extends Ok{connectedCallback(){return ri(this,null,function*(){const t=Dk(this.props,jk,this);t.element=this,t.ref=i=>{this.component=i},yield ep(),!this.disconnected&&Dl(De(qv,R({},t)),this)})}constructor(t){super(t)}}oa(Rk,"Props",jk),typeof customElements!="undefined"&&!customElements.get("em-emoji")&&customElements.define("em-emoji",Rk);var Il,Fn,zk,Fd=0,Zv=[],Bk=ct.__b,Lk=ct.__r,Fk=ct.diffed,Nk=ct.__c,Uk=ct.unmount;function Nd(e,t){ct.__h&&ct.__h(Fn,e,Fd||t),Fd=0;var i=Fn.__H||(Fn.__H={__:[],__h:[]});return e>=i.__.length&&i.__.push({}),i.__[e]}function Vk(e){return Fd=1,Hk(qk,e)}function Hk(e,t,i){var n=Nd(Il++,2);return n.t=e,n.__c||(n.__=[i?i(t):qk(void 0,t),function(r){var a=n.t(n.__[0],r);n.__[0]!==a&&(n.__=[a,n.__[1]],n.__c.setState({}))}],n.__c=Fn),n.__}function _R(e,t){var i=Nd(Il++,3);!ct.__s&&Kv(i.__H,t)&&(i.__=e,i.__H=t,Fn.__H.__h.push(i))}function Gk(e,t){var i=Nd(Il++,4);!ct.__s&&Kv(i.__H,t)&&(i.__=e,i.__H=t,Fn.__h.push(i))}function wR(e){return Fd=5,Yv(function(){return{current:e}},[])}function xR(e,t,i){Fd=6,Gk(function(){typeof e=="function"?e(t()):e&&(e.current=t())},i==null?i:i.concat(e))}function Yv(e,t){var i=Nd(Il++,7);return Kv(i.__H,t)&&(i.__=e(),i.__H=t,i.__h=e),i.__}function kR(e,t){return Fd=8,Yv(function(){return e},t)}function SR(e){var t=Fn.context[e.__c],i=Nd(Il++,9);return i.c=e,t?(i.__==null&&(i.__=!0,t.sub(Fn)),t.props.value):e.__}function AR(e,t){ct.useDebugValue&&ct.useDebugValue(t?t(e):e)}function zhe(e){var t=Nd(Il++,10),i=Vk();return t.__=e,Fn.componentDidCatch||(Fn.componentDidCatch=function(n){t.__&&t.__(n),i[1](n)}),[i[0],function(){i[1](void 0)}]}function MR(){var e;for(Zv.sort(function(t,i){return t.__v.__b-i.__v.__b});e=Zv.pop();)if(e.__P)try{e.__H.__h.forEach(ip),e.__H.__h.forEach(Xv),e.__H.__h=[]}catch(t){e.__H.__h=[],ct.__e(t,e.__v)}}ct.__b=function(e){Fn=null,Bk&&Bk(e)},ct.__r=function(e){Lk&&Lk(e),Il=0;var t=(Fn=e.__c).__H;t&&(t.__h.forEach(ip),t.__h.forEach(Xv),t.__h=[])},ct.diffed=function(e){Fk&&Fk(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(Zv.push(t)!==1&&zk===ct.requestAnimationFrame||((zk=ct.requestAnimationFrame)||function(i){var n,r=function(){clearTimeout(a),Wk&&cancelAnimationFrame(n),setTimeout(i)},a=setTimeout(r,100);Wk&&(n=requestAnimationFrame(r))})(MR)),Fn=null},ct.__c=function(e,t){t.some(function(i){try{i.__h.forEach(ip),i.__h=i.__h.filter(function(n){return!n.__||Xv(n)})}catch(n){t.some(function(r){r.__h&&(r.__h=[])}),t=[],ct.__e(n,i.__v)}}),Nk&&Nk(e,t)},ct.unmount=function(e){Uk&&Uk(e);var t,i=e.__c;i&&i.__H&&(i.__H.__.forEach(function(n){try{ip(n)}catch(r){t=r}}),t&&ct.__e(t,i.__v))};var Wk=typeof requestAnimationFrame=="function";function ip(e){var t=Fn,i=e.__c;typeof i=="function"&&(e.__c=void 0,i()),Fn=t}function Xv(e){var t=Fn;e.__c=e.__(),Fn=t}function Kv(e,t){return!e||e.length!==t.length||t.some(function(i,n){return i!==e[n]})}function qk(e,t){return typeof t=="function"?t(e):t}function Zk(e,t){for(var i in t)e[i]=t[i];return e}function Qv(e,t){for(var i in e)if(i!=="__source"&&!(i in t))return!0;for(var n in t)if(n!=="__source"&&e[n]!==t[n])return!0;return!1}function Ku(e){this.props=e}function CR(e,t){function i(r){var a=this.props.ref,s=a==r.ref;return!s&&a&&(a.call?a(null):a.current=null),t?!t(this.props,r)||!s:Qv(this.props,r)}function n(r){return this.shouldComponentUpdate=i,Vs(e,r)}return n.displayName="Memo("+(e.displayName||e.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(Ku.prototype=new Ea).isPureReactComponent=!0,Ku.prototype.shouldComponentUpdate=function(e,t){return Qv(this.props,e)||Qv(this.state,t)};var Yk=ct.__b;ct.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Yk&&Yk(e)};var ER=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function TR(e){function t(i,n){var r=Zk({},i);return delete r.ref,e(r,(n=i.ref||n)&&(typeof n!="object"||"current"in n)?n:null)}return t.$$typeof=ER,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var Xk=function(e,t){return e==null?null:Hs(Hs(e).map(t))},DR={map:Xk,forEach:Xk,count:function(e){return e?Hs(e).length:0},only:function(e){var t=Hs(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:Hs},PR=ct.__e;ct.__e=function(e,t,i){if(e.then){for(var n,r=t;r=r.__;)if((n=r.__c)&&n.__c)return t.__e==null&&(t.__e=i.__e,t.__k=i.__k),n.__c(e,t)}PR(e,t,i)};var Kk=ct.unmount;function np(){this.__u=0,this.t=null,this.__b=null}function Qk(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function IR(e){var t,i,n;function r(a){if(t||(t=e()).then(function(s){i=s.default||s},function(s){n=s}),n)throw n;if(!i)throw t;return Vs(i,a)}return r.displayName="Lazy",r.__f=!0,r}function Qu(){this.u=null,this.o=null}ct.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&e.__h===!0&&(e.type=null),Kk&&Kk(e)},(np.prototype=new Ea).__c=function(e,t){var i=t.__c,n=this;n.t==null&&(n.t=[]),n.t.push(i);var r=Qk(n.__v),a=!1,s=function(){a||(a=!0,i.__R=null,r?r(o):o())};i.__R=s;var o=function(){if(!--n.__u){if(n.state.__e){var d=n.state.__e;n.__v.__k[0]=function c(f,h,p){return f&&(f.__v=null,f.__k=f.__k&&f.__k.map(function(m){return c(m,h,p)}),f.__c&&f.__c.__P===h&&(f.__e&&p.insertBefore(f.__e,f.__d),f.__c.__e=!0,f.__c.__P=p)),f}(d,d.__c.__P,d.__c.__O)}var u;for(n.setState({__e:n.__b=null});u=n.t.pop();)u.forceUpdate()}},l=t.__h===!0;n.__u++||l||n.setState({__e:n.__b=n.__v.__k[0]}),e.then(s,s)},np.prototype.componentWillUnmount=function(){this.t=[]},np.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=function a(s,o,l){return s&&(s.__c&&s.__c.__H&&(s.__c.__H.__.forEach(function(d){typeof d.__c=="function"&&d.__c()}),s.__c.__H=null),(s=Zk({},s)).__c!=null&&(s.__c.__P===l&&(s.__c.__P=o),s.__c=null),s.__k=s.__k&&s.__k.map(function(d){return a(d,o,l)})),s}(this.__b,i,n.__O=n.__P)}this.__b=null}var r=t.__e&&Vs(Io,null,e.fallback);return r&&(r.__h=null),[Vs(Io,null,t.__e?null:e.children),r]};var Jk=function(e,t,i){if(++i[1]===i[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(i=e.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;e.u=i=i[2]}};function OR(e){return this.getChildContext=function(){return e.context},e.children}function jR(e){var t=this,i=e.i;t.componentWillUnmount=function(){Dl(null,t.l),t.l=null,t.i=null},t.i&&t.i!==i&&t.componentWillUnmount(),e.__v?(t.l||(t.i=i,t.l={nodeType:1,parentNode:i,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,r){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),Dl(Vs(OR,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function RR(e,t){return Vs(jR,{__v:e,i:t})}(Qu.prototype=new Ea).__e=function(e){var t=this,i=Qk(t.__v),n=t.o.get(e);return n[0]++,function(r){var a=function(){t.props.revealOrder?(n.push(r),Jk(t,e,n)):r()};i?i(a):a()}},Qu.prototype.render=function(e){this.u=null,this.o=new Map;var t=Hs(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var i=t.length;i--;)this.o.set(t[i],this.u=[1,0,this.u]);return e.children},Qu.prototype.componentDidUpdate=Qu.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,i){Jk(e,i,t)})};var $k=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,zR=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,BR=typeof document!="undefined",LR=function(e){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(e)};function FR(e,t,i){return t.__k==null&&(t.textContent=""),Dl(e,t),typeof i=="function"&&i(),e?e.__c:null}function NR(e,t,i){return xk(e,t),typeof i=="function"&&i(),e?e.__c:null}Ea.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(Ea.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var e3=ct.event;function UR(){}function VR(){return this.cancelBubble}function HR(){return this.defaultPrevented}ct.event=function(e){return e3&&(e=e3(e)),e.persist=UR,e.isPropagationStopped=VR,e.isDefaultPrevented=HR,e.nativeEvent=e};var t3,i3={configurable:!0,get:function(){return this.class}},n3=ct.vnode;ct.vnode=function(e){var t=e.type,i=e.props,n=i;if(typeof t=="string"){var r=t.indexOf("-")===-1;for(var a in n={},i){var s=i[a];BR&&a==="children"&&t==="noscript"||a==="value"&&"defaultValue"in i&&s==null||(a==="defaultValue"&&"value"in i&&i.value==null?a="value":a==="download"&&s===!0?s="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+t)&&!LR(i.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(a)?a=a.toLowerCase():r&&zR.test(a)?a=a.replace(/[A-Z0-9]/,"-$&").toLowerCase():s===null&&(s=void 0),n[a]=s)}t=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=Hs(i.children).forEach(function(o){o.props.selected=n.value.indexOf(o.props.value)!=-1})),t=="select"&&n.defaultValue!=null&&(n.value=Hs(i.children).forEach(function(o){o.props.selected=n.multiple?n.defaultValue.indexOf(o.props.value)!=-1:n.defaultValue==o.props.value})),e.props=n,i.class!=i.className&&(i3.enumerable="className"in i,i.className!=null&&(n.class=i.className),Object.defineProperty(n,"className",i3))}e.$$typeof=$k,n3&&n3(e)};var r3=ct.__r;ct.__r=function(e){r3&&r3(e),t3=e.__c};var GR={ReactCurrentDispatcher:{current:{readContext:function(e){return t3.__n[e.__c].props.value}}}},Bhe="17.0.2";function WR(e){return Vs.bind(null,e)}function a3(e){return!!e&&e.$$typeof===$k}function qR(e){return a3(e)?$j.apply(null,arguments):e}function ZR(e){return!!e.__k&&(Dl(null,e),!0)}function YR(e){return e&&(e.base||e.nodeType===1&&e)||null}var XR=function(e,t){return e(t)},KR=function(e,t){return e(t)},Lhe=null,Fhe={useState:Vk,useReducer:Hk,useEffect:_R,useLayoutEffect:Gk,useRef:wR,useImperativeHandle:xR,useMemo:Yv,useCallback:kR,useContext:SR,useDebugValue:AR,version:"17.0.2",Children:DR,render:FR,hydrate:NR,unmountComponentAtNode:ZR,createPortal:RR,createElement:Vs,createContext:eR,createFactory:WR,cloneElement:qR,createRef:as,Fragment:Io,isValidElement:a3,findDOMNode:YR,Component:Ea,PureComponent:Ku,memo:CR,forwardRef:TR,flushSync:KR,unstable_batchedUpdates:XR,StrictMode:Io,Suspense:np,SuspenseList:Qu,lazy:IR,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:GR};const QR={light:"outline",dark:"solid"};class JR extends Ku{renderIcon(t){const{icon:i}=t;if(i){if(i.svg)return De("span",{class:"flex",dangerouslySetInnerHTML:{__html:i.svg}});if(i.src)return De("img",{src:i.src})}const n=tp.categories[t.id]||tp.categories.custom,r=this.props.icons=="auto"?QR[this.props.theme]:this.props.icons;return n[r]||n}render(){let t=null;return De("nav",{id:"nav",class:"padding","data-position":this.props.position,dir:this.props.dir,children:De("div",{class:"flex relative",children:[this.categories.map((i,n)=>{const r=i.name||Wn.categories[i.id],a=!this.props.unfocused&&i.id==this.state.categoryId;return a&&(t=n),De("button",{"aria-label":r,"aria-selected":a||void 0,title:r,type:"button",class:"flex flex-grow flex-center",onMouseDown:s=>s.preventDefault(),onClick:()=>{this.props.onClick({category:i,i:n})},children:this.renderIcon(i)})}),De("div",{class:"bar",style:{width:`${100/this.categories.length}%`,opacity:t==null?0:1,transform:this.props.dir==="rtl"?`scaleX(-1) translateX(${t*100}%)`:`translateX(${t*100}%)`}})]})})}constructor(){super(),this.categories=Wt.categories.filter(t=>!t.target),this.state={categoryId:this.categories[0].id}}}class $R extends Ku{shouldComponentUpdate(t){for(let i in t)if(i!="children"&&t[i]!=this.props[i])return!0;return!1}render(){return this.props.children}}const rp={rowsPerRender:10};class ez extends Ea{getInitialState(t=this.props){return{skin:Oo.get("skin")||t.skin,theme:this.initTheme(t.theme)}}componentWillMount(){this.dir=Wn.rtl?"rtl":"ltr",this.refs={menu:as(),navigation:as(),scroll:as(),search:as(),searchInput:as(),skinToneButton:as(),skinToneRadio:as()},this.initGrid(),this.props.stickySearch==!1&&this.props.searchPosition=="sticky"&&(console.warn("[EmojiMart] Deprecation warning: `stickySearch` has been renamed `searchPosition`."),this.props.searchPosition="static")}componentDidMount(){if(this.register(),this.shadowRoot=this.base.parentNode,this.props.autoFocus){const{searchInput:t}=this.refs;t.current&&t.current.focus()}}componentWillReceiveProps(t){this.nextState||(this.nextState={});for(const i in t)this.nextState[i]=t[i];clearTimeout(this.nextStateTimer),this.nextStateTimer=setTimeout(()=>{let i=!1;for(const r in this.nextState)this.props[r]=this.nextState[r],(r==="custom"||r==="categories")&&(i=!0);delete this.nextState;const n=this.getInitialState();if(i)return this.reset(n);this.setState(n)})}componentWillUnmount(){this.unregister()}reset(){return ri(this,arguments,function*(t={}){yield ep(this.props),this.initGrid(),this.unobserve(),this.setState(t,()=>{this.observeCategories(),this.observeRows()})})}register(){document.addEventListener("click",this.handleClickOutside),this.observe()}unregister(){var t;document.removeEventListener("click",this.handleClickOutside),(t=this.darkMedia)==null||t.removeEventListener("change",this.darkMediaCallback),this.unobserve()}observe(){this.observeCategories(),this.observeRows()}unobserve({except:t=[]}={}){Array.isArray(t)||(t=[t]);for(const i of this.observers)t.includes(i)||i.disconnect();this.observers=[].concat(t)}initGrid(){const{categories:t}=Wt;this.refs.categories=new Map;const i=Wt.categories.map(r=>r.id).join(",");this.navKey&&this.navKey!=i&&this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0),this.navKey=i,this.grid=[],this.grid.setsize=0;const n=(r,a)=>{const s=[];s.__categoryId=a.id,s.__index=r.length,this.grid.push(s);const o=this.grid.length-1,l=o%rp.rowsPerRender?{}:as();return l.index=o,l.posinset=this.grid.setsize+1,r.push(l),s};for(let r of t){const a=[];let s=n(a,r);for(let o of r.emojis)s.length==this.getPerLine()&&(s=n(a,r)),this.grid.setsize+=1,s.push(o);this.refs.categories.set(r.id,{root:as(),rows:a})}}initTheme(t){if(t!="auto")return t;if(!this.darkMedia){if(this.darkMedia=matchMedia("(prefers-color-scheme: dark)"),this.darkMedia.media.match(/^not/))return"light";this.darkMedia.addEventListener("change",this.darkMediaCallback)}return this.darkMedia.matches?"dark":"light"}initDynamicPerLine(t=this.props){if(!t.dynamicWidth)return;const{element:i,emojiButtonSize:n}=t,r=()=>{const{width:s}=i.getBoundingClientRect();return Math.floor(s/n)},a=new ResizeObserver(()=>{this.unobserve({except:a}),this.setState({perLine:r()},()=>{this.initGrid(),this.forceUpdate(()=>{this.observeCategories(),this.observeRows()})})});return a.observe(i),this.observers.push(a),r()}getPerLine(){return this.state.perLine||this.props.perLine}getEmojiByPos([t,i]){const n=this.state.searchResults||this.grid,r=n[t]&&n[t][i];if(r)return Pl.get(r)}observeCategories(){const t=this.refs.navigation.current;if(!t)return;const i=new Map,n=s=>{s!=t.state.categoryId&&t.setState({categoryId:s})},r={root:this.refs.scroll.current,threshold:[0,1]},a=new IntersectionObserver(s=>{for(const l of s){const d=l.target.dataset.id;i.set(d,l.intersectionRatio)}const o=[...i];for(const[l,d]of o)if(d){n(l);break}},r);for(const{root:s}of this.refs.categories.values())a.observe(s.current);this.observers.push(a)}observeRows(){const t=R({},this.state.visibleRows),i=new IntersectionObserver(n=>{for(const r of n){const a=parseInt(r.target.dataset.index);r.isIntersecting?t[a]=!0:delete t[a]}this.setState({visibleRows:t})},{root:this.refs.scroll.current,rootMargin:`${this.props.emojiButtonSize*(rp.rowsPerRender+5)}px 0px ${this.props.emojiButtonSize*rp.rowsPerRender}px`});for(const{rows:n}of this.refs.categories.values())for(const r of n)r.current&&i.observe(r.current);this.observers.push(i)}preventDefault(t){t.preventDefault()}unfocusSearch(){const t=this.refs.searchInput.current;t&&t.blur()}navigate({e:t,input:i,left:n,right:r,up:a,down:s}){const o=this.state.searchResults||this.grid;if(!o.length)return;let[l,d]=this.state.pos;const u=(()=>{if(l==0&&d==0&&!t.repeat&&(n||a))return null;if(l==-1)return!t.repeat&&(r||s)&&i.selectionStart==i.value.length?[0,0]:null;if(n||r){let c=o[l];const f=n?-1:1;if(d+=f,!c[d]){if(l+=f,c=o[l],!c)return l=n?0:o.length-1,d=n?0:o[l].length-1,[l,d];d=n?c.length-1:0}return[l,d]}if(a||s){l+=a?-1:1;const c=o[l];return c?(c[d]||(d=c.length-1),[l,d]):(l=a?0:o.length-1,d=a?0:o[l].length-1,[l,d])}})();if(u)t.preventDefault();else{this.state.pos[0]>-1&&this.setState({pos:[-1,-1]});return}this.setState({pos:u,keyboard:!0},()=>{this.scrollTo({row:u[0]})})}scrollTo({categoryId:t,row:i}){const n=this.state.searchResults||this.grid;if(!n.length)return;const r=this.refs.scroll.current,a=r.getBoundingClientRect();let s=0;if(i>=0&&(t=n[i].__categoryId),t&&(s=(this.refs[t]||this.refs.categories.get(t).root).current.getBoundingClientRect().top-(a.top-r.scrollTop)+1),i>=0)if(!i)s=0;else{const o=n[i].__index,l=s+o*this.props.emojiButtonSize,d=l+this.props.emojiButtonSize+this.props.emojiButtonSize*.88;if(l<r.scrollTop)s=l;else if(d>r.scrollTop+a.height)s=d-a.height;else return}this.ignoreMouse(),r.scrollTop=s}ignoreMouse(){this.mouseIsIgnored=!0,clearTimeout(this.ignoreMouseTimer),this.ignoreMouseTimer=setTimeout(()=>{delete this.mouseIsIgnored},100)}handleEmojiOver(t){this.mouseIsIgnored||this.state.showSkins||this.setState({pos:t||[-1,-1],keyboard:!1})}handleEmojiClick({e:t,emoji:i,pos:n}){if(this.props.onEmojiSelect&&(!i&&n&&(i=this.getEmojiByPos(n)),i)){const r=Ik(i,{skinIndex:this.state.skin-1});this.props.maxFrequentRows&&Ak.add(r,this.props),this.props.onEmojiSelect(r,t)}}closeSkins(){this.state.showSkins&&(this.setState({showSkins:null,tempSkin:null}),this.base.removeEventListener("click",this.handleBaseClick),this.base.removeEventListener("keydown",this.handleBaseKeydown))}handleSkinMouseOver(t){this.setState({tempSkin:t})}handleSkinClick(t){this.ignoreMouse(),this.closeSkins(),this.setState({skin:t,tempSkin:null}),Oo.set("skin",t)}renderNav(){return De(JR,{ref:this.refs.navigation,icons:this.props.icons,theme:this.state.theme,dir:this.dir,unfocused:!!this.state.searchResults,position:this.props.navPosition,onClick:this.handleCategoryClick},this.navKey)}renderPreview(){const t=this.getEmojiByPos(this.state.pos),i=this.state.searchResults&&!this.state.searchResults.length;return De("div",{id:"preview",class:"flex flex-middle",dir:this.dir,"data-position":this.props.previewPosition,children:[De("div",{class:"flex flex-middle flex-grow",children:[De("div",{class:"flex flex-auto flex-middle flex-center",style:{height:this.props.emojiButtonSize,fontSize:this.props.emojiButtonSize},children:De(qv,{emoji:t,id:i?this.props.noResultsEmoji||"cry":this.props.previewEmoji||(this.props.previewPosition=="top"?"point_down":"point_up"),set:this.props.set,size:this.props.emojiButtonSize,skin:this.state.tempSkin||this.state.skin,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})}),De("div",{class:`margin-${this.dir[0]}`,children:t||i?De("div",{class:`padding-${this.dir[2]} align-${this.dir[0]}`,children:[De("div",{class:"preview-title ellipsis",children:t?t.name:Wn.search_no_results_1}),De("div",{class:"preview-subtitle ellipsis color-c",children:t?t.skins[0].shortcodes:Wn.search_no_results_2})]}):De("div",{class:"preview-placeholder color-c",children:Wn.pick})})]}),!t&&this.props.skinTonePosition=="preview"&&this.renderSkinToneButton()]})}renderEmojiButton(t,{pos:i,posinset:n,grid:r}){const a=this.props.emojiButtonSize,s=this.state.tempSkin||this.state.skin,l=(t.skins[s-1]||t.skins[0]).native,d=gR(this.state.pos,i),u=i.concat(t.id).join("");return De($R,{selected:d,skin:s,size:a,children:De("button",{"aria-label":l,"aria-selected":d||void 0,"aria-posinset":n,"aria-setsize":r.setsize,"data-keyboard":this.state.keyboard,title:this.props.previewPosition=="none"?t.name:void 0,type:"button",class:"flex flex-center flex-middle",tabindex:"-1",onClick:c=>this.handleEmojiClick({e:c,emoji:t}),onMouseEnter:()=>this.handleEmojiOver(i),onMouseLeave:()=>this.handleEmojiOver(),style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize,fontSize:this.props.emojiSize,lineHeight:0},children:[De("div",{"aria-hidden":"true",class:"background",style:{borderRadius:this.props.emojiButtonRadius,backgroundColor:this.props.emojiButtonColors?this.props.emojiButtonColors[(n-1)%this.props.emojiButtonColors.length]:void 0}}),De(qv,{emoji:t,set:this.props.set,size:this.props.emojiSize,skin:s,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})]})},u)}renderSearch(){const t=this.props.previewPosition=="none"||this.props.skinTonePosition=="search";return De("div",{children:[De("div",{class:"spacer"}),De("div",{class:"flex flex-middle",children:[De("div",{class:"search relative flex-grow",children:[De("input",{type:"search",ref:this.refs.searchInput,placeholder:Wn.search,onClick:this.handleSearchClick,onInput:this.handleSearchInput,onKeyDown:this.handleSearchKeyDown,autoComplete:"off"}),De("span",{class:"icon loupe flex",children:tp.search.loupe}),this.state.searchResults&&De("button",{title:"Clear","aria-label":"Clear",type:"button",class:"icon delete flex",onClick:this.clearSearch,onMouseDown:this.preventDefault,children:tp.search.delete})]}),t&&this.renderSkinToneButton()]})]})}renderSearchResults(){const{searchResults:t}=this.state;return t?De("div",{class:"category",ref:this.refs.search,children:[De("div",{class:`sticky padding-small align-${this.dir[0]}`,children:Wn.categories.search}),De("div",{children:t.length?t.map((i,n)=>De("div",{class:"flex",children:i.map((r,a)=>this.renderEmojiButton(r,{pos:[n,a],posinset:n*this.props.perLine+a+1,grid:t}))})):De("div",{class:`padding-small align-${this.dir[0]}`,children:this.props.onAddCustomEmoji&&De("a",{onClick:this.props.onAddCustomEmoji,children:Wn.add_custom})})})]}):null}renderCategories(){const{categories:t}=Wt,i=!!this.state.searchResults,n=this.getPerLine();return De("div",{style:{visibility:i?"hidden":void 0,display:i?"none":void 0,height:"100%"},children:t.map(r=>{const{root:a,rows:s}=this.refs.categories.get(r.id);return De("div",{"data-id":r.target?r.target.id:r.id,class:"category",ref:a,children:[De("div",{class:`sticky padding-small align-${this.dir[0]}`,children:r.name||Wn.categories[r.id]}),De("div",{class:"relative",style:{height:s.length*this.props.emojiButtonSize},children:s.map((o,l)=>{const d=o.index-o.index%rp.rowsPerRender,u=this.state.visibleRows[d],c="current"in o?o:void 0;if(!u&&!c)return null;const f=l*n,h=f+n,p=r.emojis.slice(f,h);return p.length<n&&p.push(...new Array(n-p.length)),De("div",{"data-index":o.index,ref:c,class:"flex row",style:{top:l*this.props.emojiButtonSize},children:u&&p.map((m,g)=>{if(!m)return De("div",{style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize}});const v=Pl.get(m);return this.renderEmojiButton(v,{pos:[o.index,g],posinset:o.posinset+g,grid:this.grid})})},o.index)})})]})})})}renderSkinToneButton(){return this.props.skinTonePosition=="none"?null:De("div",{class:"flex flex-auto flex-center flex-middle",style:{position:"relative",width:this.props.emojiButtonSize,height:this.props.emojiButtonSize},children:De("button",{type:"button",ref:this.refs.skinToneButton,class:"skin-tone-button flex flex-auto flex-center flex-middle","aria-selected":this.state.showSkins?"":void 0,"aria-label":Wn.skins.choose,title:Wn.skins.choose,onClick:this.openSkins,style:{width:this.props.emojiSize,height:this.props.emojiSize},children:De("span",{class:`skin-tone skin-tone-${this.state.skin}`})})})}renderLiveRegion(){const t=this.getEmojiByPos(this.state.pos),i=t?t.name:"";return De("div",{"aria-live":"polite",class:"sr-only",children:i})}renderSkins(){const i=this.refs.skinToneButton.current.getBoundingClientRect(),n=this.base.getBoundingClientRect(),r={};return this.dir=="ltr"?r.right=n.right-i.right-3:r.left=i.left-n.left-3,this.props.previewPosition=="bottom"&&this.props.skinTonePosition=="preview"?r.bottom=n.bottom-i.top+6:(r.top=i.bottom-n.top+3,r.bottom="auto"),De("div",{ref:this.refs.menu,role:"radiogroup",dir:this.dir,"aria-label":Wn.skins.choose,class:"menu hidden","data-position":r.top?"top":"bottom",style:r,children:[...Array(6).keys()].map(a=>{const s=a+1,o=this.state.skin==s;return De("div",{children:[De("input",{type:"radio",name:"skin-tone",value:s,"aria-label":Wn.skins[s],ref:o?this.refs.skinToneRadio:null,defaultChecked:o,onChange:()=>this.handleSkinMouseOver(s),onKeyDown:l=>{(l.code=="Enter"||l.code=="Space"||l.code=="Tab")&&(l.preventDefault(),this.handleSkinClick(s))}}),De("button",{"aria-hidden":"true",tabindex:"-1",onClick:()=>this.handleSkinClick(s),onMouseEnter:()=>this.handleSkinMouseOver(s),onMouseLeave:()=>this.handleSkinMouseOver(),class:"option flex flex-grow flex-middle",children:[De("span",{class:`skin-tone skin-tone-${s}`}),De("span",{class:"margin-small-lr",children:Wn.skins[s]})]})]})})})}render(){const t=this.props.perLine*this.props.emojiButtonSize;return De("section",{id:"root",class:"flex flex-column",dir:this.dir,style:{width:this.props.dynamicWidth?"100%":`calc(${t}px + (var(--padding) + var(--sidebar-width)))`},"data-emoji-set":this.props.set,"data-theme":this.state.theme,"data-menu":this.state.showSkins?"":void 0,children:[this.props.previewPosition=="top"&&this.renderPreview(),this.props.navPosition=="top"&&this.renderNav(),this.props.searchPosition=="sticky"&&De("div",{class:"padding-lr",children:this.renderSearch()}),De("div",{ref:this.refs.scroll,class:"scroll flex-grow padding-lr",children:De("div",{style:{width:this.props.dynamicWidth?"100%":t,height:"100%"},children:[this.props.searchPosition=="static"&&this.renderSearch(),this.renderSearchResults(),this.renderCategories()]})}),this.props.navPosition=="bottom"&&this.renderNav(),this.props.previewPosition=="bottom"&&this.renderPreview(),this.state.showSkins&&this.renderSkins(),this.renderLiveRegion()]})}constructor(t){super(),oa(this,"darkMediaCallback",()=>{this.props.theme=="auto"&&this.setState({theme:this.darkMedia.matches?"dark":"light"})}),oa(this,"handleClickOutside",i=>{const{element:n}=this.props;i.target!=n&&(this.state.showSkins&&this.closeSkins(),this.props.onClickOutside&&this.props.onClickOutside(i))}),oa(this,"handleBaseClick",i=>{this.state.showSkins&&(i.target.closest(".menu")||(i.preventDefault(),i.stopImmediatePropagation(),this.closeSkins()))}),oa(this,"handleBaseKeydown",i=>{this.state.showSkins&&i.key=="Escape"&&(i.preventDefault(),i.stopImmediatePropagation(),this.closeSkins())}),oa(this,"handleSearchClick",()=>{this.getEmojiByPos(this.state.pos)&&this.setState({pos:[-1,-1]})}),oa(this,"handleSearchInput",()=>ri(this,null,function*(){const i=this.refs.searchInput.current;if(!i)return;const{value:n}=i,r=yield Pl.search(n),a=()=>{this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0)};if(!r)return this.setState({searchResults:r,pos:[-1,-1]},a);const s=i.selectionStart==i.value.length?[0,0]:[-1,-1],o=[];o.setsize=r.length;let l=null;for(let d of r)(!o.length||l.length==this.getPerLine())&&(l=[],l.__categoryId="search",l.__index=o.length,o.push(l)),l.push(d);this.ignoreMouse(),this.setState({searchResults:o,pos:s},a)})),oa(this,"handleSearchKeyDown",i=>{const n=i.currentTarget;switch(i.stopImmediatePropagation(),i.key){case"ArrowLeft":this.navigate({e:i,input:n,left:!0});break;case"ArrowRight":this.navigate({e:i,input:n,right:!0});break;case"ArrowUp":this.navigate({e:i,input:n,up:!0});break;case"ArrowDown":this.navigate({e:i,input:n,down:!0});break;case"Enter":i.preventDefault(),this.handleEmojiClick({e:i,pos:this.state.pos});break;case"Escape":i.preventDefault(),this.state.searchResults?this.clearSearch():this.unfocusSearch();break;default:break}}),oa(this,"clearSearch",()=>{const i=this.refs.searchInput.current;i&&(i.value="",i.focus(),this.handleSearchInput())}),oa(this,"handleCategoryClick",({category:i,i:n})=>{this.scrollTo(n==0?{row:-1}:{categoryId:i.id})}),oa(this,"openSkins",i=>{const{currentTarget:n}=i,r=n.getBoundingClientRect();this.setState({showSkins:r},()=>ri(this,null,function*(){yield vR(2);const a=this.refs.menu.current;a&&(a.classList.remove("hidden"),this.refs.skinToneRadio.current.focus(),this.base.addEventListener("click",this.handleBaseClick,!0),this.base.addEventListener("keydown",this.handleBaseKeydown,!0))}))}),this.observers=[],this.state=R({pos:[-1,-1],perLine:this.initDynamicPerLine(t),visibleRows:{0:!0}},this.getInitialState(t))}}class Jv extends bR{connectedCallback(){return ri(this,null,function*(){const t=Dk(this.props,Gs,this);t.element=this,t.ref=i=>{this.component=i},yield ep(t),!this.disconnected&&Dl(De(ez,R({},t)),this.shadowRoot)})}constructor(t){super(t,{styles:ak(s3)})}}oa(Jv,"Props",Gs),typeof customElements!="undefined"&&!customElements.get("em-emoji-picker")&&customElements.define("em-emoji-picker",Jv);var s3={};s3=`:host {
  width: min-content;
  height: 435px;
  min-height: 230px;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  --border-radius: 10px;
  --category-icon-size: 18px;
  --font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;
  --font-size: 15px;
  --preview-placeholder-size: 21px;
  --preview-title-size: 1.1em;
  --preview-subtitle-size: .9em;
  --shadow-color: 0deg 0% 0%;
  --shadow: .3px .5px 2.7px hsl(var(--shadow-color) / .14), .4px .8px 1px -3.2px hsl(var(--shadow-color) / .14), 1px 2px 2.5px -4.5px hsl(var(--shadow-color) / .14);
  display: flex;
}

[data-theme="light"] {
  --em-rgb-color: var(--rgb-color, 34, 36, 39);
  --em-rgb-accent: var(--rgb-accent, 34, 102, 237);
  --em-rgb-background: var(--rgb-background, 255, 255, 255);
  --em-rgb-input: var(--rgb-input, 255, 255, 255);
  --em-color-border: var(--color-border, rgba(0, 0, 0, .05));
  --em-color-border-over: var(--color-border-over, rgba(0, 0, 0, .1));
}

[data-theme="dark"] {
  --em-rgb-color: var(--rgb-color, 222, 222, 221);
  --em-rgb-accent: var(--rgb-accent, 58, 130, 247);
  --em-rgb-background: var(--rgb-background, 21, 22, 23);
  --em-rgb-input: var(--rgb-input, 0, 0, 0);
  --em-color-border: var(--color-border, rgba(255, 255, 255, .1));
  --em-color-border-over: var(--color-border-over, rgba(255, 255, 255, .2));
}

#root {
  --color-a: rgb(var(--em-rgb-color));
  --color-b: rgba(var(--em-rgb-color), .65);
  --color-c: rgba(var(--em-rgb-color), .45);
  --padding: 12px;
  --padding-small: calc(var(--padding) / 2);
  --sidebar-width: 16px;
  --duration: 225ms;
  --duration-fast: 125ms;
  --duration-instant: 50ms;
  --easing: cubic-bezier(.4, 0, .2, 1);
  width: 100%;
  text-align: left;
  border-radius: var(--border-radius);
  background-color: rgb(var(--em-rgb-background));
  position: relative;
}

@media (prefers-reduced-motion) {
  #root {
    --duration: 0;
    --duration-fast: 0;
    --duration-instant: 0;
  }
}

#root[data-menu] button {
  cursor: auto;
}

#root[data-menu] .menu button {
  cursor: pointer;
}

:host, #root, input, button {
  color: rgb(var(--em-rgb-color));
  font-family: var(--font-family);
  font-size: var(--font-size);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: normal;
}

*, :before, :after {
  box-sizing: border-box;
  min-width: 0;
  margin: 0;
  padding: 0;
}

.relative {
  position: relative;
}

.flex {
  display: flex;
}

.flex-auto {
  flex: none;
}

.flex-center {
  justify-content: center;
}

.flex-column {
  flex-direction: column;
}

.flex-grow {
  flex: auto;
}

.flex-middle {
  align-items: center;
}

.flex-wrap {
  flex-wrap: wrap;
}

.padding {
  padding: var(--padding);
}

.padding-t {
  padding-top: var(--padding);
}

.padding-lr {
  padding-left: var(--padding);
  padding-right: var(--padding);
}

.padding-r {
  padding-right: var(--padding);
}

.padding-small {
  padding: var(--padding-small);
}

.padding-small-b {
  padding-bottom: var(--padding-small);
}

.padding-small-lr {
  padding-left: var(--padding-small);
  padding-right: var(--padding-small);
}

.margin {
  margin: var(--padding);
}

.margin-r {
  margin-right: var(--padding);
}

.margin-l {
  margin-left: var(--padding);
}

.margin-small-l {
  margin-left: var(--padding-small);
}

.margin-small-lr {
  margin-left: var(--padding-small);
  margin-right: var(--padding-small);
}

.align-l {
  text-align: left;
}

.align-r {
  text-align: right;
}

.color-a {
  color: var(--color-a);
}

.color-b {
  color: var(--color-b);
}

.color-c {
  color: var(--color-c);
}

.ellipsis {
  white-space: nowrap;
  max-width: 100%;
  width: auto;
  text-overflow: ellipsis;
  overflow: hidden;
}

.sr-only {
  width: 1px;
  height: 1px;
  position: absolute;
  top: auto;
  left: -10000px;
  overflow: hidden;
}

a {
  cursor: pointer;
  color: rgb(var(--em-rgb-accent));
}

a:hover {
  text-decoration: underline;
}

.spacer {
  height: 10px;
}

[dir="rtl"] .scroll {
  padding-left: 0;
  padding-right: var(--padding);
}

.scroll {
  padding-right: 0;
  overflow-x: hidden;
  overflow-y: auto;
}

.scroll::-webkit-scrollbar {
  width: var(--sidebar-width);
  height: var(--sidebar-width);
}

.scroll::-webkit-scrollbar-track {
  border: 0;
}

.scroll::-webkit-scrollbar-button {
  width: 0;
  height: 0;
  display: none;
}

.scroll::-webkit-scrollbar-corner {
  background-color: rgba(0, 0, 0, 0);
}

.scroll::-webkit-scrollbar-thumb {
  min-height: 20%;
  min-height: 65px;
  border: 4px solid rgb(var(--em-rgb-background));
  border-radius: 8px;
}

.scroll::-webkit-scrollbar-thumb:hover {
  background-color: var(--em-color-border-over) !important;
}

.scroll:hover::-webkit-scrollbar-thumb {
  background-color: var(--em-color-border);
}

.sticky {
  z-index: 1;
  background-color: rgba(var(--em-rgb-background), .9);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  font-weight: 500;
  position: sticky;
  top: -1px;
}

[dir="rtl"] .search input[type="search"] {
  padding: 10px 2.2em 10px 2em;
}

[dir="rtl"] .search .loupe {
  left: auto;
  right: .7em;
}

[dir="rtl"] .search .delete {
  left: .7em;
  right: auto;
}

.search {
  z-index: 2;
  position: relative;
}

.search input, .search button {
  font-size: calc(var(--font-size)  - 1px);
}

.search input[type="search"] {
  width: 100%;
  background-color: var(--em-color-border);
  transition-duration: var(--duration);
  transition-property: background-color, box-shadow;
  transition-timing-function: var(--easing);
  border: 0;
  border-radius: 10px;
  outline: 0;
  padding: 10px 2em 10px 2.2em;
  display: block;
}

.search input[type="search"]::-ms-input-placeholder {
  color: inherit;
  opacity: .6;
}

.search input[type="search"]::placeholder {
  color: inherit;
  opacity: .6;
}

.search input[type="search"], .search input[type="search"]::-webkit-search-decoration, .search input[type="search"]::-webkit-search-cancel-button, .search input[type="search"]::-webkit-search-results-button, .search input[type="search"]::-webkit-search-results-decoration {
  -webkit-appearance: none;
  -ms-appearance: none;
  appearance: none;
}

.search input[type="search"]:focus {
  background-color: rgb(var(--em-rgb-input));
  box-shadow: inset 0 0 0 1px rgb(var(--em-rgb-accent)), 0 1px 3px rgba(65, 69, 73, .2);
}

.search .icon {
  z-index: 1;
  color: rgba(var(--em-rgb-color), .7);
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
}

.search .loupe {
  pointer-events: none;
  left: .7em;
}

.search .delete {
  right: .7em;
}

svg {
  fill: currentColor;
  width: 1em;
  height: 1em;
}

button {
  -webkit-appearance: none;
  -ms-appearance: none;
  appearance: none;
  cursor: pointer;
  color: currentColor;
  background-color: rgba(0, 0, 0, 0);
  border: 0;
}

#nav {
  z-index: 2;
  padding-top: 12px;
  padding-bottom: 12px;
  padding-right: var(--sidebar-width);
  position: relative;
}

#nav button {
  color: var(--color-b);
  transition: color var(--duration) var(--easing);
}

#nav button:hover {
  color: var(--color-a);
}

#nav svg, #nav img {
  width: var(--category-icon-size);
  height: var(--category-icon-size);
}

#nav[dir="rtl"] .bar {
  left: auto;
  right: 0;
}

#nav .bar {
  width: 100%;
  height: 3px;
  background-color: rgb(var(--em-rgb-accent));
  transition: transform var(--duration) var(--easing);
  border-radius: 3px 3px 0 0;
  position: absolute;
  bottom: -12px;
  left: 0;
}

#nav button[aria-selected] {
  color: rgb(var(--em-rgb-accent));
}

#preview {
  z-index: 2;
  padding: calc(var(--padding)  + 4px) var(--padding);
  padding-right: var(--sidebar-width);
  position: relative;
}

#preview .preview-placeholder {
  font-size: var(--preview-placeholder-size);
}

#preview .preview-title {
  font-size: var(--preview-title-size);
}

#preview .preview-subtitle {
  font-size: var(--preview-subtitle-size);
}

#nav:before, #preview:before {
  content: "";
  height: 2px;
  position: absolute;
  left: 0;
  right: 0;
}

#nav[data-position="top"]:before, #preview[data-position="top"]:before {
  background: linear-gradient(to bottom, var(--em-color-border), transparent);
  top: 100%;
}

#nav[data-position="bottom"]:before, #preview[data-position="bottom"]:before {
  background: linear-gradient(to top, var(--em-color-border), transparent);
  bottom: 100%;
}

.category:last-child {
  min-height: calc(100% + 1px);
}

.category button {
  font-family: -apple-system, BlinkMacSystemFont, Helvetica Neue, sans-serif;
  position: relative;
}

.category button > * {
  position: relative;
}

.category button .background {
  opacity: 0;
  background-color: var(--em-color-border);
  transition: opacity var(--duration-fast) var(--easing) var(--duration-instant);
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}

.category button:hover .background {
  transition-duration: var(--duration-instant);
  transition-delay: 0s;
}

.category button[aria-selected] .background {
  opacity: 1;
}

.category button[data-keyboard] .background {
  transition: none;
}

.row {
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
}

.skin-tone-button {
  border: 1px solid rgba(0, 0, 0, 0);
  border-radius: 100%;
}

.skin-tone-button:hover {
  border-color: var(--em-color-border);
}

.skin-tone-button:active .skin-tone {
  transform: scale(.85) !important;
}

.skin-tone-button .skin-tone {
  transition: transform var(--duration) var(--easing);
}

.skin-tone-button[aria-selected] {
  background-color: var(--em-color-border);
  border-top-color: rgba(0, 0, 0, .05);
  border-bottom-color: rgba(0, 0, 0, 0);
  border-left-width: 0;
  border-right-width: 0;
}

.skin-tone-button[aria-selected] .skin-tone {
  transform: scale(.9);
}

.menu {
  z-index: 2;
  white-space: nowrap;
  border: 1px solid var(--em-color-border);
  background-color: rgba(var(--em-rgb-background), .9);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  transition-property: opacity, transform;
  transition-duration: var(--duration);
  transition-timing-function: var(--easing);
  border-radius: 10px;
  padding: 4px;
  position: absolute;
  box-shadow: 1px 1px 5px rgba(0, 0, 0, .05);
}

.menu.hidden {
  opacity: 0;
}

.menu[data-position="bottom"] {
  transform-origin: 100% 100%;
}

.menu[data-position="bottom"].hidden {
  transform: scale(.9)rotate(-3deg)translateY(5%);
}

.menu[data-position="top"] {
  transform-origin: 100% 0;
}

.menu[data-position="top"].hidden {
  transform: scale(.9)rotate(3deg)translateY(-5%);
}

.menu input[type="radio"] {
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  border: 0;
  margin: 0;
  padding: 0;
  position: absolute;
  overflow: hidden;
}

.menu input[type="radio"]:checked + .option {
  box-shadow: 0 0 0 2px rgb(var(--em-rgb-accent));
}

.option {
  width: 100%;
  border-radius: 6px;
  padding: 4px 6px;
}

.option:hover {
  color: #fff;
  background-color: rgb(var(--em-rgb-accent));
}

.skin-tone {
  width: 16px;
  height: 16px;
  border-radius: 100%;
  display: inline-block;
  position: relative;
  overflow: hidden;
}

.skin-tone:after {
  content: "";
  mix-blend-mode: overlay;
  background: linear-gradient(rgba(255, 255, 255, .2), rgba(0, 0, 0, 0));
  border: 1px solid rgba(0, 0, 0, .8);
  border-radius: 100%;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  box-shadow: inset 0 -2px 3px #000, inset 0 1px 2px #fff;
}

.skin-tone-1 {
  background-color: #ffc93a;
}

.skin-tone-2 {
  background-color: #ffdab7;
}

.skin-tone-3 {
  background-color: #e7b98f;
}

.skin-tone-4 {
  background-color: #c88c61;
}

.skin-tone-5 {
  background-color: #a46134;
}

.skin-tone-6 {
  background-color: #5d4437;
}

[data-index] {
  justify-content: space-between;
}

[data-emoji-set="twitter"] .skin-tone:after {
  box-shadow: none;
  border-color: rgba(0, 0, 0, .5);
}

[data-emoji-set="twitter"] .skin-tone-1 {
  background-color: #fade72;
}

[data-emoji-set="twitter"] .skin-tone-2 {
  background-color: #f3dfd0;
}

[data-emoji-set="twitter"] .skin-tone-3 {
  background-color: #eed3a8;
}

[data-emoji-set="twitter"] .skin-tone-4 {
  background-color: #cfad8d;
}

[data-emoji-set="twitter"] .skin-tone-5 {
  background-color: #a8805d;
}

[data-emoji-set="twitter"] .skin-tone-6 {
  background-color: #765542;
}

[data-emoji-set="google"] .skin-tone:after {
  box-shadow: inset 0 0 2px 2px rgba(0, 0, 0, .4);
}

[data-emoji-set="google"] .skin-tone-1 {
  background-color: #f5c748;
}

[data-emoji-set="google"] .skin-tone-2 {
  background-color: #f1d5aa;
}

[data-emoji-set="google"] .skin-tone-3 {
  background-color: #d4b48d;
}

[data-emoji-set="google"] .skin-tone-4 {
  background-color: #aa876b;
}

[data-emoji-set="google"] .skin-tone-5 {
  background-color: #916544;
}

[data-emoji-set="google"] .skin-tone-6 {
  background-color: #61493f;
}

[data-emoji-set="facebook"] .skin-tone:after {
  border-color: rgba(0, 0, 0, .4);
  box-shadow: inset 0 -2px 3px #000, inset 0 1px 4px #fff;
}

[data-emoji-set="facebook"] .skin-tone-1 {
  background-color: #f5c748;
}

[data-emoji-set="facebook"] .skin-tone-2 {
  background-color: #f1d5aa;
}

[data-emoji-set="facebook"] .skin-tone-3 {
  background-color: #d4b48d;
}

[data-emoji-set="facebook"] .skin-tone-4 {
  background-color: #aa876b;
}

[data-emoji-set="facebook"] .skin-tone-5 {
  background-color: #916544;
}

[data-emoji-set="facebook"] .skin-tone-6 {
  background-color: #61493f;
}

`;function tz(e){const t=(0,B.useRef)(null),i=(0,B.useRef)(null);return i.current&&i.current.update(e),(0,B.useEffect)(()=>(i.current=new Jv(Q(R({},e),{ref:t})),()=>{i.current=null}),[]),B.createElement("div",{ref:t})}var iz=ee(76810),nz=ee(87542),rz=ee(42952),az=ee.n(rz),o3,l3,d3,sz=(0,K.kc)(function(e){var t=e.css,i=e.token,n=e.prefixCls;return{avatar:t(o3||(o3=(0,re.Z)([`
    border-radius: 50%;
    transition:
      scale 400ms `,`,
      box-shadow 100ms `,`;

    &:hover {
      box-shadow: 0 0 0 3px `,`;
    }

    &:active {
      scale: 0.8;
    }
  `])),i.motionEaseOut,i.motionEaseOut,i.colorText),picker:t(l3||(l3=(0,re.Z)([`
    em-emoji-picker {
      --rgb-accent: `,`;
      --shadow: none;
    }
  `])),az()(i.colorPrimary).rgb().join(",")),popover:t(d3||(d3=(0,re.Z)([`
    .`,`-popover-inner {
      padding: 0;
    }
  `])),n)}}),oz=(0,B.memo)(function(e){var t=e.value,i=e.defaultAvatar,n=i===void 0?"\u{1F916}":i,r=e.backgroundColor,a=r===void 0?"rgba(0,0,0,0)":r,s=e.onChange,o=e.locale,l=o===void 0?"en-US":o,d=sz(),u=d.styles,c=(0,nz.ZP)(l,(0,Hh.Z)((0,Do.Z)().mark(function v(){return(0,Do.Z)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,ee(70121)("./".concat(l.split("-")[0],".json"));case 2:return b.abrupt("return",b.sent);case 3:case"end":return b.stop()}},v)})),{revalidateOnFocus:!1}),f=c.data,h=(0,ns.Z)("\u{1F916}",{defaultValue:n,onChange:s,value:t}),p=(0,St.Z)(h,2),m=p[0],g=p[1];return(0,D.jsx)(iz.Z,{content:(0,D.jsx)("div",{className:u.picker,children:(0,D.jsx)(tz,{data:Zj,i18n:f,locale:l.split("-")[0],onEmojiSelect:function(y){return g(y.native)},skinTonePosition:"none",theme:"auto"})}),placement:"left",rootClassName:u.popover,trigger:"click",children:(0,D.jsx)("div",{className:u.avatar,style:{width:"fit-content"},children:(0,D.jsx)(kl.Z,{avatar:m,background:a,size:44})})})}),lz=oz,c3,u3,f3,h3,p3,dz=(0,K.kc)(function(e){var t=e.css,i=e.token,n=e.isDarkMode;return{close:t(c3||(c3=(0,re.Z)([`
    position: absolute;
    inset-block-start: 8px;
    inset-inline-end: 8px;
  `]))),container:t(u3||(u3=(0,re.Z)([`
    position: relative;

    overflow: hidden;

    background: linear-gradient(
      to bottom,
      `,`,
      `,`
    );
    border: 1px solid `,`;
    border-radius: `,`px;
  `])),n?i.colorBgElevated:i.colorBgLayout,i.colorBgContainer,i.colorBorderSecondary,i.borderRadius),content:t(f3||(f3=(0,re.Z)([`
    padding-block: 0 16px;
    padding-inline: 16px;
  `]))),desc:t(h3||(h3=(0,re.Z)([`
    color: `,`;
  `])),i.colorTextDescription),image:t(p3||(p3=(0,re.Z)([`
    align-self: center;
  `])))}}),cz=["cover","visible","defaultVisible","onVisibleChange","alt","title","desc","width","height","imageProps"],uz=(0,B.memo)(function(e){var t=e.cover,i=e.visible,n=e.defaultVisible,r=e.onVisibleChange,a=e.alt,s=e.title,o=e.desc,l=e.width,d=e.height,u=e.imageProps,c=(0,ge.Z)(e,cz),f=(0,ns.Z)(!0,{defaultValue:n,onChange:r,value:i}),h=(0,St.Z)(f,2),p=h[0],m=h[1],g=dz(),v=g.styles;return p?(0,D.jsxs)(Me.D,(0,ae.Z)((0,ae.Z)({className:v.container},c),{},{children:[(0,D.jsx)(Ut.Z,{className:v.close,icon:Lt.Z,onClick:function(){return m(!1)},size:{blockSize:24,fontSize:16}}),t&&(0,D.jsx)(jd.Z,(0,ae.Z)({alt:a,className:v.image,height:d,src:t,width:l},u)),(0,D.jsxs)("div",{className:v.content,children:[s&&(0,D.jsx)("h3",{children:s}),o&&(0,D.jsx)("p",{className:v.desc,children:o})]})]})):null}),fz=uz,hz=ee(57030),pz=["color","filetype","type","size","style","variant"],mz=(0,B.memo)(function(e){var t=e.color,i=e.filetype,n=e.type,r=n===void 0?"file":n,a=e.size,s=a===void 0?48:a,o=e.style,l=e.variant,d=(0,ge.Z)(e,pz),u=(0,K.Fg)(),c=(0,B.useMemo)(function(){return i&&i.length>3?24/(4+(i.length-3)):6},[i]),f=l==="mono",h=f?u.isDarkMode?u.colorFill:u.colorBgContainer:t||u.geekblue;return r==="file"?(0,D.jsxs)("svg",(0,ae.Z)((0,ae.Z)({height:s,style:(0,ae.Z)({flex:"none",lineHeight:1},o),viewBox:"0 0 24 24",width:s,xmlns:"http://www.w3.org/2000/svg"},d),{},{children:[(0,D.jsx)("path",{d:"M6 2a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6H6z",fill:h}),(0,D.jsx)("path",{d:"M14 2l6 6h-4a2 2 0 01-2-2V2z",fill:f?u.colorFill:"#fff",fillOpacity:".5"}),i&&(0,D.jsx)("text",{fill:f?u.colorTextSecondary:"#fff",fontSize:c,fontWeight:"bold",textAnchor:"middle",x:"50%",y:"70%",children:i.toUpperCase()}),(0,D.jsx)("path",{d:"M6 2a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6H6z",fill:"transparent",stroke:u.colorFillSecondary,strokeWidth:.5})]})):(0,D.jsxs)("svg",(0,ae.Z)((0,ae.Z)({height:s,style:(0,ae.Z)({flex:"none",lineHeight:1},o),viewBox:"0 0 24 24",width:s,xmlns:"http://www.w3.org/2000/svg"},d),{},{children:[(0,D.jsx)("path",{d:"M10.46 5.076l-.92-.752A1.446 1.446 0 008.626 4H3.429c-.38 0-.743.147-1.01.41A1.386 1.386 0 002 5.4v13.2c0 .371.15.727.418.99.268.262.632.41 1.01.41h17.143c.38 0 .743-.148 1.01-.41.268-.263.419-.619.419-.99V6.8c0-.371-.15-.727-.418-.99a1.444 1.444 0 00-1.01-.41h-9.198c-.334 0-.657-.115-.914-.324z",fill:h,stroke:u.colorFillSecondary,strokeWidth:.5}),i&&(0,D.jsx)("text",{fill:f?u.colorTextSecondary:"#fff",fontSize:c,fontWeight:"bold",textAnchor:"middle",x:"50%",y:"70%",children:i.toUpperCase()})]}))}),m3=mz,g3=ee(5429),gz=ee(719),vz=ee(41850),$v=ee(4309),yz=["className","children"],bz=(0,B.memo)(function(e){var t=e.className,i=e.children,n=(0,ge.Z)(e,yz);return(0,D.jsx)(Me.D,(0,ae.Z)((0,ae.Z)({className:t,gap:8,justify:"flex-end"},n),{},{horizontal:!0,children:i}))}),v3=bz,_z=["className","icon","title","children","extra","itemsType","variant","defaultActive"],y3,b3,_3,w3,x3,k3,S3,A3,M3,C3,E3,T3,D3,wz=(0,K.kc)(function(e){var t=e.css,i=e.cx,n=e.token,r=e.isDarkMode,a=e.responsive,s=e.prefixCls,o=t(y3||(y3=(0,re.Z)([`
    background: transparent;
    border: none;
    border-radius: 0;

    .`,`-collapse-header {
      padding-block: 0 20px !important;
      padding-inline: 2px !important;
      background: transparent !important;
      border-radius: 0 !important;
    }

    .`,`-collapse-content {
      background: transparent;
      border-color: `,`;
    }

    .`,`-collapse-content-box {
      padding-inline: 2px !important;
      background: transparent;
      border-radius: 0;
    }
  `])),s,s,n.colorFillSecondary,s),l=t(b3||(b3=(0,re.Z)([`
    background: `,`;
    border: none;
    border-radius: `,`px;

    .`,`-collapse-content {
      border: none !important;
    }
  `])),n.colorFillQuaternary,n.borderRadiusLG,s),d=t(_3||(_3=(0,re.Z)([`
    background: transparent;
    border: 1px solid `,`;
    .`,`-collapse-header {
      background: transparent !important;
    }

    .`,`-collapse-content-box {
      background: transparent;
    }
  `])),n.colorBorderSecondary,s,s),u=t(w3||(w3=(0,re.Z)([`
    background: `,`;
    border: 1px solid `,`;
    border-radius: `,`px;
  `])),n.colorFillQuaternary,n.colorBorderSecondary,n.borderRadiusLG);return{blockStyle:l,defaultStyle:u,flatGroup:t(x3||(x3=(0,re.Z)([`
      overflow: hidden;
      padding-inline: 16px;
    `]))),ghostStyle:d,group:i(r&&t(k3||(k3=(0,re.Z)([`
          .`,`-collapse-content {
            background: transparent;
            border-color: `,`;
          }

          .`,`-collapse-header {
            background: `,`;
          }
        `])),s,n.colorBorderSecondary,s,n.colorFillTertiary),t(S3||(S3=(0,re.Z)([`
        overflow: hidden;
        flex: none;

        .`,`-collapse-item {
          border: none;
        }

        .`,`-collapse-header {
          align-items: center !important;
          border-radius: 0 !important;
        }

        .`,`-collapse-content-box {
          padding-block: 0 !important;
        }

        .`,`-form-item-label {
          display: flex;
          flex-direction: column;
          justify-content: center;
        }
      `])),s,s,s,s)),icon:t(A3||(A3=(0,re.Z)([`
      transition: all 100ms `,`;
    `])),n.motionEaseOut),mobileFlatGroup:t(M3||(M3=(0,re.Z)([`
      border-radius: `,`px;
    `])),n.borderRadiusLG),mobileGroupBody:t(C3||(C3=(0,re.Z)([`
      padding-block: 0;
      padding-inline: 16px;
      background: `,`;
    `])),n.colorBgContainer),mobileGroupHeader:t(E3||(E3=(0,re.Z)([`
      padding: 16px;
      background: `,`;
    `])),n.colorBgLayout),pureStyle:o,pureTitle:t(T3||(T3=(0,re.Z)([`
      font-size: 18px;
      font-weight: 700;
      line-height: 24px;
    `]))),title:t(D3||(D3=(0,re.Z)([`
      align-items: center;
      font-size: 16px;
      font-weight: 600;

      .anticon {
        color: `,`;
      }

      `,` {
        font-size: 14px;
        font-weight: 400;
        opacity: 0.5;
      }
    `])),n.colorPrimary,a.mobile)}}),xz=(0,B.memo)(function(e){var t=e.className,i=e.icon,n=e.title,r=e.children,a=e.extra,s=e.itemsType,o=e.variant,l=o===void 0?"default":o,d=e.defaultActive,u=d===void 0?!0:d,c=(0,ge.Z)(e,_z),f=(0,Al.F)(),h=f.mobile,p=wz(l),m=p.cx,g=p.styles,v=m(l==="default"&&g.defaultStyle,l==="block"&&g.blockStyle,l==="ghost"&&g.ghostStyle,l==="pure"&&g.pureStyle),y=(0,D.jsxs)(Me.D,{className:m(g.title,l==="pure"&&g.pureTitle),gap:8,horizontal:!0,children:[i&&(0,D.jsx)(hi.Z,{icon:i}),n]});return s==="flat"?h?(0,D.jsx)(Me.D,{className:m(g.mobileFlatGroup,g.mobileGroupBody,t),children:r}):(0,D.jsx)(Me.D,{className:m(g.flatGroup,v,t),children:r}):h?(0,D.jsxs)(Me.D,{className:t,children:[(0,D.jsxs)(Me.D,{className:g.mobileGroupHeader,horizontal:!0,justify:"space-between",children:[y,a]}),(0,D.jsx)("div",{className:g.mobileGroupBody,children:r})]}):(0,D.jsx)(x2.Z,(0,ae.Z)({className:m(g.group,v,t),collapsible:l==="pure"?"icon":void 0,defaultActiveKey:u?[1]:void 0,expandIcon:function(_){var x=_.isActive;return l==="pure"?null:(0,D.jsx)(hi.Z,{className:g.icon,icon:Ft.Z,size:{fontSize:16},style:x?{}:{rotate:"-90deg"}})},items:[{children:r,extra:a,key:1,label:y}]},c),1)}),ap=xz,kz=["style"],Sz=(0,B.memo)(function(e){var t=e.style,i=(0,ge.Z)(e,kz);return(0,D.jsx)(u2.Z,(0,ae.Z)({style:(0,ae.Z)({margin:0,opacity:.66},t)},i))}),P3=Sz,I3,Az=(0,K.kc)(function(e){var t=e.css,i=e.token,n=e.prefixCls;return{formTitle:t(I3||(I3=(0,re.Z)([`
    position: relative;
    text-align: start;

    > div {
      font-weight: 500;
      line-height: 1;
    }

    > small {
      display: block;

      line-height: 1.44;
      color: `,`;
      word-wrap: break-word;
      white-space: pre-wrap;
    }

    .`,`-tag {
      font-family: `,`;
    }
  `])),i.colorTextDescription,n,i.fontFamilyCode)}}),Mz=(0,B.memo)(function(e){var t=e.className,i=e.tag,n=e.title,r=e.desc,a=e.avatar,s=Az(),o=s.cx,l=s.styles,d=(0,D.jsxs)(Me.D,{className:o(l.formTitle,t),children:[(0,D.jsxs)(Me.D,{align:"center",direction:"horizontal",gap:8,children:[n,i&&(0,D.jsx)(Cv.Z,{children:i})]}),r&&(0,D.jsx)("small",{style:{marginBottom:2,marginTop:6},children:r})]});return a?(0,D.jsxs)(Me.D,{align:"center",gap:8,horizontal:!0,children:[a,d]}):d}),O3=Mz,Cz=["desc","tag","minWidth","avatar","className","label","children","divider"],j3,R3,z3,Ez=$v.Z.Item,Tz=(0,K.kc)(function(e,t){var i=e.css,n=e.responsive,r=e.prefixCls;return{item:i(j3||(j3=(0,re.Z)([`
      &.`,`-form-item {
        padding-block: 16px;
        padding-inline: 0;

        .`,`-row {
          gap: 12px;
          justify-content: space-between;

          > div {
            flex: unset;
            flex-grow: unset;
          }
        }

        .`,`-form-item-required::before {
          align-self: flex-start;
        }

        `,` {
          .`,`-row {
            flex-direction: column;
            align-items: stretch;

            > div {
              width: 100%;
            }
          }
        }

        `,` {
          padding-block: 16px;
          padding-inline: 0;

          .`,`-row {
            flex-wrap: wrap;
            gap: 4px;
          }
        }
      }
    `])),r,r,r,n.md,r,n.mobile,r),itemMinWidth:i(R3||(R3=(0,re.Z)([`
      .`,`-form-item-control {
        width: `,`;
      }
      `,` {
        .`,`-row {
          flex-direction: column;
          gap: 4px;
        }

        .`,`-form-item-control {
          flex: 1;
          width: 100%;
        }
      }
    `])),r,(0,t2.Z)(t)?"".concat(t,"px"):t,n.mobile,r,r),itemNoDivider:i(z3||(z3=(0,re.Z)([`
      &:not(:first-child) {
        padding-block-start: 0;
      }
    `])))}}),Dz=(0,B.memo)(function(e){var t=e.desc,i=e.tag,n=e.minWidth,r=e.avatar,a=e.className,s=e.label,o=e.children,l=e.divider,d=(0,ge.Z)(e,Cz),u=Tz(n),c=u.cx,f=u.styles;return(0,D.jsxs)(D.Fragment,{children:[l&&(0,D.jsx)(P3,{}),(0,D.jsx)(Ez,(0,ae.Z)((0,ae.Z)({className:c(f.item,!!n&&f.itemMinWidth,!l&&f.itemNoDivider,a),label:(0,D.jsx)(O3,{avatar:r,desc:t,tag:i,title:s})},d),{},{children:o}))]})}),e0=Dz,B3,L3,Pz=(0,K.kc)(function(e){var t=e.css,i=e.token,n=e.prefixCls,r=e.responsive;return{form:t(B3||(B3=(0,re.Z)([`
    position: relative;

    display: flex;
    flex-direction: column;
    gap: 16px;

    width: 100%;

    `,` {
      gap: 0;
    }

    .`,`-form-item {
      margin: 0 !important;
    }

    .`,"-form-item .",`-form-item-label > label {
      height: unset;
    }

    .`,`-row {
      position: relative;
      flex-wrap: nowrap;
    }

    .`,`-form-item-label {
      position: relative;
      flex: 1;
      max-width: 100%;
    }

    .`,`-form-item-row {
      align-items: center;
      `,` {
        align-items: stretch;
      }
    }

    .`,`-form-item-control {
      position: relative;
      flex: 0;
      min-width: unset !important;
    }

    .`,`-collapse-item {
      overflow: hidden !important;
      border-radius: `,`px !important;
    }
  `])),r.mobile,n,n,n,n,n,n,r.mobile,n,n,i.borderRadius),pure:t(L3||(L3=(0,re.Z)([`
    gap: 64px;
  `])))}}),Iz=["className","itemMinWidth","footer","form","items","children","itemsType","variant"],Oz=(0,B.forwardRef)(function(e,t){var i=e.className,n=e.itemMinWidth,r=e.footer,a=e.form,s=e.items,o=s===void 0?[]:s,l=e.children,d=e.itemsType,u=d===void 0?"group":d,c=e.variant,f=c===void 0?"default":c,h=(0,ge.Z)(e,Iz),p=Pz(),m=p.cx,g=p.styles,v=function(_,x){return(0,D.jsx)(e0,(0,ae.Z)({divider:x!==0,minWidth:n},_),x)},y=function(_,x){return(0,D.jsx)(ap,{defaultActive:_==null?void 0:_.defaultActive,extra:_==null?void 0:_.extra,icon:_==null?void 0:_.icon,title:_.title,variant:f,children:Array.isArray(_.children)?_.children.filter(function(k){return!k.hidden}).map(function(k,w){return v(k,w)}):_.children},x)};return(0,D.jsxs)($v.Z,(0,ae.Z)((0,ae.Z)({className:m(g.form,f==="pure"&&g.pure,i),colon:!1,form:a,layout:"horizontal",ref:t},h),{},{children:[(o==null?void 0:o.length)>0?u==="group"?o==null?void 0:o.map(function(b,_){return y(b,_)}):(0,D.jsx)(ap,{itemsType:"flat",variant:f,children:o==null?void 0:o.filter(function(b){return!b.hidden}).map(function(b,_){return v(b,_)})}):null,l,r&&(0,D.jsx)(v3,{children:r})]}))}),sp=Oz;sp.Item=e0,sp.Group=ap,sp.useForm=$v.Z.useForm;var jz=sp,F3=ee(20291),N3=ee(4576),qn=ee(88941),Rz=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],zz=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24],U3=(0,N3.Z)(function e(){(0,F3.Z)(this,e),(0,qn.Z)(this,"r",0),(0,qn.Z)(this,"g",0),(0,qn.Z)(this,"b",0),(0,qn.Z)(this,"a",0),(0,qn.Z)(this,"next",void 0)}),Bz=function(t){if(typeof t=="string")return document.getElementById(t);if(t.nodeType===1)return t},Lz=function(t,i,n,r,a,s){if(!(Number.isNaN(s)||s<1)){s=Math.trunc(s);var o=Bz(t);if(!(!o&&!(o!=null&&o.getContext))){var l=o.getContext("2d"),d=l==null?void 0:l.getImageData(i,n,r,a),u=d.data,c,f,h,p,m,g,v,y,b,_,x,k,w,S,A,M,C,T,P,I,j,H=s+s+1,U=r-1,O=a-1,F=s+1,Z=F*(F+1)/2,G=new U3,L=G;for(h=1;h<H;h++)L=L.next=new U3,h===F&&(j=L);L.next=G;var X,q;v=g=0;var J=Rz[s],W=zz[s];for(f=0;f<a;f++){for(S=A=M=y=b=_=0,x=F*(C=u[g]),k=F*(T=u[g+1]),w=F*(P=u[g+2]),y+=Z*C,b+=Z*T,_+=Z*P,L=G,h=0;h<F;h++)L.r=C,L.g=T,L.b=P,L=L.next;for(h=1;h<F;h++)p=g+((U<h?U:h)<<2),y+=(L.r=C=u[p])*(I=F-h),b+=(L.g=T=u[p+1])*I,_+=(L.b=P=u[p+2])*I,S+=C,A+=T,M+=P,L=L.next;for(X=G,q=j,c=0;c<r;c++)u[g]=y*J>>W,u[g+1]=b*J>>W,u[g+2]=_*J>>W,y-=x,b-=k,_-=w,x-=X.r,k-=X.g,w-=X.b,p=v+((p=c+s+1)<U?p:U)<<2,S+=X.r=u[p],A+=X.g=u[p+1],M+=X.b=u[p+2],y+=S,b+=A,_+=M,X=X.next,x+=C=q.r,k+=T=q.g,w+=P=q.b,S-=C,A-=T,M-=P,q=q.next,g+=4;v+=r}for(c=0;c<r;c++){for(A=M=S=b=_=y=0,g=c<<2,x=F*(C=u[g]),k=F*(T=u[g+1]),w=F*(P=u[g+2]),y+=Z*C,b+=Z*T,_+=Z*P,L=G,h=0;h<F;h++)L.r=C,L.g=T,L.b=P,L=L.next;for(m=r,h=1;h<=s;h++)g=m+c<<2,y+=(L.r=C=u[g])*(I=F-h),b+=(L.g=T=u[g+1])*I,_+=(L.b=P=u[g+2])*I,S+=C,A+=T,M+=P,L=L.next,h<O&&(m+=r);for(g=c,X=G,q=j,f=0;f<a;f++)p=g<<2,u[p]=y*J>>W,u[p+1]=b*J>>W,u[p+2]=_*J>>W,y-=x,b-=k,_-=w,x-=X.r,k-=X.g,w-=X.b,p=c+((p=f+F)<O?p:O)*r<<2,y+=S+=X.r=u[p],b+=A+=X.g=u[p+1],_+=M+=X.b=u[p+2],X=X.next,x+=C=q.r,k+=T=q.g,w+=P=q.b,S-=C,A-=T,M-=P,q=q.next,g+=r}l==null||l.putImageData(d,i,n)}}},Fz=function(){function e(t,i){if((0,F3.Z)(this,e),(0,qn.Z)(this,"fpsAverage",void 0),(0,qn.Z)(this,"canvas",void 0),(0,qn.Z)(this,"context",void 0),(0,qn.Z)(this,"animationFrame",null),(0,qn.Z)(this,"timestep",0),(0,qn.Z)(this,"firstCallTime",0),(0,qn.Z)(this,"lastCallTime",0),(0,qn.Z)(this,"timeElapsed",0),(0,qn.Z)(this,"fpsTotal",0),(0,qn.Z)(this,"layers",[]),(0,qn.Z)(this,"options",{blurRadius:16,fpsCap:30,height:32,scale:20,width:64}),this.canvas=t,this.context=this.canvas.getContext("2d"),!this.context)throw new Error("ERROR: Could not load canvas");i&&this.updateOptions(i)}return(0,N3.Z)(e,[{key:"run",value:function(i){this.updateLayers(i),this.firstCallTime=Date.now(),this.lastCallTime=this.firstCallTime,this.animationFrame&&window.cancelAnimationFrame(this.animationFrame),this.animationFrame=window.requestAnimationFrame(this.displayLoop.bind(this)),this.play()}},{key:"generateLayer",value:function(i,n){var r=i.orbs,a=r===void 0?0:r,s=i.radius,o=s===void 0?0:s,l=i.maxVelocity,d=l===void 0?0:l,u=i.color,c=i.splitX,f=i.splitY,h=document.createElement("canvas"),p=h.getContext("2d");if(!p)throw new Error("Failed to get 2D context for layer ".concat(n));for(var m=[],g=0;g<a;g++){var v=this.createOrb(o,d,c,f);m.push(v)}return{color:u,context:p,orbs:m}}},{key:"createOrb",value:function(i,n,r,a){var s=this.options.width,o=this.options.height,l=r?Math.random()*(s/r):Math.random()*s,d=a?Math.random()*(o/a):Math.random()*o;return{maxX:s,maxY:o,minX:0,minY:0,posX:l,posY:d,radius:i,velX:(Math.random()-.5)*2*n,velY:(Math.random()-.5)*2*n}}},{key:"displayLoop",value:function(){this.animationFrame=window.requestAnimationFrame(this.displayLoop.bind(this));var i=Date.now(),n=i-this.lastCallTime;n>this.timestep&&(this.lastCallTime=i-n%this.timestep,this.timeElapsed=this.lastCallTime-this.firstCallTime,this.fpsTotal++,this.fpsAverage=this.fpsTotal/(this.timeElapsed/1e3),this.drawBackground(),this.drawBlur())}},{key:"drawBackground",value:function(){for(var i=Object.keys(this.layers).length-1;i>=0;i--){var n=this.layers[i].context,r=this.layers[i].orbs;n.fillStyle=this.layers[i].color,n.fillRect(0,0,this.options.width,this.options.height);for(var a=Object.keys(r).length-1;a>=0;a--){r[a].posX+=r[a].velX,r[a].posY+=r[a].velY;var s=void 0,o=void 0,l=void 0,d=void 0;r[a].maxX&&r[a].maxY?(s=r[a].minX,o=r[a].maxX,l=r[a].minY,d=r[a].maxY):(s=0,o=this.options.width,l=0,d=this.options.height),r[a].posX>=o?(r[a].posX=o,r[a].velX=-r[a].velX):r[a].posX<=s&&(r[a].posX=s,r[a].velX=-r[a].velX),r[a].posY>=d?(r[a].posY=d,r[a].velY=-r[a].velY):r[a].posY<=l&&(r[a].posY=l,r[a].velY=-r[a].velY),n.save(),n.globalCompositeOperation="destination-out",n.beginPath(),n.arc(r[a].posX,r[a].posY,r[a].radius,0,2*Math.PI,!1),n.fill(),n.restore()}this.context.drawImage(n.canvas,0,0)}}},{key:"drawBlur",value:function(){Lz(this.canvas,0,0,this.options.width,this.options.height,this.options.blurRadius)}},{key:"updateLayers",value:function(i){var n=this;this.layers=i.map(function(r,a){return n.generateLayer(r,a)})}},{key:"updateOptions",value:function(i){var n=i.blurRadius,r=n===void 0?16:n,a=i.fpsCap,s=a===void 0?30:a,o=i.scale,l=o===void 0?20:o;this.options=(0,ae.Z)((0,ae.Z)({},this.options),{},{blurRadius:r,fpsCap:s,scale:l}),this.options.height=Math.round(this.canvas.clientHeight/this.options.scale),this.options.width=Math.round(this.canvas.clientWidth/this.options.scale),this.timestep=1e3/this.options.fpsCap,this.context.canvas.width=this.options.width,this.context.canvas.height=this.options.height}},{key:"prototype",value:function(){window.cancelAnimationFrame(this.animationFrame)}},{key:"play",value:function(){var i=this;window.cancelAnimationFrame(this.animationFrame),this.animationFrame=window.requestAnimationFrame(function(){return i.displayLoop()})}}]),e}(),Nz=Fz,Uz=function(t){var i=(0,B.useState)(),n=(0,St.Z)(i,2),r=n[0],a=n[1];(0,B.useEffect)(function(){t.current&&a(new Nz(t.current))},[]);var s=(0,B.useCallback)(function(o,l){r&&(l&&r.updateOptions(l),r.run(o))},[r]);return s},V3,H3,G3,Vz=(0,K.kc)(function(e){var t=e.css;return{canvas:t(V3||(V3=(0,re.Z)([`
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
  `]))),container:t(H3||(H3=(0,re.Z)([`
    position: relative;
    width: 100%;
    height: 100%;
  `]))),content:t(G3||(G3=(0,re.Z)([`
    position: relative;
    z-index: 1;
    width: 100%;
    height: 100%;
  `])))}}),Hz=["layers","options","className","children","classNames","style"],Gz={blurRadius:16,fpsCap:60,scale:16},Wz=(0,B.memo)(function(e){var t=e.layers,i=e.options,n=i===void 0?Gz:i,r=e.className,a=e.children,s=e.classNames,o=e.style,l=(0,ge.Z)(e,Hz),d=(0,B.useRef)(null),u=Vz(),c=u.cx,f=u.styles,h=Uz(d);return(0,B.useEffect)(function(){h&&h(t,n)},[h,n,t]),(0,D.jsxs)("div",(0,ae.Z)((0,ae.Z)({className:c(f.container,r),style:o},l),{},{children:[(0,D.jsx)("canvas",{className:c(f.canvas,s==null?void 0:s.canvas),ref:d}),(0,D.jsx)(Me.D,{className:c(f.content,s==null?void 0:s.content),children:a})]}))}),qz=Wz,Zz=ee(22148),Yz=ee(99023),Xz=ee(21224),t0=ee(69967),Kz=["style","children","backgroundColor","innerProps"],Qz=(0,B.memo)(function(e){var t=e.style,i=e.children,n=e.backgroundColor,r=n===void 0?"#001dff":n,a=e.innerProps,s=(0,ge.Z)(e,Kz),o=(0,K.Fg)();return(0,D.jsxs)(Me.D,(0,ae.Z)((0,ae.Z)({style:(0,ae.Z)({position:"relative"},t)},s),{},{children:[(0,D.jsx)(t0.Z,{animation:!0,colorBack:(0,sa.m4)(o.colorText,.12),colorFront:(0,sa.m4)(o.colorText,.6),flip:!0}),(0,D.jsx)(Me.D,(0,ae.Z)((0,ae.Z)({align:"center"},a),{},{style:(0,ae.Z)({zIndex:4},a==null?void 0:a.style),children:i})),(0,D.jsx)(t0.Z,{animation:!0,backgroundColor:r,colorBack:(0,sa.m4)(o.colorText,.24),colorFront:o.colorText,random:!0,reverse:!0,showBackground:!0,style:{zIndex:0}})]}))}),Jz=Qz,$z=ee(4413),eB=ee(72819),tB=ee(63062),iB=ee(93910),nB=(0,iB.Z)("Discord",[["path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z",key:"18tl5t"}]]),rB=function(t){return(0,D.jsx)(nB,(0,ae.Z)({style:{overflow:"visible"}},t))},aB=rB,sB=ee(21634),oB=ee(92471),Ol=ee(827),lB=ee(29298),W3,q3,Z3,Y3,X3,K3,Q3,J3,$3,dB=(0,K.kc)(function(e){var t=e.css,i=e.token;return{actions:t(W3||(W3=(0,re.Z)([`
      position: absolute;
      inset-block-start: 50%;
      inset-inline-end: 16px;
      transform: translateY(-50%);
    `]))),active:t(q3||(q3=(0,re.Z)([`
      color: `,`;
      background-color: `,`;

      &:hover {
        background-color: `,`;
      }
    `])),i.colorText,i.colorFillSecondary,i.colorFill),container:t(Z3||(Z3=(0,re.Z)([`
      cursor: pointer;
      color: `,`;
      background: transparent;
      transition: background-color 200ms `,`;

      &:active {
        background-color: `,`;
      }

      &:hover {
        background-color: `,`;
      }
    `])),i.colorTextTertiary,i.motionEaseOut,i.colorFillSecondary,i.colorFillTertiary),content:t(Y3||(Y3=(0,re.Z)([`
      position: relative;
      overflow: hidden;
      flex: 1;
      align-self: center;
    `]))),desc:t(X3||(X3=(0,re.Z)([`
      overflow: hidden;

      width: 100%;

      font-size: 12px;
      line-height: 1;
      color: `,`;
      text-overflow: ellipsis;
      white-space: nowrap;
    `])),i.colorTextDescription),pin:t(K3||(K3=(0,re.Z)([`
      position: absolute;
      inset-block-start: 6px;
      inset-inline-end: 6px;
    `]))),time:t(Q3||(Q3=(0,re.Z)([`
      font-size: 12px;
      color: `,`;
    `])),i.colorTextPlaceholder),title:t(J3||(J3=(0,re.Z)([`
      overflow: hidden;

      width: 100%;

      font-size: 16px;
      line-height: 1;
      color: `,`;
      text-overflow: ellipsis;
      white-space: nowrap;
    `])),i.colorText),triangle:t($3||($3=(0,re.Z)([`
      width: 10px;
      height: 10px;

      opacity: 0.5;
      background: `,`;
      clip-path: polygon(0% 0%, 100% 0%, 100% 100%);
      border-radius: 2px;
    `])),i.colorPrimaryBorder)}}),cB=function(t){var i=Vh()(t);return i.isSame(Vh()(),"day")?i.format("HH:mm"):i.format("MM-DD")},uB=["active","avatar","loading","description","date","title","onHoverChange","actions","className","style","showAction","children","classNames","addon","pin"],fB=(0,B.forwardRef)(function(e,t){var i=e.active,n=e.avatar,r=e.loading,a=e.description,s=e.date,o=e.title,l=e.onHoverChange,d=e.actions,u=e.className,c=e.style,f=e.showAction,h=e.children,p=e.classNames,m=e.addon,g=e.pin,v=(0,ge.Z)(e,uB),y=dB(),b=y.styles,_=y.cx;return(0,D.jsxs)(Me.D,(0,ae.Z)((0,ae.Z)({align:"flex-start",className:_(b.container,i&&b.active,u),distribution:"space-between",gap:8,horizontal:!0,onMouseEnter:function(){l==null||l(!0)},onMouseLeave:function(){l==null||l(!1)},padding:12,ref:t,style:c},v),{},{children:[g&&(0,D.jsx)("div",{className:b.pin,children:(0,D.jsx)("div",{className:b.triangle})}),n!=null?n:(0,D.jsx)(hi.Z,{icon:lB.Z,style:{marginTop:4}}),(0,D.jsxs)(Me.D,{className:b.content,gap:8,children:[(0,D.jsx)(Me.D,{distribution:"space-between",horizontal:!0,children:(0,D.jsx)("div",{className:b.title,children:o})}),a&&(0,D.jsx)("div",{className:b.desc,children:a}),m]}),r?(0,D.jsx)(hi.Z,{icon:Fu.Z,spin:!0}):(0,D.jsxs)(D.Fragment,{children:[f&&(0,D.jsx)(Me.D,{className:b.actions,gap:4,horizontal:!0,onClick:function(k){k.preventDefault(),k.stopPropagation()},style:{display:f?void 0:"none"},children:d}),s&&(0,D.jsx)("div",{className:_(b.time,p==null?void 0:p.time),style:f?{display:"none"}:{},children:cB(s)})]}),h]}))}),hB=fB,pB={Item:hB},mB=pB,eS=ee(83891),gB=ee(44675),op=ee(15686).lW,vB=Object.create,lp=Object.defineProperty,yB=Object.getOwnPropertyDescriptor,bB=Object.getOwnPropertyNames,_B=Object.getPrototypeOf,wB=Object.prototype.hasOwnProperty,xB=(e,t,i)=>t in e?lp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Zn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),kB=(e,t)=>{for(var i in t)lp(e,i,{get:t[i],enumerable:!0})},SB=(e,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of bB(t))!wB.call(e,r)&&r!==i&&lp(e,r,{get:()=>t[r],enumerable:!(n=yB(t,r))||n.enumerable});return e},En=(e,t,i)=>(i=e!=null?vB(_B(e)):{},SB(t||!e||!e.__esModule?lp(i,"default",{value:e,enumerable:!0}):i,e)),or=(e,t,i)=>(xB(e,typeof t!="symbol"?t+"":t,i),i),AB=Zn((e,t)=>{(function(i,n){typeof e=="object"?t.exports=n():typeof define=="function"&&define.amd?define(n):i.Alea=n()})(e,function(){"use strict";return i.importState=function(r){var a=new i;return a.importState(r),a},i;function i(){return function(r){var a=0,s=0,o=0,l=1;r.length==0&&(r=[+new Date]);var d=n();a=d(" "),s=d(" "),o=d(" ");for(var u=0;u<r.length;u++)a-=d(r[u]),a<0&&(a+=1),s-=d(r[u]),s<0&&(s+=1),o-=d(r[u]),o<0&&(o+=1);d=null;var c=function(){var f=2091639*a+l*23283064365386963e-26;return a=s,s=o,o=f-(l=f|0)};return c.next=c,c.uint32=function(){return c()*4294967296},c.fract53=function(){return c()+(c()*2097152|0)*11102230246251565e-32},c.version="Alea 0.9",c.args=r,c.exportState=function(){return[a,s,o,l]},c.importState=function(f){a=+f[0]||0,s=+f[1]||0,o=+f[2]||0,l=+f[3]||0},c}(Array.prototype.slice.call(arguments))}function n(){var r=4022871197,a=function(s){s=s.toString();for(var o=0;o<s.length;o++){r+=s.charCodeAt(o);var l=.02519603282416938*r;r=l>>>0,l-=r,l*=r,r=l>>>0,l-=r,r+=l*4294967296}return(r>>>0)*23283064365386963e-26};return a.version="Mash 0.9",a}})}),tS=Zn((e,t)=>{(function(i,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):n((i=typeof globalThis<"u"?globalThis:i||self).SVDJS={})})(e,function(i){"use strict";i.SVD=function(n,r,a,s,o){if(r=r===void 0||r,a=a===void 0||a,o=1e-64/(s=s||Math.pow(2,-52)),!n)throw new TypeError("Matrix a is not defined");var l,d,u,c,f,h,p,m,g,v,y,b,_=n[0].length,x=n.length;if(x<_)throw new TypeError("Invalid matrix: m < n");for(var k=[],w=[],S=[],A=r==="f"?x:_,M=v=p=0;M<x;M++)w[M]=new Array(A).fill(0);for(M=0;M<_;M++)S[M]=new Array(_).fill(0);var C,T=new Array(_).fill(0);for(M=0;M<x;M++)for(l=0;l<_;l++)w[M][l]=n[M][l];for(M=0;M<_;M++){for(k[M]=p,g=0,u=M+1,l=M;l<x;l++)g+=Math.pow(w[l][M],2);if(g<o)p=0;else for(m=(h=w[M][M])*(p=h<0?Math.sqrt(g):-Math.sqrt(g))-g,w[M][M]=h-p,l=u;l<_;l++){for(g=0,d=M;d<x;d++)g+=w[d][M]*w[d][l];for(h=g/m,d=M;d<x;d++)w[d][l]=w[d][l]+h*w[d][M]}for(T[M]=p,g=0,l=u;l<_;l++)g+=Math.pow(w[M][l],2);if(g<o)p=0;else{for(m=(h=w[M][M+1])*(p=h<0?Math.sqrt(g):-Math.sqrt(g))-g,w[M][M+1]=h-p,l=u;l<_;l++)k[l]=w[M][l]/m;for(l=u;l<x;l++){for(g=0,d=u;d<_;d++)g+=w[l][d]*w[M][d];for(d=u;d<_;d++)w[l][d]=w[l][d]+g*k[d]}}v<(y=Math.abs(T[M])+Math.abs(k[M]))&&(v=y)}if(a)for(M=_-1;0<=M;M--){if(p!==0){for(m=w[M][M+1]*p,l=u;l<_;l++)S[l][M]=w[M][l]/m;for(l=u;l<_;l++){for(g=0,d=u;d<_;d++)g+=w[M][d]*S[d][l];for(d=u;d<_;d++)S[d][l]=S[d][l]+g*S[d][M]}}for(l=u;l<_;l++)S[M][l]=0,S[l][M]=0;S[M][M]=1,p=k[M],u=M}if(r){if(r==="f")for(M=_;M<x;M++){for(l=_;l<x;l++)w[M][l]=0;w[M][M]=1}for(M=_-1;0<=M;M--){for(u=M+1,p=T[M],l=u;l<A;l++)w[M][l]=0;if(p!==0){for(m=w[M][M]*p,l=u;l<A;l++){for(g=0,d=u;d<x;d++)g+=w[d][M]*w[d][l];for(h=g/m,d=M;d<x;d++)w[d][l]=w[d][l]+h*w[d][M]}for(l=M;l<x;l++)w[l][M]=w[l][M]/p}else for(l=M;l<x;l++)w[l][M]=0;w[M][M]=w[M][M]+1}}for(s*=v,d=_-1;0<=d;d--)for(var P=0;P<50;P++){for(C=!1,u=d;0<=u;u--){if(Math.abs(k[u])<=s){C=!0;break}if(Math.abs(T[u-1])<=s)break}if(!C){for(f=0,c=u-(g=1),M=u;M<d+1&&(h=g*k[M],k[M]=f*k[M],!(Math.abs(h)<=s));M++)if(p=T[M],T[M]=Math.sqrt(h*h+p*p),f=p/(m=T[M]),g=-h/m,r)for(l=0;l<x;l++)y=w[l][c],b=w[l][M],w[l][c]=y*f+b*g,w[l][M]=-y*g+b*f}if(b=T[d],u===d){if(b<0&&(T[d]=-b,a))for(l=0;l<_;l++)S[l][d]=-S[l][d];break}for(v=T[u],h=(((y=T[d-1])-b)*(y+b)+((p=k[d-1])-(m=k[d]))*(p+m))/(2*m*y),p=Math.sqrt(h*h+1),h=((v-b)*(v+b)+m*(y/(h<0?h-p:h+p)-m))/v,M=u+(g=f=1);M<d+1;M++){if(p=k[M],y=T[M],m=g*p,p*=f,b=Math.sqrt(h*h+m*m),h=v*(f=h/(k[M-1]=b))+p*(g=m/b),p=-v*g+p*f,m=y*g,y*=f,a)for(l=0;l<_;l++)v=S[l][M-1],b=S[l][M],S[l][M-1]=v*f+b*g,S[l][M]=-v*g+b*f;if(b=Math.sqrt(h*h+m*m),h=(f=h/(T[M-1]=b))*p+(g=m/b)*y,v=-g*p+f*y,r)for(l=0;l<x;l++)y=w[l][M-1],b=w[l][M],w[l][M-1]=y*f+b*g,w[l][M]=-y*g+b*f}k[u]=0,k[d]=h,T[d]=v}for(M=0;M<_;M++)T[M]<s&&(T[M]=0);return{u:w,q:T,v:S}},i.VERSION="1.1.1",Object.defineProperty(i,"__esModule",{value:!0})})}),MB=Zn((e,t)=>{(function(i,n){typeof e=="object"&&typeof t<"u"?t.exports=n():typeof define=="function"&&define.amd?define(n):(i=i||self,i.TinyQueue=n())})(e,function(){"use strict";var i=function(r,a){if(r===void 0&&(r=[]),a===void 0&&(a=n),this.data=r,this.length=this.data.length,this.compare=a,this.length>0)for(var s=(this.length>>1)-1;s>=0;s--)this._down(s)};i.prototype.push=function(r){this.data.push(r),this.length++,this._up(this.length-1)},i.prototype.pop=function(){if(this.length!==0){var r=this.data[0],a=this.data.pop();return this.length--,this.length>0&&(this.data[0]=a,this._down(0)),r}},i.prototype.peek=function(){return this.data[0]},i.prototype._up=function(r){for(var a=this,s=a.data,o=a.compare,l=s[r];r>0;){var d=r-1>>1,u=s[d];if(o(l,u)>=0)break;s[r]=u,r=d}s[r]=l},i.prototype._down=function(r){for(var a=this,s=a.data,o=a.compare,l=this.length>>1,d=s[r];r<l;){var u=(r<<1)+1,c=s[u],f=u+1;if(f<this.length&&o(s[f],c)<0&&(u=f,c=s[f]),o(c,d)>=0)break;s[r]=c,r=u}s[r]=d};function n(r,a){return r<a?-1:r>a?1:0}return i})}),CB=Zn((e,t)=>{"use strict";var i=MB();i.default&&(i=i.default),t.exports=n,t.exports.default=n;function n(d,u,c){u=u||1;for(var f,h,p,m,g=0;g<d[0].length;g++){var v=d[0][g];(!g||v[0]<f)&&(f=v[0]),(!g||v[1]<h)&&(h=v[1]),(!g||v[0]>p)&&(p=v[0]),(!g||v[1]>m)&&(m=v[1])}var y=p-f,b=m-h,_=Math.min(y,b),x=_/2;if(_===0){var k=[f,h];return k.distance=0,k}for(var w=new i(void 0,r),S=f;S<p;S+=_)for(var A=h;A<m;A+=_)w.push(new a(S+x,A+x,x,d));var M=o(d),C=new a(f+y/2,h+b/2,0,d);C.d>M.d&&(M=C);for(var T=w.length;w.length;){var P=w.pop();P.d>M.d&&(M=P,c&&console.log("found best %d after %d probes",Math.round(1e4*P.d)/1e4,T)),!(P.max-M.d<=u)&&(x=P.h/2,w.push(new a(P.x-x,P.y-x,x,d)),w.push(new a(P.x+x,P.y-x,x,d)),w.push(new a(P.x-x,P.y+x,x,d)),w.push(new a(P.x+x,P.y+x,x,d)),T+=4)}c&&(console.log("num probes: "+T),console.log("best distance: "+M.d));var I=[M.x,M.y];return I.distance=M.d,I}function r(d,u){return u.max-d.max}function a(d,u,c,f){this.x=d,this.y=u,this.h=c,this.d=s(d,u,f),this.max=this.d+this.h*Math.SQRT2}function s(d,u,c){for(var f=!1,h=1/0,p=0;p<c.length;p++)for(var m=c[p],g=0,v=m.length,y=v-1;g<v;y=g++){var b=m[g],_=m[y];b[1]>u!=_[1]>u&&d<(_[0]-b[0])*(u-b[1])/(_[1]-b[1])+b[0]&&(f=!f),h=Math.min(h,l(d,u,b,_))}return h===0?0:(f?1:-1)*Math.sqrt(h)}function o(d){for(var u=0,c=0,f=0,h=d[0],p=0,m=h.length,g=m-1;p<m;g=p++){var v=h[p],y=h[g],b=v[0]*y[1]-y[0]*v[1];c+=(v[0]+y[0])*b,f+=(v[1]+y[1])*b,u+=b*3}return u===0?new a(h[0][0],h[0][1],0,d):new a(c/u,f/u,0,d)}function l(d,u,c,f){var h=c[0],p=c[1],m=f[0]-h,g=f[1]-p;if(m!==0||g!==0){var v=((d-h)*m+(u-p)*g)/(m*m+g*g);v>1?(h=f[0],p=f[1]):v>0&&(h+=m*v,p+=g*v)}return m=d-h,g=u-p,m*m+g*g}}),EB=Zn((e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;function i(n){if(n===null||n===!0||n===!1)return NaN;var r=Number(n);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}t.exports=e.default}),TB=Zn((e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;function i(n){var r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),n.getTime()-r.getTime()}t.exports=e.default}),DB=Zn(e=>{(function(){"use strict";var t=function(){this.init()};t.prototype={init:function(){var c=this||i;return c._counter=1e3,c._html5AudioPool=[],c.html5PoolSize=10,c._codecs={},c._howls=[],c._muted=!1,c._volume=1,c._canPlayEvent="canplaythrough",c._navigator=typeof window<"u"&&window.navigator?window.navigator:null,c.masterGain=null,c.noAudio=!1,c.usingWebAudio=!0,c.autoSuspend=!0,c.ctx=null,c.autoUnlock=!0,c._setup(),c},volume:function(c){var f=this||i;if(c=parseFloat(c),f.ctx||u(),typeof c<"u"&&c>=0&&c<=1){if(f._volume=c,f._muted)return f;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(c,i.ctx.currentTime);for(var h=0;h<f._howls.length;h++)if(!f._howls[h]._webAudio)for(var p=f._howls[h]._getSoundIds(),m=0;m<p.length;m++){var g=f._howls[h]._soundById(p[m]);g&&g._node&&(g._node.volume=g._volume*c)}return f}return f._volume},mute:function(c){var f=this||i;f.ctx||u(),f._muted=c,f.usingWebAudio&&f.masterGain.gain.setValueAtTime(c?0:f._volume,i.ctx.currentTime);for(var h=0;h<f._howls.length;h++)if(!f._howls[h]._webAudio)for(var p=f._howls[h]._getSoundIds(),m=0;m<p.length;m++){var g=f._howls[h]._soundById(p[m]);g&&g._node&&(g._node.muted=c?!0:g._muted)}return f},stop:function(){for(var c=this||i,f=0;f<c._howls.length;f++)c._howls[f].stop();return c},unload:function(){for(var c=this||i,f=c._howls.length-1;f>=0;f--)c._howls[f].unload();return c.usingWebAudio&&c.ctx&&typeof c.ctx.close<"u"&&(c.ctx.close(),c.ctx=null,u()),c},codecs:function(c){return(this||i)._codecs[c.replace(/^x-/,"")]},_setup:function(){var c=this||i;if(c.state=c.ctx&&c.ctx.state||"suspended",c._autoSuspend(),!c.usingWebAudio)if(typeof Audio<"u")try{var f=new Audio;typeof f.oncanplaythrough>"u"&&(c._canPlayEvent="canplay")}catch(h){c.noAudio=!0}else c.noAudio=!0;try{var f=new Audio;f.muted&&(c.noAudio=!0)}catch(h){}return c.noAudio||c._setupCodecs(),c},_setupCodecs:function(){var c=this||i,f=null;try{f=typeof Audio<"u"?new Audio:null}catch(_){return c}if(!f||typeof f.canPlayType!="function")return c;var h=f.canPlayType("audio/mpeg;").replace(/^no$/,""),p=c._navigator?c._navigator.userAgent:"",m=p.match(/OPR\/([0-6].)/g),g=m&&parseInt(m[0].split("/")[1],10)<33,v=p.indexOf("Safari")!==-1&&p.indexOf("Chrome")===-1,y=p.match(/Version\/(.*?) /),b=v&&y&&parseInt(y[1],10)<15;return c._codecs={mp3:!!(!g&&(h||f.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!h,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(f.canPlayType('audio/wav; codecs="1"')||f.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(f.canPlayType("audio/x-m4b;")||f.canPlayType("audio/m4b;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!b&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!b&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(f.canPlayType("audio/x-flac;")||f.canPlayType("audio/flac;")).replace(/^no$/,"")},c},_unlockAudio:function(){var c=this||i;if(!(c._audioUnlocked||!c.ctx)){c._audioUnlocked=!1,c.autoUnlock=!1,!c._mobileUnloaded&&c.ctx.sampleRate!==44100&&(c._mobileUnloaded=!0,c.unload()),c._scratchBuffer=c.ctx.createBuffer(1,1,22050);var f=function(h){for(;c._html5AudioPool.length<c.html5PoolSize;)try{var p=new Audio;p._unlocked=!0,c._releaseHtml5Audio(p)}catch(_){c.noAudio=!0;break}for(var m=0;m<c._howls.length;m++)if(!c._howls[m]._webAudio)for(var g=c._howls[m]._getSoundIds(),v=0;v<g.length;v++){var y=c._howls[m]._soundById(g[v]);y&&y._node&&!y._node._unlocked&&(y._node._unlocked=!0,y._node.load())}c._autoResume();var b=c.ctx.createBufferSource();b.buffer=c._scratchBuffer,b.connect(c.ctx.destination),typeof b.start>"u"?b.noteOn(0):b.start(0),typeof c.ctx.resume=="function"&&c.ctx.resume(),b.onended=function(){b.disconnect(0),c._audioUnlocked=!0,document.removeEventListener("touchstart",f,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("click",f,!0),document.removeEventListener("keydown",f,!0);for(var _=0;_<c._howls.length;_++)c._howls[_]._emit("unlock")}};return document.addEventListener("touchstart",f,!0),document.addEventListener("touchend",f,!0),document.addEventListener("click",f,!0),document.addEventListener("keydown",f,!0),c}},_obtainHtml5Audio:function(){var c=this||i;if(c._html5AudioPool.length)return c._html5AudioPool.pop();var f=new Audio().play();return f&&typeof Promise<"u"&&(f instanceof Promise||typeof f.then=="function")&&f.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(c){var f=this||i;return c._unlocked&&f._html5AudioPool.push(c),f},_autoSuspend:function(){var c=this;if(!(!c.autoSuspend||!c.ctx||typeof c.ctx.suspend>"u"||!i.usingWebAudio)){for(var f=0;f<c._howls.length;f++)if(c._howls[f]._webAudio){for(var h=0;h<c._howls[f]._sounds.length;h++)if(!c._howls[f]._sounds[h]._paused)return c}return c._suspendTimer&&clearTimeout(c._suspendTimer),c._suspendTimer=setTimeout(function(){if(c.autoSuspend){c._suspendTimer=null,c.state="suspending";var p=function(){c.state="suspended",c._resumeAfterSuspend&&(delete c._resumeAfterSuspend,c._autoResume())};c.ctx.suspend().then(p,p)}},3e4),c}},_autoResume:function(){var c=this;if(!(!c.ctx||typeof c.ctx.resume>"u"||!i.usingWebAudio))return c.state==="running"&&c.ctx.state!=="interrupted"&&c._suspendTimer?(clearTimeout(c._suspendTimer),c._suspendTimer=null):c.state==="suspended"||c.state==="running"&&c.ctx.state==="interrupted"?(c.ctx.resume().then(function(){c.state="running";for(var f=0;f<c._howls.length;f++)c._howls[f]._emit("resume")}),c._suspendTimer&&(clearTimeout(c._suspendTimer),c._suspendTimer=null)):c.state==="suspending"&&(c._resumeAfterSuspend=!0),c}};var i=new t,n=function(c){var f=this;if(!c.src||c.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}f.init(c)};n.prototype={init:function(c){var f=this;return i.ctx||u(),f._autoplay=c.autoplay||!1,f._format=typeof c.format!="string"?c.format:[c.format],f._html5=c.html5||!1,f._muted=c.mute||!1,f._loop=c.loop||!1,f._pool=c.pool||5,f._preload=typeof c.preload=="boolean"||c.preload==="metadata"?c.preload:!0,f._rate=c.rate||1,f._sprite=c.sprite||{},f._src=typeof c.src!="string"?c.src:[c.src],f._volume=c.volume!==void 0?c.volume:1,f._xhr={method:c.xhr&&c.xhr.method?c.xhr.method:"GET",headers:c.xhr&&c.xhr.headers?c.xhr.headers:null,withCredentials:c.xhr&&c.xhr.withCredentials?c.xhr.withCredentials:!1},f._duration=0,f._state="unloaded",f._sounds=[],f._endTimers={},f._queue=[],f._playLock=!1,f._onend=c.onend?[{fn:c.onend}]:[],f._onfade=c.onfade?[{fn:c.onfade}]:[],f._onload=c.onload?[{fn:c.onload}]:[],f._onloaderror=c.onloaderror?[{fn:c.onloaderror}]:[],f._onplayerror=c.onplayerror?[{fn:c.onplayerror}]:[],f._onpause=c.onpause?[{fn:c.onpause}]:[],f._onplay=c.onplay?[{fn:c.onplay}]:[],f._onstop=c.onstop?[{fn:c.onstop}]:[],f._onmute=c.onmute?[{fn:c.onmute}]:[],f._onvolume=c.onvolume?[{fn:c.onvolume}]:[],f._onrate=c.onrate?[{fn:c.onrate}]:[],f._onseek=c.onseek?[{fn:c.onseek}]:[],f._onunlock=c.onunlock?[{fn:c.onunlock}]:[],f._onresume=[],f._webAudio=i.usingWebAudio&&!f._html5,typeof i.ctx<"u"&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(f),f._autoplay&&f._queue.push({event:"play",action:function(){f.play()}}),f._preload&&f._preload!=="none"&&f.load(),f},load:function(){var c=this,f=null;if(i.noAudio){c._emit("loaderror",null,"No audio support.");return}typeof c._src=="string"&&(c._src=[c._src]);for(var h=0;h<c._src.length;h++){var p,m;if(c._format&&c._format[h])p=c._format[h];else{if(m=c._src[h],typeof m!="string"){c._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}p=/^data:audio\/([^;,]+);/i.exec(m),p||(p=/\.([^.]+)$/.exec(m.split("?",1)[0])),p&&(p=p[1].toLowerCase())}if(p||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),p&&i.codecs(p)){f=c._src[h];break}}if(!f){c._emit("loaderror",null,"No codec support for selected audio sources.");return}return c._src=f,c._state="loading",window.location.protocol==="https:"&&f.slice(0,5)==="http:"&&(c._html5=!0,c._webAudio=!1),new r(c),c._webAudio&&s(c),c},play:function(c,f){var h=this,p=null;if(typeof c=="number")p=c,c=null;else{if(typeof c=="string"&&h._state==="loaded"&&!h._sprite[c])return null;if(typeof c>"u"&&(c="__default",!h._playLock)){for(var m=0,g=0;g<h._sounds.length;g++)h._sounds[g]._paused&&!h._sounds[g]._ended&&(m++,p=h._sounds[g]._id);m===1?c=null:p=null}}var v=p?h._soundById(p):h._inactiveSound();if(!v)return null;if(p&&!c&&(c=v._sprite||"__default"),h._state!=="loaded"){v._sprite=c,v._ended=!1;var y=v._id;return h._queue.push({event:"play",action:function(){h.play(y)}}),y}if(p&&!v._paused)return f||h._loadQueue("play"),v._id;h._webAudio&&i._autoResume();var b=Math.max(0,v._seek>0?v._seek:h._sprite[c][0]/1e3),_=Math.max(0,(h._sprite[c][0]+h._sprite[c][1])/1e3-b),x=_*1e3/Math.abs(v._rate),k=h._sprite[c][0]/1e3,w=(h._sprite[c][0]+h._sprite[c][1])/1e3;v._sprite=c,v._ended=!1;var S=function(){v._paused=!1,v._seek=b,v._start=k,v._stop=w,v._loop=!!(v._loop||h._sprite[c][2])};if(b>=w){h._ended(v);return}var A=v._node;if(h._webAudio){var M=function(){h._playLock=!1,S(),h._refreshBuffer(v);var I=v._muted||h._muted?0:v._volume;A.gain.setValueAtTime(I,i.ctx.currentTime),v._playStart=i.ctx.currentTime,typeof A.bufferSource.start>"u"?v._loop?A.bufferSource.noteGrainOn(0,b,86400):A.bufferSource.noteGrainOn(0,b,_):v._loop?A.bufferSource.start(0,b,86400):A.bufferSource.start(0,b,_),x!==1/0&&(h._endTimers[v._id]=setTimeout(h._ended.bind(h,v),x)),f||setTimeout(function(){h._emit("play",v._id),h._loadQueue()},0)};i.state==="running"&&i.ctx.state!=="interrupted"?M():(h._playLock=!0,h.once("resume",M),h._clearTimer(v._id))}else{var C=function(){A.currentTime=b,A.muted=v._muted||h._muted||i._muted||A.muted,A.volume=v._volume*i.volume(),A.playbackRate=v._rate;try{var I=A.play();if(I&&typeof Promise<"u"&&(I instanceof Promise||typeof I.then=="function")?(h._playLock=!0,S(),I.then(function(){h._playLock=!1,A._unlocked=!0,f?h._loadQueue():h._emit("play",v._id)}).catch(function(){h._playLock=!1,h._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),v._ended=!0,v._paused=!0})):f||(h._playLock=!1,S(),h._emit("play",v._id)),A.playbackRate=v._rate,A.paused){h._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}c!=="__default"||v._loop?h._endTimers[v._id]=setTimeout(h._ended.bind(h,v),x):(h._endTimers[v._id]=function(){h._ended(v),A.removeEventListener("ended",h._endTimers[v._id],!1)},A.addEventListener("ended",h._endTimers[v._id],!1))}catch(j){h._emit("playerror",v._id,j)}};A.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(A.src=h._src,A.load());var T=window&&window.ejecta||!A.readyState&&i._navigator.isCocoonJS;if(A.readyState>=3||T)C();else{h._playLock=!0,h._state="loading";var P=function(){h._state="loaded",C(),A.removeEventListener(i._canPlayEvent,P,!1)};A.addEventListener(i._canPlayEvent,P,!1),h._clearTimer(v._id)}}return v._id},pause:function(c){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"pause",action:function(){f.pause(c)}}),f;for(var h=f._getSoundIds(c),p=0;p<h.length;p++){f._clearTimer(h[p]);var m=f._soundById(h[p]);if(m&&!m._paused&&(m._seek=f.seek(h[p]),m._rateSeek=0,m._paused=!0,f._stopFade(h[p]),m._node))if(f._webAudio){if(!m._node.bufferSource)continue;typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),f._cleanBuffer(m._node)}else(!isNaN(m._node.duration)||m._node.duration===1/0)&&m._node.pause();arguments[1]||f._emit("pause",m?m._id:null)}return f},stop:function(c,f){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"stop",action:function(){h.stop(c)}}),h;for(var p=h._getSoundIds(c),m=0;m<p.length;m++){h._clearTimer(p[m]);var g=h._soundById(p[m]);g&&(g._seek=g._start||0,g._rateSeek=0,g._paused=!0,g._ended=!0,h._stopFade(p[m]),g._node&&(h._webAudio?g._node.bufferSource&&(typeof g._node.bufferSource.stop>"u"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),h._cleanBuffer(g._node)):(!isNaN(g._node.duration)||g._node.duration===1/0)&&(g._node.currentTime=g._start||0,g._node.pause(),g._node.duration===1/0&&h._clearSound(g._node))),f||h._emit("stop",g._id))}return h},mute:function(c,f){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"mute",action:function(){h.mute(c,f)}}),h;if(typeof f>"u")if(typeof c=="boolean")h._muted=c;else return h._muted;for(var p=h._getSoundIds(f),m=0;m<p.length;m++){var g=h._soundById(p[m]);g&&(g._muted=c,g._interval&&h._stopFade(g._id),h._webAudio&&g._node?g._node.gain.setValueAtTime(c?0:g._volume,i.ctx.currentTime):g._node&&(g._node.muted=i._muted?!0:c),h._emit("mute",g._id))}return h},volume:function(){var c=this,f=arguments,h,p;if(f.length===0)return c._volume;if(f.length===1||f.length===2&&typeof f[1]>"u"){var m=c._getSoundIds(),g=m.indexOf(f[0]);g>=0?p=parseInt(f[0],10):h=parseFloat(f[0])}else f.length>=2&&(h=parseFloat(f[0]),p=parseInt(f[1],10));var v;if(typeof h<"u"&&h>=0&&h<=1){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"volume",action:function(){c.volume.apply(c,f)}}),c;typeof p>"u"&&(c._volume=h),p=c._getSoundIds(p);for(var y=0;y<p.length;y++)v=c._soundById(p[y]),v&&(v._volume=h,f[2]||c._stopFade(p[y]),c._webAudio&&v._node&&!v._muted?v._node.gain.setValueAtTime(h,i.ctx.currentTime):v._node&&!v._muted&&(v._node.volume=h*i.volume()),c._emit("volume",v._id))}else return v=p?c._soundById(p):c._sounds[0],v?v._volume:0;return c},fade:function(c,f,h,p){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"fade",action:function(){m.fade(c,f,h,p)}}),m;c=Math.min(Math.max(0,parseFloat(c)),1),f=Math.min(Math.max(0,parseFloat(f)),1),h=parseFloat(h),m.volume(c,p);for(var g=m._getSoundIds(p),v=0;v<g.length;v++){var y=m._soundById(g[v]);if(y){if(p||m._stopFade(g[v]),m._webAudio&&!y._muted){var b=i.ctx.currentTime,_=b+h/1e3;y._volume=c,y._node.gain.setValueAtTime(c,b),y._node.gain.linearRampToValueAtTime(f,_)}m._startFadeInterval(y,c,f,h,g[v],typeof p>"u")}}return m},_startFadeInterval:function(c,f,h,p,m,g){var v=this,y=f,b=h-f,_=Math.abs(b/.01),x=Math.max(4,_>0?p/_:p),k=Date.now();c._fadeTo=h,c._interval=setInterval(function(){var w=(Date.now()-k)/p;k=Date.now(),y+=b*w,y=Math.round(y*100)/100,b<0?y=Math.max(h,y):y=Math.min(h,y),v._webAudio?c._volume=y:v.volume(y,c._id,!0),g&&(v._volume=y),(h<f&&y<=h||h>f&&y>=h)&&(clearInterval(c._interval),c._interval=null,c._fadeTo=null,v.volume(h,c._id),v._emit("fade",c._id))},x)},_stopFade:function(c){var f=this,h=f._soundById(c);return h&&h._interval&&(f._webAudio&&h._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(h._interval),h._interval=null,f.volume(h._fadeTo,c),h._fadeTo=null,f._emit("fade",c)),f},loop:function(){var c=this,f=arguments,h,p,m;if(f.length===0)return c._loop;if(f.length===1)if(typeof f[0]=="boolean")h=f[0],c._loop=h;else return m=c._soundById(parseInt(f[0],10)),m?m._loop:!1;else f.length===2&&(h=f[0],p=parseInt(f[1],10));for(var g=c._getSoundIds(p),v=0;v<g.length;v++)m=c._soundById(g[v]),m&&(m._loop=h,c._webAudio&&m._node&&m._node.bufferSource&&(m._node.bufferSource.loop=h,h&&(m._node.bufferSource.loopStart=m._start||0,m._node.bufferSource.loopEnd=m._stop,c.playing(g[v])&&(c.pause(g[v],!0),c.play(g[v],!0)))));return c},rate:function(){var c=this,f=arguments,h,p;if(f.length===0)p=c._sounds[0]._id;else if(f.length===1){var m=c._getSoundIds(),g=m.indexOf(f[0]);g>=0?p=parseInt(f[0],10):h=parseFloat(f[0])}else f.length===2&&(h=parseFloat(f[0]),p=parseInt(f[1],10));var v;if(typeof h=="number"){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"rate",action:function(){c.rate.apply(c,f)}}),c;typeof p>"u"&&(c._rate=h),p=c._getSoundIds(p);for(var y=0;y<p.length;y++)if(v=c._soundById(p[y]),v){c.playing(p[y])&&(v._rateSeek=c.seek(p[y]),v._playStart=c._webAudio?i.ctx.currentTime:v._playStart),v._rate=h,c._webAudio&&v._node&&v._node.bufferSource?v._node.bufferSource.playbackRate.setValueAtTime(h,i.ctx.currentTime):v._node&&(v._node.playbackRate=h);var b=c.seek(p[y]),_=(c._sprite[v._sprite][0]+c._sprite[v._sprite][1])/1e3-b,x=_*1e3/Math.abs(v._rate);(c._endTimers[p[y]]||!v._paused)&&(c._clearTimer(p[y]),c._endTimers[p[y]]=setTimeout(c._ended.bind(c,v),x)),c._emit("rate",v._id)}}else return v=c._soundById(p),v?v._rate:c._rate;return c},seek:function(){var c=this,f=arguments,h,p;if(f.length===0)c._sounds.length&&(p=c._sounds[0]._id);else if(f.length===1){var m=c._getSoundIds(),g=m.indexOf(f[0]);g>=0?p=parseInt(f[0],10):c._sounds.length&&(p=c._sounds[0]._id,h=parseFloat(f[0]))}else f.length===2&&(h=parseFloat(f[0]),p=parseInt(f[1],10));if(typeof p>"u")return 0;if(typeof h=="number"&&(c._state!=="loaded"||c._playLock))return c._queue.push({event:"seek",action:function(){c.seek.apply(c,f)}}),c;var v=c._soundById(p);if(v)if(typeof h=="number"&&h>=0){var y=c.playing(p);y&&c.pause(p,!0),v._seek=h,v._ended=!1,c._clearTimer(p),!c._webAudio&&v._node&&!isNaN(v._node.duration)&&(v._node.currentTime=h);var b=function(){y&&c.play(p,!0),c._emit("seek",p)};if(y&&!c._webAudio){var _=function(){c._playLock?setTimeout(_,0):b()};setTimeout(_,0)}else b()}else if(c._webAudio){var x=c.playing(p)?i.ctx.currentTime-v._playStart:0,k=v._rateSeek?v._rateSeek-v._seek:0;return v._seek+(k+x*Math.abs(v._rate))}else return v._node.currentTime;return c},playing:function(c){var f=this;if(typeof c=="number"){var h=f._soundById(c);return h?!h._paused:!1}for(var p=0;p<f._sounds.length;p++)if(!f._sounds[p]._paused)return!0;return!1},duration:function(c){var f=this,h=f._duration,p=f._soundById(c);return p&&(h=f._sprite[p._sprite][1]/1e3),h},state:function(){return this._state},unload:function(){for(var c=this,f=c._sounds,h=0;h<f.length;h++)f[h]._paused||c.stop(f[h]._id),c._webAudio||(c._clearSound(f[h]._node),f[h]._node.removeEventListener("error",f[h]._errorFn,!1),f[h]._node.removeEventListener(i._canPlayEvent,f[h]._loadFn,!1),f[h]._node.removeEventListener("ended",f[h]._endFn,!1),i._releaseHtml5Audio(f[h]._node)),delete f[h]._node,c._clearTimer(f[h]._id);var p=i._howls.indexOf(c);p>=0&&i._howls.splice(p,1);var m=!0;for(h=0;h<i._howls.length;h++)if(i._howls[h]._src===c._src||c._src.indexOf(i._howls[h]._src)>=0){m=!1;break}return a&&m&&delete a[c._src],i.noAudio=!1,c._state="unloaded",c._sounds=[],c=null,null},on:function(c,f,h,p){var m=this,g=m["_on"+c];return typeof f=="function"&&g.push(p?{id:h,fn:f,once:p}:{id:h,fn:f}),m},off:function(c,f,h){var p=this,m=p["_on"+c],g=0;if(typeof f=="number"&&(h=f,f=null),f||h)for(g=0;g<m.length;g++){var v=h===m[g].id;if(f===m[g].fn&&v||!f&&v){m.splice(g,1);break}}else if(c)p["_on"+c]=[];else{var y=Object.keys(p);for(g=0;g<y.length;g++)y[g].indexOf("_on")===0&&Array.isArray(p[y[g]])&&(p[y[g]]=[])}return p},once:function(c,f,h){var p=this;return p.on(c,f,h,1),p},_emit:function(c,f,h){for(var p=this,m=p["_on"+c],g=m.length-1;g>=0;g--)(!m[g].id||m[g].id===f||c==="load")&&(setTimeout(function(v){v.call(this,f,h)}.bind(p,m[g].fn),0),m[g].once&&p.off(c,m[g].fn,m[g].id));return p._loadQueue(c),p},_loadQueue:function(c){var f=this;if(f._queue.length>0){var h=f._queue[0];h.event===c&&(f._queue.shift(),f._loadQueue()),c||h.action()}return f},_ended:function(c){var f=this,h=c._sprite;if(!f._webAudio&&c._node&&!c._node.paused&&!c._node.ended&&c._node.currentTime<c._stop)return setTimeout(f._ended.bind(f,c),100),f;var p=!!(c._loop||f._sprite[h][2]);if(f._emit("end",c._id),!f._webAudio&&p&&f.stop(c._id,!0).play(c._id),f._webAudio&&p){f._emit("play",c._id),c._seek=c._start||0,c._rateSeek=0,c._playStart=i.ctx.currentTime;var m=(c._stop-c._start)*1e3/Math.abs(c._rate);f._endTimers[c._id]=setTimeout(f._ended.bind(f,c),m)}return f._webAudio&&!p&&(c._paused=!0,c._ended=!0,c._seek=c._start||0,c._rateSeek=0,f._clearTimer(c._id),f._cleanBuffer(c._node),i._autoSuspend()),!f._webAudio&&!p&&f.stop(c._id,!0),f},_clearTimer:function(c){var f=this;if(f._endTimers[c]){if(typeof f._endTimers[c]!="function")clearTimeout(f._endTimers[c]);else{var h=f._soundById(c);h&&h._node&&h._node.removeEventListener("ended",f._endTimers[c],!1)}delete f._endTimers[c]}return f},_soundById:function(c){for(var f=this,h=0;h<f._sounds.length;h++)if(c===f._sounds[h]._id)return f._sounds[h];return null},_inactiveSound:function(){var c=this;c._drain();for(var f=0;f<c._sounds.length;f++)if(c._sounds[f]._ended)return c._sounds[f].reset();return new r(c)},_drain:function(){var c=this,f=c._pool,h=0,p=0;if(!(c._sounds.length<f)){for(p=0;p<c._sounds.length;p++)c._sounds[p]._ended&&h++;for(p=c._sounds.length-1;p>=0;p--){if(h<=f)return;c._sounds[p]._ended&&(c._webAudio&&c._sounds[p]._node&&c._sounds[p]._node.disconnect(0),c._sounds.splice(p,1),h--)}}},_getSoundIds:function(c){var f=this;if(typeof c>"u"){for(var h=[],p=0;p<f._sounds.length;p++)h.push(f._sounds[p]._id);return h}else return[c]},_refreshBuffer:function(c){var f=this;return c._node.bufferSource=i.ctx.createBufferSource(),c._node.bufferSource.buffer=a[f._src],c._panner?c._node.bufferSource.connect(c._panner):c._node.bufferSource.connect(c._node),c._node.bufferSource.loop=c._loop,c._loop&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop||0),c._node.bufferSource.playbackRate.setValueAtTime(c._rate,i.ctx.currentTime),f},_cleanBuffer:function(c){var f=this,h=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&c.bufferSource&&(c.bufferSource.onended=null,c.bufferSource.disconnect(0),h))try{c.bufferSource.buffer=i._scratchBuffer}catch(p){}return c.bufferSource=null,f},_clearSound:function(c){var f=/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent);f||(c.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var r=function(c){this._parent=c,this.init()};r.prototype={init:function(){var c=this,f=c._parent;return c._muted=f._muted,c._loop=f._loop,c._volume=f._volume,c._rate=f._rate,c._seek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++i._counter,f._sounds.push(c),c.create(),c},create:function(){var c=this,f=c._parent,h=i._muted||c._muted||c._parent._muted?0:c._volume;return f._webAudio?(c._node=typeof i.ctx.createGain>"u"?i.ctx.createGainNode():i.ctx.createGain(),c._node.gain.setValueAtTime(h,i.ctx.currentTime),c._node.paused=!0,c._node.connect(i.masterGain)):i.noAudio||(c._node=i._obtainHtml5Audio(),c._errorFn=c._errorListener.bind(c),c._node.addEventListener("error",c._errorFn,!1),c._loadFn=c._loadListener.bind(c),c._node.addEventListener(i._canPlayEvent,c._loadFn,!1),c._endFn=c._endListener.bind(c),c._node.addEventListener("ended",c._endFn,!1),c._node.src=f._src,c._node.preload=f._preload===!0?"auto":f._preload,c._node.volume=h*i.volume(),c._node.load()),c},reset:function(){var c=this,f=c._parent;return c._muted=f._muted,c._loop=f._loop,c._volume=f._volume,c._rate=f._rate,c._seek=0,c._rateSeek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++i._counter,c},_errorListener:function(){var c=this;c._parent._emit("loaderror",c._id,c._node.error?c._node.error.code:0),c._node.removeEventListener("error",c._errorFn,!1)},_loadListener:function(){var c=this,f=c._parent;f._duration=Math.ceil(c._node.duration*10)/10,Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue()),c._node.removeEventListener(i._canPlayEvent,c._loadFn,!1)},_endListener:function(){var c=this,f=c._parent;f._duration===1/0&&(f._duration=Math.ceil(c._node.duration*10)/10,f._sprite.__default[1]===1/0&&(f._sprite.__default[1]=f._duration*1e3),f._ended(c)),c._node.removeEventListener("ended",c._endFn,!1)}};var a={},s=function(c){var f=c._src;if(a[f]){c._duration=a[f].duration,d(c);return}if(/^data:[^;]+;base64,/.test(f)){for(var h=atob(f.split(",")[1]),p=new Uint8Array(h.length),m=0;m<h.length;++m)p[m]=h.charCodeAt(m);l(p.buffer,c)}else{var g=new XMLHttpRequest;g.open(c._xhr.method,f,!0),g.withCredentials=c._xhr.withCredentials,g.responseType="arraybuffer",c._xhr.headers&&Object.keys(c._xhr.headers).forEach(function(v){g.setRequestHeader(v,c._xhr.headers[v])}),g.onload=function(){var v=(g.status+"")[0];if(v!=="0"&&v!=="2"&&v!=="3"){c._emit("loaderror",null,"Failed loading audio file with status: "+g.status+".");return}l(g.response,c)},g.onerror=function(){c._webAudio&&(c._html5=!0,c._webAudio=!1,c._sounds=[],delete a[f],c.load())},o(g)}},o=function(c){try{c.send()}catch(f){c.onerror()}},l=function(c,f){var h=function(){f._emit("loaderror",null,"Decoding audio data failed.")},p=function(m){m&&f._sounds.length>0?(a[f._src]=m,d(f,m)):h()};typeof Promise<"u"&&i.ctx.decodeAudioData.length===1?i.ctx.decodeAudioData(c).then(p).catch(h):i.ctx.decodeAudioData(c,p,h)},d=function(c,f){f&&!c._duration&&(c._duration=f.duration),Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue())},u=function(){if(i.usingWebAudio){try{typeof AudioContext<"u"?i.ctx=new AudioContext:typeof webkitAudioContext<"u"?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(m){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var c=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),f=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),h=f?parseInt(f[1],10):null;if(c&&h&&h<9){var p=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!p&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=typeof i.ctx.createGain>"u"?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};typeof define=="function"&&define.amd&&define([],function(){return{Howler:i,Howl:n}}),typeof e<"u"&&(e.Howler=i,e.Howl=n),typeof global<"u"?(global.HowlerGlobal=t,global.Howler=i,global.Howl=n,global.Sound=r):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=i,window.Howl=n,window.Sound=r)})(),function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(i){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var r=n._howls.length-1;r>=0;r--)n._howls[r].stereo(i);return n},HowlerGlobal.prototype.pos=function(i,n,r){var a=this;if(!a.ctx||!a.ctx.listener)return a;if(n=typeof n!="number"?a._pos[1]:n,r=typeof r!="number"?a._pos[2]:r,typeof i=="number")a._pos=[i,n,r],typeof a.ctx.listener.positionX<"u"?(a.ctx.listener.positionX.setTargetAtTime(a._pos[0],Howler.ctx.currentTime,.1),a.ctx.listener.positionY.setTargetAtTime(a._pos[1],Howler.ctx.currentTime,.1),a.ctx.listener.positionZ.setTargetAtTime(a._pos[2],Howler.ctx.currentTime,.1)):a.ctx.listener.setPosition(a._pos[0],a._pos[1],a._pos[2]);else return a._pos;return a},HowlerGlobal.prototype.orientation=function(i,n,r,a,s,o){var l=this;if(!l.ctx||!l.ctx.listener)return l;var d=l._orientation;if(n=typeof n!="number"?d[1]:n,r=typeof r!="number"?d[2]:r,a=typeof a!="number"?d[3]:a,s=typeof s!="number"?d[4]:s,o=typeof o!="number"?d[5]:o,typeof i=="number")l._orientation=[i,n,r,a,s,o],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(a,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(i,n,r,a,s,o);else return d;return l},Howl.prototype.init=function(i){return function(n){var r=this;return r._orientation=n.orientation||[1,0,0],r._stereo=n.stereo||null,r._pos=n.pos||null,r._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},r._onstereo=n.onstereo?[{fn:n.onstereo}]:[],r._onpos=n.onpos?[{fn:n.onpos}]:[],r._onorientation=n.onorientation?[{fn:n.onorientation}]:[],i.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(i,n){var r=this;if(!r._webAudio)return r;if(r._state!=="loaded")return r._queue.push({event:"stereo",action:function(){r.stereo(i,n)}}),r;var a=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof i=="number")r._stereo=i,r._pos=[i,0,0];else return r._stereo;for(var s=r._getSoundIds(n),o=0;o<s.length;o++){var l=r._soundById(s[o]);if(l)if(typeof i=="number")l._stereo=i,l._pos=[i,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&t(l,a),a==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(i,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(i,0,0):l._panner.pan.setValueAtTime(i,Howler.ctx.currentTime)),r._emit("stereo",l._id);else return l._stereo}return r},Howl.prototype.pos=function(i,n,r,a){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"pos",action:function(){s.pos(i,n,r,a)}}),s;if(n=typeof n!="number"?0:n,r=typeof r!="number"?-.5:r,typeof a>"u")if(typeof i=="number")s._pos=[i,n,r];else return s._pos;for(var o=s._getSoundIds(a),l=0;l<o.length;l++){var d=s._soundById(o[l]);if(d)if(typeof i=="number")d._pos=[i,n,r],d._node&&((!d._panner||d._panner.pan)&&t(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(i,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):d._panner.setPosition(i,n,r)),s._emit("pos",d._id);else return d._pos}return s},Howl.prototype.orientation=function(i,n,r,a){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"orientation",action:function(){s.orientation(i,n,r,a)}}),s;if(n=typeof n!="number"?s._orientation[1]:n,r=typeof r!="number"?s._orientation[2]:r,typeof a>"u")if(typeof i=="number")s._orientation=[i,n,r];else return s._orientation;for(var o=s._getSoundIds(a),l=0;l<o.length;l++){var d=s._soundById(o[l]);if(d)if(typeof i=="number")d._orientation=[i,n,r],d._node&&(d._panner||(d._pos||(d._pos=s._pos||[0,0,-.5]),t(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(i,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):d._panner.setOrientation(i,n,r)),s._emit("orientation",d._id);else return d._orientation}return s},Howl.prototype.pannerAttr=function(){var i=this,n=arguments,r,a,s;if(!i._webAudio)return i;if(n.length===0)return i._pannerAttr;if(n.length===1)if(typeof n[0]=="object")r=n[0],typeof a>"u"&&(r.pannerAttr||(r.pannerAttr={coneInnerAngle:r.coneInnerAngle,coneOuterAngle:r.coneOuterAngle,coneOuterGain:r.coneOuterGain,distanceModel:r.distanceModel,maxDistance:r.maxDistance,refDistance:r.refDistance,rolloffFactor:r.rolloffFactor,panningModel:r.panningModel}),i._pannerAttr={coneInnerAngle:typeof r.pannerAttr.coneInnerAngle<"u"?r.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:typeof r.pannerAttr.coneOuterAngle<"u"?r.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:typeof r.pannerAttr.coneOuterGain<"u"?r.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:typeof r.pannerAttr.distanceModel<"u"?r.pannerAttr.distanceModel:i._distanceModel,maxDistance:typeof r.pannerAttr.maxDistance<"u"?r.pannerAttr.maxDistance:i._maxDistance,refDistance:typeof r.pannerAttr.refDistance<"u"?r.pannerAttr.refDistance:i._refDistance,rolloffFactor:typeof r.pannerAttr.rolloffFactor<"u"?r.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:typeof r.pannerAttr.panningModel<"u"?r.pannerAttr.panningModel:i._panningModel});else return s=i._soundById(parseInt(n[0],10)),s?s._pannerAttr:i._pannerAttr;else n.length===2&&(r=n[0],a=parseInt(n[1],10));for(var o=i._getSoundIds(a),l=0;l<o.length;l++)if(s=i._soundById(o[l]),s){var d=s._pannerAttr;d={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:d.coneOuterGain,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:d.distanceModel,maxDistance:typeof r.maxDistance<"u"?r.maxDistance:d.maxDistance,refDistance:typeof r.refDistance<"u"?r.refDistance:d.refDistance,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:d.rolloffFactor,panningModel:typeof r.panningModel<"u"?r.panningModel:d.panningModel};var u=s._panner;u?(u.coneInnerAngle=d.coneInnerAngle,u.coneOuterAngle=d.coneOuterAngle,u.coneOuterGain=d.coneOuterGain,u.distanceModel=d.distanceModel,u.maxDistance=d.maxDistance,u.refDistance=d.refDistance,u.rolloffFactor=d.rolloffFactor,u.panningModel=d.panningModel):(s._pos||(s._pos=i._pos||[0,0,-.5]),t(s,"spatial"))}return i},Sound.prototype.init=function(i){return function(){var n=this,r=n._parent;n._orientation=r._orientation,n._stereo=r._stereo,n._pos=r._pos,n._pannerAttr=r._pannerAttr,i.call(this),n._stereo?r.stereo(n._stereo):n._pos&&r.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(i){return function(){var n=this,r=n._parent;return n._orientation=r._orientation,n._stereo=r._stereo,n._pos=r._pos,n._pannerAttr=r._pannerAttr,n._stereo?r.stereo(n._stereo):n._pos?r.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,r._refreshBuffer(n)),i.call(this)}}(Sound.prototype.reset);var t=function(i,n){n=n||"spatial",n==="spatial"?(i._panner=Howler.ctx.createPanner(),i._panner.coneInnerAngle=i._pannerAttr.coneInnerAngle,i._panner.coneOuterAngle=i._pannerAttr.coneOuterAngle,i._panner.coneOuterGain=i._pannerAttr.coneOuterGain,i._panner.distanceModel=i._pannerAttr.distanceModel,i._panner.maxDistance=i._pannerAttr.maxDistance,i._panner.refDistance=i._pannerAttr.refDistance,i._panner.rolloffFactor=i._pannerAttr.rolloffFactor,i._panner.panningModel=i._pannerAttr.panningModel,typeof i._panner.positionX<"u"?(i._panner.positionX.setValueAtTime(i._pos[0],Howler.ctx.currentTime),i._panner.positionY.setValueAtTime(i._pos[1],Howler.ctx.currentTime),i._panner.positionZ.setValueAtTime(i._pos[2],Howler.ctx.currentTime)):i._panner.setPosition(i._pos[0],i._pos[1],i._pos[2]),typeof i._panner.orientationX<"u"?(i._panner.orientationX.setValueAtTime(i._orientation[0],Howler.ctx.currentTime),i._panner.orientationY.setValueAtTime(i._orientation[1],Howler.ctx.currentTime),i._panner.orientationZ.setValueAtTime(i._orientation[2],Howler.ctx.currentTime)):i._panner.setOrientation(i._orientation[0],i._orientation[1],i._orientation[2])):(i._panner=Howler.ctx.createStereoPanner(),i._panner.pan.setValueAtTime(i._stereo,Howler.ctx.currentTime)),i._panner.connect(i._node),i._paused||i._parent.pause(i._id,!0).play(i._id,!0)}}()}),PB=Zn((e,t)=>{"use strict";function i(n){for(var r=new Array(n),a=0;a<n;++a)r[a]=a;return r}t.exports=i}),IB=Zn((e,t)=>{t.exports=function(r){return r!=null&&(i(r)||n(r)||!!r._isBuffer)};function i(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function n(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&i(r.slice(0,0))}}),Ju=Zn((e,t)=>{var i=PB(),n=IB(),r=typeof Float64Array<"u";function a(c,f){return c[0]-f[0]}function s(){var c=this.stride,f=new Array(c.length),h;for(h=0;h<f.length;++h)f[h]=[Math.abs(c[h]),h];f.sort(a);var p=new Array(f.length);for(h=0;h<p.length;++h)p[h]=f[h][1];return p}function o(c,f){var h=["View",f,"d",c].join("");f<0&&(h="View_Nil"+c);var p=c==="generic";if(f===-1){var m="function "+h+"(a){this.data=a;};var proto="+h+".prototype;proto.dtype='"+c+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+h+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+h+"(a){return new "+h+"(a);}",M=new Function(m);return M()}else if(f===0){var m="function "+h+"(a,d) {this.data = a;this.offset = d};var proto="+h+".prototype;proto.dtype='"+c+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+h+"_copy() {return new "+h+"(this.data,this.offset)};proto.pick=function "+h+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+h+"_get(){return "+(p?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+h+"_set(v){return "+(p?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+h+"(a,b,c,d){return new "+h+"(a,d)}",M=new Function("TrivialArray",m);return M(d[c][0])}var m=["'use strict'"],g=i(f),v=g.map(function(C){return"i"+C}),y="this.offset+"+g.map(function(C){return"this.stride["+C+"]*i"+C}).join("+"),b=g.map(function(C){return"b"+C}).join(","),_=g.map(function(C){return"c"+C}).join(",");m.push("function "+h+"(a,"+b+","+_+",d){this.data=a","this.shape=["+b+"]","this.stride=["+_+"]","this.offset=d|0}","var proto="+h+".prototype","proto.dtype='"+c+"'","proto.dimension="+f),m.push("Object.defineProperty(proto,'size',{get:function "+h+"_size(){return "+g.map(function(C){return"this.shape["+C+"]"}).join("*"),"}})"),f===1?m.push("proto.order=[0]"):(m.push("Object.defineProperty(proto,'order',{get:"),f<4?(m.push("function "+h+"_order(){"),f===2?m.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):f===3&&m.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):m.push("ORDER})")),m.push("proto.set=function "+h+"_set("+v.join(",")+",v){"),p?m.push("return this.data.set("+y+",v)}"):m.push("return this.data["+y+"]=v}"),m.push("proto.get=function "+h+"_get("+v.join(",")+"){"),p?m.push("return this.data.get("+y+")}"):m.push("return this.data["+y+"]}"),m.push("proto.index=function "+h+"_index(",v.join(),"){return "+y+"}"),m.push("proto.hi=function "+h+"_hi("+v.join(",")+"){return new "+h+"(this.data,"+g.map(function(C){return["(typeof i",C,"!=='number'||i",C,"<0)?this.shape[",C,"]:i",C,"|0"].join("")}).join(",")+","+g.map(function(C){return"this.stride["+C+"]"}).join(",")+",this.offset)}");var x=g.map(function(C){return"a"+C+"=this.shape["+C+"]"}),k=g.map(function(C){return"c"+C+"=this.stride["+C+"]"});m.push("proto.lo=function "+h+"_lo("+v.join(",")+"){var b=this.offset,d=0,"+x.join(",")+","+k.join(","));for(var w=0;w<f;++w)m.push("if(typeof i"+w+"==='number'&&i"+w+">=0){d=i"+w+"|0;b+=c"+w+"*d;a"+w+"-=d}");m.push("return new "+h+"(this.data,"+g.map(function(C){return"a"+C}).join(",")+","+g.map(function(C){return"c"+C}).join(",")+",b)}"),m.push("proto.step=function "+h+"_step("+v.join(",")+"){var "+g.map(function(C){return"a"+C+"=this.shape["+C+"]"}).join(",")+","+g.map(function(C){return"b"+C+"=this.stride["+C+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var w=0;w<f;++w)m.push("if(typeof i"+w+"==='number'){d=i"+w+"|0;if(d<0){c+=b"+w+"*(a"+w+"-1);a"+w+"=ceil(-a"+w+"/d)}else{a"+w+"=ceil(a"+w+"/d)}b"+w+"*=d}");m.push("return new "+h+"(this.data,"+g.map(function(C){return"a"+C}).join(",")+","+g.map(function(C){return"b"+C}).join(",")+",c)}");for(var S=new Array(f),A=new Array(f),w=0;w<f;++w)S[w]="a[i"+w+"]",A[w]="b[i"+w+"]";m.push("proto.transpose=function "+h+"_transpose("+v+"){"+v.map(function(C,T){return C+"=("+C+"===undefined?"+T+":"+C+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+h+"(this.data,"+S.join(",")+","+A.join(",")+",this.offset)}"),m.push("proto.pick=function "+h+"_pick("+v+"){var a=[],b=[],c=this.offset");for(var w=0;w<f;++w)m.push("if(typeof i"+w+"==='number'&&i"+w+">=0){c=(c+this.stride["+w+"]*i"+w+")|0}else{a.push(this.shape["+w+"]);b.push(this.stride["+w+"])}");m.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),m.push("return function construct_"+h+"(data,shape,stride,offset){return new "+h+"(data,"+g.map(function(C){return"shape["+C+"]"}).join(",")+","+g.map(function(C){return"stride["+C+"]"}).join(",")+",offset)}");var M=new Function("CTOR_LIST","ORDER",m.join(`
`));return M(d[c],s)}function l(c){if(n(c))return"buffer";if(r)switch(Object.prototype.toString.call(c)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(c)?"array":"generic"}var d={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function u(c,f,h,p){if(c===void 0){var _=d.array[0];return _([])}else typeof c=="number"&&(c=[c]);f===void 0&&(f=[c.length]);var m=f.length;if(h===void 0){h=new Array(m);for(var g=m-1,v=1;g>=0;--g)h[g]=v,v*=f[g]}if(p===void 0){p=0;for(var g=0;g<m;++g)h[g]<0&&(p-=(f[g]-1)*h[g])}for(var y=l(c),b=d[y];b.length<=m+1;)b.push(o(y,b.length-1));var _=b[m+1];return _(c,f,h,p)}t.exports=u}),OB=Zn((e,t)=>{"use strict";function i(a,s){for(var o=1,l=a.length,d=a[0],u=a[0],c=1;c<l;++c)if(u=d,d=a[c],s(d,u)){if(c===o){o++;continue}a[o++]=d}return a.length=o,a}function n(a){for(var s=1,o=a.length,l=a[0],d=a[0],u=1;u<o;++u,d=l)if(d=l,l=a[u],l!==d){if(u===s){s++;continue}a[s++]=l}return a.length=s,a}function r(a,s,o){return a.length===0?a:s?(o||a.sort(s),i(a,s)):(o||a.sort(),n(a))}t.exports=r}),jB=Zn((e,t)=>{"use strict";var i=OB();function n(d,u,c){var f=d.length,h=u.arrayArgs.length,p=u.indexArgs.length>0,m=[],g=[],v=0,y=0,b,_;for(b=0;b<f;++b)g.push(["i",b,"=0"].join(""));for(_=0;_<h;++_)for(b=0;b<f;++b)y=v,v=d[b],b===0?g.push(["d",_,"s",b,"=t",_,"p",v].join("")):g.push(["d",_,"s",b,"=(t",_,"p",v,"-s",y,"*t",_,"p",y,")"].join(""));for(g.length>0&&m.push("var "+g.join(",")),b=f-1;b>=0;--b)v=d[b],m.push(["for(i",b,"=0;i",b,"<s",v,";++i",b,"){"].join(""));for(m.push(c),b=0;b<f;++b){for(y=v,v=d[b],_=0;_<h;++_)m.push(["p",_,"+=d",_,"s",b].join(""));p&&(b>0&&m.push(["index[",y,"]-=s",y].join("")),m.push(["++index[",v,"]"].join(""))),m.push("}")}return m.join(`
`)}function r(d,u,c,f){for(var h=u.length,p=c.arrayArgs.length,m=c.blockSize,g=c.indexArgs.length>0,v=[],y=0;y<p;++y)v.push(["var offset",y,"=p",y].join(""));for(var y=d;y<h;++y)v.push(["for(var j"+y+"=SS[",u[y],"]|0;j",y,">0;){"].join("")),v.push(["if(j",y,"<",m,"){"].join("")),v.push(["s",u[y],"=j",y].join("")),v.push(["j",y,"=0"].join("")),v.push(["}else{s",u[y],"=",m].join("")),v.push(["j",y,"-=",m,"}"].join("")),g&&v.push(["index[",u[y],"]=j",y].join(""));for(var y=0;y<p;++y){for(var b=["offset"+y],_=d;_<h;++_)b.push(["j",_,"*t",y,"p",u[_]].join(""));v.push(["p",y,"=(",b.join("+"),")"].join(""))}v.push(n(u,c,f));for(var y=d;y<h;++y)v.push("}");return v.join(`
`)}function a(d){for(var u=0,c=d[0].length;u<c;){for(var f=1;f<d.length;++f)if(d[f][u]!==d[0][u])return u;++u}return u}function s(d,u,c){for(var f=d.body,h=[],p=[],m=0;m<d.args.length;++m){var g=d.args[m];if(!(g.count<=0)){var v=new RegExp(g.name,"g"),y="",b=u.arrayArgs.indexOf(m);switch(u.argTypes[m]){case"offset":var _=u.offsetArgIndex.indexOf(m),x=u.offsetArgs[_];b=x.array,y="+q"+_;case"array":y="p"+b+y;var k="l"+m,w="a"+b;if(u.arrayBlockIndices[b]===0)g.count===1?c[b]==="generic"?g.lvalue?(h.push(["var ",k,"=",w,".get(",y,")"].join("")),f=f.replace(v,k),p.push([w,".set(",y,",",k,")"].join(""))):f=f.replace(v,[w,".get(",y,")"].join("")):f=f.replace(v,[w,"[",y,"]"].join("")):c[b]==="generic"?(h.push(["var ",k,"=",w,".get(",y,")"].join("")),f=f.replace(v,k),g.lvalue&&p.push([w,".set(",y,",",k,")"].join(""))):(h.push(["var ",k,"=",w,"[",y,"]"].join("")),f=f.replace(v,k),g.lvalue&&p.push([w,"[",y,"]=",k].join("")));else{for(var S=[g.name],A=[y],M=0;M<Math.abs(u.arrayBlockIndices[b]);M++)S.push("\\s*\\[([^\\]]+)\\]"),A.push("$"+(M+1)+"*t"+b+"b"+M);if(v=new RegExp(S.join(""),"g"),y=A.join("+"),c[b]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");f=f.replace(v,[w,"[",y,"]"].join(""))}break;case"scalar":f=f.replace(v,"Y"+u.scalarArgs.indexOf(m));break;case"index":f=f.replace(v,"index");break;case"shape":f=f.replace(v,"shape");break}}}return[h.join(`
`),f,p.join(`
`)].join(`
`).trim()}function o(d){for(var u=new Array(d.length),c=!0,f=0;f<d.length;++f){var h=d[f],p=h.match(/\d+/);p?p=p[0]:p="",h.charAt(0)===0?u[f]="u"+h.charAt(1)+p:u[f]=h.charAt(0)+p,f>0&&(c=c&&u[f]===u[f-1])}return c?u[0]:u.join("")}function l(d,u){for(var c=u[1].length-Math.abs(d.arrayBlockIndices[0])|0,f=new Array(d.arrayArgs.length),h=new Array(d.arrayArgs.length),p=0;p<d.arrayArgs.length;++p)h[p]=u[2*p],f[p]=u[2*p+1];for(var m=[],g=[],v=[],y=[],b=[],p=0;p<d.arrayArgs.length;++p){d.arrayBlockIndices[p]<0?(v.push(0),y.push(c),m.push(c),g.push(c+d.arrayBlockIndices[p])):(v.push(d.arrayBlockIndices[p]),y.push(d.arrayBlockIndices[p]+c),m.push(0),g.push(d.arrayBlockIndices[p]));for(var _=[],x=0;x<f[p].length;x++)v[p]<=f[p][x]&&f[p][x]<y[p]&&_.push(f[p][x]-v[p]);b.push(_)}for(var k=["SS"],w=["'use strict'"],S=[],x=0;x<c;++x)S.push(["s",x,"=SS[",x,"]"].join(""));for(var p=0;p<d.arrayArgs.length;++p){k.push("a"+p),k.push("t"+p),k.push("p"+p);for(var x=0;x<c;++x)S.push(["t",p,"p",x,"=t",p,"[",v[p]+x,"]"].join(""));for(var x=0;x<Math.abs(d.arrayBlockIndices[p]);++x)S.push(["t",p,"b",x,"=t",p,"[",m[p]+x,"]"].join(""))}for(var p=0;p<d.scalarArgs.length;++p)k.push("Y"+p);if(d.shapeArgs.length>0&&S.push("shape=SS.slice(0)"),d.indexArgs.length>0){for(var A=new Array(c),p=0;p<c;++p)A[p]="0";S.push(["index=[",A.join(","),"]"].join(""))}for(var p=0;p<d.offsetArgs.length;++p){for(var M=d.offsetArgs[p],C=[],x=0;x<M.offset.length;++x)M.offset[x]!==0&&(M.offset[x]===1?C.push(["t",M.array,"p",x].join("")):C.push([M.offset[x],"*t",M.array,"p",x].join("")));C.length===0?S.push("q"+p+"=0"):S.push(["q",p,"=",C.join("+")].join(""))}var T=i([].concat(d.pre.thisVars).concat(d.body.thisVars).concat(d.post.thisVars));S=S.concat(T),S.length>0&&w.push("var "+S.join(","));for(var p=0;p<d.arrayArgs.length;++p)w.push("p"+p+"|=0");d.pre.body.length>3&&w.push(s(d.pre,d,h));var P=s(d.body,d,h),I=a(b);I<c?w.push(r(I,b[0],d,P)):w.push(n(b[0],d,P)),d.post.body.length>3&&w.push(s(d.post,d,h)),d.debug&&console.log("-----Generated cwise routine for ",u,`:
`+w.join(`
`)+`
----------`);var j=[d.funcName||"unnamed","_cwise_loop_",f[0].join("s"),"m",I,o(h)].join(""),H=new Function(["function ",j,"(",k.join(","),"){",w.join(`
`),"} return ",j].join(""));return H()}t.exports=l}),RB=Zn((e,t)=>{"use strict";var i=jB();function n(r){var a=["'use strict'","var CACHED={}"],s=[],o=r.funcName+"_cwise_thunk";a.push(["return function ",o,"(",r.shimArgs.join(","),"){"].join(""));for(var l=[],d=[],u=[["array",r.arrayArgs[0],".shape.slice(",Math.max(0,r.arrayBlockIndices[0]),r.arrayBlockIndices[0]<0?","+r.arrayBlockIndices[0]+")":")"].join("")],c=[],f=[],h=0;h<r.arrayArgs.length;++h){var p=r.arrayArgs[h];s.push(["t",p,"=array",p,".dtype,","r",p,"=array",p,".order"].join("")),l.push("t"+p),l.push("r"+p),d.push("t"+p),d.push("r"+p+".join()"),u.push("array"+p+".data"),u.push("array"+p+".stride"),u.push("array"+p+".offset|0"),h>0&&(c.push("array"+r.arrayArgs[0]+".shape.length===array"+p+".shape.length+"+(Math.abs(r.arrayBlockIndices[0])-Math.abs(r.arrayBlockIndices[h]))),f.push("array"+r.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,r.arrayBlockIndices[0])+"]===array"+p+".shape[shapeIndex+"+Math.max(0,r.arrayBlockIndices[h])+"]"))}r.arrayArgs.length>1&&(a.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),a.push("for(var shapeIndex=array"+r.arrayArgs[0]+".shape.length-"+Math.abs(r.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),a.push("if (!("+f.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),a.push("}"));for(var h=0;h<r.scalarArgs.length;++h)u.push("scalar"+r.scalarArgs[h]);s.push(["type=[",d.join(","),"].join()"].join("")),s.push("proc=CACHED[type]"),a.push("var "+s.join(",")),a.push(["if(!proc){","CACHED[type]=proc=compile([",l.join(","),"])}","return proc(",u.join(","),")}"].join("")),r.debug&&console.log(`-----Generated thunk:
`+a.join(`
`)+`
----------`);var m=new Function("compile",a.join(`
`));return m(i.bind(void 0,r))}t.exports=n}),zB=Zn((e,t)=>{"use strict";var i=RB();function n(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function r(a){var s=new n;s.pre=a.pre,s.body=a.body,s.post=a.post;var o=a.args.slice(0);s.argTypes=o;for(var l=0;l<o.length;++l){var d=o[l];if(d==="array"||typeof d=="object"&&d.blockIndices){if(s.argTypes[l]="array",s.arrayArgs.push(l),s.arrayBlockIndices.push(d.blockIndices?d.blockIndices:0),s.shimArgs.push("array"+l),l<s.pre.args.length&&s.pre.args[l].count>0)throw new Error("cwise: pre() block may not reference array args");if(l<s.post.args.length&&s.post.args[l].count>0)throw new Error("cwise: post() block may not reference array args")}else if(d==="scalar")s.scalarArgs.push(l),s.shimArgs.push("scalar"+l);else if(d==="index"){if(s.indexArgs.push(l),l<s.pre.args.length&&s.pre.args[l].count>0)throw new Error("cwise: pre() block may not reference array index");if(l<s.body.args.length&&s.body.args[l].lvalue)throw new Error("cwise: body() block may not write to array index");if(l<s.post.args.length&&s.post.args[l].count>0)throw new Error("cwise: post() block may not reference array index")}else if(d==="shape"){if(s.shapeArgs.push(l),l<s.pre.args.length&&s.pre.args[l].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(l<s.body.args.length&&s.body.args[l].lvalue)throw new Error("cwise: body() block may not write to array shape");if(l<s.post.args.length&&s.post.args[l].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof d=="object"&&d.offset)s.argTypes[l]="offset",s.offsetArgs.push({array:d.array,offset:d.offset}),s.offsetArgIndex.push(l);else throw new Error("cwise: Unknown argument type "+o[l])}if(s.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(s.pre.args.length>o.length)throw new Error("cwise: Too many arguments in pre() block");if(s.body.args.length>o.length)throw new Error("cwise: Too many arguments in body() block");if(s.post.args.length>o.length)throw new Error("cwise: Too many arguments in post() block");return s.debug=!!a.printCode||!!a.debug,s.funcName=a.funcName||"cwise",s.blockSize=a.blockSize||64,i(s)}t.exports=r}),$u=Zn(e=>{"use strict";var t=zB(),i={body:"",args:[],thisVars:[],localVars:[]};function n(f){if(!f)return i;for(var h=0;h<f.args.length;++h){var p=f.args[h];h===0?f.args[h]={name:p,lvalue:!0,rvalue:!!f.rvalue,count:f.count||1}:f.args[h]={name:p,lvalue:!1,rvalue:!0,count:1}}return f.thisVars||(f.thisVars=[]),f.localVars||(f.localVars=[]),f}function r(f){return t({args:f.args,pre:n(f.pre),body:n(f.body),post:n(f.proc),funcName:f.funcName})}function a(f){for(var h=[],p=0;p<f.args.length;++p)h.push("a"+p);var m=new Function("P",["return function ",f.funcName,"_ndarrayops(",h.join(","),") {P(",h.join(","),");return a0}"].join(""));return m(r(f))}var s={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var f in s){var h=s[f];e[f]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+h+"c"},funcName:f}),e[f+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+h+"=b"},rvalue:!0,funcName:f+"eq"}),e[f+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+h+"s"},funcName:f+"s"}),e[f+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+h+"=s"},rvalue:!0,funcName:f+"seq"})}})();var o={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var f in o){var h=o[f];e[f]=a({args:["array","array"],body:{args:["a","b"],body:"a="+h+"b"},funcName:f}),e[f+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+h+"a"},rvalue:!0,count:2,funcName:f+"eq"})}})();var l={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var f in l){var h=l[f];e[f]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+h+"c"},funcName:f}),e[f+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+h+"s"},funcName:f+"s"}),e[f+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+h+"b"},rvalue:!0,count:2,funcName:f+"eq"}),e[f+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+h+"s"},rvalue:!0,count:2,funcName:f+"seq"})}})();var d=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var f=0;f<d.length;++f){var h=d[f];e[h]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+h,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:h}),e[h+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+h,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:h+"eq"})}})();var u=["max","min","atan2","pow"];(function(){for(var f=0;f<u.length;++f){var h=u[f];e[h]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+h,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:h}),e[h+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+h,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:h+"s"}),e[h+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+h,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:h+"eq"}),e[h+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+h,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:h+"seq"})}})();var c=["atan2","pow"];(function(){for(var f=0;f<c.length;++f){var h=c[f];e[h+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+h,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:h+"op"}),e[h+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+h,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:h+"ops"}),e[h+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+h,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:h+"opeq"}),e[h+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+h,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:h+"opseq"})}})(),e.any=t({args:["array"],pre:i,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=t({args:["array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=t({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=t({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=t({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=t({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=t({args:["array","array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})}),BB=Zn((e,t)=>{t.exports=function(i,n){for(var r=i.split("."),a=n.split("."),s=0;s<3;s++){var o=Number(r[s]),l=Number(a[s]);if(o>l)return 1;if(l>o)return-1;if(!isNaN(o)&&isNaN(l))return 1;if(isNaN(o)&&!isNaN(l))return-1}return 0}}),Ud="149",la={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},LB=0,iS=1,FB=2,i0=1,NB=2,ef=3,Ta=0,Tn=1,Cr=2,sn=0,jl=1,nS=2,rS=3,aS=4,UB=5,Vd=100,VB=101,HB=102,sS=103,oS=104,GB=200,WB=201,qB=202,ZB=203,lS=204,dS=205,YB=206,XB=207,KB=208,QB=209,JB=210,$B=0,eL=1,tL=2,n0=3,iL=4,nL=5,rL=6,aL=7,cS=0,sL=1,oL=2,Ws=0,lL=1,dL=2,cL=3,uL=4,fL=5,uS=300,Rl=301,zl=302,r0=303,a0=304,tf=306,qs=1e3,Zi=1001,s0=1002,Ci=1003,fS=1004,o0=1005,Rt=1006,hL=1007,Hd=1008,Yn=1009,pL=1010,mL=1011,hS=1012,gL=1013,Zs=1014,lr=1015,Bl=1016,vL=1017,yL=1018,Ll=1020,bL=1021,Xr=1023,_L=1024,wL=1025,Fl=1026,Nl=1027,xL=1028,kL=1029,dp=1030,SL=1031,pS=1033,l0=33776,d0=33777,c0=33778,u0=33779,mS=35840,gS=35841,vS=35842,yS=35843,AL=36196,bS=37492,_S=37496,wS=37808,xS=37809,kS=37810,SS=37811,AS=37812,MS=37813,CS=37814,ES=37815,TS=37816,DS=37817,PS=37818,IS=37819,OS=37820,jS=37821,f0=36492,ML=36283,RS=36284,zS=36285,BS=36286,LS=2200,FS=2201,h0=2202,cp=2300,up=2301,p0=2302,Gd=2400,Wd=2401,fp=2402,m0=2500,CL=2501,ss=3e3,Dt=3001,Ys=3200,NS=3201,EL=0,TL=1,os="srgb",hp="srgb-linear",g0=7680,DL=519,v0=35044,PL=35048,US="300 es",y0=1035,Nn=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});let i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;let i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;let i=this._listeners[e];if(i!==void 0){let n=i.indexOf(t);n!==-1&&i.splice(n,1)}}dispatchEvent(e){if(this._listeners===void 0)return;let t=this._listeners[e.type];if(t!==void 0){e.target=this;let i=t.slice(0);for(let n=0,r=i.length;n<r;n++)i[n].call(this,e);e.target=null}}},Xn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],VS=1234567,nf=Math.PI/180,rf=180/Math.PI;function da(){let e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Xn[e&255]+Xn[e>>8&255]+Xn[e>>16&255]+Xn[e>>24&255]+"-"+Xn[t&255]+Xn[t>>8&255]+"-"+Xn[t>>16&15|64]+Xn[t>>24&255]+"-"+Xn[i&63|128]+Xn[i>>8&255]+"-"+Xn[i>>16&255]+Xn[i>>24&255]+Xn[n&255]+Xn[n>>8&255]+Xn[n>>16&255]+Xn[n>>24&255]).toLowerCase()}function on(e,t,i){return Math.max(t,Math.min(i,e))}function b0(e,t){return(e%t+t)%t}function IL(e,t,i,n,r){return n+(e-t)*(r-n)/(i-t)}function OL(e,t,i){return e!==t?(i-e)/(t-e):0}function af(e,t,i){return(1-i)*e+i*t}function jL(e,t,i,n){return af(e,t,1-Math.exp(-i*n))}function RL(e,t=1){return t-Math.abs(b0(e,t*2)-t)}function zL(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t),e*e*(3-2*e))}function BL(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t),e*e*e*(e*(e*6-15)+10))}function LL(e,t){return e+Math.floor(Math.random()*(t-e+1))}function FL(e,t){return e+Math.random()*(t-e)}function NL(e){return e*(.5-Math.random())}function UL(e){e!==void 0&&(VS=e);let t=VS+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function VL(e){return e*nf}function HL(e){return e*rf}function _0(e){return(e&e-1)===0&&e!==0}function HS(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function pp(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function GL(e,t,i,n,r){let a=Math.cos,s=Math.sin,o=a(i/2),l=s(i/2),d=a((t+n)/2),u=s((t+n)/2),c=a((t-n)/2),f=s((t-n)/2),h=a((n-t)/2),p=s((n-t)/2);switch(r){case"XYX":e.set(o*u,l*c,l*f,o*d);break;case"YZY":e.set(l*f,o*u,l*c,o*d);break;case"ZXZ":e.set(l*c,l*f,o*u,o*d);break;case"XZX":e.set(o*u,l*p,l*h,o*d);break;case"YXY":e.set(l*h,o*u,l*p,o*d);break;case"ZYZ":e.set(l*p,l*h,o*u,o*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Xs(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Ei(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(e*65535);case Uint8Array:return Math.round(e*255);case Int16Array:return Math.round(e*32767);case Int8Array:return Math.round(e*127);default:throw new Error("Invalid component type.")}}var at=Object.freeze({__proto__:null,DEG2RAD:nf,RAD2DEG:rf,ceilPowerOfTwo:HS,clamp:on,damp:jL,degToRad:VL,denormalize:Xs,euclideanModulo:b0,floorPowerOfTwo:pp,generateUUID:da,inverseLerp:OL,isPowerOfTwo:_0,lerp:af,mapLinear:IL,normalize:Ei,pingpong:RL,radToDeg:HL,randFloat:FL,randFloatSpread:NL,randInt:LL,seededRandom:UL,setQuaternionFromProperEuler:GL,smootherstep:BL,smoothstep:zL}),Y=class{constructor(e=0,t=0){Y.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,i=this.y,n=e.elements;return this.x=n[0]*t+n[3]*i+n[6],this.y=n[1]*t+n[4]*i+n[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let i=Math.cos(t),n=Math.sin(t),r=this.x-e.x,a=this.y-e.y;return this.x=r*i-a*n+e.x,this.y=r*n+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},Yi=class{constructor(){Yi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,n,r,a,s,o,l){let d=this.elements;return d[0]=e,d[1]=n,d[2]=s,d[3]=t,d[4]=r,d[5]=o,d[6]=i,d[7]=a,d[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let i=e.elements,n=t.elements,r=this.elements,a=i[0],s=i[3],o=i[6],l=i[1],d=i[4],u=i[7],c=i[2],f=i[5],h=i[8],p=n[0],m=n[3],g=n[6],v=n[1],y=n[4],b=n[7],_=n[2],x=n[5],k=n[8];return r[0]=a*p+s*v+o*_,r[3]=a*m+s*y+o*x,r[6]=a*g+s*b+o*k,r[1]=l*p+d*v+u*_,r[4]=l*m+d*y+u*x,r[7]=l*g+d*b+u*k,r[2]=c*p+f*v+h*_,r[5]=c*m+f*y+h*x,r[8]=c*g+f*b+h*k,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],i=e[1],n=e[2],r=e[3],a=e[4],s=e[5],o=e[6],l=e[7],d=e[8];return t*a*d-t*s*l-i*r*d+i*s*o+n*r*l-n*a*o}invert(){let e=this.elements,t=e[0],i=e[1],n=e[2],r=e[3],a=e[4],s=e[5],o=e[6],l=e[7],d=e[8],u=d*a-s*l,c=s*o-d*r,f=l*r-a*o,h=t*u+i*c+n*f;if(h===0)return this.set(0,0,0,0,0,0,0,0,0);let p=1/h;return e[0]=u*p,e[1]=(n*l-d*i)*p,e[2]=(s*i-n*a)*p,e[3]=c*p,e[4]=(d*t-n*o)*p,e[5]=(n*r-s*t)*p,e[6]=f*p,e[7]=(i*o-l*t)*p,e[8]=(a*t-i*r)*p,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,n,r,a,s){let o=Math.cos(r),l=Math.sin(r);return this.set(i*o,i*l,-i*(o*a+l*s)+a+e,-n*l,n*o,-n*(-l*a+o*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(w0.makeScale(e,t)),this}rotate(e){return this.premultiply(w0.makeRotation(-e)),this}translate(e,t){return this.premultiply(w0.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){let t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){let t=this.elements,i=e.elements;for(let n=0;n<9;n++)if(t[n]!==i[n])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){let i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}},w0=new Yi;function GS(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var WL={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function mp(e,t){return new WL[e](t)}function gp(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Ul(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function vp(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}var x0={[os]:{[hp]:Ul},[hp]:{[os]:vp}},dr={legacyMode:!0,get workingColorSpace(){return hp},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,i){if(this.legacyMode||t===i||!t||!i)return e;if(x0[t]&&x0[t][i]!==void 0){let n=x0[t][i];return e.r=n(e.r),e.g=n(e.g),e.b=n(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},WS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},mn={r:0,g:0,b:0},Da={h:0,s:0,l:0},yp={h:0,s:0,l:0};function k0(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*6*(2/3-i):e}function bp(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var pt=class{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=os){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,dr.toWorkingColorSpace(this,t),this}setRGB(e,t,i,n=dr.workingColorSpace){return this.r=e,this.g=t,this.b=i,dr.toWorkingColorSpace(this,n),this}setHSL(e,t,i,n=dr.workingColorSpace){if(e=b0(e,1),t=on(t,0,1),i=on(i,0,1),t===0)this.r=this.g=this.b=i;else{let r=i<=.5?i*(1+t):i+t-i*t,a=2*i-r;this.r=k0(a,r,e+1/3),this.g=k0(a,r,e),this.b=k0(a,r,e-1/3)}return dr.toWorkingColorSpace(this,n),this}setStyle(e,t=os){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let r,a=n[1],s=n[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,dr.toWorkingColorSpace(this,t),i(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,dr.toWorkingColorSpace(this,t),i(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){let o=parseFloat(r[1])/360,l=parseFloat(r[2])/100,d=parseFloat(r[3])/100;return i(r[4]),this.setHSL(o,l,d,t)}break}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){let r=n[1],a=r.length;if(a===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,dr.toWorkingColorSpace(this,t),this;if(a===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,dr.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=os){let i=WS[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ul(e.r),this.g=Ul(e.g),this.b=Ul(e.b),this}copyLinearToSRGB(e){return this.r=vp(e.r),this.g=vp(e.g),this.b=vp(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=os){return dr.fromWorkingColorSpace(bp(this,mn),e),on(mn.r*255,0,255)<<16^on(mn.g*255,0,255)<<8^on(mn.b*255,0,255)<<0}getHexString(e=os){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=dr.workingColorSpace){dr.fromWorkingColorSpace(bp(this,mn),t);let i=mn.r,n=mn.g,r=mn.b,a=Math.max(i,n,r),s=Math.min(i,n,r),o,l,d=(s+a)/2;if(s===a)o=0,l=0;else{let u=a-s;switch(l=d<=.5?u/(a+s):u/(2-a-s),a){case i:o=(n-r)/u+(n<r?6:0);break;case n:o=(r-i)/u+2;break;case r:o=(i-n)/u+4;break}o/=6}return e.h=o,e.s=l,e.l=d,e}getRGB(e,t=dr.workingColorSpace){return dr.fromWorkingColorSpace(bp(this,mn),t),e.r=mn.r,e.g=mn.g,e.b=mn.b,e}getStyle(e=os){return dr.fromWorkingColorSpace(bp(this,mn),e),e!==os?`color(${e} ${mn.r} ${mn.g} ${mn.b})`:`rgb(${mn.r*255|0},${mn.g*255|0},${mn.b*255|0})`}offsetHSL(e,t,i){return this.getHSL(Da),Da.h+=e,Da.s+=t,Da.l+=i,this.setHSL(Da.h,Da.s,Da.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Da),e.getHSL(yp);let i=af(Da.h,yp.h,t),n=af(Da.s,yp.s,t),r=af(Da.l,yp.l,t);return this.setHSL(i,n,r),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};pt.NAMES=WS;var qd,qS=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{qd===void 0&&(qd=gp("canvas")),qd.width=e.width,qd.height=e.height;let i=qd.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=qd}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){let t=gp("canvas");t.width=e.width,t.height=e.height;let i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);let n=i.getImageData(0,0,e.width,e.height),r=n.data;for(let a=0;a<r.length;a++)r[a]=Ul(r[a]/255)*255;return i.putImageData(n,0,0),t}else if(e.data){let t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Ul(t[i]/255)*255):t[i]=Ul(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},ZS=class{constructor(e=null){this.isSource=!0,this.uuid=da(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];let i={uuid:this.uuid,url:""},n=this.data;if(n!==null){let r;if(Array.isArray(n)){r=[];for(let a=0,s=n.length;a<s;a++)n[a].isDataTexture?r.push(S0(n[a].image)):r.push(S0(n[a]))}else r=S0(n);i.url=r}return t||(e.images[this.uuid]=i),i}};function S0(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?qS.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var qL=0,gn=class extends Nn{constructor(e=gn.DEFAULT_IMAGE,t=gn.DEFAULT_MAPPING,i=Zi,n=Zi,r=Rt,a=Hd,s=Xr,o=Yn,l=gn.DEFAULT_ANISOTROPY,d=ss){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:qL++}),this.uuid=da(),this.name="",this.source=new ZS(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=n,this.magFilter=r,this.minFilter=a,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=o,this.offset=new Y(0,0),this.repeat=new Y(1,1),this.center=new Y(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Yi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==uS)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case qs:e.x=e.x-Math.floor(e.x);break;case Zi:e.x=e.x<0?0:1;break;case s0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case qs:e.y=e.y-Math.floor(e.y);break;case Zi:e.y=e.y<0?0:1;break;case s0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}};gn.DEFAULT_IMAGE=null,gn.DEFAULT_MAPPING=uS,gn.DEFAULT_ANISOTROPY=1;var Pt=class{constructor(e=0,t=0,i=0,n=1){Pt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=n}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,n){return this.x=e,this.y=t,this.z=i,this.w=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,i=this.y,n=this.z,r=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*n+a[12]*r,this.y=a[1]*t+a[5]*i+a[9]*n+a[13]*r,this.z=a[2]*t+a[6]*i+a[10]*n+a[14]*r,this.w=a[3]*t+a[7]*i+a[11]*n+a[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,n,r,a=e.elements,s=a[0],o=a[4],l=a[8],d=a[1],u=a[5],c=a[9],f=a[2],h=a[6],p=a[10];if(Math.abs(o-d)<.01&&Math.abs(l-f)<.01&&Math.abs(c-h)<.01){if(Math.abs(o+d)<.1&&Math.abs(l+f)<.1&&Math.abs(c+h)<.1&&Math.abs(s+u+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;let g=(s+1)/2,v=(u+1)/2,y=(p+1)/2,b=(o+d)/4,_=(l+f)/4,x=(c+h)/4;return g>v&&g>y?g<.01?(i=0,n=.707106781,r=.707106781):(i=Math.sqrt(g),n=b/i,r=_/i):v>y?v<.01?(i=.707106781,n=0,r=.707106781):(n=Math.sqrt(v),i=b/n,r=x/n):y<.01?(i=.707106781,n=.707106781,r=0):(r=Math.sqrt(y),i=_/r,n=x/r),this.set(i,n,r,t),this}let m=Math.sqrt((h-c)*(h-c)+(l-f)*(l-f)+(d-o)*(d-o));return Math.abs(m)<.001&&(m=1),this.x=(h-c)/m,this.y=(l-f)/m,this.z=(d-o)/m,this.w=Math.acos((s+u+p-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},pi=class extends Nn{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Pt(0,0,e,t),this.scissorTest=!1,this.viewport=new Pt(0,0,e,t);let n={width:e,height:t,depth:1};this.texture=new gn(n,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Rt,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;let t=Object.assign({},e.texture.image);return this.texture.source=new ZS(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},YS=class extends gn{constructor(e=null,t=1,i=1,n=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:n},this.magFilter=Ci,this.minFilter=Ci,this.wrapR=Zi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},ZL=class extends gn{constructor(e=null,t=1,i=1,n=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:n},this.magFilter=Ci,this.minFilter=Ci,this.wrapR=Zi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},YL=class extends pi{constructor(e=1,t=1,i=1,n={}){super(e,t,n),this.isWebGLMultipleRenderTargets=!0;let r=this.texture;this.texture=[];for(let a=0;a<i;a++)this.texture[a]=r.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let n=0,r=this.texture.length;n<r;n++)this.texture[n].image.width=e,this.texture[n].image.height=t,this.texture[n].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}},Ct=class{constructor(e=0,t=0,i=0,n=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=n}static slerpFlat(e,t,i,n,r,a,s){let o=i[n+0],l=i[n+1],d=i[n+2],u=i[n+3],c=r[a+0],f=r[a+1],h=r[a+2],p=r[a+3];if(s===0){e[t+0]=o,e[t+1]=l,e[t+2]=d,e[t+3]=u;return}if(s===1){e[t+0]=c,e[t+1]=f,e[t+2]=h,e[t+3]=p;return}if(u!==p||o!==c||l!==f||d!==h){let m=1-s,g=o*c+l*f+d*h+u*p,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){let _=Math.sqrt(y),x=Math.atan2(_,g*v);m=Math.sin(m*x)/_,s=Math.sin(s*x)/_}let b=s*v;if(o=o*m+c*b,l=l*m+f*b,d=d*m+h*b,u=u*m+p*b,m===1-s){let _=1/Math.sqrt(o*o+l*l+d*d+u*u);o*=_,l*=_,d*=_,u*=_}}e[t]=o,e[t+1]=l,e[t+2]=d,e[t+3]=u}static multiplyQuaternionsFlat(e,t,i,n,r,a){let s=i[n],o=i[n+1],l=i[n+2],d=i[n+3],u=r[a],c=r[a+1],f=r[a+2],h=r[a+3];return e[t]=s*h+d*u+o*f-l*c,e[t+1]=o*h+d*c+l*u-s*f,e[t+2]=l*h+d*f+s*c-o*u,e[t+3]=d*h-s*u-o*c-l*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,n){return this._x=e,this._y=t,this._z=i,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){let i=e._x,n=e._y,r=e._z,a=e._order,s=Math.cos,o=Math.sin,l=s(i/2),d=s(n/2),u=s(r/2),c=o(i/2),f=o(n/2),h=o(r/2);switch(a){case"XYZ":this._x=c*d*u+l*f*h,this._y=l*f*u-c*d*h,this._z=l*d*h+c*f*u,this._w=l*d*u-c*f*h;break;case"YXZ":this._x=c*d*u+l*f*h,this._y=l*f*u-c*d*h,this._z=l*d*h-c*f*u,this._w=l*d*u+c*f*h;break;case"ZXY":this._x=c*d*u-l*f*h,this._y=l*f*u+c*d*h,this._z=l*d*h+c*f*u,this._w=l*d*u-c*f*h;break;case"ZYX":this._x=c*d*u-l*f*h,this._y=l*f*u+c*d*h,this._z=l*d*h-c*f*u,this._w=l*d*u+c*f*h;break;case"YZX":this._x=c*d*u+l*f*h,this._y=l*f*u+c*d*h,this._z=l*d*h-c*f*u,this._w=l*d*u-c*f*h;break;case"XZY":this._x=c*d*u-l*f*h,this._y=l*f*u-c*d*h,this._z=l*d*h+c*f*u,this._w=l*d*u+c*f*h;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let i=t/2,n=Math.sin(i);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,i=t[0],n=t[4],r=t[8],a=t[1],s=t[5],o=t[9],l=t[2],d=t[6],u=t[10],c=i+s+u;if(c>0){let f=.5/Math.sqrt(c+1);this._w=.25/f,this._x=(d-o)*f,this._y=(r-l)*f,this._z=(a-n)*f}else if(i>s&&i>u){let f=2*Math.sqrt(1+i-s-u);this._w=(d-o)/f,this._x=.25*f,this._y=(n+a)/f,this._z=(r+l)/f}else if(s>u){let f=2*Math.sqrt(1+s-i-u);this._w=(r-l)/f,this._x=(n+a)/f,this._y=.25*f,this._z=(o+d)/f}else{let f=2*Math.sqrt(1+u-i-s);this._w=(a-n)/f,this._x=(r+l)/f,this._y=(o+d)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(on(this.dot(e),-1,1)))}rotateTowards(e,t){let i=this.angleTo(e);if(i===0)return this;let n=Math.min(1,t/i);return this.slerp(e,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let i=e._x,n=e._y,r=e._z,a=e._w,s=t._x,o=t._y,l=t._z,d=t._w;return this._x=i*d+a*s+n*l-r*o,this._y=n*d+a*o+r*s-i*l,this._z=r*d+a*l+i*o-n*s,this._w=a*d-i*s-n*o-r*l,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);let i=this._x,n=this._y,r=this._z,a=this._w,s=a*e._w+i*e._x+n*e._y+r*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=i,this._y=n,this._z=r,this;let o=1-s*s;if(o<=Number.EPSILON){let f=1-t;return this._w=f*a+t*this._w,this._x=f*i+t*this._x,this._y=f*n+t*this._y,this._z=f*r+t*this._z,this.normalize(),this._onChangeCallback(),this}let l=Math.sqrt(o),d=Math.atan2(l,s),u=Math.sin((1-t)*d)/l,c=Math.sin(t*d)/l;return this._w=a*u+this._w*c,this._x=i*u+this._x*c,this._y=n*u+this._y*c,this._z=r*u+this._z*c,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){let e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),n=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(t*Math.cos(n),i*Math.sin(r),i*Math.cos(r),t*Math.sin(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},E=class{constructor(e=0,t=0,i=0){E.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(XS.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(XS.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,i=this.y,n=this.z,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6]*n,this.y=r[1]*t+r[4]*i+r[7]*n,this.z=r[2]*t+r[5]*i+r[8]*n,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,i=this.y,n=this.z,r=e.elements,a=1/(r[3]*t+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*n+r[12])*a,this.y=(r[1]*t+r[5]*i+r[9]*n+r[13])*a,this.z=(r[2]*t+r[6]*i+r[10]*n+r[14])*a,this}applyQuaternion(e){let t=this.x,i=this.y,n=this.z,r=e.x,a=e.y,s=e.z,o=e.w,l=o*t+a*n-s*i,d=o*i+s*t-r*n,u=o*n+r*i-a*t,c=-r*t-a*i-s*n;return this.x=l*o+c*-r+d*-s-u*-a,this.y=d*o+c*-a+u*-r-l*-s,this.z=u*o+c*-s+l*-a-d*-r,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,i=this.y,n=this.z,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*n,this.y=r[1]*t+r[5]*i+r[9]*n,this.z=r[2]*t+r[6]*i+r[10]*n,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){let i=e.x,n=e.y,r=e.z,a=t.x,s=t.y,o=t.z;return this.x=n*o-r*s,this.y=r*a-i*o,this.z=i*s-n*a,this}projectOnVector(e){let t=e.lengthSq();if(t===0)return this.set(0,0,0);let i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return A0.copy(this).projectOnVector(e),this.sub(A0)}reflect(e){return this.sub(A0.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let i=this.dot(e)/t;return Math.acos(on(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,i=this.y-e.y,n=this.z-e.z;return t*t+i*i+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){let n=Math.sin(t)*e;return this.x=n*Math.sin(i),this.y=Math.cos(t)*e,this.z=n*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=n,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-Si(e,2));return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},A0=new E,XS=new Ct,Xi=class{constructor(e=new E(1/0,1/0,1/0),t=new E(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,n=1/0,r=-1/0,a=-1/0,s=-1/0;for(let o=0,l=e.length;o<l;o+=3){let d=e[o],u=e[o+1],c=e[o+2];d<t&&(t=d),u<i&&(i=u),c<n&&(n=c),d>r&&(r=d),u>a&&(a=u),c>s&&(s=c)}return this.min.set(t,i,n),this.max.set(r,a,s),this}setFromBufferAttribute(e){let t=1/0,i=1/0,n=1/0,r=-1/0,a=-1/0,s=-1/0;for(let o=0,l=e.count;o<l;o++){let d=e.getX(o),u=e.getY(o),c=e.getZ(o);d<t&&(t=d),u<i&&(i=u),c<n&&(n=c),d>r&&(r=d),u>a&&(a=u),c>s&&(s=c)}return this.min.set(t,i,n),this.max.set(r,a,s),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let i=Vl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);let i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){let r=i.attributes.position;for(let a=0,s=r.count;a<s;a++)Vl.fromBufferAttribute(r,a).applyMatrix4(e.matrixWorld),this.expandByPoint(Vl)}else i.boundingBox===null&&i.computeBoundingBox(),M0.copy(i.boundingBox),M0.applyMatrix4(e.matrixWorld),this.union(M0);let n=e.children;for(let r=0,a=n.length;r<a;r++)this.expandByObject(n[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Vl),Vl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(sf),_p.subVectors(this.max,sf),Zd.subVectors(e.a,sf),Yd.subVectors(e.b,sf),Xd.subVectors(e.c,sf),jo.subVectors(Yd,Zd),Ro.subVectors(Xd,Yd),Hl.subVectors(Zd,Xd);let t=[0,-jo.z,jo.y,0,-Ro.z,Ro.y,0,-Hl.z,Hl.y,jo.z,0,-jo.x,Ro.z,0,-Ro.x,Hl.z,0,-Hl.x,-jo.y,jo.x,0,-Ro.y,Ro.x,0,-Hl.y,Hl.x,0];return!C0(t,Zd,Yd,Xd,_p)||(t=[1,0,0,0,1,0,0,0,1],!C0(t,Zd,Yd,Xd,_p))?!1:(wp.crossVectors(jo,Ro),t=[wp.x,wp.y,wp.z],C0(t,Zd,Yd,Xd,_p))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Vl.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Vl).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ks[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ks[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ks[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ks[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ks[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ks[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ks[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ks[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ks),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},Ks=[new E,new E,new E,new E,new E,new E,new E,new E],Vl=new E,M0=new Xi,Zd=new E,Yd=new E,Xd=new E,jo=new E,Ro=new E,Hl=new E,sf=new E,_p=new E,wp=new E,Gl=new E;function C0(e,t,i,n,r){for(let a=0,s=e.length-3;a<=s;a+=3){Gl.fromArray(e,a);let o=r.x*Math.abs(Gl.x)+r.y*Math.abs(Gl.y)+r.z*Math.abs(Gl.z),l=t.dot(Gl),d=i.dot(Gl),u=n.dot(Gl);if(Math.max(-Math.max(l,d,u),Math.min(l,d,u))>o)return!1}return!0}var XL=new Xi,of=new E,E0=new E,Er=class{constructor(e=new E,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let i=this.center;t!==void 0?i.copy(t):XL.setFromPoints(e).getCenter(i);let n=0;for(let r=0,a=e.length;r<a;r++)n=Math.max(n,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(n),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;of.subVectors(e,this.center);let t=of.lengthSq();if(t>this.radius*this.radius){let i=Math.sqrt(t),n=(i-this.radius)*.5;this.center.addScaledVector(of,n/i),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(E0.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(of.copy(e.center).add(E0)),this.expandByPoint(of.copy(e.center).sub(E0))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}},Qs=new E,T0=new E,xp=new E,zo=new E,D0=new E,kp=new E,P0=new E,Kd=class{constructor(e=new E,t=new E(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Qs)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=Qs.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Qs.copy(this.direction).multiplyScalar(t).add(this.origin),Qs.distanceToSquared(e))}distanceSqToSegment(e,t,i,n){T0.copy(e).add(t).multiplyScalar(.5),xp.copy(t).sub(e).normalize(),zo.copy(this.origin).sub(T0);let r=e.distanceTo(t)*.5,a=-this.direction.dot(xp),s=zo.dot(this.direction),o=-zo.dot(xp),l=zo.lengthSq(),d=Math.abs(1-a*a),u,c,f,h;if(d>0)if(u=a*o-s,c=a*s-o,h=r*d,u>=0)if(c>=-h)if(c<=h){let p=1/d;u*=p,c*=p,f=u*(u+a*c+2*s)+c*(a*u+c+2*o)+l}else c=r,u=Math.max(0,-(a*c+s)),f=-u*u+c*(c+2*o)+l;else c=-r,u=Math.max(0,-(a*c+s)),f=-u*u+c*(c+2*o)+l;else c<=-h?(u=Math.max(0,-(-a*r+s)),c=u>0?-r:Math.min(Math.max(-r,-o),r),f=-u*u+c*(c+2*o)+l):c<=h?(u=0,c=Math.min(Math.max(-r,-o),r),f=c*(c+2*o)+l):(u=Math.max(0,-(a*r+s)),c=u>0?r:Math.min(Math.max(-r,-o),r),f=-u*u+c*(c+2*o)+l);else c=a>0?-r:r,u=Math.max(0,-(a*c+s)),f=-u*u+c*(c+2*o)+l;return i&&i.copy(this.direction).multiplyScalar(u).add(this.origin),n&&n.copy(xp).multiplyScalar(c).add(T0),f}intersectSphere(e,t){Qs.subVectors(e.center,this.origin);let i=Qs.dot(this.direction),n=Qs.dot(Qs)-i*i,r=e.radius*e.radius;if(n>r)return null;let a=Math.sqrt(r-n),s=i-a,o=i+a;return s<0&&o<0?null:s<0?this.at(o,t):this.at(s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;let i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){let i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,n,r,a,s,o,l=1/this.direction.x,d=1/this.direction.y,u=1/this.direction.z,c=this.origin;return l>=0?(i=(e.min.x-c.x)*l,n=(e.max.x-c.x)*l):(i=(e.max.x-c.x)*l,n=(e.min.x-c.x)*l),d>=0?(r=(e.min.y-c.y)*d,a=(e.max.y-c.y)*d):(r=(e.max.y-c.y)*d,a=(e.min.y-c.y)*d),i>a||r>n||((r>i||isNaN(i))&&(i=r),(a<n||isNaN(n))&&(n=a),u>=0?(s=(e.min.z-c.z)*u,o=(e.max.z-c.z)*u):(s=(e.max.z-c.z)*u,o=(e.min.z-c.z)*u),i>o||s>n)||((s>i||i!==i)&&(i=s),(o<n||n!==n)&&(n=o),n<0)?null:this.at(i>=0?i:n,t)}intersectsBox(e){return this.intersectBox(e,Qs)!==null}intersectTriangle(e,t,i,n,r){D0.subVectors(t,e),kp.subVectors(i,e),P0.crossVectors(D0,kp);let a=this.direction.dot(P0),s;if(a>0){if(n)return null;s=1}else if(a<0)s=-1,a=-a;else return null;zo.subVectors(this.origin,e);let o=s*this.direction.dot(kp.crossVectors(zo,kp));if(o<0)return null;let l=s*this.direction.dot(D0.cross(zo));if(l<0||o+l>a)return null;let d=-s*zo.dot(P0);return d<0?null:this.at(d/a,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},Ee=class{constructor(){Ee.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,n,r,a,s,o,l,d,u,c,f,h,p,m){let g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=n,g[1]=r,g[5]=a,g[9]=s,g[13]=o,g[2]=l,g[6]=d,g[10]=u,g[14]=c,g[3]=f,g[7]=h,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ee().fromArray(this.elements)}copy(e){let t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){let t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,i=e.elements,n=1/Qd.setFromMatrixColumn(e,0).length(),r=1/Qd.setFromMatrixColumn(e,1).length(),a=1/Qd.setFromMatrixColumn(e,2).length();return t[0]=i[0]*n,t[1]=i[1]*n,t[2]=i[2]*n,t[3]=0,t[4]=i[4]*r,t[5]=i[5]*r,t[6]=i[6]*r,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){let t=this.elements,i=e.x,n=e.y,r=e.z,a=Math.cos(i),s=Math.sin(i),o=Math.cos(n),l=Math.sin(n),d=Math.cos(r),u=Math.sin(r);if(e.order==="XYZ"){let c=a*d,f=a*u,h=s*d,p=s*u;t[0]=o*d,t[4]=-o*u,t[8]=l,t[1]=f+h*l,t[5]=c-p*l,t[9]=-s*o,t[2]=p-c*l,t[6]=h+f*l,t[10]=a*o}else if(e.order==="YXZ"){let c=o*d,f=o*u,h=l*d,p=l*u;t[0]=c+p*s,t[4]=h*s-f,t[8]=a*l,t[1]=a*u,t[5]=a*d,t[9]=-s,t[2]=f*s-h,t[6]=p+c*s,t[10]=a*o}else if(e.order==="ZXY"){let c=o*d,f=o*u,h=l*d,p=l*u;t[0]=c-p*s,t[4]=-a*u,t[8]=h+f*s,t[1]=f+h*s,t[5]=a*d,t[9]=p-c*s,t[2]=-a*l,t[6]=s,t[10]=a*o}else if(e.order==="ZYX"){let c=a*d,f=a*u,h=s*d,p=s*u;t[0]=o*d,t[4]=h*l-f,t[8]=c*l+p,t[1]=o*u,t[5]=p*l+c,t[9]=f*l-h,t[2]=-l,t[6]=s*o,t[10]=a*o}else if(e.order==="YZX"){let c=a*o,f=a*l,h=s*o,p=s*l;t[0]=o*d,t[4]=p-c*u,t[8]=h*u+f,t[1]=u,t[5]=a*d,t[9]=-s*d,t[2]=-l*d,t[6]=f*u+h,t[10]=c-p*u}else if(e.order==="XZY"){let c=a*o,f=a*l,h=s*o,p=s*l;t[0]=o*d,t[4]=-u,t[8]=l*d,t[1]=c*u+p,t[5]=a*d,t[9]=f*u-h,t[2]=h*u-f,t[6]=s*d,t[10]=p*u+c}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(KL,e,QL)}lookAt(e,t,i){let n=this.elements;return Kr.subVectors(e,t),Kr.lengthSq()===0&&(Kr.z=1),Kr.normalize(),Bo.crossVectors(i,Kr),Bo.lengthSq()===0&&(Math.abs(i.z)===1?Kr.x+=1e-4:Kr.z+=1e-4,Kr.normalize(),Bo.crossVectors(i,Kr)),Bo.normalize(),Sp.crossVectors(Kr,Bo),n[0]=Bo.x,n[4]=Sp.x,n[8]=Kr.x,n[1]=Bo.y,n[5]=Sp.y,n[9]=Kr.y,n[2]=Bo.z,n[6]=Sp.z,n[10]=Kr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let i=e.elements,n=t.elements,r=this.elements,a=i[0],s=i[4],o=i[8],l=i[12],d=i[1],u=i[5],c=i[9],f=i[13],h=i[2],p=i[6],m=i[10],g=i[14],v=i[3],y=i[7],b=i[11],_=i[15],x=n[0],k=n[4],w=n[8],S=n[12],A=n[1],M=n[5],C=n[9],T=n[13],P=n[2],I=n[6],j=n[10],H=n[14],U=n[3],O=n[7],F=n[11],Z=n[15];return r[0]=a*x+s*A+o*P+l*U,r[4]=a*k+s*M+o*I+l*O,r[8]=a*w+s*C+o*j+l*F,r[12]=a*S+s*T+o*H+l*Z,r[1]=d*x+u*A+c*P+f*U,r[5]=d*k+u*M+c*I+f*O,r[9]=d*w+u*C+c*j+f*F,r[13]=d*S+u*T+c*H+f*Z,r[2]=h*x+p*A+m*P+g*U,r[6]=h*k+p*M+m*I+g*O,r[10]=h*w+p*C+m*j+g*F,r[14]=h*S+p*T+m*H+g*Z,r[3]=v*x+y*A+b*P+_*U,r[7]=v*k+y*M+b*I+_*O,r[11]=v*w+y*C+b*j+_*F,r[15]=v*S+y*T+b*H+_*Z,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],i=e[4],n=e[8],r=e[12],a=e[1],s=e[5],o=e[9],l=e[13],d=e[2],u=e[6],c=e[10],f=e[14],h=e[3],p=e[7],m=e[11],g=e[15];return h*(+r*o*u-n*l*u-r*s*c+i*l*c+n*s*f-i*o*f)+p*(+t*o*f-t*l*c+r*a*c-n*a*f+n*l*d-r*o*d)+m*(+t*l*u-t*s*f-r*a*u+i*a*f+r*s*d-i*l*d)+g*(-n*s*d-t*o*u+t*s*c+n*a*u-i*a*c+i*o*d)}transpose(){let e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){let n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=i),this}invert(){let e=this.elements,t=e[0],i=e[1],n=e[2],r=e[3],a=e[4],s=e[5],o=e[6],l=e[7],d=e[8],u=e[9],c=e[10],f=e[11],h=e[12],p=e[13],m=e[14],g=e[15],v=u*m*l-p*c*l+p*o*f-s*m*f-u*o*g+s*c*g,y=h*c*l-d*m*l-h*o*f+a*m*f+d*o*g-a*c*g,b=d*p*l-h*u*l+h*s*f-a*p*f-d*s*g+a*u*g,_=h*u*o-d*p*o-h*s*c+a*p*c+d*s*m-a*u*m,x=t*v+i*y+n*b+r*_;if(x===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let k=1/x;return e[0]=v*k,e[1]=(p*c*r-u*m*r-p*n*f+i*m*f+u*n*g-i*c*g)*k,e[2]=(s*m*r-p*o*r+p*n*l-i*m*l-s*n*g+i*o*g)*k,e[3]=(u*o*r-s*c*r-u*n*l+i*c*l+s*n*f-i*o*f)*k,e[4]=y*k,e[5]=(d*m*r-h*c*r+h*n*f-t*m*f-d*n*g+t*c*g)*k,e[6]=(h*o*r-a*m*r-h*n*l+t*m*l+a*n*g-t*o*g)*k,e[7]=(a*c*r-d*o*r+d*n*l-t*c*l-a*n*f+t*o*f)*k,e[8]=b*k,e[9]=(h*u*r-d*p*r-h*i*f+t*p*f+d*i*g-t*u*g)*k,e[10]=(a*p*r-h*s*r+h*i*l-t*p*l-a*i*g+t*s*g)*k,e[11]=(d*s*r-a*u*r-d*i*l+t*u*l+a*i*f-t*s*f)*k,e[12]=_*k,e[13]=(d*p*n-h*u*n+h*i*c-t*p*c-d*i*m+t*u*m)*k,e[14]=(h*s*n-a*p*n-h*i*o+t*p*o+a*i*m-t*s*m)*k,e[15]=(a*u*n-d*s*n+d*i*o-t*u*o-a*i*c+t*s*c)*k,this}scale(e){let t=this.elements,i=e.x,n=e.y,r=e.z;return t[0]*=i,t[4]*=n,t[8]*=r,t[1]*=i,t[5]*=n,t[9]*=r,t[2]*=i,t[6]*=n,t[10]*=r,t[3]*=i,t[7]*=n,t[11]*=r,this}getMaxScaleOnAxis(){let e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,n))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let i=Math.cos(t),n=Math.sin(t),r=1-i,a=e.x,s=e.y,o=e.z,l=r*a,d=r*s;return this.set(l*a+i,l*s-n*o,l*o+n*s,0,l*s+n*o,d*s+i,d*o-n*a,0,l*o-n*s,d*o+n*a,r*o*o+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,n,r,a){return this.set(1,i,r,0,e,1,a,0,t,n,1,0,0,0,0,1),this}compose(e,t,i){let n=this.elements,r=t._x,a=t._y,s=t._z,o=t._w,l=r+r,d=a+a,u=s+s,c=r*l,f=r*d,h=r*u,p=a*d,m=a*u,g=s*u,v=o*l,y=o*d,b=o*u,_=i.x,x=i.y,k=i.z;return n[0]=(1-(p+g))*_,n[1]=(f+b)*_,n[2]=(h-y)*_,n[3]=0,n[4]=(f-b)*x,n[5]=(1-(c+g))*x,n[6]=(m+v)*x,n[7]=0,n[8]=(h+y)*k,n[9]=(m-v)*k,n[10]=(1-(c+p))*k,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this}decompose(e,t,i){let n=this.elements,r=Qd.set(n[0],n[1],n[2]).length(),a=Qd.set(n[4],n[5],n[6]).length(),s=Qd.set(n[8],n[9],n[10]).length();this.determinant()<0&&(r=-r),e.x=n[12],e.y=n[13],e.z=n[14],Pa.copy(this);let o=1/r,l=1/a,d=1/s;return Pa.elements[0]*=o,Pa.elements[1]*=o,Pa.elements[2]*=o,Pa.elements[4]*=l,Pa.elements[5]*=l,Pa.elements[6]*=l,Pa.elements[8]*=d,Pa.elements[9]*=d,Pa.elements[10]*=d,t.setFromRotationMatrix(Pa),i.x=r,i.y=a,i.z=s,this}makePerspective(e,t,i,n,r,a){let s=this.elements,o=2*r/(t-e),l=2*r/(i-n),d=(t+e)/(t-e),u=(i+n)/(i-n),c=-(a+r)/(a-r),f=-2*a*r/(a-r);return s[0]=o,s[4]=0,s[8]=d,s[12]=0,s[1]=0,s[5]=l,s[9]=u,s[13]=0,s[2]=0,s[6]=0,s[10]=c,s[14]=f,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,i,n,r,a){let s=this.elements,o=1/(t-e),l=1/(i-n),d=1/(a-r),u=(t+e)*o,c=(i+n)*l,f=(a+r)*d;return s[0]=2*o,s[4]=0,s[8]=0,s[12]=-u,s[1]=0,s[5]=2*l,s[9]=0,s[13]=-c,s[2]=0,s[6]=0,s[10]=-2*d,s[14]=-f,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){let t=this.elements,i=e.elements;for(let n=0;n<16;n++)if(t[n]!==i[n])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){let i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}},Qd=new E,Pa=new Ee,KL=new E(0,0,0),QL=new E(1,1,1),Bo=new E,Sp=new E,Kr=new E,KS=new Ee,QS=new Ct,Dn=class{constructor(e=0,t=0,i=0,n=Dn.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=n}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,n=this._order){return this._x=e,this._y=t,this._z=i,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){let n=e.elements,r=n[0],a=n[4],s=n[8],o=n[1],l=n[5],d=n[9],u=n[2],c=n[6],f=n[10];switch(t){case"XYZ":this._y=Math.asin(on(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-d,f),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(c,l),this._z=0);break;case"YXZ":this._x=Math.asin(-on(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(s,f),this._z=Math.atan2(o,l)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(on(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(-u,f),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(o,r));break;case"ZYX":this._y=Math.asin(-on(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(c,f),this._z=Math.atan2(o,r)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(on(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-d,l),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(s,f));break;case"XZY":this._z=Math.asin(-on(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(c,l),this._y=Math.atan2(s,r)):(this._x=Math.atan2(-d,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return KS.makeRotationFromQuaternion(e),this.setFromRotationMatrix(KS,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return QS.setFromEuler(this),this.setFromQuaternion(QS,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};Dn.DEFAULT_ORDER="XYZ";var I0=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},JL=0,JS=new E,Jd=new Ct,Js=new Ee,Ap=new E,lf=new E,$L=new E,e8=new Ct,$S=new E(1,0,0),eA=new E(0,1,0),tA=new E(0,0,1),t8={type:"added"},iA={type:"removed"},mi=class extends Nn{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:JL++}),this.uuid=da(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=mi.DEFAULT_UP.clone();let e=new E,t=new Dn,i=new Ct,n=new E(1,1,1);function r(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(r),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new Ee},normalMatrix:{value:new Yi}}),this.matrix=new Ee,this.matrixWorld=new Ee,this.matrixAutoUpdate=mi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=mi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new I0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Jd.setFromAxisAngle(e,t),this.quaternion.multiply(Jd),this}rotateOnWorldAxis(e,t){return Jd.setFromAxisAngle(e,t),this.quaternion.premultiply(Jd),this}rotateX(e){return this.rotateOnAxis($S,e)}rotateY(e){return this.rotateOnAxis(eA,e)}rotateZ(e){return this.rotateOnAxis(tA,e)}translateOnAxis(e,t){return JS.copy(e).applyQuaternion(this.quaternion),this.position.add(JS.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis($S,e)}translateY(e){return this.translateOnAxis(eA,e)}translateZ(e){return this.translateOnAxis(tA,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Js.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Ap.copy(e):Ap.set(e,t,i);let n=this.parent;this.updateWorldMatrix(!0,!1),lf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Js.lookAt(lf,Ap,this.up):Js.lookAt(Ap,lf,this.up),this.quaternion.setFromRotationMatrix(Js),n&&(Js.extractRotation(n.matrixWorld),Jd.setFromRotationMatrix(Js),this.quaternion.premultiply(Jd.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(t8)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}let t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(iA)),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(iA)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Js.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Js.multiply(e.parent.matrixWorld)),e.applyMatrix4(Js),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,n=this.children.length;i<n;i++){let r=this.children[i].getObjectByProperty(e,t);if(r!==void 0)return r}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let n=0,r=this.children.length;n<r;n++){let a=this.children[n].getObjectsByProperty(e,t);a.length>0&&(i=i.concat(a))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(lf,e,$L),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(lf,e8,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let i=0,n=t.length;i<n;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let t=this.children;for(let i=0,n=t.length;i<n;i++)t[i].traverseVisible(e)}traverseAncestors(e){let t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let i=0,n=t.length;i<n;i++){let r=t[i];(r.matrixWorldAutoUpdate===!0||e===!0)&&r.updateMatrixWorld(e)}}updateWorldMatrix(e,t){let i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){let n=this.children;for(let r=0,a=n.length;r<a;r++){let s=n[r];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){let t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let n={};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.castShadow===!0&&(n.castShadow=!0),this.receiveShadow===!0&&(n.receiveShadow=!0),this.visible===!1&&(n.visible=!1),this.frustumCulled===!1&&(n.frustumCulled=!1),this.renderOrder!==0&&(n.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(n.instanceColor=this.instanceColor.toJSON()));function r(s,o){return s[o.uuid]===void 0&&(s[o.uuid]=o.toJSON(e)),o.uuid}if(this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(n.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=r(e.geometries,this.geometry);let s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){let o=s.shapes;if(Array.isArray(o))for(let l=0,d=o.length;l<d;l++){let u=o[l];r(e.shapes,u)}else r(e.shapes,o)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let s=[];for(let o=0,l=this.material.length;o<l;o++)s.push(r(e.materials,this.material[o]));n.material=s}else n.material=r(e.materials,this.material);if(this.children.length>0){n.children=[];for(let s=0;s<this.children.length;s++)n.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){n.animations=[];for(let s=0;s<this.animations.length;s++){let o=this.animations[s];n.animations.push(r(e.animations,o))}}if(t){let s=a(e.geometries),o=a(e.materials),l=a(e.textures),d=a(e.images),u=a(e.shapes),c=a(e.skeletons),f=a(e.animations),h=a(e.nodes);s.length>0&&(i.geometries=s),o.length>0&&(i.materials=o),l.length>0&&(i.textures=l),d.length>0&&(i.images=d),u.length>0&&(i.shapes=u),c.length>0&&(i.skeletons=c),f.length>0&&(i.animations=f),h.length>0&&(i.nodes=h)}return i.object=n,i;function a(s){let o=[];for(let l in s){let d=s[l];delete d.metadata,o.push(d)}return o}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){let n=e.children[i];this.add(n.clone())}return this}};mi.DEFAULT_UP=new E(0,1,0),mi.DEFAULT_MATRIX_AUTO_UPDATE=!0,mi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var Ia=new E,$s=new E,O0=new E,eo=new E,$d=new E,ec=new E,nA=new E,j0=new E,R0=new E,z0=new E,Kn=class{constructor(e=new E,t=new E,i=new E){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,n){n.subVectors(i,t),Ia.subVectors(e,t),n.cross(Ia);let r=n.lengthSq();return r>0?n.multiplyScalar(1/Math.sqrt(r)):n.set(0,0,0)}static getBarycoord(e,t,i,n,r){Ia.subVectors(n,t),$s.subVectors(i,t),O0.subVectors(e,t);let a=Ia.dot(Ia),s=Ia.dot($s),o=Ia.dot(O0),l=$s.dot($s),d=$s.dot(O0),u=a*l-s*s;if(u===0)return r.set(-2,-1,-1);let c=1/u,f=(l*o-s*d)*c,h=(a*d-s*o)*c;return r.set(1-f-h,h,f)}static containsPoint(e,t,i,n){return this.getBarycoord(e,t,i,n,eo),eo.x>=0&&eo.y>=0&&eo.x+eo.y<=1}static getUV(e,t,i,n,r,a,s,o){return this.getBarycoord(e,t,i,n,eo),o.set(0,0),o.addScaledVector(r,eo.x),o.addScaledVector(a,eo.y),o.addScaledVector(s,eo.z),o}static isFrontFacing(e,t,i,n){return Ia.subVectors(i,t),$s.subVectors(e,t),Ia.cross($s).dot(n)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,n){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[n]),this}setFromAttributeAndIndices(e,t,i,n){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ia.subVectors(this.c,this.b),$s.subVectors(this.a,this.b),Ia.cross($s).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Kn.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Kn.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,n,r){return Kn.getUV(e,this.a,this.b,this.c,t,i,n,r)}containsPoint(e){return Kn.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Kn.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let i=this.a,n=this.b,r=this.c,a,s;$d.subVectors(n,i),ec.subVectors(r,i),j0.subVectors(e,i);let o=$d.dot(j0),l=ec.dot(j0);if(o<=0&&l<=0)return t.copy(i);R0.subVectors(e,n);let d=$d.dot(R0),u=ec.dot(R0);if(d>=0&&u<=d)return t.copy(n);let c=o*u-d*l;if(c<=0&&o>=0&&d<=0)return a=o/(o-d),t.copy(i).addScaledVector($d,a);z0.subVectors(e,r);let f=$d.dot(z0),h=ec.dot(z0);if(h>=0&&f<=h)return t.copy(r);let p=f*l-o*h;if(p<=0&&l>=0&&h<=0)return s=l/(l-h),t.copy(i).addScaledVector(ec,s);let m=d*h-f*u;if(m<=0&&u-d>=0&&f-h>=0)return nA.subVectors(r,n),s=(u-d)/(u-d+(f-h)),t.copy(n).addScaledVector(nA,s);let g=1/(m+p+c);return a=p*g,s=c*g,t.copy(i).addScaledVector($d,a).addScaledVector(ec,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},i8=0,df=class extends Nn{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:i8++}),this.uuid=da(),this.name="",this.type="Material",this.blending=jl,this.side=Ta,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=lS,this.blendDst=dS,this.blendEquation=Vd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=n0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=DL,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=g0,this.stencilZFail=g0,this.stencilZPass=g0,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let t in e){let i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}let n=this[t];if(n===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[t]=i}}toJSON(e){let t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});let i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==jl&&(i.blending=this.blending),this.side!==Ta&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function n(r){let a=[];for(let s in r){let o=r[s];delete o.metadata,a.push(o)}return a}if(t){let r=n(e.textures),a=n(e.images);r.length>0&&(i.textures=r),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,i=null;if(t!==null){let n=t.length;i=new Array(n);for(let r=0;r!==n;++r)i[r]=t[r].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}},cf=class extends df{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=cS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},ln=new E,Mp=new Y,_t=class{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=v0,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let n=0,r=this.itemSize;n<r;n++)this.array[e+n]=t.array[i+n];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Mp.fromBufferAttribute(this,t),Mp.applyMatrix3(e),this.setXY(t,Mp.x,Mp.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)ln.fromBufferAttribute(this,t),ln.applyMatrix3(e),this.setXYZ(t,ln.x,ln.y,ln.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)ln.fromBufferAttribute(this,t),ln.applyMatrix4(e),this.setXYZ(t,ln.x,ln.y,ln.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ln.fromBufferAttribute(this,t),ln.applyNormalMatrix(e),this.setXYZ(t,ln.x,ln.y,ln.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ln.fromBufferAttribute(this,t),ln.transformDirection(e),this.setXYZ(t,ln.x,ln.y,ln.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Xs(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ei(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Xs(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ei(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Xs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ei(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Xs(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ei(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Ei(t,this.array),i=Ei(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,n){return e*=this.itemSize,this.normalized&&(t=Ei(t,this.array),i=Ei(i,this.array),n=Ei(n,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this}setXYZW(e,t,i,n,r){return e*=this.itemSize,this.normalized&&(t=Ei(t,this.array),i=Ei(i,this.array),n=Ei(n,this.array),r=Ei(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==v0&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}},rA=class extends _t{constructor(e,t,i){super(new Uint16Array(e),t,i)}},tc=class extends _t{constructor(e,t,i){super(new Uint32Array(e),t,i)}},Ke=class extends _t{constructor(e,t,i){super(new Float32Array(e),t,i)}},n8=0,ca=new Ee,B0=new mi,ic=new E,Qr=new Xi,uf=new Xi,Pn=new E,dt=class extends Nn{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:n8++}),this.uuid=da(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(GS(e)?tc:rA)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);let i=this.attributes.normal;if(i!==void 0){let r=new Yi().getNormalMatrix(e);i.applyNormalMatrix(r),i.needsUpdate=!0}let n=this.attributes.tangent;return n!==void 0&&(n.transformDirection(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ca.makeRotationFromQuaternion(e),this.applyMatrix4(ca),this}rotateX(e){return ca.makeRotationX(e),this.applyMatrix4(ca),this}rotateY(e){return ca.makeRotationY(e),this.applyMatrix4(ca),this}rotateZ(e){return ca.makeRotationZ(e),this.applyMatrix4(ca),this}translate(e,t,i){return ca.makeTranslation(e,t,i),this.applyMatrix4(ca),this}scale(e,t,i){return ca.makeScale(e,t,i),this.applyMatrix4(ca),this}lookAt(e){return B0.lookAt(e),B0.updateMatrix(),this.applyMatrix4(B0.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ic).negate(),this.translate(ic.x,ic.y,ic.z),this}setFromPoints(e){let t=[];for(let i=0,n=e.length;i<n;i++){let r=e[i];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Ke(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Xi);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new E(-1/0,-1/0,-1/0),new E(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,n=t.length;i<n;i++){let r=t[i];Qr.setFromBufferAttribute(r),this.morphTargetsRelative?(Pn.addVectors(this.boundingBox.min,Qr.min),this.boundingBox.expandByPoint(Pn),Pn.addVectors(this.boundingBox.max,Qr.max),this.boundingBox.expandByPoint(Pn)):(this.boundingBox.expandByPoint(Qr.min),this.boundingBox.expandByPoint(Qr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Er);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new E,1/0);return}if(e){let i=this.boundingSphere.center;if(Qr.setFromBufferAttribute(e),t)for(let r=0,a=t.length;r<a;r++){let s=t[r];uf.setFromBufferAttribute(s),this.morphTargetsRelative?(Pn.addVectors(Qr.min,uf.min),Qr.expandByPoint(Pn),Pn.addVectors(Qr.max,uf.max),Qr.expandByPoint(Pn)):(Qr.expandByPoint(uf.min),Qr.expandByPoint(uf.max))}Qr.getCenter(i);let n=0;for(let r=0,a=e.count;r<a;r++)Pn.fromBufferAttribute(e,r),n=Math.max(n,i.distanceToSquared(Pn));if(t)for(let r=0,a=t.length;r<a;r++){let s=t[r],o=this.morphTargetsRelative;for(let l=0,d=s.count;l<d;l++)Pn.fromBufferAttribute(s,l),o&&(ic.fromBufferAttribute(e,l),Pn.add(ic)),n=Math.max(n,i.distanceToSquared(Pn))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let i=e.array,n=t.position.array,r=t.normal.array,a=t.uv.array,s=n.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new _t(new Float32Array(4*s),4));let o=this.getAttribute("tangent").array,l=[],d=[];for(let A=0;A<s;A++)l[A]=new E,d[A]=new E;let u=new E,c=new E,f=new E,h=new Y,p=new Y,m=new Y,g=new E,v=new E;function y(A,M,C){u.fromArray(n,A*3),c.fromArray(n,M*3),f.fromArray(n,C*3),h.fromArray(a,A*2),p.fromArray(a,M*2),m.fromArray(a,C*2),c.sub(u),f.sub(u),p.sub(h),m.sub(h);let T=1/(p.x*m.y-m.x*p.y);!isFinite(T)||(g.copy(c).multiplyScalar(m.y).addScaledVector(f,-p.y).multiplyScalar(T),v.copy(f).multiplyScalar(p.x).addScaledVector(c,-m.x).multiplyScalar(T),l[A].add(g),l[M].add(g),l[C].add(g),d[A].add(v),d[M].add(v),d[C].add(v))}let b=this.groups;b.length===0&&(b=[{start:0,count:i.length}]);for(let A=0,M=b.length;A<M;++A){let C=b[A],T=C.start,P=C.count;for(let I=T,j=T+P;I<j;I+=3)y(i[I+0],i[I+1],i[I+2])}let _=new E,x=new E,k=new E,w=new E;function S(A){k.fromArray(r,A*3),w.copy(k);let M=l[A];_.copy(M),_.sub(k.multiplyScalar(k.dot(M))).normalize(),x.crossVectors(w,M);let C=x.dot(d[A])<0?-1:1;o[A*4]=_.x,o[A*4+1]=_.y,o[A*4+2]=_.z,o[A*4+3]=C}for(let A=0,M=b.length;A<M;++A){let C=b[A],T=C.start,P=C.count;for(let I=T,j=T+P;I<j;I+=3)S(i[I+0]),S(i[I+1]),S(i[I+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new _t(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let c=0,f=i.count;c<f;c++)i.setXYZ(c,0,0,0);let n=new E,r=new E,a=new E,s=new E,o=new E,l=new E,d=new E,u=new E;if(e)for(let c=0,f=e.count;c<f;c+=3){let h=e.getX(c+0),p=e.getX(c+1),m=e.getX(c+2);n.fromBufferAttribute(t,h),r.fromBufferAttribute(t,p),a.fromBufferAttribute(t,m),d.subVectors(a,r),u.subVectors(n,r),d.cross(u),s.fromBufferAttribute(i,h),o.fromBufferAttribute(i,p),l.fromBufferAttribute(i,m),s.add(d),o.add(d),l.add(d),i.setXYZ(h,s.x,s.y,s.z),i.setXYZ(p,o.x,o.y,o.z),i.setXYZ(m,l.x,l.y,l.z)}else for(let c=0,f=t.count;c<f;c+=3)n.fromBufferAttribute(t,c+0),r.fromBufferAttribute(t,c+1),a.fromBufferAttribute(t,c+2),d.subVectors(a,r),u.subVectors(n,r),d.cross(u),i.setXYZ(c+0,d.x,d.y,d.z),i.setXYZ(c+1,d.x,d.y,d.z),i.setXYZ(c+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){let e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Pn.fromBufferAttribute(e,t),Pn.normalize(),e.setXYZ(t,Pn.x,Pn.y,Pn.z)}toNonIndexed(){function e(s,o){let l=s.array,d=s.itemSize,u=s.normalized,c=new l.constructor(o.length*d),f=0,h=0;for(let p=0,m=o.length;p<m;p++){s.isInterleavedBufferAttribute?f=o[p]*s.data.stride+s.offset:f=o[p]*d;for(let g=0;g<d;g++)c[h++]=l[f++]}return new _t(c,d,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new dt,i=this.index.array,n=this.attributes;for(let s in n){let o=n[s],l=e(o,i);t.setAttribute(s,l)}let r=this.morphAttributes;for(let s in r){let o=[],l=r[s];for(let d=0,u=l.length;d<u;d++){let c=l[d],f=e(c,i);o.push(f)}t.morphAttributes[s]=o}t.morphTargetsRelative=this.morphTargetsRelative;let a=this.groups;for(let s=0,o=a.length;s<o;s++){let l=a[s];t.addGroup(l.start,l.count,l.materialIndex)}return t}toJSON(){let e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let o=this.parameters;for(let l in o)o[l]!==void 0&&(e[l]=o[l]);return e}e.data={attributes:{}};let t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let i=this.attributes;for(let o in i){let l=i[o];e.data.attributes[o]=l.toJSON(e.data)}let n={},r=!1;for(let o in this.morphAttributes){let l=this.morphAttributes[o],d=[];for(let u=0,c=l.length;u<c;u++){let f=l[u];d.push(f.toJSON(e.data))}d.length>0&&(n[o]=d,r=!0)}r&&(e.data.morphAttributes=n,e.data.morphTargetsRelative=this.morphTargetsRelative);let a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));let s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let i=e.index;i!==null&&this.setIndex(i.clone(t));let n=e.attributes;for(let l in n){let d=n[l];this.setAttribute(l,d.clone(t))}let r=e.morphAttributes;for(let l in r){let d=[],u=r[l];for(let c=0,f=u.length;c<f;c++)d.push(u[c].clone(t));this.morphAttributes[l]=d}this.morphTargetsRelative=e.morphTargetsRelative;let a=e.groups;for(let l=0,d=a.length;l<d;l++){let u=a[l];this.addGroup(u.start,u.count,u.materialIndex)}let s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());let o=e.boundingSphere;return o!==null&&(this.boundingSphere=o.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}},aA=new Ee,nc=new Kd,L0=new Er,ff=new E,hf=new E,pf=new E,F0=new E,Cp=new E,Ep=new Y,Tp=new Y,Dp=new Y,N0=new E,Pp=new E,cr=class extends mi{constructor(e=new dt,t=new cf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let i=e[t[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let n=0,r=i.length;n<r;n++){let a=i[n].name||String(n);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=n}}}}getVertexPosition(e,t){let i=this.geometry,n=i.attributes.position,r=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(n,e);let s=this.morphTargetInfluences;if(r&&s){Cp.set(0,0,0);for(let o=0,l=r.length;o<l;o++){let d=s[o],u=r[o];d!==0&&(F0.fromBufferAttribute(u,e),a?Cp.addScaledVector(F0,d):Cp.addScaledVector(F0.sub(t),d))}t.add(Cp)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){let i=this.geometry,n=this.material,r=this.matrixWorld;if(n===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),L0.copy(i.boundingSphere),L0.applyMatrix4(r),e.ray.intersectsSphere(L0)===!1)||(aA.copy(r).invert(),nc.copy(e.ray).applyMatrix4(aA),i.boundingBox!==null&&nc.intersectsBox(i.boundingBox)===!1))return;let a,s=i.index,o=i.attributes.position,l=i.attributes.uv,d=i.attributes.uv2,u=i.groups,c=i.drawRange;if(s!==null)if(Array.isArray(n))for(let f=0,h=u.length;f<h;f++){let p=u[f],m=n[p.materialIndex],g=Math.max(p.start,c.start),v=Math.min(s.count,Math.min(p.start+p.count,c.start+c.count));for(let y=g,b=v;y<b;y+=3){let _=s.getX(y),x=s.getX(y+1),k=s.getX(y+2);a=Ip(this,m,e,nc,l,d,_,x,k),a&&(a.faceIndex=Math.floor(y/3),a.face.materialIndex=p.materialIndex,t.push(a))}}else{let f=Math.max(0,c.start),h=Math.min(s.count,c.start+c.count);for(let p=f,m=h;p<m;p+=3){let g=s.getX(p),v=s.getX(p+1),y=s.getX(p+2);a=Ip(this,n,e,nc,l,d,g,v,y),a&&(a.faceIndex=Math.floor(p/3),t.push(a))}}else if(o!==void 0)if(Array.isArray(n))for(let f=0,h=u.length;f<h;f++){let p=u[f],m=n[p.materialIndex],g=Math.max(p.start,c.start),v=Math.min(o.count,Math.min(p.start+p.count,c.start+c.count));for(let y=g,b=v;y<b;y+=3){let _=y,x=y+1,k=y+2;a=Ip(this,m,e,nc,l,d,_,x,k),a&&(a.faceIndex=Math.floor(y/3),a.face.materialIndex=p.materialIndex,t.push(a))}}else{let f=Math.max(0,c.start),h=Math.min(o.count,c.start+c.count);for(let p=f,m=h;p<m;p+=3){let g=p,v=p+1,y=p+2;a=Ip(this,n,e,nc,l,d,g,v,y),a&&(a.faceIndex=Math.floor(p/3),t.push(a))}}}};function r8(e,t,i,n,r,a,s,o){let l;if(t.side===Tn?l=n.intersectTriangle(s,a,r,!0,o):l=n.intersectTriangle(r,a,s,t.side===Ta,o),l===null)return null;Pp.copy(o),Pp.applyMatrix4(e.matrixWorld);let d=i.ray.origin.distanceTo(Pp);return d<i.near||d>i.far?null:{distance:d,point:Pp.clone(),object:e}}function Ip(e,t,i,n,r,a,s,o,l){e.getVertexPosition(s,ff),e.getVertexPosition(o,hf),e.getVertexPosition(l,pf);let d=r8(e,t,i,n,ff,hf,pf,N0);if(d){r&&(Ep.fromBufferAttribute(r,s),Tp.fromBufferAttribute(r,o),Dp.fromBufferAttribute(r,l),d.uv=Kn.getUV(N0,ff,hf,pf,Ep,Tp,Dp,new Y)),a&&(Ep.fromBufferAttribute(a,s),Tp.fromBufferAttribute(a,o),Dp.fromBufferAttribute(a,l),d.uv2=Kn.getUV(N0,ff,hf,pf,Ep,Tp,Dp,new Y));let u={a:s,b:o,c:l,normal:new E,materialIndex:0};Kn.getNormal(ff,hf,pf,u.normal),d.face=u}return d}var ls=class extends dt{constructor(e=1,t=1,i=1,n=1,r=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:n,heightSegments:r,depthSegments:a};let s=this;n=Math.floor(n),r=Math.floor(r),a=Math.floor(a);let o=[],l=[],d=[],u=[],c=0,f=0;h("z","y","x",-1,-1,i,t,e,a,r,0),h("z","y","x",1,-1,i,t,-e,a,r,1),h("x","z","y",1,1,e,i,t,n,a,2),h("x","z","y",1,-1,e,i,-t,n,a,3),h("x","y","z",1,-1,e,t,i,n,r,4),h("x","y","z",-1,-1,e,t,-i,n,r,5),this.setIndex(o),this.setAttribute("position",new Ke(l,3)),this.setAttribute("normal",new Ke(d,3)),this.setAttribute("uv",new Ke(u,2));function h(p,m,g,v,y,b,_,x,k,w,S){let A=b/k,M=_/w,C=b/2,T=_/2,P=x/2,I=k+1,j=w+1,H=0,U=0,O=new E;for(let F=0;F<j;F++){let Z=F*M-T;for(let G=0;G<I;G++){let L=G*A-C;O[p]=L*v,O[m]=Z*y,O[g]=P,l.push(O.x,O.y,O.z),O[p]=0,O[m]=0,O[g]=x>0?1:-1,d.push(O.x,O.y,O.z),u.push(G/k),u.push(1-F/w),H+=1}}for(let F=0;F<w;F++)for(let Z=0;Z<k;Z++){let G=c+Z+I*F,L=c+Z+I*(F+1),X=c+(Z+1)+I*(F+1),q=c+(Z+1)+I*F;o.push(G,L,q),o.push(L,X,q),U+=6}s.addGroup(f,U,S),f+=U,c+=H}}static fromJSON(e){return new ls(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function rc(e){let t={};for(let i in e){t[i]={};for(let n in e[i]){let r=e[i][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?t[i][n]=r.clone():Array.isArray(r)?t[i][n]=r.slice():t[i][n]=r}}return t}function ur(e){let t={};for(let i=0;i<e.length;i++){let n=rc(e[i]);for(let r in n)t[r]=n[r]}return t}function a8(e){let t=[];for(let i=0;i<e.length;i++)t.push(e[i].clone());return t}function sA(e){return e.getRenderTarget()===null&&e.outputEncoding===Dt?os:hp}var ac={clone:rc,merge:ur},s8=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,o8=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,_i=class extends df{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=s8,this.fragmentShader=o8,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=rc(e.uniforms),this.uniformsGroups=a8(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let n in this.uniforms){let r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;let i={};for(let n in this.extensions)this.extensions[n]===!0&&(i[n]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}},sc=class extends mi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ee,this.projectionMatrix=new Ee,this.projectionMatrixInverse=new Ee}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},Qn=class extends sc{constructor(e=50,t=1,i=.1,n=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=n,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=rf*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(nf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return rf*2*Math.atan(Math.tan(nf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,n,r,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(nf*.5*this.fov)/this.zoom,i=2*t,n=this.aspect*i,r=-.5*n,a=this.view;if(this.view!==null&&this.view.enabled){let o=a.fullWidth,l=a.fullHeight;r+=a.offsetX*n/o,t-=a.offsetY*i/l,n*=a.width/o,i*=a.height/l}let s=this.filmOffset;s!==0&&(r+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+n,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}},oc=-90,lc=1,l8=class extends mi{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;let n=new Qn(oc,lc,e,t);n.layers=this.layers,n.up.set(0,1,0),n.lookAt(1,0,0),this.add(n);let r=new Qn(oc,lc,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(-1,0,0),this.add(r);let a=new Qn(oc,lc,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(0,1,0),this.add(a);let s=new Qn(oc,lc,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(0,-1,0),this.add(s);let o=new Qn(oc,lc,e,t);o.layers=this.layers,o.up.set(0,1,0),o.lookAt(0,0,1),this.add(o);let l=new Qn(oc,lc,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,-1),this.add(l)}update(e,t){this.parent===null&&this.updateMatrixWorld();let i=this.renderTarget,[n,r,a,s,o,l]=this.children,d=e.getRenderTarget(),u=e.toneMapping,c=e.xr.enabled;e.toneMapping=Ws,e.xr.enabled=!1;let f=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,n),e.setRenderTarget(i,1),e.render(t,r),e.setRenderTarget(i,2),e.render(t,a),e.setRenderTarget(i,3),e.render(t,s),e.setRenderTarget(i,4),e.render(t,o),i.texture.generateMipmaps=f,e.setRenderTarget(i,5),e.render(t,l),e.setRenderTarget(d),e.toneMapping=u,e.xr.enabled=c,i.texture.needsPMREMUpdate=!0}},U0=class extends gn{constructor(e,t,i,n,r,a,s,o,l,d){e=e!==void 0?e:[],t=t!==void 0?t:Rl,super(e,t,i,n,r,a,s,o,l,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},d8=class extends pi{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;let i={width:e,height:e,depth:1},n=[i,i,i,i,i,i];this.texture=new U0(n,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Rt}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},n=new ls(5,5,5),r=new _i({name:"CubemapFromEquirect",uniforms:rc(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Tn,blending:sn});r.uniforms.tEquirect.value=t;let a=new cr(n,r),s=t.minFilter;return t.minFilter===Hd&&(t.minFilter=Rt),new l8(1,10,this).update(e,a),t.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,i,n){let r=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,n);e.setRenderTarget(r)}},V0=new E,c8=new E,u8=new Yi,Jr=class{constructor(e=new E(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,n){return this.normal.set(e,t,i),this.constant=n,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){let n=V0.subVectors(i,t).cross(c8.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){let i=e.delta(V0),n=this.normal.dot(i);if(n===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;let r=-(e.start.dot(this.normal)+this.constant)/n;return r<0||r>1?null:t.copy(i).multiplyScalar(r).add(e.start)}intersectsLine(e){let t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let i=t||u8.getNormalMatrix(e),n=this.coplanarPoint(V0).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-n.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}},dc=new Er,Op=new E,H0=class{constructor(e=new Jr,t=new Jr,i=new Jr,n=new Jr,r=new Jr,a=new Jr){this.planes=[e,t,i,n,r,a]}set(e,t,i,n,r,a){let s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(i),s[3].copy(n),s[4].copy(r),s[5].copy(a),this}copy(e){let t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){let t=this.planes,i=e.elements,n=i[0],r=i[1],a=i[2],s=i[3],o=i[4],l=i[5],d=i[6],u=i[7],c=i[8],f=i[9],h=i[10],p=i[11],m=i[12],g=i[13],v=i[14],y=i[15];return t[0].setComponents(s-n,u-o,p-c,y-m).normalize(),t[1].setComponents(s+n,u+o,p+c,y+m).normalize(),t[2].setComponents(s+r,u+l,p+f,y+g).normalize(),t[3].setComponents(s-r,u-l,p-f,y-g).normalize(),t[4].setComponents(s-a,u-d,p-h,y-v).normalize(),t[5].setComponents(s+a,u+d,p+h,y+v).normalize(),this}intersectsObject(e){let t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),dc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(dc)}intersectsSprite(e){return dc.center.set(0,0,0),dc.radius=.7071067811865476,dc.applyMatrix4(e.matrixWorld),this.intersectsSphere(dc)}intersectsSphere(e){let t=this.planes,i=e.center,n=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(i)<n)return!1;return!0}intersectsBox(e){let t=this.planes;for(let i=0;i<6;i++){let n=t[i];if(Op.x=n.normal.x>0?e.max.x:e.min.x,Op.y=n.normal.y>0?e.max.y:e.min.y,Op.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(Op)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function oA(){let e=null,t=!1,i=null,n=null;function r(a,s){i(a,s),n=e.requestAnimationFrame(r)}return{start:function(){t!==!0&&i!==null&&(n=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(a){i=a},setContext:function(a){e=a}}}function f8(e,t){let i=t.isWebGL2,n=new WeakMap;function r(d,u){let c=d.array,f=d.usage,h=e.createBuffer();e.bindBuffer(u,h),e.bufferData(u,c,f),d.onUploadCallback();let p;if(c instanceof Float32Array)p=5126;else if(c instanceof Uint16Array)if(d.isFloat16BufferAttribute)if(i)p=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else p=5123;else if(c instanceof Int16Array)p=5122;else if(c instanceof Uint32Array)p=5125;else if(c instanceof Int32Array)p=5124;else if(c instanceof Int8Array)p=5120;else if(c instanceof Uint8Array)p=5121;else if(c instanceof Uint8ClampedArray)p=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:p,bytesPerElement:c.BYTES_PER_ELEMENT,version:d.version}}function a(d,u,c){let f=u.array,h=u.updateRange;e.bindBuffer(c,d),h.count===-1?e.bufferSubData(c,0,f):(i?e.bufferSubData(c,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):e.bufferSubData(c,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1),u.onUploadCallback()}function s(d){return d.isInterleavedBufferAttribute&&(d=d.data),n.get(d)}function o(d){d.isInterleavedBufferAttribute&&(d=d.data);let u=n.get(d);u&&(e.deleteBuffer(u.buffer),n.delete(d))}function l(d,u){if(d.isGLBufferAttribute){let f=n.get(d);(!f||f.version<d.version)&&n.set(d,{buffer:d.buffer,type:d.type,bytesPerElement:d.elementSize,version:d.version});return}d.isInterleavedBufferAttribute&&(d=d.data);let c=n.get(d);c===void 0?n.set(d,r(d,u)):c.version<d.version&&(a(c.buffer,d,u),c.version=d.version)}return{get:s,remove:o,update:l}}var jp=class extends dt{constructor(e=1,t=1,i=1,n=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:n};let r=e/2,a=t/2,s=Math.floor(i),o=Math.floor(n),l=s+1,d=o+1,u=e/s,c=t/o,f=[],h=[],p=[],m=[];for(let g=0;g<d;g++){let v=g*c-a;for(let y=0;y<l;y++){let b=y*u-r;h.push(b,-v,0),p.push(0,0,1),m.push(y/s),m.push(1-g/o)}}for(let g=0;g<o;g++)for(let v=0;v<s;v++){let y=v+l*g,b=v+l*(g+1),_=v+1+l*(g+1),x=v+1+l*g;f.push(y,b,x),f.push(b,_,x)}this.setIndex(f),this.setAttribute("position",new Ke(h,3)),this.setAttribute("normal",new Ke(p,3)),this.setAttribute("uv",new Ke(m,2))}static fromJSON(e){return new jp(e.width,e.height,e.widthSegments,e.heightSegments)}},h8=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,p8=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,m8=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,g8=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,v8=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,y8=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,b8="vec3 transformed = vec3( position );",_8=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,w8=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,x8=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,k8=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,S8=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,A8=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,M8=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,C8=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,E8=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,T8=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,D8=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,P8=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,I8=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,O8=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,j8=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,R8=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,z8=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,B8=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,L8=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,F8="gl_FragColor = linearToOutputTexel( gl_FragColor );",N8=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,U8=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,V8=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,H8=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,G8=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,W8=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,q8=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Z8=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Y8=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,X8=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,K8=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Q8=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,J8=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,$8=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,eF=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,tF=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,iF=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,nF=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,rF=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,aF=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,sF=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,oF=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lF=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,dF=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,cF=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,uF=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,fF=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,hF=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,pF=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,mF=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,gF=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,vF=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,yF=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,bF=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,_F=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,wF=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,xF=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,kF=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,SF=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,AF=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,MF=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,CF=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,EF=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,TF=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,DF=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,PF=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,IF=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,OF=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,jF=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,RF=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,zF=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,BF=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,LF=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,FF=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,NF=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,UF=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,VF=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,HF=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,GF=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,WF=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,qF=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,ZF=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,YF=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,XF=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,KF=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,QF=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,JF=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,$F=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,e7=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,t7=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,i7=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,n7=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,r7=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,a7=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,s7=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,o7=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,l7=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,d7=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,c7=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,u7=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,f7=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,h7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,p7=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,m7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,g7=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,v7=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,y7=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,b7=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,_7=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,w7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,x7=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,k7=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,S7=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,A7=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,M7=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,C7=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,E7=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,T7=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,D7=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,P7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,I7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,O7=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,j7=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,R7=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,z7=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,B7=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,L7=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,F7=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,N7=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,U7=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,V7=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,H7=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,G7=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,jt={alphamap_fragment:h8,alphamap_pars_fragment:p8,alphatest_fragment:m8,alphatest_pars_fragment:g8,aomap_fragment:v8,aomap_pars_fragment:y8,begin_vertex:b8,beginnormal_vertex:_8,bsdfs:w8,iridescence_fragment:x8,bumpmap_pars_fragment:k8,clipping_planes_fragment:S8,clipping_planes_pars_fragment:A8,clipping_planes_pars_vertex:M8,clipping_planes_vertex:C8,color_fragment:E8,color_pars_fragment:T8,color_pars_vertex:D8,color_vertex:P8,common:I8,cube_uv_reflection_fragment:O8,defaultnormal_vertex:j8,displacementmap_pars_vertex:R8,displacementmap_vertex:z8,emissivemap_fragment:B8,emissivemap_pars_fragment:L8,encodings_fragment:F8,encodings_pars_fragment:N8,envmap_fragment:U8,envmap_common_pars_fragment:V8,envmap_pars_fragment:H8,envmap_pars_vertex:G8,envmap_physical_pars_fragment:iF,envmap_vertex:W8,fog_vertex:q8,fog_pars_vertex:Z8,fog_fragment:Y8,fog_pars_fragment:X8,gradientmap_pars_fragment:K8,lightmap_fragment:Q8,lightmap_pars_fragment:J8,lights_lambert_fragment:$8,lights_lambert_pars_fragment:eF,lights_pars_begin:tF,lights_toon_fragment:nF,lights_toon_pars_fragment:rF,lights_phong_fragment:aF,lights_phong_pars_fragment:sF,lights_physical_fragment:oF,lights_physical_pars_fragment:lF,lights_fragment_begin:dF,lights_fragment_maps:cF,lights_fragment_end:uF,logdepthbuf_fragment:fF,logdepthbuf_pars_fragment:hF,logdepthbuf_pars_vertex:pF,logdepthbuf_vertex:mF,map_fragment:gF,map_pars_fragment:vF,map_particle_fragment:yF,map_particle_pars_fragment:bF,metalnessmap_fragment:_F,metalnessmap_pars_fragment:wF,morphcolor_vertex:xF,morphnormal_vertex:kF,morphtarget_pars_vertex:SF,morphtarget_vertex:AF,normal_fragment_begin:MF,normal_fragment_maps:CF,normal_pars_fragment:EF,normal_pars_vertex:TF,normal_vertex:DF,normalmap_pars_fragment:PF,clearcoat_normal_fragment_begin:IF,clearcoat_normal_fragment_maps:OF,clearcoat_pars_fragment:jF,iridescence_pars_fragment:RF,output_fragment:zF,packing:BF,premultiplied_alpha_fragment:LF,project_vertex:FF,dithering_fragment:NF,dithering_pars_fragment:UF,roughnessmap_fragment:VF,roughnessmap_pars_fragment:HF,shadowmap_pars_fragment:GF,shadowmap_pars_vertex:WF,shadowmap_vertex:qF,shadowmask_pars_fragment:ZF,skinbase_vertex:YF,skinning_pars_vertex:XF,skinning_vertex:KF,skinnormal_vertex:QF,specularmap_fragment:JF,specularmap_pars_fragment:$F,tonemapping_fragment:e7,tonemapping_pars_fragment:t7,transmission_fragment:i7,transmission_pars_fragment:n7,uv_pars_fragment:r7,uv_pars_vertex:a7,uv_vertex:s7,uv2_pars_fragment:o7,uv2_pars_vertex:l7,uv2_vertex:d7,worldpos_vertex:c7,background_vert:u7,background_frag:f7,backgroundCube_vert:h7,backgroundCube_frag:p7,cube_vert:m7,cube_frag:g7,depth_vert:v7,depth_frag:y7,distanceRGBA_vert:b7,distanceRGBA_frag:_7,equirect_vert:w7,equirect_frag:x7,linedashed_vert:k7,linedashed_frag:S7,meshbasic_vert:A7,meshbasic_frag:M7,meshlambert_vert:C7,meshlambert_frag:E7,meshmatcap_vert:T7,meshmatcap_frag:D7,meshnormal_vert:P7,meshnormal_frag:I7,meshphong_vert:O7,meshphong_frag:j7,meshphysical_vert:R7,meshphysical_frag:z7,meshtoon_vert:B7,meshtoon_frag:L7,points_vert:F7,points_frag:N7,shadow_vert:U7,shadow_frag:V7,sprite_vert:H7,sprite_frag:G7},Ue={common:{diffuse:{value:new pt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Yi},uv2Transform:{value:new Yi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Y(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new pt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new pt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Yi}},sprite:{diffuse:{value:new pt(16777215)},opacity:{value:1},center:{value:new Y(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Yi}}},ds={basic:{uniforms:ur([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.fog]),vertexShader:jt.meshbasic_vert,fragmentShader:jt.meshbasic_frag},lambert:{uniforms:ur([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,Ue.lights,{emissive:{value:new pt(0)}}]),vertexShader:jt.meshlambert_vert,fragmentShader:jt.meshlambert_frag},phong:{uniforms:ur([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,Ue.lights,{emissive:{value:new pt(0)},specular:{value:new pt(1118481)},shininess:{value:30}}]),vertexShader:jt.meshphong_vert,fragmentShader:jt.meshphong_frag},standard:{uniforms:ur([Ue.common,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.roughnessmap,Ue.metalnessmap,Ue.fog,Ue.lights,{emissive:{value:new pt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:jt.meshphysical_vert,fragmentShader:jt.meshphysical_frag},toon:{uniforms:ur([Ue.common,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.gradientmap,Ue.fog,Ue.lights,{emissive:{value:new pt(0)}}]),vertexShader:jt.meshtoon_vert,fragmentShader:jt.meshtoon_frag},matcap:{uniforms:ur([Ue.common,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,{matcap:{value:null}}]),vertexShader:jt.meshmatcap_vert,fragmentShader:jt.meshmatcap_frag},points:{uniforms:ur([Ue.points,Ue.fog]),vertexShader:jt.points_vert,fragmentShader:jt.points_frag},dashed:{uniforms:ur([Ue.common,Ue.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:jt.linedashed_vert,fragmentShader:jt.linedashed_frag},depth:{uniforms:ur([Ue.common,Ue.displacementmap]),vertexShader:jt.depth_vert,fragmentShader:jt.depth_frag},normal:{uniforms:ur([Ue.common,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,{opacity:{value:1}}]),vertexShader:jt.meshnormal_vert,fragmentShader:jt.meshnormal_frag},sprite:{uniforms:ur([Ue.sprite,Ue.fog]),vertexShader:jt.sprite_vert,fragmentShader:jt.sprite_frag},background:{uniforms:{uvTransform:{value:new Yi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:jt.background_vert,fragmentShader:jt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:jt.backgroundCube_vert,fragmentShader:jt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:jt.cube_vert,fragmentShader:jt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:jt.equirect_vert,fragmentShader:jt.equirect_frag},distanceRGBA:{uniforms:ur([Ue.common,Ue.displacementmap,{referencePosition:{value:new E},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:jt.distanceRGBA_vert,fragmentShader:jt.distanceRGBA_frag},shadow:{uniforms:ur([Ue.lights,Ue.fog,{color:{value:new pt(0)},opacity:{value:1}}]),vertexShader:jt.shadow_vert,fragmentShader:jt.shadow_frag}};ds.physical={uniforms:ur([ds.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Y(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new pt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Y},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new pt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new pt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:jt.meshphysical_vert,fragmentShader:jt.meshphysical_frag};var Rp={r:0,b:0,g:0};function W7(e,t,i,n,r,a,s){let o=new pt(0),l=a===!0?0:1,d,u,c=null,f=0,h=null;function p(g,v){let y=!1,b=v.isScene===!0?v.background:null;b&&b.isTexture&&(b=(v.backgroundBlurriness>0?i:t).get(b));let _=e.xr,x=_.getSession&&_.getSession();x&&x.environmentBlendMode==="additive"&&(b=null),b===null?m(o,l):b&&b.isColor&&(m(b,1),y=!0),(e.autoClear||y)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),b&&(b.isCubeTexture||b.mapping===tf)?(u===void 0&&(u=new cr(new ls(1,1,1),new _i({name:"BackgroundCubeMaterial",uniforms:rc(ds.backgroundCube.uniforms),vertexShader:ds.backgroundCube.vertexShader,fragmentShader:ds.backgroundCube.fragmentShader,side:Tn,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(k,w,S){this.matrixWorld.copyPosition(S.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=b,u.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=b.encoding!==Dt,(c!==b||f!==b.version||h!==e.toneMapping)&&(u.material.needsUpdate=!0,c=b,f=b.version,h=e.toneMapping),u.layers.enableAll(),g.unshift(u,u.geometry,u.material,0,0,null)):b&&b.isTexture&&(d===void 0&&(d=new cr(new jp(2,2),new _i({name:"BackgroundMaterial",uniforms:rc(ds.background.uniforms),vertexShader:ds.background.vertexShader,fragmentShader:ds.background.fragmentShader,side:Ta,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(d)),d.material.uniforms.t2D.value=b,d.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,d.material.toneMapped=b.encoding!==Dt,b.matrixAutoUpdate===!0&&b.updateMatrix(),d.material.uniforms.uvTransform.value.copy(b.matrix),(c!==b||f!==b.version||h!==e.toneMapping)&&(d.material.needsUpdate=!0,c=b,f=b.version,h=e.toneMapping),d.layers.enableAll(),g.unshift(d,d.geometry,d.material,0,0,null))}function m(g,v){g.getRGB(Rp,sA(e)),n.buffers.color.setClear(Rp.r,Rp.g,Rp.b,v,s)}return{getClearColor:function(){return o},setClearColor:function(g,v=1){o.set(g),l=v,m(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(g){l=g,m(o,l)},render:p}}function q7(e,t,i,n){let r=e.getParameter(34921),a=n.isWebGL2?null:t.get("OES_vertex_array_object"),s=n.isWebGL2||a!==null,o={},l=g(null),d=l,u=!1;function c(I,j,H,U,O){let F=!1;if(s){let Z=m(U,H,j);d!==Z&&(d=Z,h(d.object)),F=v(I,U,H,O),F&&y(I,U,H,O)}else{let Z=j.wireframe===!0;(d.geometry!==U.id||d.program!==H.id||d.wireframe!==Z)&&(d.geometry=U.id,d.program=H.id,d.wireframe=Z,F=!0)}O!==null&&i.update(O,34963),(F||u)&&(u=!1,S(I,j,H,U),O!==null&&e.bindBuffer(34963,i.get(O).buffer))}function f(){return n.isWebGL2?e.createVertexArray():a.createVertexArrayOES()}function h(I){return n.isWebGL2?e.bindVertexArray(I):a.bindVertexArrayOES(I)}function p(I){return n.isWebGL2?e.deleteVertexArray(I):a.deleteVertexArrayOES(I)}function m(I,j,H){let U=H.wireframe===!0,O=o[I.id];O===void 0&&(O={},o[I.id]=O);let F=O[j.id];F===void 0&&(F={},O[j.id]=F);let Z=F[U];return Z===void 0&&(Z=g(f()),F[U]=Z),Z}function g(I){let j=[],H=[],U=[];for(let O=0;O<r;O++)j[O]=0,H[O]=0,U[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:H,attributeDivisors:U,object:I,attributes:{},index:null}}function v(I,j,H,U){let O=d.attributes,F=j.attributes,Z=0,G=H.getAttributes();for(let L in G)if(G[L].location>=0){let X=O[L],q=F[L];if(q===void 0&&(L==="instanceMatrix"&&I.instanceMatrix&&(q=I.instanceMatrix),L==="instanceColor"&&I.instanceColor&&(q=I.instanceColor)),X===void 0||X.attribute!==q||q&&X.data!==q.data)return!0;Z++}return d.attributesNum!==Z||d.index!==U}function y(I,j,H,U){let O={},F=j.attributes,Z=0,G=H.getAttributes();for(let L in G)if(G[L].location>=0){let X=F[L];X===void 0&&(L==="instanceMatrix"&&I.instanceMatrix&&(X=I.instanceMatrix),L==="instanceColor"&&I.instanceColor&&(X=I.instanceColor));let q={};q.attribute=X,X&&X.data&&(q.data=X.data),O[L]=q,Z++}d.attributes=O,d.attributesNum=Z,d.index=U}function b(){let I=d.newAttributes;for(let j=0,H=I.length;j<H;j++)I[j]=0}function _(I){x(I,0)}function x(I,j){let H=d.newAttributes,U=d.enabledAttributes,O=d.attributeDivisors;H[I]=1,U[I]===0&&(e.enableVertexAttribArray(I),U[I]=1),O[I]!==j&&((n.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](I,j),O[I]=j)}function k(){let I=d.newAttributes,j=d.enabledAttributes;for(let H=0,U=j.length;H<U;H++)j[H]!==I[H]&&(e.disableVertexAttribArray(H),j[H]=0)}function w(I,j,H,U,O,F){n.isWebGL2===!0&&(H===5124||H===5125)?e.vertexAttribIPointer(I,j,H,O,F):e.vertexAttribPointer(I,j,H,U,O,F)}function S(I,j,H,U){if(n.isWebGL2===!1&&(I.isInstancedMesh||U.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;b();let O=U.attributes,F=H.getAttributes(),Z=j.defaultAttributeValues;for(let G in F){let L=F[G];if(L.location>=0){let X=O[G];if(X===void 0&&(G==="instanceMatrix"&&I.instanceMatrix&&(X=I.instanceMatrix),G==="instanceColor"&&I.instanceColor&&(X=I.instanceColor)),X!==void 0){let q=X.normalized,J=X.itemSize,W=i.get(X);if(W===void 0)continue;let ce=W.buffer,te=W.type,oe=W.bytesPerElement;if(X.isInterleavedBufferAttribute){let ie=X.data,we=ie.stride,pe=X.offset;if(ie.isInstancedInterleavedBuffer){for(let fe=0;fe<L.locationSize;fe++)x(L.location+fe,ie.meshPerAttribute);I.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=ie.meshPerAttribute*ie.count)}else for(let fe=0;fe<L.locationSize;fe++)_(L.location+fe);e.bindBuffer(34962,ce);for(let fe=0;fe<L.locationSize;fe++)w(L.location+fe,J/L.locationSize,te,q,we*oe,(pe+J/L.locationSize*fe)*oe)}else{if(X.isInstancedBufferAttribute){for(let ie=0;ie<L.locationSize;ie++)x(L.location+ie,X.meshPerAttribute);I.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=X.meshPerAttribute*X.count)}else for(let ie=0;ie<L.locationSize;ie++)_(L.location+ie);e.bindBuffer(34962,ce);for(let ie=0;ie<L.locationSize;ie++)w(L.location+ie,J/L.locationSize,te,q,J*oe,J/L.locationSize*ie*oe)}}else if(Z!==void 0){let q=Z[G];if(q!==void 0)switch(q.length){case 2:e.vertexAttrib2fv(L.location,q);break;case 3:e.vertexAttrib3fv(L.location,q);break;case 4:e.vertexAttrib4fv(L.location,q);break;default:e.vertexAttrib1fv(L.location,q)}}}}k()}function A(){T();for(let I in o){let j=o[I];for(let H in j){let U=j[H];for(let O in U)p(U[O].object),delete U[O];delete j[H]}delete o[I]}}function M(I){if(o[I.id]===void 0)return;let j=o[I.id];for(let H in j){let U=j[H];for(let O in U)p(U[O].object),delete U[O];delete j[H]}delete o[I.id]}function C(I){for(let j in o){let H=o[j];if(H[I.id]===void 0)continue;let U=H[I.id];for(let O in U)p(U[O].object),delete U[O];delete H[I.id]}}function T(){P(),u=!0,d!==l&&(d=l,h(d.object))}function P(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:c,reset:T,resetDefaultState:P,dispose:A,releaseStatesOfGeometry:M,releaseStatesOfProgram:C,initAttributes:b,enableAttribute:_,disableUnusedAttributes:k}}function Z7(e,t,i,n){let r=n.isWebGL2,a;function s(d){a=d}function o(d,u){e.drawArrays(a,d,u),i.update(u,a,1)}function l(d,u,c){if(c===0)return;let f,h;if(r)f=e,h="drawArraysInstanced";else if(f=t.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[h](a,d,u,c),i.update(u,a,c)}this.setMode=s,this.render=o,this.renderInstances=l}function Y7(e,t,i){let n;function r(){if(n!==void 0)return n;if(t.has("EXT_texture_filter_anisotropic")===!0){let w=t.get("EXT_texture_filter_anisotropic");n=e.getParameter(w.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function a(w){if(w==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";w="mediump"}return w==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}let s=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext,o=i.precision!==void 0?i.precision:"highp",l=a(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);let d=s||t.has("WEBGL_draw_buffers"),u=i.logarithmicDepthBuffer===!0,c=e.getParameter(34930),f=e.getParameter(35660),h=e.getParameter(3379),p=e.getParameter(34076),m=e.getParameter(34921),g=e.getParameter(36347),v=e.getParameter(36348),y=e.getParameter(36349),b=f>0,_=s||t.has("OES_texture_float"),x=b&&_,k=s?e.getParameter(36183):0;return{isWebGL2:s,drawBuffers:d,getMaxAnisotropy:r,getMaxPrecision:a,precision:o,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:g,maxVaryings:v,maxFragmentUniforms:y,vertexTextures:b,floatFragmentTextures:_,floatVertexTextures:x,maxSamples:k}}function X7(e){let t=this,i=null,n=0,r=!1,a=!1,s=new Jr,o=new Yi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(c,f){let h=c.length!==0||f||n!==0||r;return r=f,n=c.length,h},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(c,f){i=u(c,f,0)},this.setState=function(c,f,h){let p=c.clippingPlanes,m=c.clipIntersection,g=c.clipShadows,v=e.get(c);if(!r||p===null||p.length===0||a&&!g)a?u(null):d();else{let y=a?0:n,b=y*4,_=v.clippingState||null;l.value=_,_=u(p,f,b,h);for(let x=0;x!==b;++x)_[x]=i[x];v.clippingState=_,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=y}};function d(){l.value!==i&&(l.value=i,l.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function u(c,f,h,p){let m=c!==null?c.length:0,g=null;if(m!==0){if(g=l.value,p!==!0||g===null){let v=h+m*4,y=f.matrixWorldInverse;o.getNormalMatrix(y),(g===null||g.length<v)&&(g=new Float32Array(v));for(let b=0,_=h;b!==m;++b,_+=4)s.copy(c[b]).applyMatrix4(y,o),s.normal.toArray(g,_),g[_+3]=s.constant}l.value=g,l.needsUpdate=!0}return t.numPlanes=m,t.numIntersection=0,g}}function K7(e){let t=new WeakMap;function i(s,o){return o===r0?s.mapping=Rl:o===a0&&(s.mapping=zl),s}function n(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){let o=s.mapping;if(o===r0||o===a0)if(t.has(s)){let l=t.get(s).texture;return i(l,s.mapping)}else{let l=s.image;if(l&&l.height>0){let d=new d8(l.height/2);return d.fromEquirectangularTexture(e,s),t.set(s,d),s.addEventListener("dispose",r),i(d.texture,s.mapping)}else return null}}return s}function r(s){let o=s.target;o.removeEventListener("dispose",r);let l=t.get(o);l!==void 0&&(t.delete(o),l.dispose())}function a(){t=new WeakMap}return{get:n,dispose:a}}var G0=class extends sc{constructor(e=-1,t=1,i=1,n=-1,r=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=n,this.near=r,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,n,r,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2,r=i-e,a=i+e,s=n+t,o=n-t;if(this.view!==null&&this.view.enabled){let l=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=l*this.view.offsetX,a=r+l*this.view.width,s-=d*this.view.offsetY,o=s-d*this.view.height}this.projectionMatrix.makeOrthographic(r,a,s,o,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}},cc=4,lA=[.125,.215,.35,.446,.526,.582],Wl=20,W0=new G0,dA=new pt,q0=null,ql=(1+Math.sqrt(5))/2,uc=1/ql,cA=[new E(1,1,1),new E(-1,1,1),new E(1,1,-1),new E(-1,1,-1),new E(0,ql,uc),new E(0,ql,-uc),new E(uc,0,ql),new E(-uc,0,ql),new E(ql,uc,0),new E(-ql,uc,0)],uA=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,n=100){q0=this._renderer.getRenderTarget(),this._setSize(256);let r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,i,n,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=pA(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=hA(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(q0),e.scissorTest=!1,zp(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Rl||e.mapping===zl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),q0=this._renderer.getRenderTarget();let i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Rt,minFilter:Rt,generateMipmaps:!1,type:Bl,format:Xr,encoding:ss,depthBuffer:!1},n=fA(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=fA(e,t,i);let{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Q7(r)),this._blurMaterial=J7(r,e,t)}return n}_compileMaterial(e){let t=new cr(this._lodPlanes[0],e);this._renderer.compile(t,W0)}_sceneToCubeUV(e,t,i,n){let r=new Qn(90,1,t,i),a=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],o=this._renderer,l=o.autoClear,d=o.toneMapping;o.getClearColor(dA),o.toneMapping=Ws,o.autoClear=!1;let u=new cf({name:"PMREM.Background",side:Tn,depthWrite:!1,depthTest:!1}),c=new cr(new ls,u),f=!1,h=e.background;h?h.isColor&&(u.color.copy(h),e.background=null,f=!0):(u.color.copy(dA),f=!0);for(let p=0;p<6;p++){let m=p%3;m===0?(r.up.set(0,a[p],0),r.lookAt(s[p],0,0)):m===1?(r.up.set(0,0,a[p]),r.lookAt(0,s[p],0)):(r.up.set(0,a[p],0),r.lookAt(0,0,s[p]));let g=this._cubeSize;zp(n,m*g,p>2?g:0,g,g),o.setRenderTarget(n),f&&o.render(c,r),o.render(e,r)}c.geometry.dispose(),c.material.dispose(),o.toneMapping=d,o.autoClear=l,e.background=h}_textureToCubeUV(e,t){let i=this._renderer,n=e.mapping===Rl||e.mapping===zl;n?(this._cubemapMaterial===null&&(this._cubemapMaterial=pA()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=hA());let r=n?this._cubemapMaterial:this._equirectMaterial,a=new cr(this._lodPlanes[0],r),s=r.uniforms;s.envMap.value=e;let o=this._cubeSize;zp(t,0,0,3*o,2*o),i.setRenderTarget(t),i.render(a,W0)}_applyPMREM(e){let t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let n=1;n<this._lodPlanes.length;n++){let r=Math.sqrt(this._sigmas[n]*this._sigmas[n]-this._sigmas[n-1]*this._sigmas[n-1]),a=cA[(n-1)%cA.length];this._blur(e,n-1,n,r,a)}t.autoClear=i}_blur(e,t,i,n,r){let a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,n,"latitudinal",r),this._halfBlur(a,e,i,i,n,"longitudinal",r)}_halfBlur(e,t,i,n,r,a,s){let o=this._renderer,l=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");let d=3,u=new cr(this._lodPlanes[n],l),c=l.uniforms,f=this._sizeLods[i]-1,h=isFinite(r)?Math.PI/(2*f):2*Math.PI/(2*Wl-1),p=r/h,m=isFinite(r)?1+Math.floor(d*p):Wl;m>Wl&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Wl}`);let g=[],v=0;for(let k=0;k<Wl;++k){let w=k/p,S=Math.exp(-w*w/2);g.push(S),k===0?v+=S:k<m&&(v+=2*S)}for(let k=0;k<g.length;k++)g[k]=g[k]/v;c.envMap.value=e.texture,c.samples.value=m,c.weights.value=g,c.latitudinal.value=a==="latitudinal",s&&(c.poleAxis.value=s);let{_lodMax:y}=this;c.dTheta.value=h,c.mipInt.value=y-i;let b=this._sizeLods[n],_=3*b*(n>y-cc?n-y+cc:0),x=4*(this._cubeSize-b);zp(t,_,x,3*b,2*b),o.setRenderTarget(t),o.render(u,W0)}};function Q7(e){let t=[],i=[],n=[],r=e,a=e-cc+1+lA.length;for(let s=0;s<a;s++){let o=Math.pow(2,r);i.push(o);let l=1/o;s>e-cc?l=lA[s-e+cc-1]:s===0&&(l=0),n.push(l);let d=1/(o-2),u=-d,c=1+d,f=[u,u,c,u,c,c,u,u,c,c,u,c],h=6,p=6,m=3,g=2,v=1,y=new Float32Array(m*p*h),b=new Float32Array(g*p*h),_=new Float32Array(v*p*h);for(let k=0;k<h;k++){let w=k%3*2/3-1,S=k>2?0:-1,A=[w,S,0,w+2/3,S,0,w+2/3,S+1,0,w,S,0,w+2/3,S+1,0,w,S+1,0];y.set(A,m*p*k),b.set(f,g*p*k);let M=[k,k,k,k,k,k];_.set(M,v*p*k)}let x=new dt;x.setAttribute("position",new _t(y,m)),x.setAttribute("uv",new _t(b,g)),x.setAttribute("faceIndex",new _t(_,v)),t.push(x),r>cc&&r--}return{lodPlanes:t,sizeLods:i,sigmas:n}}function fA(e,t,i){let n=new pi(e,t,i);return n.texture.mapping=tf,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function zp(e,t,i,n,r){e.viewport.set(t,i,n,r),e.scissor.set(t,i,n,r)}function J7(e,t,i){let n=new Float32Array(Wl),r=new E(0,1,0);return new _i({name:"SphericalGaussianBlur",defines:{n:Wl,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/i,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:Z0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:sn,depthTest:!1,depthWrite:!1})}function hA(){return new _i({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Z0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:sn,depthTest:!1,depthWrite:!1})}function pA(){return new _i({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Z0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:sn,depthTest:!1,depthWrite:!1})}function Z0(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function $7(e){let t=new WeakMap,i=null;function n(o){if(o&&o.isTexture){let l=o.mapping,d=l===r0||l===a0,u=l===Rl||l===zl;if(d||u)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let c=t.get(o);return i===null&&(i=new uA(e)),c=d?i.fromEquirectangular(o,c):i.fromCubemap(o,c),t.set(o,c),c.texture}else{if(t.has(o))return t.get(o).texture;{let c=o.image;if(d&&c&&c.height>0||u&&c&&r(c)){i===null&&(i=new uA(e));let f=d?i.fromEquirectangular(o):i.fromCubemap(o);return t.set(o,f),o.addEventListener("dispose",a),f.texture}else return null}}}return o}function r(o){let l=0,d=6;for(let u=0;u<d;u++)o[u]!==void 0&&l++;return l===d}function a(o){let l=o.target;l.removeEventListener("dispose",a);let d=t.get(l);d!==void 0&&(t.delete(l),d.dispose())}function s(){t=new WeakMap,i!==null&&(i.dispose(),i=null)}return{get:n,dispose:s}}function eN(e){let t={};function i(n){if(t[n]!==void 0)return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(n){return i(n)!==null},init:function(n){n.isWebGL2?i("EXT_color_buffer_float"):(i("WEBGL_depth_texture"),i("OES_texture_float"),i("OES_texture_half_float"),i("OES_texture_half_float_linear"),i("OES_standard_derivatives"),i("OES_element_index_uint"),i("OES_vertex_array_object"),i("ANGLE_instanced_arrays")),i("OES_texture_float_linear"),i("EXT_color_buffer_half_float"),i("WEBGL_multisampled_render_to_texture")},get:function(n){let r=i(n);return r===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function tN(e,t,i,n){let r={},a=new WeakMap;function s(c){let f=c.target;f.index!==null&&t.remove(f.index);for(let p in f.attributes)t.remove(f.attributes[p]);f.removeEventListener("dispose",s),delete r[f.id];let h=a.get(f);h&&(t.remove(h),a.delete(f)),n.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,i.memory.geometries--}function o(c,f){return r[f.id]===!0||(f.addEventListener("dispose",s),r[f.id]=!0,i.memory.geometries++),f}function l(c){let f=c.attributes;for(let p in f)t.update(f[p],34962);let h=c.morphAttributes;for(let p in h){let m=h[p];for(let g=0,v=m.length;g<v;g++)t.update(m[g],34962)}}function d(c){let f=[],h=c.index,p=c.attributes.position,m=0;if(h!==null){let y=h.array;m=h.version;for(let b=0,_=y.length;b<_;b+=3){let x=y[b+0],k=y[b+1],w=y[b+2];f.push(x,k,k,w,w,x)}}else{let y=p.array;m=p.version;for(let b=0,_=y.length/3-1;b<_;b+=3){let x=b+0,k=b+1,w=b+2;f.push(x,k,k,w,w,x)}}let g=new(GS(f)?tc:rA)(f,1);g.version=m;let v=a.get(c);v&&t.remove(v),a.set(c,g)}function u(c){let f=a.get(c);if(f){let h=c.index;h!==null&&f.version<h.version&&d(c)}else d(c);return a.get(c)}return{get:o,update:l,getWireframeAttribute:u}}function iN(e,t,i,n){let r=n.isWebGL2,a;function s(f){a=f}let o,l;function d(f){o=f.type,l=f.bytesPerElement}function u(f,h){e.drawElements(a,h,o,f*l),i.update(h,a,1)}function c(f,h,p){if(p===0)return;let m,g;if(r)m=e,g="drawElementsInstanced";else if(m=t.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",m===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[g](a,h,o,f*l,p),i.update(h,a,p)}this.setMode=s,this.setIndex=d,this.render=u,this.renderInstances=c}function nN(e){let t={geometries:0,textures:0},i={frame:0,calls:0,triangles:0,points:0,lines:0};function n(a,s,o){switch(i.calls++,s){case 4:i.triangles+=o*(a/3);break;case 1:i.lines+=o*(a/2);break;case 3:i.lines+=o*(a-1);break;case 2:i.lines+=o*a;break;case 0:i.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function r(){i.frame++,i.calls=0,i.triangles=0,i.points=0,i.lines=0}return{memory:t,render:i,programs:null,autoReset:!0,reset:r,update:n}}function rN(e,t){return e[0]-t[0]}function aN(e,t){return Math.abs(t[1])-Math.abs(e[1])}function sN(e,t,i){let n={},r=new Float32Array(8),a=new WeakMap,s=new Pt,o=[];for(let d=0;d<8;d++)o[d]=[d,0];function l(d,u,c,f){let h=d.morphTargetInfluences;if(t.isWebGL2===!0){let p=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,m=p!==void 0?p.length:0,g=a.get(u);if(g===void 0||g.count!==m){let b=function(){I.dispose(),a.delete(u),u.removeEventListener("dispose",b)};g!==void 0&&g.texture.dispose();let _=u.morphAttributes.position!==void 0,x=u.morphAttributes.normal!==void 0,k=u.morphAttributes.color!==void 0,w=u.morphAttributes.position||[],S=u.morphAttributes.normal||[],A=u.morphAttributes.color||[],M=0;_===!0&&(M=1),x===!0&&(M=2),k===!0&&(M=3);let C=u.attributes.position.count*M,T=1;C>t.maxTextureSize&&(T=Math.ceil(C/t.maxTextureSize),C=t.maxTextureSize);let P=new Float32Array(C*T*4*m),I=new YS(P,C,T,m);I.type=lr,I.needsUpdate=!0;let j=M*4;for(let H=0;H<m;H++){let U=w[H],O=S[H],F=A[H],Z=C*T*4*H;for(let G=0;G<U.count;G++){let L=G*j;_===!0&&(s.fromBufferAttribute(U,G),P[Z+L+0]=s.x,P[Z+L+1]=s.y,P[Z+L+2]=s.z,P[Z+L+3]=0),x===!0&&(s.fromBufferAttribute(O,G),P[Z+L+4]=s.x,P[Z+L+5]=s.y,P[Z+L+6]=s.z,P[Z+L+7]=0),k===!0&&(s.fromBufferAttribute(F,G),P[Z+L+8]=s.x,P[Z+L+9]=s.y,P[Z+L+10]=s.z,P[Z+L+11]=F.itemSize===4?s.w:1)}}g={count:m,texture:I,size:new Y(C,T)},a.set(u,g),u.addEventListener("dispose",b)}let v=0;for(let b=0;b<h.length;b++)v+=h[b];let y=u.morphTargetsRelative?1:1-v;f.getUniforms().setValue(e,"morphTargetBaseInfluence",y),f.getUniforms().setValue(e,"morphTargetInfluences",h),f.getUniforms().setValue(e,"morphTargetsTexture",g.texture,i),f.getUniforms().setValue(e,"morphTargetsTextureSize",g.size)}else{let p=h===void 0?0:h.length,m=n[u.id];if(m===void 0||m.length!==p){m=[];for(let _=0;_<p;_++)m[_]=[_,0];n[u.id]=m}for(let _=0;_<p;_++){let x=m[_];x[0]=_,x[1]=h[_]}m.sort(aN);for(let _=0;_<8;_++)_<p&&m[_][1]?(o[_][0]=m[_][0],o[_][1]=m[_][1]):(o[_][0]=Number.MAX_SAFE_INTEGER,o[_][1]=0);o.sort(rN);let g=u.morphAttributes.position,v=u.morphAttributes.normal,y=0;for(let _=0;_<8;_++){let x=o[_],k=x[0],w=x[1];k!==Number.MAX_SAFE_INTEGER&&w?(g&&u.getAttribute("morphTarget"+_)!==g[k]&&u.setAttribute("morphTarget"+_,g[k]),v&&u.getAttribute("morphNormal"+_)!==v[k]&&u.setAttribute("morphNormal"+_,v[k]),r[_]=w,y+=w):(g&&u.hasAttribute("morphTarget"+_)===!0&&u.deleteAttribute("morphTarget"+_),v&&u.hasAttribute("morphNormal"+_)===!0&&u.deleteAttribute("morphNormal"+_),r[_]=0)}let b=u.morphTargetsRelative?1:1-y;f.getUniforms().setValue(e,"morphTargetBaseInfluence",b),f.getUniforms().setValue(e,"morphTargetInfluences",r)}}return{update:l}}function oN(e,t,i,n){let r=new WeakMap;function a(l){let d=n.render.frame,u=l.geometry,c=t.get(l,u);return r.get(c)!==d&&(t.update(c),r.set(c,d)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.update(l.instanceMatrix,34962),l.instanceColor!==null&&i.update(l.instanceColor,34962)),c}function s(){r=new WeakMap}function o(l){let d=l.target;d.removeEventListener("dispose",o),i.remove(d.instanceMatrix),d.instanceColor!==null&&i.remove(d.instanceColor)}return{update:a,dispose:s}}var mA=new gn,gA=new YS,vA=new ZL,yA=new U0,bA=[],_A=[],wA=new Float32Array(16),xA=new Float32Array(9),kA=new Float32Array(4);function fc(e,t,i){let n=e[0];if(n<=0||n>0)return e;let r=t*i,a=bA[r];if(a===void 0&&(a=new Float32Array(r),bA[r]=a),t!==0){n.toArray(a,0);for(let s=1,o=0;s!==t;++s)o+=i,e[s].toArray(a,o)}return a}function vn(e,t){if(e.length!==t.length)return!1;for(let i=0,n=e.length;i<n;i++)if(e[i]!==t[i])return!1;return!0}function yn(e,t){for(let i=0,n=t.length;i<n;i++)e[i]=t[i]}function Bp(e,t){let i=_A[t];i===void 0&&(i=new Int32Array(t),_A[t]=i);for(let n=0;n!==t;++n)i[n]=e.allocateTextureUnit();return i}function lN(e,t){let i=this.cache;i[0]!==t&&(e.uniform1f(this.addr,t),i[0]=t)}function dN(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y);else{if(vn(i,t))return;e.uniform2fv(this.addr,t),yn(i,t)}}function cN(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z);else if(t.r!==void 0)(i[0]!==t.r||i[1]!==t.g||i[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),i[0]=t.r,i[1]=t.g,i[2]=t.b);else{if(vn(i,t))return;e.uniform3fv(this.addr,t),yn(i,t)}}function uN(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z||i[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w);else{if(vn(i,t))return;e.uniform4fv(this.addr,t),yn(i,t)}}function fN(e,t){let i=this.cache,n=t.elements;if(n===void 0){if(vn(i,t))return;e.uniformMatrix2fv(this.addr,!1,t),yn(i,t)}else{if(vn(i,n))return;kA.set(n),e.uniformMatrix2fv(this.addr,!1,kA),yn(i,n)}}function hN(e,t){let i=this.cache,n=t.elements;if(n===void 0){if(vn(i,t))return;e.uniformMatrix3fv(this.addr,!1,t),yn(i,t)}else{if(vn(i,n))return;xA.set(n),e.uniformMatrix3fv(this.addr,!1,xA),yn(i,n)}}function pN(e,t){let i=this.cache,n=t.elements;if(n===void 0){if(vn(i,t))return;e.uniformMatrix4fv(this.addr,!1,t),yn(i,t)}else{if(vn(i,n))return;wA.set(n),e.uniformMatrix4fv(this.addr,!1,wA),yn(i,n)}}function mN(e,t){let i=this.cache;i[0]!==t&&(e.uniform1i(this.addr,t),i[0]=t)}function gN(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y)&&(e.uniform2i(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y);else{if(vn(i,t))return;e.uniform2iv(this.addr,t),yn(i,t)}}function vN(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z)&&(e.uniform3i(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z);else{if(vn(i,t))return;e.uniform3iv(this.addr,t),yn(i,t)}}function yN(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z||i[3]!==t.w)&&(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w);else{if(vn(i,t))return;e.uniform4iv(this.addr,t),yn(i,t)}}function bN(e,t){let i=this.cache;i[0]!==t&&(e.uniform1ui(this.addr,t),i[0]=t)}function _N(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y)&&(e.uniform2ui(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y);else{if(vn(i,t))return;e.uniform2uiv(this.addr,t),yn(i,t)}}function wN(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z)&&(e.uniform3ui(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z);else{if(vn(i,t))return;e.uniform3uiv(this.addr,t),yn(i,t)}}function xN(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z||i[3]!==t.w)&&(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w);else{if(vn(i,t))return;e.uniform4uiv(this.addr,t),yn(i,t)}}function kN(e,t,i){let n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(e.uniform1i(this.addr,r),n[0]=r),i.setTexture2D(t||mA,r)}function SN(e,t,i){let n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(e.uniform1i(this.addr,r),n[0]=r),i.setTexture3D(t||vA,r)}function AN(e,t,i){let n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(e.uniform1i(this.addr,r),n[0]=r),i.setTextureCube(t||yA,r)}function MN(e,t,i){let n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(e.uniform1i(this.addr,r),n[0]=r),i.setTexture2DArray(t||gA,r)}function CN(e){switch(e){case 5126:return lN;case 35664:return dN;case 35665:return cN;case 35666:return uN;case 35674:return fN;case 35675:return hN;case 35676:return pN;case 5124:case 35670:return mN;case 35667:case 35671:return gN;case 35668:case 35672:return vN;case 35669:case 35673:return yN;case 5125:return bN;case 36294:return _N;case 36295:return wN;case 36296:return xN;case 35678:case 36198:case 36298:case 36306:case 35682:return kN;case 35679:case 36299:case 36307:return SN;case 35680:case 36300:case 36308:case 36293:return AN;case 36289:case 36303:case 36311:case 36292:return MN}}function EN(e,t){e.uniform1fv(this.addr,t)}function TN(e,t){let i=fc(t,this.size,2);e.uniform2fv(this.addr,i)}function DN(e,t){let i=fc(t,this.size,3);e.uniform3fv(this.addr,i)}function PN(e,t){let i=fc(t,this.size,4);e.uniform4fv(this.addr,i)}function IN(e,t){let i=fc(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,i)}function ON(e,t){let i=fc(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,i)}function jN(e,t){let i=fc(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,i)}function RN(e,t){e.uniform1iv(this.addr,t)}function zN(e,t){e.uniform2iv(this.addr,t)}function BN(e,t){e.uniform3iv(this.addr,t)}function LN(e,t){e.uniform4iv(this.addr,t)}function FN(e,t){e.uniform1uiv(this.addr,t)}function NN(e,t){e.uniform2uiv(this.addr,t)}function UN(e,t){e.uniform3uiv(this.addr,t)}function VN(e,t){e.uniform4uiv(this.addr,t)}function HN(e,t,i){let n=this.cache,r=t.length,a=Bp(i,r);vn(n,a)||(e.uniform1iv(this.addr,a),yn(n,a));for(let s=0;s!==r;++s)i.setTexture2D(t[s]||mA,a[s])}function GN(e,t,i){let n=this.cache,r=t.length,a=Bp(i,r);vn(n,a)||(e.uniform1iv(this.addr,a),yn(n,a));for(let s=0;s!==r;++s)i.setTexture3D(t[s]||vA,a[s])}function WN(e,t,i){let n=this.cache,r=t.length,a=Bp(i,r);vn(n,a)||(e.uniform1iv(this.addr,a),yn(n,a));for(let s=0;s!==r;++s)i.setTextureCube(t[s]||yA,a[s])}function qN(e,t,i){let n=this.cache,r=t.length,a=Bp(i,r);vn(n,a)||(e.uniform1iv(this.addr,a),yn(n,a));for(let s=0;s!==r;++s)i.setTexture2DArray(t[s]||gA,a[s])}function ZN(e){switch(e){case 5126:return EN;case 35664:return TN;case 35665:return DN;case 35666:return PN;case 35674:return IN;case 35675:return ON;case 35676:return jN;case 5124:case 35670:return RN;case 35667:case 35671:return zN;case 35668:case 35672:return BN;case 35669:case 35673:return LN;case 5125:return FN;case 36294:return NN;case 36295:return UN;case 36296:return VN;case 35678:case 36198:case 36298:case 36306:case 35682:return HN;case 35679:case 36299:case 36307:return GN;case 35680:case 36300:case 36308:case 36293:return WN;case 36289:case 36303:case 36311:case 36292:return qN}}var YN=class{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=CN(t.type)}},XN=class{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=ZN(t.type)}},KN=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){let n=this.seq;for(let r=0,a=n.length;r!==a;++r){let s=n[r];s.setValue(e,t[s.id],i)}}},Y0=/(\w+)(\])?(\[|\.)?/g;function SA(e,t){e.seq.push(t),e.map[t.id]=t}function QN(e,t,i){let n=e.name,r=n.length;for(Y0.lastIndex=0;;){let a=Y0.exec(n),s=Y0.lastIndex,o=a[1],l=a[2]==="]",d=a[3];if(l&&(o=o|0),d===void 0||d==="["&&s+2===r){SA(i,d===void 0?new YN(o,e,t):new XN(o,e,t));break}else{let u=i.map[o];u===void 0&&(u=new KN(o),SA(i,u)),i=u}}}var Lp=class{constructor(e,t){this.seq=[],this.map={};let i=e.getProgramParameter(t,35718);for(let n=0;n<i;++n){let r=e.getActiveUniform(t,n),a=e.getUniformLocation(t,r.name);QN(r,a,this)}}setValue(e,t,i,n){let r=this.map[t];r!==void 0&&r.setValue(e,i,n)}setOptional(e,t,i){let n=t[i];n!==void 0&&this.setValue(e,i,n)}static upload(e,t,i,n){for(let r=0,a=t.length;r!==a;++r){let s=t[r],o=i[s.id];o.needsUpdate!==!1&&s.setValue(e,o.value,n)}}static seqWithValue(e,t){let i=[];for(let n=0,r=e.length;n!==r;++n){let a=e[n];a.id in t&&i.push(a)}return i}};function AA(e,t,i){let n=e.createShader(t);return e.shaderSource(n,i),e.compileShader(n),n}var JN=0;function $N(e,t){let i=e.split(`
`),n=[],r=Math.max(t-6,0),a=Math.min(t+6,i.length);for(let s=r;s<a;s++){let o=s+1;n.push(`${o===t?">":" "} ${o}: ${i[s]}`)}return n.join(`
`)}function eU(e){switch(e){case ss:return["Linear","( value )"];case Dt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function MA(e,t,i){let n=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();if(n&&r==="")return"";let a=/ERROR: 0:(\d+)/.exec(r);if(a){let s=parseInt(a[1]);return i.toUpperCase()+`

`+r+`

`+$N(e.getShaderSource(t),s)}else return r}function tU(e,t){let i=eU(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function iU(e,t){let i;switch(t){case lL:i="Linear";break;case dL:i="Reinhard";break;case cL:i="OptimizedCineon";break;case uL:i="ACESFilmic";break;case fL:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),i="Linear"}return"vec3 "+e+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function nU(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(mf).join(`
`)}function rU(e){let t=[];for(let i in e){let n=e[i];n!==!1&&t.push("#define "+i+" "+n)}return t.join(`
`)}function aU(e,t){let i={},n=e.getProgramParameter(t,35721);for(let r=0;r<n;r++){let a=e.getActiveAttrib(t,r),s=a.name,o=1;a.type===35674&&(o=2),a.type===35675&&(o=3),a.type===35676&&(o=4),i[s]={type:a.type,location:e.getAttribLocation(t,s),locationSize:o}}return i}function mf(e){return e!==""}function CA(e,t){let i=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,i).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function EA(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var sU=/^[ \t]*#include +<([\w\d./]+)>/gm;function X0(e){return e.replace(sU,oU)}function oU(e,t){let i=jt[t];if(i===void 0)throw new Error("Can not resolve #include <"+t+">");return X0(i)}var lU=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function TA(e){return e.replace(lU,dU)}function dU(e,t,i,n){let r="";for(let a=parseInt(t);a<parseInt(i);a++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function DA(e){let t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function cU(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===i0?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===NB?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===ef&&(t="SHADOWMAP_TYPE_VSM"),t}function uU(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Rl:case zl:t="ENVMAP_TYPE_CUBE";break;case tf:t="ENVMAP_TYPE_CUBE_UV";break}return t}function fU(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case zl:t="ENVMAP_MODE_REFRACTION";break}return t}function hU(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case cS:t="ENVMAP_BLENDING_MULTIPLY";break;case sL:t="ENVMAP_BLENDING_MIX";break;case oL:t="ENVMAP_BLENDING_ADD";break}return t}function pU(e){let t=e.envMapCubeUVHeight;if(t===null)return null;let i=Math.log2(t)-2,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,i),7*16)),texelHeight:n,maxMip:i}}function mU(e,t,i,n){let r=e.getContext(),a=i.defines,s=i.vertexShader,o=i.fragmentShader,l=cU(i),d=uU(i),u=fU(i),c=hU(i),f=pU(i),h=i.isWebGL2?"":nU(i),p=rU(a),m=r.createProgram(),g,v,y=i.glslVersion?"#version "+i.glslVersion+`
`:"";i.isRawShaderMaterial?(g=[p].filter(mf).join(`
`),g.length>0&&(g+=`
`),v=[h,p].filter(mf).join(`
`),v.length>0&&(v+=`
`)):(g=[DA(i),"#define SHADER_NAME "+i.shaderName,p,i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.supportsVertexTextures?"#define VERTEX_TEXTURES":"",i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+u:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.displacementMap&&i.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",i.specularColorMap?"#define USE_SPECULARCOLORMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.sheenColorMap?"#define USE_SHEENCOLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&i.flatShading===!1?"#define USE_MORPHNORMALS":"",i.morphColors&&i.isWebGL2?"#define USE_MORPHCOLORS":"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+i.morphTextureStride:"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_COUNT "+i.morphTargetsCount:"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+l:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(mf).join(`
`),v=[h,DA(i),"#define SHADER_NAME "+i.shaderName,p,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+d:"",i.envMap?"#define "+u:"",i.envMap?"#define "+c:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoat?"#define USE_CLEARCOAT":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.iridescence?"#define USE_IRIDESCENCE":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",i.specularColorMap?"#define USE_SPECULARCOLORMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaTest?"#define USE_ALPHATEST":"",i.sheen?"#define USE_SHEEN":"",i.sheenColorMap?"#define USE_SHEENCOLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+l:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==Ws?"#define TONE_MAPPING":"",i.toneMapping!==Ws?jt.tonemapping_pars_fragment:"",i.toneMapping!==Ws?iU("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.opaque?"#define OPAQUE":"",jt.encodings_pars_fragment,tU("linearToOutputTexel",i.outputEncoding),i.useDepthPacking?"#define DEPTH_PACKING "+i.depthPacking:"",`
`].filter(mf).join(`
`)),s=X0(s),s=CA(s,i),s=EA(s,i),o=X0(o),o=CA(o,i),o=EA(o,i),s=TA(s),o=TA(o),i.isWebGL2&&i.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,v=["#define varying in",i.glslVersion===US?"":"layout(location = 0) out highp vec4 pc_fragColor;",i.glslVersion===US?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);let b=y+g+s,_=y+v+o,x=AA(r,35633,b),k=AA(r,35632,_);if(r.attachShader(m,x),r.attachShader(m,k),i.index0AttributeName!==void 0?r.bindAttribLocation(m,0,i.index0AttributeName):i.morphTargets===!0&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),e.debug.checkShaderErrors){let A=r.getProgramInfoLog(m).trim(),M=r.getShaderInfoLog(x).trim(),C=r.getShaderInfoLog(k).trim(),T=!0,P=!0;if(r.getProgramParameter(m,35714)===!1){T=!1;let I=MA(r,x,"vertex"),j=MA(r,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,35715)+`

Program Info Log: `+A+`
`+I+`
`+j)}else A!==""?console.warn("THREE.WebGLProgram: Program Info Log:",A):(M===""||C==="")&&(P=!1);P&&(this.diagnostics={runnable:T,programLog:A,vertexShader:{log:M,prefix:g},fragmentShader:{log:C,prefix:v}})}r.deleteShader(x),r.deleteShader(k);let w;this.getUniforms=function(){return w===void 0&&(w=new Lp(r,m)),w};let S;return this.getAttributes=function(){return S===void 0&&(S=aU(r,m)),S},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.name=i.shaderName,this.id=JN++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=x,this.fragmentShader=k,this}var gU=0,vU=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let t=e.vertexShader,i=e.fragmentShader,n=this._getShaderStage(t),r=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(n)===!1&&(a.add(n),n.usedTimes++),a.has(r)===!1&&(a.add(r),r.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache,i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){let t=this.shaderCache,i=t.get(e);return i===void 0&&(i=new yU(e),t.set(e,i)),i}},yU=class{constructor(e){this.id=gU++,this.code=e,this.usedTimes=0}};function bU(e,t,i,n,r,a,s){let o=new I0,l=new vU,d=[],u=r.isWebGL2,c=r.logarithmicDepthBuffer,f=r.vertexTextures,h=r.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(S,A,M,C,T){let P=C.fog,I=T.geometry,j=S.isMeshStandardMaterial?C.environment:null,H=(S.isMeshStandardMaterial?i:t).get(S.envMap||j),U=H&&H.mapping===tf?H.image.height:null,O=p[S.type];S.precision!==null&&(h=r.getMaxPrecision(S.precision),h!==S.precision&&console.warn("THREE.WebGLProgram.getParameters:",S.precision,"not supported, using",h,"instead."));let F=I.morphAttributes.position||I.morphAttributes.normal||I.morphAttributes.color,Z=F!==void 0?F.length:0,G=0;I.morphAttributes.position!==void 0&&(G=1),I.morphAttributes.normal!==void 0&&(G=2),I.morphAttributes.color!==void 0&&(G=3);let L,X,q,J;if(O){let ie=ds[O];L=ie.vertexShader,X=ie.fragmentShader}else L=S.vertexShader,X=S.fragmentShader,l.update(S),q=l.getVertexShaderID(S),J=l.getFragmentShaderID(S);let W=e.getRenderTarget(),ce=S.alphaTest>0,te=S.clearcoat>0,oe=S.iridescence>0;return{isWebGL2:u,shaderID:O,shaderName:S.type,vertexShader:L,fragmentShader:X,defines:S.defines,customVertexShaderID:q,customFragmentShaderID:J,isRawShaderMaterial:S.isRawShaderMaterial===!0,glslVersion:S.glslVersion,precision:h,instancing:T.isInstancedMesh===!0,instancingColor:T.isInstancedMesh===!0&&T.instanceColor!==null,supportsVertexTextures:f,outputEncoding:W===null?e.outputEncoding:W.isXRRenderTarget===!0?W.texture.encoding:ss,map:!!S.map,matcap:!!S.matcap,envMap:!!H,envMapMode:H&&H.mapping,envMapCubeUVHeight:U,lightMap:!!S.lightMap,aoMap:!!S.aoMap,emissiveMap:!!S.emissiveMap,bumpMap:!!S.bumpMap,normalMap:!!S.normalMap,objectSpaceNormalMap:S.normalMapType===TL,tangentSpaceNormalMap:S.normalMapType===EL,decodeVideoTexture:!!S.map&&S.map.isVideoTexture===!0&&S.map.encoding===Dt,clearcoat:te,clearcoatMap:te&&!!S.clearcoatMap,clearcoatRoughnessMap:te&&!!S.clearcoatRoughnessMap,clearcoatNormalMap:te&&!!S.clearcoatNormalMap,iridescence:oe,iridescenceMap:oe&&!!S.iridescenceMap,iridescenceThicknessMap:oe&&!!S.iridescenceThicknessMap,displacementMap:!!S.displacementMap,roughnessMap:!!S.roughnessMap,metalnessMap:!!S.metalnessMap,specularMap:!!S.specularMap,specularIntensityMap:!!S.specularIntensityMap,specularColorMap:!!S.specularColorMap,opaque:S.transparent===!1&&S.blending===jl,alphaMap:!!S.alphaMap,alphaTest:ce,gradientMap:!!S.gradientMap,sheen:S.sheen>0,sheenColorMap:!!S.sheenColorMap,sheenRoughnessMap:!!S.sheenRoughnessMap,transmission:S.transmission>0,transmissionMap:!!S.transmissionMap,thicknessMap:!!S.thicknessMap,combine:S.combine,vertexTangents:!!S.normalMap&&!!I.attributes.tangent,vertexColors:S.vertexColors,vertexAlphas:S.vertexColors===!0&&!!I.attributes.color&&I.attributes.color.itemSize===4,vertexUvs:!!S.map||!!S.bumpMap||!!S.normalMap||!!S.specularMap||!!S.alphaMap||!!S.emissiveMap||!!S.roughnessMap||!!S.metalnessMap||!!S.clearcoatMap||!!S.clearcoatRoughnessMap||!!S.clearcoatNormalMap||!!S.iridescenceMap||!!S.iridescenceThicknessMap||!!S.displacementMap||!!S.transmissionMap||!!S.thicknessMap||!!S.specularIntensityMap||!!S.specularColorMap||!!S.sheenColorMap||!!S.sheenRoughnessMap,uvsVertexOnly:!(S.map||S.bumpMap||S.normalMap||S.specularMap||S.alphaMap||S.emissiveMap||S.roughnessMap||S.metalnessMap||S.clearcoatNormalMap||S.iridescenceMap||S.iridescenceThicknessMap||S.transmission>0||S.transmissionMap||S.thicknessMap||S.specularIntensityMap||S.specularColorMap||S.sheen>0||S.sheenColorMap||S.sheenRoughnessMap)&&!!S.displacementMap,fog:!!P,useFog:S.fog===!0,fogExp2:P&&P.isFogExp2,flatShading:!!S.flatShading,sizeAttenuation:S.sizeAttenuation,logarithmicDepthBuffer:c,skinning:T.isSkinnedMesh===!0,morphTargets:I.morphAttributes.position!==void 0,morphNormals:I.morphAttributes.normal!==void 0,morphColors:I.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:G,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:S.dithering,shadowMapEnabled:e.shadowMap.enabled&&M.length>0,shadowMapType:e.shadowMap.type,toneMapping:S.toneMapped?e.toneMapping:Ws,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:S.premultipliedAlpha,doubleSided:S.side===Cr,flipSided:S.side===Tn,useDepthPacking:!!S.depthPacking,depthPacking:S.depthPacking||0,index0AttributeName:S.index0AttributeName,extensionDerivatives:S.extensions&&S.extensions.derivatives,extensionFragDepth:S.extensions&&S.extensions.fragDepth,extensionDrawBuffers:S.extensions&&S.extensions.drawBuffers,extensionShaderTextureLOD:S.extensions&&S.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||n.has("EXT_shader_texture_lod"),customProgramCacheKey:S.customProgramCacheKey()}}function g(S){let A=[];if(S.shaderID?A.push(S.shaderID):(A.push(S.customVertexShaderID),A.push(S.customFragmentShaderID)),S.defines!==void 0)for(let M in S.defines)A.push(M),A.push(S.defines[M]);return S.isRawShaderMaterial===!1&&(v(A,S),y(A,S),A.push(e.outputEncoding)),A.push(S.customProgramCacheKey),A.join()}function v(S,A){S.push(A.precision),S.push(A.outputEncoding),S.push(A.envMapMode),S.push(A.envMapCubeUVHeight),S.push(A.combine),S.push(A.vertexUvs),S.push(A.fogExp2),S.push(A.sizeAttenuation),S.push(A.morphTargetsCount),S.push(A.morphAttributeCount),S.push(A.numDirLights),S.push(A.numPointLights),S.push(A.numSpotLights),S.push(A.numSpotLightMaps),S.push(A.numHemiLights),S.push(A.numRectAreaLights),S.push(A.numDirLightShadows),S.push(A.numPointLightShadows),S.push(A.numSpotLightShadows),S.push(A.numSpotLightShadowsWithMaps),S.push(A.shadowMapType),S.push(A.toneMapping),S.push(A.numClippingPlanes),S.push(A.numClipIntersection),S.push(A.depthPacking)}function y(S,A){o.disableAll(),A.isWebGL2&&o.enable(0),A.supportsVertexTextures&&o.enable(1),A.instancing&&o.enable(2),A.instancingColor&&o.enable(3),A.map&&o.enable(4),A.matcap&&o.enable(5),A.envMap&&o.enable(6),A.lightMap&&o.enable(7),A.aoMap&&o.enable(8),A.emissiveMap&&o.enable(9),A.bumpMap&&o.enable(10),A.normalMap&&o.enable(11),A.objectSpaceNormalMap&&o.enable(12),A.tangentSpaceNormalMap&&o.enable(13),A.clearcoat&&o.enable(14),A.clearcoatMap&&o.enable(15),A.clearcoatRoughnessMap&&o.enable(16),A.clearcoatNormalMap&&o.enable(17),A.iridescence&&o.enable(18),A.iridescenceMap&&o.enable(19),A.iridescenceThicknessMap&&o.enable(20),A.displacementMap&&o.enable(21),A.specularMap&&o.enable(22),A.roughnessMap&&o.enable(23),A.metalnessMap&&o.enable(24),A.gradientMap&&o.enable(25),A.alphaMap&&o.enable(26),A.alphaTest&&o.enable(27),A.vertexColors&&o.enable(28),A.vertexAlphas&&o.enable(29),A.vertexUvs&&o.enable(30),A.vertexTangents&&o.enable(31),A.uvsVertexOnly&&o.enable(32),S.push(o.mask),o.disableAll(),A.fog&&o.enable(0),A.useFog&&o.enable(1),A.flatShading&&o.enable(2),A.logarithmicDepthBuffer&&o.enable(3),A.skinning&&o.enable(4),A.morphTargets&&o.enable(5),A.morphNormals&&o.enable(6),A.morphColors&&o.enable(7),A.premultipliedAlpha&&o.enable(8),A.shadowMapEnabled&&o.enable(9),A.physicallyCorrectLights&&o.enable(10),A.doubleSided&&o.enable(11),A.flipSided&&o.enable(12),A.useDepthPacking&&o.enable(13),A.dithering&&o.enable(14),A.specularIntensityMap&&o.enable(15),A.specularColorMap&&o.enable(16),A.transmission&&o.enable(17),A.transmissionMap&&o.enable(18),A.thicknessMap&&o.enable(19),A.sheen&&o.enable(20),A.sheenColorMap&&o.enable(21),A.sheenRoughnessMap&&o.enable(22),A.decodeVideoTexture&&o.enable(23),A.opaque&&o.enable(24),S.push(o.mask)}function b(S){let A=p[S.type],M;if(A){let C=ds[A];M=ac.clone(C.uniforms)}else M=S.uniforms;return M}function _(S,A){let M;for(let C=0,T=d.length;C<T;C++){let P=d[C];if(P.cacheKey===A){M=P,++M.usedTimes;break}}return M===void 0&&(M=new mU(e,A,S,a),d.push(M)),M}function x(S){if(--S.usedTimes===0){let A=d.indexOf(S);d[A]=d[d.length-1],d.pop(),S.destroy()}}function k(S){l.remove(S)}function w(){l.dispose()}return{getParameters:m,getProgramCacheKey:g,getUniforms:b,acquireProgram:_,releaseProgram:x,releaseShaderCache:k,programs:d,dispose:w}}function _U(){let e=new WeakMap;function t(a){let s=e.get(a);return s===void 0&&(s={},e.set(a,s)),s}function i(a){e.delete(a)}function n(a,s,o){e.get(a)[s]=o}function r(){e=new WeakMap}return{get:t,remove:i,update:n,dispose:r}}function wU(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function PA(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function IA(){let e=[],t=0,i=[],n=[],r=[];function a(){t=0,i.length=0,n.length=0,r.length=0}function s(c,f,h,p,m,g){let v=e[t];return v===void 0?(v={id:c.id,object:c,geometry:f,material:h,groupOrder:p,renderOrder:c.renderOrder,z:m,group:g},e[t]=v):(v.id=c.id,v.object=c,v.geometry=f,v.material=h,v.groupOrder=p,v.renderOrder=c.renderOrder,v.z=m,v.group=g),t++,v}function o(c,f,h,p,m,g){let v=s(c,f,h,p,m,g);h.transmission>0?n.push(v):h.transparent===!0?r.push(v):i.push(v)}function l(c,f,h,p,m,g){let v=s(c,f,h,p,m,g);h.transmission>0?n.unshift(v):h.transparent===!0?r.unshift(v):i.unshift(v)}function d(c,f){i.length>1&&i.sort(c||wU),n.length>1&&n.sort(f||PA),r.length>1&&r.sort(f||PA)}function u(){for(let c=t,f=e.length;c<f;c++){let h=e[c];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:i,transmissive:n,transparent:r,init:a,push:o,unshift:l,finish:u,sort:d}}function xU(){let e=new WeakMap;function t(n,r){let a=e.get(n),s;return a===void 0?(s=new IA,e.set(n,[s])):r>=a.length?(s=new IA,a.push(s)):s=a[r],s}function i(){e=new WeakMap}return{get:t,dispose:i}}function kU(){let e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let i;switch(t.type){case"DirectionalLight":i={direction:new E,color:new pt};break;case"SpotLight":i={position:new E,direction:new E,color:new pt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new E,color:new pt,distance:0,decay:0};break;case"HemisphereLight":i={direction:new E,skyColor:new pt,groundColor:new pt};break;case"RectAreaLight":i={color:new pt,position:new E,halfWidth:new E,halfHeight:new E};break}return e[t.id]=i,i}}}function SU(){let e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let i;switch(t.type){case"DirectionalLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Y};break;case"SpotLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Y};break;case"PointLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Y,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=i,i}}}var AU=0;function MU(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function CU(e,t){let i=new kU,n=SU(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)r.probe.push(new E);let a=new E,s=new Ee,o=new Ee;function l(u,c){let f=0,h=0,p=0;for(let C=0;C<9;C++)r.probe[C].set(0,0,0);let m=0,g=0,v=0,y=0,b=0,_=0,x=0,k=0,w=0,S=0;u.sort(MU);let A=c!==!0?Math.PI:1;for(let C=0,T=u.length;C<T;C++){let P=u[C],I=P.color,j=P.intensity,H=P.distance,U=P.shadow&&P.shadow.map?P.shadow.map.texture:null;if(P.isAmbientLight)f+=I.r*j*A,h+=I.g*j*A,p+=I.b*j*A;else if(P.isLightProbe)for(let O=0;O<9;O++)r.probe[O].addScaledVector(P.sh.coefficients[O],j);else if(P.isDirectionalLight){let O=i.get(P);if(O.color.copy(P.color).multiplyScalar(P.intensity*A),P.castShadow){let F=P.shadow,Z=n.get(P);Z.shadowBias=F.bias,Z.shadowNormalBias=F.normalBias,Z.shadowRadius=F.radius,Z.shadowMapSize=F.mapSize,r.directionalShadow[m]=Z,r.directionalShadowMap[m]=U,r.directionalShadowMatrix[m]=P.shadow.matrix,_++}r.directional[m]=O,m++}else if(P.isSpotLight){let O=i.get(P);O.position.setFromMatrixPosition(P.matrixWorld),O.color.copy(I).multiplyScalar(j*A),O.distance=H,O.coneCos=Math.cos(P.angle),O.penumbraCos=Math.cos(P.angle*(1-P.penumbra)),O.decay=P.decay,r.spot[v]=O;let F=P.shadow;if(P.map&&(r.spotLightMap[w]=P.map,w++,F.updateMatrices(P),P.castShadow&&S++),r.spotLightMatrix[v]=F.matrix,P.castShadow){let Z=n.get(P);Z.shadowBias=F.bias,Z.shadowNormalBias=F.normalBias,Z.shadowRadius=F.radius,Z.shadowMapSize=F.mapSize,r.spotShadow[v]=Z,r.spotShadowMap[v]=U,k++}v++}else if(P.isRectAreaLight){let O=i.get(P);O.color.copy(I).multiplyScalar(j),O.halfWidth.set(P.width*.5,0,0),O.halfHeight.set(0,P.height*.5,0),r.rectArea[y]=O,y++}else if(P.isPointLight){let O=i.get(P);if(O.color.copy(P.color).multiplyScalar(P.intensity*A),O.distance=P.distance,O.decay=P.decay,P.castShadow){let F=P.shadow,Z=n.get(P);Z.shadowBias=F.bias,Z.shadowNormalBias=F.normalBias,Z.shadowRadius=F.radius,Z.shadowMapSize=F.mapSize,Z.shadowCameraNear=F.camera.near,Z.shadowCameraFar=F.camera.far,r.pointShadow[g]=Z,r.pointShadowMap[g]=U,r.pointShadowMatrix[g]=P.shadow.matrix,x++}r.point[g]=O,g++}else if(P.isHemisphereLight){let O=i.get(P);O.skyColor.copy(P.color).multiplyScalar(j*A),O.groundColor.copy(P.groundColor).multiplyScalar(j*A),r.hemi[b]=O,b++}}y>0&&(t.isWebGL2||e.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ue.LTC_FLOAT_1,r.rectAreaLTC2=Ue.LTC_FLOAT_2):e.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Ue.LTC_HALF_1,r.rectAreaLTC2=Ue.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=f,r.ambient[1]=h,r.ambient[2]=p;let M=r.hash;(M.directionalLength!==m||M.pointLength!==g||M.spotLength!==v||M.rectAreaLength!==y||M.hemiLength!==b||M.numDirectionalShadows!==_||M.numPointShadows!==x||M.numSpotShadows!==k||M.numSpotMaps!==w)&&(r.directional.length=m,r.spot.length=v,r.rectArea.length=y,r.point.length=g,r.hemi.length=b,r.directionalShadow.length=_,r.directionalShadowMap.length=_,r.pointShadow.length=x,r.pointShadowMap.length=x,r.spotShadow.length=k,r.spotShadowMap.length=k,r.directionalShadowMatrix.length=_,r.pointShadowMatrix.length=x,r.spotLightMatrix.length=k+w-S,r.spotLightMap.length=w,r.numSpotLightShadowsWithMaps=S,M.directionalLength=m,M.pointLength=g,M.spotLength=v,M.rectAreaLength=y,M.hemiLength=b,M.numDirectionalShadows=_,M.numPointShadows=x,M.numSpotShadows=k,M.numSpotMaps=w,r.version=AU++)}function d(u,c){let f=0,h=0,p=0,m=0,g=0,v=c.matrixWorldInverse;for(let y=0,b=u.length;y<b;y++){let _=u[y];if(_.isDirectionalLight){let x=r.directional[f];x.direction.setFromMatrixPosition(_.matrixWorld),a.setFromMatrixPosition(_.target.matrixWorld),x.direction.sub(a),x.direction.transformDirection(v),f++}else if(_.isSpotLight){let x=r.spot[p];x.position.setFromMatrixPosition(_.matrixWorld),x.position.applyMatrix4(v),x.direction.setFromMatrixPosition(_.matrixWorld),a.setFromMatrixPosition(_.target.matrixWorld),x.direction.sub(a),x.direction.transformDirection(v),p++}else if(_.isRectAreaLight){let x=r.rectArea[m];x.position.setFromMatrixPosition(_.matrixWorld),x.position.applyMatrix4(v),o.identity(),s.copy(_.matrixWorld),s.premultiply(v),o.extractRotation(s),x.halfWidth.set(_.width*.5,0,0),x.halfHeight.set(0,_.height*.5,0),x.halfWidth.applyMatrix4(o),x.halfHeight.applyMatrix4(o),m++}else if(_.isPointLight){let x=r.point[h];x.position.setFromMatrixPosition(_.matrixWorld),x.position.applyMatrix4(v),h++}else if(_.isHemisphereLight){let x=r.hemi[g];x.direction.setFromMatrixPosition(_.matrixWorld),x.direction.transformDirection(v),g++}}}return{setup:l,setupView:d,state:r}}function OA(e,t){let i=new CU(e,t),n=[],r=[];function a(){n.length=0,r.length=0}function s(u){n.push(u)}function o(u){r.push(u)}function l(u){i.setup(n,u)}function d(u){i.setupView(n,u)}return{init:a,state:{lightsArray:n,shadowsArray:r,lights:i},setupLights:l,setupLightsView:d,pushLight:s,pushShadow:o}}function EU(e,t){let i=new WeakMap;function n(a,s=0){let o=i.get(a),l;return o===void 0?(l=new OA(e,t),i.set(a,[l])):s>=o.length?(l=new OA(e,t),o.push(l)):l=o[s],l}function r(){i=new WeakMap}return{get:n,dispose:r}}var jA=class extends df{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Ys,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},TU=class extends df{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new E,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}},DU=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,PU=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function IU(e,t,i){let n=new H0,r=new Y,a=new Y,s=new Pt,o=new jA({depthPacking:NS}),l=new TU,d={},u=i.maxTextureSize,c={[Ta]:Tn,[Tn]:Ta,[Cr]:Cr},f=new _i({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Y},radius:{value:4}},vertexShader:DU,fragmentShader:PU}),h=f.clone();h.defines.HORIZONTAL_PASS=1;let p=new dt;p.setAttribute("position",new _t(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let m=new cr(p,f),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=i0,this.render=function(_,x,k){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||_.length===0)return;let w=e.getRenderTarget(),S=e.getActiveCubeFace(),A=e.getActiveMipmapLevel(),M=e.state;M.setBlending(sn),M.buffers.color.setClear(1,1,1,1),M.buffers.depth.setTest(!0),M.setScissorTest(!1);for(let C=0,T=_.length;C<T;C++){let P=_[C],I=P.shadow;if(I===void 0){console.warn("THREE.WebGLShadowMap:",P,"has no shadow.");continue}if(I.autoUpdate===!1&&I.needsUpdate===!1)continue;r.copy(I.mapSize);let j=I.getFrameExtents();if(r.multiply(j),a.copy(I.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(a.x=Math.floor(u/j.x),r.x=a.x*j.x,I.mapSize.x=a.x),r.y>u&&(a.y=Math.floor(u/j.y),r.y=a.y*j.y,I.mapSize.y=a.y)),I.map===null){let U=this.type!==ef?{minFilter:Ci,magFilter:Ci}:{};I.map=new pi(r.x,r.y,U),I.map.texture.name=P.name+".shadowMap",I.camera.updateProjectionMatrix()}e.setRenderTarget(I.map),e.clear();let H=I.getViewportCount();for(let U=0;U<H;U++){let O=I.getViewport(U);s.set(a.x*O.x,a.y*O.y,a.x*O.z,a.y*O.w),M.viewport(s),I.updateMatrices(P,U),n=I.getFrustum(),b(x,k,I.camera,P,this.type)}I.isPointLightShadow!==!0&&this.type===ef&&v(I,k),I.needsUpdate=!1}g.needsUpdate=!1,e.setRenderTarget(w,S,A)};function v(_,x){let k=t.update(m);f.defines.VSM_SAMPLES!==_.blurSamples&&(f.defines.VSM_SAMPLES=_.blurSamples,h.defines.VSM_SAMPLES=_.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),_.mapPass===null&&(_.mapPass=new pi(r.x,r.y)),f.uniforms.shadow_pass.value=_.map.texture,f.uniforms.resolution.value=_.mapSize,f.uniforms.radius.value=_.radius,e.setRenderTarget(_.mapPass),e.clear(),e.renderBufferDirect(x,null,k,f,m,null),h.uniforms.shadow_pass.value=_.mapPass.texture,h.uniforms.resolution.value=_.mapSize,h.uniforms.radius.value=_.radius,e.setRenderTarget(_.map),e.clear(),e.renderBufferDirect(x,null,k,h,m,null)}function y(_,x,k,w,S,A){let M=null,C=k.isPointLight===!0?_.customDistanceMaterial:_.customDepthMaterial;if(C!==void 0)M=C;else if(M=k.isPointLight===!0?l:o,e.localClippingEnabled&&x.clipShadows===!0&&Array.isArray(x.clippingPlanes)&&x.clippingPlanes.length!==0||x.displacementMap&&x.displacementScale!==0||x.alphaMap&&x.alphaTest>0||x.map&&x.alphaTest>0){let T=M.uuid,P=x.uuid,I=d[T];I===void 0&&(I={},d[T]=I);let j=I[P];j===void 0&&(j=M.clone(),I[P]=j),M=j}return M.visible=x.visible,M.wireframe=x.wireframe,A===ef?M.side=x.shadowSide!==null?x.shadowSide:x.side:M.side=x.shadowSide!==null?x.shadowSide:c[x.side],M.alphaMap=x.alphaMap,M.alphaTest=x.alphaTest,M.map=x.map,M.clipShadows=x.clipShadows,M.clippingPlanes=x.clippingPlanes,M.clipIntersection=x.clipIntersection,M.displacementMap=x.displacementMap,M.displacementScale=x.displacementScale,M.displacementBias=x.displacementBias,M.wireframeLinewidth=x.wireframeLinewidth,M.linewidth=x.linewidth,k.isPointLight===!0&&M.isMeshDistanceMaterial===!0&&(M.referencePosition.setFromMatrixPosition(k.matrixWorld),M.nearDistance=w,M.farDistance=S),M}function b(_,x,k,w,S){if(_.visible===!1)return;if(_.layers.test(x.layers)&&(_.isMesh||_.isLine||_.isPoints)&&(_.castShadow||_.receiveShadow&&S===ef)&&(!_.frustumCulled||n.intersectsObject(_))){_.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,_.matrixWorld);let M=t.update(_),C=_.material;if(Array.isArray(C)){let T=M.groups;for(let P=0,I=T.length;P<I;P++){let j=T[P],H=C[j.materialIndex];if(H&&H.visible){let U=y(_,H,w,k.near,k.far,S);e.renderBufferDirect(k,null,M,U,_,j)}}}else if(C.visible){let T=y(_,C,w,k.near,k.far,S);e.renderBufferDirect(k,null,M,T,_,null)}}let A=_.children;for(let M=0,C=A.length;M<C;M++)b(A[M],x,k,w,S)}}function OU(e,t,i){let n=i.isWebGL2;function r(){let $=!1,be=new Pt,Oe=null,ye=new Pt(0,0,0,0);return{setMask:function(Ce){Oe!==Ce&&!$&&(e.colorMask(Ce,Ce,Ce,Ce),Oe=Ce)},setLocked:function(Ce){$=Ce},setClear:function(Ce,Fe,nt,mt,Mt){Mt===!0&&(Ce*=mt,Fe*=mt,nt*=mt),be.set(Ce,Fe,nt,mt),ye.equals(be)===!1&&(e.clearColor(Ce,Fe,nt,mt),ye.copy(be))},reset:function(){$=!1,Oe=null,ye.set(-1,0,0,0)}}}function a(){let $=!1,be=null,Oe=null,ye=null;return{setTest:function(Ce){Ce?ce(2929):te(2929)},setMask:function(Ce){be!==Ce&&!$&&(e.depthMask(Ce),be=Ce)},setFunc:function(Ce){if(Oe!==Ce){switch(Ce){case $B:e.depthFunc(512);break;case eL:e.depthFunc(519);break;case tL:e.depthFunc(513);break;case n0:e.depthFunc(515);break;case iL:e.depthFunc(514);break;case nL:e.depthFunc(518);break;case rL:e.depthFunc(516);break;case aL:e.depthFunc(517);break;default:e.depthFunc(515)}Oe=Ce}},setLocked:function(Ce){$=Ce},setClear:function(Ce){ye!==Ce&&(e.clearDepth(Ce),ye=Ce)},reset:function(){$=!1,be=null,Oe=null,ye=null}}}function s(){let $=!1,be=null,Oe=null,ye=null,Ce=null,Fe=null,nt=null,mt=null,Mt=null;return{setTest:function(rt){$||(rt?ce(2960):te(2960))},setMask:function(rt){be!==rt&&!$&&(e.stencilMask(rt),be=rt)},setFunc:function(rt,Tt,At){(Oe!==rt||ye!==Tt||Ce!==At)&&(e.stencilFunc(rt,Tt,At),Oe=rt,ye=Tt,Ce=At)},setOp:function(rt,Tt,At){(Fe!==rt||nt!==Tt||mt!==At)&&(e.stencilOp(rt,Tt,At),Fe=rt,nt=Tt,mt=At)},setLocked:function(rt){$=rt},setClear:function(rt){Mt!==rt&&(e.clearStencil(rt),Mt=rt)},reset:function(){$=!1,be=null,Oe=null,ye=null,Ce=null,Fe=null,nt=null,mt=null,Mt=null}}}let o=new r,l=new a,d=new s,u=new WeakMap,c=new WeakMap,f={},h={},p=new WeakMap,m=[],g=null,v=!1,y=null,b=null,_=null,x=null,k=null,w=null,S=null,A=!1,M=null,C=null,T=null,P=null,I=null,j=e.getParameter(35661),H=!1,U=0,O=e.getParameter(7938);O.indexOf("WebGL")!==-1?(U=parseFloat(/^WebGL (\d)/.exec(O)[1]),H=U>=1):O.indexOf("OpenGL ES")!==-1&&(U=parseFloat(/^OpenGL ES (\d)/.exec(O)[1]),H=U>=2);let F=null,Z={},G=e.getParameter(3088),L=e.getParameter(2978),X=new Pt().fromArray(G),q=new Pt().fromArray(L);function J($,be,Oe){let ye=new Uint8Array(4),Ce=e.createTexture();e.bindTexture($,Ce),e.texParameteri($,10241,9728),e.texParameteri($,10240,9728);for(let Fe=0;Fe<Oe;Fe++)e.texImage2D(be+Fe,0,6408,1,1,0,6408,5121,ye);return Ce}let W={};W[3553]=J(3553,3553,1),W[34067]=J(34067,34069,6),o.setClear(0,0,0,1),l.setClear(1),d.setClear(0),ce(2929),l.setFunc(n0),Ne(!1),Ye(iS),ce(2884),Le(sn);function ce($){f[$]!==!0&&(e.enable($),f[$]=!0)}function te($){f[$]!==!1&&(e.disable($),f[$]=!1)}function oe($,be){return h[$]!==be?(e.bindFramebuffer($,be),h[$]=be,n&&($===36009&&(h[36160]=be),$===36160&&(h[36009]=be)),!0):!1}function ie($,be){let Oe=m,ye=!1;if($)if(Oe=p.get(be),Oe===void 0&&(Oe=[],p.set(be,Oe)),$.isWebGLMultipleRenderTargets){let Ce=$.texture;if(Oe.length!==Ce.length||Oe[0]!==36064){for(let Fe=0,nt=Ce.length;Fe<nt;Fe++)Oe[Fe]=36064+Fe;Oe.length=Ce.length,ye=!0}}else Oe[0]!==36064&&(Oe[0]=36064,ye=!0);else Oe[0]!==1029&&(Oe[0]=1029,ye=!0);ye&&(i.isWebGL2?e.drawBuffers(Oe):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(Oe))}function we($){return g!==$?(e.useProgram($),g=$,!0):!1}let pe={[Vd]:32774,[VB]:32778,[HB]:32779};if(n)pe[sS]=32775,pe[oS]=32776;else{let $=t.get("EXT_blend_minmax");$!==null&&(pe[sS]=$.MIN_EXT,pe[oS]=$.MAX_EXT)}let fe={[GB]:0,[WB]:1,[qB]:768,[lS]:770,[JB]:776,[KB]:774,[YB]:772,[ZB]:769,[dS]:771,[QB]:775,[XB]:773};function Le($,be,Oe,ye,Ce,Fe,nt,mt){if($===sn){v===!0&&(te(3042),v=!1);return}if(v===!1&&(ce(3042),v=!0),$!==UB){if($!==y||mt!==A){if((b!==Vd||k!==Vd)&&(e.blendEquation(32774),b=Vd,k=Vd),mt)switch($){case jl:e.blendFuncSeparate(1,771,1,771);break;case nS:e.blendFunc(1,1);break;case rS:e.blendFuncSeparate(0,769,0,1);break;case aS:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",$);break}else switch($){case jl:e.blendFuncSeparate(770,771,1,771);break;case nS:e.blendFunc(770,1);break;case rS:e.blendFuncSeparate(0,769,0,1);break;case aS:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",$);break}_=null,x=null,w=null,S=null,y=$,A=mt}return}Ce=Ce||be,Fe=Fe||Oe,nt=nt||ye,(be!==b||Ce!==k)&&(e.blendEquationSeparate(pe[be],pe[Ce]),b=be,k=Ce),(Oe!==_||ye!==x||Fe!==w||nt!==S)&&(e.blendFuncSeparate(fe[Oe],fe[ye],fe[Fe],fe[nt]),_=Oe,x=ye,w=Fe,S=nt),y=$,A=!1}function Be($,be){$.side===Cr?te(2884):ce(2884);let Oe=$.side===Tn;be&&(Oe=!Oe),Ne(Oe),$.blending===jl&&$.transparent===!1?Le(sn):Le($.blending,$.blendEquation,$.blendSrc,$.blendDst,$.blendEquationAlpha,$.blendSrcAlpha,$.blendDstAlpha,$.premultipliedAlpha),l.setFunc($.depthFunc),l.setTest($.depthTest),l.setMask($.depthWrite),o.setMask($.colorWrite);let ye=$.stencilWrite;d.setTest(ye),ye&&(d.setMask($.stencilWriteMask),d.setFunc($.stencilFunc,$.stencilRef,$.stencilFuncMask),d.setOp($.stencilFail,$.stencilZFail,$.stencilZPass)),Pe($.polygonOffset,$.polygonOffsetFactor,$.polygonOffsetUnits),$.alphaToCoverage===!0?ce(32926):te(32926)}function Ne($){M!==$&&($?e.frontFace(2304):e.frontFace(2305),M=$)}function Ye($){$!==LB?(ce(2884),$!==C&&($===iS?e.cullFace(1029):$===FB?e.cullFace(1028):e.cullFace(1032))):te(2884),C=$}function ze($){$!==T&&(H&&e.lineWidth($),T=$)}function Pe($,be,Oe){$?(ce(32823),(P!==be||I!==Oe)&&(e.polygonOffset(be,Oe),P=be,I=Oe)):te(32823)}function Ze($){$?ce(3089):te(3089)}function st($){$===void 0&&($=33984+j-1),F!==$&&(e.activeTexture($),F=$)}function V($,be,Oe){Oe===void 0&&(F===null?Oe=33984+j-1:Oe=F);let ye=Z[Oe];ye===void 0&&(ye={type:void 0,texture:void 0},Z[Oe]=ye),(ye.type!==$||ye.texture!==be)&&(F!==Oe&&(e.activeTexture(Oe),F=Oe),e.bindTexture($,be||W[$]),ye.type=$,ye.texture=be)}function z(){let $=Z[F];$!==void 0&&$.type!==void 0&&(e.bindTexture($.type,null),$.type=void 0,$.texture=void 0)}function le(){try{e.compressedTexImage2D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Ie(){try{e.compressedTexImage3D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function ke(){try{e.texSubImage2D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function je(){try{e.texSubImage3D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function tt(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function We(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Se(){try{e.texStorage2D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function qe(){try{e.texStorage3D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function it(){try{e.texImage2D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Qe(){try{e.texImage3D.apply(e,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function ht($){X.equals($)===!1&&(e.scissor($.x,$.y,$.z,$.w),X.copy($))}function lt($){q.equals($)===!1&&(e.viewport($.x,$.y,$.z,$.w),q.copy($))}function Vt($,be){let Oe=c.get(be);Oe===void 0&&(Oe=new WeakMap,c.set(be,Oe));let ye=Oe.get($);ye===void 0&&(ye=e.getUniformBlockIndex(be,$.name),Oe.set($,ye))}function oi($,be){let Oe=c.get(be).get($);u.get(be)!==Oe&&(e.uniformBlockBinding(be,Oe,$.__bindingPointIndex),u.set(be,Oe))}function ji(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),n===!0&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),f={},F=null,Z={},h={},p=new WeakMap,m=[],g=null,v=!1,y=null,b=null,_=null,x=null,k=null,w=null,S=null,A=!1,M=null,C=null,T=null,P=null,I=null,X.set(0,0,e.canvas.width,e.canvas.height),q.set(0,0,e.canvas.width,e.canvas.height),o.reset(),l.reset(),d.reset()}return{buffers:{color:o,depth:l,stencil:d},enable:ce,disable:te,bindFramebuffer:oe,drawBuffers:ie,useProgram:we,setBlending:Le,setMaterial:Be,setFlipSided:Ne,setCullFace:Ye,setLineWidth:ze,setPolygonOffset:Pe,setScissorTest:Ze,activeTexture:st,bindTexture:V,unbindTexture:z,compressedTexImage2D:le,compressedTexImage3D:Ie,texImage2D:it,texImage3D:Qe,updateUBOMapping:Vt,uniformBlockBinding:oi,texStorage2D:Se,texStorage3D:qe,texSubImage2D:ke,texSubImage3D:je,compressedTexSubImage2D:tt,compressedTexSubImage3D:We,scissor:ht,viewport:lt,reset:ji}}function jU(e,t,i,n,r,a,s){let o=r.isWebGL2,l=r.maxTextures,d=r.maxCubemapSize,u=r.maxTextureSize,c=r.maxSamples,f=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap,m,g=new WeakMap,v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(V){}function y(V,z){return v?new OffscreenCanvas(V,z):gp("canvas")}function b(V,z,le,Ie){let ke=1;if((V.width>Ie||V.height>Ie)&&(ke=Ie/Math.max(V.width,V.height)),ke<1||z===!0)if(typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&V instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&V instanceof ImageBitmap){let je=z?pp:Math.floor,tt=je(ke*V.width),We=je(ke*V.height);m===void 0&&(m=y(tt,We));let Se=le?y(tt,We):m;return Se.width=tt,Se.height=We,Se.getContext("2d").drawImage(V,0,0,tt,We),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+V.width+"x"+V.height+") to ("+tt+"x"+We+")."),Se}else return"data"in V&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+V.width+"x"+V.height+")."),V;return V}function _(V){return _0(V.width)&&_0(V.height)}function x(V){return o?!1:V.wrapS!==Zi||V.wrapT!==Zi||V.minFilter!==Ci&&V.minFilter!==Rt}function k(V,z){return V.generateMipmaps&&z&&V.minFilter!==Ci&&V.minFilter!==Rt}function w(V){e.generateMipmap(V)}function S(V,z,le,Ie,ke=!1){if(o===!1)return z;if(V!==null){if(e[V]!==void 0)return e[V];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+V+"'")}let je=z;return z===6403&&(le===5126&&(je=33326),le===5131&&(je=33325),le===5121&&(je=33321)),z===33319&&(le===5126&&(je=33328),le===5131&&(je=33327),le===5121&&(je=33323)),z===6408&&(le===5126&&(je=34836),le===5131&&(je=34842),le===5121&&(je=Ie===Dt&&ke===!1?35907:32856),le===32819&&(je=32854),le===32820&&(je=32855)),(je===33325||je===33326||je===33327||je===33328||je===34842||je===34836)&&t.get("EXT_color_buffer_float"),je}function A(V,z,le){return k(V,le)===!0||V.isFramebufferTexture&&V.minFilter!==Ci&&V.minFilter!==Rt?Math.log2(Math.max(z.width,z.height))+1:V.mipmaps!==void 0&&V.mipmaps.length>0?V.mipmaps.length:V.isCompressedTexture&&Array.isArray(V.image)?z.mipmaps.length:1}function M(V){return V===Ci||V===fS||V===o0?9728:9729}function C(V){let z=V.target;z.removeEventListener("dispose",C),P(z),z.isVideoTexture&&p.delete(z)}function T(V){let z=V.target;z.removeEventListener("dispose",T),j(z)}function P(V){let z=n.get(V);if(z.__webglInit===void 0)return;let le=V.source,Ie=g.get(le);if(Ie){let ke=Ie[z.__cacheKey];ke.usedTimes--,ke.usedTimes===0&&I(V),Object.keys(Ie).length===0&&g.delete(le)}n.remove(V)}function I(V){let z=n.get(V);e.deleteTexture(z.__webglTexture);let le=V.source,Ie=g.get(le);delete Ie[z.__cacheKey],s.memory.textures--}function j(V){let z=V.texture,le=n.get(V),Ie=n.get(z);if(Ie.__webglTexture!==void 0&&(e.deleteTexture(Ie.__webglTexture),s.memory.textures--),V.depthTexture&&V.depthTexture.dispose(),V.isWebGLCubeRenderTarget)for(let ke=0;ke<6;ke++)e.deleteFramebuffer(le.__webglFramebuffer[ke]),le.__webglDepthbuffer&&e.deleteRenderbuffer(le.__webglDepthbuffer[ke]);else{if(e.deleteFramebuffer(le.__webglFramebuffer),le.__webglDepthbuffer&&e.deleteRenderbuffer(le.__webglDepthbuffer),le.__webglMultisampledFramebuffer&&e.deleteFramebuffer(le.__webglMultisampledFramebuffer),le.__webglColorRenderbuffer)for(let ke=0;ke<le.__webglColorRenderbuffer.length;ke++)le.__webglColorRenderbuffer[ke]&&e.deleteRenderbuffer(le.__webglColorRenderbuffer[ke]);le.__webglDepthRenderbuffer&&e.deleteRenderbuffer(le.__webglDepthRenderbuffer)}if(V.isWebGLMultipleRenderTargets)for(let ke=0,je=z.length;ke<je;ke++){let tt=n.get(z[ke]);tt.__webglTexture&&(e.deleteTexture(tt.__webglTexture),s.memory.textures--),n.remove(z[ke])}n.remove(z),n.remove(V)}let H=0;function U(){H=0}function O(){let V=H;return V>=l&&console.warn("THREE.WebGLTextures: Trying to use "+V+" texture units while this GPU supports only "+l),H+=1,V}function F(V){let z=[];return z.push(V.wrapS),z.push(V.wrapT),z.push(V.wrapR||0),z.push(V.magFilter),z.push(V.minFilter),z.push(V.anisotropy),z.push(V.internalFormat),z.push(V.format),z.push(V.type),z.push(V.generateMipmaps),z.push(V.premultiplyAlpha),z.push(V.flipY),z.push(V.unpackAlignment),z.push(V.encoding),z.join()}function Z(V,z){let le=n.get(V);if(V.isVideoTexture&&Ze(V),V.isRenderTargetTexture===!1&&V.version>0&&le.__version!==V.version){let Ie=V.image;if(Ie===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ie.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{te(le,V,z);return}}i.bindTexture(3553,le.__webglTexture,33984+z)}function G(V,z){let le=n.get(V);if(V.version>0&&le.__version!==V.version){te(le,V,z);return}i.bindTexture(35866,le.__webglTexture,33984+z)}function L(V,z){let le=n.get(V);if(V.version>0&&le.__version!==V.version){te(le,V,z);return}i.bindTexture(32879,le.__webglTexture,33984+z)}function X(V,z){let le=n.get(V);if(V.version>0&&le.__version!==V.version){oe(le,V,z);return}i.bindTexture(34067,le.__webglTexture,33984+z)}let q={[qs]:10497,[Zi]:33071,[s0]:33648},J={[Ci]:9728,[fS]:9984,[o0]:9986,[Rt]:9729,[hL]:9985,[Hd]:9987};function W(V,z,le){if(le?(e.texParameteri(V,10242,q[z.wrapS]),e.texParameteri(V,10243,q[z.wrapT]),(V===32879||V===35866)&&e.texParameteri(V,32882,q[z.wrapR]),e.texParameteri(V,10240,J[z.magFilter]),e.texParameteri(V,10241,J[z.minFilter])):(e.texParameteri(V,10242,33071),e.texParameteri(V,10243,33071),(V===32879||V===35866)&&e.texParameteri(V,32882,33071),(z.wrapS!==Zi||z.wrapT!==Zi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(V,10240,M(z.magFilter)),e.texParameteri(V,10241,M(z.minFilter)),z.minFilter!==Ci&&z.minFilter!==Rt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),t.has("EXT_texture_filter_anisotropic")===!0){let Ie=t.get("EXT_texture_filter_anisotropic");if(z.magFilter===Ci||z.minFilter!==o0&&z.minFilter!==Hd||z.type===lr&&t.has("OES_texture_float_linear")===!1||o===!1&&z.type===Bl&&t.has("OES_texture_half_float_linear")===!1)return;(z.anisotropy>1||n.get(z).__currentAnisotropy)&&(e.texParameterf(V,Ie.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(z.anisotropy,r.getMaxAnisotropy())),n.get(z).__currentAnisotropy=z.anisotropy)}}function ce(V,z){let le=!1;V.__webglInit===void 0&&(V.__webglInit=!0,z.addEventListener("dispose",C));let Ie=z.source,ke=g.get(Ie);ke===void 0&&(ke={},g.set(Ie,ke));let je=F(z);if(je!==V.__cacheKey){ke[je]===void 0&&(ke[je]={texture:e.createTexture(),usedTimes:0},s.memory.textures++,le=!0),ke[je].usedTimes++;let tt=ke[V.__cacheKey];tt!==void 0&&(ke[V.__cacheKey].usedTimes--,tt.usedTimes===0&&I(z)),V.__cacheKey=je,V.__webglTexture=ke[je].texture}return le}function te(V,z,le){let Ie=3553;(z.isDataArrayTexture||z.isCompressedArrayTexture)&&(Ie=35866),z.isData3DTexture&&(Ie=32879);let ke=ce(V,z),je=z.source;i.bindTexture(Ie,V.__webglTexture,33984+le);let tt=n.get(je);if(je.version!==tt.__version||ke===!0){i.activeTexture(33984+le),e.pixelStorei(37440,z.flipY),e.pixelStorei(37441,z.premultiplyAlpha),e.pixelStorei(3317,z.unpackAlignment),e.pixelStorei(37443,0);let We=x(z)&&_(z.image)===!1,Se=b(z.image,We,!1,u);Se=st(z,Se);let qe=_(Se)||o,it=a.convert(z.format,z.encoding),Qe=a.convert(z.type),ht=S(z.internalFormat,it,Qe,z.encoding,z.isVideoTexture);W(Ie,z,qe);let lt,Vt=z.mipmaps,oi=o&&z.isVideoTexture!==!0,ji=tt.__version===void 0||ke===!0,$=A(z,Se,qe);if(z.isDepthTexture)ht=6402,o?z.type===lr?ht=36012:z.type===Zs?ht=33190:z.type===Ll?ht=35056:ht=33189:z.type===lr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),z.format===Fl&&ht===6402&&z.type!==hS&&z.type!==Zs&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),z.type=Zs,Qe=a.convert(z.type)),z.format===Nl&&ht===6402&&(ht=34041,z.type!==Ll&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),z.type=Ll,Qe=a.convert(z.type))),ji&&(oi?i.texStorage2D(3553,1,ht,Se.width,Se.height):i.texImage2D(3553,0,ht,Se.width,Se.height,0,it,Qe,null));else if(z.isDataTexture)if(Vt.length>0&&qe){oi&&ji&&i.texStorage2D(3553,$,ht,Vt[0].width,Vt[0].height);for(let be=0,Oe=Vt.length;be<Oe;be++)lt=Vt[be],oi?i.texSubImage2D(3553,be,0,0,lt.width,lt.height,it,Qe,lt.data):i.texImage2D(3553,be,ht,lt.width,lt.height,0,it,Qe,lt.data);z.generateMipmaps=!1}else oi?(ji&&i.texStorage2D(3553,$,ht,Se.width,Se.height),i.texSubImage2D(3553,0,0,0,Se.width,Se.height,it,Qe,Se.data)):i.texImage2D(3553,0,ht,Se.width,Se.height,0,it,Qe,Se.data);else if(z.isCompressedTexture)if(z.isCompressedArrayTexture){oi&&ji&&i.texStorage3D(35866,$,ht,Vt[0].width,Vt[0].height,Se.depth);for(let be=0,Oe=Vt.length;be<Oe;be++)lt=Vt[be],z.format!==Xr?it!==null?oi?i.compressedTexSubImage3D(35866,be,0,0,0,lt.width,lt.height,Se.depth,it,lt.data,0,0):i.compressedTexImage3D(35866,be,ht,lt.width,lt.height,Se.depth,0,lt.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):oi?i.texSubImage3D(35866,be,0,0,0,lt.width,lt.height,Se.depth,it,Qe,lt.data):i.texImage3D(35866,be,ht,lt.width,lt.height,Se.depth,0,it,Qe,lt.data)}else{oi&&ji&&i.texStorage2D(3553,$,ht,Vt[0].width,Vt[0].height);for(let be=0,Oe=Vt.length;be<Oe;be++)lt=Vt[be],z.format!==Xr?it!==null?oi?i.compressedTexSubImage2D(3553,be,0,0,lt.width,lt.height,it,lt.data):i.compressedTexImage2D(3553,be,ht,lt.width,lt.height,0,lt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):oi?i.texSubImage2D(3553,be,0,0,lt.width,lt.height,it,Qe,lt.data):i.texImage2D(3553,be,ht,lt.width,lt.height,0,it,Qe,lt.data)}else if(z.isDataArrayTexture)oi?(ji&&i.texStorage3D(35866,$,ht,Se.width,Se.height,Se.depth),i.texSubImage3D(35866,0,0,0,0,Se.width,Se.height,Se.depth,it,Qe,Se.data)):i.texImage3D(35866,0,ht,Se.width,Se.height,Se.depth,0,it,Qe,Se.data);else if(z.isData3DTexture)oi?(ji&&i.texStorage3D(32879,$,ht,Se.width,Se.height,Se.depth),i.texSubImage3D(32879,0,0,0,0,Se.width,Se.height,Se.depth,it,Qe,Se.data)):i.texImage3D(32879,0,ht,Se.width,Se.height,Se.depth,0,it,Qe,Se.data);else if(z.isFramebufferTexture){if(ji)if(oi)i.texStorage2D(3553,$,ht,Se.width,Se.height);else{let be=Se.width,Oe=Se.height;for(let ye=0;ye<$;ye++)i.texImage2D(3553,ye,ht,be,Oe,0,it,Qe,null),be>>=1,Oe>>=1}}else if(Vt.length>0&&qe){oi&&ji&&i.texStorage2D(3553,$,ht,Vt[0].width,Vt[0].height);for(let be=0,Oe=Vt.length;be<Oe;be++)lt=Vt[be],oi?i.texSubImage2D(3553,be,0,0,it,Qe,lt):i.texImage2D(3553,be,ht,it,Qe,lt);z.generateMipmaps=!1}else oi?(ji&&i.texStorage2D(3553,$,ht,Se.width,Se.height),i.texSubImage2D(3553,0,0,0,it,Qe,Se)):i.texImage2D(3553,0,ht,it,Qe,Se);k(z,qe)&&w(Ie),tt.__version=je.version,z.onUpdate&&z.onUpdate(z)}V.__version=z.version}function oe(V,z,le){if(z.image.length!==6)return;let Ie=ce(V,z),ke=z.source;i.bindTexture(34067,V.__webglTexture,33984+le);let je=n.get(ke);if(ke.version!==je.__version||Ie===!0){i.activeTexture(33984+le),e.pixelStorei(37440,z.flipY),e.pixelStorei(37441,z.premultiplyAlpha),e.pixelStorei(3317,z.unpackAlignment),e.pixelStorei(37443,0);let tt=z.isCompressedTexture||z.image[0].isCompressedTexture,We=z.image[0]&&z.image[0].isDataTexture,Se=[];for(let be=0;be<6;be++)!tt&&!We?Se[be]=b(z.image[be],!1,!0,d):Se[be]=We?z.image[be].image:z.image[be],Se[be]=st(z,Se[be]);let qe=Se[0],it=_(qe)||o,Qe=a.convert(z.format,z.encoding),ht=a.convert(z.type),lt=S(z.internalFormat,Qe,ht,z.encoding),Vt=o&&z.isVideoTexture!==!0,oi=je.__version===void 0||Ie===!0,ji=A(z,qe,it);W(34067,z,it);let $;if(tt){Vt&&oi&&i.texStorage2D(34067,ji,lt,qe.width,qe.height);for(let be=0;be<6;be++){$=Se[be].mipmaps;for(let Oe=0;Oe<$.length;Oe++){let ye=$[Oe];z.format!==Xr?Qe!==null?Vt?i.compressedTexSubImage2D(34069+be,Oe,0,0,ye.width,ye.height,Qe,ye.data):i.compressedTexImage2D(34069+be,Oe,lt,ye.width,ye.height,0,ye.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Vt?i.texSubImage2D(34069+be,Oe,0,0,ye.width,ye.height,Qe,ht,ye.data):i.texImage2D(34069+be,Oe,lt,ye.width,ye.height,0,Qe,ht,ye.data)}}}else{$=z.mipmaps,Vt&&oi&&($.length>0&&ji++,i.texStorage2D(34067,ji,lt,Se[0].width,Se[0].height));for(let be=0;be<6;be++)if(We){Vt?i.texSubImage2D(34069+be,0,0,0,Se[be].width,Se[be].height,Qe,ht,Se[be].data):i.texImage2D(34069+be,0,lt,Se[be].width,Se[be].height,0,Qe,ht,Se[be].data);for(let Oe=0;Oe<$.length;Oe++){let ye=$[Oe].image[be].image;Vt?i.texSubImage2D(34069+be,Oe+1,0,0,ye.width,ye.height,Qe,ht,ye.data):i.texImage2D(34069+be,Oe+1,lt,ye.width,ye.height,0,Qe,ht,ye.data)}}else{Vt?i.texSubImage2D(34069+be,0,0,0,Qe,ht,Se[be]):i.texImage2D(34069+be,0,lt,Qe,ht,Se[be]);for(let Oe=0;Oe<$.length;Oe++){let ye=$[Oe];Vt?i.texSubImage2D(34069+be,Oe+1,0,0,Qe,ht,ye.image[be]):i.texImage2D(34069+be,Oe+1,lt,Qe,ht,ye.image[be])}}}k(z,it)&&w(34067),je.__version=ke.version,z.onUpdate&&z.onUpdate(z)}V.__version=z.version}function ie(V,z,le,Ie,ke){let je=a.convert(le.format,le.encoding),tt=a.convert(le.type),We=S(le.internalFormat,je,tt,le.encoding);n.get(z).__hasExternalTextures||(ke===32879||ke===35866?i.texImage3D(ke,0,We,z.width,z.height,z.depth,0,je,tt,null):i.texImage2D(ke,0,We,z.width,z.height,0,je,tt,null)),i.bindFramebuffer(36160,V),Pe(z)?f.framebufferTexture2DMultisampleEXT(36160,Ie,ke,n.get(le).__webglTexture,0,ze(z)):(ke===3553||ke>=34069&&ke<=34074)&&e.framebufferTexture2D(36160,Ie,ke,n.get(le).__webglTexture,0),i.bindFramebuffer(36160,null)}function we(V,z,le){if(e.bindRenderbuffer(36161,V),z.depthBuffer&&!z.stencilBuffer){let Ie=33189;if(le||Pe(z)){let ke=z.depthTexture;ke&&ke.isDepthTexture&&(ke.type===lr?Ie=36012:ke.type===Zs&&(Ie=33190));let je=ze(z);Pe(z)?f.renderbufferStorageMultisampleEXT(36161,je,Ie,z.width,z.height):e.renderbufferStorageMultisample(36161,je,Ie,z.width,z.height)}else e.renderbufferStorage(36161,Ie,z.width,z.height);e.framebufferRenderbuffer(36160,36096,36161,V)}else if(z.depthBuffer&&z.stencilBuffer){let Ie=ze(z);le&&Pe(z)===!1?e.renderbufferStorageMultisample(36161,Ie,35056,z.width,z.height):Pe(z)?f.renderbufferStorageMultisampleEXT(36161,Ie,35056,z.width,z.height):e.renderbufferStorage(36161,34041,z.width,z.height),e.framebufferRenderbuffer(36160,33306,36161,V)}else{let Ie=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let ke=0;ke<Ie.length;ke++){let je=Ie[ke],tt=a.convert(je.format,je.encoding),We=a.convert(je.type),Se=S(je.internalFormat,tt,We,je.encoding),qe=ze(z);le&&Pe(z)===!1?e.renderbufferStorageMultisample(36161,qe,Se,z.width,z.height):Pe(z)?f.renderbufferStorageMultisampleEXT(36161,qe,Se,z.width,z.height):e.renderbufferStorage(36161,Se,z.width,z.height)}}e.bindRenderbuffer(36161,null)}function pe(V,z){if(z&&z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(i.bindFramebuffer(36160,V),!(z.depthTexture&&z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(z.depthTexture).__webglTexture||z.depthTexture.image.width!==z.width||z.depthTexture.image.height!==z.height)&&(z.depthTexture.image.width=z.width,z.depthTexture.image.height=z.height,z.depthTexture.needsUpdate=!0),Z(z.depthTexture,0);let le=n.get(z.depthTexture).__webglTexture,Ie=ze(z);if(z.depthTexture.format===Fl)Pe(z)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,le,0,Ie):e.framebufferTexture2D(36160,36096,3553,le,0);else if(z.depthTexture.format===Nl)Pe(z)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,le,0,Ie):e.framebufferTexture2D(36160,33306,3553,le,0);else throw new Error("Unknown depthTexture format")}function fe(V){let z=n.get(V),le=V.isWebGLCubeRenderTarget===!0;if(V.depthTexture&&!z.__autoAllocateDepthBuffer){if(le)throw new Error("target.depthTexture not supported in Cube render targets");pe(z.__webglFramebuffer,V)}else if(le){z.__webglDepthbuffer=[];for(let Ie=0;Ie<6;Ie++)i.bindFramebuffer(36160,z.__webglFramebuffer[Ie]),z.__webglDepthbuffer[Ie]=e.createRenderbuffer(),we(z.__webglDepthbuffer[Ie],V,!1)}else i.bindFramebuffer(36160,z.__webglFramebuffer),z.__webglDepthbuffer=e.createRenderbuffer(),we(z.__webglDepthbuffer,V,!1);i.bindFramebuffer(36160,null)}function Le(V,z,le){let Ie=n.get(V);z!==void 0&&ie(Ie.__webglFramebuffer,V,V.texture,36064,3553),le!==void 0&&fe(V)}function Be(V){let z=V.texture,le=n.get(V),Ie=n.get(z);V.addEventListener("dispose",T),V.isWebGLMultipleRenderTargets!==!0&&(Ie.__webglTexture===void 0&&(Ie.__webglTexture=e.createTexture()),Ie.__version=z.version,s.memory.textures++);let ke=V.isWebGLCubeRenderTarget===!0,je=V.isWebGLMultipleRenderTargets===!0,tt=_(V)||o;if(ke){le.__webglFramebuffer=[];for(let We=0;We<6;We++)le.__webglFramebuffer[We]=e.createFramebuffer()}else{if(le.__webglFramebuffer=e.createFramebuffer(),je)if(r.drawBuffers){let We=V.texture;for(let Se=0,qe=We.length;Se<qe;Se++){let it=n.get(We[Se]);it.__webglTexture===void 0&&(it.__webglTexture=e.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&V.samples>0&&Pe(V)===!1){let We=je?z:[z];le.__webglMultisampledFramebuffer=e.createFramebuffer(),le.__webglColorRenderbuffer=[],i.bindFramebuffer(36160,le.__webglMultisampledFramebuffer);for(let Se=0;Se<We.length;Se++){let qe=We[Se];le.__webglColorRenderbuffer[Se]=e.createRenderbuffer(),e.bindRenderbuffer(36161,le.__webglColorRenderbuffer[Se]);let it=a.convert(qe.format,qe.encoding),Qe=a.convert(qe.type),ht=S(qe.internalFormat,it,Qe,qe.encoding,V.isXRRenderTarget===!0),lt=ze(V);e.renderbufferStorageMultisample(36161,lt,ht,V.width,V.height),e.framebufferRenderbuffer(36160,36064+Se,36161,le.__webglColorRenderbuffer[Se])}e.bindRenderbuffer(36161,null),V.depthBuffer&&(le.__webglDepthRenderbuffer=e.createRenderbuffer(),we(le.__webglDepthRenderbuffer,V,!0)),i.bindFramebuffer(36160,null)}}if(ke){i.bindTexture(34067,Ie.__webglTexture),W(34067,z,tt);for(let We=0;We<6;We++)ie(le.__webglFramebuffer[We],V,z,36064,34069+We);k(z,tt)&&w(34067),i.unbindTexture()}else if(je){let We=V.texture;for(let Se=0,qe=We.length;Se<qe;Se++){let it=We[Se],Qe=n.get(it);i.bindTexture(3553,Qe.__webglTexture),W(3553,it,tt),ie(le.__webglFramebuffer,V,it,36064+Se,3553),k(it,tt)&&w(3553)}i.unbindTexture()}else{let We=3553;(V.isWebGL3DRenderTarget||V.isWebGLArrayRenderTarget)&&(o?We=V.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),i.bindTexture(We,Ie.__webglTexture),W(We,z,tt),ie(le.__webglFramebuffer,V,z,36064,We),k(z,tt)&&w(We),i.unbindTexture()}V.depthBuffer&&fe(V)}function Ne(V){let z=_(V)||o,le=V.isWebGLMultipleRenderTargets===!0?V.texture:[V.texture];for(let Ie=0,ke=le.length;Ie<ke;Ie++){let je=le[Ie];if(k(je,z)){let tt=V.isWebGLCubeRenderTarget?34067:3553,We=n.get(je).__webglTexture;i.bindTexture(tt,We),w(tt),i.unbindTexture()}}}function Ye(V){if(o&&V.samples>0&&Pe(V)===!1){let z=V.isWebGLMultipleRenderTargets?V.texture:[V.texture],le=V.width,Ie=V.height,ke=16384,je=[],tt=V.stencilBuffer?33306:36096,We=n.get(V),Se=V.isWebGLMultipleRenderTargets===!0;if(Se)for(let qe=0;qe<z.length;qe++)i.bindFramebuffer(36160,We.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+qe,36161,null),i.bindFramebuffer(36160,We.__webglFramebuffer),e.framebufferTexture2D(36009,36064+qe,3553,null,0);i.bindFramebuffer(36008,We.__webglMultisampledFramebuffer),i.bindFramebuffer(36009,We.__webglFramebuffer);for(let qe=0;qe<z.length;qe++){je.push(36064+qe),V.depthBuffer&&je.push(tt);let it=We.__ignoreDepthValues!==void 0?We.__ignoreDepthValues:!1;if(it===!1&&(V.depthBuffer&&(ke|=256),V.stencilBuffer&&(ke|=1024)),Se&&e.framebufferRenderbuffer(36008,36064,36161,We.__webglColorRenderbuffer[qe]),it===!0&&(e.invalidateFramebuffer(36008,[tt]),e.invalidateFramebuffer(36009,[tt])),Se){let Qe=n.get(z[qe]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,Qe,0)}e.blitFramebuffer(0,0,le,Ie,0,0,le,Ie,ke,9728),h&&e.invalidateFramebuffer(36008,je)}if(i.bindFramebuffer(36008,null),i.bindFramebuffer(36009,null),Se)for(let qe=0;qe<z.length;qe++){i.bindFramebuffer(36160,We.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+qe,36161,We.__webglColorRenderbuffer[qe]);let it=n.get(z[qe]).__webglTexture;i.bindFramebuffer(36160,We.__webglFramebuffer),e.framebufferTexture2D(36009,36064+qe,3553,it,0)}i.bindFramebuffer(36009,We.__webglMultisampledFramebuffer)}}function ze(V){return Math.min(c,V.samples)}function Pe(V){let z=n.get(V);return o&&V.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&z.__useRenderToTexture!==!1}function Ze(V){let z=s.render.frame;p.get(V)!==z&&(p.set(V,z),V.update())}function st(V,z){let le=V.encoding,Ie=V.format,ke=V.type;return V.isCompressedTexture===!0||V.isVideoTexture===!0||V.format===y0||le!==ss&&(le===Dt?o===!1?t.has("EXT_sRGB")===!0&&Ie===Xr?(V.format=y0,V.minFilter=Rt,V.generateMipmaps=!1):z=qS.sRGBToLinear(z):(Ie!==Xr||ke!==Yn)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",le)),z}this.allocateTextureUnit=O,this.resetTextureUnits=U,this.setTexture2D=Z,this.setTexture2DArray=G,this.setTexture3D=L,this.setTextureCube=X,this.rebindTextures=Le,this.setupRenderTarget=Be,this.updateRenderTargetMipmap=Ne,this.updateMultisampleRenderTarget=Ye,this.setupDepthRenderbuffer=fe,this.setupFrameBufferTexture=ie,this.useMultisampledRTT=Pe}function RU(e,t,i){let n=i.isWebGL2;function r(a,s=null){let o;if(a===Yn)return 5121;if(a===vL)return 32819;if(a===yL)return 32820;if(a===pL)return 5120;if(a===mL)return 5122;if(a===hS)return 5123;if(a===gL)return 5124;if(a===Zs)return 5125;if(a===lr)return 5126;if(a===Bl)return n?5131:(o=t.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(a===bL)return 6406;if(a===Xr)return 6408;if(a===_L)return 6409;if(a===wL)return 6410;if(a===Fl)return 6402;if(a===Nl)return 34041;if(a===y0)return o=t.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(a===xL)return 6403;if(a===kL)return 36244;if(a===dp)return 33319;if(a===SL)return 33320;if(a===pS)return 36249;if(a===l0||a===d0||a===c0||a===u0)if(s===Dt)if(o=t.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(a===l0)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(a===d0)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(a===c0)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(a===u0)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=t.get("WEBGL_compressed_texture_s3tc"),o!==null){if(a===l0)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===d0)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===c0)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===u0)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===mS||a===gS||a===vS||a===yS)if(o=t.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(a===mS)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===gS)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===vS)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===yS)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===AL)return o=t.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(a===bS||a===_S)if(o=t.get("WEBGL_compressed_texture_etc"),o!==null){if(a===bS)return s===Dt?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(a===_S)return s===Dt?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(a===wS||a===xS||a===kS||a===SS||a===AS||a===MS||a===CS||a===ES||a===TS||a===DS||a===PS||a===IS||a===OS||a===jS)if(o=t.get("WEBGL_compressed_texture_astc"),o!==null){if(a===wS)return s===Dt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(a===xS)return s===Dt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(a===kS)return s===Dt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(a===SS)return s===Dt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(a===AS)return s===Dt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(a===MS)return s===Dt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(a===CS)return s===Dt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(a===ES)return s===Dt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(a===TS)return s===Dt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(a===DS)return s===Dt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(a===PS)return s===Dt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(a===IS)return s===Dt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(a===OS)return s===Dt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(a===jS)return s===Dt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(a===f0)if(o=t.get("EXT_texture_compression_bptc"),o!==null){if(a===f0)return s===Dt?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(a===ML||a===RS||a===zS||a===BS)if(o=t.get("EXT_texture_compression_rgtc"),o!==null){if(a===f0)return o.COMPRESSED_RED_RGTC1_EXT;if(a===RS)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(a===zS)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(a===BS)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return a===Ll?n?34042:(o=t.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):e[a]!==void 0?e[a]:null}return{convert:r}}var zU=class extends Qn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},hc=class extends mi{constructor(){super(),this.isGroup=!0,this.type="Group"}},BU={type:"move"},K0=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new hc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new hc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new E,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new E),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new hc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new E,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new E),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let t=this._hand;if(t)for(let i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let n=null,r=null,a=null,s=this._targetRay,o=this._grip,l=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(l&&e.hand){a=!0;for(let p of e.hand.values()){let m=t.getJointPose(p,i),g=this._getHandJoint(l,p);m!==null&&(g.matrix.fromArray(m.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.jointRadius=m.radius),g.visible=m!==null}let d=l.joints["index-finger-tip"],u=l.joints["thumb-tip"],c=d.position.distanceTo(u.position),f=.02,h=.005;l.inputState.pinching&&c>f+h?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&c<=f-h&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else o!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,i),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1));s!==null&&(n=t.getPose(e.targetRaySpace,i),n===null&&r!==null&&(n=r),n!==null&&(s.matrix.fromArray(n.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),n.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(n.linearVelocity)):s.hasLinearVelocity=!1,n.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(n.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(BU)))}return s!==null&&(s.visible=n!==null),o!==null&&(o.visible=r!==null),l!==null&&(l.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){let i=new hc;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}},pc=class extends gn{constructor(e,t,i,n,r,a,s,o,l,d){if(d=d!==void 0?d:Fl,d!==Fl&&d!==Nl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===Fl&&(i=Zs),i===void 0&&d===Nl&&(i=Ll),super(null,n,r,a,s,o,d,i,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=s!==void 0?s:Ci,this.minFilter=o!==void 0?o:Ci,this.flipY=!1,this.generateMipmaps=!1}},LU=class extends Nn{constructor(e,t){super();let i=this,n=null,r=1,a=null,s="local-floor",o=1,l=null,d=null,u=null,c=null,f=null,h=null,p=t.getContextAttributes(),m=null,g=null,v=[],y=[],b=new Set,_=new Map,x=new Qn;x.layers.enable(1),x.viewport=new Pt;let k=new Qn;k.layers.enable(2),k.viewport=new Pt;let w=[x,k],S=new zU;S.layers.enable(1),S.layers.enable(2);let A=null,M=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let L=v[G];return L===void 0&&(L=new K0,v[G]=L),L.getTargetRaySpace()},this.getControllerGrip=function(G){let L=v[G];return L===void 0&&(L=new K0,v[G]=L),L.getGripSpace()},this.getHand=function(G){let L=v[G];return L===void 0&&(L=new K0,v[G]=L),L.getHandSpace()};function C(G){let L=y.indexOf(G.inputSource);if(L===-1)return;let X=v[L];X!==void 0&&X.dispatchEvent({type:G.type,data:G.inputSource})}function T(){n.removeEventListener("select",C),n.removeEventListener("selectstart",C),n.removeEventListener("selectend",C),n.removeEventListener("squeeze",C),n.removeEventListener("squeezestart",C),n.removeEventListener("squeezeend",C),n.removeEventListener("end",T),n.removeEventListener("inputsourceschange",P);for(let G=0;G<v.length;G++){let L=y[G];L!==null&&(y[G]=null,v[G].disconnect(L))}A=null,M=null,e.setRenderTarget(m),f=null,c=null,u=null,n=null,g=null,Z.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){r=G,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){s=G,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(G){l=G},this.getBaseLayer=function(){return c!==null?c:f},this.getBinding=function(){return u},this.getFrame=function(){return h},this.getSession=function(){return n},this.setSession=function(G){return ri(this,null,function*(){if(n=G,n!==null){if(m=e.getRenderTarget(),n.addEventListener("select",C),n.addEventListener("selectstart",C),n.addEventListener("selectend",C),n.addEventListener("squeeze",C),n.addEventListener("squeezestart",C),n.addEventListener("squeezeend",C),n.addEventListener("end",T),n.addEventListener("inputsourceschange",P),p.xrCompatible!==!0&&(yield t.makeXRCompatible()),n.renderState.layers===void 0||e.capabilities.isWebGL2===!1){let L={antialias:n.renderState.layers===void 0?p.antialias:!0,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:r};f=new XRWebGLLayer(n,t,L),n.updateRenderState({baseLayer:f}),g=new pi(f.framebufferWidth,f.framebufferHeight,{format:Xr,type:Yn,encoding:e.outputEncoding,stencilBuffer:p.stencil})}else{let L=null,X=null,q=null;p.depth&&(q=p.stencil?35056:33190,L=p.stencil?Nl:Fl,X=p.stencil?Ll:Zs);let J={colorFormat:32856,depthFormat:q,scaleFactor:r};u=new XRWebGLBinding(n,t),c=u.createProjectionLayer(J),n.updateRenderState({layers:[c]}),g=new pi(c.textureWidth,c.textureHeight,{format:Xr,type:Yn,depthTexture:new pc(c.textureWidth,c.textureHeight,X,void 0,void 0,void 0,void 0,void 0,void 0,L),stencilBuffer:p.stencil,encoding:e.outputEncoding,samples:p.antialias?4:0});let W=e.properties.get(g);W.__ignoreDepthValues=c.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(o),l=null,a=yield n.requestReferenceSpace(s),Z.setContext(n),Z.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}})};function P(G){for(let L=0;L<G.removed.length;L++){let X=G.removed[L],q=y.indexOf(X);q>=0&&(y[q]=null,v[q].disconnect(X))}for(let L=0;L<G.added.length;L++){let X=G.added[L],q=y.indexOf(X);if(q===-1){for(let W=0;W<v.length;W++)if(W>=y.length){y.push(X),q=W;break}else if(y[W]===null){y[W]=X,q=W;break}if(q===-1)break}let J=v[q];J&&J.connect(X)}}let I=new E,j=new E;function H(G,L,X){I.setFromMatrixPosition(L.matrixWorld),j.setFromMatrixPosition(X.matrixWorld);let q=I.distanceTo(j),J=L.projectionMatrix.elements,W=X.projectionMatrix.elements,ce=J[14]/(J[10]-1),te=J[14]/(J[10]+1),oe=(J[9]+1)/J[5],ie=(J[9]-1)/J[5],we=(J[8]-1)/J[0],pe=(W[8]+1)/W[0],fe=ce*we,Le=ce*pe,Be=q/(-we+pe),Ne=Be*-we;L.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(Ne),G.translateZ(Be),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert();let Ye=ce+Be,ze=te+Be,Pe=fe-Ne,Ze=Le+(q-Ne),st=oe*te/ze*Ye,V=ie*te/ze*Ye;G.projectionMatrix.makePerspective(Pe,Ze,st,V,Ye,ze)}function U(G,L){L===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(L.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(n===null)return;S.near=k.near=x.near=G.near,S.far=k.far=x.far=G.far,(A!==S.near||M!==S.far)&&(n.updateRenderState({depthNear:S.near,depthFar:S.far}),A=S.near,M=S.far);let L=G.parent,X=S.cameras;U(S,L);for(let J=0;J<X.length;J++)U(X[J],L);S.matrixWorld.decompose(S.position,S.quaternion,S.scale),G.matrix.copy(S.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale);let q=G.children;for(let J=0,W=q.length;J<W;J++)q[J].updateMatrixWorld(!0);X.length===2?H(S,x,k):S.projectionMatrix.copy(x.projectionMatrix)},this.getCamera=function(){return S},this.getFoveation=function(){if(!(c===null&&f===null))return o},this.setFoveation=function(G){o=G,c!==null&&(c.fixedFoveation=G),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=G)},this.getPlanes=function(){return b};let O=null;function F(G,L){if(d=L.getViewerPose(l||a),h=L,d!==null){let X=d.views;f!==null&&(e.setRenderTargetFramebuffer(g,f.framebuffer),e.setRenderTarget(g));let q=!1;X.length!==S.cameras.length&&(S.cameras.length=0,q=!0);for(let J=0;J<X.length;J++){let W=X[J],ce=null;if(f!==null)ce=f.getViewport(W);else{let oe=u.getViewSubImage(c,W);ce=oe.viewport,J===0&&(e.setRenderTargetTextures(g,oe.colorTexture,c.ignoreDepthValues?void 0:oe.depthStencilTexture),e.setRenderTarget(g))}let te=w[J];te===void 0&&(te=new Qn,te.layers.enable(J),te.viewport=new Pt,w[J]=te),te.matrix.fromArray(W.transform.matrix),te.projectionMatrix.fromArray(W.projectionMatrix),te.viewport.set(ce.x,ce.y,ce.width,ce.height),J===0&&S.matrix.copy(te.matrix),q===!0&&S.cameras.push(te)}}for(let X=0;X<v.length;X++){let q=y[X],J=v[X];q!==null&&J!==void 0&&J.update(q,L,l||a)}if(O&&O(G,L),L.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:L.detectedPlanes});let X=null;for(let q of b)L.detectedPlanes.has(q)||(X===null&&(X=[]),X.push(q));if(X!==null)for(let q of X)b.delete(q),_.delete(q),i.dispatchEvent({type:"planeremoved",data:q});for(let q of L.detectedPlanes)if(!b.has(q))b.add(q),_.set(q,L.lastChangedTime),i.dispatchEvent({type:"planeadded",data:q});else{let J=_.get(q);q.lastChangedTime>J&&(_.set(q,q.lastChangedTime),i.dispatchEvent({type:"planechanged",data:q}))}}h=null}let Z=new oA;Z.setAnimationLoop(F),this.setAnimationLoop=function(G){O=G},this.dispose=function(){}}};function FU(e,t){function i(m,g){g.color.getRGB(m.fogColor.value,sA(e)),g.isFog?(m.fogNear.value=g.near,m.fogFar.value=g.far):g.isFogExp2&&(m.fogDensity.value=g.density)}function n(m,g,v,y,b){g.isMeshBasicMaterial||g.isMeshLambertMaterial?r(m,g):g.isMeshToonMaterial?(r(m,g),u(m,g)):g.isMeshPhongMaterial?(r(m,g),d(m,g)):g.isMeshStandardMaterial?(r(m,g),c(m,g),g.isMeshPhysicalMaterial&&f(m,g,b)):g.isMeshMatcapMaterial?(r(m,g),h(m,g)):g.isMeshDepthMaterial?r(m,g):g.isMeshDistanceMaterial?(r(m,g),p(m,g)):g.isMeshNormalMaterial?r(m,g):g.isLineBasicMaterial?(a(m,g),g.isLineDashedMaterial&&s(m,g)):g.isPointsMaterial?o(m,g,v,y):g.isSpriteMaterial?l(m,g):g.isShadowMaterial?(m.color.value.copy(g.color),m.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function r(m,g){m.opacity.value=g.opacity,g.color&&m.diffuse.value.copy(g.color),g.emissive&&m.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.bumpMap&&(m.bumpMap.value=g.bumpMap,m.bumpScale.value=g.bumpScale,g.side===Tn&&(m.bumpScale.value*=-1)),g.displacementMap&&(m.displacementMap.value=g.displacementMap,m.displacementScale.value=g.displacementScale,m.displacementBias.value=g.displacementBias),g.emissiveMap&&(m.emissiveMap.value=g.emissiveMap),g.normalMap&&(m.normalMap.value=g.normalMap,m.normalScale.value.copy(g.normalScale),g.side===Tn&&m.normalScale.value.negate()),g.specularMap&&(m.specularMap.value=g.specularMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest);let v=t.get(g).envMap;if(v&&(m.envMap.value=v,m.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=g.reflectivity,m.ior.value=g.ior,m.refractionRatio.value=g.refractionRatio),g.lightMap){m.lightMap.value=g.lightMap;let _=e.physicallyCorrectLights!==!0?Math.PI:1;m.lightMapIntensity.value=g.lightMapIntensity*_}g.aoMap&&(m.aoMap.value=g.aoMap,m.aoMapIntensity.value=g.aoMapIntensity);let y;g.map?y=g.map:g.specularMap?y=g.specularMap:g.displacementMap?y=g.displacementMap:g.normalMap?y=g.normalMap:g.bumpMap?y=g.bumpMap:g.roughnessMap?y=g.roughnessMap:g.metalnessMap?y=g.metalnessMap:g.alphaMap?y=g.alphaMap:g.emissiveMap?y=g.emissiveMap:g.clearcoatMap?y=g.clearcoatMap:g.clearcoatNormalMap?y=g.clearcoatNormalMap:g.clearcoatRoughnessMap?y=g.clearcoatRoughnessMap:g.iridescenceMap?y=g.iridescenceMap:g.iridescenceThicknessMap?y=g.iridescenceThicknessMap:g.specularIntensityMap?y=g.specularIntensityMap:g.specularColorMap?y=g.specularColorMap:g.transmissionMap?y=g.transmissionMap:g.thicknessMap?y=g.thicknessMap:g.sheenColorMap?y=g.sheenColorMap:g.sheenRoughnessMap&&(y=g.sheenRoughnessMap),y!==void 0&&(y.isWebGLRenderTarget&&(y=y.texture),y.matrixAutoUpdate===!0&&y.updateMatrix(),m.uvTransform.value.copy(y.matrix));let b;g.aoMap?b=g.aoMap:g.lightMap&&(b=g.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),m.uv2Transform.value.copy(b.matrix))}function a(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity}function s(m,g){m.dashSize.value=g.dashSize,m.totalSize.value=g.dashSize+g.gapSize,m.scale.value=g.scale}function o(m,g,v,y){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.size.value=g.size*v,m.scale.value=y*.5,g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest);let b;g.map?b=g.map:g.alphaMap&&(b=g.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),m.uvTransform.value.copy(b.matrix))}function l(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.rotation.value=g.rotation,g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest);let v;g.map?v=g.map:g.alphaMap&&(v=g.alphaMap),v!==void 0&&(v.matrixAutoUpdate===!0&&v.updateMatrix(),m.uvTransform.value.copy(v.matrix))}function d(m,g){m.specular.value.copy(g.specular),m.shininess.value=Math.max(g.shininess,1e-4)}function u(m,g){g.gradientMap&&(m.gradientMap.value=g.gradientMap)}function c(m,g){m.roughness.value=g.roughness,m.metalness.value=g.metalness,g.roughnessMap&&(m.roughnessMap.value=g.roughnessMap),g.metalnessMap&&(m.metalnessMap.value=g.metalnessMap),t.get(g).envMap&&(m.envMapIntensity.value=g.envMapIntensity)}function f(m,g,v){m.ior.value=g.ior,g.sheen>0&&(m.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),m.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(m.sheenColorMap.value=g.sheenColorMap),g.sheenRoughnessMap&&(m.sheenRoughnessMap.value=g.sheenRoughnessMap)),g.clearcoat>0&&(m.clearcoat.value=g.clearcoat,m.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(m.clearcoatMap.value=g.clearcoatMap),g.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap),g.clearcoatNormalMap&&(m.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),m.clearcoatNormalMap.value=g.clearcoatNormalMap,g.side===Tn&&m.clearcoatNormalScale.value.negate())),g.iridescence>0&&(m.iridescence.value=g.iridescence,m.iridescenceIOR.value=g.iridescenceIOR,m.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(m.iridescenceMap.value=g.iridescenceMap),g.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=g.iridescenceThicknessMap)),g.transmission>0&&(m.transmission.value=g.transmission,m.transmissionSamplerMap.value=v.texture,m.transmissionSamplerSize.value.set(v.width,v.height),g.transmissionMap&&(m.transmissionMap.value=g.transmissionMap),m.thickness.value=g.thickness,g.thicknessMap&&(m.thicknessMap.value=g.thicknessMap),m.attenuationDistance.value=g.attenuationDistance,m.attenuationColor.value.copy(g.attenuationColor)),m.specularIntensity.value=g.specularIntensity,m.specularColor.value.copy(g.specularColor),g.specularIntensityMap&&(m.specularIntensityMap.value=g.specularIntensityMap),g.specularColorMap&&(m.specularColorMap.value=g.specularColorMap)}function h(m,g){g.matcap&&(m.matcap.value=g.matcap)}function p(m,g){m.referencePosition.value.copy(g.referencePosition),m.nearDistance.value=g.nearDistance,m.farDistance.value=g.farDistance}return{refreshFogUniforms:i,refreshMaterialUniforms:n}}function NU(e,t,i,n){let r={},a={},s=[],o=i.isWebGL2?e.getParameter(35375):0;function l(y,b){let _=b.program;n.uniformBlockBinding(y,_)}function d(y,b){let _=r[y.id];_===void 0&&(p(y),_=u(y),r[y.id]=_,y.addEventListener("dispose",g));let x=b.program;n.updateUBOMapping(y,x);let k=t.render.frame;a[y.id]!==k&&(f(y),a[y.id]=k)}function u(y){let b=c();y.__bindingPointIndex=b;let _=e.createBuffer(),x=y.__size,k=y.usage;return e.bindBuffer(35345,_),e.bufferData(35345,x,k),e.bindBuffer(35345,null),e.bindBufferBase(35345,b,_),_}function c(){for(let y=0;y<o;y++)if(s.indexOf(y)===-1)return s.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(y){let b=r[y.id],_=y.uniforms,x=y.__cache;e.bindBuffer(35345,b);for(let k=0,w=_.length;k<w;k++){let S=_[k];if(h(S,k,x)===!0){let A=S.__offset,M=Array.isArray(S.value)?S.value:[S.value],C=0;for(let T=0;T<M.length;T++){let P=M[T],I=m(P);typeof P=="number"?(S.__data[0]=P,e.bufferSubData(35345,A+C,S.__data)):P.isMatrix3?(S.__data[0]=P.elements[0],S.__data[1]=P.elements[1],S.__data[2]=P.elements[2],S.__data[3]=P.elements[0],S.__data[4]=P.elements[3],S.__data[5]=P.elements[4],S.__data[6]=P.elements[5],S.__data[7]=P.elements[0],S.__data[8]=P.elements[6],S.__data[9]=P.elements[7],S.__data[10]=P.elements[8],S.__data[11]=P.elements[0]):(P.toArray(S.__data,C),C+=I.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,A,S.__data)}}e.bindBuffer(35345,null)}function h(y,b,_){let x=y.value;if(_[b]===void 0){if(typeof x=="number")_[b]=x;else{let k=Array.isArray(x)?x:[x],w=[];for(let S=0;S<k.length;S++)w.push(k[S].clone());_[b]=w}return!0}else if(typeof x=="number"){if(_[b]!==x)return _[b]=x,!0}else{let k=Array.isArray(_[b])?_[b]:[_[b]],w=Array.isArray(x)?x:[x];for(let S=0;S<k.length;S++){let A=k[S];if(A.equals(w[S])===!1)return A.copy(w[S]),!0}}return!1}function p(y){let b=y.uniforms,_=0,x=16,k=0;for(let w=0,S=b.length;w<S;w++){let A=b[w],M={boundary:0,storage:0},C=Array.isArray(A.value)?A.value:[A.value];for(let T=0,P=C.length;T<P;T++){let I=C[T],j=m(I);M.boundary+=j.boundary,M.storage+=j.storage}if(A.__data=new Float32Array(M.storage/Float32Array.BYTES_PER_ELEMENT),A.__offset=_,w>0){k=_%x;let T=x-k;k!==0&&T-M.boundary<0&&(_+=x-k,A.__offset=_)}_+=M.storage}return k=_%x,k>0&&(_+=x-k),y.__size=_,y.__cache={},this}function m(y){let b={boundary:0,storage:0};return typeof y=="number"?(b.boundary=4,b.storage=4):y.isVector2?(b.boundary=8,b.storage=8):y.isVector3||y.isColor?(b.boundary=16,b.storage=12):y.isVector4?(b.boundary=16,b.storage=16):y.isMatrix3?(b.boundary=48,b.storage=48):y.isMatrix4?(b.boundary=64,b.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),b}function g(y){let b=y.target;b.removeEventListener("dispose",g);let _=s.indexOf(b.__bindingPointIndex);s.splice(_,1),e.deleteBuffer(r[b.id]),delete r[b.id],delete a[b.id]}function v(){for(let y in r)e.deleteBuffer(r[y]);s=[],r={},a={}}return{bind:l,update:d,dispose:v}}function UU(){let e=gp("canvas");return e.style.display="block",e}function RA(e={}){this.isWebGLRenderer=!0;let t=e.canvas!==void 0?e.canvas:UU(),i=e.context!==void 0?e.context:null,n=e.depth!==void 0?e.depth:!0,r=e.stencil!==void 0?e.stencil:!0,a=e.antialias!==void 0?e.antialias:!1,s=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,o=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,l=e.powerPreference!==void 0?e.powerPreference:"default",d=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1,u;i!==null?u=i.getContextAttributes().alpha:u=e.alpha!==void 0?e.alpha:!1;let c=null,f=null,h=[],p=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=ss,this.physicallyCorrectLights=!1,this.toneMapping=Ws,this.toneMappingExposure=1;let m=this,g=!1,v=0,y=0,b=null,_=-1,x=null,k=new Pt,w=new Pt,S=null,A=t.width,M=t.height,C=1,T=null,P=null,I=new Pt(0,0,A,M),j=new Pt(0,0,A,M),H=!1,U=new H0,O=!1,F=!1,Z=null,G=new Ee,L=new Y,X=new E,q={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function J(){return b===null?C:1}let W=i;function ce(N,de){for(let me=0;me<N.length;me++){let ne=N[me],xe=t.getContext(ne,de);if(xe!==null)return xe}return null}try{let N={alpha:!0,depth:n,stencil:r,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:o,powerPreference:l,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Ud}`),t.addEventListener("webglcontextlost",ht,!1),t.addEventListener("webglcontextrestored",lt,!1),t.addEventListener("webglcontextcreationerror",Vt,!1),W===null){let de=["webgl2","webgl","experimental-webgl"];if(m.isWebGL1Renderer===!0&&de.shift(),W=ce(de,N),W===null)throw ce(de)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}W.getShaderPrecisionFormat===void 0&&(W.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(N){throw console.error("THREE.WebGLRenderer: "+N.message),N}let te,oe,ie,we,pe,fe,Le,Be,Ne,Ye,ze,Pe,Ze,st,V,z,le,Ie,ke,je,tt,We,Se,qe;function it(){te=new eN(W),oe=new Y7(W,te,e),te.init(oe),We=new RU(W,te,oe),ie=new OU(W,te,oe),we=new nN,pe=new _U,fe=new jU(W,te,ie,pe,oe,We,we),Le=new K7(m),Be=new $7(m),Ne=new f8(W,oe),Se=new q7(W,te,Ne,oe),Ye=new tN(W,Ne,we,Se),ze=new oN(W,Ye,Ne,we),ke=new sN(W,oe,fe),z=new X7(pe),Pe=new bU(m,Le,Be,te,oe,Se,z),Ze=new FU(m,pe),st=new xU,V=new EU(te,oe),Ie=new W7(m,Le,Be,ie,ze,u,s),le=new IU(m,ze,oe),qe=new NU(W,we,oe,ie),je=new Z7(W,te,we,oe),tt=new iN(W,te,we,oe),we.programs=Pe.programs,m.capabilities=oe,m.extensions=te,m.properties=pe,m.renderLists=st,m.shadowMap=le,m.state=ie,m.info=we}it();let Qe=new LU(m,W);this.xr=Qe,this.getContext=function(){return W},this.getContextAttributes=function(){return W.getContextAttributes()},this.forceContextLoss=function(){let N=te.get("WEBGL_lose_context");N&&N.loseContext()},this.forceContextRestore=function(){let N=te.get("WEBGL_lose_context");N&&N.restoreContext()},this.getPixelRatio=function(){return C},this.setPixelRatio=function(N){N!==void 0&&(C=N,this.setSize(A,M,!1))},this.getSize=function(N){return N.set(A,M)},this.setSize=function(N,de,me){if(Qe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}A=N,M=de,t.width=Math.floor(N*C),t.height=Math.floor(de*C),me!==!1&&(t.style.width=N+"px",t.style.height=de+"px"),this.setViewport(0,0,N,de)},this.getDrawingBufferSize=function(N){return N.set(A*C,M*C).floor()},this.setDrawingBufferSize=function(N,de,me){A=N,M=de,C=me,t.width=Math.floor(N*me),t.height=Math.floor(de*me),this.setViewport(0,0,N,de)},this.getCurrentViewport=function(N){return N.copy(k)},this.getViewport=function(N){return N.copy(I)},this.setViewport=function(N,de,me,ne){N.isVector4?I.set(N.x,N.y,N.z,N.w):I.set(N,de,me,ne),ie.viewport(k.copy(I).multiplyScalar(C).floor())},this.getScissor=function(N){return N.copy(j)},this.setScissor=function(N,de,me,ne){N.isVector4?j.set(N.x,N.y,N.z,N.w):j.set(N,de,me,ne),ie.scissor(w.copy(j).multiplyScalar(C).floor())},this.getScissorTest=function(){return H},this.setScissorTest=function(N){ie.setScissorTest(H=N)},this.setOpaqueSort=function(N){T=N},this.setTransparentSort=function(N){P=N},this.getClearColor=function(N){return N.copy(Ie.getClearColor())},this.setClearColor=function(){Ie.setClearColor.apply(Ie,arguments)},this.getClearAlpha=function(){return Ie.getClearAlpha()},this.setClearAlpha=function(){Ie.setClearAlpha.apply(Ie,arguments)},this.clear=function(N=!0,de=!0,me=!0){let ne=0;N&&(ne|=16384),de&&(ne|=256),me&&(ne|=1024),W.clear(ne)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ht,!1),t.removeEventListener("webglcontextrestored",lt,!1),t.removeEventListener("webglcontextcreationerror",Vt,!1),st.dispose(),V.dispose(),pe.dispose(),Le.dispose(),Be.dispose(),ze.dispose(),Se.dispose(),qe.dispose(),Pe.dispose(),Qe.dispose(),Qe.removeEventListener("sessionstart",ye),Qe.removeEventListener("sessionend",Ce),Z&&(Z.dispose(),Z=null),Fe.stop()};function ht(N){N.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function lt(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1;let N=we.autoReset,de=le.enabled,me=le.autoUpdate,ne=le.needsUpdate,xe=le.type;it(),we.autoReset=N,le.enabled=de,le.autoUpdate=me,le.needsUpdate=ne,le.type=xe}function Vt(N){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",N.statusMessage)}function oi(N){let de=N.target;de.removeEventListener("dispose",oi),ji(de)}function ji(N){$(N),pe.remove(N)}function $(N){let de=pe.get(N).programs;de!==void 0&&(de.forEach(function(me){Pe.releaseProgram(me)}),N.isShaderMaterial&&Pe.releaseShaderCache(N))}this.renderBufferDirect=function(N,de,me,ne,xe,ot){de===null&&(de=q);let Ot=xe.isMesh&&xe.matrixWorld.determinant()<0,Gt=ki(N,de,me,ne,xe);ie.setMaterial(ne,Ot);let Zt=me.index,Ti=1;ne.wireframe===!0&&(Zt=Ye.getWireframeAttribute(me),Ti=2);let li=me.drawRange,ti=me.attributes.position,rr=li.start*Ti,na=(li.start+li.count)*Ti;ot!==null&&(rr=Math.max(rr,ot.start*Ti),na=Math.min(na,(ot.start+ot.count)*Ti)),Zt!==null?(rr=Math.max(rr,0),na=Math.min(na,Zt.count)):ti!=null&&(rr=Math.max(rr,0),na=Math.min(na,ti.count));let Co=na-rr;if(Co<0||Co===1/0)return;Se.setup(xe,ne,Gt,me,Zt);let Cd,pn=je;if(Zt!==null&&(Cd=Ne.get(Zt),pn=tt,pn.setIndex(Cd)),xe.isMesh)ne.wireframe===!0?(ie.setLineWidth(ne.wireframeLinewidth*J()),pn.setMode(1)):pn.setMode(4);else if(xe.isLine){let ii=ne.linewidth;ii===void 0&&(ii=1),ie.setLineWidth(ii*J()),xe.isLineSegments?pn.setMode(1):xe.isLineLoop?pn.setMode(2):pn.setMode(3)}else xe.isPoints?pn.setMode(0):xe.isSprite&&pn.setMode(4);if(xe.isInstancedMesh)pn.renderInstances(rr,Co,xe.count);else if(me.isInstancedBufferGeometry){let ii=me._maxInstanceCount!==void 0?me._maxInstanceCount:1/0,Qw=Math.min(me.instanceCount,ii);pn.renderInstances(rr,Co,Qw)}else pn.render(rr,Co)},this.compile=function(N,de){function me(ne,xe,ot){ne.transparent===!0&&ne.side===Cr&&ne.forceSinglePass===!1?(ne.side=Tn,ne.needsUpdate=!0,At(ne,xe,ot),ne.side=Ta,ne.needsUpdate=!0,At(ne,xe,ot),ne.side=Cr):At(ne,xe,ot)}f=V.get(N),f.init(),p.push(f),N.traverseVisible(function(ne){ne.isLight&&ne.layers.test(de.layers)&&(f.pushLight(ne),ne.castShadow&&f.pushShadow(ne))}),f.setupLights(m.physicallyCorrectLights),N.traverse(function(ne){let xe=ne.material;if(xe)if(Array.isArray(xe))for(let ot=0;ot<xe.length;ot++){let Ot=xe[ot];me(Ot,N,ne)}else me(xe,N,ne)}),p.pop(),f=null};let be=null;function Oe(N){be&&be(N)}function ye(){Fe.stop()}function Ce(){Fe.start()}let Fe=new oA;Fe.setAnimationLoop(Oe),typeof self<"u"&&Fe.setContext(self),this.setAnimationLoop=function(N){be=N,Qe.setAnimationLoop(N),N===null?Fe.stop():Fe.start()},Qe.addEventListener("sessionstart",ye),Qe.addEventListener("sessionend",Ce),this.render=function(N,de){if(de!==void 0&&de.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(g===!0)return;N.matrixWorldAutoUpdate===!0&&N.updateMatrixWorld(),de.parent===null&&de.matrixWorldAutoUpdate===!0&&de.updateMatrixWorld(),Qe.enabled===!0&&Qe.isPresenting===!0&&(Qe.cameraAutoUpdate===!0&&Qe.updateCamera(de),de=Qe.getCamera()),N.isScene===!0&&N.onBeforeRender(m,N,de,b),f=V.get(N,p.length),f.init(),p.push(f),G.multiplyMatrices(de.projectionMatrix,de.matrixWorldInverse),U.setFromProjectionMatrix(G),F=this.localClippingEnabled,O=z.init(this.clippingPlanes,F),c=st.get(N,h.length),c.init(),h.push(c),nt(N,de,0,m.sortObjects),c.finish(),m.sortObjects===!0&&c.sort(T,P),O===!0&&z.beginShadows();let me=f.state.shadowsArray;if(le.render(me,N,de),O===!0&&z.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ie.render(c,N),f.setupLights(m.physicallyCorrectLights),de.isArrayCamera){let ne=de.cameras;for(let xe=0,ot=ne.length;xe<ot;xe++){let Ot=ne[xe];mt(c,N,Ot,Ot.viewport)}}else mt(c,N,de);b!==null&&(fe.updateMultisampleRenderTarget(b),fe.updateRenderTargetMipmap(b)),N.isScene===!0&&N.onAfterRender(m,N,de),Se.resetDefaultState(),_=-1,x=null,p.pop(),p.length>0?f=p[p.length-1]:f=null,h.pop(),h.length>0?c=h[h.length-1]:c=null};function nt(N,de,me,ne){if(N.visible===!1)return;if(N.layers.test(de.layers)){if(N.isGroup)me=N.renderOrder;else if(N.isLOD)N.autoUpdate===!0&&N.update(de);else if(N.isLight)f.pushLight(N),N.castShadow&&f.pushShadow(N);else if(N.isSprite){if(!N.frustumCulled||U.intersectsSprite(N)){ne&&X.setFromMatrixPosition(N.matrixWorld).applyMatrix4(G);let ot=ze.update(N),Ot=N.material;Ot.visible&&c.push(N,ot,Ot,me,X.z,null)}}else if((N.isMesh||N.isLine||N.isPoints)&&(N.isSkinnedMesh&&N.skeleton.frame!==we.render.frame&&(N.skeleton.update(),N.skeleton.frame=we.render.frame),!N.frustumCulled||U.intersectsObject(N))){ne&&X.setFromMatrixPosition(N.matrixWorld).applyMatrix4(G);let ot=ze.update(N),Ot=N.material;if(Array.isArray(Ot)){let Gt=ot.groups;for(let Zt=0,Ti=Gt.length;Zt<Ti;Zt++){let li=Gt[Zt],ti=Ot[li.materialIndex];ti&&ti.visible&&c.push(N,ot,ti,me,X.z,li)}}else Ot.visible&&c.push(N,ot,Ot,me,X.z,null)}}let xe=N.children;for(let ot=0,Ot=xe.length;ot<Ot;ot++)nt(xe[ot],de,me,ne)}function mt(N,de,me,ne){let xe=N.opaque,ot=N.transmissive,Ot=N.transparent;f.setupLightsView(me),O===!0&&z.setGlobalState(m.clippingPlanes,me),ot.length>0&&Mt(xe,de,me),ne&&ie.viewport(k.copy(ne)),xe.length>0&&rt(xe,de,me),ot.length>0&&rt(ot,de,me),Ot.length>0&&rt(Ot,de,me),ie.buffers.depth.setTest(!0),ie.buffers.depth.setMask(!0),ie.buffers.color.setMask(!0),ie.setPolygonOffset(!1)}function Mt(N,de,me){let ne=oe.isWebGL2;Z===null&&(Z=new pi(1,1,{generateMipmaps:!0,type:te.has("EXT_color_buffer_half_float")?Bl:Yn,minFilter:Hd,samples:ne&&a===!0?4:0})),m.getDrawingBufferSize(L),ne?Z.setSize(L.x,L.y):Z.setSize(pp(L.x),pp(L.y));let xe=m.getRenderTarget();m.setRenderTarget(Z),m.clear();let ot=m.toneMapping;m.toneMapping=Ws,rt(N,de,me),m.toneMapping=ot,fe.updateMultisampleRenderTarget(Z),fe.updateRenderTargetMipmap(Z),m.setRenderTarget(xe)}function rt(N,de,me){let ne=de.isScene===!0?de.overrideMaterial:null;for(let xe=0,ot=N.length;xe<ot;xe++){let Ot=N[xe],Gt=Ot.object,Zt=Ot.geometry,Ti=ne===null?Ot.material:ne,li=Ot.group;Gt.layers.test(me.layers)&&Tt(Gt,de,me,Zt,Ti,li)}}function Tt(N,de,me,ne,xe,ot){N.onBeforeRender(m,de,me,ne,xe,ot),N.modelViewMatrix.multiplyMatrices(me.matrixWorldInverse,N.matrixWorld),N.normalMatrix.getNormalMatrix(N.modelViewMatrix),xe.onBeforeRender(m,de,me,ne,N,ot),xe.transparent===!0&&xe.side===Cr&&xe.forceSinglePass===!1?(xe.side=Tn,xe.needsUpdate=!0,m.renderBufferDirect(me,de,ne,xe,N,ot),xe.side=Ta,xe.needsUpdate=!0,m.renderBufferDirect(me,de,ne,xe,N,ot),xe.side=Cr):m.renderBufferDirect(me,de,ne,xe,N,ot),N.onAfterRender(m,de,me,ne,xe,ot)}function At(N,de,me){de.isScene!==!0&&(de=q);let ne=pe.get(N),xe=f.state.lights,ot=f.state.shadowsArray,Ot=xe.state.version,Gt=Pe.getParameters(N,xe.state,ot,de,me),Zt=Pe.getProgramCacheKey(Gt),Ti=ne.programs;ne.environment=N.isMeshStandardMaterial?de.environment:null,ne.fog=de.fog,ne.envMap=(N.isMeshStandardMaterial?Be:Le).get(N.envMap||ne.environment),Ti===void 0&&(N.addEventListener("dispose",oi),Ti=new Map,ne.programs=Ti);let li=Ti.get(Zt);if(li!==void 0){if(ne.currentProgram===li&&ne.lightsStateVersion===Ot)return Qt(N,Gt),li}else Gt.uniforms=Pe.getUniforms(N),N.onBuild(me,Gt,m),N.onBeforeCompile(Gt,m),li=Pe.acquireProgram(Gt,Zt),Ti.set(Zt,li),ne.uniforms=Gt.uniforms;let ti=ne.uniforms;(!N.isShaderMaterial&&!N.isRawShaderMaterial||N.clipping===!0)&&(ti.clippingPlanes=z.uniform),Qt(N,Gt),ne.needsLights=nr(N),ne.lightsStateVersion=Ot,ne.needsLights&&(ti.ambientLightColor.value=xe.state.ambient,ti.lightProbe.value=xe.state.probe,ti.directionalLights.value=xe.state.directional,ti.directionalLightShadows.value=xe.state.directionalShadow,ti.spotLights.value=xe.state.spot,ti.spotLightShadows.value=xe.state.spotShadow,ti.rectAreaLights.value=xe.state.rectArea,ti.ltc_1.value=xe.state.rectAreaLTC1,ti.ltc_2.value=xe.state.rectAreaLTC2,ti.pointLights.value=xe.state.point,ti.pointLightShadows.value=xe.state.pointShadow,ti.hemisphereLights.value=xe.state.hemi,ti.directionalShadowMap.value=xe.state.directionalShadowMap,ti.directionalShadowMatrix.value=xe.state.directionalShadowMatrix,ti.spotShadowMap.value=xe.state.spotShadowMap,ti.spotLightMatrix.value=xe.state.spotLightMatrix,ti.spotLightMap.value=xe.state.spotLightMap,ti.pointShadowMap.value=xe.state.pointShadowMap,ti.pointShadowMatrix.value=xe.state.pointShadowMatrix);let rr=li.getUniforms(),na=Lp.seqWithValue(rr.seq,ti);return ne.currentProgram=li,ne.uniformsList=na,li}function Qt(N,de){let me=pe.get(N);me.outputEncoding=de.outputEncoding,me.instancing=de.instancing,me.skinning=de.skinning,me.morphTargets=de.morphTargets,me.morphNormals=de.morphNormals,me.morphColors=de.morphColors,me.morphTargetsCount=de.morphTargetsCount,me.numClippingPlanes=de.numClippingPlanes,me.numIntersection=de.numClipIntersection,me.vertexAlphas=de.vertexAlphas,me.vertexTangents=de.vertexTangents,me.toneMapping=de.toneMapping}function ki(N,de,me,ne,xe){de.isScene!==!0&&(de=q),fe.resetTextureUnits();let ot=de.fog,Ot=ne.isMeshStandardMaterial?de.environment:null,Gt=b===null?m.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:ss,Zt=(ne.isMeshStandardMaterial?Be:Le).get(ne.envMap||Ot),Ti=ne.vertexColors===!0&&!!me.attributes.color&&me.attributes.color.itemSize===4,li=!!ne.normalMap&&!!me.attributes.tangent,ti=!!me.morphAttributes.position,rr=!!me.morphAttributes.normal,na=!!me.morphAttributes.color,Co=ne.toneMapped?m.toneMapping:Ws,Cd=me.morphAttributes.position||me.morphAttributes.normal||me.morphAttributes.color,pn=Cd!==void 0?Cd.length:0,ii=pe.get(ne),Qw=f.state.lights;if(O===!0&&(F===!0||N!==x)){let ra=N===x&&ne.id===_;z.setState(ne,N,ra)}let Jw=!1;ne.version===ii.__version?(ii.needsLights&&ii.lightsStateVersion!==Qw.state.version||ii.outputEncoding!==Gt||xe.isInstancedMesh&&ii.instancing===!1||!xe.isInstancedMesh&&ii.instancing===!0||xe.isSkinnedMesh&&ii.skinning===!1||!xe.isSkinnedMesh&&ii.skinning===!0||ii.envMap!==Zt||ne.fog===!0&&ii.fog!==ot||ii.numClippingPlanes!==void 0&&(ii.numClippingPlanes!==z.numPlanes||ii.numIntersection!==z.numIntersection)||ii.vertexAlphas!==Ti||ii.vertexTangents!==li||ii.morphTargets!==ti||ii.morphNormals!==rr||ii.morphColors!==na||ii.toneMapping!==Co||oe.isWebGL2===!0&&ii.morphTargetsCount!==pn)&&(Jw=!0):(Jw=!0,ii.__version=ne.version);let Ed=ii.currentProgram;Jw===!0&&(Ed=At(ne,de,xe));let QI=!1,Fh=!1,$w=!1,Hn=Ed.getUniforms(),Td=ii.uniforms;if(ie.useProgram(Ed.program)&&(QI=!0,Fh=!0,$w=!0),ne.id!==_&&(_=ne.id,Fh=!0),QI||x!==N){if(Hn.setValue(W,"projectionMatrix",N.projectionMatrix),oe.logarithmicDepthBuffer&&Hn.setValue(W,"logDepthBufFC",2/(Math.log(N.far+1)/Math.LN2)),x!==N&&(x=N,Fh=!0,$w=!0),ne.isShaderMaterial||ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshStandardMaterial||ne.envMap){let ra=Hn.map.cameraPosition;ra!==void 0&&ra.setValue(W,X.setFromMatrixPosition(N.matrixWorld))}(ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshLambertMaterial||ne.isMeshBasicMaterial||ne.isMeshStandardMaterial||ne.isShaderMaterial)&&Hn.setValue(W,"isOrthographic",N.isOrthographicCamera===!0),(ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshLambertMaterial||ne.isMeshBasicMaterial||ne.isMeshStandardMaterial||ne.isShaderMaterial||ne.isShadowMaterial||xe.isSkinnedMesh)&&Hn.setValue(W,"viewMatrix",N.matrixWorldInverse)}if(xe.isSkinnedMesh){Hn.setOptional(W,xe,"bindMatrix"),Hn.setOptional(W,xe,"bindMatrixInverse");let ra=xe.skeleton;ra&&(oe.floatVertexTextures?(ra.boneTexture===null&&ra.computeBoneTexture(),Hn.setValue(W,"boneTexture",ra.boneTexture,fe),Hn.setValue(W,"boneTextureSize",ra.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}let ex=me.morphAttributes;if((ex.position!==void 0||ex.normal!==void 0||ex.color!==void 0&&oe.isWebGL2===!0)&&ke.update(xe,me,ne,Ed),(Fh||ii.receiveShadow!==xe.receiveShadow)&&(ii.receiveShadow=xe.receiveShadow,Hn.setValue(W,"receiveShadow",xe.receiveShadow)),ne.isMeshGouraudMaterial&&ne.envMap!==null&&(Td.envMap.value=Zt,Td.flipEnvMap.value=Zt.isCubeTexture&&Zt.isRenderTargetTexture===!1?-1:1),Fh&&(Hn.setValue(W,"toneMappingExposure",m.toneMappingExposure),ii.needsLights&&nn(Td,$w),ot&&ne.fog===!0&&Ze.refreshFogUniforms(Td,ot),Ze.refreshMaterialUniforms(Td,ne,C,M,Z),Lp.upload(W,ii.uniformsList,Td,fe)),ne.isShaderMaterial&&ne.uniformsNeedUpdate===!0&&(Lp.upload(W,ii.uniformsList,Td,fe),ne.uniformsNeedUpdate=!1),ne.isSpriteMaterial&&Hn.setValue(W,"center",xe.center),Hn.setValue(W,"modelViewMatrix",xe.modelViewMatrix),Hn.setValue(W,"normalMatrix",xe.normalMatrix),Hn.setValue(W,"modelMatrix",xe.matrixWorld),xe.previousModelViewMatrix&&Hn.setValue(W,"previousModelViewMatrix",xe.previousModelViewMatrix),N.previousProjectionMatrix&&Hn.setValue(W,"previousProjectionMatrix",N.previousProjectionMatrix),ne.isShaderMaterial||ne.isRawShaderMaterial){let ra=ne.uniformsGroups;for(let tx=0,ghe=ra.length;tx<ghe;tx++)if(oe.isWebGL2){let JI=ra[tx];qe.update(JI,Ed),qe.bind(JI,Ed)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Ed}function nn(N,de){N.ambientLightColor.needsUpdate=de,N.lightProbe.needsUpdate=de,N.directionalLights.needsUpdate=de,N.directionalLightShadows.needsUpdate=de,N.pointLights.needsUpdate=de,N.pointLightShadows.needsUpdate=de,N.spotLights.needsUpdate=de,N.spotLightShadows.needsUpdate=de,N.rectAreaLights.needsUpdate=de,N.hemisphereLights.needsUpdate=de}function nr(N){return N.isMeshLambertMaterial||N.isMeshToonMaterial||N.isMeshPhongMaterial||N.isMeshStandardMaterial||N.isShadowMaterial||N.isShaderMaterial&&N.lights===!0}this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(N,de,me){pe.get(N.texture).__webglTexture=de,pe.get(N.depthTexture).__webglTexture=me;let ne=pe.get(N);ne.__hasExternalTextures=!0,ne.__hasExternalTextures&&(ne.__autoAllocateDepthBuffer=me===void 0,ne.__autoAllocateDepthBuffer||te.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ne.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(N,de){let me=pe.get(N);me.__webglFramebuffer=de,me.__useDefaultFramebuffer=de===void 0},this.setRenderTarget=function(N,de=0,me=0){b=N,v=de,y=me;let ne=!0,xe=null,ot=!1,Ot=!1;if(N){let Gt=pe.get(N);Gt.__useDefaultFramebuffer!==void 0?(ie.bindFramebuffer(36160,null),ne=!1):Gt.__webglFramebuffer===void 0?fe.setupRenderTarget(N):Gt.__hasExternalTextures&&fe.rebindTextures(N,pe.get(N.texture).__webglTexture,pe.get(N.depthTexture).__webglTexture);let Zt=N.texture;(Zt.isData3DTexture||Zt.isDataArrayTexture||Zt.isCompressedArrayTexture)&&(Ot=!0);let Ti=pe.get(N).__webglFramebuffer;N.isWebGLCubeRenderTarget?(xe=Ti[de],ot=!0):oe.isWebGL2&&N.samples>0&&fe.useMultisampledRTT(N)===!1?xe=pe.get(N).__webglMultisampledFramebuffer:xe=Ti,k.copy(N.viewport),w.copy(N.scissor),S=N.scissorTest}else k.copy(I).multiplyScalar(C).floor(),w.copy(j).multiplyScalar(C).floor(),S=H;if(ie.bindFramebuffer(36160,xe)&&oe.drawBuffers&&ne&&ie.drawBuffers(N,xe),ie.viewport(k),ie.scissor(w),ie.setScissorTest(S),ot){let Gt=pe.get(N.texture);W.framebufferTexture2D(36160,36064,34069+de,Gt.__webglTexture,me)}else if(Ot){let Gt=pe.get(N.texture),Zt=de||0;W.framebufferTextureLayer(36160,36064,Gt.__webglTexture,me||0,Zt)}_=-1},this.readRenderTargetPixels=function(N,de,me,ne,xe,ot,Ot){if(!(N&&N.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Gt=pe.get(N).__webglFramebuffer;if(N.isWebGLCubeRenderTarget&&Ot!==void 0&&(Gt=Gt[Ot]),Gt){ie.bindFramebuffer(36160,Gt);try{let Zt=N.texture,Ti=Zt.format,li=Zt.type;if(Ti!==Xr&&We.convert(Ti)!==W.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}let ti=li===Bl&&(te.has("EXT_color_buffer_half_float")||oe.isWebGL2&&te.has("EXT_color_buffer_float"));if(li!==Yn&&We.convert(li)!==W.getParameter(35738)&&!(li===lr&&(oe.isWebGL2||te.has("OES_texture_float")||te.has("WEBGL_color_buffer_float")))&&!ti){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}de>=0&&de<=N.width-ne&&me>=0&&me<=N.height-xe&&W.readPixels(de,me,ne,xe,We.convert(Ti),We.convert(li),ot)}finally{let Zt=b!==null?pe.get(b).__webglFramebuffer:null;ie.bindFramebuffer(36160,Zt)}}},this.copyFramebufferToTexture=function(N,de,me=0){let ne=Math.pow(2,-me),xe=Math.floor(de.image.width*ne),ot=Math.floor(de.image.height*ne);fe.setTexture2D(de,0),W.copyTexSubImage2D(3553,me,0,0,N.x,N.y,xe,ot),ie.unbindTexture()},this.copyTextureToTexture=function(N,de,me,ne=0){let xe=de.image.width,ot=de.image.height,Ot=We.convert(me.format),Gt=We.convert(me.type);fe.setTexture2D(me,0),W.pixelStorei(37440,me.flipY),W.pixelStorei(37441,me.premultiplyAlpha),W.pixelStorei(3317,me.unpackAlignment),de.isDataTexture?W.texSubImage2D(3553,ne,N.x,N.y,xe,ot,Ot,Gt,de.image.data):de.isCompressedTexture?W.compressedTexSubImage2D(3553,ne,N.x,N.y,de.mipmaps[0].width,de.mipmaps[0].height,Ot,de.mipmaps[0].data):W.texSubImage2D(3553,ne,N.x,N.y,Ot,Gt,de.image),ne===0&&me.generateMipmaps&&W.generateMipmap(3553),ie.unbindTexture()},this.copyTextureToTexture3D=function(N,de,me,ne,xe=0){if(m.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}let ot=N.max.x-N.min.x+1,Ot=N.max.y-N.min.y+1,Gt=N.max.z-N.min.z+1,Zt=We.convert(ne.format),Ti=We.convert(ne.type),li;if(ne.isData3DTexture)fe.setTexture3D(ne,0),li=32879;else if(ne.isDataArrayTexture)fe.setTexture2DArray(ne,0),li=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}W.pixelStorei(37440,ne.flipY),W.pixelStorei(37441,ne.premultiplyAlpha),W.pixelStorei(3317,ne.unpackAlignment);let ti=W.getParameter(3314),rr=W.getParameter(32878),na=W.getParameter(3316),Co=W.getParameter(3315),Cd=W.getParameter(32877),pn=me.isCompressedTexture?me.mipmaps[0]:me.image;W.pixelStorei(3314,pn.width),W.pixelStorei(32878,pn.height),W.pixelStorei(3316,N.min.x),W.pixelStorei(3315,N.min.y),W.pixelStorei(32877,N.min.z),me.isDataTexture||me.isData3DTexture?W.texSubImage3D(li,xe,de.x,de.y,de.z,ot,Ot,Gt,Zt,Ti,pn.data):me.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),W.compressedTexSubImage3D(li,xe,de.x,de.y,de.z,ot,Ot,Gt,Zt,pn.data)):W.texSubImage3D(li,xe,de.x,de.y,de.z,ot,Ot,Gt,Zt,Ti,pn),W.pixelStorei(3314,ti),W.pixelStorei(32878,rr),W.pixelStorei(3316,na),W.pixelStorei(3315,Co),W.pixelStorei(32877,Cd),xe===0&&ne.generateMipmaps&&W.generateMipmap(li),ie.unbindTexture()},this.initTexture=function(N){N.isCubeTexture?fe.setTextureCube(N,0):N.isData3DTexture?fe.setTexture3D(N,0):N.isDataArrayTexture||N.isCompressedArrayTexture?fe.setTexture2DArray(N,0):fe.setTexture2D(N,0),ie.unbindTexture()},this.resetState=function(){v=0,y=0,b=null,ie.reset(),Se.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}var VU=class extends RA{};VU.prototype.isWebGL1Renderer=!0;var zA=class{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new pt(e),this.near=t,this.far=i}clone(){return new zA(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}},Lo=class extends mi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}},HU=class{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=v0,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=da()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let n=0,r=this.stride;n<r;n++)this.array[e+n]=t.array[i+n];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=da()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=da()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}},fr=new E,Q0=class{constructor(e,t,i,n=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=n}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)fr.fromBufferAttribute(this,t),fr.applyMatrix4(e),this.setXYZ(t,fr.x,fr.y,fr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)fr.fromBufferAttribute(this,t),fr.applyNormalMatrix(e),this.setXYZ(t,fr.x,fr.y,fr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)fr.fromBufferAttribute(this,t),fr.transformDirection(e),this.setXYZ(t,fr.x,fr.y,fr.z);return this}setX(e,t){return this.normalized&&(t=Ei(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Ei(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Ei(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Ei(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Xs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Xs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Xs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Xs(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ei(t,this.array),i=Ei(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ei(t,this.array),i=Ei(i,this.array),n=Ei(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=n,this}setXYZW(e,t,i,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ei(t,this.array),i=Ei(i,this.array),n=Ei(n,this.array),r=Ei(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=n,this.data.array[e+3]=r,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let i=0;i<this.count;i++){let n=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[n+r])}return new _t(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Q0(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let i=0;i<this.count;i++){let n=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[n+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}},BA=class extends mi{constructor(){super(),this.isBone=!0,this.type="Bone"}},Fo=class extends gn{constructor(e=null,t=1,i=1,n,r,a,s,o,l=Ci,d=Ci,u,c){super(null,a,s,o,l,d,n,r,u,c),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},LA=new Ee,GU=new Ee,J0=class{constructor(e=[],t=[]){this.uuid=da(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,n=this.bones.length;i<n;i++)this.boneInverses.push(new Ee)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let i=new Ee;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){let e=this.bones,t=this.boneInverses,i=this.boneMatrices,n=this.boneTexture;for(let r=0,a=e.length;r<a;r++){let s=e[r]?e[r].matrixWorld:GU;LA.multiplyMatrices(s,t[r]),LA.toArray(i,r*16)}n!==null&&(n.needsUpdate=!0)}clone(){return new J0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=HS(e),e=Math.max(e,4);let t=new Float32Array(e*e*4);t.set(this.boneMatrices);let i=new Fo(t,e,e,Xr,lr);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){let n=this.bones[t];if(n.name===e)return n}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,n=e.bones.length;i<n;i++){let r=e.bones[i],a=t[r];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),a=new BA),this.bones.push(a),this.boneInverses.push(new Ee().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){let e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,i=this.boneInverses;for(let n=0,r=t.length;n<r;n++){let a=t[n];e.bones.push(a.uuid);let s=i[n];e.boneInverses.push(s.toArray())}return e}},FA=class extends _t{constructor(e,t,i,n=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}},No=class extends df{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new pt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}},NA=new E,UA=new E,VA=new Ee,$0=new Kd,Fp=new Er,Np=class extends mi{constructor(e=new dt,t=new No){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,i=[0];for(let n=1,r=t.count;n<r;n++)NA.fromBufferAttribute(t,n-1),UA.fromBufferAttribute(t,n),i[n]=i[n-1],i[n]+=NA.distanceTo(UA);e.setAttribute("lineDistance",new Ke(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){let i=this.geometry,n=this.matrixWorld,r=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Fp.copy(i.boundingSphere),Fp.applyMatrix4(n),Fp.radius+=r,e.ray.intersectsSphere(Fp)===!1)return;VA.copy(n).invert(),$0.copy(e.ray).applyMatrix4(VA);let s=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=s*s,l=new E,d=new E,u=new E,c=new E,f=this.isLineSegments?2:1,h=i.index,p=i.attributes.position;if(h!==null){let m=Math.max(0,a.start),g=Math.min(h.count,a.start+a.count);for(let v=m,y=g-1;v<y;v+=f){let b=h.getX(v),_=h.getX(v+1);if(l.fromBufferAttribute(p,b),d.fromBufferAttribute(p,_),$0.distanceSqToSegment(l,d,c,u)>o)continue;c.applyMatrix4(this.matrixWorld);let x=e.ray.origin.distanceTo(c);x<e.near||x>e.far||t.push({distance:x,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else{let m=Math.max(0,a.start),g=Math.min(p.count,a.start+a.count);for(let v=m,y=g-1;v<y;v+=f){if(l.fromBufferAttribute(p,v),d.fromBufferAttribute(p,v+1),$0.distanceSqToSegment(l,d,c,u)>o)continue;c.applyMatrix4(this.matrixWorld);let b=e.ray.origin.distanceTo(c);b<e.near||b>e.far||t.push({distance:b,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let i=e[t[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let n=0,r=i.length;n<r;n++){let a=i[n].name||String(n);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=n}}}}},HA=new E,GA=new E,gf=class extends Np{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,i=[];for(let n=0,r=t.count;n<r;n+=2)HA.fromBufferAttribute(t,n),GA.fromBufferAttribute(t,n+1),i[n]=n===0?0:i[n-1],i[n+1]=i[n]+HA.distanceTo(GA);e.setAttribute("lineDistance",new Ke(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},WU=class extends gn{constructor(e,t,i,n,r,a,s,o,l){super(e,t,i,n,r,a,s,o,l),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:Rt,this.magFilter=r!==void 0?r:Rt,this.generateMipmaps=!1;let d=this;function u(){d.needsUpdate=!0,e.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(u)}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;!("requestVideoFrameCallback"in e)&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},cs=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){let i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){let t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){let t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let t=[],i,n=this.getPoint(0),r=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),r+=i.distanceTo(n),t.push(r),n=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){let i=this.getLengths(),n=0,r=i.length,a;t?a=t:a=e*i[r-1];let s=0,o=r-1,l;for(;s<=o;)if(n=Math.floor(s+(o-s)/2),l=i[n]-a,l<0)s=n+1;else if(l>0)o=n-1;else{o=n;break}if(n=o,i[n]===a)return n/(r-1);let d=i[n],u=i[n+1]-d,c=(a-d)/u;return(n+c)/(r-1)}getTangent(e,t){let i=e-1e-4,n=e+1e-4;i<0&&(i=0),n>1&&(n=1);let r=this.getPoint(i),a=this.getPoint(n),s=t||(r.isVector2?new Y:new E);return s.copy(a).sub(r).normalize(),s}getTangentAt(e,t){let i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){let i=new E,n=[],r=[],a=[],s=new E,o=new Ee;for(let f=0;f<=e;f++){let h=f/e;n[f]=this.getTangentAt(h,new E)}r[0]=new E,a[0]=new E;let l=Number.MAX_VALUE,d=Math.abs(n[0].x),u=Math.abs(n[0].y),c=Math.abs(n[0].z);d<=l&&(l=d,i.set(1,0,0)),u<=l&&(l=u,i.set(0,1,0)),c<=l&&i.set(0,0,1),s.crossVectors(n[0],i).normalize(),r[0].crossVectors(n[0],s),a[0].crossVectors(n[0],r[0]);for(let f=1;f<=e;f++){if(r[f]=r[f-1].clone(),a[f]=a[f-1].clone(),s.crossVectors(n[f-1],n[f]),s.length()>Number.EPSILON){s.normalize();let h=Math.acos(on(n[f-1].dot(n[f]),-1,1));r[f].applyMatrix4(o.makeRotationAxis(s,h))}a[f].crossVectors(n[f],r[f])}if(t===!0){let f=Math.acos(on(r[0].dot(r[e]),-1,1));f/=e,n[0].dot(s.crossVectors(r[0],r[e]))>0&&(f=-f);for(let h=1;h<=e;h++)r[h].applyMatrix4(o.makeRotationAxis(n[h],f*h)),a[h].crossVectors(n[h],r[h])}return{tangents:n,normals:r,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},Up=class extends cs{constructor(e=0,t=0,i=1,n=1,r=0,a=Math.PI*2,s=!1,o=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=n,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=s,this.aRotation=o}getPoint(e,t){let i=t||new Y,n=Math.PI*2,r=this.aEndAngle-this.aStartAngle,a=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=n;for(;r>n;)r-=n;r<Number.EPSILON&&(a?r=0:r=n),this.aClockwise===!0&&!a&&(r===n?r=-n:r=r-n);let s=this.aStartAngle+e*r,o=this.aX+this.xRadius*Math.cos(s),l=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){let d=Math.cos(this.aRotation),u=Math.sin(this.aRotation),c=o-this.aX,f=l-this.aY;o=c*d-f*u+this.aX,l=c*u+f*d+this.aY}return i.set(o,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},qU=class extends Up{constructor(e,t,i,n,r,a){super(e,t,i,i,n,r,a),this.isArcCurve=!0,this.type="ArcCurve"}};function e1(){let e=0,t=0,i=0,n=0;function r(a,s,o,l){e=a,t=o,i=-3*a+3*s-2*o-l,n=2*a-2*s+o+l}return{initCatmullRom:function(a,s,o,l,d){r(s,o,d*(o-a),d*(l-s))},initNonuniformCatmullRom:function(a,s,o,l,d,u,c){let f=(s-a)/d-(o-a)/(d+u)+(o-s)/u,h=(o-s)/u-(l-s)/(u+c)+(l-o)/c;f*=u,h*=u,r(s,o,f,h)},calc:function(a){let s=a*a,o=s*a;return e+t*a+i*s+n*o}}}var Vp=new E,t1=new e1,i1=new e1,n1=new e1,ZU=class extends cs{constructor(e=[],t=!1,i="centripetal",n=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=n}getPoint(e,t=new E){let i=t,n=this.points,r=n.length,a=(r-(this.closed?0:1))*e,s=Math.floor(a),o=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/r)+1)*r:o===0&&s===r-1&&(s=r-2,o=1);let l,d;this.closed||s>0?l=n[(s-1)%r]:(Vp.subVectors(n[0],n[1]).add(n[0]),l=Vp);let u=n[s%r],c=n[(s+1)%r];if(this.closed||s+2<r?d=n[(s+2)%r]:(Vp.subVectors(n[r-1],n[r-2]).add(n[r-1]),d=Vp),this.curveType==="centripetal"||this.curveType==="chordal"){let f=this.curveType==="chordal"?.5:.25,h=Math.pow(l.distanceToSquared(u),f),p=Math.pow(u.distanceToSquared(c),f),m=Math.pow(c.distanceToSquared(d),f);p<1e-4&&(p=1),h<1e-4&&(h=p),m<1e-4&&(m=p),t1.initNonuniformCatmullRom(l.x,u.x,c.x,d.x,h,p,m),i1.initNonuniformCatmullRom(l.y,u.y,c.y,d.y,h,p,m),n1.initNonuniformCatmullRom(l.z,u.z,c.z,d.z,h,p,m)}else this.curveType==="catmullrom"&&(t1.initCatmullRom(l.x,u.x,c.x,d.x,this.tension),i1.initCatmullRom(l.y,u.y,c.y,d.y,this.tension),n1.initCatmullRom(l.z,u.z,c.z,d.z,this.tension));return i.set(t1.calc(o),i1.calc(o),n1.calc(o)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){let n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){let n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){let n=e.points[t];this.points.push(new E().fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}};function WA(e,t,i,n,r){let a=(n-t)*.5,s=(r-i)*.5,o=e*e,l=e*o;return(2*i-2*n+a+s)*l+(-3*i+3*n-2*a-s)*o+a*e+i}function YU(e,t){let i=1-e;return i*i*t}function XU(e,t){return 2*(1-e)*e*t}function KU(e,t){return e*e*t}function vf(e,t,i,n){return YU(e,t)+XU(e,i)+KU(e,n)}function QU(e,t){let i=1-e;return i*i*i*t}function JU(e,t){let i=1-e;return 3*i*i*e*t}function $U(e,t){return 3*(1-e)*e*e*t}function eV(e,t){return e*e*e*t}function yf(e,t,i,n,r){return QU(e,t)+JU(e,i)+$U(e,n)+eV(e,r)}var Oa=class extends cs{constructor(e=new Y,t=new Y,i=new Y,n=new Y){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=n}getPoint(e,t=new Y){let i=t,n=this.v0,r=this.v1,a=this.v2,s=this.v3;return i.set(yf(e,n.x,r.x,a.x,s.x),yf(e,n.y,r.y,a.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},Hp=class extends cs{constructor(e=new E,t=new E,i=new E,n=new E){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=n}getPoint(e,t=new E){let i=t,n=this.v0,r=this.v1,a=this.v2,s=this.v3;return i.set(yf(e,n.x,r.x,a.x,s.x),yf(e,n.y,r.y,a.y,s.y),yf(e,n.z,r.z,a.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},ja=class extends cs{constructor(e=new Y,t=new Y){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Y){let i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){let i=t||new Y;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},qA=class extends cs{constructor(e=new E,t=new E){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new E){let i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},Uo=class extends cs{constructor(e=new Y,t=new Y,i=new Y){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Y){let i=t,n=this.v0,r=this.v1,a=this.v2;return i.set(vf(e,n.x,r.x,a.x),vf(e,n.y,r.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},tV=class extends cs{constructor(e=new E,t=new E,i=new E){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new E){let i=t,n=this.v0,r=this.v1,a=this.v2;return i.set(vf(e,n.x,r.x,a.x),vf(e,n.y,r.y,a.y),vf(e,n.z,r.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},r1=class extends cs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Y){let i=t,n=this.points,r=(n.length-1)*e,a=Math.floor(r),s=r-a,o=n[a===0?a:a-1],l=n[a],d=n[a>n.length-2?n.length-1:a+1],u=n[a>n.length-3?n.length-1:a+2];return i.set(WA(s,o.x,l.x,d.x,u.x),WA(s,o.y,l.y,d.y,u.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){let n=e.points[t];this.points.push(n.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){let n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){let n=e.points[t];this.points.push(new Y().fromArray(n))}return this}},iV=Object.freeze({__proto__:null,ArcCurve:qU,CatmullRomCurve3:ZU,CubicBezierCurve:Oa,CubicBezierCurve3:Hp,EllipseCurve:Up,LineCurve:ja,LineCurve3:qA,QuadraticBezierCurve:Uo,QuadraticBezierCurve3:tV,SplineCurve:r1}),ZA=class extends cs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new ja(t,e))}getPoint(e,t){let i=e*this.getLength(),n=this.getCurveLengths(),r=0;for(;r<n.length;){if(n[r]>=i){let a=n[r]-i,s=this.curves[r],o=s.getLength(),l=o===0?0:1-a/o;return s.getPointAt(l,t)}r++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let i=0,n=this.curves.length;i<n;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let t=[],i;for(let n=0,r=this.curves;n<r.length;n++){let a=r[n],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,o=a.getPoints(s);for(let l=0;l<o.length;l++){let d=o[l];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){let n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){let n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){let n=e.curves[t];this.curves.push(new iV[n.type]().fromJSON(n))}return this}},Gp=class extends ZA{constructor(e){super(),this.type="Path",this.currentPoint=new Y,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let i=new ja(this.currentPoint.clone(),new Y(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,n){let r=new Uo(this.currentPoint.clone(),new Y(e,t),new Y(i,n));return this.curves.push(r),this.currentPoint.set(i,n),this}bezierCurveTo(e,t,i,n,r,a){let s=new Oa(this.currentPoint.clone(),new Y(e,t),new Y(i,n),new Y(r,a));return this.curves.push(s),this.currentPoint.set(r,a),this}splineThru(e){let t=[this.currentPoint.clone()].concat(e),i=new r1(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,n,r,a){let s=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+s,t+o,i,n,r,a),this}absarc(e,t,i,n,r,a){return this.absellipse(e,t,i,i,n,r,a),this}ellipse(e,t,i,n,r,a,s,o){let l=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+l,t+d,i,n,r,a,s,o),this}absellipse(e,t,i,n,r,a,s,o){let l=new Up(e,t,i,n,r,a,s,o);if(this.curves.length>0){let u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);let d=l.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},YA=class extends dt{constructor(e=[new Y(0,-.5),new Y(.5,0),new Y(0,.5)],t=12,i=0,n=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:n},t=Math.floor(t),n=on(n,0,Math.PI*2);let r=[],a=[],s=[],o=[],l=[],d=1/t,u=new E,c=new Y,f=new E,h=new E,p=new E,m=0,g=0;for(let v=0;v<=e.length-1;v++)switch(v){case 0:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,f.x=g*1,f.y=-m,f.z=g*0,p.copy(f),f.normalize(),o.push(f.x,f.y,f.z);break;case e.length-1:o.push(p.x,p.y,p.z);break;default:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,f.x=g*1,f.y=-m,f.z=g*0,h.copy(f),f.x+=p.x,f.y+=p.y,f.z+=p.z,f.normalize(),o.push(f.x,f.y,f.z),p.copy(h)}for(let v=0;v<=t;v++){let y=i+v*d*n,b=Math.sin(y),_=Math.cos(y);for(let x=0;x<=e.length-1;x++){u.x=e[x].x*b,u.y=e[x].y,u.z=e[x].x*_,a.push(u.x,u.y,u.z),c.x=v/t,c.y=x/(e.length-1),s.push(c.x,c.y);let k=o[3*x+0]*b,w=o[3*x+1],S=o[3*x+0]*_;l.push(k,w,S)}}for(let v=0;v<t;v++)for(let y=0;y<e.length-1;y++){let b=y+v*e.length,_=b,x=b+e.length,k=b+e.length+1,w=b+1;r.push(_,x,w),r.push(k,w,x)}this.setIndex(r),this.setAttribute("position",new Ke(a,3)),this.setAttribute("uv",new Ke(s,2)),this.setAttribute("normal",new Ke(l,3))}static fromJSON(e){return new YA(e.points,e.segments,e.phiStart,e.phiLength)}},a1=class extends dt{constructor(e=1,t=1,i=1,n=32,r=1,a=!1,s=0,o=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:o};let l=this;n=Math.floor(n),r=Math.floor(r);let d=[],u=[],c=[],f=[],h=0,p=[],m=i/2,g=0;v(),a===!1&&(e>0&&y(!0),t>0&&y(!1)),this.setIndex(d),this.setAttribute("position",new Ke(u,3)),this.setAttribute("normal",new Ke(c,3)),this.setAttribute("uv",new Ke(f,2));function v(){let b=new E,_=new E,x=0,k=(t-e)/i;for(let w=0;w<=r;w++){let S=[],A=w/r,M=A*(t-e)+e;for(let C=0;C<=n;C++){let T=C/n,P=T*o+s,I=Math.sin(P),j=Math.cos(P);_.x=M*I,_.y=-A*i+m,_.z=M*j,u.push(_.x,_.y,_.z),b.set(I,k,j).normalize(),c.push(b.x,b.y,b.z),f.push(T,1-A),S.push(h++)}p.push(S)}for(let w=0;w<n;w++)for(let S=0;S<r;S++){let A=p[S][w],M=p[S+1][w],C=p[S+1][w+1],T=p[S][w+1];d.push(A,M,T),d.push(M,C,T),x+=6}l.addGroup(g,x,0),g+=x}function y(b){let _=h,x=new Y,k=new E,w=0,S=b===!0?e:t,A=b===!0?1:-1;for(let C=1;C<=n;C++)u.push(0,m*A,0),c.push(0,A,0),f.push(.5,.5),h++;let M=h;for(let C=0;C<=n;C++){let T=C/n*o+s,P=Math.cos(T),I=Math.sin(T);k.x=S*I,k.y=m*A,k.z=S*P,u.push(k.x,k.y,k.z),c.push(0,A,0),x.x=P*.5+.5,x.y=I*.5*A+.5,f.push(x.x,x.y),h++}for(let C=0;C<n;C++){let T=_+C,P=M+C;b===!0?d.push(P,P+1,T):d.push(P+1,P,T),w+=3}l.addGroup(g,w,b===!0?1:2),g+=w}}static fromJSON(e){return new a1(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},XA=class extends a1{constructor(e=1,t=1,i=32,n=1,r=!1,a=0,s=Math.PI*2){super(0,e,t,i,n,r,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:n,openEnded:r,thetaStart:a,thetaLength:s}}static fromJSON(e){return new XA(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},s1=class extends dt{constructor(e=[],t=[],i=1,n=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:n};let r=[],a=[];s(n),l(i),d(),this.setAttribute("position",new Ke(r,3)),this.setAttribute("normal",new Ke(r.slice(),3)),this.setAttribute("uv",new Ke(a,2)),n===0?this.computeVertexNormals():this.normalizeNormals();function s(v){let y=new E,b=new E,_=new E;for(let x=0;x<t.length;x+=3)f(t[x+0],y),f(t[x+1],b),f(t[x+2],_),o(y,b,_,v)}function o(v,y,b,_){let x=_+1,k=[];for(let w=0;w<=x;w++){k[w]=[];let S=v.clone().lerp(b,w/x),A=y.clone().lerp(b,w/x),M=x-w;for(let C=0;C<=M;C++)C===0&&w===x?k[w][C]=S:k[w][C]=S.clone().lerp(A,C/M)}for(let w=0;w<x;w++)for(let S=0;S<2*(x-w)-1;S++){let A=Math.floor(S/2);S%2===0?(c(k[w][A+1]),c(k[w+1][A]),c(k[w][A])):(c(k[w][A+1]),c(k[w+1][A+1]),c(k[w+1][A]))}}function l(v){let y=new E;for(let b=0;b<r.length;b+=3)y.x=r[b+0],y.y=r[b+1],y.z=r[b+2],y.normalize().multiplyScalar(v),r[b+0]=y.x,r[b+1]=y.y,r[b+2]=y.z}function d(){let v=new E;for(let y=0;y<r.length;y+=3){v.x=r[y+0],v.y=r[y+1],v.z=r[y+2];let b=m(v)/2/Math.PI+.5,_=g(v)/Math.PI+.5;a.push(b,1-_)}h(),u()}function u(){for(let v=0;v<a.length;v+=6){let y=a[v+0],b=a[v+2],_=a[v+4],x=Math.max(y,b,_),k=Math.min(y,b,_);x>.9&&k<.1&&(y<.2&&(a[v+0]+=1),b<.2&&(a[v+2]+=1),_<.2&&(a[v+4]+=1))}}function c(v){r.push(v.x,v.y,v.z)}function f(v,y){let b=v*3;y.x=e[b+0],y.y=e[b+1],y.z=e[b+2]}function h(){let v=new E,y=new E,b=new E,_=new E,x=new Y,k=new Y,w=new Y;for(let S=0,A=0;S<r.length;S+=9,A+=6){v.set(r[S+0],r[S+1],r[S+2]),y.set(r[S+3],r[S+4],r[S+5]),b.set(r[S+6],r[S+7],r[S+8]),x.set(a[A+0],a[A+1]),k.set(a[A+2],a[A+3]),w.set(a[A+4],a[A+5]),_.copy(v).add(y).add(b).divideScalar(3);let M=m(_);p(x,A+0,v,M),p(k,A+2,y,M),p(w,A+4,b,M)}}function p(v,y,b,_){_<0&&v.x===1&&(a[y]=v.x-1),b.x===0&&b.z===0&&(a[y]=_/2/Math.PI+.5)}function m(v){return Math.atan2(v.z,-v.x)}function g(v){return Math.atan2(-v.y,Math.sqrt(v.x*v.x+v.z*v.z))}}static fromJSON(e){return new s1(e.vertices,e.indices,e.radius,e.details)}},KA=class extends s1{constructor(e=1,t=0){let i=(1+Math.sqrt(5))/2,n=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-i,0,-n,i,0,n,-i,0,n,i,-n,-i,0,-n,i,0,n,-i,0,n,i,0,-i,0,-n,i,0,-n,-i,0,n,i,0,n],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new KA(e.radius,e.detail)}},Wp=class extends Gp{constructor(e){super(e),this.uuid=da(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let i=0,n=this.holes.length;i<n;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){let n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){let n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){let n=e.holes[t];this.holes.push(new Gp().fromJSON(n))}return this}},nV={triangulate:function(e,t,i=2){let n=t&&t.length,r=n?t[0]*i:e.length,a=QA(e,0,r,i,!0),s=[];if(!a||a.next===a.prev)return s;let o,l,d,u,c,f,h;if(n&&(a=lV(e,t,a,i)),e.length>80*i){o=d=e[0],l=u=e[1];for(let p=i;p<r;p+=i)c=e[p],f=e[p+1],c<o&&(o=c),f<l&&(l=f),c>d&&(d=c),f>u&&(u=f);h=Math.max(d-o,u-l),h=h!==0?32767/h:0}return bf(a,s,i,o,l,h,0),s}};function QA(e,t,i,n,r){let a,s;if(r===bV(e,t,i,n)>0)for(a=t;a<i;a+=n)s=eM(a,e[a],e[a+1],s);else for(a=i-n;a>=t;a-=n)s=eM(a,e[a],e[a+1],s);return s&&qp(s,s.next)&&(wf(s),s=s.next),s}function Zl(e,t){if(!e)return e;t||(t=e);let i=e,n;do if(n=!1,!i.steiner&&(qp(i,i.next)||zi(i.prev,i,i.next)===0)){if(wf(i),i=t=i.prev,i===i.next)break;n=!0}else i=i.next;while(n||i!==t);return t}function bf(e,t,i,n,r,a,s){if(!e)return;!s&&a&&hV(e,n,r,a);let o=e,l,d;for(;e.prev!==e.next;){if(l=e.prev,d=e.next,a?aV(e,n,r,a):rV(e)){t.push(l.i/i|0),t.push(e.i/i|0),t.push(d.i/i|0),wf(e),e=d.next,o=d.next;continue}if(e=d,e===o){s?s===1?(e=sV(Zl(e),t,i),bf(e,t,i,n,r,a,2)):s===2&&oV(e,t,i,n,r,a):bf(Zl(e),t,i,n,r,a,1);break}}}function rV(e){let t=e.prev,i=e,n=e.next;if(zi(t,i,n)>=0)return!1;let r=t.x,a=i.x,s=n.x,o=t.y,l=i.y,d=n.y,u=r<a?r<s?r:s:a<s?a:s,c=o<l?o<d?o:d:l<d?l:d,f=r>a?r>s?r:s:a>s?a:s,h=o>l?o>d?o:d:l>d?l:d,p=n.next;for(;p!==t;){if(p.x>=u&&p.x<=f&&p.y>=c&&p.y<=h&&mc(r,o,a,l,s,d,p.x,p.y)&&zi(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function aV(e,t,i,n){let r=e.prev,a=e,s=e.next;if(zi(r,a,s)>=0)return!1;let o=r.x,l=a.x,d=s.x,u=r.y,c=a.y,f=s.y,h=o<l?o<d?o:d:l<d?l:d,p=u<c?u<f?u:f:c<f?c:f,m=o>l?o>d?o:d:l>d?l:d,g=u>c?u>f?u:f:c>f?c:f,v=o1(h,p,t,i,n),y=o1(m,g,t,i,n),b=e.prevZ,_=e.nextZ;for(;b&&b.z>=v&&_&&_.z<=y;){if(b.x>=h&&b.x<=m&&b.y>=p&&b.y<=g&&b!==r&&b!==s&&mc(o,u,l,c,d,f,b.x,b.y)&&zi(b.prev,b,b.next)>=0||(b=b.prevZ,_.x>=h&&_.x<=m&&_.y>=p&&_.y<=g&&_!==r&&_!==s&&mc(o,u,l,c,d,f,_.x,_.y)&&zi(_.prev,_,_.next)>=0))return!1;_=_.nextZ}for(;b&&b.z>=v;){if(b.x>=h&&b.x<=m&&b.y>=p&&b.y<=g&&b!==r&&b!==s&&mc(o,u,l,c,d,f,b.x,b.y)&&zi(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;_&&_.z<=y;){if(_.x>=h&&_.x<=m&&_.y>=p&&_.y<=g&&_!==r&&_!==s&&mc(o,u,l,c,d,f,_.x,_.y)&&zi(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function sV(e,t,i){let n=e;do{let r=n.prev,a=n.next.next;!qp(r,a)&&JA(r,n,n.next,a)&&_f(r,a)&&_f(a,r)&&(t.push(r.i/i|0),t.push(n.i/i|0),t.push(a.i/i|0),wf(n),wf(n.next),n=e=a),n=n.next}while(n!==e);return Zl(n)}function oV(e,t,i,n,r,a){let s=e;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&gV(s,o)){let l=$A(s,o);s=Zl(s,s.next),l=Zl(l,l.next),bf(s,t,i,n,r,a,0),bf(l,t,i,n,r,a,0);return}o=o.next}s=s.next}while(s!==e)}function lV(e,t,i,n){let r=[],a,s,o,l,d;for(a=0,s=t.length;a<s;a++)o=t[a]*n,l=a<s-1?t[a+1]*n:e.length,d=QA(e,o,l,n,!1),d===d.next&&(d.steiner=!0),r.push(mV(d));for(r.sort(dV),a=0;a<r.length;a++)i=cV(r[a],i);return i}function dV(e,t){return e.x-t.x}function cV(e,t){let i=uV(e,t);if(!i)return t;let n=$A(i,e);return Zl(n,n.next),Zl(i,i.next)}function uV(e,t){let i=t,n=-1/0,r,a=e.x,s=e.y;do{if(s<=i.y&&s>=i.next.y&&i.next.y!==i.y){let f=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(f<=a&&f>n&&(n=f,r=i.x<i.next.x?i:i.next,f===a))return r}i=i.next}while(i!==t);if(!r)return null;let o=r,l=r.x,d=r.y,u=1/0,c;i=r;do a>=i.x&&i.x>=l&&a!==i.x&&mc(s<d?a:n,s,l,d,s<d?n:a,s,i.x,i.y)&&(c=Math.abs(s-i.y)/(a-i.x),_f(i,e)&&(c<u||c===u&&(i.x>r.x||i.x===r.x&&fV(r,i)))&&(r=i,u=c)),i=i.next;while(i!==o);return r}function fV(e,t){return zi(e.prev,e,t.prev)<0&&zi(t.next,e,e.next)<0}function hV(e,t,i,n){let r=e;do r.z===0&&(r.z=o1(r.x,r.y,t,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,pV(r)}function pV(e){let t,i,n,r,a,s,o,l,d=1;do{for(i=e,e=null,a=null,s=0;i;){for(s++,n=i,o=0,t=0;t<d&&(o++,n=n.nextZ,!!n);t++);for(l=d;o>0||l>0&&n;)o!==0&&(l===0||!n||i.z<=n.z)?(r=i,i=i.nextZ,o--):(r=n,n=n.nextZ,l--),a?a.nextZ=r:e=r,r.prevZ=a,a=r;i=n}a.nextZ=null,d*=2}while(s>1);return e}function o1(e,t,i,n,r){return e=(e-i)*r|0,t=(t-n)*r|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function mV(e){let t=e,i=e;do(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next;while(t!==e);return i}function mc(e,t,i,n,r,a,s,o){return(r-s)*(t-o)>=(e-s)*(a-o)&&(e-s)*(n-o)>=(i-s)*(t-o)&&(i-s)*(a-o)>=(r-s)*(n-o)}function gV(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!vV(e,t)&&(_f(e,t)&&_f(t,e)&&yV(e,t)&&(zi(e.prev,e,t.prev)||zi(e,t.prev,t))||qp(e,t)&&zi(e.prev,e,e.next)>0&&zi(t.prev,t,t.next)>0)}function zi(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function qp(e,t){return e.x===t.x&&e.y===t.y}function JA(e,t,i,n){let r=Yp(zi(e,t,i)),a=Yp(zi(e,t,n)),s=Yp(zi(i,n,e)),o=Yp(zi(i,n,t));return!!(r!==a&&s!==o||r===0&&Zp(e,i,t)||a===0&&Zp(e,n,t)||s===0&&Zp(i,e,n)||o===0&&Zp(i,t,n))}function Zp(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function Yp(e){return e>0?1:e<0?-1:0}function vV(e,t){let i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&JA(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}function _f(e,t){return zi(e.prev,e,e.next)<0?zi(e,t,e.next)>=0&&zi(e,e.prev,t)>=0:zi(e,t,e.prev)<0||zi(e,e.next,t)<0}function yV(e,t){let i=e,n=!1,r=(e.x+t.x)/2,a=(e.y+t.y)/2;do i.y>a!=i.next.y>a&&i.next.y!==i.y&&r<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next;while(i!==e);return n}function $A(e,t){let i=new l1(e.i,e.x,e.y),n=new l1(t.i,t.x,t.y),r=e.next,a=t.prev;return e.next=t,t.prev=e,i.next=r,r.prev=i,n.next=i,i.prev=n,a.next=n,n.prev=a,n}function eM(e,t,i,n){let r=new l1(e,t,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function wf(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function l1(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function bV(e,t,i,n){let r=0;for(let a=t,s=i-n;a<i;a+=n)r+=(e[s]-e[a])*(e[a+1]+e[s+1]),s=a;return r}var tM=class{static area(e){let t=e.length,i=0;for(let n=t-1,r=0;r<t;n=r++)i+=e[n].x*e[r].y-e[r].x*e[n].y;return i*.5}static isClockWise(e){return tM.area(e)<0}static triangulateShape(e,t){let i=[],n=[],r=[];iM(e),nM(i,e);let a=e.length;t.forEach(iM);for(let o=0;o<t.length;o++)n.push(a),a+=t[o].length,nM(i,t[o]);let s=nV.triangulate(i,n);for(let o=0;o<s.length;o+=3)r.push(s.slice(o,o+3));return r}};function iM(e){let t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function nM(e,t){for(let i=0;i<t.length;i++)e.push(t[i].x),e.push(t[i].y)}var rM=class extends s1{constructor(e=1,t=0){let i=(1+Math.sqrt(5))/2,n=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(n,r,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new rM(e.radius,e.detail)}},d1=class extends dt{constructor(e=1,t=32,i=16,n=0,r=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:n,phiLength:r,thetaStart:a,thetaLength:s},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));let o=Math.min(a+s,Math.PI),l=0,d=[],u=new E,c=new E,f=[],h=[],p=[],m=[];for(let g=0;g<=i;g++){let v=[],y=g/i,b=0;g==0&&a==0?b=.5/t:g==i&&o==Math.PI&&(b=-.5/t);for(let _=0;_<=t;_++){let x=_/t;u.x=-e*Math.cos(n+x*r)*Math.sin(a+y*s),u.y=e*Math.cos(a+y*s),u.z=e*Math.sin(n+x*r)*Math.sin(a+y*s),h.push(u.x,u.y,u.z),c.copy(u).normalize(),p.push(c.x,c.y,c.z),m.push(x+b,1-y),v.push(l++)}d.push(v)}for(let g=0;g<i;g++)for(let v=0;v<t;v++){let y=d[g][v+1],b=d[g][v],_=d[g+1][v],x=d[g+1][v+1];(g!==0||a>0)&&f.push(y,b,x),(g!==i-1||o<Math.PI)&&f.push(b,_,x)}this.setIndex(f),this.setAttribute("position",new Ke(h,3)),this.setAttribute("normal",new Ke(p,3)),this.setAttribute("uv",new Ke(m,2))}static fromJSON(e){return new d1(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},aM=class extends dt{constructor(e=1,t=.4,i=64,n=8,r=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:n,p:r,q:a},i=Math.floor(i),n=Math.floor(n);let s=[],o=[],l=[],d=[],u=new E,c=new E,f=new E,h=new E,p=new E,m=new E,g=new E;for(let y=0;y<=i;++y){let b=y/i*r*Math.PI*2;v(b,r,a,e,f),v(b+.01,r,a,e,h),m.subVectors(h,f),g.addVectors(h,f),p.crossVectors(m,g),g.crossVectors(p,m),p.normalize(),g.normalize();for(let _=0;_<=n;++_){let x=_/n*Math.PI*2,k=-t*Math.cos(x),w=t*Math.sin(x);u.x=f.x+(k*g.x+w*p.x),u.y=f.y+(k*g.y+w*p.y),u.z=f.z+(k*g.z+w*p.z),o.push(u.x,u.y,u.z),c.subVectors(u,f).normalize(),l.push(c.x,c.y,c.z),d.push(y/i),d.push(_/n)}}for(let y=1;y<=i;y++)for(let b=1;b<=n;b++){let _=(n+1)*(y-1)+(b-1),x=(n+1)*y+(b-1),k=(n+1)*y+b,w=(n+1)*(y-1)+b;s.push(_,x,w),s.push(x,k,w)}this.setIndex(s),this.setAttribute("position",new Ke(o,3)),this.setAttribute("normal",new Ke(l,3)),this.setAttribute("uv",new Ke(d,2));function v(y,b,_,x,k){let w=Math.cos(y),S=Math.sin(y),A=_/b*y,M=Math.cos(A);k.x=x*(2+M)*.5*w,k.y=x*(2+M)*S*.5,k.z=x*Math.sin(A)*.5}}static fromJSON(e){return new aM(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}};function Vo(e,t,i){return sM(e)?new e.constructor(e.subarray(t,i!==void 0?i:e.length)):e.slice(t,i)}function Xp(e,t,i){return!e||!i&&e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)}function sM(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _V(e){function t(r,a){return e[r]-e[a]}let i=e.length,n=new Array(i);for(let r=0;r!==i;++r)n[r]=r;return n.sort(t),n}function oM(e,t,i){let n=e.length,r=new e.constructor(n);for(let a=0,s=0;s!==n;++a){let o=i[a]*t;for(let l=0;l!==t;++l)r[s++]=e[o+l]}return r}function lM(e,t,i,n){let r=1,a=e[0];for(;a!==void 0&&a[n]===void 0;)a=e[r++];if(a===void 0)return;let s=a[n];if(s!==void 0)if(Array.isArray(s))do s=a[n],s!==void 0&&(t.push(a.time),i.push.apply(i,s)),a=e[r++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[n],s!==void 0&&(t.push(a.time),s.toArray(i,i.length)),a=e[r++];while(a!==void 0);else do s=a[n],s!==void 0&&(t.push(a.time),i.push(s)),a=e[r++];while(a!==void 0)}var Kp=class{constructor(e,t,i,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=n!==void 0?n:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,i=this._cachedIndex,n=t[i],r=t[i-1];e:{t:{let a;i:{n:if(!(e<n)){for(let s=i+2;;){if(n===void 0){if(e<r)break n;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===s)break;if(r=n,n=t[++i],e<n)break t}a=t.length;break i}if(!(e>=r)){let s=t[1];e<s&&(i=2,r=s);for(let o=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===o)break;if(n=r,r=t[--i-1],e>=r)break t}a=i,i=0;break i}break e}for(;i<a;){let s=i+a>>>1;e<t[s]?a=s:i=s+1}if(n=t[i],r=t[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,n)}return this.interpolate_(i,r,e,n)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,i=this.sampleValues,n=this.valueSize,r=e*n;for(let a=0;a!==n;++a)t[a]=i[r+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},wV=class extends Kp{constructor(e,t,i,n){super(e,t,i,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Gd,endingEnd:Gd}}intervalChanged_(e,t,i){let n=this.parameterPositions,r=e-2,a=e+1,s=n[r],o=n[a];if(s===void 0)switch(this.getSettings_().endingStart){case Wd:r=e,s=2*t-i;break;case fp:r=n.length-2,s=t+n[r]-n[r+1];break;default:r=e,s=i}if(o===void 0)switch(this.getSettings_().endingEnd){case Wd:a=e,o=2*i-t;break;case fp:a=1,o=i+n[1]-n[0];break;default:a=e-1,o=t}let l=(i-t)*.5,d=this.valueSize;this._weightPrev=l/(t-s),this._weightNext=l/(o-i),this._offsetPrev=r*d,this._offsetNext=a*d}interpolate_(e,t,i,n){let r=this.resultBuffer,a=this.sampleValues,s=this.valueSize,o=e*s,l=o-s,d=this._offsetPrev,u=this._offsetNext,c=this._weightPrev,f=this._weightNext,h=(i-t)/(n-t),p=h*h,m=p*h,g=-c*m+2*c*p-c*h,v=(1+c)*m+(-1.5-2*c)*p+(-.5+c)*h+1,y=(-1-f)*m+(1.5+f)*p+.5*h,b=f*m-f*p;for(let _=0;_!==s;++_)r[_]=g*a[d+_]+v*a[l+_]+y*a[o+_]+b*a[u+_];return r}},dM=class extends Kp{constructor(e,t,i,n){super(e,t,i,n)}interpolate_(e,t,i,n){let r=this.resultBuffer,a=this.sampleValues,s=this.valueSize,o=e*s,l=o-s,d=(i-t)/(n-t),u=1-d;for(let c=0;c!==s;++c)r[c]=a[l+c]*u+a[o+c]*d;return r}},xV=class extends Kp{constructor(e,t,i,n){super(e,t,i,n)}interpolate_(e){return this.copySampleValue_(e-1)}},us=class{constructor(e,t,i,n){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Xp(t,this.TimeBufferType),this.values=Xp(i,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}static toJSON(e){let t=e.constructor,i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Xp(e.times,Array),values:Xp(e.values,Array)};let n=e.getInterpolation();n!==e.DefaultInterpolation&&(i.interpolation=n)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new xV(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new dM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new wV(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case cp:t=this.InterpolantFactoryMethodDiscrete;break;case up:t=this.InterpolantFactoryMethodLinear;break;case p0:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){let i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return cp;case this.InterpolantFactoryMethodLinear:return up;case this.InterpolantFactoryMethodSmooth:return p0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let t=this.times;for(let i=0,n=t.length;i!==n;++i)t[i]+=e}return this}scale(e){if(e!==1){let t=this.times;for(let i=0,n=t.length;i!==n;++i)t[i]*=e}return this}trim(e,t){let i=this.times,n=i.length,r=0,a=n-1;for(;r!==n&&i[r]<e;)++r;for(;a!==-1&&i[a]>t;)--a;if(++a,r!==0||a!==n){r>=a&&(a=Math.max(a,1),r=a-1);let s=this.getValueSize();this.times=Vo(i,r,a),this.values=Vo(this.values,r*s,a*s)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let i=this.times,n=this.values,r=i.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let s=0;s!==r;s++){let o=i[s];if(typeof o=="number"&&isNaN(o)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,o),e=!1;break}if(a!==null&&a>o){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,o,a),e=!1;break}a=o}if(n!==void 0&&sM(n))for(let s=0,o=n.length;s!==o;++s){let l=n[s];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,l),e=!1;break}}return e}optimize(){let e=Vo(this.times),t=Vo(this.values),i=this.getValueSize(),n=this.getInterpolation()===p0,r=e.length-1,a=1;for(let s=1;s<r;++s){let o=!1,l=e[s],d=e[s+1];if(l!==d&&(s!==1||l!==e[0]))if(n)o=!0;else{let u=s*i,c=u-i,f=u+i;for(let h=0;h!==i;++h){let p=t[u+h];if(p!==t[c+h]||p!==t[f+h]){o=!0;break}}}if(o){if(s!==a){e[a]=e[s];let u=s*i,c=a*i;for(let f=0;f!==i;++f)t[c+f]=t[u+f]}++a}}if(r>0){e[a]=e[r];for(let s=r*i,o=a*i,l=0;l!==i;++l)t[o+l]=t[s+l];++a}return a!==e.length?(this.times=Vo(e,0,a),this.values=Vo(t,0,a*i)):(this.times=e,this.values=t),this}clone(){let e=Vo(this.times,0),t=Vo(this.values,0),i=this.constructor,n=new i(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}};us.prototype.TimeBufferType=Float32Array,us.prototype.ValueBufferType=Float32Array,us.prototype.DefaultInterpolation=up;var gc=class extends us{};gc.prototype.ValueTypeName="bool",gc.prototype.ValueBufferType=Array,gc.prototype.DefaultInterpolation=cp,gc.prototype.InterpolantFactoryMethodLinear=void 0,gc.prototype.InterpolantFactoryMethodSmooth=void 0;var cM=class extends us{};cM.prototype.ValueTypeName="color";var Qp=class extends us{};Qp.prototype.ValueTypeName="number";var kV=class extends Kp{constructor(e,t,i,n){super(e,t,i,n)}interpolate_(e,t,i,n){let r=this.resultBuffer,a=this.sampleValues,s=this.valueSize,o=(i-t)/(n-t),l=e*s;for(let d=l+s;l!==d;l+=4)Ct.slerpFlat(r,0,a,l-s,a,l,o);return r}},xf=class extends us{InterpolantFactoryMethodLinear(e){return new kV(this.times,this.values,this.getValueSize(),e)}};xf.prototype.ValueTypeName="quaternion",xf.prototype.DefaultInterpolation=up,xf.prototype.InterpolantFactoryMethodSmooth=void 0;var vc=class extends us{};vc.prototype.ValueTypeName="string",vc.prototype.ValueBufferType=Array,vc.prototype.DefaultInterpolation=cp,vc.prototype.InterpolantFactoryMethodLinear=void 0,vc.prototype.InterpolantFactoryMethodSmooth=void 0;var Jp=class extends us{};Jp.prototype.ValueTypeName="vector";var c1=class{constructor(e,t=-1,i,n=m0){this.name=e,this.tracks=i,this.duration=t,this.blendMode=n,this.uuid=da(),this.duration<0&&this.resetDuration()}static parse(e){let t=[],i=e.tracks,n=1/(e.fps||1);for(let a=0,s=i.length;a!==s;++a)t.push(AV(i[a]).scale(n));let r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){let t=[],i=e.tracks,n={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,a=i.length;r!==a;++r)t.push(us.toJSON(i[r]));return n}static CreateFromMorphTargetSequence(e,t,i,n){let r=t.length,a=[];for(let s=0;s<r;s++){let o=[],l=[];o.push((s+r-1)%r,s,(s+1)%r),l.push(0,1,0);let d=_V(o);o=oM(o,1,d),l=oM(l,1,d),!n&&o[0]===0&&(o.push(r),l.push(l[0])),a.push(new Qp(".morphTargetInfluences["+t[s].name+"]",o,l).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){let n=e;i=n.geometry&&n.geometry.animations||n.animations}for(let n=0;n<i.length;n++)if(i[n].name===t)return i[n];return null}static CreateClipsFromMorphTargetSequences(e,t,i){let n={},r=/^([\w-]*?)([\d]+)$/;for(let s=0,o=e.length;s<o;s++){let l=e[s],d=l.name.match(r);if(d&&d.length>1){let u=d[1],c=n[u];c||(n[u]=c=[]),c.push(l)}}let a=[];for(let s in n)a.push(this.CreateFromMorphTargetSequence(s,n[s],t,i));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let i=function(d,u,c,f,h){if(c.length!==0){let p=[],m=[];lM(c,p,m,f),p.length!==0&&h.push(new d(u,p,m))}},n=[],r=e.name||"default",a=e.fps||30,s=e.blendMode,o=e.length||-1,l=e.hierarchy||[];for(let d=0;d<l.length;d++){let u=l[d].keys;if(!(!u||u.length===0))if(u[0].morphTargets){let c={},f;for(f=0;f<u.length;f++)if(u[f].morphTargets)for(let h=0;h<u[f].morphTargets.length;h++)c[u[f].morphTargets[h]]=-1;for(let h in c){let p=[],m=[];for(let g=0;g!==u[f].morphTargets.length;++g){let v=u[f];p.push(v.time),m.push(v.morphTarget===h?1:0)}n.push(new Qp(".morphTargetInfluence["+h+"]",p,m))}o=c.length*a}else{let c=".bones["+t[d].name+"]";i(Jp,c+".position",u,"pos",n),i(xf,c+".quaternion",u,"rot",n),i(Jp,c+".scale",u,"scl",n)}}return n.length===0?null:new this(r,o,n,s)}resetDuration(){let e=this.tracks,t=0;for(let i=0,n=e.length;i!==n;++i){let r=this.tracks[i];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function SV(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Qp;case"vector":case"vector2":case"vector3":case"vector4":return Jp;case"color":return cM;case"quaternion":return xf;case"bool":case"boolean":return gc;case"string":return vc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function AV(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let t=SV(e.type);if(e.times===void 0){let i=[],n=[];lM(e.keys,i,n,"value"),e.times=i,e.values=n}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var uM={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},fM=class{constructor(e,t,i){let n=this,r=!1,a=0,s=0,o,l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){s++,r===!1&&n.onStart!==void 0&&n.onStart(d,a,s),r=!0},this.itemEnd=function(d){a++,n.onProgress!==void 0&&n.onProgress(d,a,s),a===s&&(r=!1,n.onLoad!==void 0&&n.onLoad())},this.itemError=function(d){n.onError!==void 0&&n.onError(d)},this.resolveURL=function(d){return o?o(d):d},this.setURLModifier=function(d){return o=d,this},this.addHandler=function(d,u){return l.push(d,u),this},this.removeHandler=function(d){let u=l.indexOf(d);return u!==-1&&l.splice(u,2),this},this.getHandler=function(d){for(let u=0,c=l.length;u<c;u+=2){let f=l[u],h=l[u+1];if(f.global&&(f.lastIndex=0),f.test(d))return h}return null}}},MV=new fM,u1=class{constructor(e){this.manager=e!==void 0?e:MV,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let i=this;return new Promise(function(n,r){i.load(e,n,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}},to={},CV=class extends Error{constructor(e,t){super(e),this.response=t}},f1=class extends u1{constructor(e){super(e)}load(e,t,i,n){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let r=uM.get(e);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(to[e]!==void 0){to[e].push({onLoad:t,onProgress:i,onError:n});return}to[e]=[],to[e].push({onLoad:t,onProgress:i,onError:n});let a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,o=this.responseType;fetch(a).then(l=>{if(l.status===200||l.status===0){if(l.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||l.body===void 0||l.body.getReader===void 0)return l;let d=to[e],u=l.body.getReader(),c=l.headers.get("Content-Length")||l.headers.get("X-File-Size"),f=c?parseInt(c):0,h=f!==0,p=0,m=new ReadableStream({start(g){v();function v(){u.read().then(({done:y,value:b})=>{if(y)g.close();else{p+=b.byteLength;let _=new ProgressEvent("progress",{lengthComputable:h,loaded:p,total:f});for(let x=0,k=d.length;x<k;x++){let w=d[x];w.onProgress&&w.onProgress(_)}g.enqueue(b),v()}})}}});return new Response(m)}else throw new CV(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`,l)}).then(l=>{switch(o){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(d=>new DOMParser().parseFromString(d,s));case"json":return l.json();default:if(s===void 0)return l.text();{let d=/charset="?([^;"\s]*)"?/i.exec(s),u=d&&d[1]?d[1].toLowerCase():void 0,c=new TextDecoder(u);return l.arrayBuffer().then(f=>c.decode(f))}}}).then(l=>{uM.add(e,l);let d=to[e];delete to[e];for(let u=0,c=d.length;u<c;u++){let f=d[u];f.onLoad&&f.onLoad(l)}}).catch(l=>{let d=to[e];if(d===void 0)throw this.manager.itemError(e),l;delete to[e];for(let u=0,c=d.length;u<c;u++){let f=d[u];f.onError&&f.onError(l)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}},kf=class extends mi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new pt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}},EV=class extends kf{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(mi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new pt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}},h1=new Ee,hM=new E,pM=new E,p1=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Y(512,512),this.map=null,this.mapPass=null,this.matrix=new Ee,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new H0,this._frameExtents=new Y(1,1),this._viewportCount=1,this._viewports=[new Pt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,i=this.matrix;hM.setFromMatrixPosition(e.matrixWorld),t.position.copy(hM),pM.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(pM),t.updateMatrixWorld(),h1.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(h1),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(h1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},TV=class extends p1{constructor(){super(new Qn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){let t=this.camera,i=rf*2*e.angle*this.focus,n=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;(i!==t.fov||n!==t.aspect||r!==t.far)&&(t.fov=i,t.aspect=n,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}},DV=class extends kf{constructor(e,t,i=0,n=Math.PI/3,r=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(mi.DEFAULT_UP),this.updateMatrix(),this.target=new mi,this.distance=i,this.angle=n,this.penumbra=r,this.decay=a,this.map=null,this.shadow=new TV}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},mM=new Ee,Sf=new E,m1=new E,PV=class extends p1{constructor(){super(new Qn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Y(4,2),this._viewportCount=6,this._viewports=[new Pt(2,1,1,1),new Pt(0,1,1,1),new Pt(3,1,1,1),new Pt(1,1,1,1),new Pt(3,0,1,1),new Pt(1,0,1,1)],this._cubeDirections=[new E(1,0,0),new E(-1,0,0),new E(0,0,1),new E(0,0,-1),new E(0,1,0),new E(0,-1,0)],this._cubeUps=[new E(0,1,0),new E(0,1,0),new E(0,1,0),new E(0,1,0),new E(0,0,1),new E(0,0,-1)]}updateMatrices(e,t=0){let i=this.camera,n=this.matrix,r=e.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),Sf.setFromMatrixPosition(e.matrixWorld),i.position.copy(Sf),m1.copy(i.position),m1.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(m1),i.updateMatrixWorld(),n.makeTranslation(-Sf.x,-Sf.y,-Sf.z),mM.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(mM)}},IV=class extends kf{constructor(e,t,i=0,n=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=n,this.shadow=new PV}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}},OV=class extends p1{constructor(){super(new G0(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},jV=class extends kf{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(mi.DEFAULT_UP),this.updateMatrix(),this.target=new mi,this.shadow=new OV}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},gM=class extends dt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){let e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}},vM=class extends u1{constructor(e){super(e)}load(e,t,i,n){let r=this,a=new f1(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(s){try{t(r.parse(JSON.parse(s)))}catch(o){n?n(o):console.error(o),r.manager.itemError(e)}},i,n)}parse(e){let t={},i={};function n(c,f){if(t[f]!==void 0)return t[f];let h=c.interleavedBuffers[f],p=r(c,h.buffer),m=mp(h.type,p),g=new HU(m,h.stride);return g.uuid=h.uuid,t[f]=g,g}function r(c,f){if(i[f]!==void 0)return i[f];let h=c.arrayBuffers[f],p=new Uint32Array(h).buffer;return i[f]=p,p}let a=e.isInstancedBufferGeometry?new gM:new dt,s=e.data.index;if(s!==void 0){let c=mp(s.type,s.array);a.setIndex(new _t(c,1))}let o=e.data.attributes;for(let c in o){let f=o[c],h;if(f.isInterleavedBufferAttribute){let p=n(e.data,f.data);h=new Q0(p,f.itemSize,f.offset,f.normalized)}else{let p=mp(f.type,f.array),m=f.isInstancedBufferAttribute?FA:_t;h=new m(p,f.itemSize,f.normalized)}f.name!==void 0&&(h.name=f.name),f.usage!==void 0&&h.setUsage(f.usage),f.updateRange!==void 0&&(h.updateRange.offset=f.updateRange.offset,h.updateRange.count=f.updateRange.count),a.setAttribute(c,h)}let l=e.data.morphAttributes;if(l)for(let c in l){let f=l[c],h=[];for(let p=0,m=f.length;p<m;p++){let g=f[p],v;if(g.isInterleavedBufferAttribute){let y=n(e.data,g.data);v=new Q0(y,g.itemSize,g.offset,g.normalized)}else{let y=mp(g.type,g.array);v=new _t(y,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),h.push(v)}a.morphAttributes[c]=h}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);let d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let c=0,f=d.length;c!==f;++c){let h=d[c];a.addGroup(h.start,h.count,h.materialIndex)}let u=e.data.boundingSphere;if(u!==void 0){let c=new E;u.center!==void 0&&c.fromArray(u.center),a.boundingSphere=new Er(c,u.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}},RV=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=yM(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=yM();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};function yM(){return(typeof performance>"u"?Date:performance).now()}var zV=class{constructor(e,t,i){this.binding=e,this.valueSize=i;let n,r,a;switch(t){case"quaternion":n=this._slerp,r=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":n=this._select,r=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:n=this._lerp,r=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=r,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let i=this.buffer,n=this.valueSize,r=e*n+n,a=this.cumulativeWeight;if(a===0){for(let s=0;s!==n;++s)i[r+s]=i[s];a=t}else{a+=t;let s=t/a;this._mixBufferRegion(i,r,0,s,n)}this.cumulativeWeight=a}accumulateAdditive(e){let t=this.buffer,i=this.valueSize,n=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,n,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,i=this.buffer,n=e*t+t,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){let o=t*this._origIndex;this._mixBufferRegion(i,n,o,1-r,t)}a>0&&this._mixBufferRegionAdditive(i,n,this._addIndex*t,1,t);for(let o=t,l=t+t;o!==l;++o)if(i[o]!==i[o+t]){s.setValue(i,n);break}}saveOriginalState(){let e=this.binding,t=this.buffer,i=this.valueSize,n=i*this._origIndex;e.getValue(t,n);for(let r=i,a=n;r!==a;++r)t[r]=t[n+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,n,r){if(n>=.5)for(let a=0;a!==r;++a)e[t+a]=e[i+a]}_slerp(e,t,i,n){Ct.slerpFlat(e,t,e,t,e,i,n)}_slerpAdditive(e,t,i,n,r){let a=this._workIndex*r;Ct.multiplyQuaternionsFlat(e,a,e,t,e,i),Ct.slerpFlat(e,t,e,t,e,a,n)}_lerp(e,t,i,n,r){let a=1-n;for(let s=0;s!==r;++s){let o=t+s;e[o]=e[o]*a+e[i+s]*n}}_lerpAdditive(e,t,i,n,r){for(let a=0;a!==r;++a){let s=t+a;e[s]=e[s]+e[i+a]*n}}},g1="\\[\\]\\.:\\/",BV=new RegExp("["+g1+"]","g"),v1="[^"+g1+"]",LV="[^"+g1.replace("\\.","")+"]",FV=/((?:WC+[\/:])*)/.source.replace("WC",v1),NV=/(WCOD+)?/.source.replace("WCOD",LV),UV=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",v1),VV=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",v1),HV=new RegExp("^"+FV+NV+UV+VV+"$"),GV=["material","materials","bones","map"],WV=class{constructor(e,t,i){let n=i||wi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}getValue(e,t){this.bind();let i=this._targetGroup.nCachedObjects_,n=this._bindings[i];n!==void 0&&n.getValue(e,t)}setValue(e,t){let i=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=i.length;n!==r;++n)i[n].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}},wi=class{constructor(e,t,i){this.path=t,this.parsedPath=i||wi.parseTrackName(t),this.node=wi.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new wi.Composite(e,t,i):new wi(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(BV,"")}static parseTrackName(e){let t=HV.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=i.nodeName&&i.nodeName.lastIndexOf(".");if(n!==void 0&&n!==-1){let r=i.nodeName.substring(n+1);GV.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,n),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){let i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){let i=function(r){for(let a=0;a<r.length;a++){let s=r[a];if(s.name===t||s.uuid===t)return s;let o=i(s.children);if(o)return o}return null},n=i(e.children);if(n)return n}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let i=this.resolvedProperty;for(let n=0,r=i.length;n!==r;++n)e[t++]=i[n]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let i=this.resolvedProperty;for(let n=0,r=i.length;n!==r;++n)i[n]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let i=this.resolvedProperty;for(let n=0,r=i.length;n!==r;++n)i[n]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let i=this.resolvedProperty;for(let n=0,r=i.length;n!==r;++n)i[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,i=t.objectName,n=t.propertyName,r=t.propertyIndex;if(e||(e=wi.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let l=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===l){l=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(l!==void 0){if(e[l]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[l]}}let a=e[n];if(a===void 0){let l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+n+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(r!==void 0){if(n==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}o=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else a.fromArray!==void 0&&a.toArray!==void 0?(o=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(o=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=n;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};wi.Composite=WV,wi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},wi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},wi.prototype.GetterByBindingType=[wi.prototype._getValue_direct,wi.prototype._getValue_array,wi.prototype._getValue_arrayElement,wi.prototype._getValue_toArray],wi.prototype.SetterByBindingTypeAndVersioning=[[wi.prototype._setValue_direct,wi.prototype._setValue_direct_setNeedsUpdate,wi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[wi.prototype._setValue_array,wi.prototype._setValue_array_setNeedsUpdate,wi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[wi.prototype._setValue_arrayElement,wi.prototype._setValue_arrayElement_setNeedsUpdate,wi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[wi.prototype._setValue_fromArray,wi.prototype._setValue_fromArray_setNeedsUpdate,wi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var qV=class{constructor(e,t,i=null,n=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=n;let r=t.tracks,a=r.length,s=new Array(a),o={endingStart:Gd,endingEnd:Gd};for(let l=0;l!==a;++l){let d=r[l].createInterpolant(null);s[l]=d,d.settings=o}this._interpolantSettings=o,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=FS,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){let n=this._clip.duration,r=e._clip.duration,a=r/n,s=n/r;e.warp(1,a,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){let n=this._mixer,r=n.time,a=this.timeScale,s=this._timeScaleInterpolant;s===null&&(s=n._lendControlInterpolant(),this._timeScaleInterpolant=s);let o=s.parameterPositions,l=s.sampleValues;return o[0]=r,o[1]=r+i,l[0]=e/a,l[1]=t/a,this}stopWarping(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,n){if(!this.enabled){this._updateWeight(e);return}let r=this._startTime;if(r!==null){let o=(e-r)*i;o<0||i===0?t=0:(this._startTime=null,t=i*o)}t*=this._updateTimeScale(e);let a=this._updateTime(t),s=this._updateWeight(e);if(s>0){let o=this._interpolants,l=this._propertyBindings;switch(this.blendMode){case CL:for(let d=0,u=o.length;d!==u;++d)o[d].evaluate(a),l[d].accumulateAdditive(s);break;case m0:default:for(let d=0,u=o.length;d!==u;++d)o[d].evaluate(a),l[d].accumulate(n,s)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let i=this._weightInterpolant;if(i!==null){let n=i.evaluate(e)[0];t*=n,e>i.parameterPositions[1]&&(this.stopFading(),n===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let i=this._timeScaleInterpolant;if(i!==null){let n=i.evaluate(e)[0];t*=n,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,i=this.loop,n=this.time+e,r=this._loopCount,a=i===h0;if(e===0)return r===-1?n:a&&(r&1)===1?t-n:n;if(i===LS){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n>=t)n=t;else if(n<0)n=0;else{this.time=n;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),n>=t||n<0){let s=Math.floor(n/t);n-=t*s,r+=Math.abs(s);let o=this.repetitions-r;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,n=e>0?t:0,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(o===1){let l=e<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=n;if(a&&(r&1)===1)return t-n}return n}_setEndings(e,t,i){let n=this._interpolantSettings;i?(n.endingStart=Wd,n.endingEnd=Wd):(e?n.endingStart=this.zeroSlopeAtStart?Wd:Gd:n.endingStart=fp,t?n.endingEnd=this.zeroSlopeAtEnd?Wd:Gd:n.endingEnd=fp)}_scheduleFading(e,t,i){let n=this._mixer,r=n.time,a=this._weightInterpolant;a===null&&(a=n._lendControlInterpolant(),this._weightInterpolant=a);let s=a.parameterPositions,o=a.sampleValues;return s[0]=r,o[0]=t,s[1]=r+e,o[1]=i,this}},ZV=new Float32Array(1),YV=class extends Nn{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let i=e._localRoot||this._root,n=e._clip.tracks,r=n.length,a=e._propertyBindings,s=e._interpolants,o=i.uuid,l=this._bindingsByRootAndName,d=l[o];d===void 0&&(d={},l[o]=d);for(let u=0;u!==r;++u){let c=n[u],f=c.name,h=d[f];if(h!==void 0)++h.referenceCount,a[u]=h;else{if(h=a[u],h!==void 0){h._cacheIndex===null&&(++h.referenceCount,this._addInactiveBinding(h,o,f));continue}let p=t&&t._propertyBindings[u].binding.parsedPath;h=new zV(wi.create(i,f,p),c.ValueTypeName,c.getValueSize()),++h.referenceCount,this._addInactiveBinding(h,o,f),a[u]=h}s[u].resultBuffer=h.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){let i=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,i)}let t=e._propertyBindings;for(let i=0,n=t.length;i!==n;++i){let r=t[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let i=0,n=t.length;i!==n;++i){let r=t[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){let n=this._actions,r=this._actionsByClip,a=r[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=a;else{let s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=n.length,n.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){let t=this._actions,i=t[t.length-1],n=e._cacheIndex;i._cacheIndex=n,t[n]=i,t.pop(),e._cacheIndex=null;let r=e._clip.uuid,a=this._actionsByClip,s=a[r],o=s.knownActions,l=o[o.length-1],d=e._byClipCacheIndex;l._byClipCacheIndex=d,o[d]=l,o.pop(),e._byClipCacheIndex=null;let u=s.actionByRoot,c=(e._localRoot||this._root).uuid;delete u[c],o.length===0&&delete a[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let i=0,n=t.length;i!==n;++i){let r=t[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){let t=this._actions,i=e._cacheIndex,n=this._nActiveActions++,r=t[n];e._cacheIndex=n,t[n]=e,r._cacheIndex=i,t[i]=r}_takeBackAction(e){let t=this._actions,i=e._cacheIndex,n=--this._nActiveActions,r=t[n];e._cacheIndex=n,t[n]=e,r._cacheIndex=i,t[i]=r}_addInactiveBinding(e,t,i){let n=this._bindingsByRootAndName,r=this._bindings,a=n[t];a===void 0&&(a={},n[t]=a),a[i]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){let t=this._bindings,i=e.binding,n=i.rootNode.uuid,r=i.path,a=this._bindingsByRootAndName,s=a[n],o=t[t.length-1],l=e._cacheIndex;o._cacheIndex=l,t[l]=o,t.pop(),delete s[r],Object.keys(s).length===0&&delete a[n]}_lendBinding(e){let t=this._bindings,i=e._cacheIndex,n=this._nActiveBindings++,r=t[n];e._cacheIndex=n,t[n]=e,r._cacheIndex=i,t[i]=r}_takeBackBinding(e){let t=this._bindings,i=e._cacheIndex,n=--this._nActiveBindings,r=t[n];e._cacheIndex=n,t[n]=e,r._cacheIndex=i,t[i]=r}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,i=e[t];return i===void 0&&(i=new dM(new Float32Array(2),new Float32Array(2),1,ZV),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){let t=this._controlInterpolants,i=e.__cacheIndex,n=--this._nActiveControlInterpolants,r=t[n];e.__cacheIndex=n,t[n]=e,r.__cacheIndex=i,t[i]=r}clipAction(e,t,i){let n=t||this._root,r=n.uuid,a=typeof e=="string"?c1.findByName(n,e):e,s=a!==null?a.uuid:e,o=this._actionsByClip[s],l=null;if(i===void 0&&(a!==null?i=a.blendMode:i=m0),o!==void 0){let u=o.actionByRoot[r];if(u!==void 0&&u.blendMode===i)return u;l=o.knownActions[0],a===null&&(a=l._clip)}if(a===null)return null;let d=new qV(this,a,t,i);return this._bindAction(d,l),this._addInactiveAction(d,s,r),d}existingAction(e,t){let i=t||this._root,n=i.uuid,r=typeof e=="string"?c1.findByName(i,e):e,a=r?r.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[n]||null}stopAllAction(){let e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;let t=this._actions,i=this._nActiveActions,n=this.time+=e,r=Math.sign(e),a=this._accuIndex^=1;for(let l=0;l!==i;++l)t[l]._update(n,e,r,a);let s=this._bindings,o=this._nActiveBindings;for(let l=0;l!==o;++l)s[l].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,i=e.uuid,n=this._actionsByClip,r=n[i];if(r!==void 0){let a=r.knownActions;for(let s=0,o=a.length;s!==o;++s){let l=a[s];this._deactivateAction(l);let d=l._cacheIndex,u=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=d,t[d]=u,t.pop(),this._removeInactiveBindingsForAction(l)}delete n[i]}}uncacheRoot(e){let t=e.uuid,i=this._actionsByClip;for(let a in i){let s=i[a].actionByRoot,o=s[t];o!==void 0&&(this._deactivateAction(o),this._removeInactiveAction(o))}let n=this._bindingsByRootAndName,r=n[t];if(r!==void 0)for(let a in r){let s=r[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,t){let i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}},Te=class{constructor(e){this.value=e}clone(){return new Te(this.value.clone===void 0?this.value:this.value.clone())}},bM=class{constructor(e,t,i=0,n=1/0){this.ray=new Kd(e,t),this.near=i,this.far=n,this.camera=null,this.layers=new I0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return y1(e,this,i,t),i.sort(_M),i}intersectObjects(e,t=!0,i=[]){for(let n=0,r=e.length;n<r;n++)y1(e[n],this,i,t);return i.sort(_M),i}};function _M(e,t){return e.distance-t.distance}function y1(e,t,i,n){if(e.layers.test(t.layers)&&e.raycast(t,i),n===!0){let r=e.children;for(let a=0,s=r.length;a<s;a++)y1(r[a],t,i,!0)}}var wM=class{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(on(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}},xM=new Y,kM=class{constructor(e=new Y(1/0,1/0),t=new Y(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let i=xM.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return xM.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},SM=new E,$p=new E,ua=class{constructor(e=new E,t=new E){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){SM.subVectors(e,this.start),$p.subVectors(this.end,this.start);let i=$p.dot($p),n=$p.dot(SM)/i;return t&&(n=on(n,0,1)),n}closestPointToPoint(e,t,i){let n=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(n).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}},AM=new E,XV=class extends mi{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";let i=new dt,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,o=32;a<o;a++,s++){let l=a/o*Math.PI*2,d=s/o*Math.PI*2;n.push(Math.cos(l),Math.sin(l),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new Ke(n,3));let r=new No({fog:!1,toneMapped:!1});this.cone=new gf(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);let e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),AM.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(AM),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},KV=class extends cr{constructor(e,t,i){let n=new d1(t,4,2),r=new cf({wireframe:!0,fog:!1,toneMapped:!1});super(n,r),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},MM=new E,em=new E,CM=new E,QV=class extends mi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let n=new dt;n.setAttribute("position",new Ke([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));let r=new No({fog:!1,toneMapped:!1});this.lightPlane=new Np(n,r),this.add(this.lightPlane),n=new dt,n.setAttribute("position",new Ke([0,0,0,0,0,1],3)),this.targetLine=new Np(n,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),MM.setFromMatrixPosition(this.light.matrixWorld),em.setFromMatrixPosition(this.light.target.matrixWorld),CM.subVectors(em,MM),this.lightPlane.lookAt(em),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(em),this.targetLine.scale.z=CM.length()}},tm=new E,Ni=new sc,im=class extends gf{constructor(e){let t=new dt,i=new No({color:16777215,vertexColors:!0,toneMapped:!1}),n=[],r=[],a={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(h,p){o(h),o(p)}function o(h){n.push(0,0,0),r.push(0,0,0),a[h]===void 0&&(a[h]=[]),a[h].push(n.length/3-1)}t.setAttribute("position",new Ke(n,3)),t.setAttribute("color",new Ke(r,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();let l=new pt(16755200),d=new pt(16711680),u=new pt(43775),c=new pt(16777215),f=new pt(3355443);this.setColors(l,d,u,c,f)}setColors(e,t,i,n,r){let a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,n.r,n.g,n.b),a.setXYZ(39,n.r,n.g,n.b),a.setXYZ(40,r.r,r.g,r.b),a.setXYZ(41,r.r,r.g,r.b),a.setXYZ(42,r.r,r.g,r.b),a.setXYZ(43,r.r,r.g,r.b),a.setXYZ(44,r.r,r.g,r.b),a.setXYZ(45,r.r,r.g,r.b),a.setXYZ(46,r.r,r.g,r.b),a.setXYZ(47,r.r,r.g,r.b),a.setXYZ(48,r.r,r.g,r.b),a.setXYZ(49,r.r,r.g,r.b),a.needsUpdate=!0}update(){let e=this.geometry,t=this.pointMap,i=1,n=1;Ni.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ki("c",t,e,Ni,0,0,-1),Ki("t",t,e,Ni,0,0,1),Ki("n1",t,e,Ni,-i,-n,-1),Ki("n2",t,e,Ni,i,-n,-1),Ki("n3",t,e,Ni,-i,n,-1),Ki("n4",t,e,Ni,i,n,-1),Ki("f1",t,e,Ni,-i,-n,1),Ki("f2",t,e,Ni,i,-n,1),Ki("f3",t,e,Ni,-i,n,1),Ki("f4",t,e,Ni,i,n,1),Ki("u1",t,e,Ni,i*.7,n*1.1,-1),Ki("u2",t,e,Ni,-i*.7,n*1.1,-1),Ki("u3",t,e,Ni,0,n*2,-1),Ki("cf1",t,e,Ni,-i,0,1),Ki("cf2",t,e,Ni,i,0,1),Ki("cf3",t,e,Ni,0,-n,1),Ki("cf4",t,e,Ni,0,n,1),Ki("cn1",t,e,Ni,-i,0,-1),Ki("cn2",t,e,Ni,i,0,-1),Ki("cn3",t,e,Ni,0,-n,-1),Ki("cn4",t,e,Ni,0,n,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function Ki(e,t,i,n,r,a,s){tm.set(r,a,s).unproject(n);let o=t[e];if(o!==void 0){let l=i.getAttribute("position");for(let d=0,u=o.length;d<u;d++)l.setXYZ(o[d],tm.x,tm.y,tm.z)}}var nm=class extends gf{constructor(e,t=16776960){let i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new dt;r.setIndex(new _t(i,1)),r.setAttribute("position",new Ke(n,3)),super(r,new No({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},JV=class extends gf{constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],n=new dt;n.setAttribute("position",new Ke(t,3)),n.setAttribute("color",new Ke(i,3));let r=new No({vertexColors:!0,toneMapped:!1});super(n,r),this.type="AxesHelper"}setColors(e,t,i){let n=new pt,r=this.geometry.attributes.color.array;return n.set(e),n.toArray(r,0),n.toArray(r,3),n.set(t),n.toArray(r,6),n.toArray(r,9),n.set(i),n.toArray(r,12),n.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},io=$V();function $V(){let e=new ArrayBuffer(4),t=new Float32Array(e),i=new Uint32Array(e),n=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){let d=l-127;d<-27?(n[l]=0,n[l|256]=32768,r[l]=24,r[l|256]=24):d<-14?(n[l]=1024>>-d-14,n[l|256]=1024>>-d-14|32768,r[l]=-d-1,r[l|256]=-d-1):d<=15?(n[l]=d+15<<10,n[l|256]=d+15<<10|32768,r[l]=13,r[l|256]=13):d<128?(n[l]=31744,n[l|256]=64512,r[l]=24,r[l|256]=24):(n[l]=31744,n[l|256]=64512,r[l]=13,r[l|256]=13)}let a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let d=l<<13,u=0;for(;!(d&8388608);)d<<=1,u-=8388608;d&=-8388609,u+=947912704,a[l]=d|u}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:t,uint32View:i,baseTable:n,shiftTable:r,mantissaTable:a,exponentTable:s,offsetTable:o}}function eH(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=on(e,-65504,65504),io.floatView[0]=e;let t=io.uint32View[0],i=t>>23&511;return io.baseTable[i]+((t&8388607)>>io.shiftTable[i])}function tH(e){let t=e>>10;return io.uint32View[0]=io.mantissaTable[io.offsetTable[t]+(e&1023)]+io.exponentTable[t],io.floatView[0]}var iH=Object.freeze({__proto__:null,fromHalfFloat:tH,toHalfFloat:eH});typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ud}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ud);var Af=".",b1=Symbol("target"),EM=Symbol("unsubscribe");function _1(e){return e instanceof Date||e instanceof Set||e instanceof Map||e instanceof WeakSet||e instanceof WeakMap||ArrayBuffer.isView(e)}function nH(e){return(typeof e=="object"?e===null:typeof e!="function")||e instanceof RegExp}var fs=Array.isArray;function w1(e){return typeof e=="symbol"}var rH={after:(e,t)=>fs(e)?e.slice(t.length):t===""?e:e.slice(t.length+1),concat:(e,t)=>fs(e)?(e=[...e],t&&e.push(t),e):t&&t.toString!==void 0?(e!==""&&(e+=Af),w1(t)?e+t.toString():e+t):e,initial:e=>{if(fs(e))return e.slice(0,-1);if(e==="")return e;let t=e.lastIndexOf(Af);return t===-1?"":e.slice(0,t)},last:e=>{if(fs(e))return e[e.length-1]||"";if(e==="")return e;let t=e.lastIndexOf(Af);return t===-1?e:e.slice(t+1)},walk:(e,t)=>{if(fs(e))for(let i of e)t(i);else if(e!==""){let i=0,n=e.indexOf(Af);if(n===-1)t(e);else for(;i<e.length;)n===-1&&(n=e.length),t(e.slice(i,n)),i=n+1,n=e.indexOf(Af,i)}},get(e,t){return this.walk(t,i=>{e&&(e=e[i])}),e}},fa=rH;function aH(e){return typeof e=="object"&&typeof e.next=="function"}function sH(e,t,i,n,r){let a=e.next;if(t.name==="entries")e.next=function(){let s=a.call(this);return s.done===!1&&(s.value[0]=r(s.value[0],t,s.value[0],n),s.value[1]=r(s.value[1],t,s.value[0],n)),s};else if(t.name==="values"){let s=i[b1].keys();e.next=function(){let o=a.call(this);return o.done===!1&&(o.value=r(o.value,t,s.next().value,n)),o}}else e.next=function(){let s=a.call(this);return s.done===!1&&(s.value=r(s.value,t,s.value,n)),s};return e}function TM(e,t,i){return e.isUnsubscribed||t.ignoreSymbols&&w1(i)||t.ignoreUnderscores&&i.charAt(0)==="_"||"ignoreKeys"in t&&t.ignoreKeys.includes(i)}var oH=class{constructor(e){this._equals=e,this._proxyCache=new WeakMap,this._pathCache=new WeakMap,this.isUnsubscribed=!1}_getDescriptorCache(){return this._descriptorCache===void 0&&(this._descriptorCache=new WeakMap),this._descriptorCache}_getProperties(e){let t=this._getDescriptorCache(),i=t.get(e);return i===void 0&&(i={},t.set(e,i)),i}_getOwnPropertyDescriptor(e,t){if(this.isUnsubscribed)return Reflect.getOwnPropertyDescriptor(e,t);let i=this._getProperties(e),n=i[t];return n===void 0&&(n=Reflect.getOwnPropertyDescriptor(e,t),i[t]=n),n}getProxy(e,t,i,n){if(this.isUnsubscribed)return e;let r=e[n],a=r||e;this._pathCache.set(a,t);let s=this._proxyCache.get(a);return s===void 0&&(s=r===void 0?new Proxy(e,i):e,this._proxyCache.set(a,s)),s}getPath(e){return this.isUnsubscribed?void 0:this._pathCache.get(e)}isDetached(e,t){return!Object.is(e,fa.get(t,this.getPath(e)))}defineProperty(e,t,i){return Reflect.defineProperty(e,t,i)?(this.isUnsubscribed||(this._getProperties(e)[t]=i),!0):!1}setProperty(e,t,i,n,r){if(!this._equals(r,i)||!(t in e)){let a=this._getOwnPropertyDescriptor(e,t);return a!==void 0&&"set"in a?Reflect.set(e,t,i,n):Reflect.set(e,t,i)}return!0}deleteProperty(e,t,i){if(Reflect.deleteProperty(e,t)){if(!this.isUnsubscribed){let n=this._getDescriptorCache().get(e);n&&(delete n[t],this._pathCache.delete(i))}return!0}return!1}isSameDescriptor(e,t,i){let n=this._getOwnPropertyDescriptor(t,i);return e!==void 0&&n!==void 0&&Object.is(e.value,n.value)&&(e.writable||!1)===(n.writable||!1)&&(e.enumerable||!1)===(n.enumerable||!1)&&(e.configurable||!1)===(n.configurable||!1)&&e.get===n.get&&e.set===n.set}isGetInvariant(e,t){let i=this._getOwnPropertyDescriptor(e,t);return i!==void 0&&i.configurable!==!0&&i.writable!==!0}unsubscribe(){this._descriptorCache=null,this._pathCache=null,this._proxyCache=null,this.isUnsubscribed=!0}};function x1(e){return toString.call(e)==="[object Object]"}function rm(){return!0}function yc(e,t){return e.length!==t.length||e.some((i,n)=>t[n]!==i)}var DM=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),lH=new Set(["concat","includes","indexOf","join","keys","lastIndexOf"]),PM={push:rm,pop:rm,shift:rm,unshift:rm,copyWithin:yc,reverse:yc,sort:yc,splice:yc,flat:yc,fill:yc},dH=new Set([...DM,...lH,...Object.keys(PM)]);function am(e,t){if(e.size!==t.size)return!0;for(let i of e)if(!t.has(i))return!0;return!1}var IM=["keys","values","entries"],OM=new Set(["has","toString"]),jM={add:am,clear:am,delete:am,forEach:am},cH=new Set([...OM,...Object.keys(jM),...IM]);function sm(e,t){if(e.size!==t.size)return!0;let i;for(let[n,r]of e)if(i=t.get(n),i!==r||i===void 0&&!t.has(n))return!0;return!1}var uH=new Set([...OM,"get"]),RM={set:sm,clear:sm,delete:sm,forEach:sm},fH=new Set([...uH,...Object.keys(RM),...IM]),Ho=class{constructor(e,t,i,n){this._path=t,this._isChanged=!1,this._clonedCache=new Set,this._hasOnValidate=n,this._changes=n?[]:null,this.clone=t===void 0?e:this._shallowClone(e)}static isHandledMethod(e){return DM.has(e)}_shallowClone(e){let t=e;if(x1(e))t=R({},e);else if(fs(e))t=[...e];else if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set([...e].map(i=>this._shallowClone(i)));else if(e instanceof Map){t=new Map;for(let[i,n]of e.entries())t.set(i,this._shallowClone(n))}return this._clonedCache.add(t),t}preferredThisArg(e,t,i,n){return e?(fs(n)?this._onIsChanged=PM[t]:n instanceof Set?this._onIsChanged=jM[t]:n instanceof Map&&(this._onIsChanged=RM[t]),n):i}update(e,t,i){let n=fa.after(e,this._path);if(t!=="length"){let r=this.clone;fa.walk(n,a=>{r&&r[a]&&(this._clonedCache.has(r[a])||(r[a]=this._shallowClone(r[a])),r=r[a])}),this._hasOnValidate&&this._changes.push({path:n,property:t,previous:i}),r&&r[t]&&(r[t]=i)}this._isChanged=!0}undo(e){let t;for(let i=this._changes.length-1;i!==-1;i--)t=this._changes[i],fa.get(e,t.path)[t.property]=t.previous}isChanged(e){return this._onIsChanged===void 0?this._isChanged:this._onIsChanged(this.clone,e)}},zM=class extends Ho{static isHandledMethod(e){return dH.has(e)}},hH=class extends Ho{undo(e){e.setTime(this.clone.getTime())}isChanged(e,t){return!t(this.clone.valueOf(),e.valueOf())}},BM=class extends Ho{static isHandledMethod(e){return cH.has(e)}undo(e){for(let t of this.clone)e.add(t);for(let t of e)this.clone.has(t)||e.delete(t)}},LM=class extends Ho{static isHandledMethod(e){return fH.has(e)}undo(e){for(let[t,i]of this.clone.entries())e.set(t,i);for(let t of e.keys())this.clone.has(t)||e.delete(t)}},pH=class extends Ho{constructor(e,t,i,n){super(void 0,t,i,n),this._arg1=i[0],this._weakValue=e.has(this._arg1)}isChanged(e){return this._weakValue!==e.has(this._arg1)}undo(e){this._weakValue&&!e.has(this._arg1)?e.add(this._arg1):e.delete(this._arg1)}},mH=class extends Ho{constructor(e,t,i,n){super(void 0,t,i,n),this._weakKey=i[0],this._weakHas=e.has(this._weakKey),this._weakValue=e.get(this._weakKey)}isChanged(e){return this._weakValue!==e.get(this._weakKey)}undo(e){let t=e.has(this._weakKey);this._weakHas&&!t?e.set(this._weakKey,this._weakValue):!this._weakHas&&t?e.delete(this._weakKey):this._weakValue!==e.get(this._weakKey)&&e.set(this._weakKey,this._weakValue)}},bc=class{constructor(e){this._stack=[],this._hasOnValidate=e}static isHandledType(e){return x1(e)||fs(e)||_1(e)}static isHandledMethod(e,t){return x1(e)?Ho.isHandledMethod(t):fs(e)?zM.isHandledMethod(t):e instanceof Set?BM.isHandledMethod(t):e instanceof Map?LM.isHandledMethod(t):_1(e)}get isCloning(){return this._stack.length>0}start(e,t,i){let n=Ho;fs(e)?n=zM:e instanceof Date?n=hH:e instanceof Set?n=BM:e instanceof Map?n=LM:e instanceof WeakSet?n=pH:e instanceof WeakMap&&(n=mH),this._stack.push(new n(e,t,i,this._hasOnValidate))}update(e,t,i){this._stack[this._stack.length-1].update(e,t,i)}preferredThisArg(e,t,i){let{name:n}=e,r=bc.isHandledMethod(i,n);return this._stack[this._stack.length-1].preferredThisArg(r,n,t,i)}isChanged(e,t,i){return this._stack[this._stack.length-1].isChanged(e,t,i)}undo(e){this._previousClone!==void 0&&this._previousClone.undo(e)}stop(){return this._previousClone=this._stack.pop(),this._previousClone.clone}},gH={equals:Object.is,isShallow:!1,pathAsArray:!1,ignoreSymbols:!1,ignoreUnderscores:!1,ignoreDetached:!1,details:!1},k1=(e,t,i={})=>{i=R(R({},gH),i);let n=Symbol("ProxyTarget"),{equals:r,isShallow:a,ignoreDetached:s,details:o}=i,l=new oH(r),d=typeof i.onValidate=="function",u=new bc(d),c=(y,b,_,x,k)=>!d||u.isCloning||i.onValidate(fa.concat(l.getPath(y),b),_,x,k)===!0,f=(y,b,_,x)=>{!TM(l,i,b)&&!(s&&l.isDetached(y,e))&&h(l.getPath(y),b,_,x)},h=(y,b,_,x,k)=>{u.isCloning?u.update(y,b,x):t(fa.concat(y,b),_,x,k)},p=y=>y&&(y[n]||y),m=(y,b,_,x)=>nH(y)||_==="constructor"||a&&!bc.isHandledMethod(b,_)||TM(l,i,_)||l.isGetInvariant(b,_)||s&&l.isDetached(b,e)?y:(x===void 0&&(x=l.getPath(b)),l.getProxy(y,fa.concat(x,_),g,n)),g={get(y,b,_){if(w1(b)){if(b===n||b===b1)return y;if(b===EM&&!l.isUnsubscribed&&l.getPath(y).length===0)return l.unsubscribe(),y}let x=_1(y)?Reflect.get(y,b):Reflect.get(y,b,_);return m(x,y,b)},set(y,b,_,x){_=p(_);let k=y[n]||y,w=k[b];if(r(w,_)&&b in y)return!0;let S=c(y,b,_,w);return S&&l.setProperty(k,b,_,x,w)?(f(y,b,y[b],w),!0):!S},defineProperty(y,b,_){if(!l.isSameDescriptor(_,y,b)){let x=y[b];c(y,b,_.value,x)&&l.defineProperty(y,b,_,x)&&f(y,b,_.value,x)}return!0},deleteProperty(y,b){if(!Reflect.has(y,b))return!0;let _=Reflect.get(y,b),x=c(y,b,void 0,_);return x&&l.deleteProperty(y,b,_)?(f(y,b,void 0,_),!0):!x},apply(y,b,_){let x=b[n]||b;if(l.isUnsubscribed)return Reflect.apply(y,x,_);if((o===!1||o!==!0&&!o.includes(y.name))&&bc.isHandledType(x)){let k=fa.initial(l.getPath(y)),w=bc.isHandledMethod(x,y.name);u.start(x,k,_);let S=Reflect.apply(y,u.preferredThisArg(y,b,x),w?_.map(C=>p(C)):_),A=u.isChanged(x,r),M=u.stop();if(bc.isHandledType(S)&&w&&(b instanceof Map&&y.name==="get"&&(k=fa.concat(k,_[0])),S=l.getProxy(S,k,g)),A){let C={name:y.name,args:_,result:S},T=u.isCloning?fa.initial(k):k,P=u.isCloning?fa.last(k):"";c(fa.get(e,T),P,x,M,C)?h(T,P,x,M,C):u.undo(x)}return(b instanceof Map||b instanceof Set)&&aH(S)?sH(S,y,b,k,m):S}return Reflect.apply(y,b,_)}},v=l.getProxy(e,i.pathAsArray?[]:"",g);return t=t.bind(v),d&&(i.onValidate=i.onValidate.bind(v)),v};k1.target=e=>e&&e[b1]||e,k1.unsubscribe=e=>e[EM]||e;var FM=k1,vH=typeof global=="object"&&global&&global.Object===Object&&global,NM=vH,yH=typeof self=="object"&&self&&self.Object===Object&&self,bH=NM||yH||Function("return this")(),Ra=bH,_H=Ra.Symbol,ha=_H,UM=Object.prototype,wH=UM.hasOwnProperty,xH=UM.toString,Mf=ha?ha.toStringTag:void 0;function kH(e){var t=wH.call(e,Mf),i=e[Mf];try{e[Mf]=void 0;var n=!0}catch(a){}var r=xH.call(e);return n&&(t?e[Mf]=i:delete e[Mf]),r}var SH=kH,AH=Object.prototype,MH=AH.toString;function CH(e){return MH.call(e)}var EH=CH,TH="[object Null]",DH="[object Undefined]",VM=ha?ha.toStringTag:void 0;function PH(e){return e==null?e===void 0?DH:TH:VM&&VM in Object(e)?SH(e):EH(e)}var Yl=PH;function IH(e){return e!=null&&typeof e=="object"}var no=IH,OH="[object Symbol]";function jH(e){return typeof e=="symbol"||no(e)&&Yl(e)==OH}var om=jH;function RH(e,t){for(var i=-1,n=e==null?0:e.length,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}var HM=RH,zH=Array.isArray,hs=zH,BH=1/0,GM=ha?ha.prototype:void 0,WM=GM?GM.toString:void 0;function qM(e){if(typeof e=="string")return e;if(hs(e))return HM(e,qM)+"";if(om(e))return WM?WM.call(e):"";var t=e+"";return t=="0"&&1/e==-BH?"-0":t}var LH=qM,FH=/\s/;function NH(e){for(var t=e.length;t--&&FH.test(e.charAt(t)););return t}var UH=NH,VH=/^\s+/;function HH(e){return e&&e.slice(0,UH(e)+1).replace(VH,"")}var GH=HH;function WH(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var za=WH,ZM=NaN,qH=/^[-+]0x[0-9a-f]+$/i,ZH=/^0b[01]+$/i,YH=/^0o[0-7]+$/i,XH=parseInt;function KH(e){if(typeof e=="number")return e;if(om(e))return ZM;if(za(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=za(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=GH(e);var i=ZH.test(e);return i||YH.test(e)?XH(e.slice(2),i?2:8):qH.test(e)?ZM:+e}var YM=KH;function QH(e){return e}var JH=QH,$H="[object AsyncFunction]",eG="[object Function]",tG="[object GeneratorFunction]",iG="[object Proxy]";function nG(e){if(!za(e))return!1;var t=Yl(e);return t==eG||t==tG||t==$H||t==iG}var XM=nG,rG=Ra["__core-js_shared__"],S1=rG,KM=function(){var e=/[^.]+$/.exec(S1&&S1.keys&&S1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function aG(e){return!!KM&&KM in e}var sG=aG,oG=Function.prototype,lG=oG.toString;function dG(e){if(e!=null){try{return lG.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Xl=dG,cG=/[\\^$.*+?()[\]{}|]/g,uG=/^\[object .+?Constructor\]$/,fG=Function.prototype,hG=Object.prototype,pG=fG.toString,mG=hG.hasOwnProperty,gG=RegExp("^"+pG.call(mG).replace(cG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vG(e){if(!za(e)||sG(e))return!1;var t=XM(e)?gG:uG;return t.test(Xl(e))}var yG=vG;function bG(e,t){return e==null?void 0:e[t]}var _G=bG;function wG(e,t){var i=_G(e,t);return yG(i)?i:void 0}var Kl=wG,xG=Kl(Ra,"WeakMap"),A1=xG,QM=Object.create,kG=function(){function e(){}return function(t){if(!za(t))return{};if(QM)return QM(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}(),SG=kG;function AG(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}var MG=AG;function CG(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}var EG=CG,TG=800,DG=16,PG=Date.now;function IG(e){var t=0,i=0;return function(){var n=PG(),r=DG-(n-i);if(i=n,r>0){if(++t>=TG)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var OG=IG;function jG(e){return function(){return e}}var RG=jG,zG=function(){try{var e=Kl(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),lm=zG,BG=lm?function(e,t){return lm(e,"toString",{configurable:!0,enumerable:!1,value:RG(t),writable:!0})}:JH,LG=BG,FG=OG(LG),NG=FG;function UG(e,t){for(var i=-1,n=e==null?0:e.length;++i<n&&t(e[i],i,e)!==!1;);return e}var VG=UG,HG=9007199254740991,GG=/^(?:0|[1-9]\d*)$/;function WG(e,t){var i=typeof e;return t=t!=null?t:HG,!!t&&(i=="number"||i!="symbol"&&GG.test(e))&&e>-1&&e%1==0&&e<t}var M1=WG;function qG(e,t,i){t=="__proto__"&&lm?lm(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}var JM=qG;function ZG(e,t){return e===t||e!==e&&t!==t}var C1=ZG,YG=Object.prototype,XG=YG.hasOwnProperty;function KG(e,t,i){var n=e[t];(!(XG.call(e,t)&&C1(n,i))||i===void 0&&!(t in e))&&JM(e,t,i)}var E1=KG;function QG(e,t,i,n){var r=!i;i||(i={});for(var a=-1,s=t.length;++a<s;){var o=t[a],l=n?n(i[o],e[o],o,i,e):void 0;l===void 0&&(l=e[o]),r?JM(i,o,l):E1(i,o,l)}return i}var Cf=QG,$M=Math.max;function JG(e,t,i){return t=$M(t===void 0?e.length-1:t,0),function(){for(var n=arguments,r=-1,a=$M(n.length-t,0),s=Array(a);++r<a;)s[r]=n[t+r];r=-1;for(var o=Array(t+1);++r<t;)o[r]=n[r];return o[t]=i(s),MG(e,this,o)}}var $G=JG,eW=9007199254740991;function tW(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=eW}var T1=tW;function iW(e){return e!=null&&T1(e.length)&&!XM(e)}var eC=iW,nW=Object.prototype;function rW(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||nW;return e===i}var D1=rW;function aW(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}var sW=aW,oW="[object Arguments]";function lW(e){return no(e)&&Yl(e)==oW}var tC=lW,iC=Object.prototype,dW=iC.hasOwnProperty,cW=iC.propertyIsEnumerable,uW=tC(function(){return arguments}())?tC:function(e){return no(e)&&dW.call(e,"callee")&&!cW.call(e,"callee")},P1=uW;function fW(){return!1}var hW=fW,nC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,rC=nC&&typeof module=="object"&&module&&!module.nodeType&&module,pW=rC&&rC.exports===nC,aC=pW?Ra.Buffer:void 0,mW=aC?aC.isBuffer:void 0,gW=mW||hW,dm=gW,vW="[object Arguments]",yW="[object Array]",bW="[object Boolean]",_W="[object Date]",wW="[object Error]",xW="[object Function]",kW="[object Map]",SW="[object Number]",AW="[object Object]",MW="[object RegExp]",CW="[object Set]",EW="[object String]",TW="[object WeakMap]",DW="[object ArrayBuffer]",PW="[object DataView]",IW="[object Float32Array]",OW="[object Float64Array]",jW="[object Int8Array]",RW="[object Int16Array]",zW="[object Int32Array]",BW="[object Uint8Array]",LW="[object Uint8ClampedArray]",FW="[object Uint16Array]",NW="[object Uint32Array]",Oi={};Oi[IW]=Oi[OW]=Oi[jW]=Oi[RW]=Oi[zW]=Oi[BW]=Oi[LW]=Oi[FW]=Oi[NW]=!0,Oi[vW]=Oi[yW]=Oi[DW]=Oi[bW]=Oi[PW]=Oi[_W]=Oi[wW]=Oi[xW]=Oi[kW]=Oi[SW]=Oi[AW]=Oi[MW]=Oi[CW]=Oi[EW]=Oi[TW]=!1;function UW(e){return no(e)&&T1(e.length)&&!!Oi[Yl(e)]}var VW=UW;function HW(e){return function(t){return e(t)}}var I1=HW,sC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ef=sC&&typeof module=="object"&&module&&!module.nodeType&&module,GW=Ef&&Ef.exports===sC,O1=GW&&NM.process,WW=function(){try{var e=Ef&&Ef.require&&Ef.require("util").types;return e||O1&&O1.binding&&O1.binding("util")}catch(t){}}(),_c=WW,oC=_c&&_c.isTypedArray,qW=oC?I1(oC):VW,lC=qW,ZW=Object.prototype,YW=ZW.hasOwnProperty;function XW(e,t){var i=hs(e),n=!i&&P1(e),r=!i&&!n&&dm(e),a=!i&&!n&&!r&&lC(e),s=i||n||r||a,o=s?sW(e.length,String):[],l=o.length;for(var d in e)(t||YW.call(e,d))&&!(s&&(d=="length"||r&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||M1(d,l)))&&o.push(d);return o}var dC=XW;function KW(e,t){return function(i){return e(t(i))}}var cC=KW,QW=cC(Object.keys,Object),JW=QW,$W=Object.prototype,eq=$W.hasOwnProperty;function tq(e){if(!D1(e))return JW(e);var t=[];for(var i in Object(e))eq.call(e,i)&&i!="constructor"&&t.push(i);return t}var iq=tq;function nq(e){return eC(e)?dC(e):iq(e)}var j1=nq;function rq(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}var aq=rq,sq=Object.prototype,oq=sq.hasOwnProperty;function lq(e){if(!za(e))return aq(e);var t=D1(e),i=[];for(var n in e)n=="constructor"&&(t||!oq.call(e,n))||i.push(n);return i}var dq=lq;function cq(e){return eC(e)?dC(e,!0):dq(e)}var Ql=cq,uq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fq=/^\w*$/;function hq(e,t){if(hs(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||om(e)?!0:fq.test(e)||!uq.test(e)||t!=null&&e in Object(t)}var pq=hq,mq=Kl(Object,"create"),Tf=mq;function gq(){this.__data__=Tf?Tf(null):{},this.size=0}var vq=gq;function yq(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var bq=yq,_q="__lodash_hash_undefined__",wq=Object.prototype,xq=wq.hasOwnProperty;function kq(e){var t=this.__data__;if(Tf){var i=t[e];return i===_q?void 0:i}return xq.call(t,e)?t[e]:void 0}var Sq=kq,Aq=Object.prototype,Mq=Aq.hasOwnProperty;function Cq(e){var t=this.__data__;return Tf?t[e]!==void 0:Mq.call(t,e)}var Eq=Cq,Tq="__lodash_hash_undefined__";function Dq(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Tf&&t===void 0?Tq:t,this}var Pq=Dq;function wc(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}wc.prototype.clear=vq,wc.prototype.delete=bq,wc.prototype.get=Sq,wc.prototype.has=Eq,wc.prototype.set=Pq;var uC=wc;function Iq(){this.__data__=[],this.size=0}var Oq=Iq;function jq(e,t){for(var i=e.length;i--;)if(C1(e[i][0],t))return i;return-1}var cm=jq,Rq=Array.prototype,zq=Rq.splice;function Bq(e){var t=this.__data__,i=cm(t,e);if(i<0)return!1;var n=t.length-1;return i==n?t.pop():zq.call(t,i,1),--this.size,!0}var Lq=Bq;function Fq(e){var t=this.__data__,i=cm(t,e);return i<0?void 0:t[i][1]}var Nq=Fq;function Uq(e){return cm(this.__data__,e)>-1}var Vq=Uq;function Hq(e,t){var i=this.__data__,n=cm(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this}var Gq=Hq;function xc(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}xc.prototype.clear=Oq,xc.prototype.delete=Lq,xc.prototype.get=Nq,xc.prototype.has=Vq,xc.prototype.set=Gq;var um=xc,Wq=Kl(Ra,"Map"),Df=Wq;function qq(){this.size=0,this.__data__={hash:new uC,map:new(Df||um),string:new uC}}var Zq=qq;function Yq(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Xq=Yq;function Kq(e,t){var i=e.__data__;return Xq(t)?i[typeof t=="string"?"string":"hash"]:i.map}var fm=Kq;function Qq(e){var t=fm(this,e).delete(e);return this.size-=t?1:0,t}var Jq=Qq;function $q(e){return fm(this,e).get(e)}var eZ=$q;function tZ(e){return fm(this,e).has(e)}var iZ=tZ;function nZ(e,t){var i=fm(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this}var rZ=nZ;function kc(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}kc.prototype.clear=Zq,kc.prototype.delete=Jq,kc.prototype.get=eZ,kc.prototype.has=iZ,kc.prototype.set=rZ;var hm=kc,aZ="Expected a function";function R1(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(aZ);var i=function(){var n=arguments,r=t?t.apply(this,n):n[0],a=i.cache;if(a.has(r))return a.get(r);var s=e.apply(this,n);return i.cache=a.set(r,s)||a,s};return i.cache=new(R1.Cache||hm),i}R1.Cache=hm;var sZ=R1,oZ=500;function lZ(e){var t=sZ(e,function(n){return i.size===oZ&&i.clear(),n}),i=t.cache;return t}var dZ=lZ,cZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uZ=/\\(\\)?/g,fZ=dZ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(cZ,function(i,n,r,a){t.push(r?a.replace(uZ,"$1"):n||i)}),t}),hZ=fZ;function pZ(e){return e==null?"":LH(e)}var mZ=pZ;function gZ(e,t){return hs(e)?e:pq(e,t)?[e]:hZ(mZ(e))}var Sc=gZ,vZ=1/0;function yZ(e){if(typeof e=="string"||om(e))return e;var t=e+"";return t=="0"&&1/e==-vZ?"-0":t}var pm=yZ;function bZ(e,t){t=Sc(t,e);for(var i=0,n=t.length;e!=null&&i<n;)e=e[pm(t[i++])];return i&&i==n?e:void 0}var fC=bZ;function _Z(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}var z1=_Z,hC=ha?ha.isConcatSpreadable:void 0;function wZ(e){return hs(e)||P1(e)||!!(hC&&e&&e[hC])}var xZ=wZ;function pC(e,t,i,n,r){var a=-1,s=e.length;for(i||(i=xZ),r||(r=[]);++a<s;){var o=e[a];t>0&&i(o)?t>1?pC(o,t-1,i,n,r):z1(r,o):n||(r[r.length]=o)}return r}var kZ=pC;function SZ(e){var t=e==null?0:e.length;return t?kZ(e,1):[]}var AZ=SZ;function MZ(e){return NG($G(e,void 0,AZ),e+"")}var mC=MZ,CZ=cC(Object.getPrototypeOf,Object),B1=CZ,EZ="[object Object]",TZ=Function.prototype,DZ=Object.prototype,gC=TZ.toString,PZ=DZ.hasOwnProperty,IZ=gC.call(Object);function OZ(e){if(!no(e)||Yl(e)!=EZ)return!1;var t=B1(e);if(t===null)return!0;var i=PZ.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&gC.call(i)==IZ}var jZ=OZ;function RZ(e,t,i){var n=-1,r=e.length;t<0&&(t=-t>r?0:r+t),i=i>r?r:i,i<0&&(i+=r),r=t>i?0:i-t>>>0,t>>>=0;for(var a=Array(r);++n<r;)a[n]=e[n+t];return a}var zZ=RZ;function BZ(){this.__data__=new um,this.size=0}var LZ=BZ;function FZ(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}var NZ=FZ;function UZ(e){return this.__data__.get(e)}var VZ=UZ;function HZ(e){return this.__data__.has(e)}var GZ=HZ,WZ=200;function qZ(e,t){var i=this.__data__;if(i instanceof um){var n=i.__data__;if(!Df||n.length<WZ-1)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new hm(n)}return i.set(e,t),this.size=i.size,this}var ZZ=qZ;function Ac(e){var t=this.__data__=new um(e);this.size=t.size}Ac.prototype.clear=LZ,Ac.prototype.delete=NZ,Ac.prototype.get=VZ,Ac.prototype.has=GZ,Ac.prototype.set=ZZ;var mm=Ac;function YZ(e,t){return e&&Cf(t,j1(t),e)}var XZ=YZ;function KZ(e,t){return e&&Cf(t,Ql(t),e)}var QZ=KZ,vC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,yC=vC&&typeof module=="object"&&module&&!module.nodeType&&module,JZ=yC&&yC.exports===vC,bC=JZ?Ra.Buffer:void 0,_C=bC?bC.allocUnsafe:void 0;function $Z(e,t){if(t)return e.slice();var i=e.length,n=_C?_C(i):new e.constructor(i);return e.copy(n),n}var eY=$Z;function tY(e,t){for(var i=-1,n=e==null?0:e.length,r=0,a=[];++i<n;){var s=e[i];t(s,i,e)&&(a[r++]=s)}return a}var iY=tY;function nY(){return[]}var wC=nY,rY=Object.prototype,aY=rY.propertyIsEnumerable,xC=Object.getOwnPropertySymbols,sY=xC?function(e){return e==null?[]:(e=Object(e),iY(xC(e),function(t){return aY.call(e,t)}))}:wC,L1=sY;function oY(e,t){return Cf(e,L1(e),t)}var lY=oY,dY=Object.getOwnPropertySymbols,cY=dY?function(e){for(var t=[];e;)z1(t,L1(e)),e=B1(e);return t}:wC,kC=cY;function uY(e,t){return Cf(e,kC(e),t)}var fY=uY;function hY(e,t,i){var n=t(e);return hs(e)?n:z1(n,i(e))}var SC=hY;function pY(e){return SC(e,j1,L1)}var F1=pY;function mY(e){return SC(e,Ql,kC)}var AC=mY,gY=Kl(Ra,"DataView"),N1=gY,vY=Kl(Ra,"Promise"),U1=vY,yY=Kl(Ra,"Set"),V1=yY,MC="[object Map]",bY="[object Object]",CC="[object Promise]",EC="[object Set]",TC="[object WeakMap]",DC="[object DataView]",_Y=Xl(N1),wY=Xl(Df),xY=Xl(U1),kY=Xl(V1),SY=Xl(A1),Jl=Yl;(N1&&Jl(new N1(new ArrayBuffer(1)))!=DC||Df&&Jl(new Df)!=MC||U1&&Jl(U1.resolve())!=CC||V1&&Jl(new V1)!=EC||A1&&Jl(new A1)!=TC)&&(Jl=function(e){var t=Yl(e),i=t==bY?e.constructor:void 0,n=i?Xl(i):"";if(n)switch(n){case _Y:return DC;case wY:return MC;case xY:return CC;case kY:return EC;case SY:return TC}return t});var Pf=Jl,AY=Object.prototype,MY=AY.hasOwnProperty;function CY(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&MY.call(e,"index")&&(i.index=e.index,i.input=e.input),i}var EY=CY,TY=Ra.Uint8Array,gm=TY;function DY(e){var t=new e.constructor(e.byteLength);return new gm(t).set(new gm(e)),t}var H1=DY;function PY(e,t){var i=t?H1(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}var IY=PY,OY=/\w*$/;function jY(e){var t=new e.constructor(e.source,OY.exec(e));return t.lastIndex=e.lastIndex,t}var RY=jY,PC=ha?ha.prototype:void 0,IC=PC?PC.valueOf:void 0;function zY(e){return IC?Object(IC.call(e)):{}}var BY=zY;function LY(e,t){var i=t?H1(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}var FY=LY,NY="[object Boolean]",UY="[object Date]",VY="[object Map]",HY="[object Number]",GY="[object RegExp]",WY="[object Set]",qY="[object String]",ZY="[object Symbol]",YY="[object ArrayBuffer]",XY="[object DataView]",KY="[object Float32Array]",QY="[object Float64Array]",JY="[object Int8Array]",$Y="[object Int16Array]",eX="[object Int32Array]",tX="[object Uint8Array]",iX="[object Uint8ClampedArray]",nX="[object Uint16Array]",rX="[object Uint32Array]";function aX(e,t,i){var n=e.constructor;switch(t){case YY:return H1(e);case NY:case UY:return new n(+e);case XY:return IY(e,i);case KY:case QY:case JY:case $Y:case eX:case tX:case iX:case nX:case rX:return FY(e,i);case VY:return new n;case HY:case qY:return new n(e);case GY:return RY(e);case WY:return new n;case ZY:return BY(e)}}var sX=aX;function oX(e){return typeof e.constructor=="function"&&!D1(e)?SG(B1(e)):{}}var lX=oX,dX="[object Map]";function cX(e){return no(e)&&Pf(e)==dX}var uX=cX,OC=_c&&_c.isMap,fX=OC?I1(OC):uX,hX=fX,pX="[object Set]";function mX(e){return no(e)&&Pf(e)==pX}var gX=mX,jC=_c&&_c.isSet,vX=jC?I1(jC):gX,yX=vX,bX=1,_X=2,wX=4,RC="[object Arguments]",xX="[object Array]",kX="[object Boolean]",SX="[object Date]",AX="[object Error]",zC="[object Function]",MX="[object GeneratorFunction]",CX="[object Map]",EX="[object Number]",BC="[object Object]",TX="[object RegExp]",DX="[object Set]",PX="[object String]",IX="[object Symbol]",OX="[object WeakMap]",jX="[object ArrayBuffer]",RX="[object DataView]",zX="[object Float32Array]",BX="[object Float64Array]",LX="[object Int8Array]",FX="[object Int16Array]",NX="[object Int32Array]",UX="[object Uint8Array]",VX="[object Uint8ClampedArray]",HX="[object Uint16Array]",GX="[object Uint32Array]",Pi={};Pi[RC]=Pi[xX]=Pi[jX]=Pi[RX]=Pi[kX]=Pi[SX]=Pi[zX]=Pi[BX]=Pi[LX]=Pi[FX]=Pi[NX]=Pi[CX]=Pi[EX]=Pi[BC]=Pi[TX]=Pi[DX]=Pi[PX]=Pi[IX]=Pi[UX]=Pi[VX]=Pi[HX]=Pi[GX]=!0,Pi[AX]=Pi[zC]=Pi[OX]=!1;function vm(e,t,i,n,r,a){var s,o=t&bX,l=t&_X,d=t&wX;if(i&&(s=r?i(e,n,r,a):i(e)),s!==void 0)return s;if(!za(e))return e;var u=hs(e);if(u){if(s=EY(e),!o)return EG(e,s)}else{var c=Pf(e),f=c==zC||c==MX;if(dm(e))return eY(e,o);if(c==BC||c==RC||f&&!r){if(s=l||f?{}:lX(e),!o)return l?fY(e,QZ(s,e)):lY(e,XZ(s,e))}else{if(!Pi[c])return r?e:{};s=sX(e,c,o)}}a||(a=new mm);var h=a.get(e);if(h)return h;a.set(e,s),yX(e)?e.forEach(function(g){s.add(vm(g,t,i,g,e,a))}):hX(e)&&e.forEach(function(g,v){s.set(v,vm(g,t,i,v,e,a))});var p=d?l?AC:F1:l?Ql:j1,m=u?void 0:p(e);return VG(m||e,function(g,v){m&&(v=g,g=e[v]),E1(s,v,vm(g,t,i,v,e,a))}),s}var LC=vm,WX=1,qX=4;function ZX(e){return LC(e,WX|qX)}var ym=ZX,YX="__lodash_hash_undefined__";function XX(e){return this.__data__.set(e,YX),this}var KX=XX;function QX(e){return this.__data__.has(e)}var JX=QX;function bm(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new hm;++t<i;)this.add(e[t])}bm.prototype.add=bm.prototype.push=KX,bm.prototype.has=JX;var $X=bm;function eK(e,t){for(var i=-1,n=e==null?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}var tK=eK;function iK(e,t){return e.has(t)}var nK=iK,rK=1,aK=2;function sK(e,t,i,n,r,a){var s=i&rK,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var d=a.get(e),u=a.get(t);if(d&&u)return d==t&&u==e;var c=-1,f=!0,h=i&aK?new $X:void 0;for(a.set(e,t),a.set(t,e);++c<o;){var p=e[c],m=t[c];if(n)var g=s?n(m,p,c,t,e,a):n(p,m,c,e,t,a);if(g!==void 0){if(g)continue;f=!1;break}if(h){if(!tK(t,function(v,y){if(!nK(h,y)&&(p===v||r(p,v,i,n,a)))return h.push(y)})){f=!1;break}}else if(!(p===m||r(p,m,i,n,a))){f=!1;break}}return a.delete(e),a.delete(t),f}var FC=sK;function oK(e){var t=-1,i=Array(e.size);return e.forEach(function(n,r){i[++t]=[r,n]}),i}var lK=oK;function dK(e){var t=-1,i=Array(e.size);return e.forEach(function(n){i[++t]=n}),i}var cK=dK,uK=1,fK=2,hK="[object Boolean]",pK="[object Date]",mK="[object Error]",gK="[object Map]",vK="[object Number]",yK="[object RegExp]",bK="[object Set]",_K="[object String]",wK="[object Symbol]",xK="[object ArrayBuffer]",kK="[object DataView]",NC=ha?ha.prototype:void 0,G1=NC?NC.valueOf:void 0;function SK(e,t,i,n,r,a,s){switch(i){case kK:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case xK:return!(e.byteLength!=t.byteLength||!a(new gm(e),new gm(t)));case hK:case pK:case vK:return C1(+e,+t);case mK:return e.name==t.name&&e.message==t.message;case yK:case _K:return e==t+"";case gK:var o=lK;case bK:var l=n&uK;if(o||(o=cK),e.size!=t.size&&!l)return!1;var d=s.get(e);if(d)return d==t;n|=fK,s.set(e,t);var u=FC(o(e),o(t),n,r,a,s);return s.delete(e),u;case wK:if(G1)return G1.call(e)==G1.call(t)}return!1}var AK=SK,MK=1,CK=Object.prototype,EK=CK.hasOwnProperty;function TK(e,t,i,n,r,a){var s=i&MK,o=F1(e),l=o.length,d=F1(t),u=d.length;if(l!=u&&!s)return!1;for(var c=l;c--;){var f=o[c];if(!(s?f in t:EK.call(t,f)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var m=!0;a.set(e,t),a.set(t,e);for(var g=s;++c<l;){f=o[c];var v=e[f],y=t[f];if(n)var b=s?n(y,v,f,t,e,a):n(v,y,f,e,t,a);if(!(b===void 0?v===y||r(v,y,i,n,a):b)){m=!1;break}g||(g=f=="constructor")}if(m&&!g){var _=e.constructor,x=t.constructor;_!=x&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof x=="function"&&x instanceof x)&&(m=!1)}return a.delete(e),a.delete(t),m}var DK=TK,PK=1,UC="[object Arguments]",VC="[object Array]",_m="[object Object]",IK=Object.prototype,HC=IK.hasOwnProperty;function OK(e,t,i,n,r,a){var s=hs(e),o=hs(t),l=s?VC:Pf(e),d=o?VC:Pf(t);l=l==UC?_m:l,d=d==UC?_m:d;var u=l==_m,c=d==_m,f=l==d;if(f&&dm(e)){if(!dm(t))return!1;s=!0,u=!1}if(f&&!u)return a||(a=new mm),s||lC(e)?FC(e,t,i,n,r,a):AK(e,t,l,i,n,r,a);if(!(i&PK)){var h=u&&HC.call(e,"__wrapped__"),p=c&&HC.call(t,"__wrapped__");if(h||p){var m=h?e.value():e,g=p?t.value():t;return a||(a=new mm),r(m,g,i,n,a)}}return f?(a||(a=new mm),DK(e,t,i,n,r,a)):!1}var jK=OK;function GC(e,t,i,n,r){return e===t?!0:e==null||t==null||!no(e)&&!no(t)?e!==e&&t!==t:jK(e,t,i,n,GC,r)}var RK=GC;function zK(e,t){return e!=null&&t in Object(e)}var BK=zK;function LK(e,t,i){t=Sc(t,e);for(var n=-1,r=t.length,a=!1;++n<r;){var s=pm(t[n]);if(!(a=e!=null&&i(e,s)))break;e=e[s]}return a||++n!=r?a:(r=e==null?0:e.length,!!r&&T1(r)&&M1(s,r)&&(hs(e)||P1(e)))}var FK=LK;function NK(e,t){return e!=null&&FK(e,t,BK)}var UK=NK,VK=function(){return Ra.Date.now()},W1=VK,HK="Expected a function",GK=Math.max,WK=Math.min;function qK(e,t,i){var n,r,a,s,o,l,d=0,u=!1,c=!1,f=!0;if(typeof e!="function")throw new TypeError(HK);t=YM(t)||0,za(i)&&(u=!!i.leading,c="maxWait"in i,a=c?GK(YM(i.maxWait)||0,t):a,f="trailing"in i?!!i.trailing:f);function h(k){var w=n,S=r;return n=r=void 0,d=k,s=e.apply(S,w),s}function p(k){return d=k,o=setTimeout(v,t),u?h(k):s}function m(k){var w=k-l,S=k-d,A=t-w;return c?WK(A,a-S):A}function g(k){var w=k-l,S=k-d;return l===void 0||w>=t||w<0||c&&S>=a}function v(){var k=W1();if(g(k))return y(k);o=setTimeout(v,m(k))}function y(k){return o=void 0,f&&n?h(k):(n=r=void 0,s)}function b(){o!==void 0&&clearTimeout(o),d=0,n=l=r=o=void 0}function _(){return o===void 0?s:y(W1())}function x(){var k=W1(),w=g(k);if(n=arguments,r=this,l=k,w){if(o===void 0)return p(l);if(c)return clearTimeout(o),o=setTimeout(v,t),h(l)}return o===void 0&&(o=setTimeout(v,t)),s}return x.cancel=b,x.flush=_,x}var q1=qK;function ZK(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var YK=ZK;function XK(e,t){return t.length<2?e:fC(e,zZ(t,0,-1))}var KK=XK;function QK(e,t){return RK(e,t)}var WC=QK;function JK(e,t){return t=Sc(t,e),e=KK(e,t),e==null||delete e[pm(YK(t))]}var $K=JK;function eQ(e){return jZ(e)?void 0:e}var tQ=eQ,iQ=1,nQ=2,rQ=4,aQ=mC(function(e,t){var i={};if(e==null)return i;var n=!1;t=HM(t,function(a){return a=Sc(a,e),n||(n=a.length>1),a}),Cf(e,AC(e),i),n&&(i=LC(i,iQ|nQ|rQ,tQ));for(var r=t.length;r--;)$K(i,t[r]);return i}),Z1=aQ;function sQ(e,t,i,n){if(!za(e))return e;t=Sc(t,e);for(var r=-1,a=t.length,s=a-1,o=e;o!=null&&++r<a;){var l=pm(t[r]),d=i;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(r!=s){var u=o[l];d=n?n(u,l,o):void 0,d===void 0&&(d=za(u)?u:M1(t[r+1])?[]:{})}E1(o,l,d),o=o[l]}return e}var oQ=sQ;function lQ(e,t,i){for(var n=-1,r=t.length,a={};++n<r;){var s=t[n],o=fC(e,s);i(o,s)&&oQ(a,Sc(s,e),o)}return a}var dQ=lQ;function cQ(e,t){return dQ(e,t,function(i,n){return UK(e,n)})}var uQ=cQ,fQ=mC(function(e,t){return e==null?{}:uQ(e,t)}),ro=fQ,hQ="Expected a function";function pQ(e,t,i){var n=!0,r=!0;if(typeof e!="function")throw new TypeError(hQ);return za(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),q1(e,t,{leading:n,maxWait:t,trailing:r})}var mQ=pQ;function gQ(e){for(let t of Object.keys(e))e[t]===void 0&&delete e[t];return e}function ao(e,t){return Object.setPrototypeOf(e,t),e}var vQ=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes(" electron/"),yQ=()=>typeof window>"u"?!1:window.navigator.platform.toUpperCase().includes("MAC"),bQ=()=>typeof window>"u"?!1:/iPad|iPhone|iPod/.test(window.navigator.userAgent)||wm&&"ontouchend"in document,_Q=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,wQ=()=>typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0,xQ=()=>{if(typeof window>"u")return!1;let e=navigator.userAgent,t=navigator.vendor;return/Safari/i.test(e)&&/Apple Computer/.test(t)},kQ=()=>{if(typeof window>"u")return null;let e=navigator.userAgent.match(/Version\/(\d+\.\d)/);return e&&e[1]},SQ=()=>{var t;if(typeof window>"u")return;let e=new URLSearchParams(window.location.search).get("desktop-app-version");return e?(window.localStorage.setItem("desktop-app-version",e),e):(t=window.localStorage.getItem("desktop-app-version"))!=null?t:"0.0.6"},AQ=vQ(),Nhe=AQ?SQ():void 0,wm=yQ(),Y1=bQ(),MQ=_Q(),$r=wQ(),qC=xQ(),ZC=Number(kQ());function YC(e){return Array.isArray(e)?e:[e]}function CQ(e,t){let i=0;for(;i<e.length&&i<t.length;){if(e[i]<t[i])return-1;if(e[i]>t[i])return 1;i+=1}return i!==t.length?-1:i!==e.length?1:0}function xm(e){return wm?e.metaKey:e.ctrlKey}var wt=[],km={},If={},Sm={};function XC(e){wt.includes(e)||wt.push(e)}function Mc(e){delete km[e.pointerId];for(let t=0;t<wt.length;t++)if(wt[t].pointerId===e.pointerId){wt.splice(t,1);break}}function EQ(){wt.splice(0,wt.length)}function Am(e){if(e.pointerType!=="touch")return;let t=km[e.pointerId];t===void 0&&(t={x:0,y:0},km[e.pointerId]=t),t.x=e.pageX,t.y=e.pageY}function X1(e){let t=e.pointerId===wt[0].pointerId?wt[1]:wt[0];return km[t.pointerId]}function KC(e){If[e.key]=!0,Sm[e.key]=Sm[e.key]===void 0?1:Sm[e.key]+1}function QC(e){if(wm&&If.Meta)for(let t in If)If[t]=!1;else If[e.key]=!1;Sm={}}function TQ(e){e.addEventListener("pointerdown",XC,!0),e.addEventListener("pointerdown",Am,!0),e.addEventListener("pointermove",Am,!0),e.addEventListener("pointerup",Mc,!0),e.addEventListener("pointercancel",Mc,!0),e.addEventListener("pointerleave",Mc,!0),window.addEventListener("keydown",KC,!0),window.addEventListener("keyup",QC,!0)}function DQ(e){e.removeEventListener("pointerdown",XC,!0),e.removeEventListener("pointerdown",Am,!0),e.removeEventListener("pointermove",Am,!0),e.removeEventListener("pointerup",Mc,!0),e.removeEventListener("pointercancel",Mc,!0),e.removeEventListener("pointerleave",Mc,!0),window.removeEventListener("keydown",KC,!0),window.removeEventListener("keyup",QC,!0)}var JC,PQ=new Promise(e=>{JC=e}),Mm;function IQ(){if(Mm)return Mm;function e(){return ri(this,null,function*(){let t="https://unpkg.com/@splinetool/navmesh-wasm@0.9.526/build",i=ee.e(534).then(ee.bind(ee,70534)),[n,r]=yield Promise.all([i,fetch(`${t}/navmesh.wasm`).then(o=>o.arrayBuffer())]),a=n.default,s=yield a({wasmBinary:r});JC(s)})}return Mm=e(),Mm}var $C,OQ=new Promise(e=>{$C=e}),Cm;function jQ(){if(Cm)return Cm;function e(){return ri(this,null,function*(){let t=yield ee.e(6047).then(ee.bind(ee,76047));yield t.init(),$C(t)})}return Cm=e(),Cm}var zt=class{modifyById(e,t){let i=this;if(i[e]===void 0)throw new Error("not expected");{let n=Q(R({},i),{[e]:t});return Object.setPrototypeOf(n,zt.prototype),n}}add(e,t){var i,n;return(n=(i=this.runOp({type:1,id:e,data:t}))==null?void 0:i.data)!=null?n:this}runOp(e){let t=this;if(e.type===1){let i=t[e.id],n;i===void 0?n={type:2,id:e.id}:n={type:1,id:e.id,data:i};let{id:r,data:a}=e,s=Q(R({},t),{[r]:a});return Object.setPrototypeOf(s,zt.prototype),{data:s,actual:e,reverse:n}}else if(e.type===2){let{id:i}=e,n=t[i];if(n===void 0)return null;{let r=R({},t);return Object.setPrototypeOf(r,zt.prototype),delete r[i],{data:r,actual:e,reverse:{type:1,id:i,data:n}}}}return null}};function K1(e){if(e.deepFreeze!==void 0){e.deepFreeze(e);return}let t=Object.getOwnPropertyNames(e);for(let i of t){let n=e[i];n&&typeof n=="object"&&K1(n)}return Object.freeze(e)}function RQ(e,t){let i=0;for(;i<e.length&&i<t.length;){if(e[i]<t[i])return-1;if(e[i]>t[i])return 1;i+=1}return i!==t.length?-1:i!==e.length?1:0}var e4=class extends Error{};function Q1(e){let t=R({},e);return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}function Go(e,t,i){if(e===void 0?t===void 0?(e=0,t=10):e=t-10:t===void 0&&(t=e+10),e>t){let a=e;e=t,t=a}let n=[],r=1/(i+1);for(let a=0;a<i;a++){let s=e+(t-e)*(a+.75+Math.random()*.5)*r;n.push(s)}return n}function J1(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array}function zQ(){return typeof gB<"u"}function t4(e,t){for(let i of e)t(i.id,i.data)!==!0&&t4(i.children,t)}function i4(e,t){if(t(e.id,e.data)!==!0)for(let i of e.children)i4(i,t)}var Tr=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Tr.prototype)}deepFreeze(){let e=0;for(;e<this.length;)K1(this[e]),e++}fillCaches0(e,t){this.objCaches.set(e.id,e),this.parentCaches.set(e.id,t);for(let i of e.children)this.fillCaches0(i,e.id)}fillCaches(){if(this.objCaches===void 0){this.objCaches=new Map,this.parentCaches=new Map;for(let e of this)this.fillCaches0(e,null)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(e.length!==0)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}nonExistOrDescendantOf(e,t){if(!this.has(e))return!0;for(;e;){let i=this.parent(e);if(i===t)return!0;e=i}return!1}rootAcestor(e){for(;e;){let t=this.parent(e);if(t)e=t;else return e}return e}isDescendantOf(e,t){for(;e;){let i=this.parent(e);if(i===t)return!0;e=i}return!1}data(e){var t;return(t=this.get(e))==null?void 0:t.data}has(e){return this.childrenOf(e)!==void 0}get(e){return this.fillCaches(),this.objCaches.get(e)}childrenOf(e){var t;return e===null?this:(t=this.get(e))==null?void 0:t.children}traverseFrom(e,t){if(e===null)this.traverse(t);else{let i=this.get(e);i&&i4(i,t)}}traverse(e){t4(this,e)}totalSize(){return this.fillCaches(),this.objCaches.size}parent(e){return this.fillCaches(),this.parentCaches.get(e)}childrenArray(e){return e===null?this:this.get(e).children}modifyById(e,t){if(this.get(e)===void 0)throw new Error("not expected");{let i=this.parent(e),n=this.childrenArray(i),r=n.findIndex(s=>s.id===e);if(r<0)throw new Error("not expected");let a=n[r];return n=[...n],n[r]=Q(R({},a),{data:t}),this.modifyArrayBy(i,n)}}modifyArrayBy(e,t){let i=e,n=t;for(;i!==null;){let a=n,s=i;if(i=this.parent(i),i===void 0)throw new Error;n=this.childrenArray(i);let o=n.findIndex(l=>l.id===s);if(o<0)throw new Error;n=[...n],n[o]=Q(R({},n[o]),{children:a})}Object.setPrototypeOf(n,Tr.prototype);let r=n;return r.fillCaches(),r}runOp(e){switch(e.type){case 7:return this.addOp(e);case 8:return this.deleteOp(e);case 9:return this.moveOp(e)}return null}checkDuplicatedIdRec({id:e,children:t}){if(this.get(e)!==void 0)return!0;for(let i of t)if(this.checkDuplicatedIdRec(i))return!0;return!1}addOp(e){let{parent:t,fi:i,id:n,data:r,children:a}=e;if(t!==null&&this.get(t)===void 0||this.checkDuplicatedIdRec(e))return null;{let s=t,o=this.childrenArray(s),l={fi:i,id:n,data:r,children:a};return o=[...o,l],o.sort((d,u)=>d.fi-u.fi),e.localIndex=o.indexOf(l),{data:this.modifyArrayBy(s,o),actual:e,reverse:{type:8,id:n}}}}deleteOp(e){let{id:t}=e;if(this.get(t)===null)return null;{let i=this.parent(t);if(i===void 0)return null;let n=this.childrenArray(i),r=n.findIndex(s=>s.id===t);e.localIndex=r,n=[...n];let a=n.splice(r,1)[0];return{data:this.modifyArrayBy(i,n),actual:e,reverse:Q(R({type:7},a),{parent:i})}}}moveOp(e){let{parent:t,fi:i,id:n}=e;if(t!==null&&this.get(t)===void 0)return this.deleteOp({type:8,id:n});if(t!==null){let c=t;for(;c!==null;){if(c===void 0)throw new Error;if(c===n)throw new e4("cyclic tree");c=this.parent(c)}}let r=this.parent(n);if(r===void 0)return null;let a=r,s=this.childrenArray(r),o=s.findIndex(c=>c.id===n);s=[...s];let l=s.splice(o,1)[0],d=this.modifyArrayBy(r,s);r=t,s=d.childrenArray(r);let u=l.fi;return l=Q(R({},l),{fi:i}),s=[...s,l],s.sort((c,f)=>c.fi-f.fi),e.localIndex=s.indexOf(l),d=d.modifyArrayBy(r,s),{data:d,actual:e,reverse:{type:9,parent:a,fi:u,id:n}}}previous(e,t){if(t===null){let n=this.childrenArray(e);return n.length===0?null:n[n.length-1].id}let i=null;for(let n of this.childrenArray(e)){if(n.id===t)return i;i=n.id}return null}traverseSortNext(e){let t=this.parent(e);if(t!==void 0){let i=this.childrenArray(t),n=i.findIndex(r=>r.id===e)+1;if(n<i.length)return i[n].id;if(t)return this.traverseSortNext(t)}}sortNext(e){let t=this.childrenArray(e);return t.length>0?t[0].id:this.traverseSortNext(e)}traverseSortPrevious(e){let t=this.childrenArray(e);return t.length>0?this.traverseSortPrevious(t[t.length-1].id):e}sortPrevious(e){let t=this.parent(e);if(t!==void 0){let i=this.childrenArray(t),n=i.findIndex(r=>r.id===e)-1;return n>=0?this.traverseSortPrevious(i[n].id):t}}getAllSorted(e){let t=[];for(let i of e){let n=this.getWithSortKey(i.id);n!==void 0&&t.push(R(R({},i),n))}t.sort((i,n)=>RQ(i.sortKey,n.sortKey));for(let i of t)delete i.sortKey;return t}getWithSortKey(e){var t=e;let i=[],n=this.get(t),r=n;if(n!==void 0){for(;t;)i.splice(0,0,n.fi),t=this.parent(t),t!==null&&(n=this.get(t));return Q(R({},r),{sortKey:i})}}insertBeforeHelper(e,t,i){return this.insertAfterHelper(e,this.previous(e,t),i)}insertAfterHelper(e,t,i){let n=this.childrenArray(e);if(t===null){if(n.length===0)return Go(0,i,i);{let r=n[0].fi;return Go(r-i,r,i)}}else{let r=this.get(t);if(r===void 0||this.parent(t)!==e)throw new Error("illegal args");let a=n.find(s=>s.fi>r.fi);if(a===void 0){let s=n[n.length-1].fi;return Go(s,s+i,i)}else return Go(r.fi,a.fi,i)}}},Em;(e=>{function t(i,n){if(n.type!==0)return null;if(Array.isArray(i)){let r=n.props,a={},s=[...i],o=!1;if(r)for(let l of Object.keys(r)){let d=parseInt(l);if(isNaN(d))throw new Error("wrong index");a[l]=s[d],s[d]=r[l],o=!0}return o?{data:s,actual:n,reverse:{type:0,props:a}}:null}else{let r=n.props,a={},s=R({},i),o=!1;if(r)for(let l of Object.keys(r)){a[l]=s[l];let d=r[l];d===void 0?delete s[l]:s[l]=d,o=!0}return o?{data:s,actual:n,reverse:{type:0,props:a}}:null}}e.runOp=t})(Em||(Em={}));var bt=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,bt.prototype)}deepFreeze(){let e=0;for(;e<this.length;)K1(this[e]),e++}fillCaches0(e){this.objCaches.set(e.id,e)}fillCaches(){if(this.objCaches===void 0){this.objCaches=new Map,Object.getOwnPropertyDescriptor(this,"objCaches").enumerable=!1;for(let e of this)this.fillCaches0(e)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(e.length!==0)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}data(e){var t;return(t=this.get(e))==null?void 0:t.data}get(e){return this.fillCaches(),this.objCaches.get(e)}modifyById(e,t){if(this.get(e)===void 0)throw new Error("not expected");{let i=this,n=i.findIndex(a=>a.id===e);if(n<0)throw new Error("not expected");let r=i[n];return i=[...i],i[n]=Q(R({},r),{data:t}),this.modifyArrayBy(i)}}modifyArrayBy(e){Object.setPrototypeOf(e,bt.prototype);let t=e;return zQ()||t.fillCaches(),t}runOp(e){switch(e.type){case 4:return this.addOp(e);case 5:return this.deleteOp(e);case 6:return this.moveOp(e)}return null}addOp(e){let{fi:t,id:i,data:n}=e,r=this,a={fi:t,id:i,data:n};return r=[...r,a],r.sort((s,o)=>s.fi-o.fi),e.localIndex=r.indexOf(a),{data:this.modifyArrayBy(r),actual:e,reverse:{type:5,id:i}}}deleteOp(e){let{id:t}=e,i=this,n=i.findIndex(a=>a.id===t);if(n===-1)return null;e.localIndex=n,i=[...i];let r=i.splice(n,1)[0];return{data:this.modifyArrayBy(i),actual:e,reverse:R({type:4},r)}}moveOp(e){let{fi:t,id:i}=e,n=this;n=[...n];let r=n.findIndex(o=>o.id===i);if(r===-1)return null;let a=n[r].fi,s=Q(R({},n[r]),{fi:t});return n[r]=s,n.sort((o,l)=>o.fi-l.fi),e.localIndex=n.indexOf(s),{data:this.modifyArrayBy(n),actual:e,reverse:{type:6,fi:a,id:i}}}previous(e){if(e===null)return this.length===0?null:this[this.length-1].id;let t=null;for(let i of this){if(i.id===e)return t;t=i.id}return null}insertBeforeHelper(e,t){return this.insertAfterHelper(this.previous(e),t)}insertAfterHelper(e,t){let i=this;if(e===null){if(i.length===0)return Go(0,t,t);{let n=i[0].fi;return Go(n-t,n,t)}}else{let n=this.get(e);if(n===void 0)throw new Error("illegal args");let r=i.find(a=>a.fi>n.fi);if(r===void 0){let a=i[i.length-1].fi;return Go(a,a+t,t)}else return Go(n.fi,r.fi,t)}}};function Cc(e){return e&&typeof e=="object"&&e instanceof bn}var bn=class{unusedFunOverridesTable(e){}runOp(e){let t=[],i=this,n=0,r={};for(;n<e.path.length;){if(t.push(i),i=i===void 0?void 0:i[e.path[n]],i!==void 0&&!Cc(i))return null;n+=1}i=i?Q1(i):new bn;for(let[o,l]of Object.entries(e.props)){let d=i[o];r[o]=d,l===void 0?delete i[o]:i[o]=l}for(;n>0;){if(Object.keys(i).length===0){let o=t[n-1];o&&(i=Q1(o),delete i[e.path[n-1]])}else{let o=t[n-1];if(o){let l=Q1(o);l[e.path[n-1]]=i,i=l}else{let l=new bn;l[e.path[n-1]]=i,i=l}}n-=1}let a=Object.setPrototypeOf(i,bn.prototype),s=Q(R({},e),{props:r});return{data:a,actual:e,reverse:s}}},Wo;(e=>{function t(r,a){var s;return(s=Of(r,a))!=null?s:r}e.apply=t;function i(r,a){return ey(r,a)}e.merge=i;function n(r,a){let s=0,o=a.path,l=r;for(;s<o.length&&l!==void 0;){if(l=hr.zoomOnce(l,o[s]),l===void 0)return a;if(!Cc(l))return;s+=1}if(l===void 0)return a;if(Cc(l))if(a.type===0){let d=R({},a.props);for(let u of Object.keys(l))delete d[u];return Q(R({},a),{props:d})}else if(a.type===1||a.type===4||a.type===7){let d=$1([a],l);return d?(console.log(d),d):a}else return a}e.filterOp=n})(Wo||(Wo={}));function $1(e,t){if(t===void 0)return;let i=!1,n=e.map(r=>{let a=r.id,s=Of(r.data,t[a]);if(i=i||s!==void 0,s===void 0&&(s=r.data),r.children){let o=$1(r.children,t);return o!==void 0?i=!0:o=r.children,Q(R({},r),{id:a,data:s,children:o})}else return Q(R({},r),{id:a,data:s})});if(i)return n}function BQ(e,t){if(t===void 0)return;let i=!1,n=e.map(r=>{let a=r.id,s=Of(r.data,t[a]);return i=i||s!==void 0,s===void 0&&(s=r.data),Q(R({},r),{id:a,data:s})});if(i)return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n}function Of(e,t){if(!Cc(t))return t;if(e instanceof Tr){let i=$1(e,t);return i!==void 0&&Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i}else{if(e instanceof bt)return BQ(e,t);if(Array.isArray(e)){let i=!1,n=e.map((r,a)=>{let s=Of(r,t[a]);return i=i||s!==void 0,s===void 0&&(s=r),s});return i?(Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n):void 0}else{if(e instanceof bn)return ey(e,t);if(e&&typeof e=="object"){let i={},n=!1;for(let[r,a]of Object.entries(e)){let s=Of(a,t[r]);n=n||s!==void 0,s===void 0&&(s=a),i[r]=s}return n?(Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i):void 0}}}}function ey(e,t){if(e===void 0)return t;if(t===void 0)return e;if(!Cc(t))return t;if(!Cc(e))return Wo.apply(e,t);let i=new Set;for(let r of Object.keys(e))i.add(r);for(let r of Object.keys(t))i.add(r);let n=new bn;for(let r of i){let a=ey(e===void 0?void 0:e[r],t===void 0?void 0:t[r]);n[r]=a}return n}function LQ(e,t){var n;let i={cur:[],result:[],len:0};return e=(n=jf(e,t,i))!=null?n:e,[e,i.result]}function Tm(e,t){return e===null?null:(e.cur[e.len]=t,e.len+=1,e)}function Dm(e){e&&(e.len-=1)}function FQ(e){if(e===null)return null;e.result.push(e.cur.slice(0,e.len))}function n4(e,t,i){let n=!1,r=e.map(a=>{let s=a.id,o=t[s];if(o!==void 0&&typeof o=="string"&&(n=!0,s=o,i!==null))throw new Error("not supported");let l=jf(a.data,t,Tm(i,s));Dm(i),n=n||l!==void 0,l===void 0&&(l=a.data);let d=n4(a.children,t,i);return d!==void 0?n=!0:d=a.children,Q(R({},a),{id:s,data:l,children:d})});if(n)return r}function NQ(e,t,i){let n=!1,r=e.map(a=>{let s=a.id,o=t[s];if(o!==void 0&&typeof o=="string"&&(n=!0,s=o,i!==null))throw new Error("not supported");let l=jf(a.data,t,Tm(i,s));return Dm(i),n=n||l!==void 0,l===void 0&&(l=a.data),Q(R({},a),{id:s,data:l})});if(n)return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r}function jf(e,t,i){if(e instanceof Tr){let n=n4(e,t,i);return n!==void 0&&Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n}else{if(e instanceof bt)return NQ(e,t,i);if(Array.isArray(e)){let n=!1,r=e.map((a,s)=>{let o=jf(a,t,Tm(i,s));return Dm(i),n=n||o!==void 0,o===void 0&&(o=a),o});return n?(Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r):void 0}else if(e&&typeof e=="object"&&!J1(e)){let n={},r=!1;for(let[a,s]of Object.entries(e))if(a!=="name"){let o=t[a];if(typeof o=="string"){if(i!==null)throw new Error("not supported");r=!0,a=o}let l=jf(s,t,Tm(i,a));Dm(i),r=r||l!==void 0,l===void 0&&(l=s),n[a]=l}else n[a]=s;return r?(Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n):void 0}else if(typeof e=="string"){let n=t[e];return n!==void 0&&FQ(i),n}else return}}var ty;(e=>{function t(i,n){let r=hr.zoom(n,i.path);if(typeof r=="object"){let a={};for(let s of Object.keys(i.props))a[s]=r[s];return Q(R({},i),{props:a})}else return Q(R({},i),{props:{}})}e.replaceProps=t})(ty||(ty={}));var Jn;(e=>{function t(l,d){return Q(R({},l),{path:l.path.slice(d)})}e.drop=t;function i(l,d){var u,c;return(c=(u=n(l,d))==null?void 0:u.data)!=null?c:l}e.applySimple=i;function n(l,d){var f,h;let u=d.path;for(var c=[];;){let p;if(l instanceof bn&&d.type===0&&(p=l.runOp(Q(R({},d),{path:u.slice(c.length)})),p===null&&(p=void 0)),p===void 0&&c.length===u.length&&(l instanceof Tr||l instanceof bt||l instanceof zt?p=l.runOp(d):p=Em.runOp(l,d)),p!==void 0)if(p!==null){let v=p.data;for(let y=c.length-1;y>=0;y--){let b=u[y],_=c[y];if(_ instanceof Tr){if(typeof b=="number")throw new Error("illegal arg");v=_.modifyById(b,v)}else if(_ instanceof bt){if(typeof b=="number")throw new Error("illegal arg");v=_.modifyById(b,v)}else if(_ instanceof zt){if(typeof b=="number")throw new Error("illegal arg");v=_.modifyById(b,v)}else if(_ instanceof bn){let x=Q(R({},_),{[b]:v});v=Object.setPrototypeOf(x,bn.prototype)}else if(typeof _=="object")if(Array.isArray(_)){if(typeof b=="string"&&(b=parseInt(b),isNaN(b)))throw new Error("Invalid path");let x=v;v=[..._],v[b]=x}else v=Q(R({},_),{[b]:v});else return null}return{data:v,actual:Q(R({},p.actual),{path:u}),reverse:Q(R({},p.reverse),{path:u})}}else return null;let m=u[c.length],g;if(l instanceof Tr){if(typeof m=="number")throw new Error("");g=(f=l.get(m))==null?void 0:f.data}else if(l instanceof bt){if(typeof m=="number")throw new Error("");g=(h=l.get(m))==null?void 0:h.data}else l!==null&&(g=l[m]);if(g!==void 0)c.push(l),l=g;else return null}}e.apply=n;function r(l,d){for(let u=0;u<l.length&&u<d.length;u++)if(l[u]!==d[u])return!0;return!1}e.pathDisjoint=r;function a(l,d){if(l.length!==d.length)return!1;for(let u=0;u<l.length;u++)if(l[u]!==d[u])return!1;return!0}e.pathEq=a;function s(l,d){return r(l.path,d.path)}e.commutative=s;function o(l,d){return l.type===0&&d.type===0&&a(l.path,d.path)?Object.keys(l.props).every(u=>d.props[u]!==void 0):!1}e.subsumed=o})(Jn||(Jn={}));var iy;(e=>{function t(){return[]}e.empty=t;function i(d,u){let c=[];for(let f of d){let[h,...p]=f.path;h===u&&c.push(Q(R({},f),{path:p}))}return c}e.removePrefix=i;function n(d,u){return d.map(c=>Q(R({},c),{path:[u,...c.path]}))}e.addPrefix=n;function r(d,u){return[...d,...u]}e.concat=r;function a(d,u){return[...d.filter(c=>!u.some(f=>Jn.subsumed(c,f))),...u]}e.compress=a;function s(d,u){return d.every(c=>u.every(f=>Jn.commutative(c,f)))}e.commutative=s;function o(d,u){for(let c of u){let f=l(d,c);f!==null&&(d=f.data)}return d}e.applyAll=o;function l(d,u){var c=d;let f=[],h=[];for(let p of u)try{if(p.type===3||p.type===5&&p.path[p.path.length-1]==="variables"){let m,g,v;if(p.type===3?(m=hr.zoom(c,[...p.path,p.id]),v=Jn.apply(c,Q(R({},p),{type:2}))):(m=hr.zoom(c,[...p.path,p.id,"value"]),v=Jn.apply(c,p)),v!==null){c=v.data;let[y,b]=LQ(c,{[p.id]:m});c=y;for(let _=0;_<b.length;_++){let x=b[_],k=x.pop();if(typeof k=="number"){let w=[k];for(let A=_+1;A<b.length;A++){let M=b[A],C=M[M.length-1];if(typeof C=="number"&&hr.equal(x,M.slice(0,M.length-1)))w.push(C),b.splice(A,1);else break}let S=hr.zoom(c,x);g=S.map((A,M)=>w.includes(M)?p.id:A),m=S,k=x.pop()}else{if(k==="alphaOverride"||k==="alpha"){m/=100;let w=m,S=hr.zoom(c,x.slice(0,x.length-2)),A=S.layers.map(M=>M.id===x[x.length-1]?Q(R({},M),{data:Q(R({},M.data),{[k]:w})}):M);Object.setPrototypeOf(A,Object.getPrototypeOf(S.layers)),S.layers=A}g=p.id}f.push({type:0,path:x,props:{[k]:m}}),h.push({type:0,path:x,props:{[k]:g}})}h.push(v.reverse),f.push(v.actual)}}else{let m=Jn.apply(c,p);m!==null&&(f.push(m.actual),c=m.data,h.push(m.reverse))}}catch(m){if(m instanceof e4)return null;throw m}return{data:c,actual:f,reverse:h.reverse()}}e.apply=l})(iy||(iy={}));var r4=Symbol(),UQ=Symbol(),Pm=Symbol(),Rf=class{reportOp(e,t,i=[]){let n=this;if(t===null)return;n._current=t.data;let r=i;for(;!(n instanceof s4);){let a=n._path,s=n._current;if(a!==""&&r.splice(0,0,a),n=n._parent,n===null)return;n.update(a,s)}n.push(r,e,t.actual,t.reverse)}deleteChildren(e){if(this._children){let t=this._children[e];if(t){let i=t[Pm];i&&i(),delete this._children[e]}}}},VQ=class extends Rf{constructor(e,t,i){super(),this._parent=e,this._path=t,this._current=i}update(e,t){if(Array.isArray(this._current)){if(typeof e=="string"&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid path");this._current=[...this._current],this._current[e]=t}else this._current=Q(R({},this._current),{[e]:t})}runOp(e){this.reportOp(e,Em.runOp(this._current,e),e.path)}},HQ=class extends Rf{constructor(e,t,i){super(),this._parent=e,this._path=t,this._current=i}update(e,t){this._current=Q(R({},this._current),{[e]:t}),Object.setPrototypeOf(this._current,zt.prototype)}runOp(e){this.reportOp(e,this._current.runOp(e))}},a4={get(e,t){if(t===Pm)return()=>{e._parent=null};if(t===r4)return e._current;if(t===UQ)return e;let{_current:i,_children:n}=e;if(t==="push"&&Array.isArray(i))throw new Error("not supported to expand array");let r=n===void 0?void 0:n[t];if(r!==void 0)return r;let a=i[t],s=Im(e,t,a);return s!==a?(n===void 0&&(n={},e._children=n),n[t]=s,s):a},has(e,t){return t in e._current},ownKeys(e){return Reflect.ownKeys(e._current)},defineProperty(){throw Error("not supported")},getPrototypeOf(e){return Object.getPrototypeOf(e._current)},setPrototypeOf(){throw Error("not supported")},getOwnPropertyDescriptor(e,t){let i=e._current,n=Reflect.getOwnPropertyDescriptor(i,t);return n&&{writable:!0,configurable:!0,enumerable:n.enumerable,value:i[t]}}},GQ=Q(R({},a4),{set(e,t,i){var r;let n={type:0,props:{[t]:(r=dn(i))!=null?r:i}};return e.deleteChildren(t),e.runOp(n),!0},deleteProperty(e,t){let i={type:0,props:{[t]:void 0}};return e.deleteChildren(t),e.runOp(i),!0}}),WQ=Q(R({},a4),{set(e,t,i){return i===void 0?this.deleteProperty(e,t):(e.deleteChildren(t),e.runOp({type:1,id:t,data:i})),!0},deleteProperty(e,t){return e.runOp({type:2,id:t}),!0}}),ny=class extends Rf{constructor(e,t,i){super(),this._children={},this._parent=e,this._path=t,this._current=i,this[Pm]=()=>{this._parent=null}}unproxy(){return this._current}update(e,t){this._current=this._current.modifyById(e,t)}runOp(e){this.reportOp(e,this._current.runOp(e))}randomId(){return this._current.randomId()}isDescendantOf(e,t){return this._current.isDescendantOf(e,t)}childrenOf(e){return this._current.childrenOf(e)}traverse(e){return this._current.traverse(e)}get(e){return this._current.get(e)}parent(e){return this._current.parent(e)}traverse(e){this._current.traverse((t,i)=>{e(t,this.data(t))})}data(e){var s;let{_current:t,_children:i}=this,n=i===void 0?void 0:i[e];if(n!==void 0)return n;let r=(s=t.get(e))==null?void 0:s.data,a=Im(this,e,r);return a!==r?(i===void 0&&(i={},this._children=i),i[e]=a,a):r}add(e,t,i,n,r){this.runOp({type:7,parent:e,fi:t,id:i,data:n,children:r})}move(e,t,i){this.runOp({type:9,parent:e,fi:t,id:i})}insertAfter(e,t,i){let n=this._current.insertAfterHelper(e,t,i.length);for(let r=0;r<i.length;r++){let a=i[r];this.add(e,n[r],a.id,a.data,a.children)}}insertBefore(e,t,i){let n=this._current.insertBeforeHelper(e,t,i.length);for(let r=0;r<i.length;r++){let a=i[r];this.add(e,n[r],a.id,a.data,a.children)}}moveAfter(e,t,i){let n=this._current.insertAfterHelper(e,t,i.length);for(let r=0;r<i.length;r++){let a=i[r];this.move(e,n[r],a)}}moveBefore(e,t,i){let n=this._current.insertBeforeHelper(e,t,i.length);for(let r=0;r<i.length;r++){let a=i[r];this.move(e,n[r],a)}}delete(e){this.deleteChildren(e),this.runOp({type:8,id:e})}sortNext(e){return this._current.sortNext(e)}sortPrevious(e){return this._current.sortPrevious(e)}getAllSorted(e){return this._current.getAllSorted(e)}},ry=class extends Rf{constructor(e,t,i){super(),this._children={},this._parent=e,this._path=t,this._current=i,this[Pm]=()=>{this._parent=null}}unproxy(){return this._current}get length(){return this._current.length}forEach(e){let t=this.length;for(let i=0;i<t;i++){let n=this._current[i].id,r=this._current[i].fi;e(this.data(this._current[i].id),n,r)}}find(e){let t=this.length;for(let i=0;i<t;i++){let n=this._current[i].id;if(e(this.data(n),n))return this.get(n)}}update(e,t){this._current=this._current.modifyById(e,t)}randomId(){return this._current.randomId()}get(e){return Q(R({},this._current.get(e)),{data:this.data(e)})}data(e){var s;let{_current:t,_children:i}=this,n=i===void 0?void 0:i[e];if(n!==void 0)return n;let r=(s=t.get(e))==null?void 0:s.data,a=Im(this,e,r);return a!==r?(i===void 0&&(i={},this._children=i),i[e]=a,a):r}runOp(e){this.reportOp(e,this._current.runOp(e))}add(e,t,i){this.runOp({type:4,fi:e,id:t,data:i})}move(e,t){this.runOp({type:6,fi:e,id:t})}insertAfter(e,t){let i=this._current.insertAfterHelper(e,t.length);for(let n=0;n<t.length;n++){let r=t[n];this.add(i[n],r.id,r.data)}}insertBefore(e,t){let i=this._current.insertBeforeHelper(e,t.length);for(let n=0;n<t.length;n++){let r=t[n];this.add(i[n],r.id,r.data)}}moveAfter(e,t){let i=this._current.insertAfterHelper(e,t.length);for(let n=0;n<t.length;n++){let r=t[n];this.move(i[n],r)}}moveBefore(e,t){let i=this._current.insertBeforeHelper(e,t.length);for(let n=0;n<t.length;n++){let r=t[n];this.move(i[n],r)}}delete(e){this.deleteChildren(e),this.runOp({type:5,id:e})}};function ay(e,t,i){if(e.length>0){let n=e[e.length-1];if(n.type===0&&t.type===0&&hr.equal(n.path,i)){Object.assign(n.props,t.props);return}}e.push(Q(R({},t),{path:i}))}var s4=class extends Rf{constructor(e){super(),this.ts=[],this.actual=[],this.reverse=[],this._current=e}update(e,t){if(e!=="")throw new Error("");this._current=t}push(e,t,i,n){ay(this.ts,t,e),ay(this.actual,i,e),ay(this.reverse,n,e)}result(){return{data:this._current,ts:this.ts,actual:this.actual,reverse:this.reverse.reverse()}}};function Im(e,t,i){return i instanceof Tr?new ny(e,t,i):i instanceof bt?new ry(e,t,i):i instanceof zt?new Proxy(new HQ(e,t,i),WQ):i!==null&&typeof i=="object"?J1(i)?i:new Proxy(new VQ(e,t,i),GQ):i}function o4(e){let t=new s4(e);return[Im(t,"",e),t]}function zf(e,t){let[i,n]=o4(e);return t(i),n.result()}function dn(e){return e instanceof ny||e instanceof ry?e._current:e!==null&&typeof e=="object"?e[r4]:e}var hr;(e=>{function t(a,s){if(s.length===a.length)for(var o=0;o<a.length;){if(a[o]!==s[o])return!1;o+=1}else return!1;return!0}e.equal=t;function i(a,s,o){let l=r(o,a);if(l!==void 0&&typeof l=="object"&&l!==null){let d=R({},s);return Object.keys(l).forEach(u=>{delete d[u]}),d}else return s}e.removeOverridden=i;function n(a,s){if((a instanceof Tr||a instanceof ny)&&typeof s=="string"||(a instanceof bt||a instanceof ry)&&typeof s=="string")return a.data(s);if(typeof s=="number"&&Array.isArray(a)||typeof s=="string"&&typeof a=="object"&&a!==null)return a[s]}e.zoomOnce=n;function r(a,s,o=0){for(;o<s.length&&a!==void 0;)a=n(a,s[o]),o+=1;return a}e.zoom=r})(hr||(hr={}));function qQ(e,t){let i=[];if(t.length===e.length)for(var n=0;n<e.length;){if(t[n]==="*")i.push(e[n]);else if(e[n]!==t[n])return null;n+=1}else return null;return i}function pa(e,t){let i=[];if(t.length<=e.length)for(var n=0;n<t.length;){if(t[n]==="*")i.push(e[n]);else if(e[n]!==t[n])return null;n+=1}else return null;return i}var l4=class{},d4=class extends l4{constructor(e){super(),this.id=e}},c4=class extends l4{constructor(e){super(),this.data=e}},sy;try{sy=new TextDecoder}catch(e){}var et,qo,se=0,u4=[],oy=u4,ly=0,Dr={},si,Zo,ma=0,ps=0,ea,so,pr=[],fi,f4={useRecords:!1,mapsAsObjects:!0},h4=class{},p4=new h4;p4.name="MessagePack 0xC1";var Ec=!1,Om=class{constructor(e){e&&(e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0)),Object.assign(this,e)}unpack(e,t){if(et)return M4(()=>(hy(),this?this.unpack(e,t):Om.prototype.unpack.call(f4,e,t)));qo=t>-1?t:e.length,se=0,ly=0,ps=0,Zo=null,oy=u4,ea=null,et=e;try{fi=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(i){throw et=null,e instanceof Uint8Array?i:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof Om){if(Dr=this,this.structures)return si=this.structures,jm();(!si||si.length>0)&&(si=[])}else Dr=f4,(!si||si.length>0)&&(si=[]);return jm()}unpackMultiple(e,t){let i,n=0;try{Ec=!0;let r=e.length,a=this?this.unpack(e,r):zm.unpack(e,r);if(t){for(t(a);se<r;)if(n=se,t(jm())===!1)return}else{for(i=[a];se<r;)n=se,i.push(jm());return i}}catch(r){throw r.lastPosition=n,r.values=i,r}finally{Ec=!1,hy()}}_mergeStructures(e,t){e=e||[];for(let i=0,n=e.length;i<n;i++){let r=e[i];r&&(r.isShared=!0,i>=32&&(r.highByte=i-32>>5))}e.sharedLength=e.length;for(let i in t||[])if(i>=0){let n=e[i],r=t[i];r&&(n&&((e.restoreStructures||(e.restoreStructures=[]))[i]=n),e[i]=r)}return this.structures=e}decode(e,t){return this.unpack(e,t)}};function jm(){try{if(!Dr.trusted&&!Ec){let t=si.sharedLength||0;t<si.length&&(si.length=t)}let e=Ui();if(se==qo)si.restoreStructures&&m4(),si=null,et=null,so&&(so=null);else if(se>qo){let t=new Error("Unexpected end of MessagePack data");throw t.incomplete=!0,t}else if(!Ec)throw new Error("Data read, but end of buffer not reached");return e}catch(e){throw si.restoreStructures&&m4(),hy(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function m4(){for(let e in si.restoreStructures)si[e]=si.restoreStructures[e];si.restoreStructures=null}function Ui(){let e=et[se++];if(e<160)if(e<128){if(e<64)return e;{let t=si[e&63]||Dr.getStructures&&v4()[e&63];return t?(t.read||(t.read=dy(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,Dr.mapsAsObjects){let t={};for(let i=0;i<e;i++)t[x4()]=Ui();return t}else{let t=new Map;for(let i=0;i<e;i++)t.set(Ui(),Ui());return t}else{e-=144;let t=new Array(e);for(let i=0;i<e;i++)t[i]=Ui();return t}else if(e<192){let t=e-160;if(ps>=se)return Zo.slice(se-ma,(se+=t)-ma);if(ps==0&&qo<140){let i=t<16?uy(t):_4(t);if(i!=null)return i}return cy(t)}else{let t;switch(e){case 192:return null;case 193:return ea?(t=Ui(),t>0?ea[1].slice(ea.position1,ea.position1+=t):ea[0].slice(ea.position0,ea.position0-=t)):p4;case 194:return!1;case 195:return!0;case 196:return fy(et[se++]);case 197:return t=fi.getUint16(se),se+=2,fy(t);case 198:return t=fi.getUint32(se),se+=4,fy(t);case 199:return $l(et[se++]);case 200:return t=fi.getUint16(se),se+=2,$l(t);case 201:return t=fi.getUint32(se),se+=4,$l(t);case 202:if(t=fi.getFloat32(se),Dr.useFloat32>2){let i=py[(et[se]&127)<<1|et[se+1]>>7];return se+=4,(i*t+(t>0?.5:-.5)>>0)/i}return se+=4,t;case 203:return t=fi.getFloat64(se),se+=8,t;case 204:return et[se++];case 205:return t=fi.getUint16(se),se+=2,t;case 206:return t=fi.getUint32(se),se+=4,t;case 207:return Dr.int64AsNumber?(t=fi.getUint32(se)*4294967296,t+=fi.getUint32(se+4)):t=fi.getBigUint64(se),se+=8,t;case 208:return fi.getInt8(se++);case 209:return t=fi.getInt16(se),se+=2,t;case 210:return t=fi.getInt32(se),se+=4,t;case 211:return Dr.int64AsNumber?(t=fi.getInt32(se)*4294967296,t+=fi.getUint32(se+4)):t=fi.getBigInt64(se),se+=8,t;case 212:if(t=et[se++],t==114)return k4(et[se++]&63);{let i=pr[t];if(i)return i.read?(se++,i.read(Ui())):i.noBuffer?(se++,i()):i(et.subarray(se,++se));throw new Error("Unknown extension "+t)}case 213:return t=et[se],t==114?(se++,k4(et[se++]&63,et[se++])):$l(2);case 214:return $l(4);case 215:return $l(8);case 216:return $l(16);case 217:return t=et[se++],ps>=se?Zo.slice(se-ma,(se+=t)-ma):YQ(t);case 218:return t=fi.getUint16(se),se+=2,ps>=se?Zo.slice(se-ma,(se+=t)-ma):XQ(t);case 219:return t=fi.getUint32(se),se+=4,ps>=se?Zo.slice(se-ma,(se+=t)-ma):KQ(t);case 220:return t=fi.getUint16(se),se+=2,y4(t);case 221:return t=fi.getUint32(se),se+=4,y4(t);case 222:return t=fi.getUint16(se),se+=2,b4(t);case 223:return t=fi.getUint32(se),se+=4,b4(t);default:if(e>=224)return e-256;if(e===void 0){let i=new Error("Unexpected end of MessagePack data");throw i.incomplete=!0,i}throw new Error("Unknown MessagePack token "+e)}}}var ZQ=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function dy(e,t){function i(){if(i.count++>2){let r=e.read=new Function("r","return function(){return {"+e.map(a=>ZQ.test(a)?a+":r()":"["+JSON.stringify(a)+"]:r()").join(",")+"}}")(Ui);return e.highByte===0&&(e.read=g4(t,e.read)),r()}let n={};for(let r=0,a=e.length;r<a;r++){let s=e[r];n[s]=Ui()}return n}return i.count=0,e.highByte===0?g4(t,i):i}var g4=(e,t)=>function(){let i=et[se++];if(i===0)return t();let n=e<32?-(e+(i<<5)):e+(i<<5),r=si[n]||v4()[n];if(!r)throw new Error("Record id is not defined for "+n);return r.read||(r.read=dy(r,e)),r.read()};function v4(){let e=M4(()=>(et=null,Dr.getStructures()));return si=Dr._mergeStructures(e,si)}var cy=Rm,YQ=Rm,XQ=Rm,KQ=Rm;function Rm(e){let t;if(e<16&&(t=uy(e)))return t;if(e>64&&sy)return sy.decode(et.subarray(se,se+=e));let i=se+e,n=[];for(t="";se<i;){let r=et[se++];if(!(r&128))n.push(r);else if((r&224)===192){let a=et[se++]&63;n.push((r&31)<<6|a)}else if((r&240)===224){let a=et[se++]&63,s=et[se++]&63;n.push((r&31)<<12|a<<6|s)}else if((r&248)===240){let a=et[se++]&63,s=et[se++]&63,o=et[se++]&63,l=(r&7)<<18|a<<12|s<<6|o;l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|l&1023),n.push(l)}else n.push(r);n.length>=4096&&(t+=In.apply(String,n),n.length=0)}return n.length>0&&(t+=In.apply(String,n)),t}function y4(e){let t=new Array(e);for(let i=0;i<e;i++)t[i]=Ui();return t}function b4(e){if(Dr.mapsAsObjects){let t={};for(let i=0;i<e;i++)t[x4()]=Ui();return t}else{let t=new Map;for(let i=0;i<e;i++)t.set(Ui(),Ui());return t}}var In=String.fromCharCode;function _4(e){let t=se,i=new Array(e);for(let n=0;n<e;n++){let r=et[se++];if((r&128)>0){se=t;return}i[n]=r}return In.apply(String,i)}function uy(e){if(e<4)if(e<2){if(e===0)return"";{let t=et[se++];if((t&128)>1){se-=1;return}return In(t)}}else{let t=et[se++],i=et[se++];if((t&128)>0||(i&128)>0){se-=2;return}if(e<3)return In(t,i);let n=et[se++];if((n&128)>0){se-=3;return}return In(t,i,n)}else{let t=et[se++],i=et[se++],n=et[se++],r=et[se++];if((t&128)>0||(i&128)>0||(n&128)>0||(r&128)>0){se-=4;return}if(e<6){if(e===4)return In(t,i,n,r);{let a=et[se++];if((a&128)>0){se-=5;return}return In(t,i,n,r,a)}}else if(e<8){let a=et[se++],s=et[se++];if((a&128)>0||(s&128)>0){se-=6;return}if(e<7)return In(t,i,n,r,a,s);let o=et[se++];if((o&128)>0){se-=7;return}return In(t,i,n,r,a,s,o)}else{let a=et[se++],s=et[se++],o=et[se++],l=et[se++];if((a&128)>0||(s&128)>0||(o&128)>0||(l&128)>0){se-=8;return}if(e<10){if(e===8)return In(t,i,n,r,a,s,o,l);{let d=et[se++];if((d&128)>0){se-=9;return}return In(t,i,n,r,a,s,o,l,d)}}else if(e<12){let d=et[se++],u=et[se++];if((d&128)>0||(u&128)>0){se-=10;return}if(e<11)return In(t,i,n,r,a,s,o,l,d,u);let c=et[se++];if((c&128)>0){se-=11;return}return In(t,i,n,r,a,s,o,l,d,u,c)}else{let d=et[se++],u=et[se++],c=et[se++],f=et[se++];if((d&128)>0||(u&128)>0||(c&128)>0||(f&128)>0){se-=12;return}if(e<14){if(e===12)return In(t,i,n,r,a,s,o,l,d,u,c,f);{let h=et[se++];if((h&128)>0){se-=13;return}return In(t,i,n,r,a,s,o,l,d,u,c,f,h)}}else{let h=et[se++],p=et[se++];if((h&128)>0||(p&128)>0){se-=14;return}if(e<15)return In(t,i,n,r,a,s,o,l,d,u,c,f,h,p);let m=et[se++];if((m&128)>0){se-=15;return}return In(t,i,n,r,a,s,o,l,d,u,c,f,h,p,m)}}}}}function fy(e){return Dr.copyBuffers?Uint8Array.prototype.slice.call(et,se,se+=e):et.subarray(se,se+=e)}function $l(e){let t=et[se++];if(pr[t])return pr[t](et.subarray(se,se+=e));throw new Error("Unknown extension type "+t)}var w4=new Array(4096);function x4(){let e=et[se++];if(e>=160&&e<192){if(e=e-160,ps>=se)return Zo.slice(se-ma,(se+=e)-ma);if(!(ps==0&&qo<180))return cy(e)}else return se--,Ui();let t=(e<<5^(e>1?fi.getUint16(se):e>0?et[se]:0))&4095,i=w4[t],n=se,r=se+e-3,a,s=0;if(i&&i.bytes==e){for(;n<r;){if(a=fi.getUint32(n),a!=i[s++]){n=1879048192;break}n+=4}for(r+=3;n<r;)if(a=et[n++],a!=i[s++]){n=1879048192;break}if(n===r)return se=n,i.string;r-=3,n=se}for(i=[],w4[t]=i,i.bytes=e;n<r;)a=fi.getUint32(n),i.push(a),n+=4;for(r+=3;n<r;)a=et[n++],i.push(a);let o=e<16?uy(e):_4(e);return o!=null?i.string=o:i.string=cy(e)}var k4=(e,t)=>{var i=Ui();let n=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,i.highByte=t);let r=si[e];return r&&r.isShared&&((si.restoreStructures||(si.restoreStructures=[]))[e]=r),si[e]=i,i.read=dy(i,n),i.read()},S4=typeof self=="object"?self:global;pr[0]=()=>{},pr[0].noBuffer=!0,pr[101]=()=>{let e=Ui();return(S4[e[0]]||Error)(e[1])},pr[105]=e=>{let t=fi.getUint32(se-4);so||(so=new Map);let i=et[se],n;i>=144&&i<160||i==220||i==221?n=[]:n={};let r={target:n};so.set(t,r);let a=Ui();return r.used?Object.assign(n,a):(r.target=a,a)},pr[112]=e=>{let t=fi.getUint32(se-4),i=so.get(t);return i.used=!0,i.target},pr[115]=()=>new Set(Ui());var A4=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");pr[116]=e=>{let t=e[0],i=A4[t];if(!i)throw new Error("Could not find typed array for code "+t);return new S4[i](Uint8Array.prototype.slice.call(e,1).buffer)},pr[120]=()=>{let e=Ui();return new RegExp(e[0],e[1])},pr[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],i=se;se+=t-4,ea=[Ui(),Ui()],ea.position0=0,ea.position1=0;let n=se;se=i;try{return Ui()}finally{se=n}},pr[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function M4(e){let t=qo,i=se,n=ly,r=ma,a=ps,s=Zo,o=oy,l=so,d=ea,u=new Uint8Array(et.slice(0,qo)),c=si,f=si.slice(0,si.length),h=Dr,p=Ec,m=e();return qo=t,se=i,ly=n,ma=r,ps=a,Zo=s,oy=o,so=l,ea=d,et=u,Ec=p,si=c,si.splice(0,si.length,...f),Dr=h,fi=new DataView(et.buffer,et.byteOffset,et.byteLength),m}function hy(){et=null,so=null,si=null}function QQ(e){e.unpack?pr[e.type]=e.unpack:pr[e.type]=e}var py=new Array(147);for(let e=0;e<256;e++)py[e]=+("1e"+Math.floor(45.15-e*.30103));var zm=new Om({useRecords:!1}),Uhe=zm.unpack,Vhe=zm.unpackMultiple,Hhe=zm.unpack,JQ={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4},$Q=new Float32Array(1),Ghe=new Uint8Array($Q.buffer,0,4),Bm;try{Bm=new TextEncoder}catch(e){}var Lm,my,Fm=typeof op<"u",gy=Fm?op.allocUnsafeSlow:Uint8Array,C4=Fm?op:Uint8Array,E4=Fm?4294967296:2144337920,Ae,Qi,he=0,ms,gs=null,eJ=/[\u0080-\uFFFF]/,Bf=Symbol("record-id"),T4=class extends Om{constructor(e){super(e),this.offset=0;let t,i,n,r,a,s,o=0,l=C4.prototype.utf8Write?function(w,S,A){return Ae.utf8Write(w,S,A)}:Bm&&Bm.encodeInto?function(w,S){return Bm.encodeInto(w,Ae.subarray(S)).written}:!1,d=this;e||(e={});let u=e&&e.sequential,c=e.structures||e.saveStructures,f=e.maxSharedStructures;if(f==null&&(f=c?32:0),f>8160)throw new Error("Maximum maxSharedStructure is 8160");let h=e.maxOwnStructures;h==null&&(h=c?32:64),u&&!e.saveStructures&&(this.structures=[]);let p=f>32||h+f>64,m=f+64,g=f+h+64;if(g>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let v=[],y=0,b=0;this.pack=this.encode=function(w,S){if(Ae||(Ae=new gy(8192),Qi=new DataView(Ae.buffer,0,8192),he=0),ms=Ae.length-10,ms-he<2048?(Ae=new gy(Ae.length),Qi=new DataView(Ae.buffer,0,Ae.length),ms=Ae.length-10,he=0):he=he+7&2147483640,i=he,s=d.structuredClone?new Map:null,d.bundleStrings?(gs=["",""],Ae[he++]=214,Ae[he++]=98,gs.position=he-i,he+=4):gs=null,n=d.structures,n){n.uninitialized&&(n=d._mergeStructures(d.getStructures()));let A=n.sharedLength||0;if(A>f)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+n.sharedLength);if(!n.transitions){n.transitions=Object.create(null);for(let M=0;M<A;M++){let C=n[M];if(!C)continue;let T,P=n.transitions;for(let I=0,j=C.length;I<j;I++){let H=C[I];T=P[H],T||(T=P[H]=Object.create(null)),P=T}P[Bf]=M+64}o=A}u||(n.nextId=A+64)}r&&(r=!1),a=n||[];try{if(_(w),gs){Qi.setUint32(gs.position+i,he-gs.position-i);let A=gs;gs=null,_(A[0]),_(A[1])}if(d.offset=he,s&&s.idsToInsert){he+=s.idsToInsert.length*6,he>ms&&k(he),d.offset=he;let A=iJ(Ae.subarray(i,he),s.idsToInsert);return s=null,A}return S&nJ?(Ae.start=i,Ae.end=he,Ae):Ae.subarray(i,he)}finally{if(n){if(b<10&&b++,y>1e4)n.transitions=null,b=0,y=0,v.length>0&&(v=[]);else if(v.length>0&&!u){for(let A=0,M=v.length;A<M;A++)v[A][Bf]=0;v=[]}if(r&&d.saveStructures){let A=n.sharedLength||f;n.length>A&&(n=n.slice(0,A));let M=Ae.subarray(i,he);return d.saveStructures(n,o)===!1?(d._mergeStructures(d.getStructures()),d.pack(w)):(o=A,M)}}S&rJ&&(he=i)}};let _=w=>{he>ms&&(Ae=k(he));var S=typeof w,A;if(S==="string"){let M=w.length;if(gs&&M>=8&&M<4096){let P=eJ.test(w);gs[P?0:1]+=w,Ae[he++]=193,_(P?-M:M);return}let C;M<32?C=1:M<256?C=2:M<65536?C=3:C=5;let T=M*3;if(he+T>ms&&(Ae=k(he+T)),M<64||!l){let P,I,j,H=he+C;for(P=0;P<M;P++)I=w.charCodeAt(P),I<128?Ae[H++]=I:I<2048?(Ae[H++]=I>>6|192,Ae[H++]=I&63|128):(I&64512)===55296&&((j=w.charCodeAt(P+1))&64512)===56320?(I=65536+((I&1023)<<10)+(j&1023),P++,Ae[H++]=I>>18|240,Ae[H++]=I>>12&63|128,Ae[H++]=I>>6&63|128,Ae[H++]=I&63|128):(Ae[H++]=I>>12|224,Ae[H++]=I>>6&63|128,Ae[H++]=I&63|128);A=H-he-C}else A=l(w,he+C,T);A<32?Ae[he++]=160|A:A<256?(C<2&&Ae.copyWithin(he+2,he+1,he+1+A),Ae[he++]=217,Ae[he++]=A):A<65536?(C<3&&Ae.copyWithin(he+3,he+2,he+2+A),Ae[he++]=218,Ae[he++]=A>>8,Ae[he++]=A&255):(C<5&&Ae.copyWithin(he+5,he+3,he+3+A),Ae[he++]=219,Qi.setUint32(he,A),he+=4),he+=A}else if(S==="number")if(w>>>0===w)w<64?Ae[he++]=w:w<256?(Ae[he++]=204,Ae[he++]=w):w<65536?(Ae[he++]=205,Ae[he++]=w>>8,Ae[he++]=w&255):(Ae[he++]=206,Qi.setUint32(he,w),he+=4);else if(w>>0===w)w>=-32?Ae[he++]=256+w:w>=-128?(Ae[he++]=208,Ae[he++]=w+256):w>=-32768?(Ae[he++]=209,Qi.setInt16(he,w),he+=2):(Ae[he++]=210,Qi.setInt32(he,w),he+=4);else{let M;if((M=this.useFloat32)>0&&w<4294967296&&w>=-2147483648){Ae[he++]=202,Qi.setFloat32(he,w);let C;if(M<4||(C=w*py[(Ae[he]&127)<<1|Ae[he+1]>>7])>>0===C){he+=4;return}else he--}Ae[he++]=203,Qi.setFloat64(he,w),he+=8}else if(S==="object")if(!w)Ae[he++]=192;else{if(s){let C=s.get(w);if(C){if(!C.id){let T=s.idsToInsert||(s.idsToInsert=[]);C.id=T.push(C)}Ae[he++]=214,Ae[he++]=112,Qi.setUint32(he,C.id),he+=4;return}else s.set(w,{offset:he-i})}let M=w.constructor;if(M===Object)x(w,!0);else if(M===Array){A=w.length,A<16?Ae[he++]=144|A:A<65536?(Ae[he++]=220,Ae[he++]=A>>8,Ae[he++]=A&255):(Ae[he++]=221,Qi.setUint32(he,A),he+=4);for(let C=0;C<A;C++)_(w[C])}else if(M===Map){A=w.size,A<16?Ae[he++]=128|A:A<65536?(Ae[he++]=222,Ae[he++]=A>>8,Ae[he++]=A&255):(Ae[he++]=223,Qi.setUint32(he,A),he+=4);for(let[C,T]of w)_(C),_(T)}else{for(let C=0,T=Lm.length;C<T;C++){let P=my[C];if(w instanceof P){let I=Lm[C];if(I.write){I.type&&(Ae[he++]=212,Ae[he++]=I.type,Ae[he++]=0),_(I.write.call(this,w));return}let j=Ae,H=Qi,U=he;Ae=null;let O;try{O=I.pack.call(this,w,F=>(Ae=j,j=null,he+=F,he>ms&&k(he),{target:Ae,targetView:Qi,position:he-F}),_)}finally{j&&(Ae=j,Qi=H,he=U,ms=Ae.length-10)}O&&(O.length+he>ms&&k(O.length+he),he=tJ(O,Ae,he,I.type));return}}x(w,!w.hasOwnProperty)}}else if(S==="boolean")Ae[he++]=w?195:194;else if(S==="bigint"){if(w<BigInt(1)<<BigInt(63)&&w>=-(BigInt(1)<<BigInt(63)))Ae[he++]=211,Qi.setBigInt64(he,w);else if(w<BigInt(1)<<BigInt(64)&&w>0)Ae[he++]=207,Qi.setBigUint64(he,w);else if(this.largeBigIntToFloat)Ae[he++]=203,Qi.setFloat64(he,Number(w));else throw new RangeError(w+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");he+=8}else if(S==="undefined")this.encodeUndefinedAsNil?Ae[he++]=192:(Ae[he++]=212,Ae[he++]=0,Ae[he++]=0);else if(S==="function")_(this.writeFunction&&this.writeFunction());else throw new Error("Unknown type: "+S)},x=this.useRecords===!1?this.variableMapSize?w=>{let S=Object.keys(w),A=S.length;A<16?Ae[he++]=128|A:A<65536?(Ae[he++]=222,Ae[he++]=A>>8,Ae[he++]=A&255):(Ae[he++]=223,Qi.setUint32(he,A),he+=4);let M;for(let C=0;C<A;C++)_(M=S[C]),_(w[M])}:(w,S)=>{Ae[he++]=222;let A=he-i;he+=2;let M=0;for(let C in w)(S||w.hasOwnProperty(C))&&(_(C),_(w[C]),M++);Ae[A+++i]=M>>8,Ae[A+i]=M&255}:w=>{let S=Object.keys(w),A,M=a.transitions||(a.transitions=Object.create(null)),C=0;for(let P=0,I=S.length;P<I;P++){let j=S[P];A=M[j],A||(A=M[j]=Object.create(null),C++),M=A}let T=M[Bf];if(T)T>=96&&p?(Ae[he++]=((T-=96)&31)+96,Ae[he++]=T>>5):Ae[he++]=T;else{T=a.nextId,T||(T=64),T<m&&this.shouldShareStructure&&!this.shouldShareStructure(S)?(T=a.nextOwnId,T<g||(T=m),a.nextOwnId=T+1):(T>=g&&(T=m),a.nextId=T+1);let P=S.highByte=T>=96&&p?T-96>>5:-1;M[Bf]=T,a[T-64]=S,T<m?(S.isShared=!0,a.sharedLength=T-63,r=!0,P>=0?(Ae[he++]=(T&31)+96,Ae[he++]=P):Ae[he++]=T):(P>=0?(Ae[he++]=213,Ae[he++]=114,Ae[he++]=(T&31)+96,Ae[he++]=P):(Ae[he++]=212,Ae[he++]=114,Ae[he++]=T),C&&(y+=b*C),v.length>=h&&(v.shift()[Bf]=0),v.push(M),_(S))}for(let P=0,I=S.length;P<I;P++)_(w[S[P]])},k=w=>{let S;if(w>16777216){if(w-i>E4)throw new Error("Packed buffer would be larger than maximum buffer size");S=Math.min(E4,Math.round(Math.max((w-i)*(w>67108864?1.25:2),4194304)/4096)*4096)}else S=(Math.max(w-i<<2,Ae.length-1)>>12)+1<<12;let A=new gy(S);return Qi=new DataView(A.buffer,0,S),Ae.copy?Ae.copy(A,0,i,w):A.set(Ae.slice(i,w)),he-=i,i=0,ms=A.length-10,Ae=A}}useBuffer(e){Ae=e,Qi=new DataView(Ae.buffer,Ae.byteOffset,Ae.byteLength),he=0}};my=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,h4],Lm=[{pack(e,t,i){let n=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&n>=0&&n<4294967296){let{target:r,targetView:a,position:s}=t(6);r[s++]=214,r[s++]=255,a.setUint32(s,n)}else if(n>0&&n<17179869184){let{target:r,targetView:a,position:s}=t(10);r[s++]=215,r[s++]=255,a.setUint32(s,e.getMilliseconds()*4e6+(n/1e3/4294967296>>0)),a.setUint32(s+4,n)}else if(isNaN(n)){if(this.onInvalidDate)return t(0),i(this.onInvalidDate());let{target:r,targetView:a,position:s}=t(3);r[s++]=212,r[s++]=255,r[s++]=255}else{let{target:r,targetView:a,position:s}=t(15);r[s++]=199,r[s++]=12,r[s++]=255,a.setUint32(s,e.getMilliseconds()*1e6),a.setBigInt64(s+4,BigInt(Math.floor(n)))}}},{pack(e,t,i){let n=Array.from(e),{target:r,position:a}=t(this.structuredClone?3:0);this.structuredClone&&(r[a++]=212,r[a++]=115,r[a++]=0),i(n)}},{pack(e,t,i){let{target:n,position:r}=t(this.structuredClone?3:0);this.structuredClone&&(n[r++]=212,n[r++]=101,n[r++]=0),i([e.name,e.message])}},{pack(e,t,i){let{target:n,position:r}=t(this.structuredClone?3:0);this.structuredClone&&(n[r++]=212,n[r++]=120,n[r++]=0),i([e.source,e.flags])}},{pack(e,t){this.structuredClone?D4(e,16,t):P4(Fm?op.from(e):new Uint8Array(e),t)}},{pack(e,t){let i=e.constructor;i!==C4&&this.structuredClone?D4(e,A4.indexOf(i.name),t):P4(e,t)}},{pack(e,t){let{target:i,position:n}=t(1);i[n]=193}}];function D4(e,t,i,n){let r=e.byteLength;if(r+1<256){var{target:a,position:s}=i(4+r);a[s++]=199,a[s++]=r+1}else if(r+1<65536){var{target:a,position:s}=i(5+r);a[s++]=200,a[s++]=r+1>>8,a[s++]=r+1&255}else{var{target:a,position:s,targetView:o}=i(7+r);a[s++]=201,o.setUint32(s,r+1),s+=4}a[s++]=116,a[s++]=t,a.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s)}function P4(e,t){let i=e.byteLength;var n,r;if(i<256){var{target:n,position:r}=t(i+2);n[r++]=196,n[r++]=i}else if(i<65536){var{target:n,position:r}=t(i+3);n[r++]=197,n[r++]=i>>8,n[r++]=i&255}else{var{target:n,position:r,targetView:a}=t(i+5);n[r++]=198,a.setUint32(r,i),r+=4}n.set(e,r)}function tJ(e,t,i,n){let r=e.length;switch(r){case 1:t[i++]=212;break;case 2:t[i++]=213;break;case 4:t[i++]=214;break;case 8:t[i++]=215;break;case 16:t[i++]=216;break;default:r<256?(t[i++]=199,t[i++]=r):r<65536?(t[i++]=200,t[i++]=r>>8,t[i++]=r&255):(t[i++]=201,t[i++]=r>>24,t[i++]=r>>16&255,t[i++]=r>>8&255,t[i++]=r&255)}return t[i++]=n,t.set(e,i),i+=r,i}function iJ(e,t){let i,n=t.length*6,r=e.length-n;for(t.sort((a,s)=>a.offset>s.offset?1:-1);i=t.pop();){let a=i.offset,s=i.id;e.copyWithin(a+n,a,r),n-=6;let o=a+n;e[o++]=214,e[o++]=105,e[o++]=s>>24,e[o++]=s>>16&255,e[o++]=s>>8&255,e[o++]=s&255,r=a}return e}function Tc(e){if(e.Class){if(!e.pack&&!e.write)throw new Error("Extension has no pack or write function");if(e.pack&&!e.type)throw new Error("Extension has no type (numeric code to identify the extension)");my.unshift(e.Class),Lm.unshift(e)}QQ(e)}var I4=new T4({useRecords:!1}),Whe=I4.pack,qhe=I4.pack,{NEVER:Zhe,ALWAYS:Yhe,DECIMAL_ROUND:Xhe,DECIMAL_FIT:Khe}=JQ,nJ=512,rJ=1024,O4=new T4({structuredClone:!0});Tc({Class:zt.prototype.constructor,type:1,write(e){return R({},e)},read(e){return Object.setPrototypeOf(e,zt.prototype),e}}),Tc({Class:bt.prototype.constructor,type:2,write(e){return[...e]},read(e){return Object.setPrototypeOf(e,bt.prototype),e}}),Tc({Class:Tr.prototype.constructor,type:3,write(e){return[...e]},read(e){return Object.setPrototypeOf(e,Tr.prototype),e}}),Tc({Class:d4.prototype.constructor,type:4,write(e){return e.id},read(e){return new d4(e)}}),Tc({Class:c4.prototype.constructor,type:5,write(e){return e.data},read(e){return new c4(e)}}),Tc({Class:bn.prototype.constructor,type:6,write(e){return R({},e)},read(e){return Object.setPrototypeOf(e,bn.prototype),e}});function aJ(e){var t=0;if(e.length===0)return t;for(let i=0;i<e.length;i++){let n=e[i];t=(t<<5)-t+n,t=t&t}return t}function vy(e){if(J1(e))return e;if(Array.isArray(e))return e.map(vy);if(typeof e=="object"&&e!==null){let t={};for(let i of Object.keys(e).sort())t[i]=vy(e[i]);return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}else return e}var yy;(e=>{function t(r){return O4.pack(r)}e.serialize=t;function i(r){return O4.unpack(r)}e.deserialize=i;function n(r){return aJ(t(vy(r))).toString()}e.checksum=n})(yy||(yy={}));var j4;(e=>{function t(n){return n.type==="Conditional"?n.condition.type==="Distance"?"Distance":"StateChange":n.type}e.toEventUIType=t;function i(n){return n==="Distance"||n==="StateChange"?"Conditional":n}e.fromEventUIType=i})(j4||(j4={}));var ta={LookAt:[],Follow:["Create"],DragDrop:["Transition","Animation","Audio","Create","SetVariable","DynamicVariablePlay","Conditional"],MouseHover:["Transition","Animation","Create","Destroy","SwitchCamera","SceneTransition","SetVariable","DynamicVariablePlay","Conditional"],Scroll:["Transition","Animation","Create","SetVariable","DynamicVariablePlay","Conditional"],Start:["Transition","Animation","Audio","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],Conditional:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MouseDown:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MouseUp:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MousePress:["Transition","Animation","Audio","Video","Link","Create","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyDown:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyUp:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyPress:["Transition","Animation","Audio","Video","Link","Create","SwitchCamera","Reset","SetVariable","DynamicVariablePlay","Conditional"],GameControl:["Transition","Animation","Audio","Create","Conditional"],Collision:["Transition","Animation","Audio","Video","Create","Destroy","Reset","SetVariable","DynamicVariablePlay","Conditional"],Trigger:["Transition","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],Resize:["Transition","Animation","Audio","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],VariableChange:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"]},R4;(e=>{function t(n){return n.type==="MouseDown"||n.type==="MouseUp"||n.type==="MousePress"||n.type==="KeyDown"||n.type==="KeyUp"||n.type==="KeyPress"}e.is=t;function i(n){return n==="MouseDown"||n==="MouseUp"||n==="MousePress"?{type:n,mode:"Object",disabled:!1,runMode:"Once",actions:new bt}:{type:n,disabled:!1,key:void 0,runMode:"Once",actions:new bt}}e.defaultData=i})(R4||(R4={}));var Nm;(e=>{function t(i){return{type:"Property",value:[i!=null?i:null,"position","x"]}}e.propertyDefaultData=t,e.valueDefaultData={type:"Literal",value:0}})(Nm||(Nm={}));var by;(e=>{function t(r){return{type:"Comparison",operator:"==",lOperand:Nm.propertyDefaultData(r),rOperand:R({},Nm.valueDefaultData)}}e.comparisonDefaultData=t;function i(r){return{type:"Distance",toObject:r!=null?r:null,fromObject:r!=null?r:null,distance:200}}e.distanceDefaultData=i;function n(r,a){return{type:"State",object:r!=null?r:null,state:a!=null?a:null}}e.stateDefaultData=n})(by||(by={}));var z4;(e=>{function t(n){return n.type==="Conditional"}e.is=t;function i(n){return{type:"Conditional",disabled:!1,inActions:new bt,outActions:new bt,condition:by.distanceDefaultData(n)}}e.defaultData=i})(z4||(z4={}));var B4;(e=>e.defaultData={type:"DragDrop",cursor:"hand",disabled:!1,dampingFactor:1,objects:[],snapTo:"center",snapSurfaceMode:"bbox",snapSurfaceOffset:0,dropOn:"all",autoOrient:!0,dropDestinations:[],plane:"adaptive",planeMode:"locked",referenceFrame:"global",limits:[-1/0,1/0,-1/0,1/0,-1/0,1/0],drop:!1,resetOnSnapFail:!1,snapSpeed:20,resetSpeed:20,dragDropActions:{drag:new bt,drop:new bt}})(B4||(B4={}));var _y;(e=>e.defaultData={type:"Follow",disabled:!1,maxDelta:0,dampingFactor:1,target:"cursor",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledTranslation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5,actions:new bt})(_y||(_y={}));var wy;(e=>e.defaultData={type:"LookAt",disabled:!1,distance:1e3,dampingFactor:1,target:"cursor",tilt:"up",axis:"z",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledRotation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5})(wy||(wy={}));var L4;(e=>{function t(n){return n.type==="MouseHover"}e.is=t;function i(){return{type:"MouseHover",disabled:!1,actions:new bt}}e.defaultData=i})(L4||(L4={}));var F4;(e=>{function t(n){return n.type==="Scroll"}e.is=t;function i(){return{type:"Scroll",disabled:!1,steps:100,trigger:"load",startFrom:"enter",enterAnchor:"top",startOffset:0,endAfter:400,actions:new bt}}e.defaultData=i})(F4||(F4={}));var N4;(e=>{function t(n){return n.type==="Start"}e.is=t;function i(){return{type:"Start",disabled:!1,actions:new bt}}e.defaultData=i})(N4||(N4={}));var U4;(e=>{function t(n){return n.type==="Collision"}e.is=t;function i(){return{type:"Collision",disabled:!1,runMode:"Once",target:"character",actions:new bt}}e.defaultData=i})(U4||(U4={}));var V4;(e=>{function t(n){return n.type==="Trigger"}e.is=t;function i(n,r){return{type:"Trigger",disabled:!1,runMode:"Once",target:"all",triggeringObjects:[],actions:new bt,triggerZone:"box",position:r.toArray(),rotation:[0,0,0],size:n.toArray(),radius:n.length()/2,helperVisible:!0}}e.defaultData=i})(V4||(V4={}));var xy;(e=>{e.defaultSizes={mobile:[480,480],tablet:[768,768],desktop:[1200,1200],custom:[769,1200]};function t(s){return s.type==="Resize"}e.is=t;function i(s){return typeof s=="string"?s:"custom"}e.sizeToDevice=i;function n(s){return typeof s=="string"?[...e.defaultSizes[s]]:[...s]}e.deviceToSize=n;function r(){let s={size:"mobile",operator:"<",actions:new bt},o={size:"tablet",operator:"<",actions:new bt},l={size:[...e.defaultSizes.custom],operator:"<>",actions:new bt},d=new bt;return d.push({id:at.generateUUID(),fi:0,data:s},{id:at.generateUUID(),fi:1,data:o},{id:at.generateUUID(),fi:2,data:l}),{type:"Resize",disabled:!1,orientation:"horizontal",breakpoints:d}}e.defaultData=r;function a(){return{size:[...e.defaultSizes.custom],operator:"<>",actions:new bt}}e.defaultBreakpointData=a})(xy||(xy={}));var ky;(e=>{e.propertyPaths={Position:["position"],"Position X":["position","x"],"Position Y":["position","y"],"Position Z":["position","z"],Rotation:["rotation"],"Rotation X":["rotation","x"],"Rotation Y":["rotation","y"],"Rotation Z":["rotation","z"],Scale:["scale"],"Scale X":["scale","x"],"Scale Y":["scale","y"],"Scale Z":["scale","z"],Width:["width"],Height:["height"],Depth:["depth"],"Mouse Position X":["mouse","x"],"Mouse Position Y":["mouse","y"],"Mouse Pressed":["mouse","pressed"],"Screen Width":["mouse","width"],"Screen Height":["mouse","height"],"Hit Position X":["raycast","x"],"Hit Position Y":["raycast","y"],"Hit Position Z":["raycast","z"],"Hit Object Position X":["raycast","objX"],"Hit Object Position Y":["raycast","objY"],"Hit Object Position Z":["raycast","objZ"]};function t(n){return n.type==="VariableChange"}e.is=t;function i(){return{disabled:!1,type:"VariableChange",actions:new bt,variableId:"",objectId:null,property:"Position X"}}e.defaultData=i})(ky||(ky={}));var Dc="personal camera",Lf="a218fcc3-276b-49b9-b485-49037fd14f5f",sJ=2960946,ga=5526619,Pc;(e=>{function t(n,r){return n[0]===r[0]&&n[1]===r[1]}e.isEqual=t;function i(n,r,a){return[n[0]+(r[0]-n[0])*a,n[1]+(r[1]-n[1])*a]}e.lerp=i})(Pc||(Pc={}));var ed;(e=>{function t(l,d){return l[0]===d[0]&&l[1]===d[1]&&l[2]===d[2]}e.isEqual=t;function i(l,d){return[l[0]+d[0],l[1]+d[1],l[2]+d[2]]}e.add=i;function n(l,d){return[l[0]-d[0],l[1]-d[1],l[2]-d[2]]}e.sub=n;function r(l,d){return[l[0]/d[0],l[1]/d[1],l[2]/d[2]]}e.div=r;function a(l,d){return[l[0]*d[0],l[1]*d[1],l[2]*d[2]]}e.mul=a;function s(l,d){return Math.hypot(l[0]-d[0],l[1]-d[1],l[2]-d[2])}e.dist=s;function o(l,d,u){return[l[0]+(d[0]-l[0])*u,l[1]+(d[1]-l[1])*u,l[2]+(d[2]-l[2])*u]}e.lerp=o})(ed||(ed={}));var Um;(e=>{function t(n,r){return n[0]===r[0]&&n[1]===r[1]&&n[2]===r[2]&&n[3]===r[3]}e.isEqual=t;function i(n,r,a){return[n[0]+(r[0]-n[0])*a,n[1]+(r[1]-n[1])*a,n[2]+(r[2]-n[2])*a,n[3]+(r[3]-n[3])*a]}e.lerp=i})(Um||(Um={}));var Ic;(e=>{e.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function t(r,a){for(let s=0;s<16;s++)if(r[s]!==a[s])return!1;return!0}e.isEqual=t;function i(r){return r!=null?r:e.identity}e.simplify=i;function n(r,a){let s=a.slice(0);for(var o=0,l=a.length;o<l;o+=3){let d=r[3]*a[o]+r[7]*a[o+1]+r[11]*a[o+2]+r[15];s[o]=(r[0]*a[o]+r[4]*a[o+1]+r[8]*a[o+2]+r[12])/d,s[o+1]=(r[1]*a[o]+r[5]*a[o+1]+r[9]*a[o+2]+r[13])/d,s[o+2]=(r[2]*a[o]+r[6]*a[o+1]+r[10]*a[o+2]+r[14])/d}return s}e.applyMatrix4=n})(Ic||(Ic={}));var mr;(e=>{function t(l){return typeof l=="object"&&typeof l.r=="number"&&typeof l.g=="number"&&typeof l.b=="number"}e.isRGB=t,e.white={r:1,g:1,b:1},e.red={r:1,g:0,b:0},e.black={r:0,g:0,b:0};function i(l){return{r:Math.round(l.r*255),g:Math.round(l.g*255),b:Math.round(l.b*255),a:1}}e.toRgb255a1=i;function n(l){return{r:l.r,g:l.g,b:l.b}}e.clone=n;function r(l){return l=Math.floor(l),{r:(l>>16&255)/255,g:(l>>8&255)/255,b:(l&255)/255}}e.fromHex=r;function a(l){return Math.round(l.r*255)*65536+Math.round(l.g*255)*256+Math.round(l.b*255)}e.toHex=a;function s(l,d){return l.r===d.r&&l.g===d.g&&l.b===d.b}e.equals=s;function o(l,d,u){return{r:l.r+(d.r-l.r)*u,g:l.g+(d.g-l.g)*u,b:l.b+(d.b-l.b)*u}}e.lerp=o})(mr||(mr={}));var Ba;(e=>{e.white=Q(R({},mr.white),{a:1}),e.transparent=Q(R({},mr.white),{a:0});function t(s){return{r:s[0],g:s[1],b:s[2],a:s[3]}}e.from0to1=t;function i(s,o){return Q(R({},mr.fromHex(s)),{a:o})}e.fromHexAndA=i;function n(s){return{r:Math.round(s.r*255),g:Math.round(s.g*255),b:Math.round(s.b*255),a:s.a}}e.toRgb255a1=n;function r(s,o){return mr.equals(s,o)&&s.a===o.a}e.equals=r;function a(s,o,l){return{r:s.r+(o.r-s.r)*l,g:s.g+(o.g-s.g)*l,b:s.b+(o.b-s.b)*l,a:s.a+(o.a-s.a)*l}}e.lerp=a})(Ba||(Ba={}));var Sy;(e=>e.identity={position:[0,0,0],rotation:[0,0,0],scale:[1,1,1]})(Sy||(Sy={}));var H4;(e=>e.defaultData={mass:1,stiffness:80,damping:10,velocity:0})(H4||(H4={}));var G4;(e=>e.defaultData={control1:[.5,0],control2:[.5,1]})(G4||(G4={}));var Yo;(e=>(e.linear=[0,0,1,1],e.ease=[.25,.1,.25,1],e.easeIn=[.42,0,1,1],e.easeOut=[0,0,.58,1],e.easeInOut=[.42,0,.58,1]))(Yo||(Yo={}));function W4(e){return typeof e=="string"&&e.length===36?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e):!1}var td;(e=>{e.all=["PerspectiveCamera","OrthographicCamera"];function t(i){return e.all.includes(i)}e.is=t})(td||(td={}));var Oc;(e=>{e.DefaultUp=[0,1,0],e.DefaultTargetOffset=1e3,e.defaultData={far:1e5,type:"OrthographicCamera",perspective:{near:70,fov:45,zoom:1},orthographic:{near:-1e5,zoom:1},up:e.DefaultUp,isUpVectorFlipped:!1,targetOffset:e.DefaultTargetOffset};function t(i){return i.type==="PerspectiveCamera"?i.perspective.zoom:i.orthographic.zoom}e.getZoom=t})(Oc||(Oc={}));var Xo;(e=>{function t(n,r=.1){return{disabled:!1,type:"linear",hideBase:!1,count:3,radial:{radius:Math.max(n[0],n[1])*2,start:0,end:360,alignment:!1,axis:"y",scale:[1,1,1],rotation:[0,0,0],position:[0,0,0]},toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},linear:{scale:[1,1,1],rotation:[0,0,0],position:[n[0]+n[0]*r,0,0]},grid:{count:[2,2,2],size:n.map(a=>a*(1+r)),useCenter:!0},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}}}e.defaultData=t;function i(n,r){let a=R({},n);if(q4.forEach(s=>{var o;Object.assign(a,{[s]:(o=r[s])!=null?o:n[s]})}),a.radial=R({},n.radial),r.radial){let s=n.radial,o=r.radial;Z4.forEach(l=>{var d;Object.assign(a.radial,{[l]:(d=o[l])!=null?d:s[l]})})}if(a.linear=R({},n.linear),r.linear){let s=n.linear,o=r.linear;Y4.forEach(l=>{var d;Object.assign(a.linear,{[l]:(d=o[l])!=null?d:s[l]})})}if(a.grid=R({},n.grid),r.grid){let s=n.grid,o=r.grid;X4.forEach(l=>{var d;Object.assign(a.grid,{[l]:(d=o[l])!=null?d:s[l]})})}if(a.toObject=R({},n.toObject),r.toObject){let s=n.toObject,o=r.toObject;K4.forEach(l=>{var d;Object.assign(a.toObject,{[l]:(d=o[l])!=null?d:s[l]})})}if(a.randomnessObject=R({},n.randomnessObject),r.randomnessObject){let s=n.randomnessObject,o=r.randomnessObject;Q4.forEach(l=>{var d;Object.assign(a.randomnessObject,{[l]:(d=o[l])!=null?d:s[l]})})}return a}e.merge=i})(Xo||(Xo={}));var Ay;(e=>{e.defaultData={radial:{},linear:{},grid:{},toObject:{},randomnessObject:{}};let t=["radial","linear","grid","toObject","randomnessObject"];function i(n,r){let a=[];n.count!==void 0&&a.push({type:0,path:r,props:{count:n.count}});for(let s of t){let o=n[s];o&&Object.keys(o).length>0&&a.push({type:0,path:[...r,s],props:o})}return a}e.toOps=i})(Ay||(Ay={}));var q4=["count"],Z4=["radius","start","end","position","scale","rotation"],Y4=["position","scale","rotation"],X4=["count","size"],K4=["count","position","scale","rotation"],Q4=["strength","scale","rotation","position","movement","seed","freqScale"],My;(e=>{e.all=["PointLight","SpotLight","DirectionalLight","HemisphereLight"];function t(i){return e.all.includes(i)}e.is=t})(My||(My={}));var Cy;(e=>{function t(n){return i(n)}e.defaultData=t;function i(n){if(n==="PointLight")return{type:n,color:Ba.white,intensity:1,distance:2e3,decay:1,shadows:!0,shadowResolution:1024,shadowRadius:1,penumbraSize:.5,depth:1e5};if(n==="SpotLight")return{type:n,color:Ba.white,intensity:1,distance:2e3,decay:1,shadows:!0,penumbra:0,angle:30/180*Math.PI,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};if(n==="DirectionalLight")return{type:n,color:Ba.white,intensity:1,shadows:!0,size:2e3,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};throw new Error("not implemented")}})(Cy||(Cy={}));var jc;(e=>e.defaultData={enabled:"visibility",fusedBody:!0,rigidBody:"positioned",density:1,pointMass:0,gravityScale:1,friction:.5,damping:0,restitution:.2,colliderType:"convex",enabledRotation:[!0,!0,!0],enabledTranslation:[!0,!0,!0]})(jc||(jc={}));var Ey;(e=>{e.defaultData={castShadow:!0,receiveShadow:!0};function t(i,n){return i.castShadow===n.castShadow&&i.receiveShadow===n.receiveShadow}e.equals=t})(Ey||(Ey={}));var Ty;(e=>{e.defaultData={flatShading:!1,wireframe:!1,side:0};function t(i,n){return i.flatShading===n.flatShading&&i.side===n.side&&i.wireframe===n.wireframe}e.equals=t})(Ty||(Ty={}));var Dy;(e=>e.defaultData=R(R({},Ty.defaultData),Ey.defaultData))(Dy||(Dy={}));var J4;(e=>{function t(i,n){var a,s,o,l;let r=[];if("material"in i){let d=typeof i.material=="string"?(s=n.materials[i.material])!=null?s:(a=n.lib.materials[i.material])==null?void 0:a.asset:i.material;d&&r.push(d)}else if("materials"in i)for(let d of i.materials){let u=typeof d=="string"?(l=n.materials[d])!=null?l:(o=n.lib.materials[d])==null?void 0:o.asset:d;u&&r.push(u)}return r}e.getMaterialData=t})(J4||(J4={}));var Vm;(e=>(e.defaultVideo={data:"",thumb:"/_assets/_videos/catThumb.png",type:"video",name:"Cat video"},e.maxSize=3e7))(Vm||(Vm={}));var $4;(e=>{function t(i){return i==="texture"||i==="video"||i==="color"||i==="depth"||i==="normal"||i==="gradient"||i==="noise"||i==="fresnel"||i==="rainbow"||i==="toon"||i==="outline"||i==="transmission"||i==="matcap"||i==="displace"||i==="pattern"||i==="light"}e.is=t})($4||($4={}));function oJ(e){return e.type!=="displace"}var eE;(e=>{function t(i){return i==="phong"||i==="toon"||i==="lambert"||i==="physical"}e.is=t})(eE||(eE={}));var tE=["mode","gradientType","noiseType","displacementType","projection","cnormal","crop","axis","side"],lJ=["wrapping","image","video","name"],Pr;(e=>{function t(a,s){let d=s,{texture:o}=d,l=Eo(d,["texture"]);if(Object.assign(a,l),o){let u=a.texture;u&&Object.assign(u,o)}}e.patch=t;function i(a,s){return a==="light"&&s?n(s):r(a)}e.defaultData=i;function n(a){let s={mode:0,isMask:!1,visible:!0,bumpMap:void 0,bumpMapIntensity:5,roughnessMap:void 0,alphaOverride:1};switch(a){case"phong":return Q(R({},s),{category:"phong",specular:{r:.2,g:.2,b:.2},shininess:5,type:"light",visible:!0,mode:0,occlusion:!0,alpha:.6});case"toon":return Q(R({},s),{category:"toon",specular:{r:.2,g:.2,b:.2},shininess:10,type:"light",alpha:1});case"lambert":return Q(R({},s),{category:"lambert",emissive:{r:0,g:0,b:0},type:"light",alpha:1,visible:!0,mode:0,occlusion:!0});case"physical":return Q(R({},s),{category:"physical",roughness:.2,metalness:.2,reflectivity:.2,type:"light",alpha:1,visible:!0,mode:0,occlusion:!0})}}function r(a){let s={alpha:1,mode:0,isMask:!1,visible:!0};switch(a){case"texture":return Q(R({},s),{type:"texture",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{image:"image_0",wrapping:1e3,repeat:[1,1],offset:[0,0]},crop:!1});case"video":return Q(R({},s),{type:"video",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{video:Vm.defaultVideo,wrapping:1001,repeat:[1,1],offset:[0,0]},crop:!1});case"color":return Q(R({},s),{type:"color",color:mr.fromHex(ga)});case"depth":return Q(R({},s),{type:"depth",gradientType:1,smooth:!1,isVector:!0,isWorldSpace:!1,origin:[0,0,0],direction:[1,0,0],colors:[[1,1,1,1],[0,0,0,1]],steps:[0,1],near:50,far:200});case"normal":return Q(R({},s),{type:"normal",cnormal:[1,1,1]});case"gradient":return Q(R({},s),{type:"gradient",gradientType:0,smooth:!1,colors:[[0,0,0,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,1,1,1,1,1,1,1,1,1],num:2,angle:0,offset:[0,0],morph:[0,0]});case"noise":return Q(R({},s),{type:"noise",size:[100,100,100],noiseType:0,scale:1,move:1,colorA:Q(R({},mr.fromHex(6710886)),{a:1}),colorB:Q(R({},mr.fromHex(6710886)),{a:1}),colorC:Q(R({},mr.fromHex(16777215)),{a:1}),colorD:Q(R({},mr.fromHex(16777215)),{a:1}),distortion:[1,1],fA:[1.7,9.2],fB:[8.3,2.8],voronoiStyle:0,highCut:1,lowCut:0,smoothness:.3,seed:0,quality:1});case"fresnel":return Q(R({},s),{type:"fresnel",color:Ba.fromHexAndA(16777215,1),bias:.1,scale:1,intensity:2,factor:1});case"rainbow":return Q(R({},s),{type:"rainbow",filmThickness:30,movement:0,wavelengths:[0,0,0],noiseStrength:0,noiseScale:1,offset:[0,0,0]});case"toon":return Q(R({},s),{type:"toon",positioning:2,colors:[[0,0,0,1],[.5,.5,.5,1],[.5,.5,.5,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,.475,.525,1,1,1,1,1,1,1],num:4,source:[0,1e3,0],isWorldSpace:!0,noiseStrength:0,noiseScale:1,shadowColor:Ba.fromHexAndA(0,0),offset:[0,0,0]});case"outline":return Q(R({},s),{type:"outline",outlineColor:Ba.fromHexAndA(0,1),contourColor:Ba.fromHexAndA(0,1),outlineWidth:2,contourWidth:5,outlineThreshold:.4,contourThreshold:0,outlineSmoothing:0,contourFrequency:10,contourDirection:[0,1,0],positionalLines:!1,compensation:!0});case"matcap":return Q(R({},s),{type:"matcap",texture:{image:"matcap_0",wrapping:1001,repeat:[1,1],offset:[0,0]}});case"transmission":return Q(R({},s),{type:"transmission",thickness:10,ior:1.5,roughness:1});case"displace":return{visible:!0,type:"displace",displacementType:"noise",noiseType:0,scale:10,movement:1,offset:[0,0,0],intensity:8,voronoiStyle:0,smoothness:.3,seed:0,highCut:1,lowCut:0,quality:1};case"pattern":return Q(R({},s),{type:"pattern",style:0,projection:0,axis:"y",blending:0,offset:[0,0],colorA:Q(R({},mr.fromHex(0)),{a:1}),colorB:Q(R({},mr.fromHex(16777215)),{a:1}),frequency:[10,10],size:.5,variation:0,smoothness:.5,zigzag:0,rotation:0,vertical:[0,1],horizontal:[0,1],sides:6})}}})(Pr||(Pr={}));var $n;(e=>{function t(d){return!d.layers.some(u=>u.data.type==="texture"&&u.data.projection!==0||u.data.type==="depth"&&!u.data.isWorldSpace||u.data.type==="noise"||u.data.type==="displace")}e.isMergable=t;function i(d){let u="";return d.layers.forEach(c=>{Object.entries(c.data).forEach(([f,h])=>{u+=`${f}${h}`,Array.isArray(h)?h.forEach(p=>u+=`${p}`):typeof h=="object"?Object.values(h).forEach(p=>{typeof p=="number"?u+=`${p.toFixed(4)}`:u+=`${p}`}):u+=`${h}`})}),u}e.getHash=i;function n(){return{layers:new bt}}e.defaultEmptyData=n;function r(d="layer1",u="layer2"){return s("phong",d,u)}e.defaultData=r;function a(d,u){return Q(R({},d),{name:u})}e.withName=a;function s(d,u="layer1",c="layer2"){let f=new bt;return f.push({fi:0,data:Pr.defaultData("light",d),id:u}),f.push({fi:1,data:Pr.defaultData("color"),id:c}),{layers:f}}e.defaultTwoLayerData=s;function o(d,u="phong",c="layer1",f="layer2"){let h=Pr.defaultData("texture");Object.assign(h.texture,{image:d});let p=new bt;return p.push({fi:0,data:h,id:c}),p.push({fi:1,data:Pr.defaultData("light",u),id:f}),{layers:p}}e.defaultTwoLayerTextureData=o;function l(d,u="phong",c="layer1",f="layer2"){let h=Pr.defaultData("video");Object.assign(h.texture,{video:d});let p=new bt;return p.push({fi:0,data:h,id:c}),p.push({fi:1,data:Pr.defaultData("light",u),id:f}),{layers:p}}e.defaultTwoLayerVideoTextureData=l})($n||($n={}));var Hm;(e=>{function t(){return{points:new bt,roundness:0,shapeHoles:[],isClosed:!1}}e.defaultData=t})(Hm||(Hm={}));var Gm;(e=>{function t(){return{points:new bt,lastInsertionPlane:null,subdivisions:12,isClosed:!1}}e.defaultData=t})(Gm||(Gm={}));var iE={type:"Ellipse",width:50,height:50,spikes:16,angle:360,innerRadius:0},Py;(e=>{function t(i,n){let r=R({},i);return rE.forEach(a=>{var s;Object.assign(r,{[a]:(s=n[a])!=null?s:i[a]})}),r}e.merge=t})(Py||(Py={}));var nE={shape:iE,depth:1,offset:0,bevel:50,bevelSides:6,angle:0,twist:0,startScale:1,endScale:1,capType:"flat"},rE=["depth","offset","angle","twist","startScale","endScale"],Wm;(e=>{function t(n){return n==="PolygonGeometry"||n==="RectangleGeometry"||n==="StarGeometry"||n==="TriangleGeometry"||n==="EllipseGeometry"}e.is2DParametricMesh=t;function i(n){return n==="PolygonGeometry"||n==="PolygonGeometry"||n==="RectangleGeometry"||n==="StarGeometry"||n==="TriangleGeometry"||n==="EllipseGeometry"||n==="PathGeometry"||n==="VectorGeometry"||n==="ConeGeometry"||n==="CubeGeometry"||n==="CylinderGeometry"||n==="DodecahedronGeometry"||n==="HelixGeometry"||n==="IcosahedronGeometry"||n==="LatheGeometry"||n==="PyramidGeometry"||n==="SphereGeometry"||n==="PlaneGeometry"||n==="BackdropGeometry"||n==="TorusGeometry"||n==="TorusKnotGeometry"||n==="BooleanGeometry"||n==="TextGeometry"}e.isParametricMesh=i})(Wm||(Wm={}));var Iy;(e=>{function t(i,n){let r=R({},i);return Object.assign(r,n),r.type==="PathGeometry"&&"extrusion"in n&&n.extrusion&&(r.extrusion=R({},i.extrusion),Object.assign(r.extrusion,Py.merge(r.extrusion,n.extrusion))),r}e.merge=t})(Iy||(Iy={}));var Rc;(e=>{function t(i){if(i==="RectangleGeometry")return{width:320,height:320,type:i,cornerRadius:[0,0,0,0],cornerType:0,depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if(i==="PathGeometry")return{type:i,width:1,height:1,depth:1,path:Gm.defaultData(),extrusion:nE};if(i==="VectorGeometry")return{width:1,height:1,type:i,subdivisions:12,shape:Hm.defaultData(),depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if(i==="BooleanGeometry")return{type:i,operation:2,width:0,height:0,depth:0,phongAngle:35};if(i==="TextGeometry")return{type:i,width:100,height:100,depth:0,horizontalAlign:1,verticalAlign:1,fontSize:16,lineHeight:1.2,letterSpacing:0,text:{textValue:""},textTransform:1,font:"Roboto_regular",extrudeBevelSize:0,extrudeBevelSegments:1};if(i==="SphereGeometry")return{type:"SphereGeometry",width:100,height:100,depth:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180};throw new Error("not implemented")}e.defaultData=t})(Rc||(Rc={}));var aE=["width","height","depth"],Oy;(e=>e.defaultData={enabled:!1,useBackgroundColor:!1,color:mr.white,near:.1,far:2e3})(Oy||(Oy={}));var qm;(e=>{let t={opacity:1,blendFunction:13,enabled:!1};e.defaultData={enabled:!1,pixelation:Q(R({},t),{blendFunction:16,granularity:15}),bloom:Q(R({},t),{blendFunction:16,intensity:1,blurScale:1,luminanceThreshold:.25,luminanceSmoothing:.025,kernelSize:3}),chromaticAberration:Q(R({},t),{offset:[2,2]}),vignette:Q(R({},t),{darkness:1,offset:0}),hueSaturation:Q(R({},t),{hue:3,saturation:0}),brightnessContrast:Q(R({},t),{brightness:.25,contrast:0}),depthOfField:Q(R({},t),{focalLength:2,focusDistance:2,bokehScale:2}),noise:Q(R({},t),{blendFunction:16})}})(qm||(qm={}));var jy;(e=>e.defaultData={softShadowQuality:"low"})(jy||(jy={}));var Ry;(e=>e.defaultData={enabled:!0,color:{r:.8274509803921568,g:.8274509803921568,b:.8274509803921568},intensity:.75})(Ry||(Ry={}));var zy;(e=>e.defaultData={occlusion:!1,aoFullRes:!1,radius:256,bias:.5,aoColor:{r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}})(zy||(zy={}));var zc;(e=>e.defaultData={usePhysics:!1,gravity:-10})(zc||(zc={}));var By;(e=>e.defaultData={playCamera:Dc,gameControlObject:null})(By||(By={}));var Ly;(e=>e.defaultData={backgroundColor:Ba.fromHexAndA(sJ,1),postprocessing:qm.defaultData,fog:Oy.defaultData,globalPhysics:zc.defaultData,ambient:Ry.defaultData,ao:zy.defaultData,shadow:jy.defaultData,publish:By.defaultData})(Ly||(Ly={}));var sE;(e=>{function t(n){return n==="Component"||n==="Instance"}e.isComponentRelated=t;function i(n){return n==="Empty"||n==="Instance"}e.isEmptyOrComponent=i})(sE||(sE={}));var Bc;(e=>{e.identity=Q(R({},Sy.identity),{hiddenMatrix:Ic.identity});function t(r){return{position:r.position,rotation:r.rotation,scale:r.scale,hiddenMatrix:r.hiddenMatrix}}e.fromObject=t;function i(r,a){return{position:(a==null?void 0:a.position)||r.position,rotation:(a==null?void 0:a.rotation)||r.rotation,scale:(a==null?void 0:a.scale)||r.scale,hiddenMatrix:(a==null?void 0:a.hiddenMatrix)||r.hiddenMatrix}}e.merge=i;function n(r,a){return gQ({position:ed.isEqual(r.position,a.position)?void 0:a.position,rotation:ed.isEqual(r.rotation,a.rotation)?void 0:a.rotation,scale:ed.isEqual(r.scale,a.scale)?null:a.scale,hiddenMatrix:Ic.isEqual(r.hiddenMatrix,a.hiddenMatrix)?void 0:a.hiddenMatrix})}e.diff=n})(Bc||(Bc={}));var gr;(e=>e.defaultData=Q(R({states:new bt,events:new bt,visible:!0,raycastLock:!1,physics:jc.defaultData,pathSnapping:{pathId:null,slide:0,offset:0,orientation:"tangential"}},Bc.identity),{cloner:null}))(gr||(gr={}));var Fy;(e=>e.defaultData=R({type:"Empty"},gr.defaultData))(Fy||(Fy={}));var oE;(e=>e.defaultData=R({type:"Component"},gr.defaultData))(oE||(oE={}));var Lc;(e=>e.defaultData=R(R({type:"Mesh"},gr.defaultData),Dy.defaultData))(Lc||(Lc={}));var Ff;(e=>e.defaultData=R(Q(R(R({},gr.defaultData),Bc.identity),{position:[0,0,Oc.DefaultTargetOffset]}),Oc.defaultData))(Ff||(Ff={}));var Ny;(e=>{function t(i){return R(R({},gr.defaultData),Cy.defaultData(i))}e.defaultData=t,e.defaultDirectionalLightData=Q(R({},e.defaultData("DirectionalLight")),{position:[200,300,300],name:"Directional Light",intensity:.7})})(Ny||(Ny={}));var Zm;(e=>{function t(n,r,a=0){for(;a<r.length;){let s=n?n[r[a]]:void 0;if(r.length===a+1)return s;if(s)n=s.descendants,a+=1;else return}}e.resolveWithDes=t;function i(n,r,a=0){let s=t(n,r,a);if(s){let o=Object.keys(s);if(o.length===1&&o[0]==="descendants")return}return s}e.resolve=i})(Zm||(Zm={}));var Ko;(e=>{e.rootOverrideProps=["physics","events"],e.compositeNonOptionalOverrideProps=["geometry"],e.compositeEntireOverrideOverrideProps=["material"];function t(n,r){return Q(R(R({},gr.defaultData),r),{component:n,overrides:new bn,physics:void 0,events:void 0,type:"Instance"})}e.ofComponent=t;function i(n){let r=Bc.fromObject(n.data);return t(n.id,r)}e.fromComponentData=i})(Ko||(Ko={}));var Fc;(e=>e.defaultData=Q(R(Q(R({type:"Page"},gr.defaultData),{physics:Q(R({},jc.defaultData),{fusedBody:!1})}),Ly.defaultData),{camera:Ff.defaultData}))(Fc||(Fc={}));var Uy;(e=>(e.defaultCamera=R({position:[0,0,1e3],scale:[1,1,1],rotation:[0,0,0],hiddenMatrix:Ic.identity,name:"Play Camera",visible:!0,raycastLock:!1,physics:jc.defaultData,states:new bt,events:new bt,cloner:null,pathSnapping:{pathId:null,orientation:"tangential",slide:0,offset:0}},Oc.defaultData),e.KeysByResetCategory={States:["states"],Events:["events"],Material:["material","materials"],Geometry:["geometry"],Position:["position"],Rotation:["rotation"],Scale:["scale"],Transform:["position","scale","rotation","hiddenMatrix"],Name:["name"],Visibility:["visible","raycastLock","flatShading","wireframe","side"],Shadows:["castShadow","receiveShadow"],Cloner:["cloner"],Physics:["physics"]},e.defaultMeshObject=Q(R(R({name:"Rectangle"},gr.defaultData),Lc.defaultData),{geometry:Rc.defaultData("RectangleGeometry"),material:$n.defaultTwoLayerData("phong","layer1","layer2")}),e.defaultBooleanObject=Q(R(R({name:"Boolean"},gr.defaultData),Lc.defaultData),{geometry:Rc.defaultData("BooleanGeometry"),material:$n.defaultTwoLayerData("phong","layer1","layer2")}),e.defaultTextObject=Q(R(R({name:"Text"},gr.defaultData),Lc.defaultData),{geometry:Rc.defaultData("TextGeometry"),material:$n.defaultTwoLayerData("phong","layer1","layer2")})))(Uy||(Uy={}));var id;(e=>{function t(a,s){let o={name:s};return a.type==="Mesh"?(o.geometry={},"material"in a&&(o.material={layers:new bn}),"materials"in a&&(o.materials=a.materials.map(l=>({layers:new bn})))):td.is(a.type)&&(o.perspective={},o.orthographic={}),o}e.newEmpty=t;function i(a,s){if(s===void 0)return a;let o=R({},a);return"material"in o&&"material"in s&&s.material&&(o.material=zf(o.material,l=>{if(typeof l!="string")for(let[d,u]of Object.entries(s.material.layers)){let c=l.layers.data(d);c&&Pr.patch(c,u)}}).data),o.materials&&s.materials&&(o.materials=zf(o.materials,l=>{var d,u;for(let c=0;c<o.materials.length;c++){let f=s.materials[c];if(typeof f!="string")for(let[h,p]of Object.entries(f.layers)){let m=(u=(d=l[c])==null?void 0:d.layers)==null?void 0:u.data(h);m&&Pr.patch(m,p)}}}).data),o}function n(a,s){let o,l=[],d={orthographic:0,perspective:0,geometry:0};function u(c,f){for(let[p,m]of Object.entries(f.layers)){let h=m,{texture:g}=h,v=Eo(h,["texture"]);if(g!==void 0&&Object.keys(g).length>0){let y={path:[...c,"layers",p,"texture"],props:g,type:0};l.push(y)}if(Object.keys(v).length>0){let y={path:[...c,"layers",p],props:v,type:0};l.push(y)}}}for(let[c,f]of Object.entries(s))if(c!=="name")if(c==="cloner")l.push(...Ay.toOps(f,["cloner"]));else if(c==="pathSnapping")l.push({path:[c],props:{slide:f.slide,offset:f.offset},type:0});else if(c==="material")u(["material"],f);else if(c==="materials")for(let[h,p]of Object.entries(f))u(["materials",h],p);else if(d[c]===0){if(c==="geometry"&&f.extrusion!==void 0){let h={path:[c,"extrusion"],props:f.extrusion,type:0};l.push(h),f=R({},f),delete f.extrusion}if(Object.keys(f).length>0){let h={path:[c],props:f,type:0};l.push(h)}}else o===void 0&&(o={path:[],props:{},type:0},l.push(o)),o.props[c]=f;return l}e.toOps=n;function r(a,s){var l,d,u,c,f,h,p,m,g,v;if(s===void 0)return a;let o=R({},a);if(Object.assign(o,Bc.merge(o,s)),Object.assign(o,{pathSnapping:Object.assign({},o.pathSnapping,{slide:(c=(u=(l=s.pathSnapping)==null?void 0:l.slide)!=null?u:(d=o.pathSnapping)==null?void 0:d.slide)!=null?c:0,offset:(m=(p=(f=s.pathSnapping)==null?void 0:f.offset)!=null?p:(h=o.pathSnapping)==null?void 0:h.offset)!=null?m:0})}),td.is(a.type)){o.orthographic=R({},o.orthographic),o.perspective=R({},o.perspective);let y=s;((g=y.orthographic)==null?void 0:g.zoom)!==void 0&&(o.orthographic.zoom=y.orthographic.zoom),((v=y.perspective)==null?void 0:v.zoom)!==void 0&&(o.perspective.zoom=y.perspective.zoom),y.isUpVectorFlipped!==void 0&&(o.isUpVectorFlipped=y.isUpVectorFlipped),y.targetOffset!==void 0&&(o.targetOffset=y.targetOffset)}else if(a.type==="Mesh")"geometry"in s&&Object.assign(o,{geometry:Iy.merge(o.geometry,s.geometry)}),(s.material||s.materials)&&(o=i(o,s)),o.cloner&&"cloner"in s&&Object.assign(o,{cloner:Xo.merge(o.cloner,s.cloner)});else if(a.type==="Empty")o.cloner&&"cloner"in s&&Object.assign(o,{cloner:Xo.merge(o.cloner,s.cloner)});else if(My.is(a.type)){let y=s;y.intensity!==void 0&&(o.intensity=y.intensity),y.color!==void 0&&(typeof y.color=="string"?o.color=y.color:o.color=mr.clone(y.color))}return o}e.patch=r})(id||(id={}));var Ym;(e=>e.defaultData={enablePan:!0,enableZoom:!0,enableRotate:!0,enableDamping:!0,rotationLimitsMode:0,rotationVerticalOffset:{min:Math.PI/4,max:Math.PI/4},rotationHorizontalOffset:{min:Math.PI/4,max:Math.PI/4},rotationSoftLimit:2,panLimitsMode:0,panVerticalOffset:{min:250,max:250},panHorizontalOffset:{min:250,max:250},panSoftLimit:2,zoomLimitsEnabled:!1,zoomLimits:{min:.1,max:2},autoRotate:!1,autoRotateSpeed:2,autoRotateClockwise:!0,hoverRotatePanMode:0,hoverRotatePanStrength:20,hoverRotateDamping:.125,isTouchZoom:!0,orbitTouches:2,panTouches:3,resetHoverEffectOnPointerLeave:!0})(Ym||(Ym={}));var nd;(e=>e.defaultData={orbitControls:Ym.defaultData,playPage:Lf,withBackground:!0,preventScroll:!1,preventTouchScroll:!1,hideCursor:!1,mouseEventTarget:"canvas",joystickSizeAndXYOffset:Array(12).fill(0).map((t,i)=>{let n=0,r=0;return i<5?r=-30:i<10&&(r=30),i===0||i===10||i===5?n=30:(i===4||i===11||i===9)&&(n=-30),[120,[n,r],"show"]}),settings:{image:{format:"jpg",ratio:1},video:{format:"mp4",imageFormat:"jpg",fps:30,mbps:80,ratio:Math.max(1,typeof window<"u"?Math.floor(window.devicePixelRatio):1),stopMode:"manual",duration:5e3},web:{logo:!0,compress:!0,preset:1,preload:!0,hint:!1}},stopRaycast:!0,hdTransmission:!1})(nd||(nd={}));var Vy;(e=>e.defaultData={id:"basic",label:"Basic",style:"None",prompt:""})(Vy||(Vy={}));var Hy;(e=>e.defaultData={weather:0,shadows:0,lightOrigin:0,temperature:0,sun:0,camera:0,environment:0,particles:0,nature:0,floor:0})(Hy||(Hy={}));var Nc;(e=>(e.defaultData=()=>({mode:"line-art-both",prompt:"",negativePrompt:"",style:R({},Vy.defaultData),isRandomSeed:!0,seed:e.generateSeed(),guessMode:!1,advanced:!1,steps:20,guidanceScale:7.5,controlNetScale:1,modifiers:Hy.defaultData}),e.generateSeed=()=>Math.round(Math.random()*1e5)))(Nc||(Nc={}));var Nf;(e=>{function t(n){return n.find(r=>r.data.type==="Page"&&r.data.globalPhysics.usePhysics)!==void 0}e.physicsEnabled=t;function i(n,r,a){n.scene.objects.traverseFrom(r,(s,o)=>{var l;if(o.type==="Instance"){let d=(l=Jm.getComponentData(n,o.component))==null?void 0:l.data;d&&a(s,o,d.events)}else a(s,o,o.events)})}e.traverseModuleInstances=i})(Nf||(Nf={}));var Uc;(e=>{e.TRASH_CAN_ID="830a2708-8ed9-49cf-a68e-085299892222";function t(r={withLight:!0,withSquare:!0}){let a=[],s=Uy.defaultMeshObject;r.withLight===!0&&a.push({fi:-1,data:Ny.defaultDirectionalLightData,id:"830a2708-8ed9-49cf-a68e-085299899103",children:[]}),r.withSquare===!0&&a.push({fi:1,id:"7ba78968-2a55-48f2-b14c-5191da3e075e",data:s,children:[]});let o=new Tr;return o.push({fi:1,id:Lf,data:Q(R({},Fc.defaultData),{name:"Scene 1"}),children:a}),o}e.defaultData={objects:t(),publish:nd.defaultData,styles:Nc.defaultData()},e.emptyDataWithoutPage=function(){return{objects:new Tr,publish:nd.defaultData,styles:Nc.defaultData()}},e.emptyDataWithPage=function(r){return{objects:t(r),publish:nd.defaultData,styles:Nc.defaultData()}};function i(r){return Q(R({},e.defaultData),{objects:ao(r,Tr.prototype)})}e.withObjs=i;function n(r,a){return i([{id:r,data:a,children:[],fi:0}])}e.withObj=n})(Uc||(Uc={}));var Uf;(e=>e.defaultData={preset:"fullscreen",allowResponsive:!1,size:[512,512],coords:[0,0],sceneScale:1,color:{r:0,g:0,b:0,a:.5}})(Uf||(Uf={}));var Xm;(e=>e.emptyImage={data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=",name:"empty"})(Xm||(Xm={}));var ia;(e=>{function t(s){return s.textValue!==void 0}e.isTextValue=t;function i(s){return typeof s=="number"}e.isNumber=i;function n(s){return typeof s=="boolean"}e.isBoolean=n;function r(s){return t(s)?"string":n(s)?"boolean":"number"}e.typeOfVariable=r;function a(s){var o;return e.isTextValue(s)?Array.isArray(s.textValue)?s.textValue.map(l=>{var d;return l.toString().padStart((d=s.padding)!=null?d:2,"0")}).join((o=s.deliminator)!=null?o:":")+(s.suffix!==void 0?" "+s.suffix:""):s.textValue.toString():e.isBoolean(s)?s?"True":"False":e.isNumber(s)?parseFloat(s.toFixed(3)).toString():s.toString()}e.getDisplayedValue=a})(ia||(ia={}));var Gy;(e=>e.all=["images","videos","colors","audios","fonts","materials","variables"])(Gy||(Gy={}));var lE;(e=>e.all=[...Gy.all,"components"])(lE||(lE={}));var dE;(e=>{function t(){return{images:new zt,videos:new zt,colors:new zt,audios:new zt,fonts:new zt,materials:new zt,components:new zt,variables:new zt}}e.defaultData=t})(dE||(dE={}));var Vc;(e=>{function t(){return{images:new zt,videos:new zt,colors:new zt,audios:new zt,fonts:new zt,materials:new zt,components:new zt,variables:new zt}}e.defaultData=t})(Vc||(Vc={}));var La;(e=>{function t(){let s={};return s["89b10010-844c-11ec-a8a3-0242ac120002"]={r:.5,g:.5,b:.5,a:1,name:"Default Color"},ao(s,zt.prototype)}e.defaultColors=t;function i(s){let o={};return s!=null&&s.withAITexture&&(o["a1b10010-844c-a8a3-11ec-0242ac2011ec"]=Q(R({},Xm.emptyImage),{name:"AI generated image"})),ao(o,zt.prototype)}e.defaultImages=i;function n(){return{catelogs:new zt,materials:new zt,images:new zt,videos:new zt,colors:new zt,audios:new zt,fonts:new zt,variables:new bt,lib:Vc.defaultData()}}e.emptyData=n;function r(s){switch(s){case"number":return{value:0,name:"Number"};case"boolean":return{value:!1,name:"Boolean"};case"string":return{value:{textValue:"String value"},name:"String"};case"time":let o=[0,0,0];return{name:"Time",value:{textValue:o,deliminator:":",padding:2,suffix:"AM"},dynamicVariableType:"time",format:"HH:mm:ss",format12h24h:"12ampm",timeZone:null,hasEnd:!1,endValue:{textValue:o,deliminator:":",padding:2,suffix:"AM"},autoStart:!0,repeat:!1};case"counter":return{name:"Counter",value:0,dynamicVariableType:"counter",updateInterval:1e3,increment:1,autoStart:!0,hasEnd:!0,endValue:60,repeat:!0,randomStart:!1,range:[0,100],decimals:0};case"random":return{name:"Random",value:0,dynamicVariableType:"random",updateInterval:1e3,increment:1,autoStart:!0,isStatic:!1,hasEnd:!0,endValue:60,repeat:!0,min:0,max:100,decimals:0};default:console.error("Unknown variable type",s)}}e.defaultVariables=r;function a(s,o){if(o.format==="HH:mm:ss"){let l=Math.floor(s/3600),d=Math.floor((s-l*3600)/60),u=Math.round(s-l*3600-d*60);return{textValue:[l,d,u]}}else if(o.format==="mm:ss"){let l=Math.floor(s/60),d=Math.round(s-l*60);return{textValue:[l,d]}}else return o.format==="number"?s=Math.round(s):s=Math.round(s*1e3)/1e3,s}e.getFormattedTimerTime=a})(La||(La={}));var Km;(e=>e.list=["idle","move","jump","run"])(Km||(Km={}));var Qm;(e=>(e.defaultColliderData={type:"capsule",height:200,radius:50,position:[0,0,0],rotation:[0,0,0]},e.defaultDataThirdPerson={moveMode:"walk",forwardDirection:"+z",speedTranslate:1e3,speedRotate:100,runMultiplier:2,rotationMode:"normal",rotBy:"keys",rotByTouch:"drag",delayPos:[.3,.3],delayRot:[.3,.3],keyAssignments:[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","\u25B2"],["rotPosY","\u25C0"],["rotNegX","\u25BC"],["rotNegY","\u25B6"],["jump","Space"],["run","\u21E7"],["none","Ctrl"]],touchControl:!0,joystickPosLoc:5,joystickRotLoc:11,jumpTouchButtonLoc:9,collider:e.defaultColliderData,colliderHelperVisible:!0,collisionEnabled:!0,jumpPower:100,resetYPosition:3e3,alignToGround:!1,autoOrientMove:!0,orientWith:"camera",orientMode:"radial",delayPosCamera:.3,delayRotCamera:.3,camera:"",cameraXAxis:"Limit",cameraYAxis:"Free",cameraRotXLimits:[0,Math.PI/2],cameraRotYLimits:[-Math.PI/2,Math.PI/2],gameActions:{idle:new bt,move:new bt,jump:new bt,run:new bt},navmesh:{enabled:!1,ch:6,cs:6,walkableClimb:5,walkableHeight:1,walkableRadius:0,zones:"all",objects:[],helperVisible:!0,destinationHelperRadius:0,destinationHelperColor:Ba.fromHexAndA(3728051,1)}}))(Qm||(Qm={}));function cE(e){e.layers.forEach(t=>{if(t.type==="depth"&&t.colorA!==void 0){let i=t.colorA,n=t.colorB,r=[[i.r,i.g,i.b,i.a],[n.r,n.g,n.b,n.a]],a=[0,1];for(let o=2;o<10;o++)r.push(r[1]),a.push(1);let s=Q(R({},ro(dn(t),"type","visible","isVector","isWorldSpace","origin","alpha","mode")),{near:Math.max(0,t.near),far:Math.max(0,t.far),colors:r,steps:a,num:2,direction:[1,0,0],smooth:!1,gradientType:1});Object.assign(t,s)}else if(t.type==="depth"&&t.gradientType===1&&(t.near<0||t.far<0)){let i=Q(R({},dn(t)),{near:Math.max(t.near,0),far:Math.max(t.far,0)});Object.assign(t,i)}})}function Qo(e,t){Object.values(e.shared.materials).forEach(i=>t(i))}function Jo(e,t){e.scene.objects.traverse((i,n)=>{"materials"in n?n.materials.forEach((r,a)=>{r===void 0&&(n.materials[a]=$n.defaultData(),r=n.materials[a]),typeof r!="string"&&t(r)}):"material"in n?typeof n.material!="string"&&(n.material===void 0&&(n.material=$n.defaultData()),t(n.material)):n.type==="Mesh"&&(n.material===void 0&&(n.material=$n.defaultData()),t(n.material)),"overrides"in n&&Object.values(n.overrides).forEach(r=>{r.material&&typeof r.material!="string"&&t(r.material)})})}function dJ(e){Object.assign(e.scene.publish,{orbitControls:R(R({},Ym.defaultData),dn(e.scene.publish.orbitControls))})}function cJ(e){Object.assign(e.scene.publish.settings,{video:R(R({},nd.defaultData.settings.video),dn(e.scene.publish.settings.video))})}function uJ(e){function t(i){if(i.layers){for(let n of Object.values(i.layers))if(n){for(let[r,a]of Object.entries(n))if((tE.includes(r)||typeof a=="boolean")&&delete n[r],r==="texture")for(let[s,o]of Object.entries(a))(lJ.includes(s)||typeof o=="boolean")&&delete a[s]}}}e.scene.objects.traverse((i,n)=>{n.states.forEach(r=>{let a=r;a.material?t(a.material):a.materials&&a.materials.forEach(s=>{t(s)})})})}function fJ(e){e.scene.publish.withBackground=!0}function hJ(e){e.scene.publish.settings.web={compress:!0,preload:!0,preset:1,logo:!0,hint:!1}}function pJ(e){e.scene.objects.traverse((t,i)=>{let n=i.cloner;n&&(n.radial.scale=n.radial.scale.map(r=>r+1),n.linear.scale=n.linear.scale.map(r=>r+1))})}function mJ(e){e.scene.objects.traverse((t,i)=>{let n=i.geometry;n&&(n.type==="DodecahedronGeometry"||n.type==="IcosahedronGeometry")&&(n.detail=Math.round(n.detail))})}function gJ(e){e.scene.objects.traverse((t,i)=>{let n=e.scene.objects.unproxy().parent(t);if(n){let r=dn(e.scene.objects.data(n));r&&r.type==="Mesh"&&r.geometry.type==="BooleanGeometry"&&i.type==="Mesh"&&(i.visible=dn(i).booleanExclude!==!0)}})}function vJ(e){e.scene.objects.traverse((t,i)=>{if(i.type==="Mesh"){let n=i;i.geometry.type==="NonParametricGeometry"?n.material!==void 0&&delete n.material:n.materials!==void 0&&delete n.materials}})}function yJ(e){function t(n){Object.setPrototypeOf(n,bn.prototype),n.texture&&Object.setPrototypeOf(n.texture,bn.prototype)}function i(n){Object.setPrototypeOf(n,bn.prototype);for(let r in n)t(n[r])}e.scene.objects.traverse((n,r)=>{r.states.forEach(a=>{let s=a;if(s.material){let o=dn(s.material).layers;i(o),s.material.layers=o}if(s.materials)for(let o=0;o<s.materials.length;o++){let l=s.materials[o],d=dn(l).layers;i(d),l.layers=d}})})}function uE(e){e.layers===void 0&&Object.assign(e,$n.defaultTwoLayerData("lambert"))}function Wy(e){!e.layers||e.layers.forEach(t=>{if(t.type==="depth"&&t.colors.length===10){let i=[...t.colors];i.push(t.colors[9]);let n=[...t.steps];n.push(t.steps[9]);let r=Q(R({},dn(t)),{colors:i,steps:n});Object.assign(t,r)}})}function bJ(e){e.scene.objects.traverse((t,i)=>{i.type==="Mesh"&&(i.geometry.type==="BooleanGeometry"||i.geometry.type==="SubdivGeometry")&&(i.geometry.phongAngle=35)})}function fE(e){e.scene.objects.traverse((t,i)=>{"materials"in i?i.materials.forEach(n=>{typeof n!="string"&&Wy(n)}):"material"in i&&typeof i.material!="string"&&Wy(i.material)}),Object.values(e.shared.materials).forEach(t=>Wy(t))}function _J(e){e.scene.environment.ambientLight.softShadows=!1,e.scene.environment.ambientLight.softShadowQuality="low",e.scene.objects.traverse((t,i)=>{(i.type==="DirectionalLight"||i.type==="SpotLight")&&(i.shadowResolution=1024,i.shadowRadius=1,i.depth=1e5)}),e.shared.penumbraSize=new Array(5).fill(.5)}function wJ(e){e.shared.audios=ao({},zt.prototype)}function xJ(e){e.shared.videos=ao({},zt.prototype)}function kJ(e){let t=e.shared.materials;Object.entries(t).forEach(([i,n])=>{if(!n.layers){let r={name:"Untitled Material",layers:[{fi:0,data:{type:"light",category:"phong",alpha:.6,visible:!0,mode:0,specular:{r:.2,g:.2,b:.2},shininess:5},id:"layer1"},{fi:1,data:{type:"color",alpha:1,visible:!0,mode:0,color:{r:.2823529411764706,g:.2823529411764706,b:.30196078431372547}},id:"layer2"}]};Object.assign(t,{[i]:r})}})}function SJ(e){Object.entries(dn(e.shared.images)).filter(t=>t[1].asset===!1).map(t=>t[0]).forEach(t=>{delete e.shared.images[t]}),Object.entries(dn(e.shared.audios)).filter(t=>t[1].asset===!1).map(t=>t[0]).forEach(t=>{delete e.shared.audios[t]})}function AJ(e){e.scene.publish.settings.web.preload=!1}function hE(e){e.layers&&e.layers.forEach(t=>{t.type==="depth"&&t.num!==void 0&&(t.colors=t.colors.slice(0,t.num),t.steps=t.steps.slice(0,t.num),delete t.num)})}function pE(e){e.layers&&e.layers.forEach(t=>{oJ(t)&&t.isMask===void 0&&(t.isMask=!1),(t.type==="texture"||t.type==="video")&&t.blending===void 0&&(t.blending=0),(t.type==="noise"||t.type==="displace"&&t.displacementType==="noise")&&(t.voronoiStyle===void 0&&(t.voronoiStyle=0),t.highCut===void 0&&(t.highCut=1),t.lowCut===void 0&&(t.lowCut=0),t.smoothness===void 0&&(t.smoothness=.3),t.seed===void 0&&(t.seed=0),t.quality===void 0&&(t.quality=1))})}function MJ(e){e.shared.fonts=ao({},zt.prototype)}function CJ(e){return e.replace(".typeface","").replace(/optimer/gi,"open sans").replace("space_mono","space mono").replace(/alma_mono/gi,"varela round").replace(/droid_sans_mono/gi,"noto sans mono").replace(/droid_sans|gentilis|gnomon_(simple|foreground)|helvetiker/gi,"roboto").replace(/droid_serif/gi,"roboto slab").replace("_sans"," sans").replace("crimson_text","crimson text").replace("medium_medium","medium").replace("fatface_fatface","fatface").replace("100hairline","thin").replace("200thin","extralight").replace("300light","light").replace("500medium","medium").replace("600semi","semibold").replace("800heavy","extrabold").replace("900black","black").replace(/bodoni_(11|16|24|36|48|72|96)([^_])/gi,"bodoni_$1_$2").replace(/bodoni_(11|16|24|36|48|72|96)/gi,"bodoni moda").replace(/(thin|hairline)(_regular)?/gi,"100").replace(/(extra|ultra)light(_regular)?/gi,"200").replace(/light(_regular)?/gi,"300").replace(/_book|_normal|_roman/gi,"_regular").replace(/medium(_regular)?/gi,"500").replace(/(semi|demi)bold(_regular)?/gi,"600").replace(/(extra|ultra)bold(_regular)?/gi,"800").replace(/bold(_regular)?/gi,"700").replace(/(black|heavy|fatface)(_regular)?/gi,"900").replace(/([1-9]00)_italic/gi,"$1italic").replace(/regularitalic/gi,"italic").replace(/regularitalic/gi,"italic").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function EJ(e){let t=[];e.scene.objects.traverse((i,n)=>{let r=n;if(r.type==="TextFrame"){let a=$n.defaultTwoLayerData("phong"),s=typeof r.color=="string"?e.shared.colors[r.color]:r.color;a.layers[1].data.color={r:s.r,g:s.g,b:s.b},a.layers[1].data.alpha=r.alpha;let o=CJ(r.font);e.shared.fonts[o]===void 0&&(e.shared.fonts[o]={name:o});let l=Q(R(R({name:r.name},gr.defaultData),Lc.defaultData),{flatShading:!1,wireframe:!1,geometry:Q(R({},Rc.defaultData("TextGeometry")),{width:r.width,height:r.height,font:o,depth:0,horizontalAlign:r.horizontalAlign,verticalAlign:r.verticalAlign,fontSize:r.fontSize*1.40625,lineHeight:r.lineHeight/1.40625,letterSpacing:r.letterSpacing-1,text:r.text,textTransform:r.textTransform,extrudeBevelSize:0,extrudeBevelSegments:1}),material:a,states:dn(r.states),events:dn(r.events),visible:r.visible,raycastLock:r.raycastLock,position:r.position,rotation:r.rotation,scale:r.scale,hiddenMatrix:r.hiddenMatrix}),d=dn(e.scene.objects).parent(i);e.scene.objects.insertAfter(d!=null?d:null,i,[{id:i+"new",data:l,children:[]}]),t.push(i)}}),t.forEach(i=>{e.scene.objects.delete(i)})}function TJ(e){let t={0:"MouseDown",1:"MouseUp",2:"MouseHover",5:"KeyDown",6:"KeyUp",7:"Start",9:"LookAt",10:"Follow",11:"Scroll",12:"Audio",13:"GameControl"};e.scene.objects.traverse((i,n)=>{n.events.forEach(r=>{if(t[Number(r.type)])if(Object.assign(r,{type:t[Number(r.type)]}),r.type==="Audio"&&"audioEvent"in r&&(Object.assign(r,{playAudio:r.audioEvent}),delete r.audioEvent),r.type==="GameControl")Object.assign(r,{gameActions:{idle:new bt,move:new bt,jump:new bt}});else{let a=new bt;Object.assign(r,{actions:a}),(r.type==="MouseDown"||r.type==="MouseUp"||r.type==="KeyDown"||r.type==="KeyUp")&&"url"in r&&a.push({fi:0,id:at.generateUUID(),data:{type:"Link",url:r.url,delay:0}}),"targets"in r&&(r.targets.forEach((s,o,l)=>{let d={state:void 0,repeat:0,delay:0,delayDirection:void 0,direction:"normal",duration:0,easing:4},u={easing:s.easing,duration:s.duration};s.easing===6?Object.assign(u,ro(s,"mass","stiffness","damping","velocity")):s.easing===5&&Object.assign(u,{control1:R({},s.control1),control2:R({},s.control2)});let c={repeat:s.repeat?-1:0,delay:s.delay,delayDirection:s.delayDirection,direction:s.cycle&&s.rewind?"pingpong-rewind":s.cycle?"pingpong":"normal"},f=R(R({state:s.state},c),u),h={allowSlerp:!0,type:"Transition",object:s.object,repeat:0,delay:0,delayDirection:void 0,direction:"normal",tweens:new bt({fi:0,id:at.generateUUID(),data:d},{fi:1,id:at.generateUUID(),data:f})};a.push({fi:l,id:o,data:h})}),delete r.targets)}})})}function DJ(e){e.scene.objects.traverse((t,i)=>{function n(r,a){var l;let s=new bt,o=[];if(i.events.forEach((d,u,c)=>{if(d.type==="Audio"&&d.trigger===a){let f;o.push(u),d.interaction==="play"?f=Q(R({},ro(d,"interaction","audio","delay","volume","loop")),{triggerAfter:"after"in d?d.after:void 0,toggle:"after"in d?d.toggle:void 0,type:"Audio"}):(d.interaction==="pause"||d.interaction==="stop")&&(f=Q(R({},ro(d,"interaction","delay","object","playAudio")),{type:"Audio"})),f&&s.push({fi:c,id:u,data:f})}}),o.forEach(d=>i.events.delete(d)),s.length){let d=(l=i.events.find(u=>u.type===r))==null?void 0:l.data;d?"actions"in d&&d.actions.insertBefore(null,s):i.events.insertBefore(null,[{id:at.generateUUID(),data:{type:r,actions:s}}])}}n("Start","start"),n("MouseDown","mouseDown"),n("MouseUp","mouseUp"),n("KeyDown","keyDown"),n("KeyUp","keyUp")})}function mE(e){var i;let t=(i=e.layers.find(n=>n.type==="light"))==null?void 0:i.data;if((t==null?void 0:t.category)==="basic"){let n=Pr.defaultData("light","phong"),r=t;Object.assign(r,n),r.visible=!1}}function gE(e){Qo(e,mE),Jo(e,mE)}function PJ(e){e.scene.objects.traverse((t,i)=>{i.type==="Mesh"&&i.geometry.type==="SubdivGeometry"&&(i.geometry.scaleBaked||(i.geometry.scaleBaked=[1,1,1]))})}function IJ(e){e.scene.objects.traverse((t,i)=>{(i.type==="Empty"||i.type==="Mesh")&&i.cloner&&!i.cloner.randomnessObject&&!i.cloner.toObject&&!i.cloner.randomness&&(i.cloner=Q(R({},i.cloner),{toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}}))})}function OJ(e){e.scene.objects.traverse((t,i)=>{i.type==="Mesh"&&i.geometry.type==="NonParametricGeometry"&&!("material"in i)&&!("materials"in i)&&(i.material=$n.defaultTwoLayerData("phong"))})}function jJ(e){e.scene.publish.orbitControls.autoZoom===void 0&&(e.scene.publish.orbitControls.autoZoom=!1),e.scene.objects.traverse((t,i)=>{(i.type==="OrthographicCamera"||i.type==="PerspectiveCamera")&&(i.orthographic.autoZoom===void 0&&(i.orthographic.autoZoom=!1),i.orthographic.autoZoomFrustumSize===void 0&&(i.orthographic.autoZoomFrustumSize=790))})}function RJ(e){e.scene.objects.traverse((t,i)=>{i.pathSnapping===void 0&&(i.pathSnapping={pathId:null,slide:0,offset:0,orientation:"tangential"}),i.pathSnapping.offset===void 0&&(i.pathSnapping.offset=0)})}function zJ(e){e.scene.publish.mouseEventTarget===void 0&&(e.scene.publish.mouseEventTarget="canvas"),e.scene.publish.settings.web.hint===void 0&&(e.scene.publish.settings.web.hint=!1)}function BJ(e){let{video:t}=e.scene.publish.settings;t.format==="gif"&&t.fps>48&&(t.fps=15)}function LJ(e){e.scene.objects.traverse((t,i)=>{i.events.forEach(n=>{n.type==="GameControl"&&(n.resetYPosition=Math.abs(n.resetYPosition-i.position[1]))})})}function FJ(e){let t=e.scene.environment.usePhysics;e.scene.objects.traverse((i,n)=>{t&&n.physics===null?n.collision=!1:n.collision="visibility"})}function NJ(e){e.scene.objects.traverse((t,i)=>{i.events.forEach(n=>{n.type==="GameControl"&&(n.navmesh=Qm.defaultDataThirdPerson.navmesh)})})}function UJ(e){e.scene.styles||(e.scene.styles=Nc.defaultData())}function vE(e){e.layers.forEach(t=>{t.type==="light"&&t.category!=="toon"&&t.occlusion===void 0&&(t.occlusion=!0)})}function VJ(e){e.scene.environment.ambientLight.occlusion===void 0&&(e.scene.environment.ambientLight.occlusion=!1),e.scene.environment.ambientLight.aoFullRes===void 0&&(e.scene.environment.ambientLight.aoFullRes=!1),e.scene.environment.ambientLight.radius===void 0&&(e.scene.environment.ambientLight.radius=256),e.scene.environment.ambientLight.bias===void 0&&(e.scene.environment.ambientLight.bias=.5),e.scene.environment.ambientLight.aoColor===void 0&&(e.scene.environment.ambientLight.aoColor={r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}),Jo(e,vE),Qo(e,vE)}function HJ(e){e.scene.objects.traverse((t,i)=>{i.events.forEach(n=>{n.type==="GameControl"&&Object.assign(n.gameActions,{run:new bt})})})}function GJ(e){e.scene.objects.traverse((t,i)=>{i.events.forEach(n=>{n.type==="GameControl"&&(n.keyAssignments=[...n.keyAssignments,["run","\u21E7"],["none","Ctrl"]])})})}function yE(e){e.layers&&e.layers.forEach(t=>{t.type==="light"&&t.bumpMapIntensity===void 0&&(t.bumpMapIntensity=5)})}function WJ(e,t){var i;if(t<1&&(Jo(e,cE),Qo(e,cE),e.schema=1),t<2&&(dJ(e),e.schema=2),t<3&&(uJ(e),e.schema=3),t<4&&(fJ(e),e.schema=4),t<5&&(hJ(e),e.schema=5),t<6&&(pJ(e),e.schema=6),t<7&&(mJ(e),e.schema=7),t<8&&(e.schema=8),t<9&&(fE(e),e.schema=9),t<10&&(bJ(e),e.schema=10),t<11&&(_J(e),e.schema=11),t<12&&(fE(e),e.schema=12),t<13&&(wJ(e),e.schema=13),t<14&&(kJ(e),e.schema=14),t<15&&(SJ(e),e.schema=15),t<16&&(AJ(e),e.schema=16),t<17&&(Jo(e,hE),Qo(e,hE),e.schema=17),t<18&&(Jo(e,uE),Qo(e,uE),e.schema=18),t<19&&(cJ(e),e.schema=19),t<20&&(MJ(e),EJ(e),e.schema=20),t<21&&(TJ(e),DJ(e),e.schema=21),t<22&&(gE(e),e.schema=22),t<23&&(PJ(e),e.schema=23),t<24&&(IJ(e),e.schema=24),(t<25||e.shared.videos===void 0)&&(xJ(e),t<25&&(e.schema=25)),t<26&&(gJ(e),e.schema=26),t<27&&(vJ(e),e.schema=27),t<28&&(gE(e),e.schema=28),t<29&&(yJ(e),e.schema=29),t<30&&(OJ(e),e.schema=30),t<31&&(jJ(e),e.schema=31),t<33&&(RJ(e),e.schema=33),t<34&&(zJ(e),e.schema=34),t<35&&(BJ(e),e.schema=35),t<36&&(LJ(e),e.schema=36),t<37&&(FJ(e),e.schema=37),t<38&&(Jo(e,pE),Qo(e,pE),e.schema=38),t<39&&(NJ(e),e.schema=39),t<40&&(UJ(e),e.schema=40),t<41&&(VJ(e),e.schema=41),t<42&&(HJ(e),e.schema=42),t<43&&(GJ(e),e.schema=43),t<99){Jo(e,yE),Qo(e,yE),e.scene.publish.playCamera===null&&(e.scene.publish.playCamera=Dc);let n=dn(e.scene.objects),r=e.scene.objects;e.scene.publish.playPage=Lf,r.insertBefore(null,null,[{id:Lf,data:Q(R({},Fc.defaultData),{backgroundColor:e.scene.backgroundColor,fog:e.scene.fog,postprocessing:e.scene.postprocessing,ao:ro(e.scene.environment.ambientLight,"occlusion","aoFullRes","radius","bias","aoColor"),publish:{playCamera:e.scene.publish.playCamera,gameControlObject:e.scene.publish.gameControlObject},shadow:ro(e.scene.environment.ambientLight,"softShadowQuality"),globalPhysics:R(R({},zc.defaultData),ro(e.scene.environment,"usePhysics","gravity")),camera:(i=dn(e.scene.ownerCamera))!=null?i:Fc.defaultData.camera,name:"Scene"}),children:[]}]);for(let o of n)o.id!==Uc.TRASH_CAN_ID&&r.move(Lf,o.fi,o.id);let a=0,s=0;e.shared.penumbraSize&&e.scene.objects.traverse((o,l)=>{var d;l.type==="DirectionalLight"?(l.penumbraSize=e.shared.penumbraSize[Math.min(a,2)],a+=1):l.type==="SpotLight"&&(l.penumbraSize=e.shared.penumbraSize[3+Math.min(s,1)],s+=1),(l.physics===void 0||l.physics===null)&&l.type!=="Instance"&&(l.physics={},Object.assign(l.physics,jc.defaultData)),l.physics!==void 0&&l.physics!==null&&(l.physics.enabled=(d=l.collision)!=null?d:"visibility",delete l.collision)}),e.schema=99}}function bE(e){e.layers&&e.layers.forEach(t=>{t.type==="light"&&t.alphaOverride===void 0&&(t.alphaOverride=1)})}function qJ(e){e.scene.objects.traverse((t,i)=>{let n=i.geometry;n&&n.type==="PathGeometry"&&(n.extrusion.capType="flat",n.extrusion.bevel=50,n.extrusion.bevelSides=6,n.extrusion.shape.type==="Custom"&&(n.extrusion.shape.shapeQuality="low"))})}var Hc=180/Math.PI;function _E(e){e.rotation=e.rotation.slice(0,3).map(t=>t*Hc)}function wE(e){var i,n,r;_E(e),e.type==="Page"&&_E(e.camera),(i=e.states)==null||i.forEach(a=>{a.rotation===void 0||a.rotation===null||(a.rotation=a.rotation.slice(0,3).map(s=>s*Hc))});let t=e.geometry;t&&t.type==="SphereGeometry"&&(t.thetaLength=((n=t.thetaLength)!=null?n:180)*Hc),t&&t.type==="TorusGeometry"&&(t.arc=t.arc*Hc),t&&t.type==="PathGeometry"&&(t.extrusion.angle*=Hc,t.extrusion.twist*=Hc),e.type==="Mesh"&&e.geometry.type==="TextGeometry"&&(e.geometry.text={textValue:e.geometry.text}),Array.isArray(dn(e.events))&&((r=e.events)==null||r.forEach(a=>{(a.type==="MouseDown"||a.type==="MouseUp"||a.type==="MousePress"||a.type==="KeyDown"||a.type==="KeyUp"||a.type==="KeyPress"||a.type==="Collision"||a.type==="Trigger")&&(a.runMode=a.toggle?"Toggle":"Once")}))}function ZJ(e){e.shared.variables=ao({},zt.prototype)}function YJ(e){let t=dn(e.shared.variables);e.shared.variables=ao(Object.entries(t!=null?t:{}).map(([i,n],r)=>({fi:r,id:i,data:n})),bt.prototype)}var $o=107;function xE(e,t){t(e.data);for(let i of e.children)xE(i,t)}function XJ(e){var i;let t=(i=e.schema)!=null?i:104;t!==$o&&t<105&&(xE(e.asset,wE),e.schema=105)}function kE(e){var i;let t=(i=e.schema)!=null?i:0;if(t!==$o){console.warn("updating from ",t,"to ",$o),WJ(e,t),t<100&&(e.scene.publish.joystickSizeAndXYOffset===void 0&&(e.scene.publish.joystickSizeAndXYOffset=nd.defaultData.joystickSizeAndXYOffset),e.schema=100),t<101&&(Jo(e,bE),Qo(e,bE),e.schema=101),t<102&&(qJ(e),e.schema=102),t<104&&(e.shared.catelogs=new zt,e.shared.lib=Vc.defaultData(),e.schema=104),t<105&&(ZJ(e),e.scene.objects.traverse((n,r)=>{wE(r)}),e.schema=105);for(let n of Object.values(e.shared.lib.components))XJ(n);t<106&&(YJ(e),e.schema=106),t<107&&(e.shared.lib.variables=Vc.defaultData().variables,e.schema=107)}}var Jm;(e=>{e.defaultData={schema:$o,scene:Uc.defaultData,frames:new zt().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",Uf.defaultData),shared:Q(R({},La.emptyData()),{colors:La.defaultColors()})},e.emptyDataForImports=function(r){let a=Uc.emptyDataWithPage(r);return{schema:$o,scene:a,frames:new zt().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",Uf.defaultData),shared:Q(R({},La.emptyData()),{colors:La.defaultColors(),images:La.defaultImages(r)})}},e.emptyData=function(){return{schema:$o,scene:Uc.emptyDataWithPage(),frames:new zt().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",Uf.defaultData),shared:La.emptyData()}},e.collabHelper=Q(R({},iy),{updateSchema(r){var a,s;return((a=r.schema)!=null?a:0)<$o?zf(r,kE):((s=r.schema)!=null?s:0)-$o}});function t(r){let a=e.collabHelper.updateSchema(r);return typeof a=="number"?a===0?r:null:a.data}e.updateSchemaDirectly=t;function i(r){return Q(R({},r),{shared:Q(R({},r.shared),{lib:Vc.defaultData()})})}e.withoutLib=i;function n(r,a){let s=r.scene.objects.get(a);if(s&&s.data.type==="Component")return s;{let o=r.shared.lib.components[a];if(o)return o.asset}}e.getComponentData=n})(Jm||(Jm={}));function rd(e,t=!1){let i=e[0].index!==null,n=new Set(Object.keys(e[0].attributes)),r=new Set(Object.keys(e[0].morphAttributes)),a={},s={},o=e[0].morphTargetsRelative,l=new dt,d=0;for(let u=0;u<e.length;++u){let c=e[u],f=0;if(i!==(c.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let h in c.attributes){if(!n.has(h))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+'. All geometries must have compatible attributes; make sure "'+h+'" attribute exists among all geometries, or in none of them.'),null;a[h]===void 0&&(a[h]=[]),a[h].push(c.attributes[h]),f++}if(f!==n.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". Make sure all geometries have the same number of attributes."),null;if(o!==c.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let h in c.morphAttributes){if(!r.has(h))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+".  .morphAttributes must be consistent throughout all geometries."),null;s[h]===void 0&&(s[h]=[]),s[h].push(c.morphAttributes[h])}if(t){let h;if(i)h=c.index.count;else if(c.attributes.position!==void 0)h=c.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". The geometry must have either an index or a position attribute"),null;l.addGroup(d,h,u),d+=h}}if(i){let u=0,c=[];for(let f=0;f<e.length;++f){let h=e[f].index;for(let p=0;p<h.count;++p)c.push(h.getX(p)+u);u+=e[f].attributes.position.count}l.setIndex(c)}for(let u in a){let c=SE(a[u]);if(!c)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+u+" attribute."),null;l.setAttribute(u,c)}for(let u in s){let c=s[u][0].length;if(c===0)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[u]=[];for(let f=0;f<c;++f){let h=[];for(let m=0;m<s[u].length;++m)h.push(s[u][m][f]);let p=SE(h);if(!p)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+u+" morphAttribute."),null;l.morphAttributes[u].push(p)}}return l}function SE(e){let t,i,n,r=0;for(let o=0;o<e.length;++o){let l=e[o];if(l.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(t===void 0&&(t=l.array.constructor),t!==l.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(i===void 0&&(i=l.itemSize),i!==l.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(n===void 0&&(n=l.normalized),n!==l.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;r+=l.array.length}let a=new t(r),s=0;for(let o=0;o<e.length;++o)a.set(e[o].array,s),s+=e[o].array.length;return new _t(a,i,n)}var KJ=Math.pow(2,-24),$m=class{constructor(){}};function vs(e,t,i){return i.min.x=t[e],i.min.y=t[e+1],i.min.z=t[e+2],i.max.x=t[e+3],i.max.y=t[e+4],i.max.z=t[e+5],i}function AE(e){let t=-1,i=-1/0;for(let n=0;n<3;n++){let r=e[n+3]-e[n];r>i&&(i=r,t=n)}return t}function ME(e,t){t.set(e)}function CE(e,t,i){let n,r;for(let a=0;a<3;a++){let s=a+3;n=e[a],r=t[a],i[a]=n<r?n:r,n=e[s],r=t[s],i[s]=n>r?n:r}}function eg(e,t,i){for(let n=0;n<3;n++){let r=t[e+2*n],a=t[e+2*n+1],s=r-a,o=r+a;s<i[n]&&(i[n]=s),o>i[n+3]&&(i[n+3]=o)}}function Vf(e){let t=e[3]-e[0],i=e[4]-e[1],n=e[5]-e[2];return 2*(t*i+i*n+n*t)}function QJ(e,t){if(!e.index){let i=e.attributes.position.count,n=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,r;i>65535?r=new Uint32Array(new n(4*i)):r=new Uint16Array(new n(2*i)),e.setIndex(new _t(r,1));for(let a=0;a<i;a++)r[a]=a}}function JJ(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];let t=[],i=new Set;for(let r of e.groups)i.add(r.start),i.add(r.start+r.count);let n=Array.from(i.values()).sort((r,a)=>r-a);for(let r=0;r<n.length-1;r++){let a=n[r],s=n[r+1];t.push({offset:a/3,count:(s-a)/3})}return t}function qy(e,t,i,n,r=null){let a=1/0,s=1/0,o=1/0,l=-1/0,d=-1/0,u=-1/0,c=1/0,f=1/0,h=1/0,p=-1/0,m=-1/0,g=-1/0,v=r!==null;for(let y=t*6,b=(t+i)*6;y<b;y+=6){let _=e[y+0],x=e[y+1],k=_-x,w=_+x;k<a&&(a=k),w>l&&(l=w),v&&_<c&&(c=_),v&&_>p&&(p=_);let S=e[y+2],A=e[y+3],M=S-A,C=S+A;M<s&&(s=M),C>d&&(d=C),v&&S<f&&(f=S),v&&S>m&&(m=S);let T=e[y+4],P=e[y+5],I=T-P,j=T+P;I<o&&(o=I),j>u&&(u=j),v&&T<h&&(h=T),v&&T>g&&(g=T)}n[0]=a,n[1]=s,n[2]=o,n[3]=l,n[4]=d,n[5]=u,v&&(r[0]=c,r[1]=f,r[2]=h,r[3]=p,r[4]=m,r[5]=g)}function $J(e,t,i,n){let r=1/0,a=1/0,s=1/0,o=-1/0,l=-1/0,d=-1/0;for(let u=t*6,c=(t+i)*6;u<c;u+=6){let f=e[u+0];f<r&&(r=f),f>o&&(o=f);let h=e[u+2];h<a&&(a=h),h>l&&(l=h);let p=e[u+4];p<s&&(s=p),p>d&&(d=p)}n[0]=r,n[1]=a,n[2]=s,n[3]=o,n[4]=l,n[5]=d}function e$(e,t,i,n,r){let a=i,s=i+n-1,o=r.pos,l=r.axis*2;for(;;){for(;a<=s&&t[a*6+l]<o;)a++;for(;a<=s&&t[s*6+l]>=o;)s--;if(a<s){for(let d=0;d<3;d++){let u=e[a*3+d];e[a*3+d]=e[s*3+d],e[s*3+d]=u;let c=t[a*6+d*2+0];t[a*6+d*2+0]=t[s*6+d*2+0],t[s*6+d*2+0]=c;let f=t[a*6+d*2+1];t[a*6+d*2+1]=t[s*6+d*2+1],t[s*6+d*2+1]=f}a++,s--}else return a}}var oo=32,t$=(e,t)=>e.candidate-t.candidate,el=new Array(oo).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),tg=new Float32Array(6);function i$(e,t,i,n,r,a){let s=-1,o=0;if(a===0)s=AE(t),s!==-1&&(o=(t[s]+t[s+3])/2);else if(a===1)s=AE(e),s!==-1&&(o=n$(i,n,r,s));else if(a===2){let l=Vf(e),d=1.25*r,u=n*6,c=(n+r)*6;for(let f=0;f<3;f++){let h=t[f],p=(t[f+3]-h)/oo;if(r<oo/4){let m=[...el];m.length=r;let g=0;for(let y=u;y<c;y+=6,g++){let b=m[g];b.candidate=i[y+2*f],b.count=0;let{bounds:_,leftCacheBounds:x,rightCacheBounds:k}=b;for(let w=0;w<3;w++)k[w]=1/0,k[w+3]=-1/0,x[w]=1/0,x[w+3]=-1/0,_[w]=1/0,_[w+3]=-1/0;eg(y,i,_)}m.sort(t$);let v=r;for(let y=0;y<v;y++){let b=m[y];for(;y+1<v&&m[y+1].candidate===b.candidate;)m.splice(y+1,1),v--}for(let y=u;y<c;y+=6){let b=i[y+2*f];for(let _=0;_<v;_++){let x=m[_];b>=x.candidate?eg(y,i,x.rightCacheBounds):(eg(y,i,x.leftCacheBounds),x.count++)}}for(let y=0;y<v;y++){let b=m[y],_=b.count,x=r-b.count,k=b.leftCacheBounds,w=b.rightCacheBounds,S=0;_!==0&&(S=Vf(k)/l);let A=0;x!==0&&(A=Vf(w)/l);let M=1+1.25*(S*_+A*x);M<d&&(s=f,d=M,o=b.candidate)}}else{for(let v=0;v<oo;v++){let y=el[v];y.count=0,y.candidate=h+p+v*p;let b=y.bounds;for(let _=0;_<3;_++)b[_]=1/0,b[_+3]=-1/0}for(let v=u;v<c;v+=6){let y=~~((i[v+2*f]-h)/p);y>=oo&&(y=oo-1);let b=el[y];b.count++,eg(v,i,b.bounds)}let m=el[oo-1];ME(m.bounds,m.rightCacheBounds);for(let v=oo-2;v>=0;v--){let y=el[v],b=el[v+1];CE(y.bounds,b.rightCacheBounds,y.rightCacheBounds)}let g=0;for(let v=0;v<oo-1;v++){let y=el[v],b=y.count,_=y.bounds,x=el[v+1].rightCacheBounds;b!==0&&(g===0?ME(_,tg):CE(_,tg,tg)),g+=b;let k=0,w=0;g!==0&&(k=Vf(tg)/l);let S=r-g;S!==0&&(w=Vf(x)/l);let A=1+1.25*(k*g+w*S);A<d&&(s=f,d=A,o=y.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${a} used.`);return{axis:s,pos:o}}function n$(e,t,i,n){let r=0;for(let a=t,s=t+i;a<s;a++)r+=e[a*6+n*2];return r/i}function r$(e,t){let i=e.attributes.position,n=e.index.array,r=n.length/3,a=new Float32Array(r*6),s=i.normalized,o=i.array,l=i.offset||0,d=3;i.isInterleavedBufferAttribute&&(d=i.data.stride);let u=["getX","getY","getZ"];for(let c=0;c<r;c++){let f=c*3,h=c*6,p,m,g;s?(p=n[f+0],m=n[f+1],g=n[f+2]):(p=n[f+0]*d+l,m=n[f+1]*d+l,g=n[f+2]*d+l);for(let v=0;v<3;v++){let y,b,_;s?(y=i[u[v]](p),b=i[u[v]](m),_=i[u[v]](g)):(y=o[p+v],b=o[m+v],_=o[g+v]);let x=y;b<x&&(x=b),_<x&&(x=_);let k=y;b>k&&(k=b),_>k&&(k=_);let w=(k-x)/2,S=v*2;a[h+S+0]=x+w,a[h+S+1]=w+(Math.abs(x)+w)*KJ,x<t[v]&&(t[v]=x),k>t[v+3]&&(t[v+3]=k)}}return a}function a$(e,t){function i(v){f&&f(v/h)}function n(v,y,b,_=null,x=0){if(!p&&x>=l&&(p=!0,d&&(console.warn(`MeshBVH: Max depth of ${l} reached when generating BVH. Consider increasing maxDepth.`),console.warn(e))),b<=u||x>=l)return i(y+b),v.offset=y,v.count=b,v;let k=i$(v.boundingData,_,s,y,b,c);if(k.axis===-1)return i(y+b),v.offset=y,v.count=b,v;let w=e$(o,s,y,b,k);if(w===y||w===y+b)i(y+b),v.offset=y,v.count=b;else{v.splitAxis=k.axis;let S=new $m,A=y,M=w-y;v.left=S,S.boundingData=new Float32Array(6),qy(s,A,M,S.boundingData,a),n(S,A,M,a,x+1);let C=new $m,T=w,P=b-M;v.right=C,C.boundingData=new Float32Array(6),qy(s,T,P,C.boundingData,a),n(C,T,P,a,x+1)}return v}QJ(e,t);let r=new Float32Array(6),a=new Float32Array(6),s=r$(e,r),o=e.index.array,l=t.maxDepth,d=t.verbose,u=t.maxLeafTris,c=t.strategy,f=t.onProgress,h=e.index.count/3,p=!1,m=[],g=JJ(e);if(g.length===1){let v=g[0],y=new $m;y.boundingData=r,$J(s,v.offset,v.count,a),n(y,v.offset,v.count,a),m.push(y)}else for(let v of g){let y=new $m;y.boundingData=new Float32Array(6),qy(s,v.offset,v.count,y.boundingData,a),n(y,v.offset,v.count,a),m.push(y)}return m}function s$(e,t){let i=a$(e,t),n,r,a,s=[],o=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let u=0;u<i.length;u++){let c=i[u],f=l(c),h=new o(32*f);n=new Float32Array(h),r=new Uint32Array(h),a=new Uint16Array(h),d(0,c),s.push(h)}return s;function l(u){return u.count?1:1+l(u.left)+l(u.right)}function d(u,c){let f=u/4,h=u/2,p=!!c.count,m=c.boundingData;for(let g=0;g<6;g++)n[f+g]=m[g];if(p){let g=c.offset,v=c.count;return r[f+6]=g,a[h+14]=v,a[h+15]=65535,u+32}else{let g=c.left,v=c.right,y=c.splitAxis,b;if(b=d(u+32,g),b/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return r[f+6]=b/4,b=d(b,v),r[f+7]=y,b}}}var ys=class{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,t){let i=1/0,n=-1/0;for(let r=0,a=e.length;r<a;r++){let s=e[r][t];i=s<i?s:i,n=s>n?s:n}this.min=i,this.max=n}setFromPoints(e,t){let i=1/0,n=-1/0;for(let r=0,a=t.length;r<a;r++){let s=t[r],o=e.dot(s);i=o<i?o:i,n=o>n?o:n}this.min=i,this.max=n}isSeparated(e){return this.min>e.max||e.min>this.max}};ys.prototype.setFromBox=function(){let e=new E;return function(t,i){let n=i.min,r=i.max,a=1/0,s=-1/0;for(let o=0;o<=1;o++)for(let l=0;l<=1;l++)for(let d=0;d<=1;d++){e.x=n.x*o+r.x*(1-o),e.y=n.y*l+r.y*(1-l),e.z=n.z*d+r.z*(1-d);let u=t.dot(e);a=Math.min(u,a),s=Math.max(u,s)}this.min=a,this.max=s}}();var Qhe=function(){let e=new ys;return function(t,i){let n=t.points,r=t.satAxes,a=t.satBounds,s=i.points,o=i.satAxes,l=i.satBounds;for(let d=0;d<3;d++){let u=a[d],c=r[d];if(e.setFromPoints(c,s),u.isSeparated(e))return!1}for(let d=0;d<3;d++){let u=l[d],c=o[d];if(e.setFromPoints(c,n),u.isSeparated(e))return!1}}}(),o$=function(){let e=new E,t=new E,i=new E;return function(n,r,a){let s=n.start,o=e,l=r.start,d=t;i.subVectors(s,l),e.subVectors(n.end,n.start),t.subVectors(r.end,r.start);let u=i.dot(d),c=d.dot(o),f=d.dot(d),h=i.dot(o),p=o.dot(o)*f-c*c,m,g;p!==0?m=(u*c-h*f)/p:m=0,g=(u+m*c)/f,a.x=m,a.y=g}}(),Zy=function(){let e=new Y,t=new E,i=new E;return function(n,r,a,s){o$(n,r,e);let o=e.x,l=e.y;if(o>=0&&o<=1&&l>=0&&l<=1){n.at(o,a),r.at(l,s);return}else if(o>=0&&o<=1){l<0?r.at(0,s):r.at(1,s),n.closestPointToPoint(s,!0,a);return}else if(l>=0&&l<=1){o<0?n.at(0,a):n.at(1,a),r.closestPointToPoint(a,!0,s);return}else{let d;o<0?d=n.start:d=n.end;let u;l<0?u=r.start:u=r.end;let c=t,f=i;if(n.closestPointToPoint(u,!0,t),r.closestPointToPoint(d,!0,i),c.distanceToSquared(u)<=f.distanceToSquared(d)){a.copy(c),s.copy(u);return}else{a.copy(d),s.copy(f);return}}}}(),l$=function(){let e=new E,t=new E,i=new Jr,n=new ua;return function(r,a){let{radius:s,center:o}=r,{a:l,b:d,c:u}=a;if(n.start=l,n.end=d,n.closestPointToPoint(o,!0,e).distanceTo(o)<=s||(n.start=l,n.end=u,n.closestPointToPoint(o,!0,e).distanceTo(o)<=s)||(n.start=d,n.end=u,n.closestPointToPoint(o,!0,e).distanceTo(o)<=s))return!0;let c=a.getPlane(i);if(Math.abs(c.distanceToPoint(o))<=s){let f=c.projectPoint(o,t);if(a.containsPoint(f))return!0}return!1}}(),d$=1e-15;function Gc(e){return Math.abs(e)<d$}var lo=class extends Kn{constructor(...e){super(...e),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new E),this.satBounds=new Array(4).fill().map(()=>new ys),this.points=[this.a,this.b,this.c],this.sphere=new Er,this.plane=new Jr,this.needsUpdate=!0}intersectsSphere(e){return l$(e,this)}update(){let e=this.a,t=this.b,i=this.c,n=this.points,r=this.satAxes,a=this.satBounds,s=r[0],o=a[0];this.getNormal(s),o.setFromPoints(s,n);let l=r[1],d=a[1];l.subVectors(e,t),d.setFromPoints(l,n);let u=r[2],c=a[2];u.subVectors(t,i),c.setFromPoints(u,n);let f=r[3],h=a[3];f.subVectors(i,e),h.setFromPoints(f,n),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(s,e),this.needsUpdate=!1}};lo.prototype.closestPointToSegment=function(){let e=new E,t=new E,i=new ua;return function(n,r=null,a=null){let{start:s,end:o}=n,l=this.points,d,u=1/0;for(let c=0;c<3;c++){let f=(c+1)%3;i.start.copy(l[c]),i.end.copy(l[f]),Zy(i,n,e,t),d=e.distanceToSquared(t),d<u&&(u=d,r&&r.copy(e),a&&a.copy(t))}return this.closestPointToPoint(s,e),d=s.distanceToSquared(e),d<u&&(u=d,r&&r.copy(e),a&&a.copy(s)),this.closestPointToPoint(o,e),d=o.distanceToSquared(e),d<u&&(u=d,r&&r.copy(e),a&&a.copy(o)),Math.sqrt(u)}}(),lo.prototype.intersectsTriangle=function(){let e=new lo,t=new Array(3),i=new Array(3),n=new ys,r=new ys,a=new E,s=new E,o=new E,l=new E,d=new ua,u=new ua,c=new ua;return function(f,h=null,p=!1){this.needsUpdate&&this.update(),f.isExtendedTriangle?f.needsUpdate&&f.update():(e.copy(f),e.update(),f=e);let m=this.plane,g=f.plane;if(Math.abs(m.normal.dot(g.normal))>1-1e-10){let v=this.satBounds,y=this.satAxes;i[0]=f.a,i[1]=f.b,i[2]=f.c;for(let x=0;x<4;x++){let k=v[x],w=y[x];if(n.setFromPoints(w,i),k.isSeparated(n))return!1}let b=f.satBounds,_=f.satAxes;t[0]=this.a,t[1]=this.b,t[2]=this.c;for(let x=0;x<4;x++){let k=b[x],w=_[x];if(n.setFromPoints(w,t),k.isSeparated(n))return!1}for(let x=0;x<4;x++){let k=y[x];for(let w=0;w<4;w++){let S=_[w];if(a.crossVectors(k,S),n.setFromPoints(a,t),r.setFromPoints(a,i),n.isSeparated(r))return!1}}return h&&(p||console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),h.start.set(0,0,0),h.end.set(0,0,0)),!0}else{let v=this.points,y=!1,b=0;for(let P=0;P<3;P++){let I=v[P],j=v[(P+1)%3];d.start.copy(I),d.end.copy(j),d.delta(s);let H=y?u.start:u.end,U=Gc(g.distanceToPoint(I));if(Gc(g.normal.dot(s))&&U){u.copy(d),b=2;break}if((g.intersectLine(d,H)||U)&&!Gc(H.distanceTo(j))){if(b++,y)break;y=!0}}if(b===1&&f.containsPoint(u.end))return h&&(h.start.copy(u.end),h.end.copy(u.end)),!0;if(b!==2)return!1;let _=f.points,x=!1,k=0;for(let P=0;P<3;P++){let I=_[P],j=_[(P+1)%3];d.start.copy(I),d.end.copy(j),d.delta(o);let H=x?c.start:c.end,U=Gc(m.distanceToPoint(I));if(Gc(m.normal.dot(o))&&U){c.copy(d),k=2;break}if((m.intersectLine(d,H)||U)&&!Gc(H.distanceTo(j))){if(k++,x)break;x=!0}}if(k===1&&this.containsPoint(c.end))return h&&(h.start.copy(c.end),h.end.copy(c.end)),!0;if(k!==2)return!1;if(u.delta(s),c.delta(o),s.dot(o)<0){let P=c.start;c.start=c.end,c.end=P}let w=u.start.dot(s),S=u.end.dot(s),A=c.start.dot(s),M=c.end.dot(s),C=S<A,T=w<M;return w!==M&&A!==S&&C===T?!1:(h&&(l.subVectors(u.start,c.start),l.dot(s)>0?h.start.copy(u.start):h.start.copy(c.start),l.subVectors(u.end,c.end),l.dot(s)<0?h.end.copy(u.end):h.end.copy(c.end)),!0)}}}(),lo.prototype.distanceToPoint=function(){let e=new E;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),lo.prototype.distanceToTriangle=function(){let e=new E,t=new E,i=["a","b","c"],n=new ua,r=new ua;return function(a,s=null,o=null){let l=s||o?n:null;if(this.intersectsTriangle(a,l))return(s||o)&&(s&&l.getCenter(s),o&&l.getCenter(o)),0;let d=1/0;for(let u=0;u<3;u++){let c,f=i[u],h=a[f];this.closestPointToPoint(h,e),c=h.distanceToSquared(e),c<d&&(d=c,s&&s.copy(e),o&&o.copy(h));let p=this[f];a.closestPointToPoint(p,e),c=p.distanceToSquared(e),c<d&&(d=c,s&&s.copy(p),o&&o.copy(e))}for(let u=0;u<3;u++){let c=i[u],f=i[(u+1)%3];n.set(this[c],this[f]);for(let h=0;h<3;h++){let p=i[h],m=i[(h+1)%3];r.set(a[p],a[m]),Zy(n,r,e,t);let g=e.distanceToSquared(t);g<d&&(d=g,s&&s.copy(e),o&&o.copy(t))}}return Math.sqrt(d)}}();var bs=class{constructor(e,t,i){this.isOrientedBox=!0,this.min=new E,this.max=new E,this.matrix=new Ee,this.invMatrix=new Ee,this.points=new Array(8).fill().map(()=>new E),this.satAxes=new Array(3).fill().map(()=>new E),this.satBounds=new Array(3).fill().map(()=>new ys),this.alignedSatBounds=new Array(3).fill().map(()=>new ys),this.needsUpdate=!1,e&&this.min.copy(e),t&&this.max.copy(t),i&&this.matrix.copy(i)}set(e,t,i){this.min.copy(e),this.max.copy(t),this.matrix.copy(i),this.needsUpdate=!0}copy(e){this.min.copy(e.min),this.max.copy(e.max),this.matrix.copy(e.matrix),this.needsUpdate=!0}};bs.prototype.update=function(){return function(){let e=this.matrix,t=this.min,i=this.max,n=this.points;for(let l=0;l<=1;l++)for(let d=0;d<=1;d++)for(let u=0;u<=1;u++){let c=1*l|2*d|4*u,f=n[c];f.x=l?i.x:t.x,f.y=d?i.y:t.y,f.z=u?i.z:t.z,f.applyMatrix4(e)}let r=this.satBounds,a=this.satAxes,s=n[0];for(let l=0;l<3;l++){let d=a[l],u=r[l],c=1<<l,f=n[c];d.subVectors(s,f),u.setFromPoints(d,n)}let o=this.alignedSatBounds;o[0].setFromPointsField(n,"x"),o[1].setFromPointsField(n,"y"),o[2].setFromPointsField(n,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1}}(),bs.prototype.intersectsBox=function(){let e=new ys;return function(t){this.needsUpdate&&this.update();let i=t.min,n=t.max,r=this.satBounds,a=this.satAxes,s=this.alignedSatBounds;if(e.min=i.x,e.max=n.x,s[0].isSeparated(e)||(e.min=i.y,e.max=n.y,s[1].isSeparated(e))||(e.min=i.z,e.max=n.z,s[2].isSeparated(e)))return!1;for(let o=0;o<3;o++){let l=a[o],d=r[o];if(e.setFromBox(l,t),d.isSeparated(e))return!1}return!0}}(),bs.prototype.intersectsTriangle=function(){let e=new lo,t=new Array(3),i=new ys,n=new ys,r=new E;return function(a){this.needsUpdate&&this.update(),a.isExtendedTriangle?a.needsUpdate&&a.update():(e.copy(a),e.update(),a=e);let s=this.satBounds,o=this.satAxes;t[0]=a.a,t[1]=a.b,t[2]=a.c;for(let c=0;c<3;c++){let f=s[c],h=o[c];if(i.setFromPoints(h,t),f.isSeparated(i))return!1}let l=a.satBounds,d=a.satAxes,u=this.points;for(let c=0;c<3;c++){let f=l[c],h=d[c];if(i.setFromPoints(h,u),f.isSeparated(i))return!1}for(let c=0;c<3;c++){let f=o[c];for(let h=0;h<4;h++){let p=d[h];if(r.crossVectors(f,p),i.setFromPoints(r,t),n.setFromPoints(r,u),i.isSeparated(n))return!1}}return!0}}(),bs.prototype.closestPointToPoint=function(){return function(e,t){return this.needsUpdate&&this.update(),t.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t}}(),bs.prototype.distanceToPoint=function(){let e=new E;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),bs.prototype.distanceToBox=function(){let e=["x","y","z"],t=new Array(12).fill().map(()=>new ua),i=new Array(12).fill().map(()=>new ua),n=new E,r=new E;return function(a,s=0,o=null,l=null){if(this.needsUpdate&&this.update(),this.intersectsBox(a))return(o||l)&&(a.getCenter(r),this.closestPointToPoint(r,n),a.closestPointToPoint(n,r),o&&o.copy(n),l&&l.copy(r)),0;let d=s*s,u=a.min,c=a.max,f=this.points,h=1/0;for(let m=0;m<8;m++){let g=f[m];r.copy(g).clamp(u,c);let v=g.distanceToSquared(r);if(v<h&&(h=v,o&&o.copy(g),l&&l.copy(r),v<d))return Math.sqrt(v)}let p=0;for(let m=0;m<3;m++)for(let g=0;g<=1;g++)for(let v=0;v<=1;v++){let y=(m+1)%3,b=(m+2)%3,_=g<<y|v<<b,x=1<<m|g<<y|v<<b,k=f[_],w=f[x];t[p].set(k,w);let S=e[m],A=e[y],M=e[b],C=i[p],T=C.start,P=C.end;T[S]=u[S],T[A]=g?u[A]:c[A],T[M]=v?u[M]:c[A],P[S]=c[S],P[A]=g?u[A]:c[A],P[M]=v?u[M]:c[A],p++}for(let m=0;m<=1;m++)for(let g=0;g<=1;g++)for(let v=0;v<=1;v++){r.x=m?c.x:u.x,r.y=g?c.y:u.y,r.z=v?c.z:u.z,this.closestPointToPoint(r,n);let y=r.distanceToSquared(n);if(y<h&&(h=y,o&&o.copy(n),l&&l.copy(r),y<d))return Math.sqrt(y)}for(let m=0;m<12;m++){let g=t[m];for(let v=0;v<12;v++){let y=i[v];Zy(g,y,n,r);let b=n.distanceToSquared(r);if(b<h&&(h=b,o&&o.copy(n),l&&l.copy(r),b<d))return Math.sqrt(b)}}return Math.sqrt(h)}}();var Wc=new E,qc=new E,Zc=new E,ig=new Y,ng=new Y,rg=new Y,EE=new E,TE=new E,DE=new E,ag=new E;function c$(e,t,i,n,r,a){let s;return a===Tn?s=e.intersectTriangle(n,i,t,!0,r):s=e.intersectTriangle(t,i,n,a!==Cr,r),s===null?null:{distance:e.origin.distanceTo(r),point:r.clone()}}function u$(e,t,i,n,r,a,s,o,l){Wc.fromBufferAttribute(t,a),qc.fromBufferAttribute(t,s),Zc.fromBufferAttribute(t,o);let d=c$(e,Wc,qc,Zc,ag,l);if(d){n&&(ig.fromBufferAttribute(n,a),ng.fromBufferAttribute(n,s),rg.fromBufferAttribute(n,o),d.uv=Kn.getInterpolation(ag,Wc,qc,Zc,ig,ng,rg,new Y)),r&&(ig.fromBufferAttribute(r,a),ng.fromBufferAttribute(r,s),rg.fromBufferAttribute(r,o),d.uv1=Kn.getInterpolation(ag,Wc,qc,Zc,ig,ng,rg,new Y)),i&&(EE.fromBufferAttribute(i,a),TE.fromBufferAttribute(i,s),DE.fromBufferAttribute(i,o),d.normal=Kn.getInterpolation(ag,Wc,qc,Zc,EE,TE,DE,new E),d.normal.dot(e.direction)>0&&d.normal.multiplyScalar(-1));let u={a,b:s,c:o,normal:new E,materialIndex:0};Kn.getNormal(Wc,qc,Zc,u.normal),d.face=u,d.faceIndex=a}return d}function PE(e,t,i,n,r){let a=n*3,s=e.index.getX(a),o=e.index.getX(a+1),l=e.index.getX(a+2),{position:d,normal:u,uv:c,uv1:f}=e.attributes,h=u$(i,d,u,c,f,s,o,l,t);return h?(h.faceIndex=n,r&&r.push(h),h):null}function f$(e,t,i,n,r,a){for(let s=n,o=n+r;s<o;s++)PE(e,t,i,s,a)}function h$(e,t,i,n,r){let a=1/0,s=null;for(let o=n,l=n+r;o<l;o++){let d=PE(e,t,i,o);d&&d.distance<a&&(s=d,a=d.distance)}return s}function _s(e,t,i,n){let r=e.a,a=e.b,s=e.c,o=t,l=t+1,d=t+2;i&&(o=i.getX(t),l=i.getX(t+1),d=i.getX(t+2)),r.x=n.getX(o),r.y=n.getY(o),r.z=n.getZ(o),a.x=n.getX(l),a.y=n.getY(l),a.z=n.getZ(l),s.x=n.getX(d),s.y=n.getY(d),s.z=n.getZ(d)}function IE(e,t,i,n,r,a,s){let o=i.index,l=i.attributes.position;for(let d=e,u=t+e;d<u;d++)if(_s(s,d*3,o,l),s.needsUpdate=!0,n(s,d,r,a))return!0;return!1}var OE=class{constructor(e){this._getNewPrimitive=e,this._primitives=[]}getPrimitive(){let e=this._primitives;return e.length===0?this._getNewPrimitive():e.pop()}releasePrimitive(e){this._primitives.push(e)}};function tl(e,t){return t[e+15]===65535}function Yc(e,t){return t[e+6]}function Hf(e,t){return t[e+14]}function Gf(e){return e+8}function Wf(e,t){return t[e+6]}function p$(e,t){return t[e+7]}var Xc=new Xi,sg=new E,m$=["x","y","z"];function Yy(e,t,i,n,r){let a=e*2,s=Kc,o=il,l=nl;if(tl(a,o)){let d=Yc(e,l),u=Hf(a,o);f$(t,i,n,d,u,r)}else{let d=Gf(e);og(d,s,n,sg)&&Yy(d,t,i,n,r);let u=Wf(e,l);og(u,s,n,sg)&&Yy(u,t,i,n,r)}}function Xy(e,t,i,n){let r=e*2,a=Kc,s=il,o=nl;if(tl(r,s)){let l=Yc(e,o),d=Hf(r,s);return h$(t,i,n,l,d)}else{let l=p$(e,o),d=m$[l],u=n.direction[d]>=0,c,f;u?(c=Gf(e),f=Wf(e,o)):(c=Wf(e,o),f=Gf(e));let h=og(c,a,n,sg)?Xy(c,t,i,n):null;if(h){let m=h.point[d];if(u?m<=a[f+l]:m>=a[f+l+3])return h}let p=og(f,a,n,sg)?Xy(f,t,i,n):null;return h&&p?h.distance<=p.distance?h:p:h||p||null}}var g$=function(){let e,t,i=[],n=new OE(()=>new Xi);return function(...a){e=n.getPrimitive(),t=n.getPrimitive(),i.push(e,t);let s=r(...a);n.releasePrimitive(e),n.releasePrimitive(t),i.pop(),i.pop();let o=i.length;return o>0&&(t=i[o-1],e=i[o-2]),s};function r(a,s,o,l,d=null,u=0,c=0){function f(y){let b=y*2,_=il,x=nl;for(;!tl(b,_);)y=Gf(y),b=y*2;return Yc(y,x)}function h(y){let b=y*2,_=il,x=nl;for(;!tl(b,_);)y=Wf(y,x),b=y*2;return Yc(y,x)+Hf(b,_)}let p=a*2,m=Kc,g=il,v=nl;if(tl(p,g)){let y=Yc(a,v),b=Hf(p,g);return vs(a,m,e),l(y,b,!1,c,u+a,e)}else{let y=Gf(a),b=Wf(a,v),_=y,x=b,k,w,S,A;if(d&&(S=e,A=t,vs(_,m,S),vs(x,m,A),k=d(S),w=d(A),w<k)){_=b,x=y;let H=k;k=w,w=H,S=A}S||(S=e,vs(_,m,S));let M=tl(_*2,g),C=o(S,M,k,c+1,u+_),T;if(C===2){let H=f(_),U=h(_)-H;T=l(H,U,!0,c+1,u+_,S)}else T=C&&r(_,s,o,l,d,u,c+1);if(T)return!0;A=t,vs(x,m,A);let P=tl(x*2,g),I=o(A,P,w,c+1,u+x),j;if(I===2){let H=f(x),U=h(x)-H;j=l(H,U,!0,c+1,u+x,A)}else j=I&&r(x,s,o,l,d,u,c+1);return!!j}}}(),v$=function(){let e=new lo,t=new lo,i=new Ee,n=new bs,r=new bs;return function a(s,o,l,d,u=null){let c=s*2,f=Kc,h=il,p=nl;if(u===null&&(l.boundingBox||l.computeBoundingBox(),n.set(l.boundingBox.min,l.boundingBox.max,d),u=n),tl(c,h)){let m=o,g=m.index,v=m.attributes.position,y=l.index,b=l.attributes.position,_=Yc(s,p),x=Hf(c,h);if(i.copy(d).invert(),l.boundsTree)return vs(s,f,r),r.matrix.copy(i),r.needsUpdate=!0,l.boundsTree.shapecast({intersectsBounds:k=>r.intersectsBox(k),intersectsTriangle:k=>{k.a.applyMatrix4(d),k.b.applyMatrix4(d),k.c.applyMatrix4(d),k.needsUpdate=!0;for(let w=_*3,S=(x+_)*3;w<S;w+=3)if(_s(t,w,g,v),t.needsUpdate=!0,k.intersectsTriangle(t))return!0;return!1}});for(let k=_*3,w=x+_*3;k<w;k+=3){_s(e,k,g,v),e.a.applyMatrix4(i),e.b.applyMatrix4(i),e.c.applyMatrix4(i),e.needsUpdate=!0;for(let S=0,A=y.count;S<A;S+=3)if(_s(t,S,y,b),t.needsUpdate=!0,e.intersectsTriangle(t))return!0}}else{let m=s+8,g=p[s+6];return vs(m,f,Xc),!!(u.intersectsBox(Xc)&&a(m,o,l,d,u)||(vs(g,f,Xc),u.intersectsBox(Xc)&&a(g,o,l,d,u)))}}}();function og(e,t,i,n){return vs(e,t,Xc),i.intersectBox(Xc,n)}var Ky=[],lg,Kc,il,nl;function qf(e){lg&&Ky.push(lg),lg=e,Kc=new Float32Array(e),il=new Uint16Array(e),nl=new Uint32Array(e)}function dg(){lg=null,Kc=null,il=null,nl=null,Ky.length&&qf(Ky.pop())}var Qy=Symbol("skip tree generation"),Jy=new Xi,$y=new Xi,Qc=new Ee,ad=new bs,Zf=new bs,Yf=new E,cg=new E,y$=new E,b$=new E,_$=new E,jE=new Xi,ws=new OE(()=>new lo),Xf=class{static serialize(e,t={}){if(t.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),Xf.serialize(arguments[0],{cloneBuffers:arguments[2]===void 0?!0:arguments[2]});t=R({cloneBuffers:!0},t);let i=e.geometry,n=e._roots,r=i.getIndex(),a;return t.cloneBuffers?a={roots:n.map(s=>s.slice()),index:r.array.slice()}:a={roots:n,index:r.array},a}static deserialize(e,t,i={}){if(typeof i=="boolean")return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),Xf.deserialize(arguments[0],arguments[1],{setIndex:arguments[2]===void 0?!0:arguments[2]});i=R({setIndex:!0},i);let{index:n,roots:r}=e,a=new Xf(t,Q(R({},i),{[Qy]:!0}));if(a._roots=r,i.setIndex){let s=t.getIndex();if(s===null){let o=new _t(e.index,1,!1);t.setIndex(o)}else s.array!==n&&(s.array.set(n),s.needsUpdate=!0)}return a}constructor(e,t={}){if(e.isBufferGeometry){if(e.index&&e.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw new Error("MeshBVH: Only BufferGeometries are supported.");if(t=Object.assign({strategy:0,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,[Qy]:!1},t),t.useSharedArrayBuffer&&typeof SharedArrayBuffer>"u")throw new Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,t[Qy]||(this._roots=s$(e,t),!e.boundingBox&&t.setBoundingBox&&(e.boundingBox=this.getBoundingBox(new Xi))),this.geometry=e}refit(e=null){e&&Array.isArray(e)&&(e=new Set(e));let t=this.geometry,i=t.index.array,n=t.attributes.position,r,a,s,o,l=0,d=this._roots;for(let c=0,f=d.length;c<f;c++)r=d[c],a=new Uint32Array(r),s=new Uint16Array(r),o=new Float32Array(r),u(0,l),l+=r.byteLength;function u(c,f,h=!1){let p=c*2;if(s[p+15]===65535){let m=a[c+6],g=s[p+14],v=1/0,y=1/0,b=1/0,_=-1/0,x=-1/0,k=-1/0;for(let w=3*m,S=3*(m+g);w<S;w++){let A=i[w],M=n.getX(A),C=n.getY(A),T=n.getZ(A);M<v&&(v=M),M>_&&(_=M),C<y&&(y=C),C>x&&(x=C),T<b&&(b=T),T>k&&(k=T)}return o[c+0]!==v||o[c+1]!==y||o[c+2]!==b||o[c+3]!==_||o[c+4]!==x||o[c+5]!==k?(o[c+0]=v,o[c+1]=y,o[c+2]=b,o[c+3]=_,o[c+4]=x,o[c+5]=k,!0):!1}else{let m=c+8,g=a[c+6],v=m+f,y=g+f,b=h,_=!1,x=!1;e?b||(_=e.has(v),x=e.has(y),b=!_&&!x):(_=!0,x=!0);let k=b||_,w=b||x,S=!1;k&&(S=u(m,f,b));let A=!1;w&&(A=u(g,f,b));let M=S||A;if(M)for(let C=0;C<3;C++){let T=m+C,P=g+C,I=o[T],j=o[T+3],H=o[P],U=o[P+3];o[c+C]=I<H?I:H,o[c+C+3]=j>U?j:U}return M}}}traverse(e,t=0){let i=this._roots[t],n=new Uint32Array(i),r=new Uint16Array(i);a(0);function a(s,o=0){let l=s*2,d=r[l+15]===65535;if(d){let u=n[s+6],c=r[l+14];e(o,d,new Float32Array(i,s*4,6),u,c)}else{let u=s+8,c=n[s+6],f=n[s+7];e(o,d,new Float32Array(i,s*4,6),f)||(a(u,o+1),a(c,o+1))}}}raycast(e,t=Ta){let i=this._roots,n=this.geometry,r=[],a=t.isMaterial,s=Array.isArray(t),o=n.groups,l=a?t.side:t;for(let d=0,u=i.length;d<u;d++){let c=s?t[o[d].materialIndex].side:l,f=r.length;if(qf(i[d]),Yy(0,n,c,e,r),dg(),s){let h=o[d].materialIndex;for(let p=f,m=r.length;p<m;p++)r[p].face.materialIndex=h}}return r}raycastFirst(e,t=Ta){let i=this._roots,n=this.geometry,r=t.isMaterial,a=Array.isArray(t),s=null,o=n.groups,l=r?t.side:t;for(let d=0,u=i.length;d<u;d++){let c=a?t[o[d].materialIndex].side:l;qf(i[d]);let f=Xy(0,n,c,e);dg(),f!=null&&(s==null||f.distance<s.distance)&&(s=f,a&&(f.face.materialIndex=o[d].materialIndex))}return s}intersectsGeometry(e,t){let i=this.geometry,n=!1;for(let r of this._roots)if(qf(r),n=v$(0,i,e,t),dg(),n)break;return n}shapecast(e,t,i){let n=this.geometry;if(e instanceof Function){if(t){let c=t;t=(f,h,p,m)=>{let g=h*3;return c(f,g,g+1,g+2,p,m)}}e={boundsTraverseOrder:i,intersectsBounds:e,intersectsTriangle:t,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}let r=ws.getPrimitive(),{boundsTraverseOrder:a,intersectsBounds:s,intersectsRange:o,intersectsTriangle:l}=e;if(o&&l){let c=o;o=(f,h,p,m,g)=>c(f,h,p,m,g)?!0:IE(f,h,n,l,p,m,r)}else o||(l?o=(c,f,h,p)=>IE(c,f,n,l,h,p,r):o=(c,f,h)=>h);let d=!1,u=0;for(let c of this._roots){if(qf(c),d=g$(0,n,s,o,a,u),dg(),d)break;u+=c.byteLength}return ws.releasePrimitive(r),d}bvhcast(e,t,i){let{intersectsRanges:n,intersectsTriangles:r}=i,a=this.geometry.index,s=this.geometry.attributes.position,o=e.geometry.index,l=e.geometry.attributes.position;Qc.copy(t).invert();let d=ws.getPrimitive(),u=ws.getPrimitive();if(r){let f=function(h,p,m,g,v,y,b,_){for(let x=m,k=m+g;x<k;x++){_s(u,x*3,o,l),u.a.applyMatrix4(t),u.b.applyMatrix4(t),u.c.applyMatrix4(t),u.needsUpdate=!0;for(let w=h,S=h+p;w<S;w++)if(_s(d,w*3,a,s),d.needsUpdate=!0,r(d,u,w,x,v,y,b,_))return!0}return!1};if(n){let h=n;n=function(p,m,g,v,y,b,_,x){return h(p,m,g,v,y,b,_,x)?!0:f(p,m,g,v,y,b,_,x)}}else n=f}e.getBoundingBox($y),$y.applyMatrix4(t);let c=this.shapecast({intersectsBounds:f=>$y.intersectsBox(f),intersectsRange:(f,h,p,m,g,v)=>(Jy.copy(v),Jy.applyMatrix4(Qc),e.shapecast({intersectsBounds:y=>Jy.intersectsBox(y),intersectsRange:(y,b,_,x,k)=>n(f,h,y,b,m,g,x,k)}))});return ws.releasePrimitive(d),ws.releasePrimitive(u),c}intersectsBox(e,t){return ad.set(e.min,e.max,t),ad.needsUpdate=!0,this.shapecast({intersectsBounds:i=>ad.intersectsBox(i),intersectsTriangle:i=>ad.intersectsTriangle(i)})}intersectsSphere(e){return this.shapecast({intersectsBounds:t=>e.intersectsBox(t),intersectsTriangle:t=>t.intersectsSphere(e)})}closestPointToGeometry(e,t,i={},n={},r=0,a=1/0){e.boundingBox||e.computeBoundingBox(),ad.set(e.boundingBox.min,e.boundingBox.max,t),ad.needsUpdate=!0;let s=this.geometry,o=s.attributes.position,l=s.index,d=e.attributes.position,u=e.index,c=ws.getPrimitive(),f=ws.getPrimitive(),h=cg,p=y$,m=null,g=null;n&&(m=b$,g=_$);let v=1/0,y=null,b=null;return Qc.copy(t).invert(),Zf.matrix.copy(Qc),this.shapecast({boundsTraverseOrder:_=>ad.distanceToBox(_),intersectsBounds:(_,x,k)=>k<v&&k<a?(x&&(Zf.min.copy(_.min),Zf.max.copy(_.max),Zf.needsUpdate=!0),!0):!1,intersectsRange:(_,x)=>{if(e.boundsTree)return e.boundsTree.shapecast({boundsTraverseOrder:k=>Zf.distanceToBox(k),intersectsBounds:(k,w,S)=>S<v&&S<a,intersectsRange:(k,w)=>{for(let S=k*3,A=(k+w)*3;S<A;S+=3){_s(f,S,u,d),f.a.applyMatrix4(t),f.b.applyMatrix4(t),f.c.applyMatrix4(t),f.needsUpdate=!0;for(let M=_*3,C=(_+x)*3;M<C;M+=3){_s(c,M,l,o),c.needsUpdate=!0;let T=c.distanceToTriangle(f,h,m);if(T<v&&(p.copy(h),g&&g.copy(m),v=T,y=M/3,b=S/3),T<r)return!0}}}});{let k=u?u.count:d.count;for(let w=0,S=k;w<S;w+=3){_s(f,w,u,d),f.a.applyMatrix4(t),f.b.applyMatrix4(t),f.c.applyMatrix4(t),f.needsUpdate=!0;for(let A=_*3,M=(_+x)*3;A<M;A+=3){_s(c,A,l,o),c.needsUpdate=!0;let C=c.distanceToTriangle(f,h,m);if(C<v&&(p.copy(h),g&&g.copy(m),v=C,y=A/3,b=w/3),C<r)return!0}}}}}),ws.releasePrimitive(c),ws.releasePrimitive(f),v===1/0?null:(i.point?i.point.copy(p):i.point=p.clone(),i.distance=v,i.faceIndex=y,n&&(n.point?n.point.copy(g):n.point=g.clone(),n.point.applyMatrix4(Qc),p.applyMatrix4(Qc),n.distance=p.sub(n.point).length(),n.faceIndex=b),i)}closestPointToPoint(e,t={},i=0,n=1/0){let r=i*i,a=n*n,s=1/0,o=null;if(this.shapecast({boundsTraverseOrder:d=>(Yf.copy(e).clamp(d.min,d.max),Yf.distanceToSquared(e)),intersectsBounds:(d,u,c)=>c<s&&c<a,intersectsTriangle:(d,u)=>{d.closestPointToPoint(e,Yf);let c=e.distanceToSquared(Yf);return c<s&&(cg.copy(Yf),s=c,o=u),c<r}}),s===1/0)return null;let l=Math.sqrt(s);return t.point?t.point.copy(cg):t.point=cg.clone(),t.distance=l,t.faceIndex=o,t}getBoundingBox(e){return e.makeEmpty(),this._roots.forEach(t=>{vs(0,new Float32Array(t),jE),e.union(jE)}),e}},Kf=En(AB()),w$=.5*(Math.sqrt(3)-1),Qf=(3-Math.sqrt(3))/6,x$=1/3,xs=1/6,Jhe=(Math.sqrt(5)-1)/4,$he=(5-Math.sqrt(5))/20,Jf=e=>Math.floor(e)|0,RE=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]),eb=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function tb(e=Math.random){let t=zE(e),i=new Float64Array(t).map(r=>RE[r%12*2]),n=new Float64Array(t).map(r=>RE[r%12*2+1]);return function(r,a){let s=0,o=0,l=0,d=(r+a)*w$,u=Jf(r+d),c=Jf(a+d),f=(u+c)*Qf,h=u-f,p=c-f,m=r-h,g=a-p,v,y;m>g?(v=1,y=0):(v=0,y=1);let b=m-v+Qf,_=g-y+Qf,x=m-1+2*Qf,k=g-1+2*Qf,w=u&255,S=c&255,A=.5-m*m-g*g;if(A>=0){let T=w+t[S],P=i[T],I=n[T];A*=A,s=A*A*(P*m+I*g)}let M=.5-b*b-_*_;if(M>=0){let T=w+v+t[S+y],P=i[T],I=n[T];M*=M,o=M*M*(P*b+I*_)}let C=.5-x*x-k*k;if(C>=0){let T=w+1+t[S+1],P=i[T],I=n[T];C*=C,l=C*C*(P*x+I*k)}return 70*(s+o+l)}}function k$(e=Math.random){let t=zE(e),i=new Float64Array(t).map(a=>eb[a%12*3]),n=new Float64Array(t).map(a=>eb[a%12*3+1]),r=new Float64Array(t).map(a=>eb[a%12*3+2]);return function(a,s,o){let l,d,u,c,f=(a+s+o)*x$,h=Jf(a+f),p=Jf(s+f),m=Jf(o+f),g=(h+p+m)*xs,v=h-g,y=p-g,b=m-g,_=a-v,x=s-y,k=o-b,w,S,A,M,C,T;_>=x?x>=k?(w=1,S=0,A=0,M=1,C=1,T=0):_>=k?(w=1,S=0,A=0,M=1,C=0,T=1):(w=0,S=0,A=1,M=1,C=0,T=1):x<k?(w=0,S=0,A=1,M=0,C=1,T=1):_<k?(w=0,S=1,A=0,M=0,C=1,T=1):(w=0,S=1,A=0,M=1,C=1,T=0);let P=_-w+xs,I=x-S+xs,j=k-A+xs,H=_-M+2*xs,U=x-C+2*xs,O=k-T+2*xs,F=_-1+3*xs,Z=x-1+3*xs,G=k-1+3*xs,L=h&255,X=p&255,q=m&255,J=.6-_*_-x*x-k*k;if(J<0)l=0;else{let oe=L+t[X+t[q]];J*=J,l=J*J*(i[oe]*_+n[oe]*x+r[oe]*k)}let W=.6-P*P-I*I-j*j;if(W<0)d=0;else{let oe=L+w+t[X+S+t[q+A]];W*=W,d=W*W*(i[oe]*P+n[oe]*I+r[oe]*j)}let ce=.6-H*H-U*U-O*O;if(ce<0)u=0;else{let oe=L+M+t[X+C+t[q+T]];ce*=ce,u=ce*ce*(i[oe]*H+n[oe]*U+r[oe]*O)}let te=.6-F*F-Z*Z-G*G;if(te<0)c=0;else{let oe=L+1+t[X+1+t[q+1]];te*=te,c=te*te*(i[oe]*F+n[oe]*Z+r[oe]*G)}return 32*(l+d+u+c)}}function zE(e){let t=new Uint8Array(512);for(let i=0;i<512/2;i++)t[i]=i;for(let i=0;i<512/2-1;i++){let n=i+~~(e()*(256-i)),r=t[i];t[i]=t[n],t[n]=r}for(let i=256;i<512;i++)t[i]=t[i-256];return t}var Fa=new Kn,S$=class{constructor(e){this.weightAttribute=null;let t=e.geometry;if(!t.isBufferGeometry||t.attributes.position.itemSize!==3)throw new Error("THREE.MeshSurfaceSampler: Requires BufferGeometry triangle mesh.");t.index&&(t=t.toNonIndexed()),this.geometry=t,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.distribution=null}build(){let e=this.positionAttribute,t=new Float32Array(e.count/3);for(let n=0;n<e.count;n+=3){let r=1;Fa.a.fromBufferAttribute(e,n),Fa.b.fromBufferAttribute(e,n+1),Fa.c.fromBufferAttribute(e,n+2),r*=Fa.getArea(),t[n/3]=r}this.distribution=new Float32Array(e.count/3);let i=0;for(let n=0;n<t.length;n++)i+=t[n],this.distribution[n]=i;return this}setRandomGenerator(e){return this.randomFunction=e,this}sample(e,t){if(this.distribution){let i=this.distribution[this.distribution.length-1],n=this.binarySearch(this.randomFunction()*i);return this.sampleFace(n,e,t)}}binarySearch(e){if(!this.distribution)return 0;let t=this.distribution,i=0,n=t.length-1,r=-1;for(;i<=n;){let a=Math.ceil((i+n)/2);if(a===0||t[a-1]<=e&&t[a]>e){r=a;break}else e<t[a]?n=a-1:i=a+1}return r}sampleFace(e,t,i){let n=this.randomFunction(),r=this.randomFunction();return n+r>1&&(n=1-n,r=1-r),Fa.a.fromBufferAttribute(this.positionAttribute,e*3),Fa.b.fromBufferAttribute(this.positionAttribute,e*3+1),Fa.c.fromBufferAttribute(this.positionAttribute,e*3+2),t.set(0,0,0).addScaledVector(Fa.a,n).addScaledVector(Fa.b,r).addScaledVector(Fa.c,1-(n+r)),Fa.getNormal(i),this}},A$=En(tS()),M$=new Ee,C$=new Ee,E$=new Ee,$f;(e=>{function t(i){return i&&i.__isSPEObject}e.is=t})($f||($f={}));var ib=e=>class extends e{constructor(){super(...arguments),this.previousModelViewMatrix=new Ee,this.copyPreviousMatrix=!0,this.hiddenMatrix=new Ee,this.matrixWorldRigid=new Ee,this.shearScale=new Ee,this.shearScaleInv=new Ee}get __isSPEObject(){return!0}isDescendantOf(t){t instanceof mi&&(t=t.uuid);let i=this;for(;i.parent;){if(i.parent.uuid===t)return!0;i=i.parent}return!1}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);for(let i of this.children)i.updateMatrixWorld(t)}updateWorldMatrix(t,i){let n=this.parent;if(t&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),i)for(let r of this.children)r.updateWorldMatrix(!1,!0)}traverseChildren(t,i=0){for(let n of this.children)$f.is(n)&&n.traverseObject(t,i+1)}traverseObject(t,i=0){if(t(this,i)!==!0)for(let n of this.children)$f.is(n)&&n.traverseObject(t,i+1)}updateMatrixWorldSVD(){let t=this.matrixWorld.elements,i=[[t[0],t[4],t[8]],[t[1],t[5],t[9]],[t[2],t[6],t[10]]],{u:n,v:r,q:a}=(0,A$.SVD)(i),s=M$.set(n[0][0],n[0][1],n[0][2],0,n[1][0],n[1][1],n[1][2],0,n[2][0],n[2][1],n[2][2],0,0,0,0,1),o=C$.set(r[0][0],r[0][1],r[0][2],0,r[1][0],r[1][1],r[1][2],0,r[2][0],r[2][1],r[2][2],0,0,0,0,1),l=E$.copy(o).transpose();this.shearScale.makeScale(a[0],a[1],a[2]).multiply(l).premultiply(o),this.shearScaleInv.copy(this.shearScale).invert(),this.matrixWorldRigid.multiplyMatrices(s,l).copyPosition(this.matrixWorld),a.every(d=>Math.abs(a[0]-d)<.01)?this.hasNonUniformScale=!1:this.hasNonUniformScale=!0}attach(t,i){this.updateWorldMatrix(!0,!1);let n=new Ee().copy(this.matrixWorld).invert();return t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),n.multiply(t.parent.matrixWorld)),"hiddenMatrix"in t&&t.hiddenMatrix instanceof Ee?t.hiddenMatrix.premultiply(n):t.applyMatrix4(n),t.updateWorldMatrix(!1,!1),this.add(t),i!==void 0&&(this.children.pop(),this.children.splice(i,0,t)),this}copy(t,i=!1){return super.copy(t,i),this.hasNonUniformScale=t.hasNonUniformScale,this}onAfterRender(t,i,n,r,a,s){this.copyPreviousMatrix&&this.previousModelViewMatrix.copy(this.modelViewMatrix)}},T$=class extends ib(mi){},D$=e=>e.type==="Mesh",er=class extends T${constructor(e){super(),this.object=e,this.matrixAutoUpdate=!1,this.hasNonUniformScale=e.hasNonUniformScale}raycast(e,t){}expand(){let e=0,t=this.object.entityChildren(e);for(;t;){let i=this.children[e];(i==null?void 0:i.object)!==t&&(i&&this.remove(i),i=new er(t),this.add(i),this.children.splice(e,0,this.children.pop()),i.matrixWorldNeedsUpdate=!0,i.matrixAutoUpdate=!1,i.matrix=t.matrix,i.hiddenMatrix=t.hiddenMatrix),i.expand(),e+=1,t=this.object.entityChildren(e)}for(;this.children.length>e;)this.remove(this.children[e])}get visible(){var e;return this.playModeVisible!==void 0?this.playModeVisible:this.object.visible||this.object.dataPatched.visible&&((e=this.object.dataPatched.cloner)==null?void 0:e.hideBase)===!0}set visible(e){}get castShadow(){return this.object.castShadow}set castShadow(e){}get receiveShadow(){return this.object.receiveShadow}set receiveShadow(e){}get isMesh(){return D$(this.object)}get isLight(){return this.object.isLight}get layers(){return this.object.layers}set layers(e){}get isCamera(){return!1}get geometry(){if(this.object.geometry)return this.object.geometry}get material(){if(this.object.material)return this.object.material}},sd=new E,od=new E,Jc=new Ee,BE=[new E(-1,1,1),new E(-1,-1,1),new E(1,-1,1),new E(1,1,1),new E(-1,1,-1),new E(-1,-1,-1),new E(1,-1,-1),new E(1,1,-1)],P$=[[0,3],[1,2],[5,6],[4,7],[0,1],[3,2],[7,6],[4,5],[0,4],[1,5],[2,6],[3,7]],I$=[[0,2],[7,5],[4,1],[3,6],[4,3],[1,6]],LE=(e,t,i)=>{e.updateEntityBoxSize(sd,od),Jc.copy(t).multiply(e.matrixWorld),od.x===0&&od.y===0&&od.z===0?i.push(new E(sd.x,sd.y,sd.z).applyMatrix4(Jc)):BE.forEach(n=>{i.push(n.clone().multiply(od).add(sd).applyMatrix4(Jc))})},FE=class extends Xi{constructor(){super(...arguments),this.matrix=new Ee,this.vertices=[],this.faces=[],this.edges=[],this.centerEdges=[]}copy(e){return super.copy(e),this.matrix.copy(e.matrix),this.vertices=e.vertices.map(t=>t.clone()),this.faces=e.faces.map(t=>t.clone()),this.edges=e.edges.map(t=>t.clone()),this.centerEdges=e.centerEdges.map(t=>t.clone()),this}setFromObjectSize(e,t=!1){e.updateWorldMatrix(!1,t),this.makeEmpty(),this.matrix.copy(e.matrixWorld);let i=new Ee().copy(e.matrixWorld).invert();return this.expandByObjectSize(e,i,t)}expandByObjectSize(e,t,i=!1){let n=[];return i===!0?e.traverseEntity(r=>{if(r.visible||r.cloner&&r.data.visible){if(!("geometry"in r)){n.push(new E);return}LE(r,t,n)}}):LE(e,t,n),this.setFromPoints(n)}getCenter(e){return e=super.getCenter(e),e.applyMatrix4(this.matrix),e}getPositionToCenter(e){return e=super.getCenter(e),e.applyMatrix4(Jc.copy(this.matrix).setPosition(0,0,0)),e}computeVertices(){this.getSize(od).multiplyScalar(.5),this.getCenter(sd),Jc.copy(this.matrix).setPosition(sd),this.vertices=BE.map(e=>e.clone().multiply(od).applyMatrix4(Jc))}computeEdges(){this.vertices.length>0&&this.computeVertices(),this.edges=P$.map(([e,t])=>new ua(this.vertices[e],this.vertices[t])),this.centerEdges=this.edges.map(e=>e.getCenter(new E))}computeFaces(){this.vertices.length>0&&this.computeVertices(),this.faces=I$.map(([e,t])=>this.vertices[e].clone().add(this.vertices[t]).multiplyScalar(.5))}},rl={Cloner:()=>{},changeEntityProptotype:()=>{},createEntity:()=>{}},O$=class extends ZA{constructor(){super()}getPoints(e=12){let t=[],i,n=this.getCurveLengths(),r=n[n.length-1]/n.length;for(let a=0,s=this.curves;a<s.length;a++){let o=s[a],l=a===0?n[a]:n[a]-n[a-1],d=Math.ceil(e*l/r),u=o.getPoints(d);for(let c=0;c<u.length;c++){let f=u[c];i&&i.equals(f)||(t.push(f),i=f)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}},nb=.001;function rb(e,t,i){return t.clone().sub(e).cross(t.clone().sub(i)).length()<=nb}function ab(e,t){let i=new E(...e.position),n=new E(...e.controlNext.position),r=new E(...t.controlPrevious.position),a=new E(...t.position);return rb(i,n,a)&&rb(i,r,a)}function NE(e){let t=e.points.map(u=>new E(...u.data.position)),i=[e.points[0]],n=new E(...i[0].data.position);for(let u=0;u<e.points.length-1;u++)rb(n,t[u],t[u+1])||(i.push(e.points[u]),n=t[u]);i.push(e.points[e.points.length-1]);let r=e.isClosed,a=i.length-(r?0:1),s=i.length,o=[];for(let u=0;u<s;u++){let c=i[u].data,f=new E(...c.position),h=new E(...c.controlPrevious.position),p=new E(...c.controlNext.position),m={position:f,baseRoundness:c.roundness,controlPrevious:h,controlNext:p};if(c.roundness===0||!e.isClosed&&(u===0||u===s-1)){o[u]=Q(R({},m),{removedLength:0});continue}let g=r&&u==0?s-1:u-1,v=r&&u==s-1?0:u+1,y=i[g].data,b=i[v].data,_=new E(...y.position),x=new E(...b.position),k=_.clone().sub(f).normalize(),w=x.clone().sub(f).normalize();Object.assign(m,{prevDir:k,nextDir:w});let S=ab(y,c),A=ab(c,b);if(!S||!A)o[u]=Q(R({},m),{removedLength:0});else{let M=k.clone().add(w).normalize(),C=M.clone().cross(k).length()/k.dot(M);o[u]=Q(R({},m),{tan:C,removedLength:c.roundness/C})}}for(let u=0;u<a;u++){let c=u,f=r&&u===s-1?0:u+1,h=o[c],p=o[f];if(h.removedLength!==0||p.removedLength!==0){let m=h.position.distanceTo(p.position);h.removedLength=Math.min(h.removedLength,m/2),p.removedLength=Math.min(p.removedLength,m/2)}}let l=[];for(let u=0;u<a;u++){let c=u,f=r&&u===s-1?0:u+1,h=o[c],p=o[f],m=null;if(!ab(i[c].data,i[f].data))h.position.distanceTo(p.position)>nb&&(m=new Hp(h.position,h.controlNext,p.controlPrevious,p.position));else{let g=h.position.clone(),v=p.position.clone();(h.removedLength!==0||p.removedLength!==0)&&(h.nextDir&&g.add(h.nextDir.clone().setLength(h.removedLength)),p.prevDir&&v.add(p.prevDir.clone().setLength(p.removedLength))),g.distanceTo(v)>nb&&(m=new Hp(g,g.clone().lerp(v,.3),v.clone().lerp(g,.3),v))}l[2*u+1]=m}for(let u=0;u<s;u++){let c=o[u];if(c.removedLength===0){l[2*u]=null;continue}let f=c.position,h=c.prevDir.clone().multiplyScalar(c.removedLength).add(f),p=c.nextDir.clone().multiplyScalar(c.removedLength).add(f),m=c.tan*c.removedLength,g=c.prevDir.clone().add(c.nextDir).normalize(),v=h.clone().lerp(p,.5),y=h.distanceTo(p)/2,b=g.clone().multiplyScalar(Math.sqrt(Math.pow(m,2)-Math.pow(y,2))).add(v),_=g.clone().multiplyScalar(-m).add(b),x=f.distanceTo(_)/f.distanceTo(v),k=c.prevDir.clone().multiplyScalar(x*f.distanceTo(h)).add(f),w=k.clone().lerp(_,2),S=h.clone().lerp(k,4/3),A=p.clone().lerp(w,4/3);l[2*u]=new Hp(h,S,A,p)}let d=new O$;return l.forEach(u=>{u&&d.add(u)}),d}var qt;(e=>{function t(i){return i&&i.__isEntity}e.is=t})(qt||(qt={}));var co=e=>qt.is(e),j$={type:"completeState",isfromEntity:!0},R$=["x","y","z"],sb=new E,z$=new E().set(0,1,0),ob=e=>class extends ib(e){constructor(){super(...arguments),this.raycastLock=!1,this.scaleLock=!1,this.disposed=!1,this.stateSelection=null,this.destroyedInAction=!1,this.instances=[],this.prevState=null,this.currentState=null,this.reversibleToState=null,this.currentTransitionEvent=null,this.previousAction=null,this._singleBBox=new FE,this._recursiveBBox=new FE,this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this._needApplyPathSnapping=!0,this.attachedPaths=new Set}get __isEntity(){return!0}entityChildren(t){let i=this.children[t];if(qt.is(i))return i}entityChildrenCount(){let t=this.children.length;for(;t--;)if(qt.is(this.children[t]))return t+1;return 0}get isConcreteEntity(){return typeof this.identity=="string"}get isVirtualEntity(){return typeof this.identity!="string"}get isInstanceRoot(){return this.isConcreteEntity&&this.data.type==="Instance"}nearestInstanceSelfOrParent(){let t=this;for(;t.data.type!=="Instance";){let i=t.parent;if(qt.is(i))t=i;else return}return t}forInstancesRec(t){this.instances.forEach(i=>{i.disposed||t(i),i.forInstancesRec(t)})}super_Entity(t,i){typeof t=="string"&&(this.uuid=t),this.identity=t,this.data=i,this.matrixAutoUpdate=!1,this.dataPatched=this.data}changeSelectedState(t,i,n=!1){if(!(this.data.states.length===0&&!n)){for(let r of this.data.states)id.toOps(this.data,r.data).forEach(a=>{let s=ty.replaceProps(a,this.data);this.dataPatched=this.data,this.updateByPatchedOp(s,this.data,i)});if(t!==null){let r=this.data.states.data(t);r&&(this.dataPatched=id.patch(this.data,r),id.toOps(this.data,r).forEach(a=>{this.updateByPatchedOp(a,this.dataPatched,i)}))}n&&this.updateTransformState(this.dataPatched,i),this.stateSelection=t,this.updatePathSnapping(this.dataPatched.pathSnapping)}}get singleBBox(){return this.singleBBoxNeedsUpdate&&(this.singleBBoxNeedsUpdate=!1,this._singleBBox.setFromObjectSize(this,!1),this._singleBBox.computeVertices(),this._singleBBox.computeEdges(),this._singleBBox.computeFaces()),this._singleBBox}get recursiveBBox(){return this.recursiveBBoxNeedsUpdate&&(this.recursiveBBoxNeedsUpdate=!1,this._recursiveBBox.setFromObjectSize(this,!0),this._recursiveBBox.computeVertices(),this._recursiveBBox.computeEdges(),this._recursiveBBox.computeFaces()),this._recursiveBBox}updateEntityBoxSize(t,i){t.setScalar(0),i.setScalar(0)}resetBBoxNeedsUpdateSelf(){this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}resetBBoxNeedsUpdate(){this.resetBBoxNeedsUpdateSelf(),this.traverseAncestors(t=>{co(t)&&t.resetBBoxNeedsUpdateSelf()}),this.traverseEntity(t=>{t.resetBBoxNeedsUpdateSelf()})}find(t){let i;return this.traverseEntity(n=>{n.uuid===t&&(i=n)}),i}traverseSortNextHelper(){let t=this.parent;if(t){let i=t.children,n=i.indexOf(this)+1;if(qt.is(i[n]))return i[n];if(qt.is(t))return t.traverseSortNextHelper()}}sortNext(){let t=this.children;return this.children.length>0&&qt.is(this.children[0])?t[0]:this.traverseSortNextHelper()}goUp(t){let i=this;for(;t>0&&i!==null;)i=i.parent,t-=1;return i}hasAnccestorOrSelf(t){return this===t||this.hasAnccestor(t)}hasAnccestor(t){let i=this.parent;for(;i;){if(t===i)return!0;i=i.parent}return!1}countToAccestor(t){let i=0,n=this;for(;n!==t;){if(n===null)return-1;n=n.parent,i+=1}return i}forEachEntity(t){for(let i of this.children)co(i)&&t(i)}traverseEntityAncestors(t){this.traverseAncestors(i=>{qt.is(i)&&t(i)})}traverseConcreteEntity(t,i=0){if(t(this,i)!==!0)for(let n of this.children)co(n)&&n.isConcreteEntity&&n.traverseEntity(t,i+1)}traverseEntity(t,i=0){if(t(this,i)!==!0)for(let n of this.children)co(n)&&n.traverseEntity(t,i+1)}traverseVisibleEntity(t){t(this);for(let i of this.children)co(i)&&i.visible&&i.traverseVisibleEntity(t)}updateMatrix(){super.updateMatrix(),this.cloner&&this.cloner.onObjUpdateMatrix(),this.dispatchEvent({type:"updateMatrix"})}updateMatrixWorld(t){super.updateMatrixWorld(t),this.dispatchEvent({type:"updateMatrixWorld"})}copy(t,i=!1){return super.copy(t,i),this.dataPatched=t.dataPatched,this.raycastLock=t.raycastLock,this.scaleLock=t.scaleLock,this.hiddenMatrix.copy(t.hiddenMatrix),this}hasEntityChild(){return this.children.some(t=>co(t))}isAncestorOf(t){if(this.uuid===t)return!1;let i=!1;return this.traverseEntity(n=>{n.uuid===t&&(i=!0)}),i}toObjectTransformState(t=[]){this.updateWorldMatrix(!0,!1);let i={position:this.position.toArray(),rotation:[this.rotation.x*at.RAD2DEG,this.rotation.y*at.RAD2DEG,this.rotation.z*at.RAD2DEG],scale:this.scale.toArray(),hiddenMatrix:this.hiddenMatrix.toArray()};return Z1(i,t)}getTransformValues(t,i,n){return i[t].map((r,a)=>{var s;return(s=n==null?void 0:n.shared.getVariable(r,[this.uuid,t,R$[a]]))!=null?s:r})}updateTransformState(t,i){var r;let n=!1;return t.position&&(this.position.fromArray(this.getTransformValues("position",t,i)),n=!0),t.rotation&&(sb.fromArray(this.getTransformValues("rotation",t,i)).multiplyScalar(at.DEG2RAD),this.rotation.setFromVector3(sb),n=!0),t.scale&&(this.scale.fromArray(this.getTransformValues("scale",t,i)),n=!0),t.hiddenMatrix!==void 0&&(n=!0,this.hiddenMatrix.fromArray((r=t.hiddenMatrix)!=null?r:Ic.identity)),n&&(this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(a=>{a.invalidateClonerTransform(this)})),t.position&&t.rotation&&t.scale&&t.hiddenMatrix!==void 0&&this.updateWorldMatrix(!1,!0),n}onVariableUpdate(t=!1){if(t){this.resetBBoxNeedsUpdate();return}this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(i=>{i.invalidateClonerTransform(this)})}dispose(){this.disposed=!0,this.cloner&&(this.cloner.removeFromParent(),this.cloner=void 0)}disposeChildrenRecursively(){for(let t of this.children)qt.is(t)&&t.disposeRecursively()}disposeRecursively(){this.dispose(),this.children.forEach(t=>{qt.is(t)&&t.disposeRecursively()})}toState(t=[]){let i=R({name:this.name,visible:this.visible,raycastLock:this.raycastLock},this.toObjectTransformState(t));return Z1(i,t)}updateByObjUpdateOp(t,i){t!==void 0&&this.updateByOp({type:0,props:t,path:[]},R(R({},this.data),t),i,!1)}updateByOp(t,i,n,r){let a=this.data;this.data=i;let s=t,o=pa(t.path,["states","*"]);if(o!==null){if(t.type===0){let[u]=o;if((this==null?void 0:this.stateSelection)===u){let c=R({},t.props);if(delete c.name,Object.values(t.props).some(f=>f===void 0)){let f=this.data;if(f!==void 0){let h=hr.zoom(f,t.path.slice(2));if(h)for(let p in t.props)t.props[p]===void 0&&p in h&&(c[p]=h[p])}}s=Q(R({},t),{props:c,path:t.path.slice(2)})}}}else if(t.type===0){let u=this.stateSelection?this.data.states.data(this.stateSelection):void 0;if(u!==void 0){if(t.props.name!==void 0&&u.name){let l=u,{name:f}=l;u=Eo(l,["name"])}if(t.props.material!==void 0&&"material"in u){let d=u,{material:f}=d;u=Eo(d,["material"])}let c=hr.removeOverridden(t.path,t.props,u);s=Q(R({},t),{props:c})}}if(this.updateByPatchedOpBase(s,id.patch(this.data,this.stateSelection?this.data.states.data(this.stateSelection):void 0),n),pa(t.path,["overrides"])){let u=[],c=[...t.path];for(u.push(c[1]),c.splice(0,2);c.length>0&&c[0]==="descendants";)u.push(c[1]),c.splice(0,2);if(u[u.length-1]===void 0){if(t.type===0)for(let f of Object.keys(t.props)){u[u.length-1]=f;let h=n.scene.findInstance([this.uuid,...u]);h&&(h.overrideData=t.props[f],h.updateState(Wo.apply(h.component.data,h.overrideData),n))}}else{let f=n.scene.findInstance([this.uuid,...u]);if(f){let h=hr.zoom(f.component.data,c);if(t=Q(R({},t),{path:c}),t.type===0){let p=t.props;if(h)for(let[m,g]of Object.entries(t.props))g===void 0&&(p===t.props&&(p=R({},t.props)),p[m]=h[m]);t=Q(R({},t),{props:p})}f.overrideData=Zm.resolve(i.overrides,u),f.updateByOp(t,Jn.applySimple(f.data,t),n,!1)}}}else if(this.instances.length>0){let u;if(t.path.length===0&&t.type===0){let c;for(let f of Ko.rootOverrideProps)f in t.props&&(c===void 0&&(c={}),c[f]=t.props[f]);c&&(u=Q(R({},t),{props:c}))}else for(let c of Ko.rootOverrideProps)if(pa(t.path,[c])){u=t;break}u!==void 0&&this.instances.forEach(c=>{if(c.isInstanceRoot){let f=Wo.filterOp(c.overrideData,u);f&&c.updateByOp(f,Jn.applySimple(c.data,f),n,!0)}}),this.instances.forEach(c=>{if(!c.isInstanceRoot){let f=Wo.filterOp(c.overrideData,t);if(f){let h;a===c.data&&t===f?h=i:h=Jn.applySimple(c.data,f),c.updateByOp(f,h,n,!0)}}})}}updateByPatchedOpBase(t,i,n){if(this.dataPatched=i,t.path.length===0&&t.type===0)t.props.type!==void 0&&!td.is(t.props.type)&&rl.changeEntityProptotype(this,i,n);else if(t.path.length===1&&t.path[0]==="geometry"&&t.type===0&&"type"in t.props){rl.changeEntityProptotype(this,i,n);for(let r of this.children)qt.is(r)&&r.updateVisible(n.scene)}this.updateByPatchedOp(t,i,n)}updateByPatchedOp(t,i,n){if(t.path.length===0&&t.type===0&&this.updateState(t.props,n),pa(t.path,["pathSnapping"])!==null&&this.updatePathSnapping(i.pathSnapping),pa(t.path,["cloner"])!==null){let r=Jn.drop(t,1);r.path.length===0&&r.type===0&&r.props.disabled===!0?this.setFromClonerState(null,n):this.cloner?this.cloner.updateState(i.cloner,n.scene):(this.setFromClonerState(i.cloner,n),this.expandCloner(n.scene)),this.updateVisible(n.scene)}}updatePathSnapping(t=this.dataPatched.pathSnapping){this._updatedPathSnapping=t,this._needApplyPathSnapping=!0}get updatedPathSnapping(){return this._updatedPathSnapping}applyPathSnapping(t){var p,m,g,v,y,b,_,x,k,w,S;let i=(m=(p=this._updatedPathSnapping)==null?void 0:p.pathId)!=null?m:this.dataPatched.pathSnapping.pathId,n=(y=(v=(g=this._updatedPathSnapping)==null?void 0:g.slide)!=null?v:this.dataPatched.pathSnapping.slide)!=null?y:0,r=(x=(_=(b=this._updatedPathSnapping)==null?void 0:b.offset)!=null?_:this.dataPatched.pathSnapping.offset)!=null?x:0,a=(w=(k=this._updatedPathSnapping)==null?void 0:k.orientation)!=null?w:this.dataPatched.pathSnapping.orientation;if(i===null)return;let s=t.find(i);if(!s||this._needApplyPathSnapping===!1)return;this._needApplyPathSnapping=!1;let o=s.data;if(o.geometry.path.points.length<=1)return;let l=NE(o.geometry.path),d=(n+r)%1;n+r===1&&d===0&&(d=1);let u=l.getPointAt(d);if(u===null)return;let c=this.parent?(S=this.parent)==null?void 0:S.matrixWorld:new Ee;s.updateMatrixWorld();let f=new Ee().multiplyMatrices(c.clone().invert(),s.matrixWorld);u.applyMatrix4(f);let h={position:u.toArray(),rotation:o.rotation};if(a==="tangential"){let A=new Ee().extractRotation(s.matrixWorld),M=l.getTangentAt(d).applyMatrix4(A).add(u),C=new Ee().lookAt(u,M,z$),T=sb.setFromEuler(new Dn().setFromRotationMatrix(C)).multiplyScalar(at.RAD2DEG);h=Q(R({},h),{rotation:T.toArray()})}this.updateTransformState(h),this.traverseEntity(A=>{A._cameraType&&A.dispatchEvent(j$)})}updateVisible(t){var n,r;if(this.visible=this.dataPatched.visible&&(!this.dataPatched.cloner||((n=this.dataPatched.cloner.disabled)!=null?n:!1)||((r=this.dataPatched.cloner)==null?void 0:r.hideBase)!==!0),!t)return;let i=!1;this.traverseEntity(a=>{if(a.data.type==="Splat")return i=!0,!0}),i&&t.reloadSplats()}updateState_Entity(t,i){t.name!==void 0&&(this.name=t.name),t.raycastLock!==void 0&&(this.raycastLock=t.raycastLock),t.visible!==void 0&&(this.updateVisible(i==null?void 0:i.scene),this.resetBBoxNeedsUpdate()),i&&"cloner"in t&&t.cloner!==void 0&&(this.setFromClonerState(t.cloner,i),this.updateVisible(i.scene)),this.updateTransformState(t,i)}get attachedSurfaceCloners(){return this.children.filter(t=>t instanceof rl.Cloner&&t.parameters.type==="toObject")}setFromClonerState(t,i){this.disposed||(t===null||t.disabled?(this.cloner&&this.cloner.removeFromParent(),this.cloner=void 0):this.cloner===void 0?(this.cloner=new rl.Cloner(this,t),i.scene.addPendingExpandCloner(this)):this.cloner.updateState(t,i.scene))}expandCloner(t){!this.disposed&&this.cloner&&this.cloner.expandClones(t)}invalidateClonerTransform(t){this.cloner&&this.cloner.invalidateTransform(t)}},UE=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var s,o,l,d,u;let i=Object.assign({},(s=t==null?void 0:t.parameters)!=null?s:{width:100,radialSegments:64,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadius:8,cornerSegments:8,hollow:0},e.parameters);i.thetaLength=at.clamp(i.thetaLength,0,360);let n=i.width/2,r=(o=i.radiusTop)!=null?o:n,a=(l=i.radiusBottom)!=null?l:n;return r===a?(r=n,a=n):r>a?(r=n,a=a*n/r):(r=r*n/a,a=n),{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs((d=i.height)!=null?d:i.width),depth:Math.abs((u=i.depth)!=null?u:i.width),radiusTop:r,radiusBottom:a})}}static build(e){let{width:t,depth:i,height:n,radialSegments:r,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l,radiusTop:d,radiusBottom:u,cornerRadius:c,cornerSegments:f,hollow:h}=e.parameters,p;return l===0?(p=new dt,p.setAttribute("position",new Ke([],3))):c||h?p=new HE(d,u,n,r,a,s,o,l*Math.PI/180,c,c,f,h):p=new a1(d,u,n,r,a,s,o,l*Math.PI/180),p.scale(1,1,i/t),Object.assign(p,{userData:Q(R({},e),{type:"CylinderGeometry"})})}};function al(e,t,i){i.x=e.x*t.x,i.y=e.y,i.z=e.x*t.y}function VE(e){return new Y(e.y,-e.x)}var HE=class extends dt{constructor(e,t,i,n,r,a,s,o,l,d,u,c,f=!1){super(),this.type="RoundedCylinderBufferGeometry",e=e!==void 0?e:1,t=t!==void 0?t:1,i=i||1,n=Math.floor(n)||8,r=Math.floor(r)||1,a=a!==void 0?a:!1,s=s!==void 0?s:0,o=o!==void 0?o:Math.PI*2,a&&(l=0,d=0);let h=[],p=[],m=[],g=[],v=0,y=i/2,b=new E,_=new E;f&&e==0&&(e=l),f&&t==0&&(t=d);let x=new Y(e,y),k=new Y(t,-y),w=null,S=null,A=null,M=null,C=x.clone().sub(k),T=0,P=0,I=0;c>0&&(T=Math.min(e,t)*(1-c),P=e-T,I=t-T);let j=x.clone();j.x-=T;let H=Math.PI-C.angle(),U=C.angle(),O=Math.tan(U/2),F=Math.tan(H/2),Z=O+F,G=c?Z:F,L=c?Z:O;if(l=Math.min(l,(e-P)/G,C.length()/Z),d=Math.min(d,(t-I)/L,C.length()/Z),l>0){let te=l/O;w=x.clone().sub(new Y(te,l)),c&&(A=w.clone(),A.x-=T-Z*l),x.sub(C.clone().setLength(te))}if(d>0){let te=d/F;S=k.clone().sub(new Y(te,-d)),k.add(C.clone().setLength(te)),c&&(M=S.clone(),M.x-=T-Z*d,j.sub(C.clone().setLength(te)))}C=x.clone().sub(k);let X=C.length()<.5,q=[];for(let te=0;te<=n;te++){let oe=[],ie=te/n,we=ie*o+s,pe=new Y(Math.sin(we),Math.cos(we));M&&S?(J(oe,ie,pe,H,d,M,-1,!0),J(oe,ie,pe,U,d,S,-1,!1)):S?(W(oe,pe,S.x,0,-1),J(oe,ie,pe,U,d,S,-1,!1)):a||W(oe,pe,t,I,-1);let fe=VE(C).normalize();if(al(fe,pe,b),!X)for(let Le=0;Le<=r;Le++){let Be=Le/r,Ne=C.clone().multiplyScalar(Be).add(k);al(Ne,pe,_),p.push(_.x,_.y,_.z),m.push(b.x,b.y,b.z),g.push(ie,.5+_.y/i),oe.push(v++)}if(A&&w?(J(oe,ie,pe,H,l,w,1,!1),J(oe,ie,pe,U,l,A,1,!0)):w?(J(oe,ie,pe,H,l,w,1,!1),W(oe,pe,w.x,0,1)):a||W(oe,pe,e,P,1),c&&!X){let Le=VE(C).multiplyScalar(-1).normalize();al(Le,pe,b);for(let Be=0;Be<=r;Be++){let Ne=Be/r,Ye=C.clone().multiplyScalar(-Ne).add(j);al(Ye,pe,_),p.push(_.x,_.y,_.z),m.push(b.x,b.y,b.z),g.push(ie,.5+_.y/i),oe.push(v++)}}c&&!a&&oe.push(oe[0]),q.push(oe)}for(let te=0;te<q.length-1;te++)for(let oe=0;oe<q[0].length-1;oe++){if(a&&c&&oe==r)continue;let ie=q[te][oe],we=q[te+1][oe],pe=q[te+1][oe+1],fe=q[te][oe+1],Le=p[pe*3+0],Be=p[pe*3+2];h.push(ie,we,fe),(Le!=0||Be!=0)&&h.push(we,pe,fe)}o<Math.PI*2&&(ce(-1,q[0],s),ce(1,q[q.length-1],s+o)),this.setIndex(h),this.setAttribute("position",new Ke(p,3)),this.setAttribute("normal",new Ke(m,3)),this.setAttribute("uv",new Ke(g,2));function J(te,oe,ie,we,pe,fe,Le,Be){for(let Ne=0;Ne<u+1;Ne++){let Ye=Ne/u,ze=Le<0?Ye:1-Ye;Be&&(ze-=1),ze*=we;let Pe=new Y(Math.sin(ze),Math.cos(ze)*Le),Ze=Pe.clone().multiplyScalar(pe).add(fe);al(Ze,ie,_),p.push(_.x,_.y,_.z),al(Pe,ie,b),m.push(b.x,b.y,b.z),g.push(oe,.5+_.y/i),te.push(v++)}}function W(te,oe,ie,we,pe){let fe=new E,Le=new Y,Be=[ie,we];pe<0&&Be.reverse();for(let Ne of Be)Le.set(Ne,y*pe),al(Le,oe,fe),p.push(fe.x,fe.y,fe.z),m.push(0,pe,0),g.push(.5,.5),te.push(v++)}function ce(te,oe,ie){let we=new Y(Math.sin(ie),Math.cos(ie)),pe=new Y(-Math.cos(ie),Math.sin(ie)),fe=new E,Le=te<0?(Ye,ze,Pe)=>h.push(Ye,ze,Pe):(Ye,ze,Pe)=>h.push(Ye,Pe,ze),Be=new Y((e+t+P+I)/4,0);al(Be,we,fe),p.push(fe.x,fe.y,fe.z),m.push(pe.x,0,pe.y),g.push(.5,.5);let Ne=v++;for(let Ye of oe){let ze=p.slice(Ye*3,Ye*3+3);p.push(...ze),m.push(pe.x,0,pe.y);let Pe=g.slice(Ye*2,Ye*2+2);g.push(...Pe),v++}for(let Ye=Ne+1;Ye<v-1;Ye++)Le(Ne,Ye,Ye+1);Le(Ne,v-1,Ne+1)}}},B$=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var n,r,a;let i=Object.assign({},(n=t==null?void 0:t.parameters)!=null?n:{width:100,radialSegments:32,heightSegments:8,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadiusTop:8,cornerRadiusBottom:8,cornerSegments:8},e.parameters);return i.thetaLength=at.clamp(i.thetaLength,0,360),{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs((r=i.height)!=null?r:i.width),depth:Math.abs((a=i.depth)!=null?a:i.width)})}}static build(e){let{width:t,depth:i,height:n,radialSegments:r,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l,cornerRadiusTop:d,cornerRadiusBottom:u,cornerSegments:c}=e.parameters,f;return l===0?(f=new dt,f.setAttribute("position",new Ke([],3))):d>0||u>0||l<360?f=new HE(0,t/2,n,r,a,s,o,l*Math.PI/180,d,u,c,0,!0):f=new XA(t/2,n,r,a,s),f.scale(1,1,i/t),Object.assign(f,{userData:Q(R({},e),{type:"ConeGeometry"})})}},L$=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var n,r,a;let i=Object.assign({},(n=t==null?void 0:t.parameters)!=null?n:{width:100,widthSegments:1,heightSegments:1,depthSegments:1,cornerRadius:8,cornerSegments:8},e.parameters);return{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs((r=i.height)!=null?r:i.width),depth:Math.abs((a=i.depth)!=null?a:i.width)})}}static build(e){let{width:t,height:i,depth:n,widthSegments:r,heightSegments:a,depthSegments:s,cornerRadius:o,cornerSegments:l}=e.parameters,d;return o==0?d=new ls(t,i,n,r,a,s):d=new F$(t,i,n,r,a,s,o,l),Object.assign(d,{userData:Q(R({},e),{type:"CubeGeometry"})})}},lb=Math.PI/2,F$=class extends dt{constructor(e=1,t=1,i=1,n=1,r=1,a=1,s=0,o=4){super(),this.type="BoxGeometry";let l=this;n=Math.floor(n),r=Math.floor(r),a=Math.floor(a),o=Math.floor(o),s=Math.min(s,e/2,t/2,i/2);let d=[],u=[],c=[],f=[],h=0,p=0;m("z","y","x",-1,-1,i,t,e,a,r,0),m("z","y","x",1,-1,i,t,-e,a,r,1),m("x","z","y",1,1,e,i,t,n,a,2),m("x","z","y",1,-1,e,i,-t,n,a,3),m("x","y","z",1,-1,e,t,i,n,r,4),m("x","y","z",-1,-1,e,t,-i,n,r,5),s>0&&(g("z","y","x",-1,-1,1,i,t,e,a,0),g("z","y","x",1,-1,-1,i,t,e,a,1),g("z","y","x",-1,1,-1,i,t,e,a,1),g("z","y","x",1,1,1,i,t,e,a,0),g("x","y","z",-1,-1,-1,e,t,i,n,0),g("x","y","z",1,-1,1,e,t,i,n,1),g("x","y","z",-1,1,1,e,t,i,n,0),g("x","y","z",1,1,-1,e,t,i,n,1),g("y","x","z",-1,-1,1,t,e,i,r,0),g("y","x","z",1,-1,-1,t,e,i,r,1),g("y","x","z",1,1,1,t,e,i,r,1),g("y","x","z",-1,1,-1,t,e,i,r,0),v(1,1,1),v(-1,1,1),v(1,-1,1),v(-1,-1,1),v(1,1,-1),v(-1,1,-1),v(1,-1,-1),v(-1,-1,-1)),this.setIndex(d),this.setAttribute("position",new Ke(u,3)),this.setAttribute("normal",new Ke(c,3)),this.setAttribute("uv",new Ke(f,2));function m(y,b,_,x,k,w,S,A,M,C,T){let P=(w-2*s)/M,I=(S-2*s)/C,j=w/2-s,H=S/2-s,U=A/2,O=M+1,F=C+1,Z=0,G=0,L=new E;for(let X=0;X<F;X++){let q=X*I-H;for(let J=0;J<O;J++){let W=J*P-j;L[y]=W*x,L[b]=q*k,L[_]=U,u.push(L.x,L.y,L.z),L[y]=0,L[b]=0,L[_]=A>0?1:-1,c.push(L.x,L.y,L.z),f.push(J/M),f.push(1-X/C),Z+=1}}for(let X=0;X<C;X++)for(let q=0;q<M;q++){let J=h+q+O*X,W=h+q+O*(X+1),ce=h+(q+1)+O*(X+1),te=h+(q+1)+O*X;d.push(J,W,te),d.push(W,ce,te),G+=6}l.addGroup(p,G,T),p+=G,h+=Z}function g(y,b,_,x,k,w,S,A,M,C,T){let P=(S-2*s)/C,I=S/2-s,j=A/2-s,H=M/2,U=C+1,O=0,F=0,Z=new E,G=new E;for(let L=0;L<o+1;L++){let X=L/o*lb,q=Math.sin(X)*s,J=(1-Math.cos(X))*s,W=Math.sin(X),ce=Math.cos(X);Z[b]=(j+q)*k,Z[_]=(H-J)*w,G[y]=0,G[b]=W*Math.sign(Z[b]),G[_]=ce*Math.sign(Z[_]);for(let te=0;te<U;te++){let oe=te*P-I;Z[y]=oe*x,u.push(Z.x,Z.y,Z.z),c.push(G.x,G.y,G.z),f.push(te/C),f.push(0),O+=1}}for(let L=0;L<o;L++)for(let X=0;X<C;X++){let q=h+X+U*L,J=h+X+U*(L+1),W=h+(X+1)+U*(L+1),ce=h+(X+1)+U*L;d.push(q,J,ce),d.push(J,W,ce),F+=6}l.addGroup(p,F,T),p+=F,h+=O}function v(y,b,_){let x=new E,k=new E(e/2,t/2,i/2);k.subScalar(s);let w=[],S=y*b*_>0?(M,C,T)=>d.push(M,C,T):(M,C,T)=>d.push(M,T,C);for(let M=0;M<=o;M++){let C=[],T=lb*(1-M/o),P=Math.cos(T),I=Math.sin(T),j=0;for(let H=0;H<=M;H++){let U=Math.cos(j),O=Math.sin(j);x.x=P*U,x.y=I,x.z=P*O;let F=k.clone().addScaledVector(x,s);u.push(y*F.x,b*F.y,_*F.z),c.push(y*x.x,b*x.y,_*x.z),f.push(0,0),C.push(h++),j+=lb/M}w.push(C)}let A=w.length-1;for(let M=0;M<A;M++){let C=w[M],T=w[M+1],P=C.length-1;S(C[0],T[1],T[0]);for(let I=1;I<=P;I++)S(C[I-1],C[I],T[I]),S(C[I],T[I+1],T[I])}}}},db=class extends dt{constructor(e=[],t=[],i="",n=1,r=.2,a=4){super(),this.type="PolyhedronGeometryRound";let s=[],o=[],l=[];d(),u(),this.setAttribute("position",new Ke(s,3)),this.setAttribute("normal",new Ke(l,3)),this.setAttribute("uv",new Ke(o,2));return;function d(){var U;r=Math.min(1-1e-5,r),r==0&&(a=0);let c={IcosahedronGeometry:5,DodecahedronGeometry:3,HexahedronGeometry:3,OctahedronGeometry:4,TetrahedronGeometry:3}[i],f=new E,h=f.clone(),p=new Kn,m=r*n,g=n-m,v=a+1,y=new E,b=(O,F)=>y.subVectors(O,F).normalize(),_=(O,F)=>Array(O).fill(void 0).map(F),x=_(e.length/3,(O,F)=>new E().fromArray(e,F*3).setLength(n)),k=[],w=1e6;for(let O=0;O<x.length;O++){let F=x[O],Z=[],G,L,X,q=1e10,J=-1;for(;(J=t.indexOf(O,J+1))!=-1;){let oe=J-J%3;G=t[oe+(J+1)%3],L=t[oe+(J+2)%3],X=F.distanceToSquared(x[G]),q=Math.min(q,X),Z.push([G,L,X])}q+=1e-6;let W=[],ce=0,te=Z.length;for(let oe=0;oe<te;oe++){[G,L,X]=Z[ce];let ie=((U=k[G])==null?void 0:U.includes(O))==!0;X<=q&&W.push(G+ +ie*w),ce=Z.findIndex(we=>we[0]==L)}k.push(W)}let S=[];{let O=0,F=0,Z,G,L=c==3;for(let X=0;X<=a;X++){Z=X*(X+1)/2,G=(X+1)*(X+2)/2;for(let q=0;q<a-X;q++)[O,F]=[Z+q+X+2,G+q+X+3],S.push(Z,G,...L?[F,Z]:[O,G],F,O),[Z,G]=[O,F];S.push(Z,G,Z+a+2)}}let A=f.clone(),M=f.clone(),C=f.clone(),T=f.clone(),P=f.clone(),I=[],j=_(x.length,()=>_(c,()=>f.clone()));for(let O=0;O<x.length;O++){f.copy(x[O]).normalize(),A.copy(f).multiplyScalar(g);let F=k[O];for(let W=0;W<F.length;W++){let ce=F[W],te=F[(W+1)%c];p.setFromPointsAndIndices(x,O,ce%w,te%w),p.b.sub(p.a).setLength(1e10).add(p.a),p.c.sub(p.a).setLength(1e10).add(p.a),p.closestPointToPoint(A,j[O][W])}let Z=[],G=[],L=[],X=new E;a==0&&[...j[O]].reduce((W,ce)=>W.add(ce),X).multiplyScalar(1/c);for(let W=0;W<c;W++){let ce=[],te=(W-1+c)%c,oe=j[O][te],ie=j[O][W];f.copy(oe).sub(A),h.copy(ie).sub(A);let we=A.angleTo(f),pe=f.angleTo(h),fe=Math.cos(we)*m;a==0?M.copy(X):M.copy(A).setLength(g+fe),G.push(fe);let Le=[M,oe,ie];for(let Be=0;Be<2;Be++){let Ne=Le[Be],Ye=Le[Be+1];T.subVectors(Ne,A),P.subVectors(Ye,A),C.crossVectors(T,P).normalize();for(let ze=0;ze<v;ze++){let Pe=[we,pe][Be]*ze/v;f.copy(T).applyAxisAngle(C,Pe).add(A),Z.push(f.clone()),Be&&(b(f,A),ce.push([ze==0?Ne:f.clone(),y.clone()]))}Be&&(b(Ye,A),ce.push([Ye,y.clone()]))}L.push(ce)}I.push(L);let q=2*v,J=2;for(let W=0;W<c;W++){let ce=q*W,te=q*((W+1)%c),oe=[Z[ce]];for(let we=1;we<v;we++){T=Z[ce+we],P=Z[te+we],oe.push(T);for(let pe=1,fe=we-J+1;pe<=fe;pe++)f.lerpVectors(T,P,pe/(fe+1)),f.sub(A).setLength(G[W]).add(A),oe.push(f.clone());oe.push(P)}for(let we=0;we<v;we++)oe.push(Z[we+v+ce]);oe.push(Z[te+v]);let ie=S.map(we=>oe[we]);s.push(...ie.map(we=>[we.x,we.y,we.z]).flat()),l.push(...ie.map(we=>(b(we,A),[y.x,y.y,y.z])).flat())}}let H=[];for(let O=0;O<k.length;O++)for(let F=0;F<c;F++){let Z=k[O][F];if(Z<w){let G=k[Z].findIndex(q=>q%w==O),L=I[O][F],X=I[Z][G];for(let q=0;q<v;q++){let J=L[q],W=X[v-q],ce=L[q+1],te=X[v-(q+1)];[J,W,ce,ce,W,te].forEach(oe=>{s.push(oe[0].x,oe[0].y,oe[0].z),l.push(oe[1].x,oe[1].y,oe[1].z)})}H.push(L[0][0],X[v][0],L[v][0],X[0][0])}}for(;H.length;){let O,F,Z,G;[O,F]=H.splice(0,2);let L=[O];for(;O!=F;)L.push(F),Z=H.indexOf(F),G=Z%2,F=H.splice(Z-G,2)[1-G];y.subVectors(L[0],L[1]).cross(f.subVectors(L[0],L[2])).normalize();let X=y.dot(L[0])<0;X&&y.negate();for(let q=1;q<=L.length-2;q++)[L[q+ +X],L[q+1-+X],L[0]].forEach(J=>{s.push(J.x,J.y,J.z),l.push(y.x,y.y,y.z)})}}function u(){let c=new E;for(let k=0;k<s.length;k+=3){c.x=s[k+0],c.y=s[k+1],c.z=s[k+2];let w=_(c)/2/Math.PI+.5,S=x(c)/Math.PI+.5;o.push(w,1-S)}let f=new E,h=new E,p=new E,m=new E,g=new Y,v=new Y,y=new Y,b=(k,w,S,A)=>{A<0&&k.x===1&&(o[w]=k.x-1),S.x===0&&S.z===0&&(o[w]=A/2/Math.PI+.5)};for(let k=0,w=0;k<s.length;k+=9,w+=6){f.set(s[k+0],s[k+1],s[k+2]),h.set(s[k+3],s[k+4],s[k+5]),p.set(s[k+6],s[k+7],s[k+8]),g.set(o[w+0],o[w+1]),v.set(o[w+2],o[w+3]),y.set(o[w+4],o[w+5]),m.copy(f).add(h).add(p).divideScalar(3);let S=_(m);b(g,w+0,f,S),b(v,w+2,h,S),b(y,w+4,p,S)}for(let k=0;k<o.length;k+=6){let w=o[k+0],S=o[k+2],A=o[k+4],M=Math.max(w,S,A),C=Math.min(w,S,A);M>.9&&C<.1&&(w<.2&&(o[k+0]+=1),S<.2&&(o[k+2]+=1),A<.2&&(o[k+4]+=1))}function _(k){return Math.atan2(k.z,-k.x)}function x(k){return Math.atan2(-k.y,Math.sqrt(k.x*k.x+k.z*k.z))}}}static fromJSON(e){return new db(e.vertices,e.indices,e.radius,e.corner,e.cornerSides)}},N$=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var n,r,a;let i=Object.assign({},(n=t==null?void 0:t.parameters)!=null?n:{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs((r=i.height)!=null?r:i.width),depth:Math.abs((a=i.depth)!=null?a:i.width)})}}static build(e){let{width:t,height:i,depth:n,detail:r,corner:a,cornerSides:s}=e.parameters,o=r===0&&a!==0?new GE(t*.5,a,s):new KA(t*.5,r);return o.scale(1,i/t,n/t),Object.assign(o,{userData:Q(R({},e),{type:"DodecahedronGeometry"})})}},GE=class extends db{constructor(e=1,t=.2,i=4){let n=(1+Math.sqrt(5))/2,r=1/n,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],o="DodecahedronGeometry";super(a,s,o,e,t,i),this.type=o}static fromJSON(e){return new GE(e.radius,e.corner,e.cornerSides)}},eh=1e-12,cb=class{constructor(e){this.position=new Y,this.startPosition=new Y,this.uuid=at.generateUUID(),this.position=e.clone()}start(){this.reset()}reset(){this.startPosition.copy(this.position)}applyOffset(e){this.position.copy(this.startPosition).add(e)}copy(e){return this.position.copy(e.position),this.startPosition.copy(e.startPosition),this}clone(){return new cb(this.position).copy(this)}toJSON(){return[this.position.x,this.position.y]}},ub=class extends cb{constructor(e){super(e.position),this.parent=e}copy(e){return super.copy(e),this}clone(){return new ub(this.parent).copy(this)}},$c=class extends cb{constructor(e,t){super(t),this.controls=[],this.roundness=0,this.areControlsDirectionsMirrored=!0,this.uuid=e,this.controls.push(new ub(this),new ub(this))}static create(e,t){let i=new $c(e,new Y(...t.position));return i.controls[0].position.set(...t.controlPrevious.position),i.controls[1].position.set(...t.controlNext.position),i.roundness=t.roundness,i.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored,i}getOppositeControl(e){let t=this.controls.indexOf(e);return t===0?this.controls[1]:t===1?this.controls[0]:null}applyOffsetToControls(e,t=1){for(let i=0,n=this.controls.length;i<n;i++){let r=this.controls[i];this.position.distanceTo(r.position)<=t?r.position.copy(this.position):r.applyOffset(e)}}controlsMoved(){return!(this.position.equals(this.controls[0].position)&&this.position.equals(this.controls[1].position))}copy(e){return super.copy(e),this.controls[0].copy(e.controls[0]),this.controls[1].copy(e.controls[1]),this.roundness=e.roundness,this.uuid=e.uuid,this}clone(){return new $c(this.uuid,this.position).copy(this)}toJSON(){return super.toJSON().concat(this.controls[0].toJSON(),this.controls[1].toJSON(),[this.roundness])}computeTangents(){var i,n;let e=(i=this.curveBefore)==null?void 0:i.getTangentAt(1),t=(n=this.curveAfter)==null?void 0:n.getTangentAt(0);return[e,t]}computeNormals(e=new Y,t=new Y){let[i,n]=this.computeTangents();return i&&n&&(WE(i,e),WE(n,t)),[e,t]}computeTangent(e=new Y){let[t,i]=this.computeTangents();return t&&i&&e.copy(t).add(i).normalize(),e}computeNormal(e=new Y){let[t,i]=this.computeNormals();return e.copy(t).add(i).normalize(),e}};function WE(e,t=new Y){let i=e.length();return t.set(-e.y/i,e.x/i)}var fb=e=>e,eu=new Y,ug=new Y,U$=new Y,V$=new Y,H$=new Y,G$=new Y,qE=new E,ZE=new E;function W$(e){let t=new Y;t.addVectors(e.v0,eu.subVectors(e.v1,e.v0).multiplyScalar(2/3));let i=new Y;return i.addVectors(e.v2,ug.subVectors(e.v1,e.v2).multiplyScalar(2/3)),new Oa(e.v0,t,i,e.v2)}function th(e,t,i=Number.EPSILON){return Math.abs(e-t)<i}function q$(e,t,i=Number.EPSILON){return e.distanceTo(t)<i}function Z$(e,t,i=Number.EPSILON){return e.distanceTo(t)<i}function YE(e,t,i){let n=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),r=Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2)),a=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2));return Math.acos((r*r+n*n-a*a)/(2*r*n))}function Y$(e,t,i){return KE(e,t)&&KE(t,i)&&hb(e.position,t.position,i.position)}function hb(e,t,i){return eu.copy(t).sub(e).cross(ug.copy(i).sub(e))===0}function X$(e,t,i,n,r){let a=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),s=(e.y+t.y)/2,o=(e.x+t.x)/2,l=Math.sqrt(Math.pow(i,2)-Math.pow(a/2,2))*(e.y-t.y)/a,d=Math.sqrt(Math.pow(i,2)-Math.pow(a/2,2))*(t.x-e.x)/a;return n.set(o+l,s+d),r.set(o-l,s-d),[n,r]}function K$(e,t,i){let n=e.distanceTo(i),r=t.distanceTo(i);return n<r?t:e}function Q$(e,t,i,n,r,a){let s=t.x-e.x,o=t.y-e.y,l=i.x-e.x,d=i.y-e.y,u=Math.sqrt((s+l)*(s+l)+(o+d)*(o+d)),c;return YE(t,e,i)>Math.PI&&(u*=-1),th(d,o)?c=(o+d)*(n/u-.5)*8/3/(s-l):c=(s+l)*(n/u-.5)*8/3/(d-o),r.set(t.x-c*o,t.y+c*s),a.set(i.x+c*d,i.y-c*l),[r,a]}function XE(e,t){return e.position.equals(e.controls[1].position)&&t.position.equals(t.controls[0].position)}function KE(e,t){return hb(e.position,e.controls[1].position,t.position)&&hb(e.position,t.controls[0].position,t.position)}function J$(e,t,i,n,r=.5){let a=eu.subVectors(t,e).multiplyScalar(r).add(e),s=ug.subVectors(i,t).multiplyScalar(r).add(t),o=U$.subVectors(n,i).multiplyScalar(r).add(i),l=a,d=V$.subVectors(s,a).multiplyScalar(r).add(a),u=H$.subVectors(o,s).multiplyScalar(r).add(s),c=o,f=G$.subVectors(u,d).multiplyScalar(r).add(d);return[e.x,e.y,l.x,l.y,d.x,d.y,f.x,f.y,u.x,u.y,c.x,c.y,n.x,n.y]}function $$(e,t,i=12,n=!0){let r=ZE.set(0,0,0),a,s=0,o=[];for(let l=0;l<t.length;l++){let d=fb(t[l]),u=eu,c=ld(d,i);o.push(c);for(let f=0;f<=c;f++)if(d instanceof Oa||d instanceof Uo||d instanceof ja){if(d.getPoint(f/c,u),r.set(u.x,u.y,0),a!==void 0&&Z$(a,r))continue;a===void 0&&(a=qE),a.copy(r),e.setXYZ(s,r.x,r.y,r.z),s++}}return n&&s>1&&!(e.getX(s-1)===e.getX(0)&&e.getY(s-1)===e.getY(0)&&e.getZ(s-1)===e.getZ(0))&&(e.setXYZ(s,e.getX(0),e.getY(0),e.getZ(0)),s++),e}function eee(e,t,i,n=12,r=!0){let a=ZE.set(0,0,0),s=0,o=[];for(let l=0;l<t.length;l++){if(i[l]===!1)continue;let d,u=fb(t[l]),c=eu,f=ld(u,n);o.push(f);for(let h=0;h<=f;h++)if(u instanceof Oa||u instanceof Uo||u instanceof ja){if(u.getPoint(h/f,c),a.set(c.x,c.y,0),d==null?void 0:d.equals(a))continue;d===void 0?d=qE:(e.setXYZ(s,d.x,d.y,d.z),s++,e.setXYZ(s,a.x,a.y,a.z),s++),d.copy(a)}}return r&&s>1&&!(e.getX(s-1)===e.getX(0)&&e.getY(s-1)===e.getY(0)&&e.getZ(s-1)===e.getZ(0))&&(e.setXYZ(s,e.getX(0),e.getY(0),e.getZ(0)),s++),o}function QE(e,t=12,i=!1){let n=[];for(let r=0,a=e.length;r<a;r++){let s=e[r],o=0;if(i&&s.roundedCurveCorner!==void 0){let l=ld(s.roundedCurveCorner,t)*.5;r>0&&(n[r-1]+=l),o+=l}s.curveAfter!==void 0&&(o+=ld(s.curveAfter,t)),n.push(o)}return e.length>0&&i&&e[0].roundedCurveCorner!==void 0&&(n[e.length-1]+=ld(e[0].roundedCurveCorner,t)*.5),n}function ld(e,t=12){return e&&e instanceof Up?t*2:e&&(e instanceof ja||e instanceof qA)?1:e&&e instanceof r1?t*e.points.length:t}function tee(e,t,i=12,n=!0){let r,a=0;for(let s=0;s<t.length;s++){let o=fb(t[s]),l=ld(o,i),d=eu;for(let u=0;u<=l;u++)if(o instanceof Oa||o instanceof Uo||o instanceof ja){if(o.getPoint(u/l,d),r!==void 0&&q$(r,d,eh))continue;r===void 0&&(r=ug),r.copy(d),e.push(d.x,d.y),a++}}return th(e[0],e[e.length-2],eh)&&th(e[1],e[e.length-1],eh)&&(e.pop(),e.pop()),n&&a>1&&!(th(e[a-1],e[1],eh)&&th(e[a-2],e[0],eh))&&(e.push(e[0],e[1]),a++),e}var pb=new Y,iee=new Y,nee=new Y,ree=new Y,aee=new Y,see=new Y,Vi=class extends Wp{constructor(e=100,t=100){super(),this.points=[],this.shapeHoles=[],this.plane=new Jr(new E(0,0,-1)),this.subdivision=0,this.controlSnapDistance=4,this.pointIDs=0,this.isMesh2D=!1,this.isText=!1,this._roundness=0,this.isClosed=!1,this.useCubicForRoundedCorners=!0,this.uuid=at.generateUUID(),this.needsUpdate=!1,this.roundedCurves=[],this._width=e,this._height=t}static createFromState(e,t,i){let n=new Vi;return n.isClosed=e.isClosed,n.points=e.points.map(r=>$c.create(r.id,r.data)),typeof e.roundness=="number"&&(n.roundness=e.roundness),n.shapeHoles=e.shapeHoles.map(r=>Vi.createFromState(r)),t!==void 0&&i!==void 0&&n.applySize(t,i),n.update(),n}get width(){return this._width}get height(){return this._height}get roundness(){return this._roundness}set roundness(e){if(this._roundness!==e){this._roundness=e;for(let t=0,i=this.points.length;t<i;t++)this.points[t].roundness=e;this.needsUpdate=!0}}getPointsIndexesByIds(e){return e.map(t=>this.getPointIndexById(t)).filter(t=>t>=0)}getPointIndexById(e){let t=this.points.length,i=this.points.findIndex(n=>n.uuid===e);if(i<0){let n=t;for(let r=0,a=this.shapeHoles.length;r<a;r++){let s=this.shapeHoles[r],o=s.points.length,l=s.getPointIndexById(e);if(l<0)n+=o;else return l+n}}return i}getLineIndexById(e){return this.getPointIndexById(e)}getBezierPoint(e){if(e<=this.points.length-1)return this.points[e];if(this.shapeHoles.length>0){let t=this.points.length;for(let i=0,n=this.shapeHoles.length;i<n;i++){let r=this.shapeHoles[i],a=e-t;if(a<=r.points.length-1)return r.points[a];t+=r.points.length}}throw new Error("This shape does not have a point for this index: "+e)}getBezierPointIndex(e){let t=this.points.indexOf(e);if(t>=0)return t;if(t=this.points.length,this.shapeHoles.length>0)for(let i=0,n=this.shapeHoles.length;i<n;i++){let r=this.shapeHoles[i],a=r.points.indexOf(e);if(a>=0)return t+a;t+=r.points.length}return-1}getAllPoints(){let e=[].concat(...this.shapeHoles.map(t=>t.points));return[...this.points,...e]}applySize(e,t){e===0&&(e=.001),t===0&&(t=.001),this._width=e,this._height=t}applyScale(e,t){let i=pb.set(e,t);for(let n=0,r=this.points.length;n<r;n++){let a=this.points[n];a.position.multiply(i),a.controls[0].position.multiply(i),a.controls[1].position.multiply(i)}for(let n=0,r=this.shapeHoles.length;n<r;n++)this.shapeHoles[n].applyScale(e,t);this._update()}createPoint(e,t=0,i=at.generateUUID()){let n;e instanceof Y?n=e:n=new Y(e,t);let r=new $c(i,n);return r.roundness=this.roundness,r}addPoint(e){this.points.push(e),this.needsUpdate=!0}addPointAt(e,t){this.points.splice(t,0,e),this.needsUpdate=!0}getPointByUuid(e){for(let t=0,i=this.points.length;t<i;t++){let n=this.points[t];if(n.uuid===e)return n}for(let t=0,i=this.shapeHoles.length;t<i;t++){let n=this.shapeHoles[t].getPointByUuid(e);if(n)return n}}getFirstPoint(){return this.points[0]}getLastPoint(){return this.points[this.points.length-1]}removePoint(e){let t=this.points.indexOf(e);t>=0&&this.points.splice(t,1),this.needsUpdate=!0}removePointById(e){let t=this.points.find(i=>i.uuid===e);t&&this.removePoint(t)}update(){for(let e=0,t=this.shapeHoles.length;e<t;e++)this.shapeHoles[e].update();this._update()}extractShapePointsToBuffer(e,t=12,i=!1){this.subdivision=t,this.curveDivisions===void 0&&this.computeCurveDivisions(t);let n=i?this.roundedCurveDivisions:this.curveDivisions;return $$(e,i?this.roundedCurves:this.curves,t,this.autoClose),n.reduce((r,a)=>r+a,0)+1}computeCurveDivisions(e=12){return this.curveDivisions=QE(this.points,e,!1),this.roundedCurveDivisions=QE(this.points,e,!0),this.curveDivisions}extractFilteredShapePointsToBuffer(e,t,i=12){return eee(e,this.curves,t,i,this.autoClose).reduce((n,r)=>n+r,0)*2}extractShapePointsToFlatArray(e,t=12){return this.subdivision=t,this.curveDivisions===void 0&&this.computeCurveDivisions(t),tee(e,this.roundedCurves,t,this.autoClose)}getCurveIndexFromVertexId(e,t=!1){let i=0;this.curveDivisions===void 0&&this.computeCurveDivisions(this.subdivision);let n=t?this.roundedCurveDivisions:this.curveDivisions,r=0;t&&this.points[0].roundedCurveCorner!==void 0&&(r=ld(this.points[0].roundedCurveCorner,this.subdivision)*.5);let a=e-r;a<0&&(a+=n.reduce((s,o)=>s+o,0));for(let s=0,o=n.length;s<o;s++){let l=n[s];if(a<i+l)return[s,(a-i+1)/l];i+=l}return[0,1]}getCurveT(e,t,i){let n=this.points[e],r=this.points[e>=this.points.length-1?0:e+1],a=this.curveDivisions,s=a[e];if(XE(n,r)){let l=n.position.distanceTo(r.position);return n.position.distanceTo(pb.set(i.x,i.y))/l}let o=0;for(let l=0;l<e;l++)o+=a[l];return(t-o)/s}dispose(){}_applyCurveForPoint(e,t){XE(t,e)?this.lineTo(e.position.x,e.position.y):this.bezierCurveTo(t.controls[1].position.x,t.controls[1].position.y,e.controls[0].position.x,e.controls[0].position.y,e.position.x,e.position.y);let i=this.curves[this.curves.length-1];e.curveBefore=i,t.curveAfter=i;let n=i.clone();e.roundedCurveBefore=n,t.roundedCurveAfter=n,e.roundedCurveCorner=void 0,this.roundedCurves.push(n)}_update(){var t,i;if(this.curves=[],this.roundedCurves=[],!this.points.length)return;for(let n=0,r=this.points.length;n<r;n++){let a=this.points[n];if(n===0)this.moveTo(a.position.x,a.position.y);else{let s=this.points[n-1];this._applyCurveForPoint(a,s)}}let e=this.getLastPoint();if(e!=null&&e.curveAfter&&(e.curveAfter=void 0),this.isClosed){let n=this.points[0],r=this.points[this.points.length-1];this._applyCurveForPoint(n,r)}if(this.points.length>2){let n=0;for(let r=0,a=this.points.length;r<a;r++){let s=this.points[r],o=(t=this.points[r-1])!=null?t:this.points[this.points.length-1],l=(i=this.points[r+1])!=null?i:this.points[0],d=s.roundness,u=o&&l&&Y$(o,s,l);if(!s.controlsMoved()&&d>0&&!u){let c=s.curveBefore,f=s.curveAfter;if(c===void 0||f===void 0)continue;let h=s.roundedCurveBefore,p=s.roundedCurveAfter,m=c.getLength(),g=f.getLength(),v=Math.min(d,m*.499),y=Math.min(d,g*.499),b=Math.min(v,y),_=1-b/m,x=b/g,k=c.getPointAt(_,pb),w=f.getPointAt(x,iee);this._subSplitCurve(c,h,_,k,void 0),this._subSplitCurve(f,p,x,void 0,w);let S;if(this.useCubicForRoundedCorners){let A=YE(k,s.position,w)/2,M=Math.tan(A)*k.distanceTo(s.position),[C,T]=X$(k,w,M,nee,ree),P=K$(C,T,s.position),[I,j]=Q$(P,k,w,M,aee,see);S=new Oa(k.clone(),I.clone(),j.clone(),w.clone())}else S=new Uo(k.clone(),s.position.clone(),w.clone());s.roundedCurveCorner=S,this.roundedCurves.splice(r+n,0,S),n++}}}}_subSplitCurve(e,t,i,n,r){if(e instanceof ja)n!==void 0&&t.v2.copy(n),r!==void 0&&t.v1.copy(r);else{let a=e,s=t,o=a.getUtoTmapping(i,0),l=J$(a.v0,a.v1,a.v2,a.v3,o);return n!==void 0&&(s.v0.set(l[0],l[1]),s.v1.set(l[2],l[3]),s.v2.set(l[4],l[5]),s.v3.set(l[6],l[7])),r!==void 0&&(s.v0.set(l[6],l[7]),s.v1.set(l[8],l[9]),s.v2.set(l[10],l[11]),s.v3.set(l[12],l[13])),s}return t}clone(){let e=new Vi(this._width,this._height);return e.points=this.points.map(t=>t.clone()),e.isClosed=this.isClosed,e.roundness=this.roundness,e.isMesh2D=this.isMesh2D,e.shapeHoles=this.shapeHoles.map(t=>t.clone()),e}toJSON(){return{points:this.points.reduce((e,t)=>e.concat(t.toJSON()),[]),shapeHoles:this.shapeHoles.map(e=>e.toJSON()),isClosed:this.isClosed,roundness:this.roundness}}fromJSON(e){var i;this.points=[],this.pointIDs=0;let t=e.points.length/7;for(let n=0;n<t;n++){let r=n*7,a=e.points[r+0],s=e.points[r+1],o=e.points[r+2],l=e.points[r+3],d=e.points[r+4],u=e.points[r+5],c=e.points[r+6],f=new $c(at.generateUUID(),new Y(a,s));f.controls[0].position.set(o,l),f.controls[1].position.set(d,u),f.roundness=c,this.points.push(f)}return this.shapeHoles=(i=e.shapeHoles)!=null&&i.length?e.shapeHoles.map(n=>{let r=new Vi;return r.fromJSON(n),r}):[],this.isClosed=e.isClosed,this._roundness=e.roundness,this._update(),this}fromShape(e,t=!1){this.isText=t;let i=(r,a)=>{a instanceof Oa&&a.v3.equals(r.position)&&r.controls[0].position.copy(a.v2)},n=r=>{let a=[],s,o;for(s=0,o=r.length;s<o;s++)r[s]instanceof Uo&&(r[s]=W$(r[s]));for(s=0,o=r.length;s<o;s++){let u=r[s],c=s>0?r[s-1]:null,f;u instanceof Oa?(f=this.createPoint(u.v0),f.controls[1].position.copy(u.v1)):u instanceof ja&&(f=this.createPoint(u.v1)),f!==void 0&&(c!==null&&i(f,c),a.push(f))}let l=r[r.length-1],d=!1;return l instanceof Oa?l.v3.equals(a[0].position)&&(a[0].controls[0].position.copy(l.v2),d=!0):l instanceof ja&&l.v2.equals(a[0].position)&&(d=!0),this.isClosed=d,a};return this.points=n(e.curves),e instanceof Wp&&(this.shapeHoles=e.holes.map(r=>{let a=new Vi;return a.fromShape(r),a})),this.update(),this}updatePoint(e,t){let i=this.getPointByUuid(e);i&&(t.position!==void 0&&i.position.fromArray(t.position),t.roundness!==void 0&&(i.roundness=t.roundness),t.areControlsDirectionsMirrored!==void 0&&(i.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored),this.needsUpdate=!0)}updatePreviousControl(e,t){var n;let i=(n=this.getPointByUuid(e))==null?void 0:n.controls[0];i&&(t.position&&i.position.fromArray(t.position),this.needsUpdate=!0)}updateNextControl(e,t){var n;let i=(n=this.getPointByUuid(e))==null?void 0:n.controls[1];i&&(t.position&&i.position.fromArray(t.position),this.needsUpdate=!0)}},mb=Math.PI*2;function gb({x:e,y:t},i,n,r,a){return{x:e*i+r,y:t*n+a}}function oee(e,t){let i=t===1.5707963267948966?.551915024494:t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),n=Math.cos(e),r=Math.sin(e),a=Math.cos(e+t),s=Math.sin(e+t);return[{x:n-r*i,y:r+n*i},{x:a+s*i,y:s-a*i},{x:a,y:s}]}function JE(e,t,i,n){let r=e*n-t*i<0?-1:1,a=Math.min(1,Math.max(-1,e*i+t*n));return r*Math.acos(a)}function lee(e,t,i,n,r,a,s,o,l,d){let u=Math.pow(r,2),c=Math.pow(a,2),f=Math.pow(s,2),h=Math.pow(o,2),p=u*c-u*h-c*f;p<0&&(p=0),p/=u*h+c*f,p=Math.sqrt(p)*(l===d?-1:1);let m=p*r/a*o,g=p*-a/r*s,v=m+(e+i)/2,y=g+(t+n)/2,b=(s-m)/r,_=(o-g)/a,x=(-s-m)/r,k=(-o-g)/a,w=JE(1,0,b,_),S=JE(b,_,x,k);return!d&&S>0&&(S-=mb),d&&S<0&&(S+=mb),{centerx:v,centery:y,ang1:w,ang2:S}}function dee({px:e,py:t,cx:i,cy:n,rx:r,ry:a,largeArcFlag:s,sweepFlag:o}){let l=[];if(r===0||a===0)return[];let d=(e-i)/2,u=(t-n)/2;if(d===0&&u===0)return[];r=Math.abs(r),a=Math.abs(a);let c=Math.pow(d,2)/Math.pow(r,2)+Math.pow(u,2)/Math.pow(a,2);c>1&&(r*=Math.sqrt(c),a*=Math.sqrt(c));let f=lee(e,t,i,n,r,a,d,u,s,o),{ang1:h,ang2:p}=f,{centerx:m,centery:g}=f,v=Math.abs(p)/(mb/4);Math.abs(1-v)<1e-7&&(v=1);let y=Math.max(Math.ceil(v),1);p/=y;for(let b=0;b<y;b++)l.push(oee(h,p)),h+=p;return l.map(b=>{let{x:_,y:x}=gb(b[0],r,a,m,g),{x:k,y:w}=gb(b[1],r,a,m,g),{x:S,y:A}=gb(b[2],r,a,m,g);return{x1:_,y1:x,x2:k,y2:w,x:S,y:A}})}var gi;(function(e){e[e.ODD=0]="ODD",e[e.NONZERO=1]="NONZERO",e[e.POSITIVE=2]="POSITIVE",e[e.NEGATIVE=3]="NEGATIVE",e[e.ABS_GEQ_TWO=4]="ABS_GEQ_TWO"})(gi||(gi={}));var cn;(function(e){e[e.POLYGONS=0]="POLYGONS",e[e.CONNECTED_POLYGONS=1]="CONNECTED_POLYGONS",e[e.BOUNDARY_CONTOURS=2]="BOUNDARY_CONTOURS"})(cn||(cn={}));function xt(e,t){if(!e)throw t||"Assertion Failed!"}var ft=function(){function e(){}return e.vertEq=function(t,i){return t.s===i.s&&t.t===i.t},e.vertLeq=function(t,i){return t.s<i.s||t.s===i.s&&t.t<=i.t},e.transLeq=function(t,i){return t.t<i.t||t.t===i.t&&t.s<=i.s},e.edgeGoesLeft=function(t){return e.vertLeq(t.Dst,t.Org)},e.edgeGoesRight=function(t){return e.vertLeq(t.Org,t.Dst)},e.vertL1dist=function(t,i){return Math.abs(t.s-i.s)+Math.abs(t.t-i.t)},e.edgeEval=function(t,i,n){xt(e.vertLeq(t,i)&&e.vertLeq(i,n));var r=i.s-t.s,a=n.s-i.s;return r+a>0?r<a?i.t-t.t+(t.t-n.t)*(r/(r+a)):i.t-n.t+(n.t-t.t)*(a/(r+a)):0},e.edgeSign=function(t,i,n){xt(e.vertLeq(t,i)&&e.vertLeq(i,n));var r=i.s-t.s,a=n.s-i.s;return r+a>0?(i.t-n.t)*r+(i.t-t.t)*a:0},e.transEval=function(t,i,n){xt(e.transLeq(t,i)&&e.transLeq(i,n));var r=i.t-t.t,a=n.t-i.t;return r+a>0?r<a?i.s-t.s+(t.s-n.s)*(r/(r+a)):i.s-n.s+(n.s-t.s)*(a/(r+a)):0},e.transSign=function(t,i,n){xt(e.transLeq(t,i)&&e.transLeq(i,n));var r=i.t-t.t,a=n.t-i.t;return r+a>0?(i.s-n.s)*r+(i.s-t.s)*a:0},e.vertCCW=function(t,i,n){return t.s*(i.t-n.t)+i.s*(n.t-t.t)+n.s*(t.t-i.t)>=0},e.interpolate=function(t,i,n,r){return t=t<0?0:t,n=n<0?0:n,t<=n?n===0?(i+r)/2:i+(r-i)*(t/(t+n)):r+(i-r)*(n/(t+n))},e.intersect=function(t,i,n,r,a){var s,o,l;e.vertLeq(t,i)||(l=t,t=i,i=l),e.vertLeq(n,r)||(l=n,n=r,r=l),e.vertLeq(t,n)||(l=t,t=n,n=l,l=i,i=r,r=l),e.vertLeq(n,i)?e.vertLeq(i,r)?(s=e.edgeEval(t,n,i),o=e.edgeEval(n,i,r),s+o<0&&(s=-s,o=-o),a.s=e.interpolate(s,n.s,o,i.s)):(s=e.edgeSign(t,n,i),o=-e.edgeSign(t,r,i),s+o<0&&(s=-s,o=-o),a.s=e.interpolate(s,n.s,o,r.s)):a.s=(n.s+i.s)/2,e.transLeq(t,i)||(l=t,t=i,i=l),e.transLeq(n,r)||(l=n,n=r,r=l),e.transLeq(t,n)||(l=t,t=n,n=l,l=i,i=r,r=l),e.transLeq(n,i)?e.transLeq(i,r)?(s=e.transEval(t,n,i),o=e.transEval(n,i,r),s+o<0&&(s=-s,o=-o),a.t=e.interpolate(s,n.t,o,i.t)):(s=e.transSign(t,n,i),o=-e.transSign(t,r,i),s+o<0&&(s=-s,o=-o),a.t=e.interpolate(s,n.t,o,r.t)):a.t=(n.t+i.t)/2},e}(),ih=function(){function e(){this.next=null,this.prev=null,this.anEdge=null,this.trail=null,this.n=0,this.marked=!1,this.inside=!1}return e}(),fg=function(){function e(t){this.side=t,this.next=null,this.Org=null,this.Sym=null,this.Onext=null,this.Lnext=null,this.Lface=null,this.activeRegion=null,this.winding=0}return Object.defineProperty(e.prototype,"Rface",{get:function(){return this.Sym.Lface},set:function(t){this.Sym.Lface=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dst",{get:function(){return this.Sym.Org},set:function(t){this.Sym.Org=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Oprev",{get:function(){return this.Sym.Lnext},set:function(t){this.Sym.Lnext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Lprev",{get:function(){return this.Onext.Sym},set:function(t){this.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dprev",{get:function(){return this.Lnext.Sym},set:function(t){this.Lnext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rprev",{get:function(){return this.Sym.Onext},set:function(t){this.Sym.Onext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dnext",{get:function(){return this.Sym.Onext.Sym},set:function(t){this.Sym.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rnext",{get:function(){return this.Sym.Lnext.Sym},set:function(t){this.Sym.Lnext.Sym=t},enumerable:!0,configurable:!0}),e}(),tu=function(){function e(){this.next=null,this.prev=null,this.anEdge=null,this.coords=[0,0,0],this.s=0,this.t=0,this.pqHandle=0,this.n=0,this.idx=0}return e}(),$E=function(){function e(){var t=new tu,i=new ih,n=new fg(0),r=new fg(1);t.next=t.prev=t,t.anEdge=null,i.next=i.prev=i,n.next=n,n.Sym=r,r.next=r,r.Sym=n,this.vHead=t,this.fHead=i,this.eHead=n,this.eHeadSym=r}return e.prototype.makeEdge_=function(t){var i=new fg(0),n=new fg(1);t.Sym.side<t.side&&(t=t.Sym);var r=t.Sym.next;return n.next=r,r.Sym.next=i,i.next=t,t.Sym.next=n,i.Sym=n,i.Onext=i,i.Lnext=n,i.Org=null,i.Lface=null,i.winding=0,i.activeRegion=null,n.Sym=i,n.Onext=n,n.Lnext=i,n.Org=null,n.Lface=null,n.winding=0,n.activeRegion=null,i},e.prototype.splice_=function(t,i){var n=t.Onext,r=i.Onext;n.Sym.Lnext=i,r.Sym.Lnext=t,t.Onext=r,i.Onext=n},e.prototype.makeVertex_=function(t,i,n){var r=t;xt(r,"Vertex can't be null!");var a=n.prev;r.prev=a,a.next=r,r.next=n,n.prev=r,r.anEdge=i;var s=i;do s.Org=r,s=s.Onext;while(s!==i)},e.prototype.makeFace_=function(t,i,n){var r=t;xt(r,"Face can't be null");var a=n.prev;r.prev=a,a.next=r,r.next=n,n.prev=r,r.anEdge=i,r.trail=null,r.marked=!1,r.inside=n.inside;var s=i;do s.Lface=r,s=s.Lnext;while(s!==i)},e.prototype.killEdge_=function(t){t.Sym.side<t.side&&(t=t.Sym);var i=t.next,n=t.Sym.next;i.Sym.next=n,n.Sym.next=i},e.prototype.killVertex_=function(t,i){var n=t.anEdge,r=n;do r.Org=i,r=r.Onext;while(r!==n);var a=t.prev,s=t.next;s.prev=a,a.next=s},e.prototype.killFace_=function(t,i){var n=t.anEdge,r=n;do r.Lface=i,r=r.Lnext;while(r!==n);var a=t.prev,s=t.next;s.prev=a,a.next=s},e.prototype.makeEdge=function(){var t=new tu,i=new tu,n=new ih,r=this.makeEdge_(this.eHead);return this.makeVertex_(t,r,this.vHead),this.makeVertex_(i,r.Sym,this.vHead),this.makeFace_(n,r,this.fHead),r},e.prototype.splice=function(t,i){var n=!1,r=!1;if(t!==i){if(i.Org!==t.Org&&(r=!0,this.killVertex_(i.Org,t.Org)),i.Lface!==t.Lface&&(n=!0,this.killFace_(i.Lface,t.Lface)),this.splice_(i,t),!r){var a=new tu;this.makeVertex_(a,i,t.Org),t.Org.anEdge=t}if(!n){var s=new ih;this.makeFace_(s,i,t.Lface),t.Lface.anEdge=t}}},e.prototype.delete=function(t){var i=t.Sym,n=!1;if(t.Lface!==t.Rface&&(n=!0,this.killFace_(t.Lface,t.Rface)),t.Onext===t)this.killVertex_(t.Org,null);else if(t.Rface.anEdge=t.Oprev,t.Org.anEdge=t.Onext,this.splice_(t,t.Oprev),!n){var r=new ih;this.makeFace_(r,t,t.Lface)}i.Onext===i?(this.killVertex_(i.Org,null),this.killFace_(i.Lface,null)):(t.Lface.anEdge=i.Oprev,i.Org.anEdge=i.Onext,this.splice_(i,i.Oprev)),this.killEdge_(t)},e.prototype.addEdgeVertex=function(t){var i=this.makeEdge_(t),n=i.Sym;this.splice_(i,t.Lnext),i.Org=t.Dst;var r=new tu;return this.makeVertex_(r,n,i.Org),i.Lface=n.Lface=t.Lface,i},e.prototype.splitEdge=function(t){var i=this.addEdgeVertex(t),n=i.Sym;return this.splice_(t.Sym,t.Sym.Oprev),this.splice_(t.Sym,n),t.Dst=n.Org,n.Dst.anEdge=n.Sym,n.Rface=t.Rface,n.winding=t.winding,n.Sym.winding=t.Sym.winding,n.idx=t.idx,n.Sym.idx=t.Sym.idx,n},e.prototype.connect=function(t,i){var n=!1,r=this.makeEdge_(t),a=r.Sym;if(i.Lface!==t.Lface&&(n=!0,this.killFace_(i.Lface,t.Lface)),this.splice_(r,t.Lnext),this.splice_(a,i),r.Org=t.Dst,a.Org=i.Org,r.Lface=a.Lface=t.Lface,t.Lface.anEdge=a,!n){var s=new ih;this.makeFace_(s,r,t.Lface)}return r},e.prototype.zapFace=function(t){var i=t.anEdge,n,r,a,s,o;r=i.Lnext;do n=r,r=n.Lnext,n.Lface=null,n.Rface===null&&(n.Onext===n?this.killVertex_(n.Org,null):(n.Org.anEdge=n.Onext,this.splice_(n,n.Oprev)),a=n.Sym,a.Onext===a?this.killVertex_(a.Org,null):(a.Org.anEdge=a.Onext,this.splice_(a,a.Oprev)),this.killEdge_(n));while(n!=i);s=t.prev,o=t.next,o.prev=s,s.next=o},e.prototype.countFaceVerts_=function(t){var i=t.anEdge,n=0;do n++,i=i.Lnext;while(i!==t.anEdge);return n},e.prototype.mergeConvexFaces=function(t){var i,n,r,a,s,o,l;for(i=this.fHead.next;i!==this.fHead;i=i.next)if(i.inside)for(n=i.anEdge,s=n.Org;r=n.Lnext,a=n.Sym,a&&a.Lface&&a.Lface.inside&&(o=this.countFaceVerts_(i),l=this.countFaceVerts_(a.Lface),o+l-2<=t&&ft.vertCCW(n.Lprev.Org,n.Org,a.Lnext.Lnext.Org)&&ft.vertCCW(a.Lprev.Org,a.Org,n.Lnext.Lnext.Org)&&(r=a.Lnext,this.delete(a),n=null,a=null)),!(n&&n.Lnext.Org===s);)n=r;return!0},e.prototype.check=function(){var t=this.fHead,i=this.vHead,n=this.eHead,r,a,s,o,l,d;for(a=t,a=t;(r=a.next)!==t;a=r){xt(r.prev===a),l=r.anEdge;do xt(l.Sym!==l),xt(l.Sym.Sym===l),xt(l.Lnext.Onext.Sym===l),xt(l.Onext.Sym.Lnext===l),xt(l.Lface===r),l=l.Lnext;while(l!==r.anEdge)}for(xt(r.prev===a&&r.anEdge===null),o=i,o=i;(s=o.next)!==i;o=s){xt(s.prev===o),l=s.anEdge;do xt(l.Sym!==l),xt(l.Sym.Sym===l),xt(l.Lnext.Onext.Sym===l),xt(l.Onext.Sym.Lnext===l),xt(l.Org===s),l=l.Onext;while(l!==s.anEdge)}for(xt(s.prev===o&&s.anEdge===null),d=n,d=n;(l=d.next)!==n;d=l)xt(l.Sym.next===d.Sym),xt(l.Sym!==l),xt(l.Sym.Sym===l),xt(l.Org!==null),xt(l.Dst!==null),xt(l.Lnext.Onext.Sym===l),xt(l.Onext.Sym.Lnext===l);xt(l.Sym.next===d.Sym&&l.Sym===this.eHeadSym&&l.Sym.Sym===l&&l.Org===null&&l.Dst===null&&l.Lface===null&&l.Rface===null)},e}(),eT=function(){function e(){this.handle=null}return e}(),tT=function(){function e(){this.key=null,this.node=0}return e}(),cee=function(){function e(t,i){this.leq=i,this.max=0,this.nodes=[],this.handles=[],this.initialized=!1,this.freeList=0,this.size=0,this.max=t,this.nodes=[],this.handles=[];for(var n=0;n<t+1;n++)this.nodes[n]=new eT,this.handles[n]=new tT;this.initialized=!1,this.nodes[1].handle=1,this.handles[1].key=null}return e.prototype.floatDown_=function(t){var i=this.nodes,n=this.handles,r,a,s;for(r=i[t].handle;;){if(s=t<<1,s<this.size&&this.leq(n[i[s+1].handle].key,n[i[s].handle].key)&&++s,xt(s<=this.max),a=i[s].handle,s>this.size||this.leq(n[r].key,n[a].key)){i[t].handle=r,n[r].node=t;break}i[t].handle=a,n[a].node=t,t=s}},e.prototype.floatUp_=function(t){var i=this.nodes,n=this.handles,r,a,s;for(r=i[t].handle;;){if(s=t>>1,a=i[s].handle,s===0||this.leq(n[a].key,n[r].key)){i[t].handle=r,n[r].node=t;break}i[t].handle=a,n[a].node=t,t=s}},e.prototype.init=function(){for(var t=this.size;t>=1;--t)this.floatDown_(t);this.initialized=!0},e.prototype.min=function(){return this.handles[this.nodes[1].handle].key},e.prototype.insert=function(t){var i,n;if(i=++this.size,i*2>this.max){this.max*=2;var r,a;for(a=this.nodes.length,this.nodes.length=this.max+1,r=a;r<this.nodes.length;r++)this.nodes[r]=new eT;for(a=this.handles.length,this.handles.length=this.max+1,r=a;r<this.handles.length;r++)this.handles[r]=new tT}return this.freeList===0?n=i:(n=this.freeList,this.freeList=this.handles[n].node),this.nodes[i].handle=n,this.handles[n].node=i,this.handles[n].key=t,this.initialized&&this.floatUp_(i),n},e.prototype.extractMin=function(){var t=this.nodes,i=this.handles,n=t[1].handle,r=i[n].key;return this.size>0&&(t[1].handle=t[this.size].handle,i[t[1].handle].node=1,i[n].key=null,i[n].node=this.freeList,this.freeList=n,--this.size,this.size>0&&this.floatDown_(1)),r},e.prototype.delete=function(t){var i=this.nodes,n=this.handles,r;xt(t>=1&&t<=this.max&&n[t].key!==null),r=n[t].node,i[r].handle=i[this.size].handle,n[i[r].handle].node=r,--this.size,r<=this.size&&(r<=1||this.leq(n[i[r>>1].handle].key,n[i[r].handle].key)?this.floatDown_(r):this.floatUp_(r)),n[t].key=null,n[t].node=this.freeList,this.freeList=t},e}(),vb=function(){function e(){this.eUp=null,this.nodeUp=null,this.windingNumber=0,this.inside=!1,this.sentinel=!1,this.dirty=!1,this.fixUpperEdge=!1}return e}(),iT=function(){function e(){this.key=null,this.next=null,this.prev=null}return e}(),uee=function(){function e(t,i){this.frame=t,this.leq=i,this.head=new iT,this.head.next=this.head,this.head.prev=this.head}return e.prototype.min=function(){return this.head.next},e.prototype.max=function(){return this.head.prev},e.prototype.insert=function(t){return this.insertBefore(this.head,t)},e.prototype.search=function(t){var i=this.head;do i=i.next;while(i.key!==null&&!this.leq(this.frame,t,i.key));return i},e.prototype.insertBefore=function(t,i){do t=t.prev;while(t.key!==null&&!this.leq(this.frame,t.key,i));var n=new iT;return n.key=i,n.next=t.next,t.next.prev=n,n.prev=t,t.next=n,n},e.prototype.delete=function(t){t.next.prev=t.prev,t.prev.next=t.next},e}(),fee=function(){function e(){}return e.regionBelow=function(t){return t.nodeUp.prev.key},e.regionAbove=function(t){return t.nodeUp.next.key},e.debugEvent=function(t){},e.addWinding=function(t,i){t.winding+=i.winding,t.Sym.winding+=i.Sym.winding},e.edgeLeq=function(t,i,n){var r=t.event,a=i.eUp,s=n.eUp;if(a.Dst===r)return s.Dst===r?ft.vertLeq(a.Org,s.Org)?ft.edgeSign(s.Dst,a.Org,s.Org)<=0:ft.edgeSign(a.Dst,s.Org,a.Org)>=0:ft.edgeSign(s.Dst,r,s.Org)<=0;if(s.Dst===r)return ft.edgeSign(a.Dst,r,a.Org)>=0;var o=ft.edgeEval(a.Dst,r,a.Org),l=ft.edgeEval(s.Dst,r,s.Org);return o>=l},e.deleteRegion=function(t,i){i.fixUpperEdge&&xt(i.eUp.winding===0),i.eUp.activeRegion=null,t.dict.delete(i.nodeUp)},e.fixUpperEdge=function(t,i,n){xt(i.fixUpperEdge),t.mesh.delete(i.eUp),i.fixUpperEdge=!1,i.eUp=n,n.activeRegion=i},e.topLeftRegion=function(t,i){var n=i.eUp.Org,r;do i=e.regionAbove(i);while(i.eUp.Org===n);if(i.fixUpperEdge){if(r=t.mesh.connect(e.regionBelow(i).eUp.Sym,i.eUp.Lnext),r===null)return null;e.fixUpperEdge(t,i,r),i=e.regionAbove(i)}return i},e.topRightRegion=function(t){var i=t.eUp.Dst;do t=e.regionAbove(t);while(t.eUp.Dst===i);return t},e.addRegionBelow=function(t,i,n){var r=new vb;return r.eUp=n,r.nodeUp=t.dict.insertBefore(i.nodeUp,r),r.fixUpperEdge=!1,r.sentinel=!1,r.dirty=!1,n.activeRegion=r,r},e.isWindingInside=function(t,i){switch(t.windingRule){case gi.ODD:return(i&1)!==0;case gi.NONZERO:return i!==0;case gi.POSITIVE:return i>0;case gi.NEGATIVE:return i<0;case gi.ABS_GEQ_TWO:return i>=2||i<=-2}throw new Error("Invalid winding rulle")},e.computeWinding=function(t,i){i.windingNumber=e.regionAbove(i).windingNumber+i.eUp.winding,i.inside=e.isWindingInside(t,i.windingNumber)},e.finishRegion=function(t,i){var n=i.eUp,r=n.Lface;r.inside=i.inside,r.anEdge=n,e.deleteRegion(t,i)},e.finishLeftRegions=function(t,i,n){for(var r,a=null,s=i,o=i.eUp;s!==n;){if(s.fixUpperEdge=!1,a=e.regionBelow(s),r=a.eUp,r.Org!=o.Org){if(!a.fixUpperEdge){e.finishRegion(t,s);break}r=t.mesh.connect(o.Lprev,r.Sym),e.fixUpperEdge(t,a,r)}o.Onext!==r&&(t.mesh.splice(r.Oprev,r),t.mesh.splice(o,r)),e.finishRegion(t,s),o=a.eUp,s=a}return o},e.addRightEdges=function(t,i,n,r,a,s){var o,l,d,u,c=!0;d=n;do xt(ft.vertLeq(d.Org,d.Dst)),e.addRegionBelow(t,i,d.Sym),d=d.Onext;while(d!==r);for(a===null&&(a=e.regionBelow(i).eUp.Rprev),l=i,u=a;o=e.regionBelow(l),d=o.eUp.Sym,d.Org===u.Org;)d.Onext!==u&&(t.mesh.splice(d.Oprev,d),t.mesh.splice(u.Oprev,d)),o.windingNumber=l.windingNumber-d.winding,o.inside=e.isWindingInside(t,o.windingNumber),l.dirty=!0,!c&&e.checkForRightSplice(t,l)&&(e.addWinding(d,u),e.deleteRegion(t,l),t.mesh.delete(u)),c=!1,l=o,u=d;l.dirty=!0,xt(l.windingNumber-d.winding===o.windingNumber),s&&e.walkDirtyRegions(t,l)},e.spliceMergeVertices=function(t,i,n){t.mesh.splice(i,n)},e.vertexWeights=function(t,i,n){var r=ft.vertL1dist(i,t),a=ft.vertL1dist(n,t),s=.5*a/(r+a),o=.5*r/(r+a);t.coords[0]+=s*i.coords[0]+o*n.coords[0],t.coords[1]+=s*i.coords[1]+o*n.coords[1],t.coords[2]+=s*i.coords[2]+o*n.coords[2]},e.getIntersectData=function(t,i,n,r,a,s){i.coords[0]=i.coords[1]=i.coords[2]=0,i.idx=-1,e.vertexWeights(i,n,r),e.vertexWeights(i,a,s)},e.checkForRightSplice=function(t,i){var n=e.regionBelow(i),r=i.eUp,a=n.eUp;if(ft.vertLeq(r.Org,a.Org)){if(ft.edgeSign(a.Dst,r.Org,a.Org)>0)return!1;ft.vertEq(r.Org,a.Org)?r.Org!==a.Org&&(t.pq.delete(r.Org.pqHandle),e.spliceMergeVertices(t,a.Oprev,r)):(t.mesh.splitEdge(a.Sym),t.mesh.splice(r,a.Oprev),i.dirty=n.dirty=!0)}else{if(ft.edgeSign(r.Dst,a.Org,r.Org)<0)return!1;e.regionAbove(i).dirty=i.dirty=!0,t.mesh.splitEdge(r.Sym),t.mesh.splice(a.Oprev,r)}return!0},e.checkForLeftSplice=function(t,i){var n=e.regionBelow(i),r=i.eUp,a=n.eUp,s;if(xt(!ft.vertEq(r.Dst,a.Dst)),ft.vertLeq(r.Dst,a.Dst)){if(ft.edgeSign(r.Dst,a.Dst,r.Org)<0)return!1;e.regionAbove(i).dirty=i.dirty=!0,s=t.mesh.splitEdge(r),t.mesh.splice(a.Sym,s),s.Lface.inside=i.inside}else{if(ft.edgeSign(a.Dst,r.Dst,a.Org)>0)return!1;i.dirty=n.dirty=!0,s=t.mesh.splitEdge(a),t.mesh.splice(r.Lnext,a.Sym),s.Rface.inside=i.inside}return!0},e.checkForIntersect=function(t,i){var n=e.regionBelow(i),r=i.eUp,a=n.eUp,s=r.Org,o=a.Org,l=r.Dst,d=a.Dst,u,c,f=new tu,h,p;if(xt(!ft.vertEq(d,l)),xt(ft.edgeSign(l,t.event,s)<=0),xt(ft.edgeSign(d,t.event,o)>=0),xt(s!==t.event&&o!==t.event),xt(!i.fixUpperEdge&&!n.fixUpperEdge),s===o||(u=Math.min(s.t,l.t),c=Math.max(o.t,d.t),u>c))return!1;if(ft.vertLeq(s,o)){if(ft.edgeSign(d,s,o)>0)return!1}else if(ft.edgeSign(l,o,s)<0)return!1;return e.debugEvent(t),ft.intersect(l,s,d,o,f),xt(Math.min(s.t,l.t)<=f.t),xt(f.t<=Math.max(o.t,d.t)),xt(Math.min(d.s,l.s)<=f.s),xt(f.s<=Math.max(o.s,s.s)),ft.vertLeq(f,t.event)&&(f.s=t.event.s,f.t=t.event.t),h=ft.vertLeq(s,o)?s:o,ft.vertLeq(h,f)&&(f.s=h.s,f.t=h.t),ft.vertEq(f,s)||ft.vertEq(f,o)?(e.checkForRightSplice(t,i),!1):!ft.vertEq(l,t.event)&&ft.edgeSign(l,t.event,f)>=0||!ft.vertEq(d,t.event)&&ft.edgeSign(d,t.event,f)<=0?d===t.event?(t.mesh.splitEdge(r.Sym),t.mesh.splice(a.Sym,r),i=e.topLeftRegion(t,i),r=e.regionBelow(i).eUp,e.finishLeftRegions(t,e.regionBelow(i),n),e.addRightEdges(t,i,r.Oprev,r,r,!0),!0):l===t.event?(t.mesh.splitEdge(a.Sym),t.mesh.splice(r.Lnext,a.Oprev),n=i,i=e.topRightRegion(i),p=e.regionBelow(i).eUp.Rprev,n.eUp=a.Oprev,a=e.finishLeftRegions(t,n,null),e.addRightEdges(t,i,a.Onext,r.Rprev,p,!0),!0):(ft.edgeSign(l,t.event,f)>=0&&(e.regionAbove(i).dirty=i.dirty=!0,t.mesh.splitEdge(r.Sym),r.Org.s=t.event.s,r.Org.t=t.event.t),ft.edgeSign(d,t.event,f)<=0&&(i.dirty=n.dirty=!0,t.mesh.splitEdge(a.Sym),a.Org.s=t.event.s,a.Org.t=t.event.t),!1):(t.mesh.splitEdge(r.Sym),t.mesh.splitEdge(a.Sym),t.mesh.splice(a.Oprev,r),r.Org.s=f.s,r.Org.t=f.t,r.Org.pqHandle=t.pq.insert(r.Org),e.getIntersectData(t,r.Org,s,l,o,d),e.regionAbove(i).dirty=i.dirty=n.dirty=!0,!1)},e.walkDirtyRegions=function(t,i){for(var n=e.regionBelow(i),r,a;;){for(;n.dirty;)i=n,n=e.regionBelow(n);if(!i.dirty&&(n=i,i=e.regionAbove(i),i===null||!i.dirty))return;if(i.dirty=!1,r=i.eUp,a=n.eUp,r.Dst!==a.Dst&&e.checkForLeftSplice(t,i)&&(n.fixUpperEdge?(e.deleteRegion(t,n),t.mesh.delete(a),n=e.regionBelow(i),a=n.eUp):i.fixUpperEdge&&(e.deleteRegion(t,i),t.mesh.delete(r),i=e.regionAbove(n),r=i.eUp)),r.Org!==a.Org)if(r.Dst!==a.Dst&&!i.fixUpperEdge&&!n.fixUpperEdge&&(r.Dst===t.event||a.Dst===t.event)){if(e.checkForIntersect(t,i))return}else e.checkForRightSplice(t,i);r.Org===a.Org&&r.Dst===a.Dst&&(e.addWinding(a,r),e.deleteRegion(t,i),t.mesh.delete(r),i=e.regionAbove(n))}},e.connectRightVertex=function(t,i,n){var r,a=n.Onext,s=e.regionBelow(i),o=i.eUp,l=s.eUp,d=!1;if(o.Dst!==l.Dst&&e.checkForIntersect(t,i),ft.vertEq(o.Org,t.event)&&(t.mesh.splice(a.Oprev,o),i=e.topLeftRegion(t,i),a=e.regionBelow(i).eUp,e.finishLeftRegions(t,e.regionBelow(i),s),d=!0),ft.vertEq(l.Org,t.event)&&(t.mesh.splice(n,l.Oprev),n=e.finishLeftRegions(t,s,null),d=!0),d){e.addRightEdges(t,i,n.Onext,a,a,!0);return}ft.vertLeq(l.Org,o.Org)?r=l.Oprev:r=o,r=t.mesh.connect(n.Lprev,r),e.addRightEdges(t,i,r,r.Onext,r.Onext,!1),r.Sym.activeRegion.fixUpperEdge=!0,e.walkDirtyRegions(t,i)},e.connectLeftDegenerate=function(t,i,n){var r,a,s,o,l;if(r=i.eUp,ft.vertEq(r.Org,n)){xt(!1),e.spliceMergeVertices(t,r,n.anEdge);return}if(!ft.vertEq(r.Dst,n)){t.mesh.splitEdge(r.Sym),i.fixUpperEdge&&(t.mesh.delete(r.Onext),i.fixUpperEdge=!1),t.mesh.splice(n.anEdge,r),e.sweepEvent(t,n);return}xt(!1),i=e.topRightRegion(i),l=e.regionBelow(i),s=l.eUp.Sym,a=o=s.Onext,l.fixUpperEdge&&(xt(a!==s),e.deleteRegion(t,l),t.mesh.delete(s),s=a.Oprev),t.mesh.splice(n.anEdge,s),ft.edgeGoesLeft(a)||(a=null),e.addRightEdges(t,i,s.Onext,o,a,!0)},e.connectLeftVertex=function(t,i){var n,r,a,s,o,l,d=new vb;if(d.eUp=i.anEdge.Sym,n=t.dict.search(d).key,r=e.regionBelow(n),!!r){if(s=n.eUp,o=r.eUp,ft.edgeSign(s.Dst,i,s.Org)===0){e.connectLeftDegenerate(t,n,i);return}if(a=ft.vertLeq(o.Dst,s.Dst)?n:r,n.inside||a.fixUpperEdge){if(a===n)l=t.mesh.connect(i.anEdge.Sym,s.Lnext);else{var u=t.mesh.connect(o.Dnext,i.anEdge);l=u.Sym}a.fixUpperEdge?e.fixUpperEdge(t,a,l):e.computeWinding(t,e.addRegionBelow(t,n,l)),e.sweepEvent(t,i)}else e.addRightEdges(t,n,i.anEdge,i.anEdge,null,!0)}},e.sweepEvent=function(t,i){t.event=i,e.debugEvent(t);for(var n=i.anEdge;n.activeRegion===null;)if(n=n.Onext,n===i.anEdge){e.connectLeftVertex(t,i);return}var r=e.topLeftRegion(t,n.activeRegion);xt(r!==null);var a=e.regionBelow(r),s=a.eUp,o=e.finishLeftRegions(t,a,null);o.Onext===s?e.connectRightVertex(t,r,o):e.addRightEdges(t,r,o.Onext,s,s,!0)},e.addSentinel=function(t,i,n,r){var a=new vb,s=t.mesh.makeEdge();s.Org.s=n,s.Org.t=r,s.Dst.s=i,s.Dst.t=r,t.event=s.Dst,a.eUp=s,a.windingNumber=0,a.inside=!1,a.fixUpperEdge=!1,a.sentinel=!0,a.dirty=!1,a.nodeUp=t.dict.insert(a)},e.initEdgeDict=function(t){t.dict=new uee(t,e.edgeLeq);var i=t.bmax[0]-t.bmin[0],n=t.bmax[1]-t.bmin[1],r=t.bmin[0]-i,a=t.bmax[0]+i,s=t.bmin[1]-n,o=t.bmax[1]+n;e.addSentinel(t,r,a,s),e.addSentinel(t,r,a,o)},e.doneEdgeDict=function(t){for(var i,n=0;(i=t.dict.min().key)!==null;)i.sentinel||(xt(i.fixUpperEdge),xt(++n===1)),xt(i.windingNumber===0),e.deleteRegion(t,i)},e.removeDegenerateEdges=function(t){var i,n,r,a=t.mesh.eHead;for(i=a.next;i!==a;i=n)n=i.next,r=i.Lnext,ft.vertEq(i.Org,i.Dst)&&i.Lnext.Lnext!==i&&(e.spliceMergeVertices(t,r,i),t.mesh.delete(i),i=r,r=i.Lnext),r.Lnext===i&&(r!==i&&((r===n||r===n.Sym)&&(n=n.next),t.mesh.delete(r)),(i===n||i===n.Sym)&&(n=n.next),t.mesh.delete(i))},e.initPriorityQ=function(t){var i,n,r,a=0;for(r=t.mesh.vHead,n=r.next;n!==r;n=n.next)a++;for(a+=8,i=t.pq=new cee(a,ft.vertLeq),r=t.mesh.vHead,n=r.next;n!==r;n=n.next)n.pqHandle=i.insert(n);return n!==r?!1:(i.init(),!0)},e.donePriorityQ=function(t){t.pq=null},e.removeDegenerateFaces=function(t,i){var n,r,a;for(n=i.fHead.next;n!==i.fHead;n=r)r=n.next,a=n.anEdge,xt(a.Lnext!==a),a.Lnext.Lnext===a&&(e.addWinding(a.Onext,a),t.mesh.delete(a));return!0},e.computeInterior=function(t,i){i===void 0&&(i=!0);var n,r;if(e.removeDegenerateEdges(t),!e.initPriorityQ(t))return!1;for(e.initEdgeDict(t);(n=t.pq.extractMin())!==null;){for(;r=t.pq.min(),!(r===null||!ft.vertEq(r,n));)r=t.pq.extractMin(),e.spliceMergeVertices(t,n.anEdge,r.anEdge);e.sweepEvent(t,n)}return t.event=t.dict.min().key.eUp.Org,e.debugEvent(t),e.doneEdgeDict(t),e.donePriorityQ(t),e.removeDegenerateFaces(t,t.mesh)?(i&&t.mesh.check(),!0):!1},e}(),hee=function(){function e(){this.mesh=new $E,this.normal=[0,0,0],this.sUnit=[0,0,0],this.tUnit=[0,0,0],this.bmin=[0,0],this.bmax=[0,0],this.windingRule=gi.ODD,this.dict=null,this.pq=null,this.event=null,this.vertexIndexCounter=0,this.vertices=[],this.vertexIndices=[],this.vertexCount=0,this.elements=[],this.elementCount=0}return e.prototype.dot_=function(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]},e.prototype.normalize_=function(t){var i=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];if(!i)throw"Zero-size vector!";i=Math.sqrt(i),t[0]/=i,t[1]/=i,t[2]/=i},e.prototype.longAxis_=function(t){var i=0;return Math.abs(t[1])>Math.abs(t[0])&&(i=1),Math.abs(t[2])>Math.abs(t[i])&&(i=2),i},e.prototype.computeNormal_=function(t){var i,n,r,a,s,o,l=[0,0,0],d=[0,0,0],u=[0,0,0],c=[0,0,0],f=[0,0,0],h=[null,null,null],p=[null,null,null],m=this.mesh.vHead;i=m.next;for(var g=0;g<3;++g)a=i.coords[g],d[g]=a,p[g]=i,l[g]=a,h[g]=i;for(i=m.next;i!==m;i=i.next)for(var v=0;v<3;++v)a=i.coords[v],a<d[v]&&(d[v]=a,p[v]=i),a>l[v]&&(l[v]=a,h[v]=i);var y=0;if(l[1]-d[1]>l[0]-d[0]&&(y=1),l[2]-d[2]>l[y]-d[y]&&(y=2),d[y]>=l[y]){t[0]=0,t[1]=0,t[2]=1;return}for(o=0,n=p[y],r=h[y],u[0]=n.coords[0]-r.coords[0],u[1]=n.coords[1]-r.coords[1],u[2]=n.coords[2]-r.coords[2],i=m.next;i!==m;i=i.next)c[0]=i.coords[0]-r.coords[0],c[1]=i.coords[1]-r.coords[1],c[2]=i.coords[2]-r.coords[2],f[0]=u[1]*c[2]-u[2]*c[1],f[1]=u[2]*c[0]-u[0]*c[2],f[2]=u[0]*c[1]-u[1]*c[0],s=f[0]*f[0]+f[1]*f[1]+f[2]*f[2],s>o&&(o=s,t[0]=f[0],t[1]=f[1],t[2]=f[2]);o<=0&&(t[0]=t[1]=t[2]=0,t[this.longAxis_(u)]=1)},e.prototype.checkOrientation_=function(){for(var t=this.mesh.fHead,i,n=this.mesh.vHead,r,a=0,s=t.next;s!==t;s=s.next)if(r=s.anEdge,!(r.winding<=0))do a+=(r.Org.s-r.Dst.s)*(r.Org.t+r.Dst.t),r=r.Lnext;while(r!==s.anEdge);if(a<0){for(i=n.next;i!==n;i=i.next)i.t=-i.t;this.tUnit[0]=-this.tUnit[0],this.tUnit[1]=-this.tUnit[1],this.tUnit[2]=-this.tUnit[2]}},e.prototype.projectPolygon_=function(){var t=this.mesh.vHead,i=[0,0,0],n,r,a=!1;i[0]=this.normal[0],i[1]=this.normal[1],i[2]=this.normal[2],!i[0]&&!i[1]&&!i[2]&&(this.computeNormal_(i),a=!0),n=this.sUnit,r=this.tUnit;var s=this.longAxis_(i);n[s]=0,n[(s+1)%3]=1,n[(s+2)%3]=0,r[s]=0,r[(s+1)%3]=0,r[(s+2)%3]=i[s]>0?1:-1;for(var o=t.next;o!==t;o=o.next)o.s=this.dot_(o.coords,n),o.t=this.dot_(o.coords,r);a&&this.checkOrientation_();for(var l=!0,d=t.next;d!==t;d=d.next)l?(this.bmin[0]=this.bmax[0]=d.s,this.bmin[1]=this.bmax[1]=d.t,l=!1):(d.s<this.bmin[0]&&(this.bmin[0]=d.s),d.s>this.bmax[0]&&(this.bmax[0]=d.s),d.t<this.bmin[1]&&(this.bmin[1]=d.t),d.t>this.bmax[1]&&(this.bmax[1]=d.t))},e.prototype.addWinding_=function(t,i){t.winding+=i.winding,t.Sym.winding+=i.Sym.winding},e.prototype.tessellateMonoRegion_=function(t,i){var n,r;if(n=i.anEdge,!(n.Lnext!==n&&n.Lnext.Lnext!==n))throw"Mono region invalid";for(;ft.vertLeq(n.Dst,n.Org);n=n.Lprev);for(;ft.vertLeq(n.Org,n.Dst);n=n.Lnext);r=n.Lprev;for(var a=void 0;n.Lnext!==r;)if(ft.vertLeq(n.Dst,r.Org)){for(;r.Lnext!==n&&(ft.edgeGoesLeft(r.Lnext)||ft.edgeSign(r.Org,r.Dst,r.Lnext.Dst)<=0);)a=t.connect(r.Lnext,r),r=a.Sym;r=r.Lprev}else{for(;r.Lnext!==n&&(ft.edgeGoesRight(n.Lprev)||ft.edgeSign(n.Dst,n.Org,n.Lprev.Org)>=0);)a=t.connect(n,n.Lprev),n=a.Sym;n=n.Lnext}if(r.Lnext===n)throw"Mono region invalid";for(;r.Lnext.Lnext!==n;)a=t.connect(r.Lnext,r),r=a.Sym;return!0},e.prototype.tessellateInterior_=function(t){for(var i,n=t.fHead.next;n!==t.fHead;n=i)if(i=n.next,n.inside&&!this.tessellateMonoRegion_(t,n))return!1;return!0},e.prototype.discardExterior_=function(t){for(var i,n=t.fHead.next;n!==t.fHead;n=i)i=n.next,n.inside||t.zapFace(n)},e.prototype.setWindingNumber_=function(t,i,n){for(var r,a=t.eHead.next;a!==t.eHead;a=r)r=a.next,a.Rface.inside!==a.Lface.inside?a.winding=a.Lface.inside?i:-i:n?t.delete(a):a.winding=0},e.prototype.getNeighbourFace_=function(t){return!t.Rface||!t.Rface.inside?-1:t.Rface.n},e.prototype.outputPolymesh_=function(t,i,n,r){var a,s=0,o=0,l;n>3&&t.mergeConvexFaces(n);for(var d=t.vHead.next;d!==t.vHead;d=d.next)d.n=-1;for(var u=t.fHead.next;u!==t.fHead;u=u.next)if(u.n=-1,!!u.inside){a=u.anEdge,l=0;do{var d=a.Org;d.n===-1&&(d.n=o,o++),l++,a=a.Lnext}while(a!==u.anEdge);if(l>n)throw"Face vertex greater that support polygon";u.n=s,++s}this.elementCount=s,i===cn.CONNECTED_POLYGONS&&(s*=2),this.elements=[],this.elements.length=s*n,this.vertexCount=o,this.vertices=[],this.vertices.length=o*r,this.vertexIndices=[],this.vertexIndices.length=o;for(var d=t.vHead.next;d!==t.vHead;d=d.next)if(d.n!==-1){var c=d.n*r;this.vertices[c+0]=d.coords[0],this.vertices[c+1]=d.coords[1],r>2&&(this.vertices[c+2]=d.coords[2]),this.vertexIndices[d.n]=d.idx}for(var f=0,u=t.fHead.next;u!==t.fHead;u=u.next)if(u.inside){a=u.anEdge,l=0;do{var d=a.Org;this.elements[f++]=d.n,l++,a=a.Lnext}while(a!==u.anEdge);for(var h=l;h<n;++h)this.elements[f++]=-1;if(i===cn.CONNECTED_POLYGONS){a=u.anEdge;do this.elements[f++]=this.getNeighbourFace_(a),a=a.Lnext;while(a!==u.anEdge);for(var p=l;p<n;++p)this.elements[f++]=-1}}},e.prototype.outputContours_=function(t,i){var n,r,a=0,s=0;this.vertexCount=0,this.elementCount=0;for(var o=t.fHead.next;o!==t.fHead;o=o.next)if(o.inside){r=n=o.anEdge;do this.vertexCount++,n=n.Lnext;while(n!==r);this.elementCount++}this.elements=[],this.elements.length=this.elementCount*2,this.vertices=[],this.vertices.length=this.vertexCount*i,this.vertexIndices=[],this.vertexIndices.length=this.vertexCount;var l=0,d=0,u=0;a=0;for(var o=t.fHead.next;o!==t.fHead;o=o.next)if(o.inside){s=0,r=n=o.anEdge;do this.vertices[l++]=n.Org.coords[0],this.vertices[l++]=n.Org.coords[1],i>2&&(this.vertices[l++]=n.Org.coords[2]),this.vertexIndices[d++]=this.vertexIdCallback?this.vertexIdCallback(n):n.Org.idx,s++,n=n.Lnext;while(n!==r);this.elements[u++]=a,this.elements[u++]=s,a+=s}},e.prototype.addContour=function(t,i){this.mesh===null&&(this.mesh=new $E),t<2&&(t=2),t>3&&(t=3);for(var n=null,r=0;r<i.length;r+=t)n===null?(n=this.mesh.makeEdge(),this.mesh.splice(n,n.Sym)):(this.mesh.splitEdge(n),n=n.Lnext),n.Org.coords[0]=i[r+0],n.Org.coords[1]=i[r+1],t>2?n.Org.coords[2]=i[r+2]:n.Org.coords[2]=0,n.Org.idx=this.vertexIndexCounter++,this.edgeCreateCallback&&this.edgeCreateCallback(n),n.winding=1,n.Sym.winding=-1},e.prototype.tesselate=function(t,i,n,r,a,s){if(t===void 0&&(t=gi.ODD),i===void 0&&(i=cn.POLYGONS),s===void 0&&(s=!0),this.vertices=[],this.elements=[],this.vertexIndices=[],this.vertexIndexCounter=0,a&&(this.normal[0]=a[0],this.normal[1]=a[1],this.normal[2]=a[2]),this.windingRule=t,r<2&&(r=2),r>3&&(r=3),!this.mesh)return!1;this.projectPolygon_(),fee.computeInterior(this,s);var o=this.mesh;return i===cn.BOUNDARY_CONTOURS?this.setWindingNumber_(o,1,!0):this.tessellateInterior_(o),s&&o.check(),i===cn.BOUNDARY_CONTOURS?this.outputContours_(o,r):this.outputPolymesh_(o,i,n,r),!0},e}();function sl(e){var t=e.windingRule,i=t===void 0?gi.ODD:t,n=e.elementType,r=n===void 0?cn.POLYGONS:n,a=e.polySize,s=a===void 0?3:a,o=e.vertexSize,l=o===void 0?2:o,d=e.normal,u=d===void 0?[0,0,1]:d,c=e.contours,f=c===void 0?[]:c,h=e.strict,p=h===void 0?!0:h,m=e.debug,g=m===void 0?!1:m;if(!f&&p)throw new Error("Contours can't be empty");if(f){var v=new hee;e.edgeCreateCallback&&(v.edgeCreateCallback=e.edgeCreateCallback),e.vertexIdCallback&&(v.vertexIdCallback=e.vertexIdCallback);for(var y=0;y<f.length;y++)v.addContour(l||2,f[y]);return v.tesselate(i,r,s,l,u,p),{vertices:v.vertices,vertexIndices:v.vertexIndices,vertexCount:v.vertexCount,elements:v.elements,elementCount:v.elementCount,mesh:g?v.mesh:void 0}}}var epe=gi.ODD,tpe=gi.NONZERO,ipe=gi.POSITIVE,npe=gi.NEGATIVE,rpe=gi.ABS_GEQ_TWO,ape=cn.POLYGONS,spe=cn.CONNECTED_POLYGONS,ope=cn.BOUNDARY_CONTOURS,yb=class{constructor(e=256,t=!1){this.capacity=e,this.size=0,this.debug=t,this.debug&&console.log(`allocating with cap ${e}`);let i=e*yb.eSize;this.buffer=new ArrayBuffer(i);let n=Float32Array.BYTES_PER_ELEMENT,r=0;this.positions=new Float32Array(this.buffer,r*n,3*e),r+=3*e,this.normals=new Float32Array(this.buffer,r*n,3*e),r+=3*e,this.uvs=new Float32Array(this.buffer,r*n,2*e)}realloc(e,t=!1){if(e<this.size)throw Error("cannot shrink buffer");if(e<=this.capacity&&!t)return;this.debug&&console.log(`resizing from ${this.capacity} \u2192 ${e}`);let i=e*yb.eSize,n=new ArrayBuffer(i),r=Float32Array.BYTES_PER_ELEMENT,a=0,s=new Float32Array(n,a*r,3*e);a+=3*e;let o=new Float32Array(n,a*r,3*e);a+=3*e;let l=new Float32Array(n,a*r,2*e);t?(s.set(this.positions.subarray(0,this.size*3)),o.set(this.normals.subarray(0,this.size*3)),l.set(this.uvs.subarray(0,this.size*2))):(s.set(this.positions),o.set(this.normals),l.set(this.uvs)),this.buffer=n,this.positions=s,this.normals=o,this.uvs=l,this.capacity=e}get(e=1){let t=this.size+e;if(t>this.capacity){let n=this.capacity;for(;t>n;)n*=2;this.realloc(n)}let i=this.size;return this.size=t,i}reserve(e){let t=this.size+e;t>this.capacity&&this.realloc(t)}shrink(){this.debug&&console.log(`shrinking ${this.capacity} \u2192 ${this.size}`),this.realloc(this.size,!0)}},nT=yb;nT.eSize=8*Float32Array.BYTES_PER_ELEMENT;var pee=En(CB()),bb={vertices:[160,160,-160,160,-160,-160,160,-160],vertexIndices:[1,0,3,2],vertexCount:4,elements:[0,4],elementCount:1,mesh:void 0},rT={vertices:[],vertexIndices:[],vertexCount:0,elements:[],elementCount:0,mesh:void 0},aT={vertices:[-160,160,160,-160,160,160,-160,-160],vertexIndices:[1,3,0,2],vertexCount:4,elements:[0,1,2,1,0,3],elementCount:2,mesh:void 0},_b=(e,t)=>([i,n])=>(n<i&&(n+=t),(e>=i?e:e+t)<=n),wb=class extends dt{constructor(e,t,i=0,n=12,r=3,a=gi.ODD,s=!1){super(),this.forPathBevel=s,this.type="ShapeGeometry",this.vertexCache={},this._shape=e,this._depth=t,this._curveSegments=n,this._bevelSegmentsInput=r;let o=this._shape.extractShapePointsToFlatArray([],n),l=this._shape.shapeHoles.map(A=>{let M=A.extractShapePointsToFlatArray([],n),C=[];for(let T=M.length-1;T>=1;T-=2){let P=M[T-1],I=M[T-0];C.push(P,I)}return C}),d=[],u=[];for(let A=0;A<o.length;A+=2)u.push([o[A],o[A+1]]);d.push(u);for(let A=0;A<l.length;A++){let M=l[A],C=[];for(let T=0;T<M.length;T+=2)C.push([M[T],M[T+1]]);d.push(C)}let c;e.isText?c=new kM().setFromPoints(e.points.map(A=>A.position)).getSize(new Y).length()*.1:d[0].length===0?c=i:c=(0,pee.default)(d).distance,i<=0?(this._bevel=0,this._bevelSegments=0):(this._bevel=Math.min(i,c,t/2),this._bevelSegments=Math.floor(r));let f;try{f=sl({windingRule:a,elementType:cn.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[o]})}catch(A){f=bb}let h;try{h=sl({windingRule:gi.ODD,elementType:cn.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...l]})}catch(A){h=rT}if(!f)throw new Error("error generating geometry");let p=f.elementCount;if(h){f.elementCount+=h.elementCount;for(let A=0;A<h.elements.length;A++){let M=h.elements[A],C=A%2===0?f.vertexCount:0;f.elements.push(M+C)}for(let A=0;A<h.vertexIndices.length;A++){let M=h.vertexIndices[A],C=f.vertexCount;f.vertexIndices.push(M+C)}for(let A=0;A<h.vertices.length;A++){let M=h.vertices[A];f.vertices.push(M)}}let m=1/0,g=-1/0,v=1/0,y=-1/0;for(let A=0,M=f.vertexCount;A<M;A++){let C=A*2,T=f.vertices[C+0],P=f.vertices[C+1];T<m&&(m=T),T>g&&(g=T),P<v&&(v=P),P>y&&(y=P)}this._minX=m,this._minY=v,this._width=g-m,this._height=y-v,this._buffer=new nT(this._computeBufferEstimatedSize(f));let b=[],_=[];for(let A=f.elementCount-1;A>=0;A--){let M=A>=p,C=A*2,T=f.elements[C+0],P=f.elements[C+1],I=T+P,j={start:T,count:P,normals:[],continuous:[],concave:[]},H=T,U=I-1,O=T+1,F=this._shape.roundedCurves.length;do{let q=H-T,J=f.vertices[U*2+0],W=f.vertices[U*2+1],ce=f.vertices[H*2+0],te=f.vertices[H*2+1],oe=f.vertices[O*2+0],ie=f.vertices[O*2+1],we=ce-J,pe=te-W,fe=Math.sqrt(we*we+pe*pe);we/=fe,pe/=fe;let Le=ce-oe,Be=te-ie,Ne=Math.sqrt(Le*Le+Be*Be);Le/=Ne,Be/=Ne,j.normals[q*2+0]=-Be,j.normals[q*2+1]=Le,j.concave[q]=we*Be-pe*Le>0;let Ye=f.vertexIndices[H];if(Array.isArray(Ye))j.continuous[q]=!1;else{let[ze,Pe]=this._shape.getCurveIndexFromVertexId(Ye-1,!0);if(Pe>0&&Pe<1)j.continuous[q]=!0;else{let Ze=Pe===1?ze+1:ze-1;Ze=(Ze+F)%F;let st=Pe===1?0:1,V=this._shape.roundedCurves[ze].getTangent(Pe),z=this._shape.roundedCurves[Ze].getTangent(st);j.continuous[q]=V.dot(z)>.95}}M&&(j.normals[q*2+0]*=-1,j.normals[q*2+1]*=-1),[U,H,O]=[H,O,O+1],O>=I&&(O-=P)}while(O!==T+1);let Z=[];Z.push({bevelI:0,angle:0,size:0,boundary:{vertices:f.vertices.slice(T*2,I*2),vertexCount:P,vertexIndices:new Array(P).fill(!0).map((q,J)=>[J,J]),elements:[0,P],elementCount:1,mesh:null},reverseMap:[],insetPoints:f.vertices.slice(T*2,I*2)});let G=0;for(let q=1;q<=this._bevelSegments;q++){let J=q/this._bevelSegments*Math.PI/2,W=(1-Math.cos(J))*this._bevel,ce=[],te=[],oe=[],ie=[],we=0;for(let fe=0;fe<P;fe++){let Le=fe*2,Be=(fe-1+P)%P*2,Ne=f.vertices[j.start*2+Le+0],Ye=f.vertices[j.start*2+Le+1],ze=-j.normals[Be+0]*W,Pe=-j.normals[Be+1]*W,Ze=-j.normals[Le+0]*W,st=-j.normals[Le+1]*W;if(j.concave[fe]||!j.concave[fe]&&M){let V=Math.atan2(Pe,ze),z=Math.atan2(st,Ze);z>V&&(z-=Math.PI*2);let le=z-V;if(j.continuous[fe]||M){let Ie=V+le/2,ke=Math.cos(Ie)*W,je=Math.sin(Ie)*W;ce[2*we+0]=Ne+ke*(M?-1:1),ce[2*we+1]=Ye+je*(M?-1:1),ie[we]=fe,we++}else{let Ie=Math.max(1,Math.floor(n/4*Math.abs(le)/Math.PI));for(let ke=0;ke<=Ie;ke++){let je=V+le*(ke/Ie),tt=Math.cos(je)*W,We=Math.sin(je)*W;ce[2*we+0]=Ne+tt,ce[2*we+1]=Ye+We,ie[we]=fe,we++}}}else ce[2*we+0]=Ne+ze,ce[2*we+1]=Ye+Pe,ie[we]=fe,te[fe]=we,we++,ce[2*we+0]=Ne,ce[2*we+1]=Ye,ie[we]=fe,we++,ce[2*we+0]=Ne+Ze,ce[2*we+1]=Ye+st,ie[we]=fe,oe[fe]=we,we++}let pe=sl({windingRule:gi.POSITIVE,elementType:cn.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[ce],edgeCreateCallback:fe=>{let Le=fe.Org.idx,Be=ie[Le],Ne=ie[(Le+1)%ie.length];fe.idx=[Be,Ne],fe.Sym.idx=[Ne,Be]},vertexIdCallback:fe=>{let Le=fe.Lprev.idx;return[Le?Le[1]:0,fe.idx?fe.idx[0]:0]}});if(!pe)throw console.log("Error"),new Error(`error generating bevel geometry for ${q}'th loop`);if(!pe.vertexCount){let fe=(q-1)/this._bevelSegments*Math.PI/2;G=(1-Math.sin(fe))*this._bevel;break}for(let fe=0;fe<pe.vertexIndices.length;fe++){let[Le,Be]=pe.vertexIndices[fe];if(Le===Be)continue;let Ne=Be;Be<Le&&(Ne+=P);for(let Ye=Le;Ye<Ne;Ye++){let ze=Ye%P,Pe=(Ye+1)%P;if(!j.continuous[ze]||!j.continuous[Pe]){pe.vertexIndices[fe]=[Le,ze],pe.vertexIndices.splice(fe+1,0,[Pe,Be]),pe.vertices.splice((fe+1)*2,0,pe.vertices[fe*2],pe.vertices[fe*2+1]);break}}}Z.push({bevelI:q,angle:J,size:W,boundary:pe,reverseMap:ie,insetPoints:ce})}let L=(q,J,W)=>{let ce=0,te=q.boundary.vertexIndices.length;for(;ce<te&&W(q.boundary.vertexIndices[J]);)J=(J+1)%te,ce++;return ce},X=b.length;for(let q=1;q<Z.length;q++){let J=Z[q-1],W=Z[q],ce=J.boundary.vertexIndices.length,te=W.boundary.vertexIndices.length;if(!ce||!te)break;let oe=j.concave.length,ie=0,we=_b(ie,P);for(;!J.boundary.vertexIndices.filter(we).length||!W.boundary.vertexIndices.filter(we).length;)ie++,we=_b(ie,P);let pe=J.boundary.vertexIndices.findIndex(we),fe=W.boundary.vertexIndices.findIndex(we);do pe=(pe+1)%ce;while(we(J.boundary.vertexIndices[pe]));do fe=(fe+1)%te;while(we(W.boundary.vertexIndices[fe]));ie=(ie+1)%P;let Le=ie,Be=0,Ne=this._buildBevelVert(j,J,(pe-1+ce)%ce,void 0,Be),Ye=this._buildBevelVert(j,W,(fe-1+te)%te,void 0,Be),ze=Ne,Pe=Ye,Ze,st,V=!1;do{Be=(ie||oe)/oe,we=_b(ie,P);let z=L(J,pe,we),le=L(W,fe,we),Ie=V;if(V=!1,z&&!le){for(let ke=0;ke<z;ke++)Ze=this._buildBevelVert(j,J,(pe+ke)%ce,ke/(z-1),Be),b.push(ze.topN,Ze.topP,Pe.topN),s===!1&&b.push(Ze.bottomP,ze.bottomN,Pe.bottomN),ze=Ze;V=!0}else if(!z&&le)for(let ke=0;ke<le;ke++)st=this._buildBevelVert(j,W,(fe+ke)%te,ke/(le-1),Be),b.push(Pe.topN,ze.topP,st.topP),s===!1&&b.push(ze.bottomP,Pe.bottomN,st.bottomP),Pe=st;else if(z&&le)if(Ze=this._buildBevelVert(j,J,pe,0,Be),st=this._buildBevelVert(j,W,fe,0,Be),Ie?(b.push(ze.topN,st.topP,Pe.topN),b.push(ze.topN,Ze.topP,st.topP),s===!1&&(b.push(st.bottomP,ze.bottomN,Pe.bottomN),b.push(st.bottomP,Ze.bottomP,ze.bottomN))):(b.push(Pe.topN,ze.topN,Ze.topP),b.push(Pe.topN,Ze.topP,st.topP),s===!1&&(b.push(Ze.bottomP,ze.bottomN,Pe.bottomN),b.push(Ze.bottomP,Pe.bottomN,st.bottomP))),ze=Ze,Pe=st,z===le)for(let ke=1;ke<z;ke++)Ze=this._buildBevelVert(j,J,(pe+ke)%ce,ke/(z-1),Be),st=this._buildBevelVert(j,W,(fe+ke)%te,ke/(le-1),Be),b.push(ze.topN,Ze.topP,Pe.topN),b.push(Pe.topN,Ze.topP,st.topP),s===!1&&(b.push(Ze.bottomP,ze.bottomN,Pe.bottomN),b.push(Ze.bottomP,Pe.bottomN,st.bottomP)),ze=Ze,Pe=st;else if(z>le){let ke=z/le,je=0;for(let tt=1;tt<z;tt++)Ze=this._buildBevelVert(j,J,(pe+tt)%ce,tt/(z-1),Be),b.push(ze.topN,Ze.topP,Pe.topN),s===!1&&b.push(Ze.bottomP,ze.bottomN,Pe.bottomN),ze=Ze,tt>(je+1)*ke&&(je++,st=this._buildBevelVert(j,W,(fe+je)%te,je/(le-1),Be),b.push(Pe.topN,Ze.topP,st.topP),s===!1&&b.push(Ze.bottomP,Pe.bottomN,st.bottomP),Pe=st)}else{let ke=le/z,je=0;for(let tt=1;tt<le;tt++)st=this._buildBevelVert(j,W,(fe+tt)%te,tt/(le-1),Be),b.push(Pe.topN,Ze.topP,st.topP),s===!1&&b.push(Ze.bottomP,Pe.bottomN,st.bottomP),Pe=st,tt>(je+1)*ke&&(je++,Ze=this._buildBevelVert(j,J,(pe+je)%ce,je/(z-1),Be),b.push(ze.topN,Ze.topP,Pe.topN),s===!1&&b.push(Ze.bottomP,ze.bottomN,Pe.bottomN),ze=Ze)}pe=(pe+z)%ce,fe=(fe+le)%te,ie=(ie+1)%oe}while(ie!==Le)}if(s===!1&&this._depth>this._bevel*2&&this._buildWall(Z,j,b),M){let q=[];for(let J=b.length-1;J>=X+2;J-=3){let W=b[J-2],ce=b[J-1],te=b[J-0];q.push(te,ce,W)}b.splice(X,b.length-X,...q)}if(M){let q=[];for(let J=Z[Z.length-1].boundary.vertices.length-1;J>=1;J-=2){let W=Z[Z.length-1].boundary.vertices[J-1],ce=Z[Z.length-1].boundary.vertices[J-0];q.push(W,ce)}_.push(q)}if(!M){let q=Z[Z.length-1],J;try{J=sl({windingRule:Z.length>1?gi.POSITIVE:gi.ODD,elementType:cn.POLYGONS,vertexSize:2,strict:!0,contours:[q.insetPoints,..._]})}catch(W){J=aT}if(!J)throw new Error("Error generating geometry for surface");l.length===0&&this._bevel<c&&Object.assign(this,{useNgonForTopBottomFaceDuringBake:!0});for(let W=0;W<J.elementCount*3;W+=3){let ce=this._buildSurfaceVert(J,J.elements[W+0],G),te=this._buildSurfaceVert(J,J.elements[W+1],G),oe=this._buildSurfaceVert(J,J.elements[W+2],G);b.push(ce.top,te.top,oe.top),s===!1&&b.push(oe.bottom,te.bottom,ce.bottom)}}this.vertexCache={}}this._buffer.shrink();let x=new _t(Uint32Array.from(b),1),k=new _t(this._buffer.positions,3),w=new _t(this._buffer.normals,3),S=new _t(this._buffer.uvs,2);k.needsUpdate=!0,w.needsUpdate=!0,S.needsUpdate=!0,x.needsUpdate=!0,this.setAttribute("position",k),this.setAttribute("normal",w),this.setAttribute("uv",S),this.setIndex(x)}_computeBufferEstimatedSize(e){return e.vertexCount*2*(2+this._bevelSegments)}_buildWall(e,t,i){let n=e[0];for(let r=0,a=n.boundary.vertexCount;r<a;r++){let s=this._buildBevelVert(t,n,r),o=this._buildBevelVert(t,n,(r+1)%a);i.push(o.topP,s.topN,s.bottomN),i.push(o.topP,s.bottomN,o.bottomP)}}_buildSurfaceVert(e,t,i){let n=t.toString();if(n in this.vertexCache)return this.vertexCache[n];let r=e.vertices[t*2+0],a=e.vertices[t*2+1],s=(r-this._minX)/this._width,o=(a-this._minY)/this._height;this.forPathBevel&&(o=1);let l=this._buffer.get(this.forPathBevel?1:2),d=l*3,u=l*2,c={top:l+0,bottom:l+1};return this._buffer.positions[d+0]=r,this._buffer.positions[d+1]=a,this._buffer.positions[d+2]=this.forPathBevel?this._bevel:this._depth-i,this._buffer.normals[d+0]=0,this._buffer.normals[d+1]=0,this._buffer.normals[d+2]=1,this._buffer.uvs[u+0]=s,this._buffer.uvs[u+1]=o,this.forPathBevel===!1&&(this._buffer.positions[d+3]=r,this._buffer.positions[d+4]=a,this._buffer.positions[d+5]=i,this._buffer.normals[d+3]=0,this._buffer.normals[d+4]=0,this._buffer.normals[d+5]=-1,this._buffer.uvs[u+2]=s,this._buffer.uvs[u+3]=o),this.vertexCache[n]=c,c}_buildBevelVert(e,t,i,n=1,r){let a=`${t.bevelI}:${i}`;if(a in this.vertexCache&&r!==0&&r!==1&&(!r||r===this.vertexCache[a].pathBevelUCoord))return this.vertexCache[a];let[s,o]=t.boundary.vertexIndices[i],l,d,u,c;s!==o?(d=s,l=o,c=!1,u=e.continuous[d]&&e.continuous[l]):(l=s,d=(l-1+e.count)%e.count,c=e.concave[l]&&t.bevelI>0,u=e.continuous[l]||c);let f=Math.cos(t.angle),h=Math.sin(t.angle),p=i*2,m=l*2,g=d*2,v=t.boundary.vertices[p+0],y=t.boundary.vertices[p+1],b=(1-h)*this._bevel,_=(v-this._minX)/this._width,x=(y-this._minY)/this._height;this.forPathBevel&&(r!==void 0&&(_=r),x=1);let k=e.normals[m+0],w=e.normals[m+1],S=e.normals[g+0],A=e.normals[g+1];if(c){let I=S-k,j=A-w;k=k+I*(1-n),w=w+j*(1-n);let H=Math.sqrt(k*k+w*w);k/=H,w/=H}let M=this.forPathBevel?this._buffer.get(u?1:2):this._buffer.get(u?2:4),C=M*3,T=M*2,P={i,fi:l,topP:M+0,topN:M+0,bottomP:M+1,bottomN:M+1,pathBevelUCoord:r};return this._buffer.positions[C+0]=v,this._buffer.positions[C+1]=y,this._buffer.positions[C+2]=(this.forPathBevel?this._bevel:this._depth)-b,this._buffer.normals[C+0]=k*f,this._buffer.normals[C+1]=w*f,this._buffer.normals[C+2]=h,this._buffer.uvs[T+0]=_,this._buffer.uvs[T+1]=x,this.forPathBevel===!1&&(this._buffer.positions[C+3]=v,this._buffer.positions[C+4]=y,this._buffer.positions[C+5]=b,this._buffer.normals[C+3]=k*f,this._buffer.normals[C+4]=w*f,this._buffer.normals[C+5]=-h,this._buffer.uvs[T+2]=x,this._buffer.uvs[T+3]=_),u||(this.forPathBevel?(M+=1,C+=3,T+=2):(M+=2,C+=6,T+=4),P.topP=M+0,P.bottomP=M+1,this._buffer.positions[C+0]=v,this._buffer.positions[C+1]=y,this._buffer.positions[C+2]=(this.forPathBevel?this._bevel:this._depth)-b,this._buffer.normals[C+0]=S*f,this._buffer.normals[C+1]=A*f,this._buffer.normals[C+2]=h,this._buffer.uvs[T+0]=_,this._buffer.uvs[T+1]=x,this.forPathBevel===!1&&(this._buffer.positions[C+3]=v,this._buffer.positions[C+4]=y,this._buffer.positions[C+5]=b,this._buffer.normals[C+3]=S*f,this._buffer.normals[C+4]=A*f,this._buffer.normals[C+5]=-h,this._buffer.uvs[T+2]=x,this._buffer.uvs[T+3]=_)),this.vertexCache[a]=P,P}clone(){let e=new wb(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=ym(this.userData),e}},sT=class extends dt{constructor(e,t=12,i={}){var f,h,p;super(),this.type="ShapeGeometry",this.windingRule=gi.ODD,this.elementType=cn.POLYGONS,this.polySize=3,this.vertexSize=2,this.strict=!0,this._shape=e,this._curveSegments=t,this._triangulationOptions=Object.assign({windingRule:gi.ODD,elementType:cn.POLYGONS,polySize:3,vertexSize:2,strict:!0},i);let n=this._shape.extractShapePointsToFlatArray([],this._curveSegments),r=this._shape.shapeHoles.map(m=>m.extractShapePointsToFlatArray([],this._curveSegments)),a,s=!0,o=!0,l,d;for(let m=0,g=n.length/2;m<g;m++){let v=m*2,y=n[v+0],b=n[v+1];if(l!==void 0&&y!==l&&(s=!1),d!==void 0&&b!==d&&(o=!1),l=y,d=b,!s&&!o)break}if(!s&&!o)try{a=sl({contours:[n,...r],windingRule:this._triangulationOptions.windingRule,elementType:this._triangulationOptions.elementType,polySize:this._triangulationOptions.polySize,vertexSize:this._triangulationOptions.vertexSize,strict:this._triangulationOptions.strict})}catch(m){a=bb}let u=(f=a==null?void 0:a.vertexCount)!=null?f:1,c=(h=a==null?void 0:a.elementCount)!=null?h:1;if(this._positionAttribute=new _t(new Float32Array(u*3),3),this._normalAttribute=new _t(new Float32Array(u*3),3),this._uvAttribute=new _t(new Float32Array(u*2),2),this._indexAttribute=new _t(new Uint32Array(c*3),1),a){let m=1/0,g=-1/0,v=1/0,y=-1/0;for(let x=0,k=u;x<k;x++){let w=x*2,S=a.vertices[w+0],A=a.vertices[w+1];S<m&&(m=S),S>g&&(g=S),A<v&&(v=A),A>y&&(y=A)}let b=g-m,_=y-v;for(let x=0,k=u;x<k;x++){let w=x*2,S=a.vertices[w+0],A=a.vertices[w+1],M=(S-m)/b,C=(A-v)/_;this._positionAttribute.setXYZ(x,S,A,0),this._normalAttribute.setXYZ(x,0,0,1),this._uvAttribute.setXY(x,M,C)}for(let x=0,k=c;x<k;x++){let w=x*3,S=a.elements[w+0],A=a.elements[w+1],M=a.elements[w+2];this._indexAttribute.setX(w+0,S),this._indexAttribute.setX(w+1,A),this._indexAttribute.setX(w+2,M)}}this.setAttribute("position",this._positionAttribute),this.setAttribute("normal",this._normalAttribute),this.setAttribute("uv",this._uvAttribute),this.setIndex(this._indexAttribute),this.setDrawRange(0,((p=a==null?void 0:a.elementCount)!=null?p:1)*3)}clone(){let e=new sT(this._shape,this._curveSegments);return e.userData=ym(this.userData),e}},oT=class extends wb{constructor(e,t,i=0,n=12,r=3,a=gi.ODD){super(e,t,i,n,r,a),this.type="ShapeGeometry"}_computeBufferEstimatedSize(e){return e.vertexCount*2*(2+this._bevelSegments)}_buildWall(e,t,i){let n=e[0];for(let r=0,a=n.boundary.vertexCount;r<a;r++){let s=this._buildBevelVert(t,n,r),o=this._buildBevelVert(t,n,(r+1)%a);i.push(o.topP,s.topN,s.bottomN),i.push(o.topP,s.bottomN,o.bottomP)}}clone(){let e=new oT(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=ym(this.userData),e}},dd=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var d,u,c,f,h,p,m;let i=Object.assign({},(d=t==null?void 0:t.parameters)!=null?d:{width:100,subdivisions:40,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3,windingRule:gi.ODD},e.parameters),n=Math.abs(i.width),r=Math.abs((u=i.height)!=null?u:i.width),a=Math.abs((c=i.depth)!=null?c:0),s=(f=e.shape)!=null?f:t==null?void 0:t.shape,o=(h=s==null?void 0:s.roundness)!=null?h:i.roundness;s!==void 0&&(s instanceof Vi?(s.width!==n||s.height!==r)&&s.applySize(n,r):s=new Vi(n,r).fromJSON(s),((p=e.parameters)==null?void 0:p.roundness)!==void 0&&((m=e.parameters)==null?void 0:m.roundness)>0&&s.update());let l=s!=null?s:new Vi(n,r);return{parameters:Object.assign(i,{width:n,height:r,depth:a,roundness:o}),shape:l}}static build(e){let{depth:t,extrudeBevelSize:i,extrudeBevelSegments:n,subdivisions:r,roundness:a,windingRule:s}=e.parameters;e.shape.roundness=a;let o;return t<=0?o=new sT(e.shape,r,{windingRule:s}):o=new oT(e.shape,t,i,r,n,s),Object.assign(o,{userData:Q(R({},e),{type:"VectorGeometry"})})}},lT=Math.PI*2,xb=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var n,r,a;let i=Object.assign({},(n=t==null?void 0:t.parameters)!=null?n:{width:100,depth:0,spikes:64,angle:360,innerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return i.angle=at.clamp(i.angle,0,360),{shape:e.shape&&e.shape instanceof Vi?e.shape:new Vi,parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs((r=i.height)!=null?r:i.width),depth:Math.abs((a=i.depth)!=null?a:0)})}}static build(e){let{width:t,height:i,spikes:n,angle:r,innerRadius:a,depth:s,extrudeBevelSize:o,extrudeBevelSegments:l}=e.parameters,d=e.shape,u=t*.5,c=i*.5,f=mee(d,u,c,r*Math.PI/180,n,a);d.isClosed=!0,d.update();let h;return r===0?(h=new dt,h.setAttribute("position",new Ke([],3))):h=dd.create({shape:d,parameters:{subdivisions:f,depth:s,extrudeBevelSize:o,extrudeBevelSegments:l}}),Object.assign(h,{userData:Q(R({},e),{type:"EllipseGeometry"})})}};function mee(e,t,i,n,r,a){if(n>=lT)return r>30||r%4===0?(vee(e,t,i,a),Math.round(r/4)):dT(e,n,r,t,i,a);n=Math.max(n,.001);let s={x:0,y:i},o=n+Math.PI*.5,l={x:Math.cos(o)*t,y:Math.sin(o)*i},d=dee({px:s.x,py:s.y,cx:l.x,cy:l.y,rx:t,ry:i,largeArcFlag:n>Math.PI,sweepFlag:!0});return r>30||r%d.length===0?gee(e,s.x,s.y,d,r,t,i,a):dT(e,n,r,t,i,a)}function gee(e,t,i,n,r,a,s,o){let l=Math.round(r/n.length);e.addPoint(iu(t,i));for(let d=0,u=n.length;d<u;d++){let c=n[d],f=e.points[d],h=iu(c.x,c.y);f.controls[1].position.set(c.x1,c.y1),h.controls[0].position.set(c.x2,c.y2),e.addPoint(h)}return o>0?cT(e,a,s,o):e.addPoint(iu(0,0)),l}function dT(e,t,i,n,r,a){let s=-t/i;for(let o=0;o<=i;o++){let l=s*o,d=Math.sin(l)*n,u=Math.cos(l)*r;e.addPoint(iu(d,u))}return t<lT?a>0?cT(e,n,r,a):e.addPoint(iu(0,0)):(e.removePoint(e.points[e.points.length-1]),a>0&&uT(e,n,r,a)),1}function vee(e,t,i,n=0,r=0,a=0){let s=.5522847498,o=t*s,l=i*s;e.addPoint(hg(r-t,a,r-t,a-l,r-t,a+l)),e.addPoint(hg(r,a+i,r-o,a+i,r+o,a+i)),e.addPoint(hg(r+t,a,r+t,a+l,r+t,a-l)),e.addPoint(hg(r,a-i,r+o,a-i,r-o,a-i)),n>0&&uT(e,t,i,n)}function iu(e,t){return new $c(at.generateUUID(),new Y(e,t))}function hg(e,t,i,n,r,a){let s=iu(e,t);return s.controls[0].position.set(i,n),s.controls[1].position.set(r,a),s}function cT(e,t,i,n){fT(e,t,i,n).forEach(r=>e.addPoint(r))}function uT(e,t,i,n){let r=fT(e,t,i,n),a=new Vi;r.forEach(s=>a.addPoint(s)),a.isClosed=!0,e.shapeHoles.push(a)}function fT(e,t,i,n){let r=n*t/100,a=r*(Math.abs(i)/Math.abs(t)),s=new Y(r/t,a/i),o=e.points.map(l=>{let d=l.clone();return d.uuid=at.generateUUID(),d}).reverse();return o.forEach(l=>{l.position.multiply(s);let d=l.controls[0].position.clone().multiply(s),u=l.controls[1].position.clone().multiply(s);l.controls[0].position.copy(u),l.controls[1].position.copy(d)}),o}var yee=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var o,l,d;let i=Object.assign({},(o=t==null?void 0:t.parameters)!=null?o:{width:100,revolutions:2,segments:40,pathRadius:10,pathType:0,pathSegments:30,cornerRadius:30,cornerSegments:4},e.parameters),n=Math.abs(i.width),r=Math.abs((l=i.height)!=null?l:n),a=Math.abs((d=i.depth)!=null?d:n),s=Math.abs(Math.min(n,a))/2;return{parameters:Object.assign(i,{width:n,height:r,depth:a,radius:s,segments:Math.round(i.segments),pathSegments:Math.round(i.pathSegments),cornerSegments:Math.round(i.cornerSegments)})}}static build(e){let{width:t,height:i,depth:n,radius:r,revolutions:a,segments:s,pathRadius:o,pathType:l,pathSegments:d,cornerRadius:u,cornerSegments:c}=e.parameters,f=new hT(!1,t,i,n,r,a,s,o,l,d,u,c);return Object.assign(f,{userData:Q(R({},e),{type:"HelixGeometry"})})}},kb=new tc([0,0,0],1),hT=class extends dt{constructor(e=!0,t=1,i=1,n=1,r=1,a=1,s=1,o=1,l=1,d=1,u=1,c=1){if(super(),a===0)return;let f=e&&a===1;f&&(c=0),u>100&&(u=100),u===0&&(c=0);let h=()=>new E,p=new E,m=h(),g=h(),v=h(),y,b,_,x,k,w,S,A,M=h(),C=h(),T=h(),P=h(),I=h(),j=h(),H=h(),U=h(),O=i-2*o+.001,F=O/a,Z=Math.ceil(s*a),G=Z+1,L=O/Z,X=-O/2,q=d+1,J=2*Math.PI/d,W=Math.PI/2/c,ce=.01,te=Math.min((1-u/100)*o,o-ce),oe=o-te,ie=0,we=2,pe=c*we+we,fe=q*pe/we,Le=fe+q*G,Be=Math.max(0,q*(G+pe)),[Ne,Ye,ze]=[3,3,2].map(qe=>Array(Be*qe).fill(0)),Pe=[],Ze=r-o;function st(qe,it){let Qe=Math.PI/2;w=it*L,A=2*Math.PI*(w%F)/F+Qe,w+=X,S=Math.sin(A)*Ze,k=Math.cos(A)*Ze,e?qe.set(k,S,w):qe.set(k,w,S)}st(p,-1e-10),st(m,0),M.copy(p),st(p,1);let V=p.distanceTo(m),z=f?0:oe+te,le=V*Z+2*z,Ie=te,ke=le-z;for(let qe=0;qe<=Z;qe++){st(g,qe),U.subVectors(g,M).normalize(),M.copy(g),j.copy(g).setComponent(+e+1,0).normalize(),H.crossVectors(U,j).normalize();let it=qe===0,Qe=qe===Z,ht=it?3*Math.PI/2:W,lt=it?Ie:ke,Vt=it?q:Le,oi=it?0:Be-q,ji=U.clone().multiplyScalar(it?-oe:oe).add(g),$=U.clone().multiplyScalar(it?-1:1).normalize();for(let be=0;be<q;be++){let Oe=be*J;if(C.addVectors(p.copy(j).multiplyScalar(o*Math.cos(Oe)),m.copy(H).multiplyScalar(o*Math.sin(Oe))),T.copy(C).normalize(),it||Qe){f||(ie=oi+be,[0,1,2].forEach(ye=>{Ne[ie*3+ye]=ji.getComponent(ye),Ye[ie*3+ye]=$.getComponent(ye)}),ze[ie*2]=+Qe,ze[ie*2+1]=be/d),m.copy(T).multiplyScalar(te),v.addVectors(g,m);for(let ye=0;ye<c;ye++){let Ce=ye*W+ht;P.addVectors(p.copy(U).multiplyScalar(oe*Math.sin(Ce)),m.copy(T).multiplyScalar(oe*Math.cos(Ce))),I.copy(P).normalize(),m.addVectors(v,P),P.normalize(),ie=Vt+ye*q+be,[0,1,2].forEach(nt=>{Ne[ie*3+nt]=m.getComponent(nt),Ye[ie*3+nt]=I.getComponent(nt)});let Fe=+it+Math.sin(Ce);ze[ie*2]=(lt+oe*Fe)/le,ze[ie*2+1]=be/d}}m.addVectors(g,C),ie=fe+qe*q+be,[0,1,2].forEach(ye=>{Ne[ie*3+ye]=m.getComponent(ye),Ye[ie*3+ye]=T.getComponent(ye)}),ze[ie*2]=(z+qe*V)/le,ze[ie*2+1]=be/d}}let je=G+2*c+we,tt=1,[We,Se]=[+f,je-1];for(let qe=We;qe<=Se-1;qe++){let it=f&&qe===Se-1;for(let Qe=0;Qe<q-1;Qe++)y=qe*q+Qe,b=y+1,_=(it?Qe:y)+q,x=(it?Qe+1:b)+q,qe===0?Pe.push(b,x,_):qe===je-2?Pe.push(y,b,_):Pe.push(y,b,_,b,x,_)}this.setIndex(Pe),this.setAttribute("position",new Ke(Ne,3)),this.setAttribute("normal",new Ke(Ye,3)),this.setAttribute("uv",new Ke(ze,2))}getClosedTorusIndicesForBooleanOrSubdiv(){let e=this.userData.parameters,t=Math.ceil(e.tubularSegments),i=e.radialSegments+1,n=Array.from(this.getIndex().array),r,a,s,o,l=6*(t-1)*e.radialSegments,d=t,u=d===t;for(let c=0;c<e.radialSegments;c++)r=d*i+c,a=r+1,s=(u?c:r)+i,o=(u?c+1:a)+i,n[l++]=r,n[l++]=a,n[l++]=s,n[l++]=a,n[l++]=o,n[l++]=s;return n.length=l,kb.array=n,kb.count=n.length,kb}},bee=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var n,r,a;let i=Object.assign({},(n=t==null?void 0:t.parameters)!=null?n:{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs((r=i.height)!=null?r:i.width),depth:Math.abs((a=i.depth)!=null?a:i.width)})}}static build(e){let{width:t,height:i,depth:n,detail:r,corner:a,cornerSides:s}=e.parameters,o=r===0&&a!==0?new pT(t*.5,a,s):new rM(t*.5,r);return o.scale(1,i/t,n/t),Object.assign(o,{userData:Q(R({},e),{type:"IcosahedronGeometry"})})}},pT=class extends db{constructor(e=1,t=.2,i=4){let n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],s="IcosahedronGeometry";super(r,a,s,e,t,i),this.type=s}static fromJSON(e){return new pT(e.radius,e.corner,e.cornerSides)}},_ee=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var n,r,a,s,o;((r=(n=e.parameters)==null?void 0:n.points)!=null?r:[]).forEach(l=>{Array.isArray(l)&&(l.x=l[0],l.y=l[1])});let i=Object.assign({},(a=t==null?void 0:t.parameters)!=null?a:{width:100,segments:64,verticalSegments:64,points:[{x:0,y:-50,id:0},{x:50,y:-50,id:1},{x:50,y:50,id:2},{x:0,y:50,id:3}]},e.parameters);return{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs((s=i.height)!=null?s:i.width),depth:Math.abs((o=i.depth)!=null?o:i.width)})}}static build(e){let{points:t,segments:i,verticalSegments:n}=e.parameters,r=new Wp;r.moveTo(t[0].x,t[0].y),r.bezierCurveTo(t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y);let a=new YA(r.extractPoints(n).shape,i);return a.rotateZ(Math.PI),Object.assign(a,{userData:Q(R({},e),{type:"LatheGeometry"})})}},ks=new Ee,Sb=new mi,pg=new E,mg=class extends Nn{constructor(){super(),this.uuid=at.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}applyMatrix4(e){let t=new Yi().getNormalMatrix(e);for(let i=0,n=this.vertices.length;i<n;i++)this.vertices[i].applyMatrix4(e);for(let i=0,n=this.faces.length;i<n;i++){let r=this.faces[i];r.normal.applyMatrix3(t).normalize();for(let a=0,s=r.vertexNormals.length;a<s;a++)r.vertexNormals[a].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this}rotateX(e){return ks.makeRotationX(e),this.applyMatrix4(ks),this}rotateY(e){return ks.makeRotationY(e),this.applyMatrix4(ks),this}rotateZ(e){return ks.makeRotationZ(e),this.applyMatrix4(ks),this}translate(e,t,i){return ks.makeTranslation(e,t,i),this.applyMatrix4(ks),this}scale(e,t,i){return ks.makeScale(e,t,i),this.applyMatrix4(ks),this}lookAt(e){return Sb.lookAt(e),Sb.updateMatrix(),this.applyMatrix4(Sb.matrix),this}fromBufferGeometry(e){let t=this,i=e.index!==null?e.index:void 0,n=e.attributes;if(n.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;let r=n.position,a=n.normal,s=n.color,o=n.uv,l=n.uv2;l!==void 0&&(this.faceVertexUvs[1]=[]);for(let c=0;c<r.count;c++)t.vertices.push(new E().fromBufferAttribute(r,c)),s!==void 0&&t.colors.push(new pt().fromBufferAttribute(s,c));function d(c,f,h,p){let m=s===void 0?[]:[t.colors[c].clone(),t.colors[f].clone(),t.colors[h].clone()],g=a===void 0?[]:[new E().fromBufferAttribute(a,c),new E().fromBufferAttribute(a,f),new E().fromBufferAttribute(a,h)],v=new Ab(c,f,h,g,m,p);t.faces.push(v),o!==void 0&&t.faceVertexUvs[0].push([new Y().fromBufferAttribute(o,c),new Y().fromBufferAttribute(o,f),new Y().fromBufferAttribute(o,h)]),l!==void 0&&t.faceVertexUvs[1].push([new Y().fromBufferAttribute(l,c),new Y().fromBufferAttribute(l,f),new Y().fromBufferAttribute(l,h)])}let u=e.groups;if(u.length>0)for(let c=0;c<u.length;c++){let f=u[c],h=f.start,p=f.count;for(let m=h,g=h+p;m<g;m+=3)i!==void 0?d(i.getX(m),i.getX(m+1),i.getX(m+2),f.materialIndex):d(m,m+1,m+2,f.materialIndex)}else if(i!==void 0)for(let c=0;c<i.count;c+=3)d(i.getX(c),i.getX(c+1),i.getX(c+2));else for(let c=0;c<r.count;c+=3)d(c,c+1,c+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(pg).negate(),this.translate(pg.x,pg.y,pg.z),this}normalize(){this.computeBoundingSphere();let e=this.boundingSphere.center,t=this.boundingSphere.radius,i=t===0?1:1/t,n=new Ee;return n.set(i,0,0,-i*e.x,0,i,0,-i*e.y,0,0,i,-i*e.z,0,0,0,1),this.applyMatrix4(n),this}computeFaceNormals(){let e=new E,t=new E;for(let i=0,n=this.faces.length;i<n;i++){let r=this.faces[i],a=this.vertices[r.a],s=this.vertices[r.b],o=this.vertices[r.c];e.subVectors(o,s),t.subVectors(a,s),e.cross(t),e.normalize(),r.normal.copy(e)}}computeVertexNormals(e=!0){let t=new Array(this.vertices.length);for(let i=0,n=this.vertices.length;i<n;i++)t[i]=new E;if(e){let i=new E,n=new E;for(let r=0,a=this.faces.length;r<a;r++){let s=this.faces[r],o=this.vertices[s.a],l=this.vertices[s.b],d=this.vertices[s.c];i.subVectors(d,l),n.subVectors(o,l),i.cross(n),t[s.a].add(i),t[s.b].add(i),t[s.c].add(i)}}else{this.computeFaceNormals();for(let i=0,n=this.faces.length;i<n;i++){let r=this.faces[i];t[r.a].add(r.normal),t[r.b].add(r.normal),t[r.c].add(r.normal)}}for(let i=0,n=this.vertices.length;i<n;i++)t[i].normalize();for(let i=0,n=this.faces.length;i<n;i++){let r=this.faces[i],a=r.vertexNormals;a.length===3?(a[0].copy(t[r.a]),a[1].copy(t[r.b]),a[2].copy(t[r.c])):(a[0]=t[r.a].clone(),a[1]=t[r.b].clone(),a[2]=t[r.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeFlatVertexNormals(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){let i=this.faces[e],n=i.vertexNormals;n.length===3?(n[0].copy(i.normal),n[1].copy(i.normal),n[2].copy(i.normal)):(n[0]=i.normal.clone(),n[1]=i.normal.clone(),n[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeMorphNormals(){for(let t=0,i=this.faces.length;t<i;t++){let n=this.faces[t];n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]);for(let r=0,a=n.vertexNormals.length;r<a;r++)n.__originalVertexNormals[r]?n.__originalVertexNormals[r].copy(n.vertexNormals[r]):n.__originalVertexNormals[r]=n.vertexNormals[r].clone()}let e=new mg;e.faces=this.faces;for(let t=0,i=this.morphTargets.length;t<i;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];let r=this.morphNormals[t].faceNormals,a=this.morphNormals[t].vertexNormals;for(let s=0,o=this.faces.length;s<o;s++){let l=new E,d={a:new E,b:new E,c:new E};r.push(l),a.push(d)}}let n=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let r=0,a=this.faces.length;r<a;r++){let s=this.faces[r],o=n.faceNormals[r],l=n.vertexNormals[r];o.copy(s.normal),l.a.copy(s.vertexNormals[0]),l.b.copy(s.vertexNormals[1]),l.c.copy(s.vertexNormals[2])}}for(let t=0,i=this.faces.length;t<i;t++){let n=this.faces[t];n.normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals}}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Xi),this.boundingBox.setFromPoints(this.vertices)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Er),this.boundingSphere.setFromPoints(this.vertices)}merge(e,t,i=0){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}let n,r=this.vertices.length,a=this.vertices,s=e.vertices,o=this.faces,l=e.faces,d=this.colors,u=e.colors;t!==void 0&&(n=new Yi().getNormalMatrix(t));for(let c=0,f=s.length;c<f;c++){let h=s[c].clone();t!==void 0&&h.applyMatrix4(t),a.push(h)}for(let c=0,f=u.length;c<f;c++)d.push(u[c].clone());for(let c=0,f=l.length;c<f;c++){let h=l[c],p,m,g=h.vertexNormals,v=h.vertexColors,y=new Ab(h.a+r,h.b+r,h.c+r);y.normal.copy(h.normal),n!==void 0&&y.normal.applyMatrix3(n).normalize();for(let b=0,_=g.length;b<_;b++)p=g[b].clone(),n!==void 0&&p.applyMatrix3(n).normalize(),y.vertexNormals.push(p);y.color.copy(h.color);for(let b=0,_=v.length;b<_;b++)m=v[b],y.vertexColors.push(m.clone());y.materialIndex=h.materialIndex+i,o.push(y)}for(let c=0,f=e.faceVertexUvs.length;c<f;c++){let h=e.faceVertexUvs[c];this.faceVertexUvs[c]===void 0&&(this.faceVertexUvs[c]=[]);for(let p=0,m=h.length;p<m;p++){let g=h[p],v=[];for(let y=0,b=g.length;y<b;y++)v.push(g[y].clone());this.faceVertexUvs[c].push(v)}}}mergeMesh(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)}mergeVertices(e=4){let t={},i=[],n=[],r=Math.pow(10,e);for(let o=0,l=this.vertices.length;o<l;o++){let d=this.vertices[o],u=Math.round(d.x*r)+"_"+Math.round(d.y*r)+"_"+Math.round(d.z*r);t[u]===void 0?(t[u]=o,i.push(this.vertices[o]),n[o]=i.length-1):n[o]=n[t[u]]}let a=[];for(let o=0,l=this.faces.length;o<l;o++){let d=this.faces[o];d.a=n[d.a],d.b=n[d.b],d.c=n[d.c];let u=[d.a,d.b,d.c];for(let c=0;c<3;c++)if(u[c]===u[(c+1)%3]){a.push(o);break}}for(let o=a.length-1;o>=0;o--){let l=a[o];this.faces.splice(l,1);for(let d=0,u=this.faceVertexUvs.length;d<u;d++)this.faceVertexUvs[d].splice(l,1)}let s=this.vertices.length-i.length;return this.vertices=i,s}setFromPoints(e){this.vertices=[];for(let t=0,i=e.length;t<i;t++){let n=e[t];this.vertices.push(new E(n.x,n.y,n.z||0))}return this}sortFacesByMaterialIndex(){let e=this.faces,t=e.length;for(let o=0;o<t;o++)e[o]._id=o;function i(o,l){return o.materialIndex-l.materialIndex}e.sort(i);let n=this.faceVertexUvs[0],r=this.faceVertexUvs[1],a,s;n&&n.length===t&&(a=[]),r&&r.length===t&&(s=[]);for(let o=0;o<t;o++){let l=e[o]._id;a&&a.push(n[l]),s&&s.push(r[l])}a&&(this.faceVertexUvs[0]=a),s&&(this.faceVertexUvs[1]=s)}toJSON(){let e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){let h=this.parameters;for(let p in h)h[p]!==void 0&&(e[p]=h[p]);return e}let t=[];for(let h=0;h<this.vertices.length;h++){let p=this.vertices[h];t.push(p.x,p.y,p.z)}let i=[],n=[],r={},a=[],s={},o=[],l={};for(let h=0;h<this.faces.length;h++){let p=this.faces[h],m=!0,g=!1,v=this.faceVertexUvs[0][h]!==void 0,y=p.normal.length()>0,b=p.vertexNormals.length>0,_=p.color.r!==1||p.color.g!==1||p.color.b!==1,x=p.vertexColors.length>0,k=0;if(k=d(k,0,0),k=d(k,1,m),k=d(k,2,g),k=d(k,3,v),k=d(k,4,y),k=d(k,5,b),k=d(k,6,_),k=d(k,7,x),i.push(k),i.push(p.a,p.b,p.c),i.push(p.materialIndex),v){let w=this.faceVertexUvs[0][h];i.push(f(w[0]),f(w[1]),f(w[2]))}if(y&&i.push(u(p.normal)),b){let w=p.vertexNormals;i.push(u(w[0]),u(w[1]),u(w[2]))}if(_&&i.push(c(p.color)),x){let w=p.vertexColors;i.push(c(w[0]),c(w[1]),c(w[2]))}}function d(h,p,m){return m?h|1<<p:h&~(1<<p)}function u(h){let p=h.x.toString()+h.y.toString()+h.z.toString();return r[p]!==void 0||(r[p]=n.length/3,n.push(h.x,h.y,h.z)),r[p]}function c(h){let p=h.r.toString()+h.g.toString()+h.b.toString();return s[p]!==void 0||(s[p]=a.length,a.push(h.getHex())),s[p]}function f(h){let p=h.x.toString()+h.y.toString();return l[p]!==void 0||(l[p]=o.length/2,o.push(h.x,h.y)),l[p]}return e.data={},e.data.vertices=t,e.data.normals=n,a.length>0&&(e.data.colors=a),o.length>0&&(e.data.uvs=[o]),e.data.faces=i,e}clone(){return new mg().copy(this)}copy(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;let t=e.vertices;for(let c=0,f=t.length;c<f;c++)this.vertices.push(t[c].clone());let i=e.colors;for(let c=0,f=i.length;c<f;c++)this.colors.push(i[c].clone());let n=e.faces;for(let c=0,f=n.length;c<f;c++)this.faces.push(n[c].clone());for(let c=0,f=e.faceVertexUvs.length;c<f;c++){let h=e.faceVertexUvs[c];this.faceVertexUvs[c]===void 0&&(this.faceVertexUvs[c]=[]);for(let p=0,m=h.length;p<m;p++){let g=h[p],v=[];for(let y=0,b=g.length;y<b;y++){let _=g[y];v.push(_.clone())}this.faceVertexUvs[c].push(v)}}let r=e.morphTargets;for(let c=0,f=r.length;c<f;c++){let h={};if(h.name=r[c].name,r[c].vertices!==void 0){h.vertices=[];for(let p=0,m=r[c].vertices.length;p<m;p++)h.vertices.push(r[c].vertices[p].clone())}if(r[c].normals!==void 0){h.normals=[];for(let p=0,m=r[c].normals.length;p<m;p++)h.normals.push(r[c].normals[p].clone())}this.morphTargets.push(h)}let a=e.morphNormals;for(let c=0,f=a.length;c<f;c++){let h={};if(a[c].vertexNormals!==void 0){h.vertexNormals=[];for(let p=0,m=a[c].vertexNormals.length;p<m;p++){let g=a[c].vertexNormals[p],v={};v.a=g.a.clone(),v.b=g.b.clone(),v.c=g.c.clone(),h.vertexNormals.push(v)}}if(a[c].faceNormals!==void 0){h.faceNormals=[];for(let p=0,m=a[c].faceNormals.length;p<m;p++)h.faceNormals.push(a[c].faceNormals[p].clone())}this.morphNormals.push(h)}let s=e.skinWeights;for(let c=0,f=s.length;c<f;c++)this.skinWeights.push(s[c].clone());let o=e.skinIndices;for(let c=0,f=o.length;c<f;c++)this.skinIndices.push(o[c].clone());let l=e.lineDistances;for(let c=0,f=l.length;c<f;c++)this.lineDistances.push(l[c]);let d=e.boundingBox;d!==null&&(this.boundingBox=d.clone());let u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}toBufferGeometry(){let e=new wee().fromGeometry(this),t=new dt,i=new Float32Array(e.vertices.length*3);if(t.setAttribute("position",gg.call(new _t(i,3),e.vertices)),e.normals.length>0){let n=new Float32Array(e.normals.length*3);t.setAttribute("normal",gg.call(new _t(n,3),e.normals))}if(e.colors.length>0){let n=new Float32Array(e.colors.length*3);t.setAttribute("color",mT.call(new _t(n,3),e.colors))}if(e.uvs.length>0){let n=new Float32Array(e.uvs.length*2);t.setAttribute("uv",gT.call(new _t(n,2),e.uvs))}if(e.uvs2.length>0){let n=new Float32Array(e.uvs2.length*2);t.setAttribute("uv2",gT.call(new _t(n,2),e.uvs2))}t.groups=e.groups;for(let n in e.morphTargets){let r=[],a=e.morphTargets[n];for(let s=0,o=a.length;s<o;s++){let l=a[s],d=new Ke(l.data.length*3,3);d.name=l.name,r.push(gg.call(d,l.data))}t.morphAttributes[n]=r}if(e.skinIndices.length>0){let n=new Ke(e.skinIndices.length*4,4);t.setAttribute("skinIndex",vT.call(n,e.skinIndices))}if(e.skinWeights.length>0){let n=new Ke(e.skinWeights.length*4,4);t.setAttribute("skinWeight",vT.call(n,e.skinWeights))}return e.boundingSphere!==null&&(t.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(t.boundingBox=e.boundingBox.clone()),t}computeTangents(){console.error("THREE.Geometry: .computeTangents() has been removed.")}computeLineDistances(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}applyMatrix(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}dispose(){this.dispatchEvent({type:"dispose"})}static createBufferGeometryFromObject(e){let t=new dt,i=e.geometry;if(e.isPoints||e.isLine){let n=new Ke(i.vertices.length*3,3),r=new Ke(i.colors.length*3,3);if(t.setAttribute("position",gg.call(n,i.vertices)),t.setAttribute("color",mT.call(r,i.colors)),i.lineDistances&&i.lineDistances.length===i.vertices.length){let a=new Ke(i.lineDistances.length,1);t.setAttribute("lineDistance",xee.call(a,i.lineDistances))}i.boundingSphere!==null&&(t.boundingSphere=i.boundingSphere.clone()),i.boundingBox!==null&&(t.boundingBox=i.boundingBox.clone())}else e.isMesh&&(t=i.toBufferGeometry());return t}};mg.prototype.isGeometry=!0;var wee=class{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){let t=[],i,n,r,a=e.faces;for(n=0;n<a.length;n++){let s=a[n];s.materialIndex!==r&&(r=s.materialIndex,i!==void 0&&(i.count=n*3-i.start,t.push(i)),i={start:n*3,materialIndex:r})}i!==void 0&&(i.count=n*3-i.start,t.push(i)),this.groups=t}fromGeometry(e){let t=e.faces,i=e.vertices,n=e.faceVertexUvs,r=n[0]&&n[0].length>0,a=n[1]&&n[1].length>0,s=e.morphTargets,o=s.length,l;if(o>0){l=[];for(let g=0;g<o;g++)l[g]={name:s[g].name,data:[]};this.morphTargets.position=l}let d=e.morphNormals,u=d.length,c;if(u>0){c=[];for(let g=0;g<u;g++)c[g]={name:d[g].name,data:[]};this.morphTargets.normal=c}let f=e.skinIndices,h=e.skinWeights,p=f.length===i.length,m=h.length===i.length;i.length>0&&t.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let g=0;g<t.length;g++){let v=t[g];this.vertices.push(i[v.a],i[v.b],i[v.c]);let y=v.vertexNormals;if(y.length===3)this.normals.push(y[0],y[1],y[2]);else{let _=v.normal;this.normals.push(_,_,_)}let b=v.vertexColors;if(b.length===3)this.colors.push(b[0],b[1],b[2]);else{let _=v.color;this.colors.push(_,_,_)}if(r===!0){let _=n[0][g];_!==void 0?this.uvs.push(_[0],_[1],_[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",g),this.uvs.push(new Y,new Y,new Y))}if(a===!0){let _=n[1][g];_!==void 0?this.uvs2.push(_[0],_[1],_[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",g),this.uvs2.push(new Y,new Y,new Y))}for(let _=0;_<o;_++){let x=s[_].vertices;l[_].data.push(x[v.a],x[v.b],x[v.c])}for(let _=0;_<u;_++){let x=d[_].vertexNormals[g];c[_].data.push(x.a,x.b,x.c)}p&&this.skinIndices.push(f[v.a],f[v.b],f[v.c]),m&&this.skinWeights.push(h[v.a],h[v.b],h[v.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}},Ab=class{constructor(e,t,i,n,r,a=0){this.a=e,this.b=t,this.c=i,this.normal=n&&n.isVector3?n:new E,this.vertexNormals=Array.isArray(n)?n:[],this.color=r&&r.isColor?r:new pt,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=a}clone(){return new this.constructor().copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,i=e.vertexNormals.length;t<i;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,i=e.vertexColors.length;t<i;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}};function xee(e){return this.array.set(e),this}function mT(e){let t=this.array,i=0;for(let n=0,r=e.length;n<r;n++){let a=e[n];a===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),a=new pt),t[i++]=a.r,t[i++]=a.g,t[i++]=a.b}return this}function gT(e){let t=this.array,i=0;for(let n=0,r=e.length;n<r;n++){let a=e[n];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),a=new Y),t[i++]=a.x,t[i++]=a.y}return this}function gg(e){let t=this.array,i=0;for(let n=0,r=e.length;n<r;n++){let a=e[n];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),a=new E),t[i++]=a.x,t[i++]=a.y,t[i++]=a.z}return this}function vT(e){let t=this.array,i=0;for(let n=0,r=e.length;n<r;n++){let a=e[n];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),a=new Pt),t[i++]=a.x,t[i++]=a.y,t[i++]=a.z,t[i++]=a.w}return this}var kee=["a","b","c"];function See(e,t){switch(t){case"c":return e.c;case"b":return e.b;case"a":default:return e.a}}function Mb(e,t,i){let n=Math.min(e,t),r=Math.max(e,t),a=n+"_"+r;return i.get(a)}function Cb(e,t,i,n,r,a){let s=Math.min(e,t),o=Math.max(e,t),l=s+"_"+o,d;if(n.has(l))d=n.get(l);else{let u=i[s],c=i[o];d={a:u,b:c,newEdge:null,faces:[]},n.set(l,d)}d.faces.push(r),a[e].edges.push(d),a[t].edges.push(d)}function Aee(e,t,i,n){let r,a,s;for(r=0,a=e.length;r<a;r++)i[r]={edges:[]};for(r=0,a=t.length;r<a;r++)s=t[r],Cb(s.a,s.b,e,n,s,i),Cb(s.b,s.c,e,n,s,i),Cb(s.c,s.a,e,n,s,i)}function vg(e,t,i,n,r){e.push(new Ab(t,i,n,void 0,void 0,r))}function nu(e,t){return Math.abs(t-e)/2+Math.min(e,t)}function yg(e,t,i,n){e.push([t.clone(),i.clone(),n.clone()])}var Mee=class{constructor(e=1){this.subdivisions=e}modify(e){e instanceof dt?e=new mg().fromBufferGeometry(e):e=e.clone(),e.mergeVertices();let t=this.subdivisions;for(;t-- >0;)this._smooth(e);return e.computeFaceNormals(),e.computeVertexNormals(),e}_smooth(e){let t=new E,i,n,r,a,s,o=e.vertices,l=e.faces,d=e.faceVertexUvs[0],u=d!==void 0&&d.length>0,c=[],f=new Map;Aee(o,l,c,f);let h=[],p,m,g,v,y,b,_;for(let ce of Array.from(f.keys())){for(m=f.get(ce),g=new E,y=3/8,b=1/8,_=m.faces.length,_!=2&&(y=.5,b=0,_!=1),g.addVectors(m.a,m.b).multiplyScalar(y),t.set(0,0,0),a=0;a<_;a++){for(v=m.faces[a],s=0;s<3&&(p=o[See(v,kee[s])],!(p!==m.a&&p!==m.b));s++);p&&t.add(p)}t.multiplyScalar(b),g.add(t),m.newEdge=h.length,h.push(g)}let x,k,w,S,A,M,C,T=[];for(n=0,r=o.length;n<r;n++){for(M=o[n],A=c[n].edges,i=A.length,i==3?x=3/16:i>3&&(x=3/(8*i)),k=1-i*Number(x),w=x,i<=2&&(i==2?(k=3/4,w=1/8):i==1||i==0),C=M.clone().multiplyScalar(k),t.set(0,0,0),a=0;a<i;a++)S=A[a],p=S.a!==M?S.a:S.b,t.add(p);t.multiplyScalar(Number(w)),C.add(t),T.push(C)}let P=T.concat(h),I=T.length,j,H,U,O=[],F=[],Z,G,L,X,q=new Y,J=new Y,W=new Y;for(n=0,r=l.length;n<r;n++)v=l[n],j=Number(Mb(v.a,v.b,f).newEdge)+I,H=Number(Mb(v.b,v.c,f).newEdge)+I,U=Number(Mb(v.c,v.a,f).newEdge)+I,vg(O,j,H,U,v.materialIndex),vg(O,v.a,j,U,v.materialIndex),vg(O,v.b,H,j,v.materialIndex),vg(O,v.c,U,H,v.materialIndex),u&&(Z=d[n],G=Z[0],L=Z[1],X=Z[2],q.set(nu(G.x,L.x),nu(G.y,L.y)),J.set(nu(L.x,X.x),nu(L.y,X.y)),W.set(nu(G.x,X.x),nu(G.y,X.y)),yg(F,q,J,W),yg(F,G,q,W),yg(F,L,J,q),yg(F,X,W,J));e.vertices=P,e.faces=O,u&&(e.faceVertexUvs[0]=F)}},_n=new E,Cee=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var a,s;let i=(s=(a=e.geometry)!=null?a:t==null?void 0:t.geometry)!=null?s:new dt().copy(new ls(100,100,100)),n;t===void 0?(i.computeBoundingBox(),i.boundingBox.getSize(_n),n={width:_n.x,height:_n.y,depth:_n.z,subdivisions:0}):n=t.parameters;let r=R(R({},n),e.parameters);return{parameters:{width:Math.abs(r.width),height:Math.abs(r.height),depth:Math.abs(r.depth),subdivisions:Math.abs(r.subdivisions)},geometry:i}}static build(e){var l;let{width:t,height:i,depth:n,subdivisions:r}=e.parameters,a=(l=e.geometry)!=null?l:new dt().copy(new ls(100,100,100)),s=a.userData.parameters;s===void 0?(a.computeBoundingBox(),a.boundingBox.getSize(_n)):_n.set(s.width,s.height,s.depth),(t!==_n.x||i!==_n.y||n!==_n.z)&&a.scale(_n.x===0?1:t/_n.x,_n.y===0?1:i/_n.y,_n.z===0?1:n/_n.z);let o=a.originalGeometry;try{r>0?(o===void 0||(s==null?void 0:s.subdivisions)!==r)&&(o===void 0&&(o=a),a=new Mee(r).modify(o).toBufferGeometry()):(o!==void 0&&(a=o),o=void 0,a.getAttribute("normal")===void 0&&a.computeVertexNormals())}catch(d){o!==void 0&&(a=o),o=void 0,a.getAttribute("normal")===void 0&&a.computeVertexNormals()}return o!==void 0&&Object.assign(a,{originalGeometry:o}),delete e.geometry,Object.assign(a,{userData:Q(R({},e),{type:"NonParametricGeometry"})})}static loadFromUrl(e,t,i){new vM(i).load(e,n=>{let r=this.normalizeInputs({geometry:n});n.boundingBox.getSize(_n);let a=100/_n.x;Object.assign(r.parameters,{width:100,height:_n.y*a,depth:_n.z*a}),t(this.build(r))})}},yT=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var n,r,a;let i=Object.assign({},(n=t==null?void 0:t.parameters)!=null?n:{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters);return{shape:e.shape&&e.shape instanceof Vi?e.shape:new Vi,parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs((r=i.height)!=null?r:i.width),depth:Math.abs((a=i.depth)!=null?a:0)})}}static build(e){let{width:t,height:i,spikes:n,cornerRadius:r,depth:a,extrudeBevelSize:s,extrudeBevelSegments:o}=e.parameters,l=e.shape,d=t*.5,u=i*.5,c=0,f=0,h=2*Math.PI/n;for(let m=0;m<n;m++){let g=h*m,v=c+Math.sin(g)*d,y=f+Math.cos(g)*u;l.addPoint(l.createPoint(v,y))}l.isClosed=!0;for(let m=0,g=l.points.length;m<g;m++)l.points[m].roundness=r;l.roundness=r,l.update();let p=dd.create({shape:l,parameters:{roundness:r,depth:a,extrudeBevelSize:s,extrudeBevelSegments:o}});return Object.assign(p,{userData:Q(R({},e),{type:"PolygonGeometry"})})}},Eee=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var n,r,a;let i=Object.assign({},(n=t==null?void 0:t.parameters)!=null?n:{width:100,radialSegments:4,heightSegments:1,cornerRadius:0,cornerSegments:8,openEnded:!1},e.parameters);return{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs((r=i.height)!=null?r:i.width),depth:Math.abs((a=i.depth)!=null?a:i.width)})}}static build(e){let{width:t,height:i,depth:n,radialSegments:r,heightSegments:a,openEnded:s,cornerRadius:o,cornerSegments:l}=e.parameters,d=new Dee(t*.5,i,r,a,s,o,l);return d.scale(1,1,n/t),Object.assign(d,{userData:Q(R({},e),{type:"PyramidGeometry"})})}};function nh(e,t,i){i.x=e.x*t.x,i.y=e.y,i.z=e.x*t.y}function Eb(e,t,i,n,r,a){let s=t.clone().sub(e),o=i.clone().sub(e),l=s.angleTo(o);if(s.normalize(),o.normalize(),n===r){let d=s.add(o).normalize();a.copy(e).addScaledVector(d,n/Math.sin(l/2))}else{let d=s.angleTo(o);a.copy(e),a.addScaledVector(s,r/Math.sin(d)),a.addScaledVector(o,n/Math.sin(d))}}function Tee(e,t,i){let n=e.clone().sub(t),r=i.clone().sub(t);return n.projectOnVector(r),n.add(t)}var Dee=class extends dt{constructor(e=.5,t=1,i=4,n=1,r=!1,a=0,s=4){super(),i=Math.floor(Math.max(3,i)),n=Math.floor(n),s=Math.floor(s);let o=[],l=[],d=[],u=[],c=0,f=t/2,h=Math.PI/i,p=e*Math.cos(Math.PI/i),m=2*Math.PI/i,g=(i-2)*Math.PI/i,v=Math.PI-g,y=new E(0,-f,0),b=new E(0,f,0),_=new Y(e,-f),x=new Y(p,-f),k=new Y(0,b.y).sub(x),w=new Y(0,b.y).sub(_),S=new Y(k.y,-k.x).normalize(),A=new Y(w.y,-w.x).normalize(),M=e*Math.cos(Math.PI/i)*Math.tan((Math.PI-k.angle())/2)-1e-8;a=Math.min(a,M);let C;{let O=new E(S.x,S.y,0),F=new E(Math.cos(m)*O.x,O.y,Math.sin(m)*O.x);C=O.angleTo(F)}let T=a/Math.tan((Math.PI-k.angle())/2),P=a/Math.tan((Math.PI-C)/2),I=new E;if(!r){l.push(y.x,y.y,y.z),d.push(0,-1,0),u.push(0,0);let O=c++,F=[],Z=_.clone(),G=T/Math.cos(Math.PI/i);Z.x-=G;for(let L=0;L<i;L++){let X=L/i*Math.PI*2+h,q=new Y(Math.sin(X),Math.cos(X));nh(Z,q,I),l.push(I.x,I.y,I.z),d.push(0,-1,0),u.push(0,0),F.push(c++)}for(let L=0;L<F.length;L++)o.push(F[L],O,F[(L+1)%F.length])}let j=[];{let O=new E,F=new E,Z=new E,G=new E,L=new E,X=new E;for(let q=0;q<i;q++){let J=q/i*Math.PI*2+h,W=(q+.5)/i*Math.PI*2+h,ce=(q+1)/i*Math.PI*2+h,te=new Y(Math.sin(J),Math.cos(J)),oe=new Y(Math.sin(W),Math.cos(W)),ie=new Y(Math.sin(ce),Math.cos(ce));nh(_,te,F),nh(_,ie,Z),nh(S,oe,O),Eb(b,F,Z,P,P,G),l.push(G.x,G.y,G.z),Eb(F,b,Z,P,T,L),l.push(L.x,L.y,L.z),Eb(Z,F,b,T,P,X),l.push(X.x,X.y,X.z),d.push(O.x,O.y,O.z),d.push(O.x,O.y,O.z),d.push(O.x,O.y,O.z),u.push(0,0),u.push(0,0),u.push(0,0);let we=c++,pe=c++,fe=c++;if(o.push(we,pe,fe),a>0){{let Ne=F.clone().add(Z).multiplyScalar(.5),Ye=b.clone().sub(Ne).normalize(),ze=y.clone().sub(Ne).normalize().add(Ye).normalize().multiplyScalar(-1),Pe=X.clone().sub(L);H(Ne,Pe,ze,k.angle())}let Le,Be;{let Ne=new E;nh(A,ie,Ne);let Ye=X.clone().add(G).multiplyScalar(.5);Ye=Tee(Ye,Z,b);let ze=X.clone().sub(G);[Le,Be]=H(Ye,ze,Ne,C,G.y)}{let Ne=Le,Ye=Ne.clone().setY(0).normalize(),ze=new E(0,-1,0),Pe=Ye.clone().cross(ze);U(Ne,Ye,ze,Pe)}j.concat(Be);{let Ne=k.angle(),Ye=Math.PI-Ne,ze=b.clone();ze.y-=a/Math.sin(Ne-Math.PI/2);let Pe=new E,Ze=[];for(let V=0;V<s;V++){let z=[],le=Math.PI/2-Ye*V/s,Ie=Math.cos(le),ke=Math.sin(le),je=W;for(let tt=0;tt<=V;tt++){let We=Math.cos(je),Se=Math.sin(je);O.x=Ie*Se,O.y=ke,O.z=Ie*We,Pe.copy(ze).addScaledVector(O,a),l.push(Pe.x,Pe.y,Pe.z),d.push(O.x,O.y,O.z),u.push(0,0),z.push(c++),je+=Math.PI*2/V/i}Ze.push(z)}Be.reverse(),Ze.push(Be);let st=Ze.length-1;for(let V=0;V<st;V++){let z=Ze[V],le=Ze[V+1],Ie=z.length-1;o.push(le[1],z[0],le[0]);for(let ke=1;ke<=Ie;ke++)o.push(z[ke],z[ke-1],le[ke]),o.push(le[ke+1],z[ke],le[ke])}}}}}this.setIndex(o),this.setAttribute("position",new Ke(l,3)),this.setAttribute("normal",new Ke(d,3)),this.setAttribute("uv",new Ke(u,2));function H(O,F,Z,G,L){let X=-G/2,q=(Math.PI-G)/2,J=F.clone().normalize().cross(Z);O.addScaledVector(Z,-a/Math.sin(q));let W=new E,ce=new E,te=1,oe=c,ie=[];for(let we=0;we<=s;we++){let pe=X+we/s*G;ce.set(0,0,0),ce.addScaledVector(J,Math.sin(pe)),ce.addScaledVector(Z,Math.cos(pe));for(let fe=0;fe<=te;fe++){let Le=fe/te-.5;if(W.copy(O),W.addScaledVector(F,Le),W.addScaledVector(ce,a),L!=null){let Be=Math.max(0,W.y-L);W.addScaledVector(F,-Be/F.y)}l.push(W.x,W.y,W.z),d.push(ce.x,ce.y,ce.z),u.push(0,0),fe===0&&ie.push(c),c++}}for(let we=0;we<s;we++)for(let pe=0;pe<te;pe++){let fe=oe+pe+(te+1)*we,Le=fe+(te+1),Be=Le+1,Ne=fe+1;o.push(fe,Le,Ne),o.push(Le,Be,Ne)}return[O.clone().addScaledVector(F,.5),ie]}function U(O,F,Z,G){let L=Math.PI/2,X=w.angle()-L,q=[],J=new E,W=new E;for(let te=0;te<=s;te++){let oe=[],ie=te/s;for(let we=0;we<=te;we++){let pe=((te?we/te:0)-.5)*v,fe=Math.cos(pe),Le=Math.sin(pe),Be=Math.atan(Math.tan(X)*fe),Ne=(L+Be)*ie,Ye=Math.cos(Ne),ze=Math.sin(Ne);J.set(0,0,0),J.addScaledVector(F,ze*fe),J.addScaledVector(Z,Ye),J.addScaledVector(G,ze*Le),W.copy(O).addScaledVector(J,a),l.push(W.x,W.y,W.z),d.push(J.x,J.y,J.z),u.push(0,0),oe.push(c++)}q.push(oe)}let ce=q.length-1;for(let te=0;te<ce;te++){let oe=q[te],ie=q[te+1],we=oe.length-1;o.push(oe[0],ie[1],ie[0]);for(let pe=1;pe<=we;pe++)o.push(oe[pe-1],oe[pe],ie[pe]),o.push(oe[pe],ie[pe+1],ie[pe])}}}},bT=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r,a,s,o;let i=Object.assign({},(r=t==null?void 0:t.parameters)!=null?r:{width:100,depth:0,cornerRadius:[0,0,0,0],cornerType:1,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters),n=Object.assign((a=t==null?void 0:t.ui)!=null?a:{enabledIndieCorners:!1},e.ui);return{shape:e.shape&&e.shape instanceof Vi?e.shape:new Vi,parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs((s=i.height)!=null?s:i.width),depth:Math.abs((o=i.depth)!=null?o:0)}),ui:n}}static build(e){let t=e.shape,{width:i,height:n,cornerRadius:r,cornerType:a,depth:s,extrudeBevelSize:o,extrudeBevelSegments:l}=e.parameters,d={x:i*.5,y:n*.5},u={x:-d.x,y:-d.y},c={x:d.x,y:d.y};function f(_,x,k){return x>i&&k>n?Math.min(_*i/x,_*n/k):x>i?_*i/x:k>n?_*n/k:_}let h=[];h[0]=r[0]===0?0:f(r[0],r[0]+r[3],r[0]+r[1]),h[1]=r[1]===0?0:f(r[1],r[1]+r[2],r[1]+r[0]),h[2]=r[2]===0?0:f(r[2],r[2]+r[1],r[2]+r[3]),h[3]=r[3]===0?0:f(r[3],r[3]+r[0],r[3]+r[2]);let p=u.x,m=c.x,g=c.y,v=u.y;t.addPoint(t.createPoint(p,g)),t.addPoint(t.createPoint(m,g)),t.addPoint(t.createPoint(m,v)),t.addPoint(t.createPoint(p,v)),t.isClosed=!0;let y=!0;for(let _=0,x=t.points.length;_<x;_++)t.points[_].roundness=h[_],_>0&&h[_]!==h[_-1]&&(y=!1);y&&(t.roundness=h[0]),t.useCubicForRoundedCorners=a!==1,t.update();let b=dd.create({shape:t,parameters:{depth:s,extrudeBevelSize:o,extrudeBevelSegments:l}});return Object.assign(b,{userData:Q(R({},e),{type:"RectangleGeometry"})})}},Pee=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var n,r,a;let i=Object.assign({},(n=t==null?void 0:t.parameters)!=null?n:{width:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180},e.parameters);return i.thetaLength=at.clamp(i.thetaLength,0,180),{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs((r=i.height)!=null?r:i.width),depth:Math.abs((a=i.depth)!=null?a:i.width)})}}static build(e){let{width:t=100,height:i=t,depth:n=t,widthSegments:r=64,heightSegments:a=64,phiStart:s,phiLength:o,thetaStart:l,thetaLength:d}=e.parameters,u;return d===0?(u=new dt,u.setAttribute("position",new Ke([],3))):u=new d1(.5*t,r,a,s,o,l,d*at.DEG2RAD),u.scale(1,i/t,n/t),Object.assign(u,{userData:Q(R({},e),{type:"SphereGeometry"})})}},Iee=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var n,r;let i=Object.assign({},(n=t==null?void 0:t.parameters)!=null?n:{width:100,depth:0,widthSegments:8,heightSegments:8},e.parameters);return{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs((r=i.height)!=null?r:i.width),depth:0})}}static build(e){let{width:t=100,height:i=t,widthSegments:n=8,heightSegments:r=8}=e.parameters,a=new jp(t,i,n,r);return a.scale(1,1,1),Object.assign(a,{userData:Q(R({},e),{type:"PlaneGeometry"})})}},Oee=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var n,r,a;let i=Object.assign({},(n=t==null?void 0:t.parameters)!=null?n:{width:100,angle:90,cornerRadius:24,cornerSegments:8},e.parameters);return{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs((r=i.height)!=null?r:i.width),depth:Math.abs((a=i.depth)!=null?a:i.width)})}}static build(e){let{width:t,height:i,depth:n,angle:r,cornerRadius:a,cornerSegments:s}=e.parameters,o=new jee(t,i,n,r,a,s);return Object.assign(o,{userData:Q(R({},e),{type:"BackdropGeometry"})})}},jee=class extends dt{constructor(e=1,t=1,i=1,n=90,r=10,a=24){super(),this.type="BackdropGeometry";let s=[],o=[],l=[],d=.001;r==0&&(a=1),a=Math.max(1,Math.floor(a)),r=Math.min(r,100),n=Math.min(180-d,n),n*=Math.PI/180;let u=[],c=Math.PI/2,f=(ce=0,te=0,oe=0)=>new E(ce,te,oe),h=f(),p=f(),[m,g,v]=[t/2,e/2,i/2],y=-g,b=+g,[_,x,k]=[f(y,-m,+v),f(y,-m,-v),f(y,+m,-v)],w=(ce,te=!1)=>Math.sin(ce-Math.PI/(1+ +te)),S=(ce,te=!1)=>Math.cos(ce-Math.PI/(1+ +te));k.y=Math.sin(n)*t-m;let A=Math.cos(n)*t-v,M=_.z-d;n<=c?(k.z=Math.min(A,M),k.z==M&&(k.y-=(A-M)/Math.tan(c-n))):x.z=Math.min(x.z-A-v,_.z-d),h.subVectors(_,x),p.subVectors(k,x);let C=Math.min(h.length(),p.length())*r/100,T=C*Math.tan(n/2),P=C/Math.cos(n/2),I=h.clone().normalize().add(p.normalize()).setLength(P).add(x);h.set(0,w(n,!0),S(n,!0)),u.push([k,h.clone()]);let j=(Math.PI-n)/a;for(let ce=0;ce<=a;ce++){let te=c+n+ce*j;h.set(0,Math.sin(te)*T,Math.cos(te)*T),h.add(I),p.set(0,w(te),S(te)),u.push([h.clone(),p.clone()])}u.push([_,f(0,1,0)]);let H=Math.sin(j/2)*T*2,U=u.length-1,O=u[0][0].distanceTo(u[1][0]),F=u[U-1][0].distanceTo(u[U][0]),Z=O+H*a+F;u[0].push(1);for(let ce=0;ce<=a;ce++)u[ce+1].push(1-(O+ce*H)/Z);u[U].push(0);let[G,L,X]=u[0],q,J,W;for(let ce=1;ce<u.length;ce++)[q,J,W]=u[ce],s.push(y,G.y,G.z,y,q.y,q.z,b,G.y,G.z,b,G.y,G.z,y,q.y,q.z,b,q.y,q.z),o.push(0,L.y,L.z,0,J.y,J.z,0,L.y,L.z,0,L.y,L.z,0,J.y,J.z,0,J.y,J.z),l.push(0,X,0,W,1,X,1,X,0,W,1,W),[G,L,X]=[q,J,W];this.setAttribute("position",new Ke(s,3)),this.setAttribute("normal",new Ke(o,3)),this.setAttribute("uv",new Ke(l,2))}},_T=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var n,r,a;let i=Object.assign({},(n=t==null?void 0:t.parameters)!=null?n:{width:100,depth:0,innerRadiusPercent:38.19,spikes:5,cornerRadius:0,angle:360,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return{shape:e.shape&&e.shape instanceof Vi?e.shape:new Vi,parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs((r=i.height)!=null?r:i.width),depth:Math.abs((a=i.depth)!=null?a:0)})}}static build(e){let{width:t,height:i,innerRadiusPercent:n,spikes:r,cornerRadius:a,angle:s,depth:o,extrudeBevelSize:l,extrudeBevelSegments:d}=e.parameters,u=e.shape,c=t*.5,f=i*.5,h=0,p=0,m=s*Math.PI/360/r,g=Math.PI/2*3*-1,v=c*n/100,y=f*n/100;if(r===3&&n===50){m=2*Math.PI/r;for(let _=0;_<r;_++){let x=m*_,k=h+Math.sin(x)*c,w=p+Math.cos(x)*f;u.addPoint(u.createPoint(k,w))}}else for(let _=0;_<r;_++){let x=h+Math.cos(g)*c,k=p+Math.sin(g)*f;u.addPoint(u.createPoint(x,k)),g+=m,x=h+Math.cos(g)*v,k=p+Math.sin(g)*y,_<=r,u.addPoint(u.createPoint(x,k)),g+=m}u.isClosed=!0;for(let _=0,x=u.points.length;_<x;_++)u.points[_].roundness=a;u.roundness=a,u.update();let b=dd.create({shape:u,parameters:{roundness:a,depth:o,extrudeBevelSize:l,extrudeBevelSegments:d}});return Object.assign(b,{userData:Q(R({},e),{type:"StarGeometry"})})}},Ree=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var n,r,a;let i=Object.assign({},(n=t==null?void 0:t.parameters)!=null?n:{width:100,depth:0},e.parameters);return{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs((r=i.height)!=null?r:i.width),depth:Math.abs((a=i.depth)!=null?a:0)})}}static build(e){let{width:t,height:i}=e.parameters,n=new jp(t,i);return Object.assign(n,{userData:Q(R({},e),{type:"TextFrameGeometry"})})}},zee=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var s,o,l;let i=Object.assign({},(s=t==null?void 0:t.parameters)!=null?s:{width:100,radialSegments:32,tubularSegments:64,arc:360,cornerRadius:30,cornerSegments:8},e.parameters),n=Math.abs(i.width),r=Math.abs((o=i.height)!=null?o:i.width),a=Math.round(Math.abs((l=i.depth)!=null?l:i.width*.25));return{parameters:Object.assign(i,{width:n,height:r,depth:a})}}static build(e){let{width:t,height:i,depth:n,radialSegments:r,tubularSegments:a,arc:s,cornerRadius:o,cornerSegments:l}=e.parameters,d=Bee(t,i,n,t*.5,s,a,0,0,r,o,l);return d.scale(1,i/t,1),Object.assign(d,{userData:Q(R({},e),{type:"TorusGeometry"})})}};function Bee(e,t,i,n,r,a,s,o,l,d,u){[t,i]=[i,t],s=t/2;let c=at.clamp(r/360,0,1);if(c===0){let f=new dt;return f.setAttribute("position",new Ke([],3)),f}return c===1&&(d=0),new hT(!0,e,t,i,n,c,a,s,o,l,d,u)}var Lee=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var n,r,a,s;let i=Object.assign({},(n=t==null?void 0:t.parameters)!=null?n:{width:100,tubularSegments:64,radialSegments:32,p:2,q:3},e.parameters);return{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs((r=i.height)!=null?r:i.width),depth:Math.abs((a=i.depth)!=null?a:i.width),tube:(s=i.tube)!=null?s:i.width*.125})}}static build(e){let{width:t,tube:i,tubularSegments:n,radialSegments:r,p:a,q:s}=e.parameters,o=t*.5;o!==i&&(o-=i);let l=new aM(o,i,n,r,a,s);return Object.assign(l,{userData:Q(R({},e),{type:"TorusKnotGeometry"})})}},Fee=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var n,r,a;let i=Object.assign({},(n=t==null?void 0:t.parameters)!=null?n:{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1,isRect:!1},e.parameters);return{shape:e.shape&&e.shape instanceof Vi?e.shape:new Vi,parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs((r=i.height)!=null?r:i.width*(i.isRect?1:Math.sqrt(3)/2)),depth:Math.abs((a=i.depth)!=null?a:0)})}}static build(e){let{width:t=100,height:i,cornerRadius:n,depth:r,extrudeBevelSize:a,extrudeBevelSegments:s,isRect:o}=e.parameters,l=e.shape,d=t*.5,u=i*.5;o?(l.addPoint(l.createPoint(-d,u)),l.addPoint(l.createPoint(d,-u)),l.addPoint(l.createPoint(-d,-u))):(l.addPoint(l.createPoint(0,u)),l.addPoint(l.createPoint(d,-u)),l.addPoint(l.createPoint(-d,-u))),l.isClosed=!0;for(let f=0,h=l.points.length;f<h;f++)l.points[f].roundness=n;l.roundness=n,l.update();let c=dd.create({shape:l,parameters:{roundness:n,depth:r,extrudeBevelSize:a,extrudeBevelSegments:s}});return Object.assign(c,{userData:Q(R({},e),{type:"TriangleGeometry"})})}};function Nee(e,t){let i=2*Math.PI;return(e%i+i)%i===(t%i+i)%i}var Uee=class{add(e,t,i){if(typeof arguments[0]!="string")for(let n in arguments[0])this.add(n,arguments[0][n],arguments[1]);else(Array.isArray(e)?e:[e]).forEach(function(n){this[n]=this[n]||[],t&&this[n][i?"unshift":"push"](t)},this)}run(e,t){this[e]=this[e]||[],this[e].forEach(function(i){i.call(t&&t.context?t.context:t,t)})}},Vee=class{constructor(e){this.jsep=e,this.registered={}}register(...e){e.forEach(t=>{if(typeof t!="object"||!t.name||!t.init)throw new Error("Invalid JSEP plugin format");this.registered[t.name]||(t.init(this.jsep),this.registered[t.name]=t)})}},_e=class{static get version(){return"1.3.8"}static toString(){return"JavaScript Expression Parser (JSEP) v"+_e.version}static addUnaryOp(e){return _e.max_unop_len=Math.max(e.length,_e.max_unop_len),_e.unary_ops[e]=1,_e}static addBinaryOp(e,t,i){return _e.max_binop_len=Math.max(e.length,_e.max_binop_len),_e.binary_ops[e]=t,i?_e.right_associative.add(e):_e.right_associative.delete(e),_e}static addIdentifierChar(e){return _e.additional_identifier_chars.add(e),_e}static addLiteral(e,t){return _e.literals[e]=t,_e}static removeUnaryOp(e){return delete _e.unary_ops[e],e.length===_e.max_unop_len&&(_e.max_unop_len=_e.getMaxKeyLen(_e.unary_ops)),_e}static removeAllUnaryOps(){return _e.unary_ops={},_e.max_unop_len=0,_e}static removeIdentifierChar(e){return _e.additional_identifier_chars.delete(e),_e}static removeBinaryOp(e){return delete _e.binary_ops[e],e.length===_e.max_binop_len&&(_e.max_binop_len=_e.getMaxKeyLen(_e.binary_ops)),_e.right_associative.delete(e),_e}static removeAllBinaryOps(){return _e.binary_ops={},_e.max_binop_len=0,_e}static removeLiteral(e){return delete _e.literals[e],_e}static removeAllLiterals(){return _e.literals={},_e}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(e){this.expr=e,this.index=0}static parse(e){return new _e(e).parse()}static getMaxKeyLen(e){return Math.max(0,...Object.keys(e).map(t=>t.length))}static isDecimalDigit(e){return e>=48&&e<=57}static binaryPrecedence(e){return _e.binary_ops[e]||0}static isIdentifierStart(e){return e>=65&&e<=90||e>=97&&e<=122||e>=128&&!_e.binary_ops[String.fromCharCode(e)]||_e.additional_identifier_chars.has(String.fromCharCode(e))}static isIdentifierPart(e){return _e.isIdentifierStart(e)||_e.isDecimalDigit(e)}throwError(e){let t=new Error(e+" at character "+this.index);throw t.index=this.index,t.description=e,t}runHook(e,t){if(_e.hooks[e]){let i={context:this,node:t};return _e.hooks.run(e,i),i.node}return t}searchHook(e){if(_e.hooks[e]){let t={context:this};return _e.hooks[e].find(function(i){return i.call(t.context,t),t.node}),t.node}}gobbleSpaces(){let e=this.code;for(;e===_e.SPACE_CODE||e===_e.TAB_CODE||e===_e.LF_CODE||e===_e.CR_CODE;)e=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");let e=this.gobbleExpressions(),t=e.length===1?e[0]:{type:_e.COMPOUND,body:e};return this.runHook("after-all",t)}gobbleExpressions(e){let t=[],i,n;for(;this.index<this.expr.length;)if(i=this.code,i===_e.SEMCOL_CODE||i===_e.COMMA_CODE)this.index++;else if(n=this.gobbleExpression())t.push(n);else if(this.index<this.expr.length){if(i===e)break;this.throwError('Unexpected "'+this.char+'"')}return t}gobbleExpression(){let e=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",e)}gobbleBinaryOp(){this.gobbleSpaces();let e=this.expr.substr(this.index,_e.max_binop_len),t=e.length;for(;t>0;){if(_e.binary_ops.hasOwnProperty(e)&&(!_e.isIdentifierStart(this.code)||this.index+e.length<this.expr.length&&!_e.isIdentifierPart(this.expr.charCodeAt(this.index+e.length))))return this.index+=t,e;e=e.substr(0,--t)}return!1}gobbleBinaryExpression(){let e,t,i,n,r,a,s,o,l;if(a=this.gobbleToken(),!a||(t=this.gobbleBinaryOp(),!t))return a;for(r={value:t,prec:_e.binaryPrecedence(t),right_a:_e.right_associative.has(t)},s=this.gobbleToken(),s||this.throwError("Expected expression after "+t),n=[a,r,s];t=this.gobbleBinaryOp();){if(i=_e.binaryPrecedence(t),i===0){this.index-=t.length;break}r={value:t,prec:i,right_a:_e.right_associative.has(t)},l=t;let d=u=>r.right_a&&u.right_a?i>u.prec:i<=u.prec;for(;n.length>2&&d(n[n.length-2]);)s=n.pop(),t=n.pop().value,a=n.pop(),e={type:_e.BINARY_EXP,operator:t,left:a,right:s},n.push(e);e=this.gobbleToken(),e||this.throwError("Expected expression after "+l),n.push(r,e)}for(o=n.length-1,e=n[o];o>1;)e={type:_e.BINARY_EXP,operator:n[o-1].value,left:n[o-2],right:e},o-=2;return e}gobbleToken(){let e,t,i,n;if(this.gobbleSpaces(),n=this.searchHook("gobble-token"),n)return this.runHook("after-token",n);if(e=this.code,_e.isDecimalDigit(e)||e===_e.PERIOD_CODE)return this.gobbleNumericLiteral();if(e===_e.SQUOTE_CODE||e===_e.DQUOTE_CODE)n=this.gobbleStringLiteral();else if(e===_e.OBRACK_CODE)n=this.gobbleArray();else{for(t=this.expr.substr(this.index,_e.max_unop_len),i=t.length;i>0;){if(_e.unary_ops.hasOwnProperty(t)&&(!_e.isIdentifierStart(this.code)||this.index+t.length<this.expr.length&&!_e.isIdentifierPart(this.expr.charCodeAt(this.index+t.length)))){this.index+=i;let r=this.gobbleToken();return r||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:_e.UNARY_EXP,operator:t,argument:r,prefix:!0})}t=t.substr(0,--i)}_e.isIdentifierStart(e)?(n=this.gobbleIdentifier(),_e.literals.hasOwnProperty(n.name)?n={type:_e.LITERAL,value:_e.literals[n.name],raw:n.name}:n.name===_e.this_str&&(n={type:_e.THIS_EXP})):e===_e.OPAREN_CODE&&(n=this.gobbleGroup())}return n?(n=this.gobbleTokenProperty(n),this.runHook("after-token",n)):this.runHook("after-token",!1)}gobbleTokenProperty(e){this.gobbleSpaces();let t=this.code;for(;t===_e.PERIOD_CODE||t===_e.OBRACK_CODE||t===_e.OPAREN_CODE||t===_e.QUMARK_CODE;){let i;if(t===_e.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==_e.PERIOD_CODE)break;i=!0,this.index+=2,this.gobbleSpaces(),t=this.code}this.index++,t===_e.OBRACK_CODE?(e={type:_e.MEMBER_EXP,computed:!0,object:e,property:this.gobbleExpression()},this.gobbleSpaces(),t=this.code,t!==_e.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):t===_e.OPAREN_CODE?e={type:_e.CALL_EXP,arguments:this.gobbleArguments(_e.CPAREN_CODE),callee:e}:(t===_e.PERIOD_CODE||i)&&(i&&this.index--,this.gobbleSpaces(),e={type:_e.MEMBER_EXP,computed:!1,object:e,property:this.gobbleIdentifier()}),i&&(e.optional=!0),this.gobbleSpaces(),t=this.code}return e}gobbleNumericLiteral(){let e="",t,i;for(;_e.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(this.code===_e.PERIOD_CODE)for(e+=this.expr.charAt(this.index++);_e.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(t=this.char,t==="e"||t==="E"){for(e+=this.expr.charAt(this.index++),t=this.char,(t==="+"||t==="-")&&(e+=this.expr.charAt(this.index++));_e.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);_e.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+e+this.char+")")}return i=this.code,_e.isIdentifierStart(i)?this.throwError("Variable names cannot start with a number ("+e+this.char+")"):(i===_e.PERIOD_CODE||e.length===1&&e.charCodeAt(0)===_e.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:_e.LITERAL,value:parseFloat(e),raw:e}}gobbleStringLiteral(){let e="",t=this.index,i=this.expr.charAt(this.index++),n=!1;for(;this.index<this.expr.length;){let r=this.expr.charAt(this.index++);if(r===i){n=!0;break}else if(r==="\\")switch(r=this.expr.charAt(this.index++),r){case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=r}else e+=r}return n||this.throwError('Unclosed quote after "'+e+'"'),{type:_e.LITERAL,value:e,raw:this.expr.substring(t,this.index)}}gobbleIdentifier(){let e=this.code,t=this.index;for(_e.isIdentifierStart(e)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(e=this.code,_e.isIdentifierPart(e));)this.index++;return{type:_e.IDENTIFIER,name:this.expr.slice(t,this.index)}}gobbleArguments(e){let t=[],i=!1,n=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let r=this.code;if(r===e){i=!0,this.index++,e===_e.CPAREN_CODE&&n&&n>=t.length&&this.throwError("Unexpected token "+String.fromCharCode(e));break}else if(r===_e.COMMA_CODE){if(this.index++,n++,n!==t.length){if(e===_e.CPAREN_CODE)this.throwError("Unexpected token ,");else if(e===_e.CBRACK_CODE)for(let a=t.length;a<n;a++)t.push(null)}}else if(t.length!==n&&n!==0)this.throwError("Expected comma");else{let a=this.gobbleExpression();(!a||a.type===_e.COMPOUND)&&this.throwError("Expected comma"),t.push(a)}}return i||this.throwError("Expected "+String.fromCharCode(e)),t}gobbleGroup(){this.index++;let e=this.gobbleExpressions(_e.CPAREN_CODE);if(this.code===_e.CPAREN_CODE)return this.index++,e.length===1?e[0]:e.length?{type:_e.SEQUENCE_EXP,expressions:e}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:_e.ARRAY_EXP,elements:this.gobbleArguments(_e.CBRACK_CODE)}}},Hee=new Uee;Object.assign(_e,{hooks:Hee,plugins:new Vee(_e),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},right_associative:new Set,additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"}),_e.max_unop_len=_e.getMaxKeyLen(_e.unary_ops),_e.max_binop_len=_e.getMaxKeyLen(_e.binary_ops);var ru=e=>new _e(e).parse(),Gee=Object.getOwnPropertyNames(_e);Gee.forEach(e=>{ru[e]===void 0&&e!=="prototype"&&(ru[e]=_e[e])}),ru.Jsep=_e;var Wee="ConditionalExpression",qee={name:"ternary",init(e){e.hooks.add("after-expression",function(t){if(t.node&&this.code===e.QUMARK_CODE){this.index++;let i=t.node,n=this.gobbleExpression();if(n||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===e.COLON_CODE){this.index++;let r=this.gobbleExpression();if(r||this.throwError("Expected expression"),t.node={type:Wee,test:i,consequent:n,alternate:r},i.operator&&e.binary_ops[i.operator]<=.9){let a=i;for(;a.right.operator&&e.binary_ops[a.right.operator]<=.9;)a=a.right;t.node.test=a.right,a.right=t.node,t.node=i}}else this.throwError("Expected :")}})}};ru.plugins.register(qee);var Zee=["+","-","*","/","(",")","==","!=",">","<",">=","<=","and","or","!","%","^",","],Yee=["0","1","2","3","4","5","6","7","8","9","."],Xee=["sin","cos","tan","asin","acos","atan","atan2","sqrt","abs","log","exp","floor","ceil","round","min","max","random"];function Kee(e){return typeof e!="string"?!1:!isNaN(e)&&!isNaN(parseFloat(e))}ru.addBinaryOp("^",11,!0);function wT(e,t,i="number"){let n="";for(let s=0;s<e.length;s++){let o=e[s];if("id"in o){let l=e[s-1];if(s>0&&"id"in l){console.error("Two variables in a row",e);return}let d=t.getVariable(o.id),u=ia.getDisplayedValue(d);i==="number"&&ia.isTextValue(d)&&Array.isArray(d.textValue)&&d.textValue.length===1?u=parseFloat(u).toString():i==="boolean"&&ia.isBoolean(d)?u=d?"true":"false":i==="boolean"&&ia.isTextValue(d)&&!Array.isArray(d.textValue)&&(u='"'+u+'"'),n+=u;continue}else if(i==="string"){o.name!=='"'&&o.name!=="+"&&(n+=o.name),o.name==="+"&&n[n.length-1]==="\\"&&(n=n.slice(0,-1)+o.name);continue}if(o.name==="and"){n+="&&";continue}if(o.name==="or"){n+="||";continue}if(o.name==="True"){n+="true";continue}if(o.name==="False"){n+="false";continue}if(i==="boolean"&&!Kee(o.name)&&!Yee.includes(o.name)&&!Zee.includes(o.name)&&!Xee.includes(o.name.replace(/\($/g,""))){n+='"'+o.name+'"';continue}n+=o.name}if(i==="string")return n;if(e.length===0){if(i==="number")return 0;if(i==="boolean")return!1}let r;try{r=ru(n)}catch(s){console.error(n,s);return}let a;try{a=$t(r)}catch(s){console.error(n,r,s)}return a}function $t(e){switch(e.type){case"BinaryExpression":switch(e.operator){case"==":return+($t(e.left)===$t(e.right));case"!=":return+($t(e.left)!==$t(e.right));case">":return+($t(e.left)>$t(e.right));case">=":return+($t(e.left)>=$t(e.right));case"<":return+($t(e.left)<$t(e.right));case"<=":return+($t(e.left)<=$t(e.right));case"+":return $t(e.left)+$t(e.right);case"-":return $t(e.left)-$t(e.right);case"*":return $t(e.left)*$t(e.right);case"/":return $t(e.left)/$t(e.right);case"%":return $t(e.left)%$t(e.right);case"&&":return $t(e.left)&&$t(e.right);case"||":return $t(e.left)||$t(e.right);case"^":return Math.pow($t(e.left),$t(e.right));default:throw new Error("Unknown operator: "+e.operator)}case"UnaryExpression":switch(e.operator){case"-":return-$t(e.argument);case"!":return+!$t(e.argument);default:throw new Error("Unknown operator: "+e.operator)}case"Identifier":throw new Error("Unknown identifier: "+e.name);case"Literal":return e.value;case"CallExpression":if(e.callee.type==="Identifier"){if(e.callee.name==="random"){let t=0,i=1;if(e.arguments.length>=1)try{t=$t(e.arguments[0])}catch(n){console.warn(n)}if(e.arguments.length>=2)try{i=$t(e.arguments[1])}catch(n){console.warn(n)}return t=Math.min(i,t),i=Math.max(i,t),t+Math.random()*(i-t)}return Math[e.callee.name].apply(null,e.arguments.map($t))}else throw new Error("Unknown node");default:throw new Error("Unknown node type: "+e.type)}}var Qee=new Ee,Jee=new Ee;function $ee(e,t,i){let n=[new E,new E,new E],r=[new E,new E,new E];return e.extractBasis(n[0],n[1],n[2]),t.extractBasis(r[0],r[1],r[2]),n.forEach((a,s)=>{let o=r[s],l=at.lerp(a.length(),o.length(),i);a.lerp(o,i).setLength(l)}),new Ee().makeBasis(n[0],n[1],n[2])}var ete=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var o,l,d,u,c;let i=Object.assign({},(o=t==null?void 0:t.parameters)!=null?o:{width:100,height:100,depth:1,subdivisions:12,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters),n=Math.abs(i.width),r=Math.abs((l=i.height)!=null?l:i.width),a=Math.abs((d=i.depth)!=null?d:0),s=(u=t==null?void 0:t.shapeData)!=null?u:xb.create({parameters:iE}).userData.shape;return{path:(c=e.path)!=null?c:Gm.defaultData(),parameters:Object.assign(i,{width:n,height:r,depth:a,extrusion:R(R({},nE),i.extrusion)}),shapeData:s}}static build(e){if(e.path.points.length>=2){let t=new tte(e);return Object.assign(t,{userData:Q(R({},e),{type:"PathGeometry"})})}else return Object.assign(new dt,{userData:Q(R({},e),{type:"PathGeometry"})})}},tte=class extends dt{constructor(e){super(),this.type="PathExtrusionGeometry",this.inputs=e,this.build()}_isGeometryClosed(){return this.inputs.path.isClosed&&this.inputs.parameters.extrusion.depth===1}_isOpenEnded(){let e=this.inputs.parameters.extrusion;return!(this.inputs.path.isClosed&&e.depth===1)||!Nee(e.twist,0)||e.startScale!==e.endScale}build(){let e=this._extractPathPoints();if(e.length<2)return;let t=this._computeBasisMatrices(e),{depth:i,offset:n}=this.inputs.parameters.extrusion;i=Math.max(0,Math.min(i,1)),n=Math.max(0,Math.min(n,1));let r=this.inputs.path.isClosed?e.length:e.length-1,a=Math.floor(n*r),s=this.inputs.path.isClosed?Math.ceil((i+n)*r):Math.ceil(Math.min(1,i+n)*r),o=Math.min(Math.max(2,s-a+1),r+2),l=[],d=[];for(let U=0;U<o;U++){let O=this.inputs.path.isClosed?(U+a)%e.length:Math.min(U+a,e.length-1);l.push(e[O].clone()),d.push(t[O].clone())}let u=(U,O,F)=>{l[U]=l[U].clone().lerp(l[O],F),d[U]=$ee(d[U],d[O],F)},c=0,f=n*r%1;(!this.inputs.path.isClosed||i<=1)&&(f||n===0)&&(c=f,u(0,1,c));let h=0,p=(n+i)*r%1;if((this.inputs.path.isClosed&&i<=1||!this.inputs.path.isClosed&&n+i<1)&&p&&(h=p,u(l.length-1,l.length-2,1-h)),i===0){let U=l.length-1;l[U].copy(l[0]),d[U].copy(d[0])}this._applyPathModifiers(d,c,h);let{bevel:m,bevelSides:g}=this.inputs.parameters.extrusion,v=m>0?this.inputs.parameters.extrusion.capType:"flat",y=5;this.inputs.parameters.extrusion.shape.type==="Custom"&&(y=this.inputs.parameters.extrusion.shape.shapeQuality==="low"?5:12);let{regions:b,infos:_,vertices:x}=this._computeShapePoints(y),k=0,w;v==="round"&&(w=new wb(this.inputs.shapeData,2*m,m,y,g,void 0,!0),k=w.getAttribute("position").count);let S=0,A=0;_.sort((U,O)=>U.start-O.start),_.forEach(U=>{U.verticesStart=S,U.verticesCount=U.continuous.reduce((O,F,Z)=>O+(Z===0||!F?2:1),0),A+=U.verticesCount,S=A});let M=A*o,C,T=0;if(this._isOpenEnded()&&v==="flat"){try{C=sl({windingRule:gi.ODD,elementType:cn.POLYGONS,polySize:3,vertexSize:2,strict:!0,contours:b})}catch(U){C=aT}T=C.vertexCount}let P=M+2*T+k*2,I=M+2*T,j={positions:new Float32Array(P*3),normals:new Float32Array(P*3),uvs:new Float32Array(P*2)},H=[];if(_.forEach(U=>{this._extrudeRegion(U,x,d,l,j,H,this._isGeometryClosed()&&!this._isOpenEnded())}),C&&(this._closeEnd(C,M,H,j,d[0],l[0],!1),this._closeEnd(C,M+T,H,j,d[d.length-1],l[l.length-1],!0)),w){j.positions.set(w.getAttribute("position").array,I*3),j.normals.set(w.getAttribute("normal").array,I*3),j.uvs.set(w.getAttribute("uv").array,I*2);let U=H.length;H.push(...w.getIndex().array.map(Z=>Z+I)),I+=k,j.positions.set(w.getAttribute("position").array,I*3),j.normals.set(w.getAttribute("normal").array,I*3),j.uvs.set(w.getAttribute("uv").array,I*2);let O=H.length;H.push(...w.getIndex().array.map(Z=>Z+I)),this.setAttribute("position",new _t(j.positions,3)),this.setAttribute("normal",new _t(j.normals,3)),this.setAttribute("uv",new _t(j.uvs,2)),this.setIndex(H);let F=Qee;F.copy(d[d.length-1]).setPosition(l[l.length-1]),this.applyMatrix4OnRange(F,I,P),F.copy(d[0]).setPosition(l[0]).multiply(Jee.makeScale(1,1,-1)),this.applyMatrix4OnRange(F,I-k,I),this.reverseIndicesOnRange(U,O)}else this.setAttribute("position",new _t(j.positions,3)),this.setAttribute("normal",new _t(j.normals,3)),this.setAttribute("uv",new _t(j.uvs,2)),this.setIndex(H)}_extractPathPoints(){let e=NE(this.inputs.path).getPoints(this.inputs.path.subdivisions);if(e.length<2)return[];let t=[e[0]];return e.forEach(i=>{t[t.length-1].distanceToSquared(i)>.001&&t.push(i)}),this.inputs.path.isClosed&&t[t.length-1].distanceTo(t[0])<.001&&t.pop(),t}_computeBasisMatrices(e){let t=[],i=e.length,n=this.inputs.path.isClosed,r=new E,a=new E,s=new E,o=new E,l=new E(0,1,0);for(let p=0;p<i;p++){let m=e[p],g;p===0?g=n?e[e.length-2]:m.clone().multiplyScalar(2).sub(e[1]):g=e[p-1];let v;p===i-1?v=n?e[1]:m.clone().multiplyScalar(2).sub(e[p-1]):v=e[p+1];let y=m.clone().sub(g).normalize(),b=v.clone().sub(m).normalize(),_=y.clone().add(b).normalize();s.copy(_),p===0&&(_.equals(l)||_.clone().negate().equals(l))&&l.set(0,0,1);let x=l.clone().cross(_).normalize(),k=_.clone().cross(x).normalize();l.copy(k),o.copy(x),p===0&&(r.copy(k),a.copy(_));let w=new Ee().makeBasis(x,k,_);t.push(w)}let d=n?a:s,u=n?r:new E(0,1,0),c=d.clone().cross(o).normalize(),f=Math.acos(u.dot(c));if(isNaN(f))return t;let h=u.clone().cross(c);d.dot(h)>0&&(f*=-1);for(let p=1;p<t.length;p++){let m=new Ee().makeRotationZ(f*p/t.length);t[p].multiply(m)}return t}_applyPathModifiers(e,t,i){let n=e.length,{angle:r,twist:a,startScale:s,endScale:o}=this.inputs.parameters.extrusion,l=new Ee,d=new Ee;return e.forEach((u,c)=>{let f=c===0?0:c===n-1?1:(c-t)/(n-(i===0?0:1)-(t+(1-i)));l.makeRotationZ(at.lerp(r,r+a,f)*at.DEG2RAD);let h=at.lerp(s,o,f);d.makeScale(h,h,h),u.multiply(l).multiply(d)}),e}_computeShapePoints(e=12,t=gi.ODD){let i=this.inputs.shapeData,n=i.extractShapePointsToFlatArray([],e),r=i.shapeHoles.map(h=>{let p=h.extractShapePointsToFlatArray([],e),m=[];for(let g=p.length-1;g>=1;g-=2){let v=p[g-1],y=p[g-0];m.push(v,y)}return m}),a;try{a=sl({windingRule:t,elementType:cn.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[n]})}catch(h){a=bb}let s;try{s=sl({windingRule:gi.ODD,elementType:cn.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...r]})}catch(h){s=rT}if(!a)throw new Error("error generating geometry");let o=a.elementCount;if(s){a.elementCount+=s.elementCount;for(let h=0;h<s.elements.length;h++){let p=s.elements[h],m=h%2===0?a.vertexCount:0;a.elements.push(p+m)}for(let h=0;h<s.vertexIndices.length;h++){let p=s.vertexIndices[h],m=a.vertexCount;a.vertexIndices.push(p+m)}for(let h=0;h<s.vertices.length;h++){let p=s.vertices[h];a.vertices.push(p)}}let l=1/0,d=-1/0,u=1/0,c=-1/0;for(let h=0,p=a.vertexCount;h<p;h++){let m=h*2,g=a.vertices[m+0],v=a.vertices[m+1];g<l&&(l=g),g>d&&(d=g),v<u&&(u=v),v>c&&(c=v)}let f=[];for(let h=a.elementCount-1;h>=0;h--){let p=h>=o,m=h*2,g=a.elements[m+0],v=a.elements[m+1],y=g+v,b={start:g,count:v,normals:[],isHole:p,continuous:[],verticesStart:0,verticesCount:0};f.push(b);let _=g,x=y-1,k=g+1,w=i.roundedCurves.length;do{let S=_-g,A=a.vertices[x*2+0],M=a.vertices[x*2+1],C=a.vertices[_*2+0],T=a.vertices[_*2+1],P=a.vertices[k*2+0],I=a.vertices[k*2+1],j=C-A,H=T-M,U=Math.sqrt(j*j+H*H);j/=U,H/=U;let O=C-P,F=T-I,Z=Math.sqrt(O*O+F*F);O/=Z,F/=Z,b.normals[S*2+0]=-F,b.normals[S*2+1]=O;let G=a.vertexIndices[_];if(Array.isArray(G))b.continuous[S]=!1;else{let[L,X]=i.getCurveIndexFromVertexId(G-1,!0);if(X>0&&X<1)b.continuous[S]=!0;else{let q=X===1?L+1:L-1;q=(q+w)%w;let J=X===1?0:1,W=i.roundedCurves[L].getTangent(X),ce=i.roundedCurves[q].getTangent(J);b.continuous[S]=W.dot(ce)>.95}}p&&(b.normals[S*2+0]*=-1,b.normals[S*2+1]*=-1),[x,_,k]=[_,k,k+1],k>=y&&(k-=v)}while(k!==g+1)}return{regions:[n,...r],infos:f,vertices:a.vertices}}_insertVertex(e,t,i,n,r){let a=t*2,s=t*3;e.positions[s+0]=i.x,e.positions[s+1]=i.y,e.positions[s+2]=i.z,e.normals[s+0]=n.x,e.normals[s+1]=n.y,e.normals[s+2]=n.z,e.uvs[a+0]=r.x,e.uvs[a+1]=r.y}_extrudeRegion(e,t,i,n,r,a,s){let o=new E,l=new E,d=new E,u=new E,c=new Y;i.forEach((h,p)=>{let m=n[p],g=e.verticesStart*i.length+e.verticesCount*p;for(let v=0;v<e.count;v++){let y=(e.start+v)*2;if(o.set(t[y+0],t[y+1],0),d.copy(o).applyMatrix4(h).add(m),e.continuous[v])u.set(e.normals[v*2+0],e.normals[v*2+1],0);else{let b=v===0?(e.start+e.count-1)*2:y-2;l.set(t[b+0],t[b+1],0),u.copy(o).sub(l),u.set(-u.y,u.x,0),e.isHole||u.negate()}if(u.applyMatrix4(h).normalize(),c.set(v===0?1:v/e.count,p/(i.length-1)),this._insertVertex(r,g,d,u,c),g++,!e.continuous[v]||v===0){if(v===0)u.set(e.normals[v*2+0],e.normals[v*2+1],0),c.set(0,p/(i.length-1));else{let b=v===e.count-1?e.start*2:y+2;l.set(t[b+0],t[b+1],0),u.copy(l).sub(o),u.set(-u.y,u.x,0),e.isHole||u.negate()}u.applyMatrix4(h).normalize(),this._insertVertex(r,g,d,u,c),g++}}});let f=i.length-1;for(let h=0;h<f;h++){let p=e.verticesStart*i.length+e.verticesCount*h,m=e.verticesStart*i.length+e.verticesCount*(h+1),g=0;for(let v=0;v<e.count;v++){(!e.continuous[v]||v===0)&&g++;let y=v===e.count-1?0:g+1,b=p+g,_=p+y,x=m+y,k=m+g;e.isHole?a.push(b,x,_,b,k,x):a.push(b,_,x,b,x,k),g++}}}_closeEnd(e,t,i,n,r,a,s){let o=e.vertexCount,l=new E(0,0,s?-1:1).applyMatrix4(r),d=new E,u=new Y;for(let f=0;f<o;f++){let h=2*f;d.set(e.vertices[h+0],e.vertices[h+1],0).applyMatrix4(r).add(a),this._insertVertex(n,t+f,d,l,u)}let c=e.elements;for(let f=0;f<e.elementCount;f++){let h=3*f,p=c[h+0]+t,m=c[h+(s?1:2)]+t,g=c[h+(s?2:1)]+t;i.push(p,m,g)}}applyMatrix4OnRange(e,t,i){let n=e.elements,r=new Yi().getNormalMatrix(e).elements,a,s,o,l,d=this.attributes.position,u=this.attributes.normal;if(!d||!u)return;let c=d.array,f=u.array,h=d.itemSize;for(let p=t*h,m=i*h;p<m;p+=h){if(p===t)debugger;a=c[p+0],s=c[p+1],o=c[p+2],l=1/(n[3]*a+n[7]*s+n[11]*o+n[15]),c[p+0]=(n[0]*a+n[4]*s+n[8]*o+n[12])*l,c[p+1]=(n[1]*a+n[5]*s+n[9]*o+n[13])*l,c[p+2]=(n[2]*a+n[6]*s+n[10]*o+n[14])*l,a=f[p+0],s=f[p+1],o=f[p+2],f[p+0]=r[0]*a+r[3]*s+r[6]*o,f[p+1]=r[1]*a+r[4]*s+r[7]*o,f[p+2]=r[2]*a+r[5]*s+r[8]*o}d.needsUpdate=!0,u.needsUpdate=!0}reverseIndicesOnRange(e,t){let i=this.index;if(i){for(let n=e;n<t;n+=3){let r=i.getX(n),a=i.getX(n+1),s=i.getX(n+2);i.setXYZ(n,s,a,r)}i.needsUpdate=!0}}};function xT(){let e=new dt;return e.setAttribute("position",new _t(new Float32Array([]),3)),e.setIndex(new _t(new Uint16Array([]),1)),e}var ite=xT().attributes,nte=12,rte=1,kT=class extends dt{constructor(e,t){super(),this.charWidths=[],this.charCoords=[],this.wrappedText=[],this.isLowResolution=!1,this.vectorShapes=[],Object.assign(this.attributes,ite),this.userData={parameters:e,type:"TextGeometry"};let i=t.getFont(e.font);i!=null&&i.isLoaded?(this.font=i,this.update(e)):this.updateFont(e.font,t).then(()=>{this.update(e),t==null||t.requestRender()})}updateFont(e,t){return ri(this,null,function*(){let i=t.getFont(e);i&&(this.font=i,yield i.loadingPromise)})}update(e){let t=this.font;if(this.userData={parameters:e,type:"TextGeometry"},!(t!=null&&t.isLoaded)){console.warn("Cannot update text because its font is not loaded");return}let{width:i,height:n,depth:r,extrudeBevelSize:a,extrudeBevelSegments:s,text:o,textTransform:l}=e,d=ia.getDisplayedValue(o),u=l===2?d.toUpperCase():l===3?d.toLowerCase():d,c=ate(e,t,u),{shapes:f,charWidths:h,charCoords:p}=t.generateShapes(c,e),m=(typeof i=="number"?i:1)*.5,g=(typeof n=="number"?n:1)*.5,v=f.map(_=>new Vi().fromShape(_,!0));this.vectorShapes=v;let y=v.map(_=>dd.create({shape:_,parameters:{depth:r,extrudeBevelSegments:s,extrudeBevelSize:a,windingRule:r<=0?gi.NONZERO:gi.ODD,subdivisions:this.isLowResolution&&r>0?rte:nte}})),b=y.length?rd(y):xT();b.translate(-m,g,0),this.dispose(),this.wrappedText=c,this.charCoords=p,this.charWidths=h,this.deleteAttribute("extrudeNormal"),Object.entries(b.attributes).forEach(([_,x])=>{this.setAttribute(_,x)}),this.setIndex(b.index),this.computeBoundingSphere()}clone(){let e=ao(new dt,kT.prototype);return e.copy(this),console.log("CloneGeometry",this,e),e}copy(e){return Object.entries(e.attributes).forEach(([t,i])=>{this.setAttribute(t,i)}),this.setIndex(e.index),this.userData={parameters:R({},e.userData.parameters),type:"TextGeometry"},this}setText(e){return ri(this,null,function*(){this.font&&(yield this.font.loadingPromise),yield this.update(Q(R({},this.userData.parameters),{text:e}))})}get text(){var e;return(e=this.userData.parameters.text)!=null?e:""}};function ate(e,t,i){let n=[""],r="";for(let a of i)r+=a,a===" "||a===`
`?(n[n.length-1]+=r,r="",a===`
`&&n.push("")):t.getTextWidth(n[n.length-1]+r,e)>e.width&&(n[n.length-1].length&&n.push(""),t.getTextWidth(n[n.length-1]+r,e)>e.width&&(r.length===1?(n[n.length-1]+=r,r=""):(n[n.length-1]+=r.slice(0,-1),r=r[r.length-1],n.push(""))));return n[n.length-1]+=r,n}var ST,Tb=new Promise(e=>{ST=e}),AT=!1,bg;function ste(){if(AT)return;if(bg)return bg;function e(){return ri(this,null,function*(){let t="https://unpkg.com/@splinetool/modelling-wasm@0.9.526/build",i=ee.e(377).then(ee.bind(ee,80377)),[n,r]=yield Promise.all([i,fetch(`${t}/process.wasm`).then(o=>o.arrayBuffer())]),a=n.default,s=yield a({wasmBinary:r});ST(s),AT=!0})}return bg=e(),bg}var ote=["font"];function _g(e,t,i,n){var d;let r,a,s;e.type==="PathGeometry"?(a=JSON.parse(JSON.stringify(e)),s=[[],["extrusion"]]):(a=R({},e),s=[[]]);for(let u of s){let c=a;for(let f of u)c=c[f];for(r in c){let f=c[r];W4(f)&&!ote.includes(r)&&(c[r]=t.getVariable(f,[n.uuid,"geometry",...u,r]),W4(c[r])&&(c[r]=1))}}let o={parameters:a,type:a.type};if(a.type==="PathGeometry")o.path=a.path;else if(a.type==="VectorGeometry"){let u=Vi.createFromState(a.shape,a.width,a.height);o.shape=u}else if(a.type==="NonParametricGeometry")a.data.groups&&((d=a.data.groups)==null||d.forEach(u=>{var c;return u.materialIndex=Math.max((c=u.materialIndex)!=null?c:0,0)})),o.geometry=new vM().parse(a);else if(a.type==="SubdivGeometry"){let u=new vr(a,i);return u.data=e,u}else if(a.type==="TextGeometry")return new kT(a,t);let l;try{l=jT(o)}catch(u){console.error(u)}if(!l){let u=Vi.createFromState(Hm.defaultData(),100,100);o.shape=u,l=jT(o)}return l}var lte=new Ee;function Db(e,t,i,n){let r=e.position.array,a=e.normal.array,s=lte.makeScale(t,i,n).invert().elements,o,l,d;for(var u=0,c=r.length;u<c;u+=3)r[u]*=t,r[u+1]*=i,r[u+2]*=n,o=a[u],l=a[u+1],d=a[u+2],a[u]=s[0]*o+s[4]*l+s[8]*d,a[u+1]=s[1]*o+s[5]*l+s[9]*d,a[u+2]=s[2]*o+s[6]*l+s[10]*d;e.position.needsUpdate=!0,e.normal.needsUpdate=!0}var wg=new Xi,au=new E,gt;Tb.then(e=>{gt=e});var MT=new Float32Array([10,10,0,-10,10,0,-10,-10,0,10,-10,0]),CT=new Uint32Array([0,1,2,3]),ET=new Uint8Array([4]),vr=class extends dt{constructor(e,t){super(),this.data=e,this.flatShading=t,this.subdivPointer=0,this.rebuild(),this.freeSubdivPointer()}mutateDirectlyScaleBaked(e,t){this.freeSubdivPointer();let i=this.data.scaleBaked,n=ed.div(t,i);this.subdividedGeometry&&Db(this.subdividedGeometry.attributes,...n),this.originalGeometry&&Db(this.originalGeometry.attributes,...n),this.data=e;let r=this.userData.parameters;this.userData.parameters={width:r.width*n[0],height:r.height*n[1],depth:r.depth*n[2]},this.originalGeometry.boundingSphere.center.multiply(au.fromArray(n));let a=au.set(r.width,r.height,r.depth).length();this.originalGeometry.boundingSphere.radius=a/2}ensureSubdivPointer(){return this.subdivPointer===0&&this.rebuild(),this.subdivPointer}rebuild(){var r;let e,t,i;try{({originalGeometry:e,subdividedGeometry:t,subdivPointer:i}=vr.build(this.data,void 0,!this.flatShading,void 0))}catch(a){e=new ls(100,100,100),i=0}this.subdivPointer=i,this.originalGeometry=e,this.subdividedGeometry=t!=null?t:void 0;let n=(r=this.subdividedGeometry)!=null?r:this.originalGeometry;Object.assign(this,n),this.calcBoundingBox()}freeSubdivPointer(){this.subdivPointer&&(vr.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0)}dispose(){super.dispose(),this.freeSubdivPointer()}calcBoundingBox(){let e=this.originalGeometry;e.boundingSphere===null&&(e.boundingSphere=new Er,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=e.boundingSphere));let t=e.attributes.position,i=e.boundingSphere.center;wg.setFromBufferAttribute(t),wg.getCenter(i),e.boundingSphere.radius=i.distanceTo(wg.max),isNaN(e.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),wg.getSize(au);let n={width:au.x,height:au.y,depth:au.z};return this.userData.parameters=n,n}static build(e,t,i,n){var l;let r,a,s,o=(l=e==null?void 0:e.phongAngle)!=null?l:35;i===!1&&(o=-1),t&&(gt.free_bvh(t),gt.free_subdivision_surface(t));try{r=vr.allocate(e,n)}catch(d){console.error(d,e),r=vr.allocate({positionWASM:MT,indexWASM:CT,verticesPerFaceWASM:ET},n)}if(gt.set_destination_refinement_level(r,0),a=vr.buildLevel(r,!0,o),e.subdivisions>0)try{gt.set_destination_refinement_level(r,e.subdivisions),s=vr.buildLevel(r,!1,o)}catch(d){try{gt.set_destination_refinement_level(r,e.subdivisions-1),s=vr.buildLevel(r,!1,o)}catch(u){s=null}}else s=null;return{subdivPointer:r,originalGeometry:a,subdividedGeometry:s}}static primitiveToQuads(e,t,i){e.widthSegments>16&&(e.widthSegments=16),e.heightSegments>16&&(e.heightSegments=16),e.depthSegments>16&&(e.depthSegments=16),e.radialSegments>16&&(e.radialSegments=16),e.type==="DodecahedronGeometry"&&(e.detail=0);let n=e.shape!==void 0||e.path!==void 0?t.geometry:_g(e,i,!1),r;e.type==="TorusGeometry"&&e.arc===Math.PI*2?r=n.getClosedTorusIndicesForBooleanOrSubdiv():r=n.getIndex();let a,s,o,l;({positions:a,triIndices:l}=xg(n.getAttribute("position"),r));let d;if(e.type==="CylinderGeometry"&&e.cornerRadius===0&&e.hollow===0&&e.openEnded===!1){let u=e.radialSegments*e.heightSegments*3*2,c=u+e.radialSegments*3;d=[u,c]}return{indices:s,verticesPerFace:o}=DT(a,l,n,d),{positions:a,indices:s,verticesPerFace:o}}static allocate(e,t){var _;let i,n,r,a=[],s=[];e.positionWASM&&e.positionWASM.length>0?(i=e.positionWASM,n=e.indexWASM,r=e.verticesPerFaceWASM):(i=MT,n=CT,r=ET);let o=i.length,l=n.length,d=r.length,u=i.length+a.length+s.length,c=n.length+r.length,f=u*Float32Array.BYTES_PER_ELEMENT+c*Uint32Array.BYTES_PER_ELEMENT,h=u*Float32Array.BYTES_PER_ELEMENT,p=c*Uint32Array.BYTES_PER_ELEMENT,m=gt._malloc(f),g=new Float32Array(gt.HEAPF32.buffer,m,u),v=new Uint32Array(gt.HEAPU32.buffer,m+h,c);g.set(i,0),g.set(a,i.length),g.set(s,i.length+a.length),v.set(n,0),v.set(r,n.length);let y;(_=e==null?void 0:e.scaleBaked)!=null&&_.some(x=>x!==1)&&(y=new Ee().makeScale(...e.scaleBaked)),t&&(y?y.premultiply(t):y=t);let b=y?gt.alloc_subdivision_surface2(m,o,m+h,l,m+h+n.length*Uint32Array.BYTES_PER_ELEMENT,d,y.elements):gt.alloc_subdivision_surface(m,o,m+h,l,m+h+n.length*Uint32Array.BYTES_PER_ELEMENT,d);return gt._free(m),b}static buildLevel(e,t,i,n,r){let a=r?gt.get_mesh_data2(e,t?gt.Level.CONTROL:gt.Level.REFINED,i,r.elements):gt.get_mesh_data(e,t?gt.Level.CONTROL:gt.Level.REFINED,i),s=8,o=gt.HEAPU32.subarray(a>>2,(a>>2)+s),l=o.subarray(4,8),d=0,u=gt.HEAPU32[o[d]>>2],c=gt.HEAPF32.subarray(u>>2,(u>>2)+l[d]);d++;let f=gt.HEAPU32[o[d]>>2],h=gt.HEAPF32.subarray(f>>2,(f>>2)+l[d]);d++;let p=gt.HEAPU32[o[d]>>2],m=gt.HEAPU32.subarray(p>>2,(p>>2)+l[d]);d++;let g=gt.HEAPU32[o[d]>>2],v=gt.HEAPU32.subarray(g>>2,(g>>2)+l[d]);if(d++,n===void 0){let y=new dt;if(y.setIndex(new tc(v,1)),y.setAttribute("position",new Ke(c,3)),y.setAttribute("normal",new Ke(h,3)),t){y.setAttribute("faceMap",new tc(m,1));let b=new Float32Array(h.length/3*4).fill(0);y.setAttribute("color",new _t(b,4))}return gt.free_mesh_data(a),y.userData.type="SubdivGeometry",y}n.getAttribute("position").copyArray(c),n.getAttribute("normal").copyArray(h),n.attributes.position.needsUpdate=!0,n.attributes.normal.needsUpdate=!0,gt.free_mesh_data(a)}static freeSubdivPointer(e){gt.free_bvh(e),gt.free_subdivision_surface(e)}static buildControlCageWireframe(e,t,i){let n=gt.get_wireframe_data_for_base_level(e),r=4,a=gt.HEAPU32.subarray(n>>2,(n>>2)+r),s=a.subarray(2,4),o=0,l=gt.HEAPU32[a[o]>>2],d=gt.HEAPF32.subarray(l>>2,(l>>2)+s[o]);o++;let u=gt.HEAPU32[a[o]>>2],c=gt.HEAPU32.subarray(u>>2,(u>>2)+s[o]);if(t===void 0){let f=new dt;f.setAttribute("position",new Ke(d,3));let h=new Float32Array(d.length);for(let p=0,m=d.length;p<m;)h[p++]=i.r,h[p++]=i.g,h[p++]=i.b;return f.setAttribute("color",new _t(h,3)),f.setIndex(new tc(c,1)),gt.free_wireframe_data_for_base_level(n),f}t.getAttribute("position").copyArray(d),t.attributes.position.needsUpdate=!0,gt.free_wireframe_data_for_base_level(n)}static updateCollabMesh(e,t,i){let n=t===0;n||gt.set_destination_refinement_level(e,t);let r=i?gt.get_topological_data2(e,n?gt.Level.CONTROL:gt.Level.REFINED,i.elements):gt.get_topological_data(e,n?gt.Level.CONTROL:gt.Level.REFINED),a=6,s=gt.HEAPU32.subarray(r>>2,(r>>2)+a),o=s.subarray(3,6),l=0,d=gt.HEAPU32[s[l]>>2],u=new Float32Array(gt.HEAPF32.subarray(d>>2,(d>>2)+o[l]));l++;let c=gt.HEAPU32[s[l]>>2],f=new Uint32Array(gt.HEAPU32.subarray(c>>2,(c>>2)+o[l]));l++;let h=gt.HEAPU32[s[l]>>2],p=new Uint8Array(gt.HEAPU32.subarray(h>>2,(h>>2)+o[l]));return gt.free_topological_data(r),{positions:u,indices:f,verticesPerFace:p}}},TT=["getX","getY","getZ"];function xg(e,t){let i={},n=t?t.count:e.count,r=0,a=[],s=[],o=1e4;for(let d=0;d<n;d++){let u=t?t.getX(d):d,c="";for(let f=0;f<3;f++)c+=`${~~(e[TT[f]](u)*o)},`;if(c in i)a.push(i[c]);else{for(let f=0;f<3;f++)s.push(e[TT[f]](u));i[c]=r,a.push(r),r++}}let l=[];for(let d=0;d<a.length;d+=3)a[d]===a[d+1]||a[d]===a[d+2]||a[d+1]===a[d+2]||l.push(a[d],a[d+1],a[d+2]);return{positions:s,triIndices:l}}var kg=new E,Pb=new E,Ib=new E,Ob=new E;function DT(e,t,i,n){let r=[],a=[];if(i.userData.shape!==void 0&&i.userData.parameters.depth===0&&i.userData.shape.shapeHoles.length===0){let l=i.userData.shape.extractShapePointsToFlatArray([]),d=i.userData.parameters.spikes;if(i.userData.type==="EllipseGeometry"&&d<=24&&d%4===0&&i.userData.parameters.angle>=360){let f=l.length/2/d;l=l.filter((h,p)=>Math.floor(p/2)%f===0)}let u=0;for(let f=0;f<l.length;f+=2)u+=(l[f]-l[(f===0?l.length:f)-2])*(l[f+1]+l[(f===0?l.length:f)-1]);e.length=0;let c=0;if(u<0)for(let f=0;f<l.length;f+=2)e.push(l[f],l[f+1],0),r.push(c++);else for(let f=l.length-2;f>=0;f-=2)e.push(l[f],l[f+1],0),r.push(c++);return a.push(c),{indices:r,verticesPerFace:a}}let s=new Float32Array([i.userData.parameters.depth])[0],o=0;for(;o<t.length;){if(i.useNgonForTopBottomFaceDuringBake){let l=0;if((e[t[o]*3+2]===s||e[t[o]*3+2]===0)&&l++,(e[t[o+1]*3+2]===s||e[t[o+1]*3+2]===0)&&l++,(e[t[o+2]*3+2]===s||e[t[o+2]*3+2]===0)&&l++,l===3)break}if(t[o+1]===t[o+3]&&t[o+2]===t[o+5]||t[o+0]===t[o+3]&&t[o+2]===t[o+4]){kg.set(e[t[o]*3],e[t[o]*3+1],e[t[o]*3+2]),Pb.set(e[t[o+1]*3],e[t[o+1]*3+1],e[t[o+1]*3+2]),Ib.set(e[t[o+4]*3],e[t[o+4]*3+1],e[t[o+4]*3+2]),Ob.set(e[t[o+5]*3],e[t[o+5]*3+1],e[t[o+5]*3+2]),Pb.sub(kg).normalize(),Ib.sub(kg).normalize(),Ob.sub(kg).normalize();let l=Pb.cross(Ib).dot(Ob);Math.abs(l)>.005||n&&n.some((d,u)=>u%2===1?!1:o>=n[u]&&o<n[u+1])?(r.push(t[o],t[o+1],t[o+2]),a.push(3),o+=3):(r.push(t[o],t[o+1],t[o+4],t[o+5]),a.push(4),o+=6)}else r.push(t[o],t[o+1],t[o+2]),a.push(3),o+=3}if(i.useNgonForTopBottomFaceDuringBake){let l=[],d=[],u=0;for(let c=0,f=0;c<e.length;c+=3,f++)e[c+2]===0&&(l.push(f),u++),e[c+2]===s&&d.push(f);if(i.userData.parameters.extrudeBevelSize===0){let c=d[0];d[0]=d[1],d[1]=c}l.reverse(),r.push(...l,...d),a.push(u,u)}return{indices:r,verticesPerFace:a}}var uo={};kB(uo,{calcBoolean:()=>hte,calcBooleanTopological:()=>fte,freeMeshSet:()=>vte,getMeshSet:()=>pte,hasOpenEdges:()=>mte,transformMeshSet:()=>gte});var PT,dte=new Promise(e=>{PT=e}),Sg;function cte(){if(Sg)return Sg;function e(){return ri(this,null,function*(){let t="https://unpkg.com/@splinetool/boolean-wasm@0.9.526/build",i=ee.e(7417).then(ee.bind(ee,67417)),[n,r]=yield Promise.all([i,fetch(`${t}/boolean.wasm`).then(o=>o.arrayBuffer())]),a=n.default,s=yield a({wasmBinary:r});PT(s)})}return Sg=e(),Sg}var Nt,su;dte.then(e=>Nt=e);function ute(e,t,i){let n,r;e.userData.parameters.type==="TorusGeometry"&&e.userData.parameters.arc===Math.PI*2?r=e.getClosedTorusIndicesForBooleanOrSubdiv():r=e.getIndex();let{positions:a,triIndices:s}=xg(e.getAttribute("position"),r),o;if(t&&i){let{indices:l,verticesPerFace:d}=DT(a,s,e);o=d.length,n=[];for(let u=0,c=0;u<o;u++){n.push(d[u]);for(let f=0;f<d[u];f++)n.push(l[c++])}}else{let l=s.length;n=Array(l+l/3),o=0;for(let d=0,u=0;u<n.length;)n[u++]=3,o++,n[u++]=s[d++],n[u++]=s[d++],n[u++]=s[d++]}return{positions:a,faceIndices:n,nFaces:o}}function IT(e){let t=e.length,i=t*Uint32Array.BYTES_PER_ELEMENT,n=t*Float32Array.BYTES_PER_ELEMENT,r=Number.isInteger(e[0])?i:n,a=Nt._malloc(r);return(Number.isInteger(e[0])?new Uint32Array(Nt.HEAPU32.buffer,a,t):new Float32Array(Nt.HEAPF32.buffer,a,t)).set(e,0),a}function OT(e){switch(e){case 0:return Nt.OP.UNION;case 1:return Nt.OP.INTERSECTION;case 2:return Nt.OP.A_MINUS_B;case 3:return Nt.OP.B_MINUS_A;case 4:return Nt.OP.SYMMETRIC_DIFFERENCE;case 5:return Nt.OP.ALL;default:throw new Error("Unknown boolean operation "+e)}}function fte(e,t){su===void 0&&(su=Nt.init_csg());let i=IT(e),n=Nt.csg_calc_topological(su,i,e.length,OT(t));Nt._free(i);let r=6,a=Nt.HEAPU32.subarray(n>>2,(n>>2)+r),s=a.subarray(3,6),o=0,l=Nt.HEAPU32[a[o]>>2],d=new Float32Array(Nt.HEAPF32.subarray(l>>2,(l>>2)+s[o]));o++;let u=Nt.HEAPU32[a[o]>>2],c=new Uint32Array(Nt.HEAPU32.subarray(u>>2,(u>>2)+s[o]));o++;let f=Nt.HEAPU32[a[o]>>2],h=new Uint8Array(Nt.HEAPU32.subarray(f>>2,(f>>2)+s[o]));return Nt.free_mesh_data(n),{positions:d,indices:c,verticesPerFace:h}}function hte(e,t,i,n){su===void 0&&(su=Nt.init_csg());let r=IT(e),a=Nt.csg_calc(su,r,e.length,n,OT(t));Nt._free(r);let s=5,o=Nt.HEAPU32.subarray(a>>2,(a>>2)+s),l=o.subarray(2,5),d=0,u=Nt.HEAPU32[o[d]>>2],c=Nt.HEAPF32.subarray(u>>2,(u>>2)+l[d]);d++;let f=Nt.HEAPU32[o[d]>>2],h=Nt.HEAPF32.subarray(f>>2,(f>>2)+l[d]);d++;let p=l[d];i.setAttribute("position",new Ke(c,3)),i.setAttribute("normal",new Ke(h,3));let m=Nt.HEAPF32.subarray((a>>2)+5,(a>>2)+5+6);return i.boundingSphere===null&&(i.boundingSphere=new Er),i.boundingSphere.radius=-1,i.userData.parameters={width:m[3]*2,height:m[4]*2,depth:m[5]*2},Nt.free_mesh_data(a),p}function pte(e,t,i){if(Nt===void 0)return-1;let n,r,a;if(t&&e.userData.positions!==void 0){let v=e.userData;a=v.verticesPerFace.length,n=v.positions,r=Array(v.verticesPerFace.reduce((y,b)=>y+b,0)+a);for(let y=0,b=0,_=0;y<v.verticesPerFace.length;y++){r[_++]=v.verticesPerFace[y];for(let x=0;x<v.verticesPerFace[y];x++)r[_++]=v.indices[b++]}}else({positions:n,faceIndices:r,nFaces:a}=ute(e,t,i));let s=n.length,o=r.length,l=n.length,d=r.length,u=l*Float32Array.BYTES_PER_ELEMENT+d*Uint32Array.BYTES_PER_ELEMENT,c=l*Float32Array.BYTES_PER_ELEMENT,f=d*Uint32Array.BYTES_PER_ELEMENT,h=Nt._malloc(u),p=new Float32Array(Nt.HEAPF32.buffer,h,l),m=new Uint32Array(Nt.HEAPU32.buffer,h+c,d);p.set(n,0),m.set(r,0);let g=Nt.get_csg_mesh(h,s,h+c,o,a);return Nt._free(h),g}function mte(e){return Nt.has_open_edges(e)}function gte(e,t){Nt.transform_csg_mesh(e,t.elements)}function vte(e){Nt.free_csg_mesh(e)}var yte={ConeGeometry:B$,CubeGeometry:L$,CylinderGeometry:UE,DodecahedronGeometry:N$,EllipseGeometry:xb,HelixGeometry:yee,IcosahedronGeometry:bee,LatheGeometry:_ee,NonParametricGeometry:Cee,PolygonGeometry:yT,PyramidGeometry:Eee,RectangleGeometry:bT,SphereGeometry:Pee,PlaneGeometry:Iee,BackdropGeometry:Oee,StarGeometry:_T,TextFrameGeometry:Ree,TorusGeometry:zee,TorusKnotGeometry:Lee,TriangleGeometry:Fee,PathGeometry:ete,VectorGeometry:dd},jT=e=>yte[e.type].create(e);function ou(e){return e!==null&&"booleanOp"in e}var RT=class extends ob(cr){constructor(){super(...arguments),this.booleanMeshSetAddress=-1,this.booleanWasTransformed=!1,this.booleanMatrixInvOld=new Ee}updateVisible(e){super.updateVisible(e),this.visible=!ou(this.parent)&&this.visible,ou(this.parent)&&this.parent.invalidateDownstreamBooleanData()}freeBooleanPointer(){this.booleanMeshSetAddress!==-1&&(uo.freeMeshSet(this.booleanMeshSetAddress),this.booleanMeshSetAddress=-1)}invalidateDownstreamBooleanData(e=!1){return e?this.booleanWasTransformed=!0:this.freeBooleanPointer(),ou(this.parent)?this.parent.invalidateDownstreamBooleanData():this}invalidateUpstreamBooleanData(){this.freeBooleanPointer();for(let e of this.children)e instanceof RT&&(e.freeBooleanPointer(),ou(e)&&e.invalidateUpstreamBooleanData())}updateTransformState(e,t){let i=super.updateTransformState(e,t);return i&&ou(this.parent)&&this.invalidateDownstreamBooleanData(!0),i}onVariableUpdate(e=!1){super.onVariableUpdate(e),ou(this.parent)&&this.invalidateDownstreamBooleanData(!0)}},Ag=new Xi;function jb(e,t=0,i=e.count,n,r){let a=1/0,s=1/0,o=1/0,l=-1/0,d=-1/0,u=-1/0;for(let c=t;c<i;c++){let f=e.getX(c),h=e.getY(c),p=e.getZ(c);f<a&&(a=f),h<s&&(s=h),p<o&&(o=p),f>l&&(l=f),h>d&&(d=h),p>u&&(u=p)}Ag.min.set(a,s,o),Ag.max.set(l,d,u),Ag.getCenter(n),Ag.getSize(r).multiplyScalar(.5)}var bte=new dt,_te=new cf,Ir=class extends RT{constructor(e,t){super(bte,_te),this.super_Entity(e,t)}updateState(e,t){this.updateState_Entity(e,t)}updateEntityBoxSize(e,t){let i=this.geometry.getAttribute("position");i!==void 0?jb(i,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:i.count,e,t):super.updateEntityBoxSize(e,t)}},zT=class{constructor(e){e=e!=null?e:{},this.name=e.name,this.type=e.type,this.node=e.node,this.size=e.size,this.needsUpdate=e.needsUpdate}get value(){return this.node.value}set value(e){this.node.value=e}},ol=class{constructor(e){this.hashProperties=void 0,this.isNode=!0,this.shortcuts={},this.uuid=at.generateUUID(),this.type=e,this.name=""}analyze(e,t){t=t!=null?t:{},e.analyzing=!0,this.build(e.addFlow(t.slot,t.cache,t.context),"v4"),e.clearVertexNodeCode(),e.clearFragmentNodeCode(),e.removeFlow(),e.analyzing=!1}analyzeAndFlow(e,t,i){return i=i!=null?i:{},this.analyze(e,i),this.flow(e,t,i)}flow(e,t,i){i=i!=null?i:{},e.addFlow(i.slot,i.cache,i.context);let n={result:this.build(e,t),code:e.clearNodeCode(),extra:e.context.extra};return e.removeFlow(),n}build(e,t,i){t=t!=null?t:this.getType(e,t);let n=e.getNodeData(i!=null?i:this);return e.analyzing&&this.appendDepsNode(e,n,t),e.nodes.indexOf(this)===-1&&e.nodes.push(this),this.updateFrame!==void 0&&e.updaters.indexOf(this)===-1&&e.updaters.push(this),this.generate(e,t,i)}updateFrame(e){}generateReadonly(e,t,i,n,r,a){return""}generate(e,t,i,n,r){return""}parse(e,t,i,n){}appendDepsNode(e,t,i){t.deps=(t.deps||0)+1;let n=e.getTypeLength(i);(n>(t.outputMax||0)||this.getType(e,i))&&(t.outputMax=n,t.output=i)}setName(e){this.name=e}getName(){return this.name}getType(e,t){return t==="sampler2D"||t==="samplerCube"?t:this.type}getHash(){let e="{",t,i;for(t in this)i=this[t],i instanceof ol&&(e+='"'+t+'":'+i.getHash()+",");if(this.hashProperties)for(let n=0;n<this.hashProperties.length;n++)t=this.hashProperties[n],i=this[t],e+='"'+t+'":"'+String(i)+'",';return e+='"id":"'+this.uuid+'"}',e}},wte=class{constructor(){this.nodes={},this.keywords={}}add(e){this.nodes[e.name]=e}addKeyword(e,t,i){i=i!==void 0?i:!0,this.keywords[e]={callback:t,cache:i}}remove(e){delete this.nodes[e.name]}removeKeyword(e){delete this.keywords[e]}get(e){return this.nodes[e]}getKeyword(e,t){return this.keywords[e].callback(t)}getKeywordData(e){return this.keywords[e]}contains(e){return this.nodes[e]!==void 0}containsKeyword(e){return this.keywords[e]!==void 0}},Or=new wte,vi=class extends ol{constructor(e,t){super(e),this.scope="",t=t!=null?t:{},this.shared=t.shared!==void 0?t.shared:!0,this.unique=t.unique!==void 0?t.unique:!1}build(e,t,i,n){if(t=t!=null?t:this.getType(e),this.getShared(e,t)){let r=this.getUnique(e,t);r&&this.uuid===void 0&&(this.uuid=at.generateUUID()),i=e.getUUID(i!=null?i:this.getUUID(),!r);let a=e.getNodeData(i),s=a.output||this.getType(e);if(e.analyzing)return(a.deps||0)>0||this.getLabel()?(this.appendDepsNode(e,a,t),this.generate(e,t,i)):super.build(e,t,i);if(r)return a.name=a.name||super.build(e,t,i),a.name;if(!this.getLabel()&&(!this.getShared(e,s)||e.context.ignoreCache||a.deps===1))return super.build(e,t,i);i=this.getUUID(!1);let o=this.getTemp(e,i);if(o)return e.format(o,s,t);{o=super.generate(e,t,i,a.output,n);let l=this.generate(e,s,i);return e.addNodeCode(o+" = "+l+";"),e.format(o,s,t)}}return super.build(e,t,i)}getShared(e,t){return t!=="sampler2D"&&t!=="samplerCube"&&this.shared}getUnique(e,t){return this.unique}setLabel(e){return this.label=e,this}getLabel(){return this.label}getUUID(e){let t=this.uuid;return typeof this.scope=="string"&&(t=this.scope+"-"+t),t}getTemp(e,t){t=t||this.uuid;let i=e.getVars()[t];return i?i.name:void 0}generate(e,t,i,n,r){return this.getShared(e,t)||console.error("TempNode is not shared"),i=i!=null?i:this.uuid,e.getTempVar(i,n!=null?n:this.getType(e),r,this.getLabel()).name}},jr=class extends vi{constructor(e,t){t=t!=null?t:{},t.shared=t.shared!==void 0?t.shared:!1,super(e,t),this.readonly=!1}setReadonly(e){return this.readonly=e,this.hashProperties=this.readonly?["value"]:void 0,this}getReadonly(){return this.readonly}generate(e,t,i,n,r,a){i=e.getUUID(i!=null?i:this.getUUID()),n=n!=null?n:this.getType(e);let s=e.getNodeData(i);return this.getReadonly()&&this.generateReadonly!==void 0?this.generateReadonly(e,t,i,n,r,a):e.isShader("vertex")?(s.vertex||(s.vertex=e.createVertexUniform(n,this,r,a,this.getLabel())),e.format(s.vertex.name,n,t)):(s.fragment||(s.fragment=e.createFragmentUniform(n,this,r,a,this.getLabel())),e.format(s.fragment.name,n,t))}},Un=class extends jr{constructor(e=0,t){super("v2"),this.nodeType="Vector2",this.value=e instanceof Y?e:new Y(e,t)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}generateReadonly(e,t,i,n,r,a){return e.format("vec2("+this.value.x+", "+this.value.y+")",n,t)}},va=class extends jr{constructor(e=0,t,i){super("v3"),this.nodeType="Vector3",this.value=e instanceof E?e:new E(e,t,i)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}get z(){return this.value.z}set z(e){this.value.z=e}generateReadonly(e,t,i,n,r,a){return e.format("vec3("+this.value.x+", "+this.value.y+", "+this.value.z+")",n,t)}},Rr=class extends pt{constructor(e,t,i,n){super(e,t,i),this.isColorA=!0,this.a=n}setRGBA(e,t,i,n){super.setRGB(e,t,i),this.a=n}copy(e){return super.copy(e),this.a="a"in e?e.a:1,this}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}setStyle(e,t="srgb"){let i;if(e==="transparent")return this.setRGBA(0,0,0,0),this;if(i=/^((?:rgb|hsl)a?)\(([^)]*)\)/.exec(e)){let n,r=i[1],a=i[2];switch(r){case"rgb":case"rgba":if(n=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.a=r==="rgba"?parseFloat(n[4]):1,super.setStyle(e,t);break;case"hsl":case"hsla":if(n=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)%\s*,\s*(\d*\.?\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.a=r==="hsla"?parseFloat(n[4]):1,super.setStyle(e,t);break}}return super.setStyle(e,t)}get x(){return this.r}get y(){return this.g}get z(){return this.b}get w(){return this.a}set x(e){this.r=e}set y(e){this.g=e}set z(e){this.b=e}set w(e){this.a=e}},fo=class extends jr{constructor(e){super("v4"),this.nodeType="Vector4",this.value=e instanceof Rr?e:new Rr(e.r,e.g,e.b,e.a)}generateReadonly(e,t,i,n,r,a){return e.format("vec4("+this.value.r+", "+this.value.g+", "+this.value.b+", "+this.value.a+")",n,t)}},xte=/^\s*([a-z_0-9]+)\s([a-z_0-9]+)\s*\((.*?)\)/i,BT=/[a-z_0-9]+/gi,Ge=class extends vi{constructor(e,t,i,n,r){super(r),this.src="",this.nodeType="Function",this.useKeywords=!0,this.includes=[],this.extensions={},this.keywords={},this.isMethod=r===void 0,this.isInterface=!1,this.parse(e,t,i,n)}getShared(e,t){return!this.isMethod}getType(e){return e.getTypeByFormat(this.type)}getInputByName(e){if(this.inputs){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}}getIncludeByName(e){if(this.includes){let t=this.includes.length;for(;t--;)if(this.includes[t].name===e)return this.includes[t]}}generate(e,t,i,n,r){let a,s=0,o=this.src;if(this.includes)for(let d=0;d<this.includes.length;d++)e.include(this.includes[d],this);for(let d in this.extensions)e.extensions[d]=!0;let l=[];for(;a=BT.exec(this.src);)l.push(a);for(let d=0;d<l.length;d++){let u=l[d],c=u[0],f=this.isMethod?!this.getInputByName(c):!0,h=c;if(this.keywords[c]||this.useKeywords&&f&&Or.containsKeyword(c)){let p=this.keywords[c];if(!p){let m=Or.getKeywordData(c);m.cache&&(p=e.keywords[c]),p=p||Or.getKeyword(c,e),m.cache&&(e.keywords[c]=p)}h=p.build(e)}c!==h&&o[u.index+s-1]!=="."&&(o=o.substring(0,u.index+s)+h+o.substring(u.index+c.length+s),s+=h.length-c.length),this.getIncludeByName(h)===void 0&&Or.contains(h)&&e.include(Or.get(h))}return t==="source"?o:this.isMethod?(this.isInterface||e.include(this,void 0,o),this.name):e.format("( "+o+" )",this.getType(e),t)}parse(e,t,i,n){if(this.src=e||"",this.includes=t!=null?t:[],this.extensions=i!=null?i:{},this.keywords=n!=null?n:{},this.isMethod){let r=xte.exec(this.src);if(this.inputs=[],r&&r.length==4){this.type=r[1],this.name=r[2];let a=r[3].match(BT);if(a){let s=0;for(;s<a.length;){let o=a[s++],l;o==="in"||o==="out"||o==="inout"?l=a[s++]:(l=o,o="");let d=a[s++];this.inputs.push({name:d,type:l,qualifier:o})}}this.isInterface=this.src.indexOf("{")===-1}else this.type="",this.name=""}}},kte=/^([a-z_0-9]+)\s([a-z_0-9]+)\s?\=?\s?(.*?)(\;|$)/i,LT=class extends vi{constructor(e="",t){super(),this.src="",this.useDefine=!1,this.nodeType="Const",this.parse(e||LT.PI,void 0,void 0,void 0,t)}getType(e){return e.getTypeByFormat(this.type)}parse(e,t,i,n,r){this.src=e||"";let a,s,o="",l=kte.exec(e);this.useDefine=r!=null?r:this.src.charAt(0)==="#",l&&l.length>1?(s=l[1],a=l[2],o=l[3]):(a=this.src,s="f"),this.name=a,this.type=s,this.value=o}build(e,t){if(t==="source"){if(this.value)return this.useDefine?"#define "+this.name+" "+this.value:"const "+this.type+" "+this.name+" = "+this.value+";";if(this.useDefine)return this.src}return e.include(this),e.format(this.name,this.getType(e),t)}generate(e,t,i,n,r){return e.format(this.name,this.getType(e),t)}},yi=LT;yi.PI="PI",yi.PI2="PI2",yi.RECIPROCAL_PI="RECIPROCAL_PI",yi.RECIPROCAL_PI2="RECIPROCAL_PI2",yi.LOG2="LOG2",yi.EPSILON="EPSILON";var Ste=new RegExp(`^structs*([a-z_0-9]+)s*{s*((.|
)*?)}`,"gim"),Ate=new RegExp("s*(w*?)s*(w*?)(=|;)","gim"),FT=class extends vi{constructor(e=""){super(),this.inputs=[],this.src="",this.nodeType="Struct",this.parse(e)}getType(e){return e.getTypeByFormat(this.name)}getInputByName(e){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}generate(e,t,i,n,r){return t==="source"?this.src+";":e.format("( "+this.src+" )",this.getType(e),t)}parse(e=""){this.src=e,this.inputs=[];let t=Ste.exec(e);if(t){let i=t[2],n;for(;n=Ate.exec(i);)this.inputs.push({type:n[1],name:n[2]});this.name=t[1]}else this.name="";this.type=this.name}},Rb=class extends vi{constructor(e){super("v2",{shared:!1}),this.nodeType="UV",this.index=e!=null?e:0}generate(e,t){e.requires.uv[this.index]=!0;let i=this.index>0?this.index+1:"",n=e.isShader("vertex")?"uv"+i:"vUv"+i;return e.format(n,this.getType(e),t)}};Or.addKeyword("uv",function(){return new Rb}),Or.addKeyword("uv2",function(){return new Rb(1)});var lu=class extends vi{constructor(e,t){super("v4"),this.nodeType="ColorSpace",this.input=e,this.method=t!=null?t:lu.LINEAR_TO_LINEAR,this.hashProperties=["method"]}static getEncodingComponents(e){switch(e){case ss:return["Linear"];case Dt:return["sRGB"];default:return[]}}generate(e,t){var s;let i=this.input.build(e,"v4"),n=this.getType(e),r=lu.Nodes[this.method],a=e.include(r);if(a===lu.LINEAR_TO_LINEAR)return e.format(i,n,t);if(((s=r.inputs)==null?void 0:s.length)===2){let o=this.factor.build(e,"f");return e.format(a+"( "+i+", "+o+" )",n,t)}else return e.format(a+"( "+i+" )",n,t)}fromEncoding(e){let t=lu.getEncodingComponents(e);this.method="LinearTo"+t[0],this.factor=t[1]}fromDecoding(e){let t=lu.getEncodingComponents(e);this.method=t[0]+"ToLinear",this.factor=t[1]}},Ss=lu;Ss.Nodes={LinearToLinear:new Ge(["vec4 LinearToLinear( in vec4 value ) {","	return value;","}"].join(`
`)),sRGBToLinear:new Ge(["vec4 sRGBToLinear( in vec4 value ) {","	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );","}"].join(`
`)),LinearTosRGB:new Ge(["vec4 LinearTosRGB( in vec4 value ) {","	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );","}"].join(`
`))},Ss.LINEAR_TO_LINEAR="LinearToLinear",Ss.SRGB_TO_LINEAR="sRGBToLinear",Ss.LINEAR_TO_SRGB="LinearTosRGB";var Ii=class extends Ge{constructor(e="",t,i,n,r){super(e,r,n,i,t),this.nodeType="Expression"}},ho=class extends jr{constructor(e=new gn,t,i,n){super("v4",{shared:!0}),this.nodeType="Texture",this.value=e,this.uv=t!=null?t:new Rb,this.bias=i,this.project=n!==void 0?n:!1}getTexture(e,t){return super.generate(e,t,this.value.uuid,"t")}generate(e,t){var d;if(t==="sampler2D")return this.getTexture(e,t);let i=this.getTexture(e,t),n=this.uv.build(e,this.project?"v4":"v2"),r=this.bias?this.bias.build(e,"f"):void 0;r===void 0&&e.context.bias&&(r=e.context.bias.setTexture(this).build(e,"f"));let a,s;this.project?a="texture2DProj":a=r?"tex2DBias":"tex2D",r?s=a+"( "+i+", "+n+", "+r+" )":s=a+"( "+i+", "+n+" )";let o={include:e.isShader("vertex"),ignoreCache:!0},l=this.getType(e);return e.addContext(o),this.colorSpace=(d=this.colorSpace)!=null?d:new Ss(new Ii("",l)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(s),s=this.colorSpace.build(e,l),e.removeContext(),e.format(s,l,t)}},$e=class extends jr{constructor(e){super("f"),this.nodeType="Float",this.value=e!=null?e:0}generateReadonly(e,t,i,n,r,a){return e.format(this.value+(this.value%1?"":".0"),n,t)}},NT=class extends vi{constructor(e,t){super(),this.inputs=[],this.nodeType="FunctionCall",this.value=e,this.inputs=t!=null?t:[]}getFunction(){return this.value}getType(e){return this.value.getType(e)}generate(e,t,i,n,r){n=this.getType(e);let a=this.value,s=a.build(e,t)+"( ",o=[];if(a.inputs){for(let l=0;l<a.inputs.length;l++){let d=a.inputs[l],u=this.inputs[l]||this.inputs[d.name];o.push(u.build(e,e.getTypeByFormat(d.type)))}s+=o.join(", ")+" )"}return e.format(s,n,t)}},UT=class extends vi{constructor(e,t,i=UT.ADD){super(),this.nodeType="Operator",this.type=e.type,this.a=e,this.b=t,this.op=i}getType(e){let t=this.a.getType(e),i=this.b.getType(e);return e.isTypeMatrix(t)?"v4":e.getTypeLength(i)>e.getTypeLength(t)?i:t}generate(e,t){let i=this.getType(e);this.type=i;let n=this.a.build(e,i),r=this.b.build(e,i);return e.format("( "+n+" "+this.op+" "+r+" )",i,t)}},zr=UT;zr.ADD="+",zr.SUB="-",zr.MUL="*",zr.DIV="/";var bi=class extends vi{constructor(e,t=bi.ABS,i,n){super(),this.nodeType="Math",this.a=e,typeof t!="string"?this.b=t:n=t,typeof i!="string"?this.c=i:n=i,this.method=n,this.hashProperties=["method"]}getNumInputs(e){switch(this.method){case bi.MIX:case bi.CLAMP:case bi.REFRACT:case bi.SMOOTHSTEP:case bi.FACEFORWARD:return 3;case bi.MIN:case bi.MAX:case bi.MOD:case bi.STEP:case bi.REFLECT:case bi.DISTANCE:case bi.DOT:case bi.CROSS:case bi.POW:return 2;default:return 1}}getInputType(e){let t=e.getTypeLength(this.a.getType(e)),i=this.b?e.getTypeLength(this.b.getType(e)):0,n=this.c?e.getTypeLength(this.c.getType(e)):0;return t>i&&t>n?this.a.getType(e):i>n?this.b.getType(e):this.c.getType(e)}getType(e){switch(this.method){case bi.LENGTH:case bi.DISTANCE:case bi.DOT:return"f";case bi.CROSS:return"v3"}return this.getInputType(e)}generate(e,t){let i,n,r,a=this.a?e.getTypeLength(this.a.getType(e)):0,s=this.b?e.getTypeLength(this.b.getType(e)):0,o=this.c?e.getTypeLength(this.c.getType(e)):0,l=this.getInputType(e),d=this.getType(e);switch(this.type=d,this.method){case bi.NEGATE:return e.format("( -"+this.a.build(e,l)+" )",l,t);case bi.INVERT:return e.format("( 1.0 - "+this.a.build(e,l)+" )",l,t);case bi.CROSS:i=this.a.build(e,"v3"),n=this.b.build(e,"v3");break;case bi.STEP:i=this.a.build(e,a===1?"f":l),n=this.b.build(e,l);break;case bi.MIN:case bi.MAX:case bi.MOD:i=this.a.build(e,l),n=this.b.build(e,s===1?"f":l);break;case bi.REFRACT:i=this.a.build(e,l),n=this.b.build(e,l),r=this.c.build(e,"f");break;case bi.MIX:i=this.a.build(e,l),n=this.b.build(e,l),r=this.c.build(e,o===1?"f":l);break;default:i=this.a.build(e,l),this.b&&(n=this.b.build(e,l)),this.c&&(r=this.c.build(e,l));break}let u=[];u.push(i),n&&u.push(n),r&&u.push(r);let c=this.getNumInputs(e);if(u.length!==c)throw Error(`Arguments not match used in "${this.method}". Require ${c}, currently ${u.length}.`);return e.format(this.method+"( "+u.join(", ")+" )",d,t)}},Et=bi;Et.RAD="radians",Et.DEG="degrees",Et.EXP="exp",Et.EXP2="exp2",Et.LOG="log",Et.LOG2="log2",Et.SQRT="sqrt",Et.INV_SQRT="inversesqrt",Et.FLOOR="floor",Et.CEIL="ceil",Et.NORMALIZE="normalize",Et.FRACT="fract",Et.SATURATE="saturate",Et.SIN="sin",Et.COS="cos",Et.TAN="tan",Et.ASIN="asin",Et.ACOS="acos",Et.ARCTAN="atan",Et.ABS="abs",Et.SIGN="sign",Et.LENGTH="length",Et.NEGATE="negate",Et.INVERT="invert",Et.MIN="min",Et.MAX="max",Et.MOD="mod",Et.STEP="step",Et.REFLECT="reflect",Et.DISTANCE="distance",Et.DOT="dot",Et.CROSS="cross",Et.POW="pow",Et.MIX="mix",Et.CLAMP="clamp",Et.REFRACT="refract",Et.SMOOTHSTEP="smoothstep",Et.FACEFORWARD="faceforward";var rh=class extends vi{constructor(e,t,i){super("v4"),this.nodeType="TextureCubeUV",this.value=e,this.uv=t,this.bias=i}bilinearCubeUV(e,t,i,n){var o,l,d,u;let r=new NT(rh.Nodes.bilinearCubeUV,[t,i,n]);this.colorSpaceTL=(o=this.colorSpaceTL)!=null?o:new Ss(new Ii("","v4")),this.colorSpaceTL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTL.input.parse(r.build(e)+".tl"),this.colorSpaceTR=(l=this.colorSpaceTR)!=null?l:new Ss(new Ii("","v4")),this.colorSpaceTR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTR.input.parse(r.build(e)+".tr"),this.colorSpaceBL=(d=this.colorSpaceBL)!=null?d:new Ss(new Ii("","v4")),this.colorSpaceBL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBL.input.parse(r.build(e)+".bl"),this.colorSpaceBR=(u=this.colorSpaceBR)!=null?u:new Ss(new Ii("","v4")),this.colorSpaceBR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBR.input.parse(r.build(e)+".br");let a={include:e.isShader("vertex"),ignoreCache:!0};e.addContext(a),this.colorSpaceTLExp=new Ii(this.colorSpaceTL.build(e,"v4"),"v4"),this.colorSpaceTRExp=new Ii(this.colorSpaceTR.build(e,"v4"),"v4"),this.colorSpaceBLExp=new Ii(this.colorSpaceBL.build(e,"v4"),"v4"),this.colorSpaceBRExp=new Ii(this.colorSpaceBR.build(e,"v4"),"v4"),e.removeContext();let s=new Ii("mix( mix( cubeUV_TL, cubeUV_TR, cubeUV.f.x ), mix( cubeUV_BL, cubeUV_BR, cubeUV.f.x ), cubeUV.f.y )","v4");return s.keywords.cubeUV_TL=this.colorSpaceTLExp,s.keywords.cubeUV_TR=this.colorSpaceTRExp,s.keywords.cubeUV_BL=this.colorSpaceBLExp,s.keywords.cubeUV_BR=this.colorSpaceBRExp,s.keywords.cubeUV=r,s}generate(e,t){if(e.isShader("fragment")){let i=this.uv,n=this.bias||e.context.roughness,r=new NT(rh.Nodes.roughnessToMip,[n]),a=new Et(r,rh.Nodes.m0,rh.Nodes.cubeUV_maxMipLevel,Et.CLAMP),s=new Et(a,Et.FLOOR),o=new Et(a,Et.FRACT),l=this.bilinearCubeUV(e,this.value,i,s),d=this.bilinearCubeUV(e,this.value,i,new zr(s,new $e(1).setReadonly(!0),zr.ADD)),u=new Et(l,d,o,Et.MIX);return e.format(u.build(e),"v4",t)}else return console.warn("TextureCubeUVNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t)}},zb=rh;zb.Nodes=function(){let e=new FT(`struct TextureCubeUVData {
			vec4 tl;
			vec4 tr;
			vec4 br;
			vec4 bl;
			vec2 f;
		}`),t=new yi("float cubeUV_maxMipLevel 8.0",!0),i=new yi("float cubeUV_minMipLevel 4.0",!0),n=new yi("float cubeUV_maxTileSize 256.0",!0),r=new yi("float cubeUV_minTileSize 16.0",!0),a=new Ge(`float getFace(vec3 direction) {
				vec3 absDirection = abs(direction);
				float face = -1.0;
				if (absDirection.x > absDirection.z) {
					if (absDirection.x > absDirection.y)
						face = direction.x > 0.0 ? 0.0 : 3.0;
					else
						face = direction.y > 0.0 ? 1.0 : 4.0;
				} else {
					if (absDirection.z > absDirection.y)
						face = direction.z > 0.0 ? 2.0 : 5.0;
					else
						face = direction.y > 0.0 ? 1.0 : 4.0;
				}
				return face;
		}`);a.useKeywords=!1;let s=new Ge(`vec2 getUV(vec3 direction, float face) {
				vec2 uv;
				if (face == 0.0) {
					uv = vec2(direction.z, direction.y) / abs(direction.x); // pos x
				} else if (face == 1.0) {
					uv = vec2(-direction.x, -direction.z) / abs(direction.y); // pos y
				} else if (face == 2.0) {
					uv = vec2(-direction.x, direction.y) / abs(direction.z); // pos z
				} else if (face == 3.0) {
					uv = vec2(-direction.z, direction.y) / abs(direction.x); // neg x
				} else if (face == 4.0) {
					uv = vec2(-direction.x, direction.z) / abs(direction.y); // neg y
				} else {
					uv = vec2(direction.x, direction.y) / abs(direction.z); // neg z
				}
				return 0.5 * (uv + 1.0);
		}`);s.useKeywords=!1;let o=new Ge(`TextureCubeUVData bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
			float face = getFace(direction);
			float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
			mipInt = max(mipInt, cubeUV_minMipLevel);
			float faceSize = exp2(mipInt);
			float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
			vec2 uv = getUV(direction, face) * (faceSize - 1.0);
			vec2 f = fract(uv);
			uv += 0.5 - f;
			if (face > 2.0) {
				uv.y += faceSize;
				face -= 3.0;
			}
			uv.x += face * faceSize;
			if(mipInt < cubeUV_maxMipLevel){
				uv.y += 2.0 * cubeUV_maxTileSize;
			}
			uv.y += filterInt * 2.0 * cubeUV_minTileSize;
			uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
			uv *= texelSize;
			vec4 tl = texture2D(envMap, uv);
			uv.x += texelSize;
			vec4 tr = texture2D(envMap, uv);
			uv.y += texelSize;
			vec4 br = texture2D(envMap, uv);
			uv.x -= texelSize;
			vec4 bl = texture2D(envMap, uv);
			return TextureCubeUVData( tl, tr, br, bl, f );
		}`,[e,a,s,t,i,n,r]);o.useKeywords=!1;let l=new yi("float r0 1.0",!0),d=new yi("float v0 0.339",!0),u=new yi("float m0 -2.0",!0),c=new yi("float r1 0.8",!0),f=new yi("float v1 0.276",!0),h=new yi("float m1 -1.0",!0),p=new yi("float r4 0.4",!0),m=new yi("float v4 0.046",!0),g=new yi("float m4 2.0",!0),v=new yi("float r5 0.305",!0),y=new yi("float v5 0.016",!0),b=new yi("float m5 3.0",!0),_=new yi("float r6 0.21",!0),x=new yi("float v6 0.0038",!0),k=new yi("float m6 4.0",!0),w=[l,d,u,c,f,h,p,m,g,v,y,b,_,x,k],S=new Ge(`float roughnessToMip(float roughness) {
			float mip = 0.0;
			if (roughness >= r1) {
				mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
			} else if (roughness >= r4) {
				mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
			} else if (roughness >= r5) {
				mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
			} else if (roughness >= r6) {
				mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
			} else {
				mip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25
			}
			return mip;
		}`,w);return{bilinearCubeUV:o,roughnessToMip:S,m0:u,cubeUV_maxMipLevel:t}}();var du=class extends vi{constructor(e){super("v3"),this.nodeType="Normal",this.scope=e!=null?e:du.VIEW}getShared(){return this.scope===du.WORLD}build(e,t,i,n){let r=e.context[this.scope+"Normal"];return r?r.build(e,t,i,n):super.build(e,t,i)}generate(e,t,i,n,r){let a;switch(this.scope){case du.VIEW:e.isShader("vertex")?a="transformedNormal":a="geometryNormal";break;case du.LOCAL:e.isShader("vertex")?a="objectNormal":(e.requires.normal=!0,a="vObjectNormal");break;case du.WORLD:e.isShader("vertex")?a="inverseTransformDirection( transformedNormal, viewMatrix ).xyz":(e.requires.worldNormal=!0,a="vWNormal");break}return e.format(a,this.getType(e),t)}},Br=du;Br.LOCAL="local",Br.WORLD="world",Br.VIEW="view",Br.NORMAL="normal",Or.addKeyword("viewNormal",function(){return new Br(Br.VIEW)}),Or.addKeyword("localNormal",function(){return new Br(Br.NORMAL)}),Or.addKeyword("worldNormal",function(){return new Br(Br.WORLD)});var po=class extends vi{constructor(e){super("v3"),this.nodeType="Position",this.scope=e!=null?e:po.LOCAL}getType(){switch(this.scope){case po.PROJECTION:return"v4"}return this.type}getShader(){switch(this.scope){case po.LOCAL:case po.WORLD:return!1}return!0}generate(e,t,i,n,r){let a;switch(this.scope){case po.LOCAL:e.isShader("vertex")?a="transformed":(e.requires.position=!0,a="vPosition");break;case po.WORLD:if(e.isShader("vertex"))return"( modelMatrix * vec4( transformed, 1.0 ) ).xyz";e.requires.worldPosition=!0,a="vWPosition";break;case po.VIEW:a=e.isShader("vertex")?"-mvPosition.xyz":"vViewPosition";break;case po.PROJECTION:a=e.isShader("vertex")?"( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )":"vec4( 0.0 )";break}return e.format(a,this.getType(),t)}},Na=po;Na.LOCAL="local",Na.WORLD="world",Na.VIEW="view",Na.PROJECTION="projection",Or.addKeyword("position",function(){return new Na}),Or.addKeyword("worldPosition",function(){return new Na(Na.WORLD)}),Or.addKeyword("viewPosition",function(){return new Na(Na.VIEW)});var As=class extends vi{constructor(e){super("v3"),this.nodeType="Reflect",this.scope=e!=null?e:As.CUBE}getUnique(e){return!e.context.viewNormal}getType(){switch(this.scope){case As.SPHERE:return"v2"}return this.type}generate(e,t){let i=this.getUnique(e);if(e.isShader("fragment")){let n;switch(this.scope){case As.VECTOR:{let r=new Br(Br.VIEW),a=e.context.roughness,s=r.build(e,"v3"),o=new Na(Na.VIEW).build(e,"v3"),l=a?a.build(e,"f"):void 0,d=`reflect( -normalize( ${o} ), ${s} )`;l&&(d=`normalize( mix( ${d}, ${s}, ${l} * ${l} ) )`);let u=`inverseTransformDirection( ${d}, viewMatrix )`;i?(e.addNodeCode(`vec3 reflectVec = ${u};`),n="reflectVec"):n=u;break}case As.CUBE:{let r=new As(As.VECTOR).build(e,"v3"),a="vec3( -"+r+".x, "+r+".yz )";i?(e.addNodeCode(`vec3 reflectCubeVec = ${a};`),n="reflectCubeVec"):n=a;break}case As.SPHERE:{let r="normalize( ( viewMatrix * vec4( "+new As(As.VECTOR).build(e,"v3")+", 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) ).xy * 0.5 + 0.5";i?(e.addNodeCode(`vec2 reflectSphereVec = ${r};`),n="reflectSphereVec"):n=r;break}}return e.format(n,this.getType(),t)}else return console.warn("ReflectNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.type,t)}},cu=As;cu.CUBE="cube",cu.SPHERE="sphere",cu.VECTOR="vector";var Mte=class extends vi{constructor(e=new ho,t,i){super("v4"),this.nodeType="TextureCube",this.value=e,this.radianceNode=new zb(this.value,t!=null?t:new cu(cu.VECTOR),i),this.irradianceNode=new zb(this.value,new Br(Br.WORLD),new $e(1).setReadonly(!0))}generate(e,t){return e.isShader("fragment")?(e.require("irradiance"),e.context.bias&&e.context.bias.setTexture(this.value),(e.slot==="irradiance"?this.irradianceNode:this.radianceNode).build(e,t)):(console.warn("TextureCubeNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t))}},Cte=class extends jr{constructor(e=new U0,t,i){super("v4",{shared:!0}),this.nodeType="CubeTexture",this.value=e,this.uv=t!=null?t:new cu,this.bias=i}getTexture(e,t){return super.generate(e,t,this.value.uuid,"tc")}generate(e,t){var l,d;if(t==="samplerCube")return this.getTexture(e,t);let i=this.getTexture(e,t),n=(l=this.uv)==null?void 0:l.build(e,"v3"),r=this.bias?this.bias.build(e,"f"):void 0;r===void 0&&e.context.bias&&(r=e.context.bias.setTexture(this).build(e,"f"));let a;r?a="texCubeBias( "+i+", "+n+", "+r+" )":a="texCube( "+i+", "+n+" )";let s={include:e.isShader("vertex"),ignoreCache:!0},o=this.getType(e);return e.addContext(s),this.colorSpace=(d=this.colorSpace)!=null?d:new Ss(new Ii("",o)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(a),a=this.colorSpace.build(e,o),e.removeContext(),e.format(a,o,t)}},Ete=`
uniform int frameIndex;
uniform vec2 resolution;
uniform mat4 previousModelViewMatrix;
uniform mat4 previousProjectionMatrix;

varying vec4 vCurrentPosition;
varying vec4 vPreviousPosition;
`,Tte=`
layout(location = 1) out vec4 gVelocity;

uniform int frameIndex;
uniform vec2 resolution;

varying vec4 vCurrentPosition;
varying vec4 vPreviousPosition;

const vec2 haltonSequence[16] = vec2[16](
vec2( 0.000000,-0.333334),
vec2(-0.500000, 0.333334),
vec2( 0.500000,-0.777778),
vec2(-0.750000,-0.111112),
vec2( 0.250000, 0.555556),
vec2(-0.250000,-0.555556),
vec2( 0.750000, 0.111112),
vec2(-0.875000, 0.777778),
vec2(0.125000, -0.925926),
vec2(-0.375000, -0.259260),
vec2(0.625000, 0.407408),
vec2(-0.625000, -0.703704),
vec2(0.375000, -0.037038),
vec2(-0.125000, 0.629630),
vec2(0.875000, -0.481482),
vec2(-0.937500, 0.185186));

vec2 vogelDiskSample(int sampleIndex, int sampleCount, float angle) {
  const float goldenAngle = 2.399963f; // radians
  float r = sqrt(float(sampleIndex) + 0.5f) / sqrt(float(sampleCount));
  float theta = float(sampleIndex) * goldenAngle + angle;
  float sine = sin(theta);
  float cosine = cos(theta);
  return vec2(cosine, sine) * r;
}

// Derived from the interleaved gradient function from Jimenez 2014 http:goo.gl/eomGso
float getNoiseInterleavedGradient(vec2 screenPos) {
    vec3 magic = vec3(0.06711056f, 0.00583715f, 52.9829189f);
    return fract(magic.z * fract(dot(screenPos, magic.xy)));
}

`,Dte=`
// TODO: This could be generated CPU side and passed to the shader every frame
const vec2 haltonSequence[16] = vec2[16](
vec2( 0.000000,-0.333334),
vec2(-0.500000, 0.333334),
vec2( 0.500000,-0.777778),
vec2(-0.750000,-0.111112),
vec2( 0.250000, 0.555556),
vec2(-0.250000,-0.555556),
vec2( 0.750000, 0.111112),
vec2(-0.875000, 0.777778),
vec2(0.125000, -0.925926),
vec2(-0.375000, -0.259260),
vec2(0.625000, 0.407408),
vec2(-0.625000, -0.703704),
vec2(0.375000, -0.037038),
vec2(-0.125000, 0.629630),
vec2(0.875000, -0.481482),
vec2(-0.937500, 0.185186));

// TODO: Pass correct view size
vec2 offset = haltonSequence[frameIndex];
offset.x /= resolution.x;
offset.y /= resolution.y;

vec4 currentPosition = gl_Position;
vec4 currentPositionJittered = currentPosition + (vec4(offset.x, offset.y, 0.0, 0.0) * currentPosition.w);

// We want to calculate the velocity with unjittered positions
// so that things that are not moving get a velocity = 0
vCurrentPosition = currentPosition;
vPreviousPosition = previousProjectionMatrix * previousModelViewMatrix * vec4(transformed, 1.0);
#ifdef OUTLINE_COMPENSATION
vPreviousPosition.xy += OUTLINE_COMPENSATION;
#endif
gl_Position = currentPositionJittered;

`,Pte=`
vec2 oldPos = vPreviousPosition.xy;
    oldPos /= vPreviousPosition.w;
    oldPos.xy = (oldPos.xy+1.)/2.0;

vec2 newPos = vCurrentPosition.xy;
    newPos /= vCurrentPosition.w;
    newPos.xy = (newPos.xy+1.)/2.0;

vec2 velocity = (newPos - oldPos);

// Discard fully transparent pixels 
if (gl_FragColor.a <= 0.0) discard;

gVelocity = vec4(velocity, 0.0, 1.0);
`,VT=["x","y","z","w"],Ite=["float","vec2","vec3","vec4"],Ote={float:"f",vec2:"v2",vec3:"v3",vec4:"v4",mat4:"v4",int:"i",bool:"b","float[]":"f[]","vec4[]":"v4[]"},jte={t:"sampler2D",tc:"samplerCube",b:"bool",i:"int",f:"float",c:"vec3",v2:"vec2",v3:"vec3",v4:"vec4",m3:"mat3",m4:"mat4","f[]":"float[]","v4[]":"vec4[]"},Rte=class{constructor(){this.includes={consts:{},functions:{},structs:{}},this.cache="",this.slot="",this.shader="",this.context={},this.needsJitter=!0,this.getIncludesCode=function(){function e(t,i){return t.deps.length-i.deps.length}return function(t,i){let n=this.getIncludes(t,i);if(!n)return"";let r="";n=n.sort(e);for(let a=0;a<n.length;a++)n[a].src&&(r+=n[a].src+`
`);return r}}(),this.slots=[],this.caches=[],this.contexts=[],this.keywords={},this.nodeData={},this.fragmentVariables={},this.fragmentParsVariables={},this.vertexParsVariables={},this.requires={uv:[],color:[],transparent:!1,irradiance:!1,position:!1,worldPosition:!1,normal:!1,worldNormal:!1,vWorldViewDir:!1,modelMatrix:!1,viewMatrix:!1,projectionMatrix:!1},this.includes={consts:[],functions:[],structs:[]},this.attributes={},this.prefixCode=["#ifdef TEXTURE_LOD_EXT","	#define texCube(a, b) textureCube(a, b)","	#define texCubeBias(a, b, c) textureCubeLodEXT(a, b, c)","	#define tex2D(a, b) texture2D(a, b)","	#define tex2DBias(a, b, c) texture2DLodEXT(a, b, c)","#else","	#define texCube(a, b) textureCube(a, b)","	#define texCubeBias(a, b, c) textureCube(a, b, c)","	#define tex2D(a, b) texture2D(a, b)","	#define tex2DBias(a, b, c) texture2D(a, b, c)","#endif",`
			// NOTE: Include Spline's blending modes. This could be part of BlendNode
			#define SPE_BLENDING_NORMAL 0
			#define SPE_BLENDING_MULTIPLY 1
			#define SPE_BLENDING_SCREEN 2
			#define SPE_BLENDING_OVERLAY 3

			vec3 spe_normalBlend( vec3 a, vec3 b, float alpha ) {
				return mix( a, b, alpha );
			}

			vec3 spe_multiplyBlend( vec3 a, vec3 b, float alpha ) {
				return mix( a, a * b, alpha );
			}

			vec3 spe_screenBlend( vec3 a, vec3 b, float alpha ) {
				vec3 tmp = 1.0 - ( 1.0 - a ) * ( 1.0 - b );
				return mix( a, tmp, alpha );
			}

			vec3 spe_overlayBlend( vec3 a, vec3 b, float alpha ) {
				vec3 tmp = mix( 1. - 2. * (1. - a) * (1. - b), 2. * a * b, step( a, vec3(.5) ) );
				return clamp( mix( a, tmp, alpha ), 0.0, 1.0 );
			}

			vec3 spe_blend( vec3 a, vec3 b, float alpha, int mode ) {
				if ( mode == SPE_BLENDING_NORMAL ) return spe_normalBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_MULTIPLY ) return spe_multiplyBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_SCREEN ) return spe_screenBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_OVERLAY ) return spe_overlayBlend( a, b, alpha );
				return vec3( 1.0 );
			}
			`,"#include <packing>","#include <common>"].join(`
`),this.parsCode={vertex:["float neighbor_offset = 0.0001;",""].join(`
`),fragment:["float accumAlpha = 0.0;",`void accumulateAlpha(float alpha) {
					accumAlpha += (1.0 - accumAlpha) * alpha;
				}`,""].join(`
`)},this.code={vertex:"",fragment:""},this.nodeCode={vertex:"",fragment:""},this.resultCode={vertex:"",fragment:""},this.finalCode={vertex:"",fragment:""},this.inputs={uniforms:{list:[],vertex:[],fragment:[]},arrayUniforms:{list:[],vertex:[],fragment:[]},vars:{varying:[],vertex:[],fragment:[]}},this.defines={},this.uniforms={},this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.updaters=[],this.nodes=[],this.analyzing=!1}build(e,t){this.addVertexParsCode(Ete),this.addFragmentParsCode(Tte),this.buildShader("vertex",e),this.buildShader("fragment",t);for(let i=0;i<this.requires.uv.length;i++)if(this.requires.uv[i]){let n=i>0?i+1:"";this.addVaryCode("varying vec2 vUv"+n+";"),i>0&&this.addVertexParsCode("attribute vec2 uv"+n+";"),this.addVertexFinalCode("vUv"+n+" = uv"+n+";")}return this.requires.color[0]&&(this.addVaryCode("varying vec4 vColor;"),this.addVertexParsCode("attribute vec4 color;"),this.addVertexFinalCode("vColor = color;")),this.requires.color[1]&&(this.addVaryCode("varying vec4 vColor2;"),this.addVertexParsCode("attribute vec4 color2;"),this.addVertexFinalCode("vColor2 = color2;")),this.requires.position&&(this.addVaryCode("varying vec3 vPosition;"),this.addVertexFinalCode("vPosition = transformed;")),this.requires.worldPosition,this.requires.normal&&(this.addVaryCode("varying vec3 vObjectNormal;"),this.addVertexFinalCode("vObjectNormal = normal;")),this.requires.modelMatrix&&this.addFragmentParsCode("uniform mat4 modelMatrix;"),this.requires.viewMatrix&&this.addFragmentParsCode("uniform mat4 viewMatrix;"),this.requires.projectionMatrix&&this.addFragmentParsCode("uniform mat4 projectionMatrix;"),this.requires.worldNormal&&(this.addVaryCode("varying vec3 vWNormal;"),this.addVertexFinalCode("vWNormal = inverseTransformDirection( transformedNormal, viewMatrix ).xyz;")),this.requires.vWorldViewDir&&(this.addVaryCode("varying vec3 vWorldViewDir;"),this.addVertexFinalCode("vWorldViewDir = isPerspectiveMatrix( projectionMatrix ) ?  ( (modelMatrix * vec4(position, 1.0)).xyz - cameraPosition ) : vec3( -viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2] );")),this.needsJitter&&(this.addVertexFinalCode(Dte),this.addFragmentFinalCode(Pte)),this}buildShader(e,t){this.resultCode[e]=t.build(this.setShader(e),"v4")}setMaterial(e,t){return this.defines={},this}addFlow(e,t,i){return this.addSlot(e).addCache(t).addContext(i)}removeFlow(){return this.removeSlot().removeCache().removeContext()}addCache(e){return this.cache=e!=null?e:"",this.caches.push(this.cache),this}removeCache(){return this.caches.pop(),this.cache=this.caches[this.caches.length-1]||"",this}addContext(e){return this.context=Object.assign({},this.context,e),this.context.extra=this.context.extra||{},this.contexts.push(this.context),this}removeContext(){return this.contexts.pop(),this.context=this.contexts[this.contexts.length-1]||{},this}addSlot(e){return this.slot=e||"",this.slots.push(this.slot),this}removeSlot(){return this.slots.pop(),this.slot=this.slots[this.slots.length-1]||"",this}addFragmentVariable(e,t){this.fragmentVariables[e]===void 0&&(this.addFragmentCode(`${t} ${e};`),this.fragmentVariables[e]="")}addFragmentParsVariable(e,t){this.fragmentParsVariables[e]===void 0&&(this.addFragmentParsCode(`${t} ${e};`),this.fragmentParsVariables[e]="")}addVertexParsVariable(e,t){this.vertexParsVariables[e]===void 0&&(this.addVertexParsCode(`${t} ${e};`),this.vertexParsVariables[e]="")}addVertexCode(e){this.addCode(e,"vertex")}addFragmentCode(e){this.addCode(e,"fragment")}addCode(e,t){this.code[t!=null?t:this.shader]+=e+`
`}addVertexNodeCode(e){this.addNodeCode(e,"vertex")}addFragmentNodeCode(e){this.addNodeCode(e,"fragment")}addNodeCode(e,t){this.nodeCode[t!=null?t:this.shader]+=e+`
`}clearNodeCode(e){e=e!=null?e:this.shader;let t=this.nodeCode[e];return this.nodeCode[e]="",t}clearVertexNodeCode(){return this.clearNodeCode("vertex")}clearFragmentNodeCode(){return this.clearNodeCode("fragment")}addVertexFinalCode(e){this.addFinalCode(e,"vertex")}addFragmentFinalCode(e){this.addFinalCode(e,"fragment")}addFinalCode(e,t){this.finalCode[t!=null?t:this.shader]+=e+`
`}addVertexParsCode(e){this.addParsCode(e,"vertex")}addFragmentParsCode(e){this.addParsCode(e,"fragment")}addParsCode(e,t){this.parsCode[t!=null?t:this.shader]+=e+`
`}addVaryCode(e){this.addVertexParsCode(e),this.addFragmentParsCode(e)}isCache(e){return this.caches.indexOf(e)!==-1}isSlot(e){return this.slots.indexOf(e)!==-1}define(e,t){this.defines[e]=t===void 0?1:t}require(e){this.requires[e]=!0}isDefined(e){return this.defines[e]!==void 0}getVar(e,t,i,n="varying",r="V",a=""){let s=this.getVars(n),o=s[e];if(!o){let l=s.length;o={name:i||"node"+r+l+(a?"_"+a:""),type:t},s.push(o),s[e]=o}return o}getTempVar(e,t,i,n){return this.getVar(e,t,i,this.shader,"T",n)}getAttribute(e,t){if(!this.attributes[e]){let i=this.getVar(e,t);this.addVertexParsCode("attribute "+t+" "+e+";"),this.addVertexFinalCode(i.name+" = "+e+";"),this.attributes[e]={varying:i,name:e,type:t}}return this.attributes[e]}getCode(e){return[this.prefixCode,this.parsCode[e],this.getVarListCode(this.getVars("varying"),"varying"),this.getVarListCode(this.inputs.uniforms[e],"uniform"),this.getVarListCode(this.inputs.arrayUniforms[e],"uniform"),this.getIncludesCode("consts",e),this.getIncludesCode("structs",e),this.getIncludesCode("functions",e),"void main() {",this.getVarListCode(this.getVars(e)),this.code[e],this.resultCode[e],this.finalCode[e],"}"].join(`
`)}getVarListCode(e,t){t=t!=null?t:"";let i="";for(let n=0,r=e.length;n<r;++n){let a=e[n],s=a.type,o=a.name,l=a.size,d=this.getFormatByType(s);if(d===void 0)throw new Error("Node pars "+d+" not found.");d.includes("[]")?i+=t+" "+d.substring(0,d.length-2)+" "+o+`[${l}];
`:i+=t+" "+d+" "+o+`;
`}return i}getVars(e){return this.inputs.vars[e!=null?e:this.shader]}getNodeData(e){let t=e instanceof ol?e.uuid:e;return this.nodeData[t]=this.nodeData[t]||{}}createUniform(e,t,i,n,r,a){if(t.includes("[]")){let s=this.inputs.arrayUniforms,o=s.list.length,l=new zT({type:t,size:i.size,name:n||"nodeUA"+o+(a?"_"+a:""),node:i,needsUpdate:r});return s.list.push(l),s[e].push(l),s[e][l.name]=l,this.uniforms[l.name]=l,l}else{let s=this.inputs.uniforms,o=s.list.length,l=new zT({type:t,name:n||"nodeU"+o+(a?"_"+a:""),node:i,needsUpdate:r});return s.list.push(l),s[e].push(l),s[e][l.name]=l,this.uniforms[l.name]=l,l}}createVertexUniform(e,t,i,n,r){return this.createUniform("vertex",e,t,i,n,r)}createFragmentUniform(e,t,i,n,r){return this.createUniform("fragment",e,t,i,n,r)}include(e,t,i){var a;let n;if(e=typeof e=="string"?Or.get(e):e,this.context.include===!1)return e.name;e instanceof Ge?n=this.includes.functions:e instanceof yi?n=this.includes.consts:e instanceof FT&&(n=this.includes.structs);let r=n[this.shader]=n[this.shader]||[];if(e){let s=r[e.name];if(s||(s=r[e.name]={node:e,deps:[]},r.push(s),s.src=e.build(this,"source")),e instanceof Ge&&t&&r[t.name]&&r[t.name].deps.indexOf(e)===-1&&(r[t.name].deps.push(e),(a=e.includes)==null?void 0:a.length)){let o=0;do this.include(e.includes[o++],t);while(o<e.includes.length)}return i&&(s.src=i),e.name}else throw new Error("Include not found.")}colorToVectorProperties(e){return e.replace("r","x").replace("g","y").replace("b","z").replace("a","w")}colorToVector(e){return e.replace(/c/g,"v3")}getIncludes(e,t){return this.includes[e][t||this.shader]}getConstructorFromLength(e){return Ite[e-1]}isTypeMatrix(e){return/^m/.test(e)}getTypeLength(e){return e==="f"?1:parseInt(this.colorToVector(e).substr(1))}getTypeFromLength(e){return e===1?"f":"v"+e}findNode(...e){for(let t=0;t<arguments.length;t++){let i=e[t];if(i!=null&&i.isNode)return i}}resolve(...e){for(let t=0;t<arguments.length;t++){let i=e[t];if(i!==void 0){if(i.isNode)return i;if(i.isTexture)switch(i.mapping){case Rl:case zl:return new Cte(i);case tf:return new Mte(new ho(i));default:return new ho(i)}else{if(i.isVector2)return new Un(i);if(i.isVector3)return new va(i);if(i.isVector4)return new fo(i)}}}}format(e,t,i){switch(this.colorToVector(i+" <- "+t)){case"f <- v2":return e+".x";case"f <- v3":return e+".x";case"f <- v4":return e+".x";case"f <- i":case"f <- b":return"float( "+e+" )";case"v2 <- f":return"vec2( "+e+" )";case"v2 <- v3":return e+".xy";case"v2 <- v4":return e+".xy";case"v2 <- i":case"v2 <- b":return"vec2( float( "+e+" ) )";case"v3 <- f":return"vec3( "+e+" )";case"v3 <- v2":return"vec3( "+e+", 0.0 )";case"v3 <- v4":return e+".xyz";case"v3 <- i":case"v3 <- b":return"vec2( float( "+e+" ) )";case"v4 <- f":return"vec4( "+e+" )";case"v4 <- v2":return"vec4( "+e+", 0.0, 1.0 )";case"v4 <- v3":return"vec4( "+e+", 1.0 )";case"v4 <- i":case"v4 <- b":return"vec4( float( "+e+" ) )";case"i <- f":case"i <- b":return"int( "+e+" )";case"i <- v2":return"int( "+e+".x )";case"i <- v3":return"int( "+e+".x )";case"i <- v4":return"int( "+e+".x )";case"b <- f":return"( "+e+" != 0.0 )";case"b <- v2":return"( "+e+" != vec2( 0.0 ) )";case"b <- v3":return"( "+e+" != vec3( 0.0 ) )";case"b <- v4":return"( "+e+" != vec4( 0.0 ) )";case"b <- i":return"( "+e+" != 0 )"}return e}getTypeByFormat(e){return Ote[e]||e}getFormatByType(e){return jte[e]||e}getUUID(e,t){return t=t!==void 0?t:!0,t&&this.cache&&(e=this.cache+"-"+e),e}getElementByIndex(e){return VT[e]}getIndexByElement(e){return VT.indexOf(e)}isShader(e){return this.shader===e}setShader(e){return this.shader=e,this}mergeDefines(e){for(let t in e)this.defines[t]=e[t];return this.defines}mergeUniform(e){for(let t in e)this.uniforms[t]=e[t];return this.uniforms}getTextureEncodingFromMap(e){let t;return e?e.isTexture&&(t=e.encoding):t=ss,t===ss&&this.context.gamma&&(t=Dt),t}},Hi=class extends jr{constructor(e=0,t,i,n){super("c"),this.nodeType="Color",this.value=e instanceof Rr?e:new Rr(e||0,t,i,n)}setRGBA(e){this.value.setRGBA(e.r,e.g,e.b,e.a)}generate(e,t,i,n,r,a){i=e.getUUID(i!=null?i:this.getUUID()),n=n!=null?n:this.getType(e);let s=e.getNodeData(i),o=this.getReadonly()&&this.generateReadonly!==void 0;if(this.alpha){let l=this.alpha.build(e,"f");e.addFragmentNodeCode(`accumAlpha += ( 1.0 - accumAlpha ) * ${l};`)}return o?this.generateReadonly(e,t,i,n,r,a):e.isShader("vertex")?(s.vertex||(s.vertex=e.createVertexUniform(n,this,r,a,this.getLabel())),e.format(s.vertex.name,n,t)):(s.fragment||(s.fragment=e.createFragmentUniform(n,this,r,a,this.getLabel())),e.format(s.fragment.name,n,t))}generateReadonly(e,t,i,n,r,a){return e.format("vec3("+this.value.r+", "+this.value.g+", "+this.value.b+")",n,t)}},xi=class extends jr{constructor(e){super("i"),this.nodeType="Int",this.value=Math.floor(e!=null?e:0)}generateReadonly(e,t,i,n,r,a){return e.format(this.value.toString(),n,t)}},yr=class extends jr{constructor(e){super("b"),this.nodeType="Bool",this.value=e!=null?e:!1}generateReadonly(e,t,i,n){return e.format(this.value?"true":"false",n,t)}},cd=class extends jr{constructor(e=1,t){super("f[]"),this.nodeType="FloatArray",this.size=e,this.value=Array.isArray(t)?t:typeof t=="number"?new Array(e).fill(t):new Array(e).fill(0)}},Bb=class extends jr{},zte=class extends Bb{constructor(e){super("v3"),this.image=e,this._value=new E}get value(){var e,t;return this._value.x=this.image.isVideo?(e=this.image.img.videoWidth)!=null?e:0:this.image.img.width,this._value.y=this.image.isVideo?(t=this.image.img.videoHeight)!=null?t:0:this.image.img.height,this._value}},Lb=class extends Bb{constructor(e,t){super("t"),this.image=e,this.wrap=t}get value(){return this.image.getTexture(this.wrap)}},HT=class extends jr{constructor(e){super("m3"),this.nodeType="Matrix3",this.value=e!=null?e:new Yi}generateReadonly(e,t,i,n,r,a){return e.format("mat3("+this.value.elements.join(", ")+")",n,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}},Ms=class extends jr{constructor(e){super("m4"),this.nodeType="Matrix4",this.value=e!=null?e:new Ee}generateReadonly(e,t,i,n,r,a){return e.format("mat4("+this.value.elements.join(", ")+")",n,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}};function GT(e,t,i){e.setUvTransform(i[0],i[1],t[0],t[1],0,0,0)}var Bte=class extends HT{constructor(e,t){super(new Yi),this.repeat=e,this.offset=t,GT(this.value,e,t)}updateMatrix(){GT(this.value,this.repeat,this.offset)}},ud=class extends jr{constructor(e=1,t){super("v4[]"),this.nodeType="Vector4Array",this.size=e,this.value=Array.isArray(t)?t:t instanceof Pt?new Array(e).fill(t):new Array(e).fill(new Pt(0))}},WT=class extends vi{constructor(e,t,i,n){super("v3"),this.nodeType="Blend",this.a=e,this.b=t,this.alpha=i,this.mode=n}generate(e,t){if(e.isShader("fragment")){let i=[];return i.push(this.a.build(e,"c")),i.push(this.b.build(e,"c")),i.push(this.alpha.build(e,"f")),i.push(this.mode.build(e,"i")),e.format("spe_blend("+i.join(",")+")",this.getType(e),t)}else return console.warn("BlendNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},qT=class extends vi{constructor(e,t){super("v3"),this.nodeType="CustomColor",this.color=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let i=e.include(qT.Nodes.customColor);e.addFragmentVariable(this.calpha,"float");let n=[];return n.push(this.color.build(e,"v3")),n.push(this.mask?`luminance(${this.mask.build(e,"v3")})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(i+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("CustomColorNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Fb=qT;Fb.Nodes=function(){return{customColor:new Ge(`vec3 customColor(vec3 color, float mask, float alpha, out float calpha) {
				float lalpha = alpha * mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha;

				return color;
			}`)}}();var ZT=class extends vi{constructor(e,t){super("v3"),this.nodeType="CustomNormal",this.cnormal=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let i=e.include(ZT.Nodes.customNormal);e.addFragmentVariable(this.calpha,"float");let n=[];return n.push(this.cnormal.build(e,"v3")),n.push("normal"),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(i+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("CustomNormalNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},YT=ZT;YT.Nodes=function(){return{customNormal:new Ge(`vec3 customNormal(vec3 cnormal, vec3 norm, float mask, float alpha, out float calpha) {
				vec3 normal = packNormalToRGB( norm ).rgb;
				normal *= step( vec3(0.5), cnormal );

				float lalpha = alpha * mask;
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * lalpha;

				return normal;
			}`)}}();var ah=class extends vi{constructor(e,t,i,n,r,a,s,o,l,d,u,c){super("v3"),this.nodeType="CustomTexture",this.texture=e,this.textureSize=t,this.crop=i,this.projection=n,this.axis=r,this.side=a,this.size=s,this.blending=o,this.mat=l,this.isMask=c,this.alpha=d,this.mode=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){e.require("position"),e.require("normal"),e.require("uv"),e.requires.uv=[!0],e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0;let i=`g${this.uuid.toString().replace(/-/g,"")}`,n;switch(this.projection.value){case 3:n=e.include(ah.Nodes.cylindrical);break;case 2:n=e.include(ah.Nodes.spherical);break;case 1:let a=["vec3(1.0, 0.0, 0.0)","vec3(0.0, 1.0, 0.0)","vec3(0.0, 0.0, 1.0)"][this.axis.value],s=["zy","xz","xy"][this.axis.value],o=new Ge(`
		vec3 ${i}_planarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
				vec2 projected = (1. + (position.${s})) / 2.;
				vec2 uvs = ( mat * vec3( (projected * 2. - 1.) / (size * .5), 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

				vec4 tmp = texture2D( tex, uvs );

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				${this.side.value===2?"":`lalpha *= step(0.0, ${this.side.value===1?"-1.0 * ":""}dot(vObjectNormal, ${a}));`}

				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}
				
				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}`);n=e.include(o);break;case 4:n=e.include(ah.Nodes.triplanar);break;default:n=e.include(ah.Nodes.uv);break}e.addFragmentVariable(this.calpha,"float");let r=[];if(r.push("normal"),r.push(this.texture.generate(e,"t")),r.push(this.textureSize.build(e,"v2")),r.push(this.crop.build(e,"f")),r.push(this.mat.build(e,"mat3")),r.push(this.size.build(e,"v2")),r.push(this.blending.build(e,"f")),r.push(this.isMask.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.mode.build(e,"i")),r.push(this.calpha),this.projection.value===4){let a=`${i}_writeUvs`,s=a+"0",o=a+"1",l=a+"2",d=`${i}_triplanarWeights`;e.addFragmentVariable(s,"vec2"),e.addFragmentVariable(o,"vec2"),e.addFragmentVariable(l,"vec2"),e.addFragmentVariable(d,"vec3"),r.push(s),r.push(o),r.push(l),r.push(d)}else{let a=`${i}_writeUvs`;e.addFragmentVariable(a,"vec2"),r.push(a)}return e.format(n+"("+r.join(",")+")",this.getType(e),t)}},Nb=ah;Nb.Nodes=function(){let e=new Ge(`
vec3 cylindricalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
                vec3 posN = normalize(position);
                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);
                float scaledHeight = position.y / (size.y * 0.5);
                float v =  (scaledHeight / 2.) + .5;

                vec2 calculatedUv = vec2(u,v);
				vec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

                vec2 df = fwidth(uvs);
               	if(df.x > 0.5) df.x = 0.;

				#ifdef GL_EXT_shader_texture_lod
                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#else
                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;
				
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}
`),t=new Ge(`
vec3 sphericalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
                vec3 posN = normalize(vPosition);
                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);
                float v = 0.5 + asin(posN.y) / 3.1415;

                vec2 calculatedUv = vec2(u,v);
				vec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

                vec2 df = fwidth(uvs);
               	if(df.x > 0.5) df.x = 0.;
				#ifdef GL_EXT_shader_texture_lod
                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#else
                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}
`),i=new Ge(`vec3 uvTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
				vec2 uvs = ( mat * vec3( vUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

				vec4 tmp = texture2D( tex, uvs );

				vec3 col = tmp.rgb;

				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}
				
				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}`),n=new Ge(`vec3 triplanarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUvs0, out vec2 writeUvs1, out vec2 writeUvs2, out vec3 writeWeights) {
				vec3 p = position;
				vec2 uv0 = (1.0 + p.xy) / 2.0;     
				vec2 uv1 = (1.0 + p.zy) / 2.0;		
				vec2 uv2 = (1.0 + p.xz) / 2.0;		
	
				uv0 = (mat * vec3((uv0 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;
				uv1 = (mat * vec3((uv1 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;
				uv2 = (mat * vec3((uv2 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;

				// Range from 3 to 128 seems to be good
				float exponent = (1.0 - blending) * 125.0 + 3.0;

				vec3 n = vObjectNormal;
				vec3 weights = abs(normalize(n));
				weights = pow(weights, vec3(exponent));
				weights /= dot(weights, vec3(1.0));

				// Write out all sets of UVs that we generated
				writeUvs0 = uv0;
				writeUvs1 = uv1;
				writeUvs2 = uv2;
				writeWeights = weights;

				// Derivatives for LOD
				vec2 df0 = fwidth(uv0);
				vec2 df1 = fwidth(uv1);
				vec2 df2 = fwidth(uv2);
				if (df0.x > 0.5) df0.x = 0.0;
				if (df1.x > 0.5) df1.x = 0.0;
				if (df2.x > 0.5) df2.x = 0.0;

				#ifdef GL_EXT_shader_texture_lod
                	vec4 tmp = 
						texture2DLodEXT(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + 
						texture2DLodEXT(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + 
						texture2DLodEXT(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;
				#else
                	vec4 tmp = 
						textureLod(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + 
						textureLod(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + 
						textureLod(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;

				// Apply cropping across all 3 planes
				if ( crop > 0.5 ) {
					if ( uv0.x < 0.0 || uv0.x > 1.0 || uv0.y < 0.0 || uv0.y > 1.0 )  {
						lalpha = 0.0;
					}
					if ( uv1.x < 0.0 || uv1.x > 1.0 || uv1.y < 0.0 || uv1.y > 1.0 )  {
						lalpha = 0.0;
					}
					if ( uv2.x < 0.0 || uv2.x > 1.0 || uv2.y < 0.0 || uv2.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;//n * 0.5 + 0.5;
			}			
			`);return{cylindrical:e,spherical:t,uv:i,triplanar:n}}();var sh=class extends vi{constructor(e,t,i,n,r,a,s,o,l,d,u,c){super("v3"),this.nodeType="Depth",this.gradientType=e,this.smooth=t,this.near=i,this.far=n,this.isVector=r,this.isWorldSpace=a,this.origin=s,this.direction=o,this.colors=l,this.steps=d,this.isMask=c,this.alpha=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let i=`g${this.uuid.toString().replace(/-/g,"")}`,n=new Ge(`vec3 ${i}_sdepth(float near, float far, vec3 origin, vec3 direction, vec4 colors[${i}_MAX_COLORS], float steps[${i}_MAX_COLORS], bool isMask, float mask, float alpha, out float calpha) {
               vec4 color = colors[0];
               #ifdef ${i}_IS_VECTOR
                   #ifdef ${i}_LINEAR
                       #ifdef ${i}_WORLDSPACE
                       float depth = vectorLinearWorldSpaceDepth(direction, origin, near, far);
                       #else
                       float depth = vectorLinearObjectSpaceDepth(direction, origin, near, far);
                       #endif
                   #else
                       #ifdef ${i}_WORLDSPACE
                           float depth = vectorSphericalWorldSpaceDepth(origin, near, far);
                       #else
                           float depth = vectorSphericalObjectSpaceDepth(origin, near, far);
                       #endif
                   #endif
               #else
                   float dist = length(vWPosition - cameraPosition);
			       float depth = ( dist - near ) / ( far - near );
               #endif


              float p;
              #ifdef ${i}_SMOOTH
				for ( int i = 1; i < ${i}_MAX_COLORS; i++ ) {
						p = clamp( ( depth - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
					}
              #else
                for ( int i = 1; i < ${i}_MAX_COLORS; i++ ) {
                   p = clamp(( depth - steps[i - 1] ) / ( steps[i] - steps[i - 1] ), 0.0, 1.0);
                   color = mix(color, colors[i], p);
                 }
              #endif

               float lalpha = alpha * color.a * mask;
               calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
			   accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
			   
               return color.rgb;
			}`,[sh.Nodes.vectorLinearWorldSpaceDepth,sh.Nodes.vectorLinearObjectSpaceDepth,sh.Nodes.vectorSphericalObjectSpaceDepth,sh.Nodes.vectorSphericalWorldSpaceDepth]);if(e.isShader("fragment")){e.define(`${i}_MAX_COLORS`,this.colors.value.length),this.smooth.value&&e.define(`${i}_SMOOTH`),this.isVector.value>.5&&e.define(`${i}_IS_VECTOR`),this.gradientType.value===0&&e.define(`${i}_LINEAR`),this.isWorldSpace.value>.5&&e.define(`${i}_WORLDSPACE`),e.require("worldPosition"),e.addFragmentVariable(this.calpha,"float");let r=e.include(n),a=[];return a.push(this.near.build(e,"f")),a.push(this.far.build(e,"f")),a.push(this.origin.build(e,"v3")),a.push(this.direction.build(e,"v3")),a.push(this.colors.build(e,"v4[]")),a.push(this.steps.build(e,"f[]")),a.push(this.isMask.build(e,"b")),a.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),a.push(this.alpha.build(e,"f")),a.push(this.calpha),e.format(r+"("+a.join(",")+")",this.getType(e),t)}else return console.warn("DepthNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},XT=sh;XT.Nodes=function(){let e=new Ge(`float vectorLinearWorldSpaceDepth(vec3 direction, vec3 origin, float near, float far) {
               vec3 n = normalize(direction);
               float dist = (n.x*(vWPosition.x - origin.x) + n.y*(vWPosition.y - origin.y) + n.z*(vWPosition.z - origin.z));
               return ( dist - near ) / ( far - near );
            }`),t=new Ge(`float vectorLinearObjectSpaceDepth(vec3 direction, vec3 origin, float near, float far) {
               vec3 n = normalize(direction);
               float dist = (n.x*(position.x - origin.x) + n.y*(position.y - origin.y) + n.z*(position.z - origin.z));
               return ( dist - near ) / ( far - near );
            }`),i=new Ge(`float vectorSphericalWorldSpaceDepth(vec3 origin, float near, float far) {
               float dist = length(vWPosition - origin);
               return ( dist - near ) / ( far - near );
            }`),n=new Ge(`float vectorSphericalObjectSpaceDepth(vec3 origin, float near, float far) {
               float dist = length(position - origin);
               return ( dist - near ) / ( far - near );
            }`);return{vectorLinearWorldSpaceDepth:e,vectorLinearObjectSpaceDepth:t,vectorSphericalWorldSpaceDepth:i,vectorSphericalObjectSpaceDepth:n}}();var Lte=class extends vi{constructor(e,t,i,n,r,a,s,o){super("v3"),this.nodeType="Fresnel",this.color=e,this.bias=t,this.scale=i,this.intensity=n,this.factor=r,this.isMask=o,this.alpha=a,this.mode=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let i=new Ge(`vec3 fresnel(vec3 color, float bias, float scale, float intensity, float factor, bool isMask, float mask, float alpha, int mode, out float calpha) {
					float fresnel = bias + scale * pow( abs( factor + dot( normalize( vWorldViewDir ), normalize( vWNormal ) ) ), intensity );

					float lalpha = clamp(fresnel, 0.0, 1.0) * alpha * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

					return color;
				}`),n=e.include(i),r=[];return r.push(this.color.build(e,"c")),r.push(this.bias.build(e,"f")),r.push(this.scale.build(e,"f")),r.push(this.intensity.build(e,"f")),r.push(this.factor.build(e,"f")),r.push(this.isMask.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.mode.build(e,"i")),r.push(this.calpha),e.format(n+"("+r.join(",")+")",this.getType(e),t)}else return console.warn("FresnelNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},KT=class extends vi{constructor(e,t,i,n,r,a,s,o,l){super("v3"),this.nodeType="Gradient",this.gradientType=e,this.smooth=t,this.colors=i,this.steps=n,this.offset=r,this.morph=a,this.angle=s,this.isMask=l,this.alpha=o,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.define("GRAD_MAX",10),e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let i=e.include(KT.Nodes.gradient),n=[];return n.push(this.gradientType.build(e,"i")),n.push(this.smooth.build(e,"b")),n.push(this.colors.build(e,"v4[]")),n.push(this.steps.build(e,"f[]")),n.push(this.offset.build(e,"v2")),n.push(this.morph.build(e,"v2")),n.push(this.angle.build(e,"f")),n.push(this.isMask.build(e,"b")),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(i+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("GradientNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},QT=KT;QT.Nodes=function(){return{gradient:new Ge(`vec3 gradient(int gradientType, bool smoothed, vec4 colors[GRAD_MAX], float steps[GRAD_MAX], vec2 offset, vec2 morph, float angle, bool isMask, float mask, float alpha, out float calpha) {
				vec4 color = colors[0];
				vec2 m = morph / vUv.xy;
				vec2 rot = vec2( 0.5 + m.x, m.y );
				vec2 dt = vec2(
					cos( angle ) * rot.x - sin( angle ) * rot.y,
					sin( angle ) * rot.x + cos( angle ) * rot.y
				);
				vec2 pt = ( vUv - 0.5 + offset ) / 2.0 + dt / 2.0;
				float t = dot( pt, dt ) / dot( dt, dt );
				if ( gradientType == 1 ) {
					t = distance (
						( vUv + morph ) * 3.0,
						( vUv + offset ) + 1.0
					) + angle;
				} else if ( gradientType == 2 ) {
					float polar = atan(
						vUv.x + morph.x - 0.5 + offset.x,
						vUv.y + morph.y - 0.5 + offset.y
					) * -1.0;
					t = fract( ( angle / PI / -2.0 ) + 0.5 * ( polar / PI ) );
				}

				float p;
				if (smoothed) {
					for ( int i = 1; i < GRAD_MAX; i++ ) {
						p = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
					}

				} else {
					for ( int i = 1; i < GRAD_MAX; i++ ) {
						p = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], p);
					}
				}

				float lalpha = alpha * color.a * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
				
				return color.xyz;
			}`)}}();var JT=class extends vi{constructor(e,t,i,n){super("v3"),this.nodeType="Matcap",this.texture=e,this.isMask=n,this.alpha=t,this.mode=i,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let i=e.include(JT.Nodes.matcap);e.require("normal"),e.requires.normal=!0;let n=[];return n.push(this.texture.generate(e,"t")),n.push("normal"),n.push(this.isMask.build(e,"b")),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.mode.build(e,"i")),n.push(this.calpha),e.format(i+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("MatcapNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},$T=JT;$T.Nodes=function(){return{matcap:new Ge(`vec3 matcap(sampler2D matcapTex, vec3 normal, bool isMask, float mask, float alpha, int mode, out float calpha) {
					vec3 viewDir = normalize( vViewPosition );
					vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
					vec3 y = cross( viewDir, x );
					vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks
					vec4 matcapColor = texture2D( matcapTex, uv );

					float lalpha = alpha * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
					
					return matcapColor.rgb;
            	}`)}}();var Ub=(e=>(e.SIMPLEX="simplex3d",e.SIMPLEX_FRACTAL="simplex3dFractal",e.ASHIMA="simplexAshima",e.FBM="fbm",e.PERLIN="perlin",e.VORONOI="voronoi",e))(Ub||{}),Lr=function(){let e=new Ge(`vec3 random3(vec3 c) {
			float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));
			vec3 r;
			r.z = fract(512.0*j);
			j *= .125;
			r.x = fract(512.0*j);
			j *= .125;
			r.y = fract(512.0*j);
			return r-0.5;
		}`),t=new Ge(`float simplex3d(vec3 p) {
			 vec3 s = floor(p + dot(p, vec3(F3)));
			 vec3 x = p - s + dot(s, vec3(G3));
			 
			 vec3 e = step(vec3(0.0), x - x.yzx);
			 vec3 i1 = e*(1.0 - e.zxy);
			 vec3 i2 = 1.0 - e.zxy*(1.0 - e);
				
			 vec3 x1 = x - i1 + G3;
			 vec3 x2 = x - i2 + 2.0*G3;
			 vec3 x3 = x - 1.0 + 3.0*G3;
			 
			 vec4 w, d;
			 
			 w.x = dot(x, x);
			 w.y = dot(x1, x1);
			 w.z = dot(x2, x2);
			 w.w = dot(x3, x3);
			 
			 w = max(0.6 - w, 0.0);
			 
			 d.x = dot(random3(s), x);
			 d.y = dot(random3(s + i1), x1);
			 d.z = dot(random3(s + i2), x2);
			 d.w = dot(random3(s + 1.0), x3);
			 
			 w *= w;
			 w *= w;
			 d *= w;
			 
			 return dot(d, vec4(52.0));
		}`,[e]);t.keywords.F3=new yi("float F3 0.3333333"),t.keywords.G3=new yi("float G3 0.1666667");let i=new Ge(`float simplex3dFractal(vec3 m) {
			mat3 rot1 = mat3(-0.37, 0.36, 0.85,-0.14,-0.93, 0.34,0.92, 0.01,0.4);
			mat3 rot2 = mat3(-0.55,-0.39, 0.74, 0.33,-0.91,-0.24,0.77, 0.12,0.63);
			mat3 rot3 = mat3(-0.71, 0.52,-0.47,-0.08,-0.72,-0.68,-0.7,-0.45,0.56);
			return 0.5333333 * simplex3d(m * rot1)
				 + 0.2666667 * simplex3d(2.0 * m * rot2)
				 + 0.1333333 * simplex3d(4.0 * m * rot3)
				 + 0.0666667 * simplex3d(8.0 * m);
		}`,[t]),n=new Ge("vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}"),r=new Ge("vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}"),a=new Ge(`float simplexAshima(vec3 v) {
		  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
		  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);
		  vec3 i  = floor(v + dot(v, C.yyy) );
		  vec3 x0 =   v - i + dot(i, C.xxx) ;
		  vec3 g = step(x0.yzx, x0.xyz);
		  vec3 l = 1.0 - g;
		  vec3 i1 = min( g.xyz, l.zxy );
		  vec3 i2 = max( g.xyz, l.zxy );
		  vec3 x1 = x0 - i1 + 1.0 * C.xxx;
		  vec3 x2 = x0 - i2 + 2.0 * C.xxx;
		  vec3 x3 = x0 - 1. + 3.0 * C.xxx;
		  i = mod(i, 289.0 ); 
		  vec4 p = permute( permute( permute( 
					 i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
				   + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) 
				   + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));
		  float n_ = 1.0/7.0; // N=7
		  vec3  ns = n_ * D.wyz - D.xzx;
		  vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)
		  vec4 x_ = floor(j * ns.z);
		  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)
		  vec4 x = x_ *ns.x + ns.yyyy;
		  vec4 y = y_ *ns.x + ns.yyyy;
		  vec4 h = 1.0 - abs(x) - abs(y);
		  vec4 b0 = vec4( x.xy, y.xy );
		  vec4 b1 = vec4( x.zw, y.zw );
		  vec4 s0 = floor(b0)*2.0 + 1.0;
		  vec4 s1 = floor(b1)*2.0 + 1.0;
		  vec4 sh = -step(h, vec4(0.0));
		  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
		  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;
		  vec3 p0 = vec3(a0.xy,h.x);
		  vec3 p1 = vec3(a0.zw,h.y);
		  vec3 p2 = vec3(a1.xy,h.z);
		  vec3 p3 = vec3(a1.zw,h.w);
		  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
		  p0 *= norm.x;
		  p1 *= norm.y;
		  p2 *= norm.z;
		  p3 *= norm.w;
		  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
		  m = m * m;
		  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), 
										dot(p2,x2), dot(p3,x3) ) );
		}`,[n,r]),s=new Ge("vec4 mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}"),o=new Ge("vec4 perm(vec4 x){return mod289(((x * 34.0) + 1.0) * x);}",[s]),l=new Ge(`float noise(vec3 p){
			vec3 a = floor(p);
			vec3 d = p - a;
			d = d * d * (3.0 - 2.0 * d);
			vec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);
			vec4 k1 = perm(b.xyxy);
			vec4 k2 = perm(k1.xyxy + b.zzww);
			vec4 c = k2 + a.zzzz;
			vec4 k3 = perm(c);
			vec4 k4 = perm(c + 1.0);
			vec4 o1 = fract(k3 * (1.0 / 41.0));
			vec4 o2 = fract(k4 * (1.0 / 41.0));
			vec4 o3 = o2 * d.z + o1 * (1.0 - d.z);
			vec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);
			return o4.y * d.y + o4.x * (1.0 - d.y);
		}`,[o]),d=new Ge(`float fbm(vec3 x) {
			float v = 0.0;
			float a = 0.5;
			vec3 shift = vec3(100);
			for (int i = 0; i < NUM_OCTAVES; ++i) {
				v += a * noise(x);
				x = x * 2.0 + shift;
				a *= 0.5;
			}
			return v;
		}`,[l]);d.keywords.NUM_OCTAVES=new yi("int NUM_OCTAVES 5");let u=new Ge("vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}"),c=new Ge(`float perlin(vec3 P){
		  vec3 Pi0 = floor(P);
		  vec3 Pi1 = Pi0 + vec3(1.0);
		  Pi0 = mod(Pi0, 289.0);
		  Pi1 = mod(Pi1, 289.0);
		  vec3 Pf0 = fract(P);
		  vec3 Pf1 = Pf0 - vec3(1.0);
		  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
		  vec4 iy = vec4(Pi0.yy, Pi1.yy);
		  vec4 iz0 = Pi0.zzzz;
		  vec4 iz1 = Pi1.zzzz;
		  vec4 ixy = permute(permute(ix) + iy);
		  vec4 ixy0 = permute(ixy + iz0);
		  vec4 ixy1 = permute(ixy + iz1);
		  vec4 gx0 = ixy0 / 7.0;
		  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
		  gx0 = fract(gx0);
		  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
		  vec4 sz0 = step(gz0, vec4(0.0));
		  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
		  gy0 -= sz0 * (step(0.0, gy0) - 0.5);
		  vec4 gx1 = ixy1 / 7.0;
		  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
		  gx1 = fract(gx1);
		  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
		  vec4 sz1 = step(gz1, vec4(0.0));
		  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
		  gy1 -= sz1 * (step(0.0, gy1) - 0.5);
		  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
		  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
		  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
		  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
		  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
		  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
		  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
		  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);
		  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
		  g000 *= norm0.x;
		  g010 *= norm0.y;
		  g100 *= norm0.z;
		  g110 *= norm0.w;
		  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
		  g001 *= norm1.x;
		  g011 *= norm1.y;
		  g101 *= norm1.z;
		  g111 *= norm1.w;
		  float n000 = dot(g000, Pf0);
		  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
		  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
		  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
		  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
		  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
		  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
		  float n111 = dot(g111, Pf1);
		  vec3 fade_xyz = fade(Pf0);
		  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
		  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
		  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); 
		  return 2.2 * n_xyz;
		}`,[n,r,u]),f=new Ge(`float hashwithoutsine13(vec3 p3)
		{
			p3  = fract(p3 * .1031);
			p3 += dot(p3, p3.yzx + 33.33);
			return fract((p3.x + p3.y) * p3.z);
		}`),h=new Ge(`vec3 hashwithoutsine33(vec3 p3)
		{
			p3 = fract(p3 * vec3(.1031, .1030, .0973));
			p3 += dot(p3, p3.yxz+33.33);
			return fract((p3.xxy + p3.yxx)*p3.zyx);
		}`),p=new Ge(`float metric(in vec3 p)
		{
			// L2 
			return length(p);

			// Chebyshev 
			// vec3 a = abs(p);
			// return max(a.x, max(a.y, a.z));
		}`),m=new Ge(`float smin( float a, float b, float k )
		{
			float h = smoothstep(0.0, 1.0, 0.5 + 0.5 * (b - a) / k);
			float correction = k * h * (1.0 - h);
			return mix(b, a, h) - correction;
		}`),g=new Ge(`float smax( float a, float b, float k )
		{
			float h = smoothstep(1.0, 0.0, 0.5 + 0.5 * (a - b) / k);
			float correction = k * h * (1.0 - h);
			return mix(a, b, h) + correction;
		}`),v=new Ge(`float remap(float value, float input_min, float input_max, float output_min, float output_max) {
			// Compute width of each interval
			float input_width = input_max - input_min;
			float output_width = output_max - output_min;
		
			// Convert input range into a 0-1 range 
			float scaled = (value - input_min) / input_width;
		
			// Convert the 0-1 range into a value in output range
			return output_min + (scaled * output_width);
		}`),y=new Ge(`float voronoi(in vec3 x, in int style, in float smoothness, in float seed, in int quality) 
		{
			// Integer and fractional parts of this point's coordinates
			ivec3 p = ivec3(floor(x));
			vec3 f = fract(x);

			// Different variables that we will use to construct noise:
			//
			// f1: distance to the closest feature point
			// f2: distance to the second closest feature point
			// e: distance to the closest edge (cell boundary)
			//
			// We also compute "smooth" versions of all of the above quantites, essentially
			// replacing "hard" minimums with "smooth" minimums (described by IQ)
			float f1_smooth = 8.0;
			float f1 = 8.0;
			float f2_smooth = 8.0;
			float f2 = 8.0;
			float e_smooth = 8.0;
			float e = 8.0;

			// Variables stored from closest cell
			ivec3 mb;
			vec3 mr; 

			int steps = quality;
			
			for (int x = -steps; x <= steps; x++) 
			for (int y = -steps; y <= steps; y++)
			for (int z = -steps; z <= steps; z++)
			{
				ivec3 b = ivec3(x, y, z);
				vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
				float d = length(r);
				
				f1_smooth = smin(d, f1_smooth, smoothness);

				// Store un-smoothed distances too 
				if (d < f1) 
				{
					f2 = f1;
					f1 = d;

					mb = ivec3(x, y, z);
					mr = r;
				} 
				else if (d < f2) 
				{
					f2 = d;
				}
			}	
			
			float id = hashwithoutsine13(vec3(p + mb) + seed);

			// Second pass for edge distance  
			for (int x = -steps; x <= steps; x++) 
			for (int y = -steps; y <= steps; y++)
			for (int z = -steps; z <= steps; z++)
			{
				// Start search at the cell that contains the closest point to "x" (found in 1st pass)
				ivec3 b = mb + ivec3(x, y, z);
				vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
				float d1 = dot(0.5 * (mr + r), (r - mr)); 				// IQ normalizes "r - mr" but that breaks things for the smooth version?
				float d2 = dot(0.5 * (mr + r), normalize(r - mr));

				e_smooth = smin(d1, e_smooth, smoothness);

				e = min(e, d2);

				// Also compute a smooth version of F2 in this pass
				{
					ivec3 b = ivec3(x, y, z);
					if (b != mb) 
					{
						vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
						float d = length(r);

						f2_smooth = smin(d, f2_smooth, smoothness);
					}
				}
			}

			// Different visualization modes 
			if (style == 0) 
			{
				return f1_smooth;
			}
			if (style == 1) 
			{
				return f2_smooth;
			}
			if (style == 2) 
			{
				return f2_smooth - f1_smooth;
				
				// "Pebbles" also cool
				//return step(0.2, f2_smooth - f1_smooth);
			}
			if (style == 3) 
			{
				// This one is really good for rock / stone effects
				float a = f1; 
				float b = f2;
				float k = 3.0;
				float h = max(k - abs(a - b), 0.0) / k;
				float final = min(a, b) - h * h * k * (1.0 / 4.0);
				return final;
			}
			if (style == 4) 
			{
				// Some random adjustments to make this style stand out more 
				return exp(5.0 * e_smooth);
			}
			if (style == 5) 
			{
				return pow(f1_smooth, 3.0);
			}
			if (style == 6) 
			{				
				const float eps = 0.0125;

				// Thicker lines as the user increases the smoothness slider
				float thickness = smoothness * 0.25 + eps;

				// Blurrier lines as the user increases the smoothness slider
				float blur = pow(smoothness, 3.0) * 0.25 + eps;

				return smoothstep(
					thickness - thickness * blur, 
					thickness + thickness * blur, 
					e
				);
			}
			if (style == 7) 
			{
				return hashwithoutsine13(vec3(p + mb) + seed);
			}
		}
	`,[f,h,p,m,g,v]);return{simplex:t,simplexFractal:i,simplexAshima:a,fbm:d,perlin:c,voronoi:y}}(),eD=class extends vi{constructor(e,t,i,n,r,a,s,o,l,d,u,c,f,h,p,m,g,v,y){super("v3"),this.nodeType="Noise",this.scale=e,this.size=t,this.move=i,this.fA=n,this.fB=r,this.distortion=a,this.colorA=s,this.colorB=o,this.colorC=l,this.colorD=d,this.noiseType=c,this.voronoiStyle=h,this.highCut=p,this.lowCut=m,this.smoothness=g,this.seed=v,this.quality=y,this.isMask=f,this.alpha=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t,i,n,r){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let a=Object.values(Ub)[this.noiseType.value],s=a=="voronoi"?`
		float v = ${a}(st + move, voronoiStyle, smoothness, seed, quality);

		// Apply clipping to colors
		v = remap(v, lowCut, highCut, 0.0, 1.0);
		v = smax(v, 0.0, smoothness * 0.25);
		v = smin(v, 1.0, smoothness * 0.25);

		// Note that the voronoi mode only uses colors "A" and "C" from the UI 
		vec4 color = mix(colorA, colorC, v); 
		`:`
		vec3 q = vec3(${a}(st),
					   ${a}(st + vec3(1.0)),
					   ${a}(st + vec3(1.0)));
		vec3 r = vec3(${a}(st + vec3(distortion, 1.0) * q + vec3(fA, 1.0) + move),
					  ${a}(st + vec3(distortion, 1.0) * q + vec3(fB, 1.0) + move), 
					  ${a}(st * q));
		float f = ${a}(st + r);
		vec4 color;
		color = mix(colorA, colorB, clamp((f * f) * 4.0, 0.0, 1.0));
		color = mix(color, colorC, clamp(length(q), 0.0, 1.0));
		color = mix(color, colorD, clamp(length(r.x), 0.0, 1.0));
		`,o=new Ge(`vec3 ${a}customNoise(float scale, vec3 size, float move, vec2 fA, vec2 fB, vec2 distortion, vec4 colorA, vec4 colorB, vec4 colorC, vec4 colorD, int voronoiStyle, float highCut, float lowCut, float smoothness, float seed, int quality, bool isMask, float mask, float alpha, out float calpha) 
			{
                // Prevent scale of zero 
				scale = max(abs(scale), 0.001);

				vec3 st = position / size;
				st /= scale;

				${s}

				float lalpha = alpha * color.a * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return clamp(color, 0.0, 1.0).rgb;
			}`,[Lr.simplex,Lr.simplexFractal,Lr.simplexAshima,Lr.fbm,Lr.perlin,Lr.voronoi]),l=e.include(o),d=[];return d.push(this.scale.build(e,"f")),d.push(this.size.build(e,"v3")),d.push(this.move.build(e,"f")),d.push(this.fA.build(e,"v2")),d.push(this.fB.build(e,"v2")),d.push(this.distortion.build(e,"v2")),d.push(this.colorA.build(e,"v4")),d.push(this.colorB.build(e,"v4")),d.push(this.colorC.build(e,"v4")),d.push(this.colorD.build(e,"v4")),d.push(this.voronoiStyle.build(e,"i")),d.push(this.highCut.build(e,"f")),d.push(this.lowCut.build(e,"f")),d.push(this.smoothness.build(e,"f")),d.push(this.seed.build(e,"f")),d.push(this.quality.build(e,"i")),d.push(this.isMask.build(e,"b")),d.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),d.push(this.alpha.build(e,"f")),d.push(this.calpha),e.format(l+"("+d.join(",")+")",this.getType(e),t)}};eD.numOctaves=5;var tD=class extends vi{constructor(e,t,i,n,r,a,s,o,l,d,u,c,f,h,p,m){super("v3"),this.nodeType="Outline",this.firstTime=!0,this.outlineColor=e,this.contourColor=t,this.outlineWidth=i,this.contourWidth=n,this.contourThreshold=r,this.outlineThreshold=a,this.contourFrequency=s,this.outlineSmoothing=o,this.contourDirection=l,this.positionalLines=d,this.compensation=u,this.resolution=c,this.normalMap=f,this.depthMap=h,this.pixelRatio=p,this.alpha=m,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let i=`g${this.uuid.toString().replace(/-/g,"")}`;if(e.require("vWorldViewDir"),e.require("worldNormal"),e.extensions.derivatives=!0,this.compensation.value&&e.define("OUTLINE_COMPENSATION",`${i}_offset`),this.firstTime){let n=this.outlineWidth.build(e,"f"),r=this.resolution.build(e,"v2"),a=this.compensation.build(e,"b"),s=this.pixelRatio.build(e,"f");e.addVertexParsVariable("randomColor","attribute vec3"),e.addVertexParsVariable("extrudeNormal","attribute vec3"),e.addVertexParsVariable(n,"uniform float"),e.addVertexParsVariable(r,"uniform vec2"),e.addVertexParsVariable(a,"uniform bool"),e.addVertexParsVariable(s,"uniform float"),e.addVertexParsVariable("vID","flat out float"),e.addFragmentParsVariable("vID","flat in float"),e.addVertexFinalCode(`
                vID = randomColor.r;
                vec2 ${i}_offset = vec2(0.0);
                if (${a}) {
                    vec4 ${i}_clipPosition = projectionMatrix * (modelViewMatrix * vec4(position, 1.0));
                    // NOTE: For certain shapes, like spheres, we get incorrect extrusion when the
                    // normals face the camera directly. So we hackily fix this by offsetting the normal
                    // by a tiny amount.
                    vec3 ${i}_clipNormal = mat3(projectionMatrix) * (mat3(modelViewMatrix) * extrudeNormal) + 0.0000001;
                    ${i}_offset = normalize(${i}_clipNormal.xy) / ${r} * (${n} / 2.0) * ${i}_clipPosition.w * 2.0 * ${s};
                    ${i}_clipPosition.xy += ${i}_offset;
                    // TODO(MAX): To handle multiple outline layers, we only want to extrude
                    // if this offset is the biggest of all the potential offsets
                    gl_Position = ${i}_clipPosition;
                }
            `)}if(e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let n=e.include(tD.Nodes.outline),r=[];return r.push(this.outlineColor.build(e,"c")),r.push(this.contourColor.build(e,"c")),r.push(this.outlineWidth.build(e,"f")),r.push(this.contourWidth.build(e,"f")),r.push(this.contourThreshold.build(e,"f")),r.push(this.outlineThreshold.build(e,"f")),r.push(this.contourFrequency.build(e,"f")),r.push(this.outlineSmoothing.build(e,"f")),r.push(this.contourDirection.build(e,"v3")),r.push(this.positionalLines.build(e,"b")),r.push(this.resolution.build(e,"v2")),r.push(this.normalMap.getTexture(e,"t")),r.push(this.depthMap.getTexture(e,"t")),r.push(this.pixelRatio.build(e,"f")),r.push(this.compensation.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.calpha),this.firstTime=!this.firstTime,e.format(n+"("+r.join(",")+")",this.getType(e),t)}else return console.warn("OutlineNode is not compatible with "+e.shader+" shader."),""}},iD=tD;iD.Nodes=function(){let e=new Ge(`
float sobelSample(sampler2D t, sampler2D d, vec2 uv, vec2 resolution, float outlineWidth, float pixelRatio)
{
    vec2 halton = haltonSequence[frameIndex];
    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
    float temporalAngle  = temporalOffset * PI2;

    vec2 texelSize = (vec2(1.0) / resolution);
    vec2 offsetSize = texelSize * outlineWidth * pixelRatio;

    vec2 uvSamples[9];
    vec4 normalSamples[9];

	uvSamples[0] = uv + vec2( -offsetSize.x, -offsetSize.y) + (vogelDiskSample(0, 9, temporalAngle) * texelSize);
	uvSamples[1] = uv + vec2(0.0, -offsetSize.y) + (vogelDiskSample(1, 9, temporalAngle) * texelSize);
	uvSamples[2] = uv + vec2(  offsetSize.x, -offsetSize.y) + (vogelDiskSample(2, 9, temporalAngle) * texelSize);
	uvSamples[3] = uv + vec2( -offsetSize.x, 0.0) + (vogelDiskSample(3, 9, temporalAngle) * texelSize);
	uvSamples[4] = uv;
	uvSamples[5] = uv + vec2(  offsetSize.x, 0.0) + (vogelDiskSample(5, 9, temporalAngle) * texelSize);
	uvSamples[6] = uv + vec2( -offsetSize.x, offsetSize.y) + (vogelDiskSample(6, 9, temporalAngle) * texelSize);
	uvSamples[7] = uv + vec2(0.0, offsetSize.y) + (vogelDiskSample(7, 9, temporalAngle) * texelSize);
	uvSamples[8] = uv + vec2(  offsetSize.x, offsetSize.y) + (vogelDiskSample(8, 9, temporalAngle) * texelSize);


    normalSamples[0] = texture2D(t, uvSamples[0]);
    normalSamples[1] = texture2D(t, uvSamples[1]);
    normalSamples[2] = texture2D(t, uvSamples[2]);
    normalSamples[3] = texture2D(t, uvSamples[3]);
    normalSamples[4] = texture2D(t, uvSamples[4]);
    normalSamples[5] = texture2D(t, uvSamples[5]);
    normalSamples[6] = texture2D(t, uvSamples[6]);
    normalSamples[7] = texture2D(t, uvSamples[7]);
    normalSamples[8] = texture2D(t, uvSamples[8]);

    float depthBias = 0.0001;
    // TODO(MAX): Can we somehow reduce the number of conditionals here with MATH?!
    if (normalSamples[0].a != vID && normalSamples[0].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[0]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[1].a != vID && normalSamples[1].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[1]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[2].a != vID && normalSamples[2].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[2]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[3].a != vID && normalSamples[3].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[3]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }


    if (normalSamples[4].a != vID && normalSamples[4].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[4]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[5].a != vID && normalSamples[5].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[5]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[6].a != vID && normalSamples[6].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[6]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[7].a != vID && normalSamples[7].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[7]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[8].a != vID && normalSamples[8].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[8]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    vec3 sobel_edge_h = normalSamples[2].rgb + (2.0*normalSamples[5].rgb) + normalSamples[8].rgb - (normalSamples[0].rgb + (2.0*normalSamples[3].rgb) + normalSamples[6].rgb);
  	vec3 sobel_edge_v = normalSamples[0].rgb + (2.0*normalSamples[1].rgb) + normalSamples[2].rgb - (normalSamples[6].rgb + (2.0*normalSamples[7].rgb) + normalSamples[8].rgb);

    float edgeNormal = sqrt(dot(sobel_edge_h, sobel_edge_h) + dot(sobel_edge_v, sobel_edge_v));
    return edgeNormal;
}
`);return{outline:new Ge(`vec3 outline(vec3 outlineColor, vec3 contourColor, float outlineWidth, float contourWidth, float outlineThreshold, float contourThreshold, float outlineSmoothing, float contourFrequency, vec3 contourDirection, bool positionalLines, vec2 resolution, sampler2D normalMap, sampler2D depthMap, float pixelRatio, bool compensation, float mask, float alpha, out float calpha) {
                vec3 result = outlineColor;
                float resultAlpha = 0.0;

                vec3 N = normalize(vWNormal);
                vec2 nuv = (gl_FragCoord.xy / resolution);
                float sobelSample = compensation ? sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth / 2., pixelRatio) : sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth, pixelRatio);
                resultAlpha = smoothstep(outlineThreshold - outlineSmoothing, outlineThreshold + outlineSmoothing, sobelSample);

                //resultAlpha = 1.0;
                //result = vec3(sobelSample);

                float t = 1.0 - contourThreshold;
                if(positionalLines) {
                    vec3 NDir = position * contourDirection;
                    float NT = NDir.x + NDir.y + NDir.z;
                    float f  = fract(NT * contourFrequency * 0.01);
                    float df = fwidth(NT * contourFrequency);

                    float g = smoothstep(df * (contourWidth * 0.01), df * (contourWidth * 0.01 * 2.0), f);
                    if (g < 1.0 && resultAlpha == 0.0) {
                        result = contourColor;
                        resultAlpha = 1.0;
                    }
                 }
                 else {
                    vec3 NDir = N * contourDirection;
                    float NT = NDir.x + NDir.y + NDir.z;
                    float df = fwidth(NT * contourThreshold);
                    float f = sin(NT * 1.0 * contourFrequency);
                    float g = smoothstep(0.0, df * contourWidth, 1.0 - f);

                    if (df > (t * 0.5) && g < 1.0 && resultAlpha == 0.0) {
                        result = contourColor;
                        resultAlpha = 1.0 - g;
                    }
                 }

                 float lalpha = alpha * resultAlpha * mask;
                 calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
                 accumAlpha += ( 1.0 - accumAlpha ) * lalpha;
				 
                 return result;
             }`,[e])}}();var mo=class extends vi{constructor(e,t,i,n,r,a,s,o,l,d,u,c,f,h,p,m,g,v){super("v3"),this.nodeType="Pattern",this.style=e,this.projection=t,this.axis=i,this.blending=n,this.offset=r,this.colorA=a,this.colorB=s,this.frequency=o,this.size=l,this.variation=d,this.smoothness=u,this.zigzag=c,this.rotation=f,this.vertical=h,this.horizontal=p,this.sides=m,this.isMask=v,this.alpha=g,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.require("position"),e.require("uv"),e.requires.uv=[!0],e.require("normal"),e.requires.normal=!0,e.addFragmentVariable(this.calpha,"float");let i;switch(this.style.value){case 0:i="circle";break;case 1:i="ring";break;case 2:i="polygon";break;case 3:i="xcross";break;case 4:i="diamond";break;case 5:i="checkerboard";break;case 6:i="line";break;case 7:i="wave";break;default:i="circle";break}let n=`g${this.uuid.toString().replace(/-/g,"")}`,r=new Ge(`float hashwithoutsine12(vec2 p)
				{
					vec3 p3 = fract(vec3(p.xyx) * .1031);
					p3 += dot(p3, p3.yzx + 33.33);
					return fract((p3.x + p3.y) * p3.z);
				}`),a=new Ge(`vec2 rotate_uv(in vec2 uv, float a, bool repeat) 
				{
					const float mid = 0.5;
					float radians = a * (PI / 180.0);
					vec2 rotated = vec2(
						cos(radians) * (uv.x - mid) + sin(radians) * (uv.y - mid) + mid,
						cos(radians) * (uv.y - mid) - sin(radians) * (uv.x - mid) + mid
					);
					return repeat ? fract(rotated): rotated;
				}`),s="";if(this.projection.value===4){let u=this.style.value===2?`${i}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${i}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,c=this.style.value===2?`${i}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${i}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,f=this.style.value===2?`${i}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${i}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation)`;s=`
				vec3 p = position;
				float factor = 0.0125;
				vec2 uv0 = fract(p.xy * factor);
				vec2 uv1 = fract(p.zy * factor);
				vec2 uv2 = fract(p.xz * factor);
				
				uv0 = rotate_uv(uv0 + offset, rotation, true);
				uv1 = rotate_uv(uv1 + offset, rotation, true);
				uv2 = rotate_uv(uv2 + offset, rotation, true);
	
				float d0 = ${u};
				float d1 = ${c};
				float d2 = ${f};
				
				// Range from 3 to 128 seems to be good
				float exponent = (1.0 - blending) * 125.0 + 3.0;

				vec3 n = vObjectNormal;
				vec3 weights = abs(normalize(n));
				weights = pow(weights, vec3(exponent));
				weights /= dot(weights, vec3(1.0));
				d0 *= weights.z;
				d1 *= weights.x;
				d2 *= weights.y;
				float draw = d0 + d1 + d2;
	
				vec2 custom_uv = uv0 * weights.z + uv1 * weights.x + uv2 * weights.y;
				`}else{let u=this.style.value===2?`${i}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${i}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,c="";this.axis.value===0?c=`float radius = length(p);
					float theta = atan(p.y, p.z);
					float phi = acos(p.x / radius);`:this.axis.value===1?c=`float radius = length(p);
					float theta = atan(p.x, p.z);
					float phi = acos(p.y / radius);`:(this.axis.value,c=`float radius = length(p);
					float theta = atan(p.y, p.x);
					float phi = acos(p.z / radius);`);let f="";switch(this.projection.value){case 0:f="custom_uv = vUv.st;";break;case 1:break;case 2:f=`
							vec3 p = position;
							${c}
							custom_uv = vec2(theta, phi);
							custom_uv /= PI;
							`;break;case 3:break;default:break}s=`
				vec2 custom_uv;
				${f}
	
				custom_uv += offset;
				custom_uv = fract(custom_uv);
				custom_uv = rotate_uv(custom_uv, rotation, true);
	
				float draw = ${u};
				`}let o=new Ge(`vec3 ${n}_pattern(vec3 normal, float blending, int style, vec2 offset, vec4 colorA, vec4 colorB, vec2 frequency, float size, float variation, float smoothness, float zigzag, float rotation, vec2 vertical, vec2 horizontal, int sides, bool isMask, float mask, float alpha, out float calpha) {
					const float TWO_PI = PI * 2.0;
					float smoothness_remapped = pow(smoothness, 5.0);	

					${s}

					// Construct final output color
					vec4 color = mix(colorA, colorB, draw);
					color.a = clamp(color.a, 0.0, 1.0);

					// Apply cuts
					color.a *= 
						step(vertical.x, custom_uv.y) * 
						step(custom_uv.y, vertical.y);
					color.a *= 
						step(horizontal.x, abs(custom_uv.x)) * 
						step(abs(custom_uv.x), horizontal.y);

					// Accumulate alpha 
					float lalpha = alpha * clamp(color.a, 0.0, 1.0) * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

					return clamp(color, 0.0, 1.0).rgb;
				}`,[a,r,mo.DrawFunctions.circle,mo.DrawFunctions.ring,mo.DrawFunctions.polygon,mo.DrawFunctions.cross,mo.DrawFunctions.diamond,mo.DrawFunctions.checkerboard,mo.DrawFunctions.line,mo.DrawFunctions.wave]),l=e.include(o),d=[];return d.push("normal"),d.push(this.blending.build(e,"f")),d.push(this.style.build(e,"i")),d.push(this.offset.build(e,"v2")),d.push(this.colorA.build(e,"v4")),d.push(this.colorB.build(e,"v4")),d.push(this.frequency.build(e,"v2")),d.push(this.size.build(e,"f")),d.push(this.variation.build(e,"f")),d.push(this.smoothness.build(e,"f")),d.push(this.zigzag.build(e,"f")),d.push(this.rotation.build(e,"f")),d.push(this.vertical.build(e,"v2")),d.push(this.horizontal.build(e,"v2")),d.push(this.sides.build(e,"i")),d.push(this.isMask.build(e,"b")),d.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),d.push(this.alpha.build(e,"f")),d.push(this.calpha),e.format(l+"("+d.join(",")+")",this.getType(e),t)}else return console.warn("PatterNode is not compatible with "+e.shader+" shader."),e.format("vec3(0.0)",this.getType(e),t)}},nD=mo;nD.DrawFunctions=function(){let e=new Ge(`float hashwithoutsine12(vec2 p) {
				vec3 p3 = fract(vec3(p.xyx) * 0.1031);
				p3 += dot(p3, p3.yzx + 33.33);
				return fract((p3.x + p3.y) * p3.z);
			}`),t=new Ge(`vec2 tile_and_center(in vec2 uv, in vec2 frequency, in float variation, in float zigzag, in float rotation) {
                // Create tiles in UV-space
                uv *= frequency;

                // Integer coords
                vec2 i = floor(uv);

                // Offset every other row based on zigzag param, then compute fractional coords
                float row_offset = mod(i.y, 2.0);
                uv.x += row_offset * zigzag;
                vec2 f = fract(uv);

				// Rotate the tile itself:
				// const float mid = 0.5;
				// f = vec2(
				// 	cos(rotation) * (f.x - mid) + sin(rotation) * (f.y - mid) + mid,
				// 	cos(rotation) * (f.y - mid) - sin(rotation) * (f.x - mid) + mid
				// );
				// f = fract(f);

                f = f * 2.0 - 1.0;

				// Recompute integer coords after shifting - then, random value per tile 
				i = floor(uv);
				float rand = (hashwithoutsine12(i) * 5.0 + 1.0);
				float jitter = mix(1.0, rand, variation);
				f *= jitter;

                return f;
            }`,[e]),i=new Ge(`float circle(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(
                    -smoothness, 
                     smoothness, 
                     length(f) - size
                );
            }`,[t]),n=new Ge(`float ring(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);

				float d = length(f);
                const float inner_width = 0.5;

                float outer = smoothstep(-smoothness, smoothness, d - size);
                float inner = smoothstep(-smoothness, smoothness, d - size * inner_width);
				return outer + (1.0 - inner);   
            }`,[t]),r=new Ge(`float sdf_ngon(in vec2 p, in float r, in int n) {
                float an = (PI * 2.0) / float(n);
                float he = r * tan(0.5 * an);
                
                // Rotate to first sector
                p = -p.yx; 
                float bn = an * floor((atan(p.y, p.x) + 0.5 * an) / an);
                vec2  cs = vec2(cos(bn), sin(bn));
                p = mat2(cs.x, -cs.y, cs.y, cs.x)*p;
            
                // Side of polygon
                return length(p - vec2(r, clamp(p.y, -he, he))) * sign(p.x - r);
            }
            
            float polygon(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation, in int sides) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(-smoothness, smoothness, sdf_ngon(f, size, sides));
            }`,[t]),a=new Ge(`float sdf_cross(in vec2 p, in vec2 b, float r ) {
                p = abs(p); 
				p = (p.y > p.x) ? p.yx : p.xy;
                vec2  q = p - b;
                float k = max(q.y, q.x);
                vec2  w = (k > 0.0) ? q : vec2(b.y - p.x, -k);
                return sign(k) * length(max(w, 0.0)) + r;
            }
            
            // Avoid namespace conflicts 
            float xcross(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(-smoothness, smoothness, sdf_cross(f, vec2(size, size * 0.25), smoothness));
            }`,[t]),s=new Ge(`float ndot(vec2 a, vec2 b) { 
                return a.x*b.x - a.y*b.y; 
            }
            
            float sdf_diamond(in vec2 p, in vec2 b) {
                p = abs(p);
                float h = clamp(ndot(b - 2.0 * p, b) / dot(b, b), -1.0, 1.0);
                float d = length(p - 0.5 * b * vec2(1.0 - h, 1.0 + h));
                return d * sign(p.x * b.y + p.y * b.x - b.x * b.y);
            }

            float diamond(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
	            return smoothstep(-smoothness, smoothness, sdf_diamond(f, vec2(size)));
            }`,[t]),o=new Ge(`float checkerboard(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                uv *= frequency;
                vec2 i = floor(uv);

                float offset = mod(i.y, 2.0);

                uv.x += offset + zigzag * offset;
                float x = floor(uv.x);
                
                return mod(x, 2.0);
            }`),l=new Ge(`float line(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, 0.0, zigzag, rotation);
				
				// Different approach for variation param here
				float row = floor(uv * frequency).y;
				float rand = hashwithoutsine12(vec2(row));
				float s = mix(size, size * rand, variation);

				return smoothstep(
					s - smoothness, 
					s + smoothness, 
					abs(f.y)
				);
            }`,[t]),d=new Ge(`// Uses bisection 
            float udf_cos(in vec2 p, in float a, in float b, in float c, in float d) {
                // Convert all data to a primitive cosine wave
                p = c * (p - vec2(d, a));
                
                const float TWO_PI = PI * 2.0;

                // Reduce to principal half cycle
                p.x = mod(p.x, TWO_PI); 
                if (p.x > PI) {
                    p.x = TWO_PI - p.x;
                }
            
                // Find zero of derivative (minimize distance)
                float xa = 0.0;
                float xb = TWO_PI;

                // 24 bit precision
                for (int i = 0; i < 24; i++) {
                    float x = 0.5 * (xa + xb);
                    float y = x - p.x + b * c * sin(x) * (p.y - b * c * cos(x));
                    if (y < 0.0) xa = x; 
                    else xb = x;
                }
                float x = 0.5 * (xa + xb);
                
                // Compute distance    
                vec2 q = vec2(x, b * c * cos(x));
                return length(p - q) / c;
            }

            float wave(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                float repeat = frequency.x;
                uv *= repeat;
                vec2 i = floor(uv);
                float row_offset = mod(i.y, 2.0);
                uv.x += row_offset * zigzag;
                vec2 f = vec2(uv.x, fract(uv.y));

                // Generalized cosine: y(x) = a + b * cos(cx + d)
                const float amplitude = 0.125;
                float wave_frequency = frequency.y * 0.1;
                float distance_estimate = udf_cos(f, 0.50, amplitude, wave_frequency * (2.0 * PI), 0.0);

				// Different approach for variation param here
				float rand = hashwithoutsine12(vec2(i.y));
				float s = mix(size, size * rand, variation);

                return smoothstep(-smoothness, smoothness, distance_estimate - s * 0.5);
            }`);return{tileAndCenter:t,circle:i,ring:n,polygon:r,cross:a,diamond:s,checkerboard:o,line:l,wave:d}}();var rD=class extends vi{constructor(e,t,i,n,r,a,s,o){super("v3"),this.nodeType="Rainbow",this.filmThickness=e,this.movement=t,this.wavelengths=i,this.noiseStrength=n,this.noiseScale=r,this.offset=a,this.isMask=o,this.alpha=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let i=e.include(rD.Nodes.rainbow),n=[];return n.push(this.filmThickness.build(e,"f")),n.push(this.movement.build(e,"f")),n.push(this.wavelengths.build(e,"v3")),n.push(this.noiseStrength.build(e,"f")),n.push(this.noiseScale.build(e,"f")),n.push(this.offset.build(e,"v3")),n.push(this.isMask.build(e,"b")),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(i+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("RainbowNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},aD=rD;aD.Nodes=function(){let e=new Ge(`vec3 attenuation(vec3 wavelengths, float filmThickness, float movement, float noiseStrength, float noiseScale, vec3 offset) {
                 vec3 st = position / noiseScale;
				 vec3 q = vec3(simplex3d(st),
							  simplex3d(st + vec3(1.0)),
							  simplex3d(st + vec3(1.0)));

				 vec3 r = vec3(simplex3d(st + vec3(1.4, 1.3, 1.0) * q + vec3(1.7, 9.2, 1.0)),
							  simplex3d(st + vec3(2.0, 1.2, 1.0) * q + vec3(8.3, 2.8, 1.0)),
							  simplex3d(st * q));

                 float noise = simplex3d(st + r);

                 return .5 + .5 * cos((((filmThickness + (noise * noiseStrength)) / (vec3(wavelengths.r * 1.0, wavelengths.g * 0.8, wavelengths.b * 0.6) + 1.0)) * dot(normalize(vWorldViewDir + (offset * -0.001)), normalize(vWNormal))) + movement);
             }`,[Lr.simplex]);return{rainbow:new Ge(`vec3 rainbow(float filmThickness, float movement, vec3 wavelengths, float noiseStrength, float noiseScale, vec3 offset, bool isMask, float mask, float alpha, out float calpha) {
				vec3 res = clamp(attenuation(wavelengths, filmThickness, movement, noiseStrength, noiseScale, offset), 0.0, 2.0);

				float rainbowContribution = clamp(res.r + res.g + res.b, 0.0, 1.0);

				float lalpha = alpha * rainbowContribution * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return res;
             }`,[e])}}();var sD=class extends vi{constructor(e,t,i,n,r,a,s,o,l,d){super("v3"),this.nodeType="Toon",this.positioning=e,this.colors=t,this.steps=i,this.source=n,this.isWorldSpace=r,this.noiseStrength=a,this.noiseScale=s,this.shadowColor=o,this.offset=l,this.alpha=d,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("worldNormal"),e.require("worldPosition"),e.isShader("fragment")){e.define("COLORS_MAX",10),e.addFragmentVariable(this.calpha,"float");let i=e.include(sD.Nodes.toon),n=[];return n.push(this.positioning.build(e,"i")),n.push(this.colors.build(e,"v4[]")),n.push(this.steps.build(e,"f[]")),n.push(this.source.build(e,"v3")),n.push(this.isWorldSpace.build(e,"b")),n.push(this.noiseStrength.build(e,"f")),n.push(this.noiseScale.build(e,"f")),n.push(this.shadowColor.build(e,"v4")),n.push(this.offset.build(e,"v3")),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(i+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("ToonNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},oD=sD;oD.Nodes=function(){let e=new Ge(`float rand(float n) {
				return fract(sin(n) * 43758.5453123);
			}`),t=new Ge(`float hash1(float p) { 
				p = fract(p * 0.011); 
				p *= p + 7.5; 
				p *= p + p; 
				return fract(p); 
			}`),i=new Ge(`float valueNoise(vec3 x) {
				const vec3 step = vec3(110, 241, 171);
			
				vec3 i = floor(x);
				vec3 f = fract(x);
			 
				// For performance, compute the base input to a 1D hash from the integer part of the argument and the 
				// incremental change to the 1D based on the 3D -> 1D wrapping
				float n = dot(i, step);
			
				vec3 u = f * f * (3.0 - 2.0 * f);
				return mix(mix(mix( hash1(n + dot(step, vec3(0, 0, 0))), hash1(n + dot(step, vec3(1, 0, 0))), u.x),
							   mix( hash1(n + dot(step, vec3(0, 1, 0))), hash1(n + dot(step, vec3(1, 1, 0))), u.x), u.y),
						   mix(mix( hash1(n + dot(step, vec3(0, 0, 1))), hash1(n + dot(step, vec3(1, 0, 1))), u.x),
							   mix( hash1(n + dot(step, vec3(0, 1, 1))), hash1(n + dot(step, vec3(1, 1, 1))), u.x), u.y), u.z);
			}`,[t]),n=new Ge(`vec3 hash3(vec3 x) {
				x = vec3(dot(x,vec3(127.1, 311.7, 74.7)),
						 dot(x,vec3(269.5, 183.3, 246.1)),
						 dot(x,vec3(113.5, 271.9, 124.6)));
			
				return fract(sin(x)*43758.5453123);
			}`),r=new Ge(`vec3 voronoiNoise(in vec3 x)
			{
				vec3 p = floor(x);
				vec3 f = fract(x);

				float id = 0.0;
				vec2 res = vec2(100.0);

				for(int k=-1; k<=1; k++)
				for(int j=-1; j<=1; j++)
				for(int i=-1; i<=1; i++)
				{
					vec3 b = vec3(float(i), float(j), float(k));

					// Comment out the "+ hash(p + b);" part below to get "square" cells
					vec3 r = vec3(b) - f + hash3(p + b);
					float d = dot(r, r);

					if (d < res.x)
					{
						id = dot(p + b, vec3(1.0, 57.0, 113.0));
						res = vec2(d, res.x);			
					}
					else if (d < res.y)
					{
						res.y = d;
					}
				}

				return vec3(sqrt(res), abs(id));
			}
			`,[n]);return{toon:new Ge(`vec3 toon(int positioning, vec4 colors[COLORS_MAX], float steps[COLORS_MAX], vec3 source, bool isWorldSpace, float noiseStrength, float noiseScale, vec4 shadowColor, vec3 offset, float mask, float alpha, out float calpha) {
				float t = 0.0;
				float shadow = 1.0;

				if (positioning == 0) {

					// Can't do this mode if lighting is "none"
					#if (defined(PHONG) || defined(LAMBERT) || defined(STANDARD))

						// Algorithm from Chapter 10 of Graphics Shaders
						const vec3 weights = vec3(0.2125, 0.7154, 0.0721);
						vec3 lpos;
						vec3 l;
						float dproduct;

						#if (NUM_POINT_LIGHTS > 0)

							#if defined(USE_SHADOWMAP) && (NUM_POINT_LIGHT_SHADOWS > 0)
								PointLightShadow pointLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_POINT_LIGHTS; i++) {
								// Light positions are in view-space for some reason?
								lpos = (inverse(viewMatrix) * vec4(pointLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;
								l = normalize(lpos - worldPosition);
								
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								
								// TODO: we want to use "intensity" but it isn't available in the shader code
								//dproduct += dot(pointLights[UNROLLED_LOOP_INDEX].color, weights);

								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS)
									pointLightShadow = pointLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getPointShadow( 
											pointShadowMap[UNROLLED_LOOP_INDEX], 
											pointLightShadow.shadowMapSize, 
											pointLightShadow.shadowBias, 
											pointLightShadow.shadowRadius,
											vPointShadowCoord[UNROLLED_LOOP_INDEX], 
											pointLightShadow.shadowCameraNear, 
											pointLightShadow.shadowCameraFar);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						#if NUM_DIR_LIGHTS > 0 
							
							#if defined(USE_SHADOWMAP) && (NUM_DIR_LIGHT_SHADOWS > 0)
								DirectionalLightShadow directionalLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_DIR_LIGHTS; i++) {
								// Use the direction vector for directional lights instead
								l = (inverse(viewMatrix) * vec4(directionalLights[UNROLLED_LOOP_INDEX].direction, 0.0)).xyz;
		
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS)
									directionalLightShadow = directionalLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getShadow( 
										UNROLLED_LOOP_INDEX,
										directionalShadowMap[UNROLLED_LOOP_INDEX], 
										directionalLightShadow.shadowMapSize, 
										directionalLightShadow.shadowBias, 
										directionalLightShadow.shadowRadius, 
										vDirectionalShadowCoord[UNROLLED_LOOP_INDEX]);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						#if NUM_SPOT_LIGHTS > 0 
							
							#if defined(USE_SHADOWMAP) && (NUM_SPOT_LIGHT_SHADOWS > 0)
								SpotLightShadow spotLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_SPOT_LIGHTS; i++) {
								lpos = (inverse(viewMatrix) * vec4(spotLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;
								l = normalize(lpos - worldPosition);
								
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS)
									spotLightShadow = spotLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getShadow(
										UNROLLED_LOOP_INDEX,
										spotShadowMap[UNROLLED_LOOP_INDEX], 
										spotLightShadow.shadowMapSize, 
										spotLightShadow.shadowBias, 
										spotLightShadow.shadowRadius, 
										vSpotLightCoord[UNROLLED_LOOP_INDEX]);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						t = clamp(t, 0.0, 1.0);
				
					#endif

				} else if (positioning == 1) {
					
					vec3 origin = mix(position, worldPosition, float(isWorldSpace));
					vec3 direction = normalize(source - origin);
					t = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;	

				} else {

					vec3 origin = worldPosition;
					vec3 source = cameraPosition - offset;
					vec3 direction = normalize(source - origin);
					t = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;	
					
				}

				if (noiseStrength > 0.0) {
					// Distort with noise
					vec3 st = position / noiseScale;
					
					// Voronoi "smooth" noise
					float noise = 1.0 - voronoiNoise(st).x;

					// Voronoi cellular noise
					//float noise = 1.0 - rand(voronoiNoise(st).z);

					// Position warp noise
					// vec3 offset = vec3(
					// 	simplex3d(st),
					// 	simplex3d(st + vec3(111.1, 143.89, 217.19)),
					// 	simplex3d(st + vec3(171.1, 247.89, 117.23))
					// );
					// st += offset;
					// float noise = valueNoise(st);

					t += noise * noiseStrength;
				}

				t = clamp(t, 0.0, 1.0);

				// Compute ramp color
				float p;
				vec4 color = colors[0];
				for (int i = 1; i < COLORS_MAX; i++) {
					p = clamp((t - steps[i-1]) / (steps[i] - steps[i-1]), 0.0, 1.0);
					color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
				}

				// Incorporate custom shadow color
				if (positioning == 0) {

					vec3 blendedShadow = mix(color.rgb, shadowColor.rgb, shadowColor.a);
					color.rgb = mix(blendedShadow, color.rgb, shadow);
				
				}

				// Accumulate alpha as usual
				float lalpha = alpha * color.a * mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha;

				return color.xyz;

            }`,[Lr.simplex,e,i,r])}}();var Fte=function(){return{textureBicubic:new Ge(`float w0( float a ) {
            return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
        }
    
        float w1( float a ) {
            return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
        }
    
        float w2( float a ){
            return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
        }
    
        float w3( float a ) {
            return ( 1.0 / 6.0 ) * ( a * a * a );
        }
    
        // g0 and g1 are the two amplitude functions
        float g0( float a ) {
            return w0( a ) + w1( a );
        }
    
        float g1( float a ) {
            return w2( a ) + w3( a );
        }
    
        // h0 and h1 are the two offset functions
        float h0( float a ) {
            return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
        }
    
        float h1( float a ) {
            return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
        }
    
        vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
            uv = uv * texelSize.zw + 0.5;
    
            vec2 iuv = floor( uv );
            vec2 fuv = fract( uv );
    
            float g0x = g0( fuv.x );
            float g1x = g1( fuv.x );
            float h0x = h0( fuv.x );
            float h1x = h1( fuv.x );
            float h0y = h0( fuv.y );
            float h1y = h1( fuv.y );
    
            vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
            vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
            vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
            vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
    
            return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) + 
                   g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
        }

        vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
            vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
            vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
            vec2 fLodSizeInv = 1.0 / fLodSize;
            vec2 cLodSizeInv = 1.0 / cLodSize;
            vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
            vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
            return mix( fSample, cSample, fract( lod ) );
        }`)}}();function Nte(e,t){return e>=t?new Y(t/e,1):new Y(1,e/t)}var lD=class extends vi{constructor(e,t,i,n,r,a,s,o){super("v3"),this.nodeType="Transmission",this.thickness=e,this.ior=t,this.roughness=i,this.transmissionSamplerSize=n,this.transmissionSamplerMap=r,this.transmissionDepthMap=a,this.aspectRatio=s,this.alpha=o,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0,e.isShader("fragment")){e.define("NUM_SAMPLES",6),e.define("BLUR_SLOD",Math.pow(2,vt.transmissionLod.value)),e.require("worldPosition"),e.requires.worldNormal=!0,e.requires.modelMatrix=!0,e.requires.projectionMatrix=!0,e.addFragmentVariable(this.calpha,"float");let i=e.include(lD.Nodes.transmission),n=[];return n.push(this.thickness.build(e,"f")),n.push(this.ior.build(e,"f")),n.push(this.roughness.build(e,"f")),n.push(this.transmissionSamplerSize.build(e,"v2")),n.push(this.transmissionSamplerMap.getTexture(e,"t")),n.push(this.transmissionDepthMap.getTexture(e,"t")),n.push(this.aspectRatio.build(e,"v2")),n.push("normal"),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(i+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("TransmissionNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},dD=lD;dD.Nodes=function(){let e=new Ge(`vec3 blur(sampler2D sp, vec2 U, vec2 scale, float lod, sampler2D dm, vec2 unrefractedU, vec2 aspectRatio) {
                // Slightly modified version of this:
                // https://www.shadertoy.com/view/ltScRG

				// Special case for blur == 0.0
				if (lod == 0.0) {
					#ifdef TEXTURE_LOD_EXT
					return texture2DLodEXT( sp, U, 0.0).rgb;
					#else
					return textureLod( sp, U, 0.0).rgb;
					#endif
				}
				
				vec2 texelSize = vec2(1.0) / resolution;
                vec2 halton = haltonSequence[frameIndex];
                float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
                float temporalAngle  = temporalOffset * PI2;
				vec3 res = vec3(0.0);
                vec2 uv = vec2(0.0);
                vec2 offset = vec2(0.0);
                vec2 vogelSample = vec2(0.0);
                for (int i = 0; i < NUM_SAMPLES; i++) {
                    vogelSample =  vogelDiskSample(i, NUM_SAMPLES, temporalAngle) * texelSize;
                    offset = vogelSample * scale * (lod * 10.0); // TODO: used to be hardcoded to 20
                    uv = U + offset;
                    float opaqueDepth = unpackRGBAToDepth(textureLod(dm, uv, lod));
                    if (opaqueDepth != 0.0 && opaqueDepth < gl_FragCoord.z) {
                        uv = unrefractedU;
                        lod = lod > 4.0 ? lod : lod / 2.0;
                    }
                    res += textureLod(sp, uv, lod).rgb;
                }
                return res / float(NUM_SAMPLES);
            }`),t=new Ge(`vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		        // Direction of refracted light.
		        vec3 refractionVector = refract( -v,  n, 1.0 / ior );
		        
				// Compute rotation-independant scaling of the model matrix.
		        vec3 modelScale;
		        modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		        modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		        modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );

		        // The thickness is specified in local space
		        return normalize( refractionVector ) * thickness * modelScale;
	        }`),i=new Ge(`float applyIorToRoughness( float roughness, float ior ) {
				// Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and
				// an IOR of 1.5 results in the default amount of microfacet refraction.
				return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
			}`),n=new Ge(`vec3 getTransmissionSample( vec2 fragCoord, float roughness, float ior, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 unrefractedCoords, vec2 aspectRatio) {
				// Threejs exports do not pass a depth map to this shader, so we have to fallback to the "Threejs method of blurring" - see
				// also the code in convertTransmission.ts, which runs during export
				#ifdef IS_THREEJS_EXPORT
					float lod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness / 5.0, ior);
					return textureBicubic(transmissionSamplerMap, fragCoord.xy, lod).rgb;
				#else
					float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
					float lod = applyIorToRoughness(roughness, ior);
					return blur(transmissionSamplerMap, fragCoord, vec2(lod), min(framebufferLod / 5.5, 8.5), transmissionDepthMap, unrefractedCoords, aspectRatio);
				#endif
			}`,[Fte.textureBicubic,i,e]),r=new Ge(`vec3 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;

				// Project refracted vector on the framebuffer, while mapping to normalized device coordinates.
				vec4 ndcPos = projMatrix * viewMatrix *  vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;

				vec4 ndcPosUnrefracted = projMatrix * viewMatrix * vec4(position, 1.0 );
				vec2 unrefractedCoords = ndcPosUnrefracted.xy / ndcPosUnrefracted.w;
				unrefractedCoords += 1.0;
				unrefractedCoords /= 2.0;

				// Sample framebuffer to get pixel the refracted ray hits.
				return getTransmissionSample( refractionCoords, roughness, ior, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, unrefractedCoords, aspectRatio );
    		}`,[n,t]);return{transmission:new Ge(`vec3 transmission(float thickness, float ior, float roughness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio, vec3 normal, float mask, float alpha, out float calpha) {
                vec3 v = vec3(0.);
                if (isOrthographic) {
                    v = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
                } else {
                    v = normalize(vWPosition - cameraPosition);
                }
                vec3 transmission = getIBLVolumeRefraction(vWNormal, -v, roughness,  vWPosition, modelMatrix, viewMatrix, projectionMatrix, ior, thickness, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, aspectRatio );
                
				float lalpha = alpha * mask;
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * alpha;

				return transmission;
            }`,[r])}}();var Vb=(e=>(e.NOISE="noise",e.MAP="map",e))(Vb||{}),cD=class extends vi{constructor(e,t,i,n,r,a,s,o,l,d,u){super("v3"),this.displacementTypeIndex=new xi(0),this.nodeType="VertexDisplacement",this.intensity=e,this.movementOrTexture=t,Object.values(Vb)[this.displacementTypeIndex.value]==="map"&&(this.mat=new HT(this.movementOrTexture.value.matrix)),this.cropOrOffset=i,this.scale=d,this.noiseFunctionIndex=u,this.voronoiStyle=n,this.smoothness=r,this.seed=a,this.highCut=s,this.lowCut=o,this.quality=l}generate(e,t){if(e.isShader("vertex")){e.define("USE_LAYER_DISPLACE");let i,n=[];switch(n.push("displaced_position"),n.push("displaced_normal"),Object.values(Vb)[this.displacementTypeIndex.value]){case"map":{i=e.include(cD.Nodes.map),n.push(this.movementOrTexture.getTexture(e,"t")),n.push("uv"),n.push(this.cropOrOffset.build(e,"f")),this.mat&&n.push(this.mat.build(e,"mat3"));break}case"noise":{let r=Object.values(Ub)[this.noiseFunctionIndex.value],a=new Ge(`vec3 orthogonal(vec3 v) {
							return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));
						}`),s=r=="voronoi"?`
					float v = ${r}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1), voronoiStyle, smoothness, seed, quality);
					v = remap(v, lowCut, highCut, 0.0, 1.0);
					v = smax(v, 0.0, smoothness * 0.25);
					v = smin(v, 1.0, smoothness * 0.25);

					return p + n * v * intensity;
					`:`
					return p + n * ${r}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1)) * intensity;
					`,o=new Ge(`vec3 distorted(vec3 p, vec3 n, float scale, float intensity, vec3 offset, float neighbour_offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality) {
							${s}
						}`,[Lr.simplex,Lr.simplexFractal,Lr.simplexAshima,Lr.fbm,Lr.perlin,Lr.voronoi]),l=new Ge(`vec3 vertexDisplacementNoise(vec3 position, vec3 normal, float scale, vec3 offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality, float intensity, out vec3 displaced_normal) {
							vec3 displaced_position = distorted(position, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							vec3 tangent1 = orthogonal(normal);
							vec3 tangent2 = normalize(cross(normal, tangent1));

                            // TODO(Max): The distance to the neighbors was originally scaled by 0.1.
                            // This caused some small oval/circular visual artifacts in the lighting.
                            // For now, simply using neighbors further away betters the problem,
                            // but we should figure out the underlying cause when we have some time.
                            // Maybe its related to how we calculate the tangent and bitangent?
							vec3 nearby1 = position + tangent1;
							vec3 nearby2 = position + tangent2;
							vec3 distorted1 = distorted(nearby1, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							vec3 distorted2 = distorted(nearby2, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							displaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));
							return displaced_position;
						}`,[o,a]);i=e.include(l),n.push(this.scale.build(e,"f")),n.push(this.cropOrOffset.build(e,"v3")),n.push(this.movementOrTexture.build(e,"f")),n.push(this.voronoiStyle.build(e,"i")),n.push(this.smoothness.build(e,"f")),n.push(this.seed.build(e,"f")),n.push(this.highCut.build(e,"f")),n.push(this.lowCut.build(e,"f")),n.push(this.quality.build(e,"i"));break}}return n.push(this.intensity.build(e,"f")),n.push("displaced_normal"),e.format(i+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("VertexDisplacementNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},uD=cD;uD.Nodes=function(){let e=new Ge(`vec3 orthogonal(vec3 v) {
				return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));
			}`),t=new Ge(`float displacementMapTexture(sampler2D tex, float crop, vec2 uv, mat3 mat, vec2 offset) {
				vec2 uvs = (mat * vec3(uv * 2.0 - 1.0, 1.0) / 2.0 + 0.5).xy + offset;
				vec4 tmp = texture2D(tex, uvs);
				vec3 col = tmp.rgb;
				if (crop > 0.5) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						return 0.0;
					}
				}
				return col.r;
			}`);return{map:new Ge(`vec3 vertexDisplacementMap(vec3 position, vec3 normal, sampler2D tex, vec2 uv, float crop, mat3 mat, float intensity, out vec3 displaced_normal) {
				vec3 displaced_position = position + normal * displacementMapTexture(tex, crop, uv, mat, vec2(0.0)) * intensity;
				vec3 tangent1 = normalize(orthogonal(normal));
				vec3 tangent2 = normalize(cross(normal, tangent1));
				vec3 nearby1 = position + tangent1 * 0.1;
				vec3 nearby2 = position + tangent2 * 0.1;
				vec3 distorted1 = nearby1 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;
				vec3 distorted2 = nearby2 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;
				displaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));
				return displaced_position;
			}`,[e,t])}}();var vt={normalRenderTarget:new ho,normalRenderTargetDepth:new ho,transmissionRenderTarget:new ho,aspectRatio:new Un,transmissionSize:new Un(2048,2048),transmissionRenderTargetDepth:new ho,aoRenderTarget:new ho,aoEnabled:new yr,pixelRatioNode:new $e(1),resolution:new Un,penumbraSize:new cd(5,.5),frameIndex:new xi(0),transmissionLod:new xi(2)};for(let e of Object.values(vt))e.isRenderGlobal=!0;var fD=class extends ol{constructor(){super("basic"),this.nodeType="Basic",this.color=new Hi(ga),this.shadingAlpha=new $e(1),this.shadingBlend=new xi(0),this.previousModelViewMatrix=new Ms,this.previouseProjectionMatrix=new Ms}get category(){return"phong"}generate(e){let t;if(e.isShader("vertex")){let i=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:vt.frameIndex}),e.mergeUniform({resolution:vt.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(ac.merge([Ue.fog])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>"].join(`
`));let n=["#include <beginnormal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#if defined( USE_LAYER_DISPLACE )
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <begin_vertex>
				#endif /* !USE_LAYER_DISPLACE */
				`];i&&n.push(i.code,i.result?"displaced_position = "+i.result+";":""),n.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","	vNormal = transformedNormal;","#endif"),n.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>"),n.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=n.join(`
`)}else{this.color===void 0&&(this.color=new Hi(ga)),this.color.analyze(e,{slot:"color"}),this.alpha&&this.alpha.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"});let i=this.color.flow(e,"c",{slot:"color"}),n=this.alpha?this.alpha.flow(e,"f"):void 0,r=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,a=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0;e.requires.transparent=n!==void 0,e.addParsCode(["varying vec3 vWPosition;","#include <fog_pars_fragment>","#include <dithering_pars_fragment>","varying vec3 vViewPosition;","#include <normal_pars_fragment>"].join(`
`));let s=["#include <normal_fragment_begin>",i.code];n&&s.push(n.code,"#ifdef ALPHATEST"," if ( "+n.result+" <= ALPHATEST ) discard;","#endif"),a?s.push(a.code,`vec3 outgoingLight = ${i.result};`,`vec3 finalColor = spe_blend(outgoingLight, ${a.result}, 1.0, SPE_BLENDING_NORMAL);`):s.push(`vec3 finalColor = ${i.result};`);let o="1.0";this.mask&&(this.mask.analyze(e),o=`luminance(${this.mask.flow(e,"v3").result})`),n?s.push(`gl_FragColor = vec4( finalColor, accumAlpha * ${n.result} * ${o} );`):s.push("gl_FragColor = vec4("+i.result+", 1.0 );"),r&&s.push(`gl_FragColor.a *= ${r.result};`),s.push("#include <fog_fragment>","#include <dithering_fragment>"),t=s.join(`
`)}return t}},Ute=class extends ol{constructor(){super("lambert"),this.nodeType="Lambert",this.color=new Hi(ga),this.emissive=new Hi(0),this.emissiveIntensity=new $e(1),this.previousModelViewMatrix=new Ms,this.previouseProjectionMatrix=new Ms,this.shadingAlpha=new $e(1),this.shadingBlend=new xi(0),this.occlusion=new yr(!0)}get category(){return"lambert"}build(e){let t;if(e.define("LAMBERT"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let i=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:vt.frameIndex}),e.mergeUniform({resolution:vt.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(ac.merge([Ue.fog,Ue.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","	varying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <color_pars_vertex>","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let n=["#include <beginnormal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];i&&n.push(i.code,i.result?"displaced_position = "+i.result+";":""),n.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),n.push("	#include <project_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>",`
					vec3 diffuse = vec3( 1.0 );
					GeometricContext geometry;
					geometry.position = mvPosition.xyz;
					geometry.normal = normalize( transformedNormal );
					geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
				`),n.push(`
					GeometricContext backGeometry;
					backGeometry.position = geometry.position;
					backGeometry.normal = -geometry.normal;
					backGeometry.viewDir = geometry.viewDir;
					vLightFront = vec3( 0.0 );
					vIndirectFront = vec3( 0.0 );
					#ifdef DOUBLE_SIDED
						vLightBack = vec3( 0.0 );
						vIndirectBack = vec3( 0.0 );
					#endif
					IncidentLight directLight;
					float dotNL;
					vec3 directLightColor_Diffuse;
					vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
					vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
					#ifdef DOUBLE_SIDED
						vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
						vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
					#endif
					#if NUM_POINT_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
							getPointLightInfo( pointLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_SPOT_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
							getSpotLightInfo( spotLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_DIR_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
							getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_HEMI_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
							vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
							#ifdef DOUBLE_SIDED
								vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
							#endif
						}
						#pragma unroll_loop_end
					#endif
				`,"	#include <shadowmap_vertex>","	#include <fog_vertex>"),n.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=n.join(`
`)}else{e.mergeUniform({penumbraSize:vt.penumbraSize}),e.mergeUniform({frameIndex:vt.frameIndex}),e.mergeUniform({aoMap:vt.aoRenderTarget}),e.mergeUniform({aoEnabled:vt.aoEnabled}),this.color===void 0&&(this.color=new Hi(ga)),this.color.analyze(e,{slot:"color"}),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let i=this.color.flow(e,"c",{slot:"color"}),n=this.emissive.flow(e,"c",{slot:"emissive"}),r=this.emissiveIntensity.flow(e,"f",{slot:"emissive"}),a=this.occlusion.flow(e,"b",{slot:"occlusion"}),s=this.shadingAlpha.flow(e,"f"),o=this.shadingBlend.flow(e,"i"),l=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,d=this.alpha?this.alpha.flow(e,"f"):void 0,u=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=d!==void 0,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#include <normal_pars_fragment>","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","	varying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <fog_pars_fragment>","#include <shadowmap_pars_fragment>","#include <shadowmask_pars_fragment>","#include <clipping_planes_pars_fragment>","#include <dithering_pars_fragment>"].join(`
`));let c=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx, viewdy));
				bool isFrontFacing = (dot(normal, faceNormal) >= 0.0);
				`,"#include <clipping_planes_fragment>"];c.push(i.code,"vec3 diffuseColor = "+i.result+";","ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );"),d&&c.push(d.code,"#ifdef ALPHATEST","if ( "+d.result+" <= ALPHATEST ) discard;","#endif"),c.push("#ifdef DOUBLE_SIDED","	reflectedLight.indirectDiffuse += ( isFrontFacing ) ? vIndirectFront : vIndirectBack;","#else","	reflectedLight.indirectDiffuse += vIndirectFront;","#endif","#include <lightmap_fragment>","reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );","#ifdef DOUBLE_SIDED","	reflectedLight.directDiffuse = ( isFrontFacing ) ? vLightFront : vLightBack;","#else","	reflectedLight.directDiffuse = vLightFront;","#endif","reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();"),n&&c.push(n.code,"reflectedLight.directDiffuse += "+n.result+" * "+r.result+";"),c.push("vec3 ao = aoEnabled && "+a.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = (reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) ;");let f="1.0";this.mask&&(this.mask.analyze(e),f=`luminance(${this.mask.flow(e,"v3").result})`),c.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${s.result} * ${f} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${s.result} * ${f}, ${o.result} );

					outgoingLight *= ao;
				}
				`),l&&c.push(l.code,`outgoingLight = spe_blend(outgoingLight, ${l.result}, 1.0, SPE_BLENDING_NORMAL);`),d?c.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${d.result} );`):c.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),u&&c.push(`gl_FragColor.a *= ${u.result};`),c.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=c.join(`
`)}return t}},uu=function(){let e=new Ge(`vec2 dHdxy(sampler2D bumpMap, vec2 bumpMapUv, float bumpScale) {

            // Gradient of UVs w.r.t. X coordinate (in screen-space)
            vec2 dSTdx = dFdx(bumpMapUv);

            // Gradient of UVs w.r.t. Y coordinate (in screen-space)
            vec2 dSTdy = dFdy(bumpMapUv);
            
            // Forward differencing
            float Hll = bumpScale * luminance(texture(bumpMap, bumpMapUv).rgb);
            float dBx = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdx).rgb) - Hll;
            float dBy = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdy).rgb) - Hll;
            
            return vec2( dBx, dBy );
        }`),t=new Ge(`vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
            vec3 vSigmaX = dFdx( surf_pos.xyz );
            vec3 vSigmaY = dFdy( surf_pos.xyz );
            vec3 vN = surf_norm; // normalized
            
            vN = normalize(vN);

            vec3 R1 = cross( vSigmaY, vN );
            vec3 R2 = cross( vN, vSigmaX );

            R1 = normalize(R1);
            R2 = normalize(R2);
    
            float fDet = dot( vSigmaX, R1 ) * faceDirection;
    
            vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
            return normalize( abs( fDet ) * vN - vGrad );
        }`);return{dHdxy:e,perturbNormalArb:t}}(),Vte=class extends ol{constructor(){super("phong"),this.nodeType="Phong",this.color=new Hi(ga),this.specular=new Hi(1118481),this.shininess=new $e(30),this.previousModelViewMatrix=new Ms,this.previouseProjectionMatrix=new Ms,this.shadingAlpha=new $e(1),this.shadingBlend=new xi(0),this.occlusion=new yr(!0)}get category(){return"phong"}build(e){let t;if(e.define("PHONG"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let i=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:vt.frameIndex}),e.mergeUniform({resolution:vt.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(ac.merge([Ue.fog,Ue.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let n=["#include <beginnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif


				vec3 displaced_position = position;
				vec3 displaced_normal = objectNormal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];i&&n.push(i.code,i.result?"displaced_position = "+i.result+";":""),n.push("transformed = displaced_position;","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),n.push("	#include <project_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>","	#include <shadowmap_vertex>","	#include <fog_vertex>"),n.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=n.join(`
`)}else{e.mergeUniform({penumbraSize:vt.penumbraSize}),e.mergeUniform({frameIndex:vt.frameIndex}),e.mergeUniform({aoMap:vt.aoRenderTarget}),e.mergeUniform({aoEnabled:vt.aoEnabled}),this.color===void 0&&(this.color=new Hi(ga)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e);let i=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let n=this.color.flow(e,"c",{slot:"color"}),r=this.specular.flow(e,"c"),a=this.shininess.flow(e,"f"),s=this.shadingAlpha.flow(e,"f"),o=this.shadingBlend.flow(e,"i"),l=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,d=this.alpha?this.alpha.flow(e,"f"):void 0,u=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=d!==void 0,e.addParsCode(["varying vec3 vWPosition;","uniform vec3 emissive;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_phong_pars_fragment>","#include <shadowmap_pars_fragment>","#include <dithering_pars_fragment>"].join(`
`));let c=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	BlinnPhongMaterial material;"];if(this.bumpMap){e.include(uu.dHdxy),e.include(uu.perturbNormalArb);let h=this.bumpMap.texture.flow(e,"t"),p=this.bumpMap.flow(e,"v3"),m=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",g="";this.bumpMap.projection.value===4?g=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${h.result}, uv0, ${m});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${h.result}, uv1, ${m});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${h.result}, uv2, ${m});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:g=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${h.result}, bumpMapCachedUv, ${m});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,c.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${p.result};
					${g}
					`)}c.push(n.code,"	vec3 diffuseColor = "+n.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","	vec3 totalEmissiveRadiance = emissive;",r.code,"	vec3 specular = "+r.result+";",a.code,"	float shininess = max( 0.0001, "+a.result+" );","	float specularStrength = 1.0;"),d&&c.push(d.code,"#ifdef ALPHATEST","if ( "+d.result+" <= ALPHATEST ) discard;","#endif"),c.push("material.diffuseColor = diffuseColor;"),c.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),c.push("vec3 ao = aoEnabled && "+i.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;");let f="1.0";this.mask&&(this.mask.analyze(e),f=`luminance(${this.mask.flow(e,"v3").result})`),c.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${s.result} * ${f} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${s.result} * ${f}, ${o.result} );
					
					outgoingLight *= ao;
				}
				`),l&&c.push(l.code,`outgoingLight = spe_blend(outgoingLight, ${l.result}, 1.0, SPE_BLENDING_NORMAL);`),d?c.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${d.result});`):c.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),u&&c.push(`gl_FragColor.a *= ${u.result};`),c.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=c.join(`
`)}return t}},Hte=class extends ol{constructor(){super("standard"),this.nodeType="Standard",this.color=new Hi(ga),this.roughness=new $e(.3),this.metalness=new $e(0),this.reflectivity=new $e(.5),this.previousModelViewMatrix=new Ms,this.previouseProjectionMatrix=new Ms,this.shadingAlpha=new $e(1),this.shadingBlend=new xi(0),this.occlusion=new yr(!0)}get category(){return"physical"}build(e){let t;if(e.define("STANDARD"),e.requires.lights=!0,e.extensions.derivatives=!0,e.extensions.shaderTextureLOD=!0,e.isShader("vertex")){let i=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:vt.frameIndex}),e.mergeUniform({resolution:vt.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(ac.merge([Ue.fog,Ue.lights])),Ue.LTC_1&&(e.uniforms.ltc_1={value:void 0},e.uniforms.ltc_2={value:void 0}),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let n=["#include <beginnormal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#if defined( USE_LAYER_DISPLACE )
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <begin_vertex>
				#endif /* !USE_LAYER_DISPLACE */
				`];i&&n.push(i.code,i.result?"displaced_position = "+i.result+";":""),n.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),n.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>","#include <shadowmap_vertex>"),n.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=n.join(`
`)}else{e.mergeUniform({penumbraSize:vt.penumbraSize}),e.mergeUniform({frameIndex:vt.frameIndex}),e.mergeUniform({aoMap:vt.aoRenderTarget}),e.mergeUniform({aoEnabled:vt.aoEnabled});let i={gamma:!0};this.color===void 0&&(this.color=new Hi(ga)),this.color.analyze(e,{slot:"color",context:i}),this.roughness.analyze(e),this.metalness.analyze(e);let n=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e),this.reflectivity&&this.reflectivity.analyze(e);let r=this.color.flow(e,"c",{slot:"color",context:i}),a=this.roughness.flow(e,"f"),s=this.metalness.flow(e,"f"),o=this.shadingAlpha.flow(e,"f"),l=this.shadingBlend.flow(e,"i"),d=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,u=this.alpha?this.alpha.flow(e,"f"):void 0,c=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,f=this.reflectivity?this.reflectivity.flow(e,"f"):void 0;e.requires.transparent=u!==void 0,e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <dithering_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_physical_pars_fragment>","#include <shadowmap_pars_fragment>"].join(`
`));let h=["#include <clipping_planes_fragment>","	#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	PhysicalMaterial material;","	material.diffuseColor = vec3( 1.0 );"];if(this.bumpMap){e.include(uu.dHdxy),e.include(uu.perturbNormalArb);let m=this.bumpMap.texture.flow(e,"t"),g=this.bumpMap.flow(e,"v3"),v=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",y="";this.bumpMap.projection.value===4?y=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${m.result}, uv0, ${v});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${m.result}, uv1, ${v});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${m.result}, uv2, ${v});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:y=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${m.result}, bumpMapCachedUv, ${v});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,h.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${g.result};
					${y}
					`)}if(h.push(r.code,"	vec3 diffuseColor = "+r.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",s.code,"	float metalnessFactor = "+s.result+";"),this.roughnessMap){let m=this.roughnessMap.texture.flow(e,"t"),g=this.roughnessMap.flow(e,"v3"),v="";this.roughnessMap.projection.value===4?v=`
					float roughnessChange = 1.0;
					{
						vec2 uv0 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						float r0 = luminance(texture(${m.result}, uv0).rgb) * roughnessScale;
						float r1 = luminance(texture(${m.result}, uv1).rgb) * roughnessScale;
						float r2 = luminance(texture(${m.result}, uv2).rgb) * roughnessScale;

						roughnessChange = (r0 * weights.z + r1 * weights.x + r2 * weights.y);
					}
					float roughnessFactor = roughnessChange * ${a.result};
					`:v=`
					vec2 roughnessMapCachedUv = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs;

					vec4 vals = texture(${m.result},  roughnessMapCachedUv);
					float roughnessFactor = luminance(vals.rgb) * ${a.result};
					`,h.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${g.result};

					const float roughnessScale = 1.0;

					${v}
				`)}else h.push(a.code,"	float roughnessFactor = "+a.result+";");u&&h.push(u.code,"#ifdef ALPHATEST","	if ( "+u.result+" <= ALPHATEST ) discard;","#endif"),h.push("vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );"),h.push("material.diffuseColor = diffuseColor * ( 1.0 - metalnessFactor );","material.roughness = max( roughnessFactor, 0.0525 );","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.roughness = clamp( roughnessFactor, 0.04, 1.0 );"),f?h.push(f.code,"material.specularColor = mix( vec3( 0.16 * pow2( "+f.result+" ) ), diffuseColor, metalnessFactor );"):h.push("material.specularColor = mix( vec3( 0.04 ), diffuseColor, metalnessFactor );"),h.push("#include <lights_fragment_begin>"),h.push("#include <lights_fragment_end>"),h.push("vec3 ao = aoEnabled && "+n.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular;");let p="1.0";this.mask&&(this.mask.analyze(e),p=`luminance(${this.mask.flow(e,"v3").result})`),h.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${o.result} * ${p} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${o.result} * ${p}, ${l.result} );
					
					outgoingLight *= ao;
				}
				`),d&&h.push(d.code,`outgoingLight = spe_blend(outgoingLight, ${d.result}, 1.0, SPE_BLENDING_NORMAL);`),u?h.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${u.result} );`):h.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),c&&h.push(`gl_FragColor.a *= ${c.result};`),h.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=h.join(`
`)}return t}},Gte=class extends ol{constructor(){super("toon"),this.nodeType="Toon",this.color=new Hi(ga),this.specular=new Hi(1118481),this.shininess=new $e(30),this.previousModelViewMatrix=new Ms,this.previouseProjectionMatrix=new Ms,this.shadingAlpha=new $e(1),this.shadingBlend=new xi(0)}get category(){return"toon"}build(e){let t;if(e.define("TOON"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let i=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:vt.frameIndex}),e.mergeUniform({resolution:vt.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(ac.merge([Ue.fog,Ue.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let n=["#include <beginnormal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];i&&n.push(i.code,i.result?"displaced_position = "+i.result+";":""),n.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),n.push("	#include <project_vertex>","	#include <fog_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>","	#include <shadowmap_vertex>","	#include <fog_vertex>"),n.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=n.join(`
`)}else{e.mergeUniform({penumbraSize:vt.penumbraSize}),e.mergeUniform({frameIndex:vt.frameIndex}),e.mergeUniform({aoMap:vt.aoRenderTarget}),e.mergeUniform({aoEnabled:vt.aoEnabled}),this.color===void 0&&(this.color=new Hi(ga)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let i=this.color.flow(e,"c",{slot:"color"}),n=this.specular.flow(e,"c"),r=this.shininess.flow(e,"f"),a=this.shadingAlpha.flow(e,"f"),s=this.shadingBlend.flow(e,"i"),o=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,l=this.alpha?this.alpha.flow(e,"f"):void 0,d=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=l!==void 0,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vWPosition;","#include <normal_pars_fragment>","#include <gradientmap_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <dithering_pars_fragment>",`
					varying vec3 vViewPosition;
					struct ToonMaterial {
						vec3	diffuseColor;
						vec3	specularColor;
						float	specularShininess;
						float	specularStrength;
					};
					void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
						vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
			
						reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
						reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
					}
					void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
						reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
					}
					#define RE_Direct				RE_Direct_Toon
					#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
					#define Material_LightProbeLOD( material )	(0)
					`,"#include <shadowmap_pars_fragment>","#include <bumpmap_pars_fragment>","#include <normalmap_pars_fragment>"].join(`
`));let u=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	ToonMaterial material;"];if(this.bumpMap){e.include(uu.dHdxy),e.include(uu.perturbNormalArb);let f=this.bumpMap.texture.flow(e,"t"),h=this.bumpMap.flow(e,"v3"),p=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",m="";this.bumpMap.projection.value===4?m=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${f.result}, uv0, ${p});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${f.result}, uv1, ${p});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${f.result}, uv2, ${p});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:m=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${f.result}, bumpMapCachedUv, ${p});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,u.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${h.result};
					${m}
					`)}u.push(i.code,"	vec3 diffuseColor = "+i.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",n.code,"	vec3 specular = "+n.result+";",r.code,"	float shininess = max( 0.0001, "+r.result+" );","	float specularStrength = 1.0;"),l&&u.push(l.code,"#ifdef ALPHATEST","if ( "+l.result+" <= ALPHATEST ) discard;","#endif"),u.push("material.diffuseColor = diffuseColor;"),u.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),u.push("vec3 ao = aoEnabled ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) * ao) + reflectedLight.directSpecular;");let c="1.0";this.mask&&(this.mask.analyze(e),c=`luminance(${this.mask.flow(e,"v3").result})`),u.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${a.result} * ${c} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${a.result} * ${c}, ${s.result} );
				}
				`),o&&u.push(o.code,`outgoingLight = spe_blend(outgoingLight, ${o.result}, 1.0, SPE_BLENDING_NORMAL);`),l?u.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${l.result} );`):u.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),d&&u.push(`gl_FragColor.a *= ${d.result};`),u.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=u.join(`
`)}return t}},Wte=class{constructor(e=1e3*10){this.timeout=e,this.cache=new Map,this.head={data:null,time:0,src:null,next:null,prev:null},this.tail={data:null,time:1/0,src:null,next:null,prev:null},this.hasClean=!1,this.head.next=this.tail,this.tail.prev=this.head}log(...e){}remove(e){let t=this.cache.get(e);t&&(this.dispose(e,t.data),this.cache.delete(e),t.prev.next=t.next,t.next.prev=t.prev)}scheduleCleanup(){this.hasClean||(this.log("scheduled cleanup"),this.hasClean=!0,setTimeout(()=>{this.hasClean=!1,this.log("cleaning");let e=Date.now(),t=this.head.next;for(;t.time<e-this.timeout;)this.dispose(t.src,t.data),this.cache.delete(t.src),t=t.next,t.prev=this.head,this.head.next=t;this.head.next!==this.tail?this.scheduleCleanup():this.log("no more cleanup")},this.timeout+1e3))}has(e){var t;return(t=this.cache.get(e))==null?void 0:t.data}load(e){let t=Date.now(),i=this.cache.get(e);return i===void 0?(i={data:this.create(e),src:e,time:t,next:null,prev:null},this.cache.set(e,i)):(i.time=t,i.prev.next=i.next,i.next.prev=i.prev),i.prev=this.tail.prev,i.next=this.tail,this.tail.prev.next=i,this.tail.prev=i,this.scheduleCleanup(),i.data}},qte=class extends Wte{create(e){return URL.createObjectURL(new Blob([e]))}dispose(e,t){URL.revokeObjectURL(t)}},Hb;function Zte(e){return typeof e=="string"?e:(Hb||(Hb=new qte),Hb.load(e))}var Yte=class{constructor(e,t){this.data=e,this.cache=t,this.refCount=0}deref(){this.refCount,this.refCount-=1,this.refCount===0&&(this.cache.remove(this),this.dispose())}dispose(){this.refCount}},Xte=class{constructor(){this.cache=new Map}remove(e){this.cache.delete(e.data)}load(e){let t=this.cache.get(e);return t===void 0&&(t=this.create(e),this.cache.set(e,t)),t.refCount+=1,t}},hD=class extends Yte{constructor(e,t){super(e,t.imageHolderCache),this.data=e,this.shared=t,this.loaded=!1,this.isVideo=!1,this.isVideo=e.type==="video",this.updateSrc(e.data)}updateSrc(e){return ri(this,null,function*(){if(typeof document>"u")return;this.disposeTextures(),this.loaded=!1;let t=()=>{this.loaded=!0;let n=[1e3,1001,1002];for(let r of n){let a=this[r];a&&(a.image=this.img,a.needsUpdate=!0)}this.shared.requestRender()};if(this.isVideo){if(this.img=document.createElement("video"),this.img.preload="auto",this.img.playsInline=!0,this.img.currentTime=.01,typeof e!="string"){var i=new FileReader;i.readAsDataURL(new Blob([e],{type:"video/mp4"}));let n;yield new Promise(r=>{i.onloadend=a=>{var s;n=(s=a.target)==null?void 0:s.result,r(null)}}),this.img.src=n}else this.img.src=e;this.img.onloadeddata=()=>{t()}}else this.img=new Image,this.img.src=Zte(e),this.img.onload=t})}getTexture(e){let t=this[e];if(t)return t;{let i;return this.isVideo?i=new WU(this.img,void 0,e,e):i=new gn(this.img,void 0,e,e),this.loaded&&(i.needsUpdate=!0),this[e]=i,i}}disposeTextures(){var e,t,i;(e=this[1e3])==null||e.dispose(),this[1e3]=void 0,(t=this[1001])==null||t.dispose(),this[1001]=void 0,(i=this[1002])==null||i.dispose(),this[1002]=void 0}dispose(){super.dispose(),this.disposeTextures()}},fd=class extends hD{};function Kte(e,t){var i=eie(t);return i.formatToParts?Jte(i,e):$te(i,e)}var Qte={year:0,month:1,day:2,hour:3,minute:4,second:5};function Jte(e,t){try{for(var i=e.formatToParts(t),n=[],r=0;r<i.length;r++){var a=Qte[i[r].type];a>=0&&(n[a]=parseInt(i[r].value,10))}return n}catch(s){if(s instanceof RangeError)return[NaN];throw s}}function $te(e,t){var i=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(i);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var Gb={};function eie(e){if(!Gb[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),i=t==="06/25/2014, 00:00:00"||t==="\u200E06\u200E/\u200E25\u200E/\u200E2014\u200E \u200E00\u200E:\u200E00\u200E:\u200E00";Gb[e]=i?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Gb[e]}function pD(e,t,i,n,r,a,s){var o=new Date(0);return o.setUTCFullYear(e,t,i),o.setUTCHours(n,r,a,s),o}var mD=36e5,tie=6e4,Wb={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function gD(e,t,i){var n,r;if(!e||(n=Wb.timezoneZ.exec(e),n))return 0;var a;if(n=Wb.timezoneHH.exec(e),n)return a=parseInt(n[1],10),vD(a)?-(a*mD):NaN;if(n=Wb.timezoneHHMM.exec(e),n){a=parseInt(n[1],10);var s=parseInt(n[2],10);return vD(a,s)?(r=Math.abs(a)*mD+s*tie,a>0?-r:r):NaN}if(rie(e)){t=new Date(t||Date.now());var o=i?t:iie(t),l=qb(o,e),d=i?l:nie(t,l,e);return-d}return NaN}function iie(e){return pD(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function qb(e,t){var i=Kte(e,t),n=pD(i[0],i[1]-1,i[2],i[3]%24,i[4],i[5],0).getTime(),r=e.getTime(),a=r%1e3;return r-=a>=0?a:1e3+a,n-r}function nie(e,t,i){var n=e.getTime(),r=n-t,a=qb(new Date(r),i);if(t===a)return t;r-=a-t;var s=qb(new Date(r),i);return a===s?a:Math.max(a,s)}function vD(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var yD={};function rie(e){if(yD[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),yD[e]=!0,!0}catch(t){return!1}}var aie=En(EB(),1),bD=En(TB(),1),sie=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,oie=sie,Zb=36e5,_D=6e4,lie=2,br={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:oie};function die(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var i=t||{},n=i.additionalDigits==null?lie:(0,aie.default)(i.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var r=cie(e),a=uie(r.date,n),s=a.year,o=a.restDateString,l=fie(o,s);if(isNaN(l))return new Date(NaN);if(l){var d=l.getTime(),u=0,c;if(r.time&&(u=hie(r.time),isNaN(u)))return new Date(NaN);if(r.timeZone||i.timeZone){if(c=gD(r.timeZone||i.timeZone,new Date(d+u)),isNaN(c))return new Date(NaN)}else c=(0,bD.default)(new Date(d+u)),c=(0,bD.default)(new Date(d+u+c));return new Date(d+u+c)}else return new Date(NaN)}function cie(e){var t={},i=br.dateTimePattern.exec(e),n;if(i?(t.date=i[1],n=i[3]):(i=br.datePattern.exec(e),i?(t.date=i[1],n=i[2]):(t.date=null,n=e)),n){var r=br.timeZone.exec(n);r?(t.time=n.replace(r[1],""),t.timeZone=r[1].trim()):t.time=n}return t}function uie(e,t){var i=br.YYY[t],n=br.YYYYY[t],r;if(r=br.YYYY.exec(e)||n.exec(e),r){var a=r[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(r=br.YY.exec(e)||i.exec(e),r){var s=r[1];return{year:parseInt(s,10)*100,restDateString:e.slice(s.length)}}return{year:null}}function fie(e,t){if(t===null)return null;var i,n,r,a;if(e.length===0)return n=new Date(0),n.setUTCFullYear(t),n;if(i=br.MM.exec(e),i)return n=new Date(0),r=parseInt(i[1],10)-1,kD(t,r)?(n.setUTCFullYear(t,r),n):new Date(NaN);if(i=br.DDD.exec(e),i){n=new Date(0);var s=parseInt(i[1],10);return gie(t,s)?(n.setUTCFullYear(t,0,s),n):new Date(NaN)}if(i=br.MMDD.exec(e),i){n=new Date(0),r=parseInt(i[1],10)-1;var o=parseInt(i[2],10);return kD(t,r,o)?(n.setUTCFullYear(t,r,o),n):new Date(NaN)}if(i=br.Www.exec(e),i)return a=parseInt(i[1],10)-1,SD(t,a)?wD(t,a):new Date(NaN);if(i=br.WwwD.exec(e),i){a=parseInt(i[1],10)-1;var l=parseInt(i[2],10)-1;return SD(t,a,l)?wD(t,a,l):new Date(NaN)}return null}function hie(e){var t,i,n;if(t=br.HH.exec(e),t)return i=parseFloat(t[1].replace(",",".")),Yb(i)?i%24*Zb:NaN;if(t=br.HHMM.exec(e),t)return i=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),Yb(i,n)?i%24*Zb+n*_D:NaN;if(t=br.HHMMSS.exec(e),t){i=parseInt(t[1],10),n=parseInt(t[2],10);var r=parseFloat(t[3].replace(",","."));return Yb(i,n,r)?i%24*Zb+n*_D+r*1e3:NaN}return null}function wD(e,t,i){t=t||0,i=i||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var r=n.getUTCDay()||7,a=t*7+i+1-r;return n.setUTCDate(n.getUTCDate()+a),n}var pie=[31,28,31,30,31,30,31,31,30,31,30,31],mie=[31,29,31,30,31,30,31,31,30,31,30,31];function xD(e){return e%400===0||e%4===0&&e%100!==0}function kD(e,t,i){if(t<0||t>11)return!1;if(i!=null){if(i<1)return!1;var n=xD(e);if(n&&i>mie[t]||!n&&i>pie[t])return!1}return!0}function gie(e,t){if(t<1)return!1;var i=xD(e);return!(i&&t>366||!i&&t>365)}function SD(e,t,i){return!(t<0||t>52||i!=null&&(i<0||i>6))}function Yb(e,t,i){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||i!=null&&(i<0||i>=60))}function vie(e,t,i){var n=die(e,i),r=gD(t,n,!0),a=new Date(n.getTime()-r),s=new Date(0);return s.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),s.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),s}function _r(e,t){return t.color(e)}function AD(e=new Date,t){let i=t.format,n=e.getSeconds(),r=e;t&&t.timeZone!==null&&(r=vie(new Date,t.timeZone));let a=r.getHours(),s=r.getMinutes(),o;t.format12h24h==="12ampm"&&(o=a>=12?"PM":"AM");let l=a;t.format12h24h!=="24"&&(l=a%12,l===0&&(l=12));let d,u;switch(i){case"HH:mm:ss":d=[l,s,n];break;case"HH:mm":d=[l,s];break;case"HH":d=[l],o=void 0;break;case"mm":d=[s],o=void 0;break;case"ss":d=[n],o=void 0;break;case"year":u=r.getFullYear();break;case"month":u=r.getMonth()+1;break;case"dayOfYear":u=Math.floor((r.getTime()-new Date(r.getFullYear(),0,0).getTime())/864e5);break;case"dayOfMonth":u=r.getDate();break;case"secondOfDay":u=a*60*60+s*60+n;break;default:console.error("Unknown time format",i),u=0;break}return d!==void 0?{textValue:d,suffix:o}:u}function yie(e,t){switch(e.type){case"fresnel":return wie(e,t);case"gradient":return xie(e,t);case"depth":return kie(e,t);case"normal":return Sie(e,t);case"noise":return Aie(e,t);case"rainbow":return Mie(e,t);case"toon":return Cie(e,t);case"outline":return Eie(e,t);case"transmission":return Tie(e,t);case"color":return _ie(e,t);case"pattern":return Die(e,t)}}function bie(e){return{type:e.type}}function Ua(e,t){var s;let{alpha:i,mode:n,isMask:r}=e,a=typeof i=="string"?((s=Number(t.getVariable(i)))!=null?s:100)/100:i;return Q(R({},bie(e)),{alpha:a,mode:n,isMask:r})}function _ie(e,t){return Q(R({},Ua(e,t)),{color:_r(e.color,t)})}function wie(e,t){let{bias:i,scale:n,intensity:r,factor:a,color:s}=e;return Q(R({},Ua(e,t)),{color:_r(s,t),bias:i,scale:n,intensity:r,factor:a})}function xie(e,t){let{gradientType:i,smooth:n,colors:r,steps:a,angle:s,offset:o,morph:l}=e;return Q(R({},Ua(e,t)),{gradientType:i,smooth:n,colors:r.map(d=>new Pt(d[0],d[1],d[2],d[3])),num:r.length,steps:a,offset:new Y(...o),morph:new Y(...l),angle:s})}function kie(e,t){let{gradientType:i,near:n,far:r,isVector:a,isWorldSpace:s,origin:o,direction:l,colors:d,steps:u,smooth:c}=e;return Q(R({},Ua(e,t)),{gradientType:i,near:n,far:r,isVector:a,isWorldSpace:s,origin:new E(...o),direction:l?new E(...l):new E(1,0,0),colors:d.map(f=>f!==void 0?new Pt(f[0],f[1],f[2],f[3]):new Pt(0,0,0,0)),steps:u.slice(0,d.length),smooth:c})}function Sie(e,t){let{cnormal:i}=e;return Q(R({},Ua(e,t)),{cnormal:new E(i[0],i[1],i[2])})}function Aie(e,t){return Q(R({},Ua(e,t)),{scale:e.scale,move:e.move,fA:new Y(...e.fA),fB:new Y(...e.fB),size:new E(...e.size),distortion:new Y(...e.distortion),colorA:_r(e.colorA,t),colorB:_r(e.colorB,t),colorC:_r(e.colorC,t),colorD:_r(e.colorD,t),noiseType:e.noiseType,voronoiStyle:e.voronoiStyle,highCut:e.highCut,lowCut:e.lowCut,smoothness:e.smoothness,seed:e.seed,quality:e.quality})}function Mie(e,t){return Q(R({},Ua(e,t)),{filmThickness:e.filmThickness,movement:e.movement,wavelengths:new E(...e.wavelengths),noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,offset:new E(...e.offset)})}function Cie(e,t){return Q(R({},Ua(e,t)),{positioning:e.positioning,colors:e.colors.map(i=>new Pt(i[0],i[1],i[2],i[3])),num:e.colors.length,steps:e.steps,source:new E(...e.source),isWorldSpace:e.isWorldSpace,noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,shadowColor:_r(e.shadowColor,t),offset:new E(...e.offset)})}function Eie(e,t){return Q(R({},Ua(e,t)),{outlineColor:_r(e.outlineColor,t),contourColor:_r(e.contourColor,t),outlineWidth:e.outlineWidth,contourWidth:e.contourWidth,outlineThreshold:e.outlineThreshold,contourThreshold:e.contourThreshold,outlineSmoothing:e.outlineSmoothing,contourFrequency:e.contourFrequency,contourDirection:new E(...e.contourDirection),positionalLines:e.positionalLines,compensation:e.compensation})}function Tie(e,t){return Q(R({},Ua(e,t)),{thickness:e.thickness,ior:e.ior,roughness:e.roughness})}function Die(e,t){return Q(R({},Ua(e,t)),{style:e.style,projection:e.projection,axis:e.axis,blending:e.blending,offset:new Y(...e.offset),colorA:_r(e.colorA,t),colorB:_r(e.colorB,t),frequency:new Y(...e.frequency),size:e.size,variation:e.variation,smoothness:e.smoothness,zigzag:e.zigzag,rotation:e.rotation,vertical:new Y(...e.vertical),horizontal:new Y(...e.horizontal),sides:e.sides})}var Mg=class extends Rr{},MD={noise:["noiseType"],texture:["projection","axis","side"],video:["projection","axis","side"],displace:["noiseType"],light:["roughnessMap","bumpMap"],depth:["smooth","isWorldSpace","gradientType","isVector"],pattern:["style","projection","axis"]},CD={depth:["colors"]};function Pie(e,t,i){var a,s;if(t==="isMask")return!0;let n=MD[e.type],r=CD[e.type];if(r!==void 0){let o=e.color;if(r.includes(t)){let l=(s=(a=o[t])==null?void 0:a.value)==null?void 0:s.length;if(l!==void 0&&l!==i.length)return!0}}return n!==void 0?n.includes(t):!1}function ED(e,t,i){let n=i.uniforms[`f${i.id}_texture`];if(!n)return!1;let r=!1,a=e;if("image"in a){let s=a.image,o=t.image(s),l=n;l.image instanceof fd||l.image.deref(),l.image=o}if("video"in a){let s=a.video,o=t.video(s),l=n;l.image instanceof fd||l.image.deref(),l.image=o}if("wrapping"in a){let s=n;s.wrap=a.wrapping}if("repeat"in a||"offset"in a){let s="mat",o=i.uniforms[`f${i.id}_${s}`];"repeat"in a&&(o.repeat=a.repeat),"offset"in a&&(o.offset=a.offset),o.updateMatrix()}return r}function Iie(e,t,i,n){let r=!1;for(let[a,s]of Object.entries(e)){if(a==="bumpMap"||a==="roughnessMap"){r=!0;continue}if(!a||s===void 0)continue;if(DD(a,i,n,t)){a==="visible"&&i.type==="light"&&(r=!0);continue}i.visible=n.visible;let o=i.uniforms[`f${i.id}_${a}`];if(o&&!(o instanceof Bb))switch(r=r||Pie(i,a,s),o.constructor){case Hi:if(typeof s=="string"){let l=t.getColor(s);l&&(o.value=l);break}else{let l=s;o.value instanceof Mg?o.value=new Rr(l.r,l.g,l.b,l.a):o.setRGBA(l);break}case fo:if(typeof s=="string"){let l=t.getColor(s);l&&(o.value=l);break}else{let l=s;o.value instanceof Mg?o.value=new Rr(l.r,l.g,l.b,l.a):o.value.setRGBA(l.r,l.g,l.b,l.a);break}case Un:{let l=s;o.value.setX(l[0]),o.value.setY(l[1]);break}case va:{let l=s;o.value.setX(l[0]),o.value.setY(l[1]),o.value.setZ(l[2]);break}case ho:{ED(s,t,i);break}case ud:{o.value=s.map(l=>new Pt(...l));break}default:{o.value=s;break}}}return r}var hd=(e,t,i)=>{var n,r;return(r=Math.max(0,Math.min(1,Number((n=t.getVariable(typeof e=="number"?e*100:e,i))!=null?n:100)/100)))!=null?r:1},pd=class{constructor(e,t,i,n,r){this.id=e,this.uuid=t,this.data=i,this.uniforms={};for(let a in n)this.uniforms[`f${this.id}_${a}`]=n[a];for(let a in i)DD(a,this,i,r)}get type(){return this.data.type}static create(e,t,i,n){var r,a,s,o,l,d,u,c,f,h,p,m,g,v,y,b,_,x;if(i.type==="light")return go.createLigherLayer(e,t,i,n);if(i.type==="texture"||i.type==="video"){let k=i.type==="texture"?n.image(i.texture.image):n.video(i.texture.video),w=new Lb(k,i.texture.wrapping),S=new zte(k),A=new Bte(i.texture.repeat,i.texture.offset),M=new $e(i.crop?1:0),C=new xi((r=i.projection)!=null?r:0),T=new xi((a=["x","y","z"].indexOf(i.axis))!=null?a:0),P=new xi((s=i.side)!=null?s:0),I=new Un(i.size?new Y(i.size[0],i.size[1]):new Y(100,100)),j=new $e((o=i.blending)!=null?o:0),H=new $e(hd(i.alpha,n)),U=new xi((l=i.mode)!=null?l:0),O=new yr((d=i.isMask)!=null?d:!1),F=new Nb(w,S,M,C,T,P,I,j,A,H,U,O),Z=new Ii(F.calpha,"f");return new Gi(e,t,i,{texture:w,textureSize:S,crop:M,projection:C,axis:T,side:P,size:I,blending:j,mat:A,alpha:H,mode:U,isMask:O},F,U,Z,O,n)}else if(i.type==="matcap"){let k=n.image(i.texture.image),w=new Lb(k,i.texture.wrapping),S=new $e(hd(i.alpha,n)),A=new xi((u=i.mode)!=null?u:0),M=new yr((c=i.isMask)!=null?c:!1),C=new $T(w,S,A,M),T=new Ii(C.calpha,"f");return new Gi(e,t,i,{texture:w,alpha:S,mode:A,isMask:M},C,A,T,M,n)}else if(i.type==="displace")if(i.displacementType==="noise"){let k=new va(new E(...i.offset)),w=new $e((f=i.scale)!=null?f:10),S=new $e((h=i.intensity)!=null?h:8),A=new $e((p=i.movement)!=null?p:1),M=new xi((m=i.noiseType)!=null?m:0),C=new xi((g=i.voronoiStyle)!=null?g:0),T=new $e((v=i.smoothness)!=null?v:.5),P=new $e((y=i.seed)!=null?y:0),I=new $e((b=i.highCut)!=null?b:1),j=new $e((_=i.lowCut)!=null?_:0),H=new xi((x=i.quality)!=null?x:1),U=new uD(S,A,k,C,T,P,I,j,H,w,M);return new TD(e,t,i,{offset:k,scale:w,intensity:S,movement:A,noiseType:M,voronoiStyle:C,smoothness:T,seed:P,highCut:I,lowCut:j,quality:H},U,n)}else throw new Error;else return Rie(e,t,i,n)}updateByOp(e,t,i){let n=e;if(n.path[0]===void 0){if(n.type===0)return"type"in n.props||"category"in n.props||"visible"in n.props?(i.scene.markNeedsUpdateRendererDirty(),!0):Iie(n.props,i.shared,this,t)}else if(n.path[0]==="texture")return"texture"in t||"video"in t?ED(n.props,i.shared,this):!0;return!1}dispose(){if(Oie(this)){let e=this.uniforms[`f${this.id}_texture`];if(!e)return!1;let t=e;t.image instanceof fd||t.image.deref()}}hasValueByKey(e){return this.uniforms[e]!==void 0}hasValue(e){return this.hasValueByKey(`f${this.id}_${e}`)}setValue(e,t){let i=`f${this.id}_${e}`;this.hasValueByKey(i)&&t!==void 0&&(this.uniforms[i].value=t)}getNode(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t]}getValue(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t].value}getName(e){let t=/f\d+_(.*)/.exec(e);if(t&&t.length>1)return t[1];console.log(`Layer.getName: error ${e}`)}getNames(){let e=[];for(let t in this.uniforms){let i=this.getName(t);i&&e.push(i)}return e}},Gi=class extends pd{constructor(e,t,i,n,r,a,s,o,l){super(e,t,i,n,l),this.params=n,this.color=r,this.mode=a,this.alpha=s,this.isMask=o}},TD=class extends pd{constructor(e,t,i,n,r,a){super(e,t,i,n,a),this.position=r}},go=class extends pd{constructor(e,t,i,n,r,a){super(e,t,i,r,a),this.node=n}static createLigherLayer(e,t,i,n){var u,c,f,h,p,m,g,v,y,b,_;let r,a=new $e(hd(i.alpha,n)),s=new xi(i.mode),o=new $e(i.bumpMapIntensity),l=new $e(hd(i.alphaOverride,n)),d;if(!i.visible)r=new fD,d={};else if(i.category==="lambert"){r=new Ute;let x=new Hi((u=n.color(i.emissive))!=null?u:0),k=new yr((c=i.occlusion)!=null?c:!0);d={emissive:x,occlusion:k},r.emissive=x,r.occlusion=k}else if(i.category==="toon"){r=new Gte;let x=new $e((f=i.shininess)!=null?f:30),k=new Hi((h=n.color(i.specular))!=null?h:1118481);d={shininess:x,specular:k},r.shininess=x,r.specular=k}else if(i.category==="physical"){r=new Hte;let x=new $e((p=i.roughness)!=null?p:.3),k=new $e((m=i.metalness)!=null?m:0),w=new $e((g=i.reflectivity)!=null?g:.5),S=new yr((v=i.occlusion)!=null?v:!0);d={roughness:x,metalness:k,reflectivity:w,occlusion:S},r.roughness=x,r.metalness=k,r.reflectivity=w,r.occlusion=S}else{r=new Vte;let x=new $e((y=i.shininess)!=null?y:30),k=new Hi(i.specular!==void 0&&(b=n.color(i.specular))!=null?b:1118481),w=new yr((_=i.occlusion)!=null?_:!0);d={shininess:x,specular:k,occlusion:w},r.shininess=x,r.specular=k,r.occlusion=w}return r.alpha=new $e(1),r.shadingAlpha=a,r.shadingBlend=s,r.bumpMapIntensity=o,r.alphaOverride=l,d.alpha=r.shadingAlpha,d.mode=r.shadingBlend,d.bumpMapIntensity=r.bumpMapIntensity,d.alphaOverride=r.alphaOverride,new go(e,t,i,r,d,n)}get category(){return this.node.category}};function Oie(e){let t=e instanceof pd?e.type:e;return t==="texture"||t==="video"||t==="displace_map"||t==="matcap"}function ya(e){var t,i,n;return{alpha:new $e((t=e.alpha)!=null?t:1),mode:new xi((i=e.mode)!=null?i:0),isMask:new yr((n=e.isMask)!=null?n:!1)}}function jie(e,t,i,n,r){var a,s,o,l,d,u,c,f,h,p,m,g,v,y,b,_,x,k,w,S,A,M,C,T,P,I,j,H,U,O,F,Z,G,L,X,q,J,W,ce,te,oe,ie,we,pe,fe,Le,Be,Ne,Ye,ze,Pe,Ze,st,V,z,le,Ie,ke,je,tt,We,Se,qe,it,Qe,ht,lt,Vt,oi,ji,$,be,Oe;switch(e.type){case"color":{let ye=new Hi((a=n.color)!=null?a:ga),Ce=ya(n),Fe=new Fb(ye,Ce.alpha),nt=new Ii(Fe.calpha,"f");return new Gi(t,i,e,R({color:ye},Ce),Fe,Ce.mode,nt,Ce.isMask,r)}case"fresnel":{let ye=new Hi((s=n.color)!=null?s:16777215),Ce=new $e((o=n.bias)!=null?o:.1),Fe=new $e((l=n.scale)!=null?l:1),nt=new $e((d=n.intensity)!=null?d:2),mt=new $e((u=n.factor)!=null?u:1),Mt=ya(n),rt=new Lte(ye,Ce,Fe,nt,mt,Mt.alpha,Mt.mode,Mt.isMask),Tt=new Ii(rt.calpha,"f");return new Gi(t,i,e,R({color:ye,bias:Ce,scale:Fe,intensity:nt,factor:mt},Mt),rt,Mt.mode,Tt,Mt.isMask,r)}case"rainbow":{let ye=new $e((c=n.filmThickness)!=null?c:30),Ce=new $e((f=n.movement)!=null?f:0),Fe=new va((h=n.wavelengths)!=null?h:new E(0,0,0)),nt=new $e((p=n.noiseStrength)!=null?p:0),mt=new $e((m=n.noiseScale)!=null?m:1),Mt=new va((g=n.offset)!=null?g:new E(0,0,0)),rt=ya(n),Tt=new aD(ye,Ce,Fe,nt,mt,Mt,rt.alpha,rt.isMask),At=new Ii(Tt.calpha,"f");return new Gi(t,i,e,R({filmThickness:ye,movement:Ce,wavelengths:Fe,noiseStrength:nt,noiseScale:mt,offset:Mt},rt),Tt,rt.mode,At,rt.isMask,r)}case"transmission":{let ye=new $e((v=n.thickness)!=null?v:10),Ce=new $e((y=n.ior)!=null?y:1.5),Fe=new $e((b=n.roughness)!=null?b:.5),nt=vt.transmissionSize,mt=vt.transmissionRenderTarget,Mt=vt.transmissionRenderTargetDepth,rt=window.innerWidth,Tt=window.innerHeight,At=rt>=Tt?new Un(Tt/rt,1):new Un(1,rt/Tt),Qt=ya(n),ki=new dD(ye,Ce,Fe,nt,mt,Mt,At,Qt.alpha),nn=new Ii(ki.calpha,"f");return new Gi(t,i,e,R({thickness:ye,ior:Ce,roughness:Fe,aspectRatio:At},Qt),ki,Qt.mode,nn,Qt.isMask,r)}case"toon":{let ye=new xi((_=n.positioning)!=null?_:0),Ce;n.colors?Ce=new ud(n.colors.length,n.colors):(Ce=new ud(10,new Pt(0,0,0,1)),Ce.value[1]=new Pt(1,1,1,1));let Fe;n.steps?Fe=new cd(n.steps.length,n.steps):(Fe=new cd(10,1),Fe.value[0]=0);let nt=new va((x=n.source)!=null?x:new E(0,0,0)),mt=new yr((k=n.isWorldSpace)!=null?k:!0),Mt=new $e((w=n.noiseStrength)!=null?w:0),rt=new $e((S=n.noiseScale)!=null?S:1),Tt=new fo(n.shadowColor),At=new va((A=n.offset)!=null?A:new E(0,0,0)),Qt=ya(n),ki=new oD(ye,Ce,Fe,nt,mt,Mt,rt,Tt,At,Qt.alpha),nn=new Ii(ki.calpha,"f");return new Gi(t,i,e,R({positioning:ye,colors:Ce,steps:Fe,source:nt,isWorldSpace:mt,noiseStrength:Mt,noiseScale:rt,shadowColor:Tt,offset:At},Qt),ki,Qt.mode,nn,Qt.isMask,r)}case"outline":{let ye=new Hi((M=n.outlineColor)!=null?M:16777215),Ce=new Hi((C=n.contourColor)!=null?C:16777215),Fe=new $e((T=n.outlineWidth)!=null?T:.1),nt=new $e((P=n.contourWidth)!=null?P:.1),mt=new $e((I=n.outlineThreshold)!=null?I:.1),Mt=new $e((j=n.contourThreshold)!=null?j:.1),rt=new $e((H=n.outlineSmoothing)!=null?H:.1),Tt=new $e((U=n.contourFrequency)!=null?U:.1),At=new va((O=n.contourDirection)!=null?O:new E(0,1,0)),Qt=new yr((F=n.positionalLines)!=null?F:!1),ki=new yr((Z=n.compensation)!=null?Z:!0),nn=vt.normalRenderTarget,nr=vt.normalRenderTargetDepth,N=vt.pixelRatioNode,de=vt.resolution,me=ya(n),ne=new iD(ye,Ce,Fe,nt,mt,Mt,rt,Tt,At,Qt,ki,de,nn,nr,N,me.alpha),xe=new Ii(ne.calpha,"f");return new Gi(t,i,e,R({outlineColor:ye,contourColor:Ce,outlineWidth:Fe,contourWidth:nt,outlineThreshold:mt,contourThreshold:Mt,outlineSmoothing:rt,contourFrequency:Tt,contourDirection:At,positionalLines:Qt,compensation:ki},me),ne,me.mode,xe,me.isMask,r)}case"depth":{let ye=new xi((G=n.gradientType)!=null?G:0),Ce=new yr((L=n.smooth)!=null?L:!1),Fe=new $e((X=n.near)!=null?X:50),nt=new $e((q=n.far)!=null?q:200),mt=new $e((J=n.isVector)!=null?J:1),Mt=new $e((W=n.isWorldSpace)!=null?W:0),rt=new va((ce=n.origin)!=null?ce:new E),Tt=new va((te=n.direction)!=null?te:new E),At;n.colors?At=new ud(n.colors.length,n.colors):(At=new ud(2,new Pt(0,0,0,1)),At.value[1]=new Pt(1,1,1,1));let Qt;n.steps?Qt=new cd(n.steps.length,n.steps):(Qt=new cd(2,1),Qt.value[0]=0);let ki=ya(n),nn=new XT(ye,Ce,Fe,nt,mt,Mt,rt,Tt,At,Qt,ki.alpha,ki.isMask),nr=new Ii(nn.calpha,"f");return new Gi(t,i,e,R({gradientType:ye,smooth:Ce,near:Fe,far:nt,isVector:mt,isWorldSpace:Mt,origin:rt,direction:Tt,colors:At,steps:Qt},ki),nn,ki.mode,nr,ki.isMask,r)}case"noise":{let ye=new $e((oe=n.scale)!=null?oe:1),Ce=new va((ie=n.size)!=null?ie:new E(100,100,100)),Fe=new $e((we=n.move)!=null?we:1),nt=new Un((pe=n.fA)!=null?pe:new Y(1.7,9.2)),mt=new Un((fe=n.fB)!=null?fe:new Y(8.3,2.8)),Mt=new Un((Le=n.distortion)!=null?Le:new Y(1,1)),rt=new fo(n.colorA),Tt=new fo(n.colorB),At=new fo(n.colorC),Qt=new fo(n.colorD),ki=new xi((Be=n.noiseType)!=null?Be:0),nn=new xi((Ne=n.voronoiStyle)!=null?Ne:0),nr=new $e((Ye=n.highCut)!=null?Ye:1),N=new $e((ze=n.lowCut)!=null?ze:0),de=new $e((Pe=n.smoothness)!=null?Pe:.5),me=new $e((Ze=n.seed)!=null?Ze:.5),ne=new xi((st=n.quality)!=null?st:1),xe=ya(n),ot=new eD(ye,Ce,Fe,nt,mt,Mt,rt,Tt,At,Qt,xe.alpha,ki,xe.isMask,nn,nr,N,de,me,ne),Ot=new Ii(ot.calpha,"f");return new Gi(t,i,e,Q(R({scale:ye,size:Ce,move:Fe,fA:nt,fB:mt,distortion:Mt,colorA:rt,colorB:Tt,colorC:At,colorD:Qt,noiseType:ki},xe),{voronoiStyle:nn,highCut:nr,lowCut:N,smoothness:de,seed:me,quality:ne}),ot,xe.mode,Ot,xe.isMask,r)}case"normal":{let ye=new va((V=n.cnormal)!=null?V:new E(1,1,1)),Ce=ya(n),Fe=new YT(ye,Ce.alpha),nt=new Ii(Fe.calpha,"f");return new Gi(t,i,e,R({cnormal:ye},Ce),Fe,Ce.mode,nt,Ce.isMask,r)}case"gradient":{let ye=new xi((z=n.gradientType)!=null?z:0),Ce=new yr((le=n.smooth)!=null?le:!1),Fe;n.colors?Fe=new ud(n.colors.length,n.colors):(Fe=new ud(10,new Pt(0,0,0,1)),Fe.value[1]=new Pt(1,1,1,1));let nt;n.steps?nt=new cd(n.steps.length,n.steps):(nt=new cd(10,1),nt.value[0]=0);let mt=new Un((Ie=n.offset)!=null?Ie:new Y(0,0)),Mt=new Un((ke=n.morph)!=null?ke:new Y(0,0)),rt=new $e((je=n.angle)!=null?je:0),Tt=ya(n),At=new QT(ye,Ce,Fe,nt,mt,Mt,rt,Tt.alpha,Tt.isMask),Qt=new Ii(At.calpha,"f");return new Gi(t,i,e,R({gradientType:ye,smooth:Ce,colors:Fe,steps:nt,offset:mt,morph:Mt,angle:rt},Tt),At,Tt.mode,Qt,Tt.isMask,r)}case"pattern":{let ye=new xi((tt=n.style)!=null?tt:0),Ce=new xi((We=n.projection)!=null?We:0),Fe=new xi((Se=["x","y","z"].indexOf(n.axis))!=null?Se:0),nt=new $e((qe=n.blending)!=null?qe:0),mt=new Un((it=n.offset)!=null?it:new Y(0,0)),Mt=new fo(n.colorA),rt=new fo(n.colorB),Tt=new Un((Qe=n.frequency)!=null?Qe:new Y(10,10)),At=new $e((ht=n.size)!=null?ht:.5),Qt=new $e((lt=n.variation)!=null?lt:0),ki=new $e((Vt=n.smoothness)!=null?Vt:.5),nn=new $e((oi=n.zigzag)!=null?oi:0),nr=new $e((ji=n.rotation)!=null?ji:0),N=new Un(($=n.vertical)!=null?$:new Y(0,1)),de=new Un((be=n.horizontal)!=null?be:new Y(0,1)),me=new xi((Oe=n.sides)!=null?Oe:6),ne=ya(n),xe=new nD(ye,Ce,Fe,nt,mt,Mt,rt,Tt,At,Qt,ki,nn,nr,N,de,me,ne.alpha,ne.isMask),ot=new Ii(xe.calpha,"f");return new Gi(t,i,e,R({style:ye,projection:Ce,axis:Fe,blending:nt,offset:mt,colorA:Mt,colorB:rt,frequency:Tt,size:At,variation:Qt,smoothness:ki,zigzag:nn,rotation:nr,vertical:N,horizontal:de,sides:me},ne),xe,ne.mode,ot,ne.isMask,r)}default:{let ye=new Hi(1,0,0,1),Ce=ya(n),Fe=new Fb(ye,Ce.alpha),nt=new Ii(Fe.calpha,"f");return new Gi(t,i,e,R({color:ye},Ce),Fe,Ce.mode,nt,Ce.isMask,r)}}}function Rie(e,t,i,n){let r=yie(i,n);return jie(i,e,t,r,n)}function DD(e,t,i,n){if(i.type==="displace"&&(e==="intensity"||e==="visible")){let r=t.uniforms[`f${t.id}_intensity`];return r?(r.value=i.intensity*(i.visible?1:0),r):void 0}if(i.type!=="displace"&&(e==="alpha"||e==="visible")){let r=t.uniforms[`f${t.id}_alpha`];if(!r)return;if(r.value=hd(i.alpha,n)*(i.visible?1:0),i.type==="outline"&&e==="visible"){let a=t.uniforms[`f${t.id}_compensation`];a&&(a.value=i.compensation&&i.visible)}return r}}function fu(e,t){var r;let i=0,n=e.layers.find(a=>a.data.type==="light");if(n){let a=n.data,s=Number(t.getVariable(a.alphaOverride));if((typeof a.alphaOverride=="string"?s/100:a.alphaOverride)<1)return!0}for(let a of e.layers){if(a.data.type!=="displace"&&a.data.isMask)return!0;if(a.data.type!=="displace"&&"alpha"in a.data&&a.data.type!=="light"&&a.data.type!=="fresnel"&&a.data.type!=="texture"&&a.data.type!=="matcap"&&a.data.type!=="rainbow"&&a.data.type!=="outline"&&a.data.type!=="pattern"){let s=a.data.visible?a.data.alpha:0;if(typeof s=="string"&&(s=Math.max(0,Math.min(1,Number((r=t.getVariable(s))!=null?r:100)/100))),s===1&&a.data.type==="depth"||a.data.type==="gradient"){for(let o of a.data.colors)if(o[3]<1){s=o[3];break}}else if(s===1&&a.data.type==="noise"){let o=t.color(a.data.colorA).a,l=t.color(a.data.colorB).a,d=t.color(a.data.colorC).a,u=t.color(a.data.colorD).a,c=Math.min(o,Math.min(l,Math.min(d,u)));c<1&&(s=c)}i+=(1-i)*s}}return i<1}var ll=class extends _i{constructor(){super(void 0),this.flatShading=!1,this.needsJitter=!0,this.cacheKey="",this.fog=!0,this.dithering=!0,this.vertexColors=!0,this.transparent=!0}customProgramCacheKey(){return this.cacheKey}},zie=class extends ll{constructor(e,t,i,n){super(),this.flatShading=e,this.side=t,this.wireframe=i,this.root=n}updateAfterBuild(){let e=this.root;this.lights=e.lights,this.vertexShader=e.vertexShader,this.fragmentShader=e.fragmentShader,this.defines=e.defines,this.uniforms=e.uniforms,this.extensions=e.extensions,this.transparent=e.transparent,this.cacheKey=e.customProgramCacheKey()+"flat"+this.flatShading+this.side}onBeforeCompile(e,t){this.root.onBeforeCompile(e)}get data(){return this.root.data}get category(){return this.root.category}get hasAO(){return this.root.hasAO}getFlavor(e,t,i){return this.root.getFlavor(e,t,i)}get layers(){return this.root.layers}get fragment(){return this.root.fragment}getLayersOfType(e){return this.root.getLayersOfType(e)}getLayerByUuid(e){return this.root.getLayerByUuid(e)}updateByOp(e,t,i){this.root.updateByOp(e,t,i)}nodeMaterialDispose(){this.root.nodeMaterialDispose()}},Xb=class extends ll{constructor(e,t,i=!0){super(),this.data=e,this.allowVariableSaves=i,this.layerIdGen=0,this.flavors=[],this.masks={},this.type="NodeMaterial",this.updaters=[],this.reset0(e,t)}get nodeMaterial(){return this}getFlavor(e,t,i){let n=i?6:(e?3:0)+t;if(n===0)return this;this.flavors===void 0&&(this.flavors=[]),n-=1;let r=this.flavors[n];return r===void 0&&(r=new zie(e,t,i,this),this.flavors[n]=r,r.flatShading=e,r.side=t,r.updateAfterBuild()),r}get fragment(){return this.lightLayer.node}get category(){return this.lightLayer.category}get hasAO(){var e,t;return(t=(e=this.lightLayer.getNode("occlusion"))==null?void 0:e.value)!=null?t:!1}reset(e,t){this.data!==e&&this.reset0(e,t)}reset0(e,t){var n,r;this.data=e;let i=(n=e.layers)!=null?n:$n.defaultTwoLayerData("phong").layers;try{this.layers=i.map(a=>pd.create(this.layerIdGen++,a.id,a.data,t.shared))}catch(a){this.layers=[]}this.layers.reverse(),this.name=(r=e.name)!=null?r:"Untitled Material",this.onUpdate(t.shared),this.transparent=fu(e,t.shared),this.saveVariableLocations(t)}onVariableUpdate(e,t,i){if(e[0]==="alphaOverride")this.transparent=fu(this.data,i.shared),this.lightLayer.setValue("alphaOverride",Math.max(0,Math.min(Number(t)/100,1)));else if(e[0]==="layer"){let n=e[1],r=e[2];if(n&&r){let a=this.layers.find(s=>s.uuid===n);a!=null&&a.hasValue(r)&&(r==="alpha"?(this.transparent=fu(this.data,i.shared),a.setValue(r,Math.max(0,Math.min(Number(t)/100,1)))):a.setValue(r,t))}}}saveVariableLocations(e){if(!this.allowVariableSaves)return;let t=this.data.layers.find(i=>i.data.type==="light");t&&e.shared.getVariable(t.data.alphaOverride,["material",this.uuid,"alphaOverride"]),this.data.layers.forEach(i=>{"alpha"in i.data&&typeof i.data.alpha=="string"&&e.shared.getVariable(i.data.alpha,["material",this.uuid,"layer",i.id,"alpha"])})}getLayersOfType(e){return this.layers.filter(t=>t.type===e)}getLayerByUuid(e){return this.layers.find(t=>t.uuid===e)}onUpdate(e){this.cacheKey=this.computeCacheKey(),this.lightLayer=this.layers.find(t=>t instanceof go),this.lightLayer===void 0&&(this.lightLayer=new go(0,"",Q(R({},Pr.defaultData("light","phong")),{visible:!1}),new fD,{},e)),this.dispose();for(let t of this.flavors)t&&t.dispose();this.applyTextureMaps(),this.applyMasks(),this.blendColors(),this.blendAfterColors(),this.blendPositions()}applyTextureMaps(){let e=this.layers.find(r=>r instanceof go);if(!e)return;let t=e.data,i=t.bumpMap,n=t.roughnessMap;e.node.bumpMap=void 0,e.node.roughnessMap=void 0;for(let r=0;r<this.layers.length;++r){let a=this.layers[r];a instanceof Gi&&a.color instanceof Nb&&(a.uuid===i&&(e.node.bumpMap=a.color),a.uuid===n&&(e.node.roughnessMap=a.color))}}updateByOp(e,t,i){if(t!==void 0?this.data=t:t=this.data,this.transparent=fu(t,i.shared),e.path[0]==="layers"){this.data=t;let n=i.shared,r=e.path[1];if(r===void 0){if(this.layers.reverse(),e.type===4){let a=pd.create(this.layerIdGen++,e.id,e.data,i.shared);this.layers.splice(e.localIndex,0,a),i.scene.markNeedsUpdateRendererDirty()}else if(e.type===5)this.layers.splice(e.localIndex,1)[0].dispose(),i.scene.markNeedsUpdateRendererDirty();else if(e.type===6){let a=this.layers.findIndex(o=>o.uuid===e.id),s=this.layers[a];this.layers.splice(a,1),this.layers.splice(e.localIndex,0,s),i.scene.markNeedsUpdateRendererDirty()}this.layers.reverse(),this.onUpdate(i.shared)}else{e.type===0&&e.props.occlusion!==void 0&&i.scene.markNeedsUpdateRendererDirty();let a=this.layers.find(s=>s.uuid===r);if(a){let s=t.layers.data(r),o;if(e.type===0&&("alpha"in e.props||"alphaOverride"in e.props)&&("alpha"in e.props?o=Q(R({},e.props),{alpha:hd(e.props.alpha,n,["material",this.uuid,"layer",r,"alpha"])}):o=Q(R({},e.props),{alphaOverride:hd(e.props.alphaOverride,n,["material",this.uuid,"alphaOverride"])})),a.updateByOp(Q(R(R({},e),o?{props:o}:{}),{path:e.path.slice(2)}),s,i)){let l=pd.create(this.layerIdGen++,r,s,n);this.layers.splice(this.layers.findIndex(d=>d.uuid===r),1,l),this.onUpdate(i.shared)}}}}else this.reset(t,i)}applyMasks(){for(let e=0;e<this.layers.length;++e){let t=this.layers[e];t instanceof Gi?t.color.mask=void 0:t instanceof go&&(t.node.mask=void 0)}for(let e=0;e<this.layers.length;++e){let t=this.layers[e];if(t instanceof Gi&&t.isMask.value&&t.data.visible&&e>0){let i=e-1,n=this.layers[i];n instanceof go?n.node.mask=new zr(t.color,t.alpha,zr.MUL):n instanceof Gi&&(n.isMask.value||(n.color.mask=new zr(t.color,t.alpha,zr.MUL)))}}}blendColors(){let e=this.layers.findIndex(i=>i instanceof Gi),t=this.layers.findIndex(i=>i instanceof go);if(e!==-1&&e<t){let i=this.layers[e].color;for(let n=e+1;n<t;++n){let r=this.layers[n];if(r instanceof Gi){if(r.isMask.value)continue;i=new WT(i,r.color,r.alpha,r.mode)}}this.fragment.color=i}else this.fragment.color=void 0}blendAfterColors(){let e=new Ii("outgoingLight","f"),t=this.layers.findIndex(i=>i instanceof go);if(this.layers.length>t+1){for(let i=t+1;i<this.layers.length;++i){let n=this.layers[i];if(n instanceof Gi){if(n.isMask.value)continue;e=new WT(e,n.color,n.alpha,n.mode)}}this.fragment.afterColor=e}else this.fragment.afterColor=void 0}blendPositions(){let e=this.layers.filter(t=>t instanceof TD);if(e.length>0){let t=e[0].position;for(let i=1;i<e.length;++i)e[i]&&(t=new zr(t,e[i].position,zr.ADD),t=new zr(t,new $e(.5).setReadonly(!0),zr.MUL));this.fragment.position=t}else this.fragment.position=void 0}getDefines(){return this.defines}getUniforms(){return this.uniforms}getVertexShader(){return this.vertexShader}getFragmentShader(){return this.fragmentShader}onBeforeCompile(e){this.build(),e.defines=this.defines,e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.extensionDerivatives=this.extensions.derivatives===!0,e.extensionFragDepth=this.extensions.fragDepth===!0,e.extensionDrawBuffers=this.extensions.drawBuffers===!0,e.extensionShaderTextureLOD=this.extensions.shaderTextureLOD===!0}clampUniformsForPreview(e,t){let i=(n,r,a)=>Math.min(Math.max(n,r),a);for(let n of this.layers)if(n.type==="displace"){let r=i(n.uniforms[`f${n.id}_intensity`].value,e,t);n.uniforms[`f${n.id}_intensity`].value=r}}computeCacheKey(){var t,i;let e="[";for(let{data:n}of this.data.layers)if(n.type==="light")e+=`"${n.visible?n.category.toUpperCase():"Basic"}"`;else{let r=((t=MD[n.type])!=null?t:[]).map(d=>n[d]),a=((i=CD[n.type])!=null?i:[]).map(d=>{var u,c;return(c=(u=n[d])==null?void 0:u.length)!=null?c:0}),s=[...r,...a],o="isMask"in n&&n.isMask,l=`"${n.type}-${n.visible}-${o}"`;s.length?e+=`[${l}, "${s.join('","')}"],`:e+=l}return e=e.slice(0,-1)+"]",e}updateFrame(e){for(let t=0;t<this.updaters.length;++t)e.updateNode(this.updaters[t])}build(){let e=new Rte;e.needsJitter=this.needsJitter,this.lights=this.lightLayer.data.visible,e.build(this.fragment,this.fragment),this.vertexShader=e.getCode("vertex"),this.fragmentShader=e.getCode("fragment"),this.defines=e.defines,this.uniforms=e.uniforms,this.extensions=e.extensions,this.updaters=e.updaters;for(let t of this.flavors)t&&t.updateAfterBuild();return this}nodeMaterialDispose(){this.layers.forEach(e=>e.dispose()),super.dispose();for(let e of this.flavors)e&&e.dispose()}assetsLoaded(){for(let e of this.layers)if(e instanceof Gi){let t=e.params.texture;if(t instanceof Lb&&!t.image.loaded)return!1}return!0}getHash(){let e="{";return e+='"fragment":'+this.fragment.getHash(),e+="}",e}};Object.defineProperties(ll.prototype,{properties:{get:function(){return this.fragment.properties}}});var Kb=class extends Xb{constructor(e,t,i){super(e,t,!1),this.uuid=i,this.allowVariableSaves=!0,this.saveVariableLocations(t)}},Bie=En(DB()),PD=new Map;function Lie(e){if(typeof e=="string")return e;let t=PD.get(e);return t||(t={url:URL.createObjectURL(new Blob([e]))},PD.set(e,t)),t.url}var oh=class{constructor({src:e,volume:t,delay:i,loop:n}){this._volume=1,this.delay=0,this._loop=1,this.loopsRemaining=0,this._status="stopped",this.onEnd=()=>{this.loopsRemaining===1/0?this.replay():this.loopsRemaining>1?(this.replay(),this.loopsRemaining--):(this._status="stopped",this.loopsRemaining=this._loop)};let r;typeof e=="string"?r={src:e}:r={src:Lie(e),format:"wav"},this.sound=new Bie.Howl(r),this.sound.on("end",this.onEnd),this.src=e,t!==void 0&&(this.volume=t),i!==void 0&&(this.delay=i),n!==void 0&&(this.loop=n)}get status(){return this._status}get volume(){return this._volume}set volume(e){this._volume=e,this.sound.volume(e)}get loop(){return this._loop}set loop(e){this._loop=e,this.loopsRemaining=e}replay(){this.clearDelay(),this.delayTimerId=window.setTimeout(()=>{this.sound.play(),this.clearDelay()},this.delay)}fade(e,t=1e3){e?(this.sound.volume(this._volume),this.clearFade(),this.fadeTimerId=window.setTimeout(()=>{this.sound.fade(this._volume,0,t),this.clearFade()},e)):this.sound.fade(this._volume,0,t)}on(e,t,i){this.sound.on(e,t,i)}off(e,t,i){this.sound.off(e,t,i)}play(){this._status==="playing"||this.sound.playing()||(this._status==="paused"?(this.sound.seek()===0?this.replay():this.sound.play(),this._status="playing"):this._status==="stopped"&&(this.replay(),this._status="playing"))}pause(){this._status==="playing"&&(this.sound.pause(),this.clearFade(),this.clearDelay(),this._status="paused")}stop(){this.sound.stop(),this.loopsRemaining=this._loop,this.clearFade(),this.clearDelay(),this._status="stopped"}clearFade(){this.fadeTimerId&&(clearTimeout(this.fadeTimerId),delete this.fadeTimerId)}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}dispose(e=!1){this.off(),this.stop(),this.clearFade(),this.clearDelay()}},Fie=class{constructor(){this.type="ShapePath",this.color=new pt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Gp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){var i;return(i=this.currentPath)==null||i.lineTo(e,t),this}quadraticCurveTo(e,t,i,n){var r;return(r=this.currentPath)==null||r.quadraticCurveTo(e,t,i,n),this}bezierCurveTo(e,t,i,n,r,a){var s;return(s=this.currentPath)==null||s.bezierCurveTo(e,t,i,n,r,a),this}splineThru(e){var t;return(t=this.currentPath)==null||t.splineThru(e),this}toShapes(){let e={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},t={loc:e.ORIGIN,t:0};function i(h,p,m,g){let v=h.x,y=p.x,b=m.x,_=g.x,x=h.y,k=p.y,w=m.y,S=g.y,A=(_-b)*(x-w)-(S-w)*(v-b),M=(y-v)*(x-w)-(k-x)*(v-b),C=(S-w)*(y-v)-(_-b)*(k-x),T=A/C,P=M/C;if(C===0&&A!==0||T<=0||T>=1||P<0||P>1)return null;if(A===0&&C===0){for(let I=0;I<2;I++)if(n(I===0?m:g,h,p),t.loc===e.ORIGIN){let j=I===0?m:g;return{x:j.x,y:j.y,t:t.t}}else if(t.loc===e.BETWEEN){let j=+(v+t.t*(y-v)).toPrecision(10),H=+(x+t.t*(k-x)).toPrecision(10);return{x:j,y:H,t:t.t}}return null}else{for(let H=0;H<2;H++)if(n(H===0?m:g,h,p),t.loc===e.ORIGIN){let U=H===0?m:g;return{x:U.x,y:U.y,t:t.t}}let I=+(v+T*(y-v)).toPrecision(10),j=+(x+T*(k-x)).toPrecision(10);return{x:I,y:j,t:T}}}function n(h,p,m){let g=m.x-p.x,v=m.y-p.y,y=h.x-p.x,b=h.y-p.y,_=g*b-y*v;if(h.x===p.x&&h.y===p.y){t.loc=e.ORIGIN,t.t=0;return}if(h.x===m.x&&h.y===m.y){t.loc=e.DESTINATION,t.t=1;return}if(_<-Number.EPSILON){t.loc=e.LEFT;return}if(_>Number.EPSILON){t.loc=e.RIGHT;return}if(g*y<0||v*b<0){t.loc=e.BEHIND;return}if(Math.sqrt(g*g+v*v)<Math.sqrt(y*y+b*b)){t.loc=e.BEYOND;return}let x;g!==0?x=y/g:x=b/v,t.loc=e.BETWEEN,t.t=x}function r(h,p){let m=[],g=[];for(let v=1;v<h.length;v++){let y=h[v-1],b=h[v];for(let _=1;_<p.length;_++){let x=p[_-1],k=p[_],w=i(y,b,x,k);w!==null&&m.find(S=>S.t<=w.t+Number.EPSILON&&S.t>=w.t-Number.EPSILON)===void 0&&(m.push(w),g.push(new Y(w.x,w.y)))}}return g}function a(h,p,m){let g=new Y;p.getCenter(g);let v=[];return m.forEach(y=>{y.boundingBox.containsPoint(g)&&r(h,y.points).forEach(b=>{v.push({identifier:y.identifier,isCW:y.isCW,point:b})})}),v.sort((y,b)=>y.point.x-b.point.x),v}function s(h,p,m,g,v){(v==null||v==="")&&(v="nonzero");let y=new Y;h.boundingBox.getCenter(y);let b=[new Y(m,y.y),new Y(g,y.y)],_=a(b,h.boundingBox,p);_.sort((M,C)=>M.point.x-C.point.x);let x=[],k=[];_.forEach(M=>{M.identifier===h.identifier?x.push(M):k.push(M)});let w=x[0].point.x,S=[],A=0;for(;A<k.length&&k[A].point.x<w;)S.length>0&&S[S.length-1]===k[A].identifier?S.pop():S.push(k[A].identifier),A++;if(S.push(h.identifier),v==="evenodd"){let M=S.length%2===0,C=S[S.length-2];return{identifier:h.identifier,isHole:M,for:C}}else if(v==="nonzero"){let M=!0,C=null,T=null;for(let P=0;P<S.length;P++){let I=S[P];p[I]&&(M?(T=p[I].isCW,M=!1,C=I):T!==p[I].isCW&&(T=p[I].isCW,M=!0))}return{identifier:h.identifier,isHole:M,for:C}}else console.warn('fill-rule: "'+v+'" is currently not implemented.')}let o=0,l=999999999,d=-999999999,u=[];this.subPaths.forEach(h=>{let p=h.getPoints(),m=-999999999,g=999999999,v=-999999999,y=999999999;for(let b=0;b<p.length;b++){let _=p[b];_.y>m&&(m=_.y),_.y<g&&(g=_.y),_.x>v&&(v=_.x),_.x<y&&(y=_.x)}d<=v&&(d=v+1),l>=y&&(l=y-1),p.length&&u.push({curves:h.curves,points:p,isCW:tM.isClockWise(p),identifier:o++,boundingBox:new kM(new Y(y,g),new Y(v,m))})});let c=u.map(h=>{var p;return s(h,u,l,d,(p=this.userData)==null?void 0:p.style.fillRule)}),f=[];return u.forEach(h=>{let p=c[h.identifier];if(p&&!p.isHole){let m=new Wp;m.curves=h.curves,c.filter(g=>(g==null?void 0:g.isHole)&&g.for===h.identifier).forEach(g=>{if(g){let v=u[g.identifier],y=new Gp;y.curves=v.curves,m.holes.push(y)}}),f.push(m)}}),f}},ID,OD=new Promise(e=>{ID=e}),jD=!1,Cg;function Nie(){if(jD)return;if(Cg)return Cg;function e(){return ri(this,null,function*(){let t=yield ee.e(645).then(ee.bind(ee,30645));ID(t),jD=!0})}return Cg=e(),Cg}var Uie=class{load(e,t,i=()=>{}){return ri(this,null,function*(){let{load:n}=yield OD;n(e,(r,a)=>{r||!a?i(r!=null?r:"Something went wrong"):t(a)})})}parse(e){return ri(this,null,function*(){let{parse:t,Bidi:i}=yield OD;try{let n=t(e),r=new i,a=s=>n.charToGlyphIndex(s.char);return r.registerModifier("glyphIndex",null,a),r.applyFeatures(n,n.defaultRenderOptions.features),{font:n,bidi:r}}catch(n){console.error(n)}})}};function Vie(e){return ri(this,null,function*(){return yield(yield fetch(e)).arrayBuffer()})}var Hie=new Uie;function RD(e){return ri(this,null,function*(){let t,i,n=!1;if(e.url?(t=yield Vie(e.url),i=e.url,n=e.url.startsWith("/")):e.data&&(t=e.data.buffer.slice(e.data.byteOffset,e.data.byteOffset+e.data.byteLength)),t){let r=yield Hie.parse(t);if(r)return{font:r.font,url:i,intercepted:n,arr:t,bidi:r.bidi}}})}function Gie(e,t){return t.state.glyphIndex===e||t.state.fina===e||t.state.medi===e||t.state.init===e}var Wie=class{constructor(e){var t;this._arrayBuffer=new ArrayBuffer(1),this._isLoaded=!1,this._intercepted=!1,this._isUserFont=(t=e.isUserFont)!=null?t:!1,this._loadingPromise=RD(e).then(i=>{i&&(this._arrayBuffer=i.arr,this._url=i.url,this.font=i.font,this._intercepted=i.intercepted,this._isLoaded=!0,this._bidi=i.bidi)})}update(e){var t;this._isLoaded=!1,this._isUserFont=(t=e.isUserFont)!=null?t:!1,this._loadingPromise=RD(e).then(i=>{i&&(this._arrayBuffer=i.arr,this._url=i.url,this.font=i.font,this._intercepted=i.intercepted,this._isLoaded=!0,this._bidi=i.bidi)})}get url(){return this._url}get intercepted(){return this._intercepted}get isLoaded(){return this._isLoaded}get loadingPromise(){return this._loadingPromise}reverseLigaturesTable(e,t,i){if(!this._bidi)return[];let n=this._bidi;n.getTextGlyphs(t);let r=n.tokenizer.tokens,a=[],s=0,o=i.length===r.length;for(let l=0;l<i.length;l++){let d=i[l].index,u=String.fromCharCode(i[l].unicode),c=r[s];if(Gie(d,c)||o)a.push({char:u,index:d,replacements:[c.state.glyphIndex],replacementChars:[c.char]}),s++;else{let f=c.char,h="",p=[c.state.glyphIndex],m=[],g=!1;for(;!g;)s++,h=t.charAt(s),f+=h,p.push(e.charToGlyphIndex(h)),m=e.stringToGlyphs(f),m.length===1&&m[0].index===d&&(g=!0),s>t.length&&(g=!0);a.push({char:u,index:d,replacements:p,replacementChars:Array.from(f)}),s++}}return a}generateShapes(e,t){if(!this._isLoaded)return;let i=this.font,n=t.fontSize/this.unitsPerEm,r=t.fontSize*t.lineHeight,a=e.map(v=>this.getTextWidth(v,t)),s=t.width,o=this.getCharWidth(`
`,t),l=t.horizontalAlign===1?o:0,d=this.computeSpaceWidthForLine(e,0,t),u=this.getLineInitialOffsetX(a[0],s,t.horizontalAlign,e[0],o),c=this.getLineInitialOffsetY(r,e.length,t.height,n,t.verticalAlign),f=[],h=e.map(v=>[]),p=e.map(v=>[]),m;for(let v=0;v<e.length;v++){let y=e[v],b={features:{liga:!0}},_=[];try{_=i.stringToGlyphs(y,b)}catch(k){console.warn(k)}u=this.getLineInitialOffsetX(a[v],s,t.horizontalAlign,y,o);let x=[];try{x=this.reverseLigaturesTable(i,y,_)}catch(k){console.warn(k)}d=this.computeSpaceWidthForLine(e,v,t);for(let k=0;k<_.length;k++){let w=_[k],S=w.index===0?`
`:w.unicode?String.fromCharCode(w.unicode):void 0,A=x[k],M=0,C=0;k===0&&t.horizontalAlign===2&&w.leftSideBearing!==void 0&&(C=-w.leftSideBearing*n),m&&(M=i.getKerningValue(w,m)*n),u+=C+M;let T=0;if(S===`
`)T=l;else if(S===" ")T=d;else{let P=this.createPath(w,n,u,c,t);P&&(T=P.offsetX-(M+C),f.push(P.path))}if(A.replacements.length===1)p[v].push([u,c]),h[v].push(T);else{let P=A.replacements.map(U=>{var O;return((O=i.glyphs.get(U).advanceWidth)!=null?O:0)*n}),I=P.reduce((U,O)=>U+=O,0),j=P.map(U=>U/I),H=u;for(let U=0;U<j.length;U++){let O=T*j[U];p[v].push([H,c]),h[v].push(O),H+=O}}u+=T,m=w}c-=r}let g=[];for(let v=0,y=f.length;v<y;v++)g.push(...f[v].toShapes());return{shapes:g,charWidths:h,lineWidths:a,charCoords:p}}get isUserFont(){return this._isUserFont}get arrayBuffer(){return this._arrayBuffer}get ascender(){var e,t;return(t=(e=this.font)==null?void 0:e.ascender)!=null?t:0}get descender(){var e,t;return(t=(e=this.font)==null?void 0:e.descender)!=null?t:0}get familyName(){var e,t;return(t=(e=this.font)==null?void 0:e.names.fontFamily)!=null?t:""}get subfamilyName(){var e,t;return(t=(e=this.font)==null?void 0:e.names.fontSubfamily)!=null?t:""}get unitsPerEm(){var e,t;return(t=(e=this.font)==null?void 0:e.unitsPerEm)!=null?t:1}getLineInitialOffsetX(e,t,i,n,r){return(i===3||i===2)&&n.indexOf(`
`)>=0&&(e-=r),i===3?t*.5-e*.5:i===2?t-e:0}getLineInitialOffsetY(e,t,i,n,r){let a=t*e,s=Math.abs(this.ascender-this.descender)*n,o=e-s,l=-this.ascender*n-o/2;return r===3?-(i-a-l):r===2?-(i*.5-a*.5-l):l}createPath(e,t,i,n,r){var l,d;let a=e.getPath(i,-n,r.fontSize,{kerning:!1,letterSpacing:r.letterSpacing});if(!a){console.error('THREE.Font: character "'+e+'" does not exists in font family '+this.familyName+".");return}let s=new Fie,o=((l=e.advanceWidth)!=null?l:1)*t;if(e)for(let u of a.commands){let c=(d=s.currentPath)==null?void 0:d.currentPoint;if(!(c&&u.type!=="Z"&&c.x===u.x&&-c.y===u.y))switch(u.type){case"M":s.moveTo(u.x,-u.y);break;case"L":s.lineTo(u.x,-u.y);break;case"Q":s.quadraticCurveTo(u.x1,-u.y1,u.x,-u.y);break;case"C":s.bezierCurveTo(u.x1,-u.y1,u.x2,-u.y2,u.x,-u.y);break}}return s.subPaths.forEach(u=>{let c=qie(u.curves);c!==void 0&&u.currentPoint.distanceTo(c)>0&&u.lineTo(c.x,c.y)}),{offsetX:o+r.fontSize*r.letterSpacing,path:s}}getCharWidth(e,t){var i,n;return(n=(i=this.font)==null?void 0:i.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing}))!=null?n:0}getTextWidth(e,t){var i,n;return(n=(i=this.font)==null?void 0:i.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing}))!=null?n:0}computeSpaceWidthForLine(e,t,i){let n=this.getCharWidth(" ",i),r=e[t];if(r){let a=this.countSpaces(r.trimEnd());if(i.horizontalAlign===4&&t<e.length-1&&a){let s=i.width,o=this.getTextWidth(r,i);return(s-(o-a*n))/a}}return n}countSpaces(e){return(e.match(/ /g)||[]).length}};function qie(e){if(e.length){let t=e[0];if(t instanceof ja)return t.v1;if(t instanceof Oa||t instanceof Uo)return t.v0}}var Zie=class{constructor(){this.objects=new Map,this.unreachable=new Set}getCached(e){return this.objects.get(e)}get size(){return this.objects.size}get(e,t,i){let n=this.objects.get(e);return n===void 0?(n=this.createObject(e,t,i),this.objects.set(e,n)):n.isShared=!0,n}forceDelete(e){let t=this.objects.get(e);t&&(this.disposeObject(t),this.objects.delete(e))}mutateIfUnique(e,t){let i=this.objects.get(e);if(i&&i.isShared!==!0)return this.objects.delete(e),this.objects.set(t,i),i}startGc(){this.unreachable=new Set(this.objects.keys())}markAsReachable(e,t){let i=this.objects.get(e);t===i&&this.unreachable.delete(e)}endGc(){this.unreachable.forEach(e=>{this.disposeObject(this.objects.get(e)),this.objects.delete(e)}),this.unreachable.clear()}dispose(){this.objects.forEach(e=>{this.disposeObject(e)}),this.objects.clear()}},zD=class extends Zie{constructor(e){super(),this.flatShading=e}disposeObject(e){e.dispose()}createObject(e,t,i){let n=_g(e,t,this.flatShading,i);return n.computeBoundingSphere(),n}},Yie={markNeedsUpdateRendererDirty:()=>{}},Xie=class extends Xte{constructor(e){super(),this.shared=e}create(e){return new hD(e,this.shared)}},Qb=class{constructor(e,t={}){if(this.data=e,this.geometryCache=new zD(!0),this.geometryCache2=new zD(!1),this.imageHolderCache=new Xie(this),this.thisContext={scene:Yie,shared:this},this.deletedMaterial=new Kb($n.defaultTwoLayerData("phong"),this.thisContext,""),this.deletedImage=new fd(Xm.emptyImage,this),this.deletedVideo=new fd(Vm.defaultVideo,this),this.materials={},this.images={},this.videos={},this.colors={},this.audios={},this.fonts={},this.variables={},this.mouseProperty=null,this.raycastProperty=null,this.requestRender=()=>{this._requestRender&&this._requestRender()},t.images)for(let[i,n]of Object.entries(t.images))this.addImage(i,n);if(t.videos)for(let[i,n]of Object.entries(t.videos))this.addVideo(i,n);if(t.audios)for(let[i,n]of Object.entries(t.audios))this.addAudio(i,n);this.reset(e)}setRequestRender(e){this._requestRender=e}setEntityOpContext(e){this.entityOpContext=e}reset(e,t=!1){this.resetLib(e.lib);for(let{id:i,data:n}of e.variables)this.addVariableHolder(i,n),t&&this.updateVariableHolder(i,n);for(let[i,n]of Object.entries(e.images))this.addImage(i,n);for(let[i,n]of Object.entries(e.videos))this.addVideo(i,n);for(let[i,n]of Object.entries(e.colors))this.addColor(i,n);for(let[i,n]of Object.entries(e.materials))this.addMaterial(i,n);for(let[i,n]of Object.entries(e.audios))this.addAudio(i,n);for(let[i,n]of Object.entries(e.fonts))this.addFont(i,n)}addMaterial(e,t){if(this.materials[e]){let i=this.materials[e];i.reset(t,this.thisContext),i.dispose()}else{let i=new Kb(t,this.thisContext,e);this.materials[e]=i}}deleteMaterial(e){this.materials[e]&&(this.materials[e].nodeMaterialDispose(),delete this.materials[e])}getMaterial(e){return this.materials[e]}getMaterialOrDeletedPlaceholder(e){var t;return(t=this.materials[e])!=null?t:this.deletedMaterial}material(e){return typeof e=="string"?this.getMaterialOrDeletedPlaceholder(e):e==null?(console.error("material is undefined or null"),this.deletedMaterial):new Xb(e,this.thisContext)}getMaterials(){return this.materials}addImage(e,t){return this.images[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.images[e].updateSrc(t.data),!0):(this.images[e]=new fd(t,this),!1)}deleteImage(e){let t=this.images[e];t&&(t.dispose(),delete this.images[e])}getDefaultImage(){return this.images.image_0}getImage(e){var t;return(t=this.images[e])!=null?t:this.deletedImage}image(e){return typeof e=="string"?this.getImage(e):this.imageHolderCache.load(e)}addVideo(e,t){return this.videos[e]?(this.videos[e].updateSrc(t.data),!0):(this.videos[e]=new fd(t,this),!1)}deleteVideo(e){let t=this.videos[e];t&&(t.dispose(),delete this.videos[e])}getVideo(e){var t;return(t=this.videos[e])!=null?t:this.deletedVideo}video(e){return typeof e=="string"?this.getVideo(e):this.imageHolderCache.load(e)}addColor(e,t){return this.colors[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),"a"in t?this.colors[e].setRGBA(t.r,t.g,t.b,t.a):this.colors[e].setRGBA(t.r,t.g,t.b,1),!0):("a"in t?this.colors[e]=new Mg(t.r,t.g,t.b,t.a):this.colors[e]=new Mg(t.r,t.g,t.b,1),!1)}updateColor(e,t){var i,n,r,a;if(this.colors[e]){this.onColorOrImageUpdate&&this.onColorOrImageUpdate();let s=this.colors[e];return this.colors[e].r=(i=t.r)!=null?i:s.r,this.colors[e].g=(n=t.g)!=null?n:s.g,this.colors[e].b=(r=t.b)!=null?r:s.b,this.colors[e].a=(a=t.a)!=null?a:s.a,!0}return!1}deleteColor(e){this.colors[e]&&delete this.colors[e]}getColor(e){return this.colors[e]}color(e){let t;if(typeof e=="string"){let i=this.getColor(e);i?t=i:(console.warn("Tried to create color layer params with a color key that does not exist in the assets manager"),t=new Rr(0,0,0,0))}else return"a"in e?new Rr(e.r,e.g,e.b,e.a):new Rr(e.r,e.g,e.b,1);return t}addAudio(e,t){this.audios[e]=t}getAudio(e){let t=this.audios[e];if(t instanceof oh)return t;{let i=new oh({src:t.data});return this.audios[e]=i,i}}deleteAudio(e){let t=this.audios[e];t&&(t instanceof oh&&t.dispose(),delete this.audios[e])}addFont(e,t){this.fonts[e]=new Wie(t),this.fonts[e].loadingPromise.then(()=>this.requestRender())}getFont(e){return this.fonts[e]}deleteFont(e){this.fonts[e]&&delete this.fonts[e]}dispose(){Object.keys(this.materials).forEach(e=>this.deleteMaterial(e)),this._requestRender=void 0,Object.values(this.audios).forEach(e=>{e instanceof oh&&e.dispose()}),this.audios={},this.geometryCache.dispose(),this.geometryCache2.dispose()}addVariableHolder(e,t){return this.variables[e]===void 0?(this.variables[e]={value:t.value,locations:[]},"dynamicVariableType"in t&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0),!0):(this.variables[e].value=t.value,!1)}resetDynamicVariablePlayState(){for(let e in this.variables)this.variables[e].dynamicVariablePlayState!==void 0&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0)}updateVariableHolder(e,t){this.updateVariable(e,t.value)}updateVariable(e,t){if(this.variables[e]===void 0)return!1;this.variables[e].value=t;let i=t;for(;typeof i=="string";)i=this.variables[i].value;let n=this.entityOpContext.scene;for(let r=this.variables[e].locations.length-1;r>=0;r--){let a=this.variables[e].locations[r];if(a[0]==="material"){let s=a[1],o=i,l={scene:n,shared:this},d=a.slice(2);n.traverseMaterial(c=>{var h;let f=(h=c.root)!=null?h:c;f.uuid===s&&f.onVariableUpdate(d,o,l)});let u=this.materials[s];u&&u.onVariableUpdate(d,o,l)}else{let s=n.find(a[0]);if(s===void 0){this.variables[e].locations.splice(r,1);continue}if(a[1]!=="geometry"){for(let o=1;o<a.length-1;o++)s=s[a[o]];a[1]==="rotation"?s[a[a.length-1]]=i*at.DEG2RAD:s[a[a.length-1]]=i}if(s=n.find(a[0]),qt.is(s)){if(a[1]==="position"||a[1]==="rotation"||a[1]==="scale")s.onVariableUpdate();else if(a[1]==="geometry"){let o=s;s.component&&(o=s.component);let l=o.dataPatched;o.chooseGeoemtryCache(this).forceDelete(l.geometry),o.createGeometryDelayed(this.entityOpContext),o.onVariableUpdate(!0),o.instances.forEach(d=>{let u=d.dataPatched;d.chooseGeoemtryCache(this).forceDelete(u.geometry),d.createGeometryDelayed(this.entityOpContext),d.onVariableUpdate(!0)})}}}}return!0}deleteVariable(e){this.variables[e]&&delete this.variables[e]}getVariable(e,t){var i,n,r,a,s;if(Array.isArray(e)){if(e[0]==="mouse")return(n=(i=this.mouseProperty)==null?void 0:i[e[1]])!=null?n:0;if(e[0]==="raycast")return(a=(r=this.raycastProperty)==null?void 0:r[e[1]])!=null?a:0;let o=this.entityOpContext.scene.find(e[0]);if(e[1]==="width"||e[1]==="height"||e[1]==="depth")return o.geometry.userData.parameters[e[1]];for(let l=1;l<e.length;l++)o=o[e[l]];return e[1]==="rotation"&&(o*=at.RAD2DEG),o}for(let o in this.variables){if(t===void 0)break;let l=this.variables[o],d=(s=l.locations)==null?void 0:s.findIndex(u=>hr.equal(u,t));d!==void 0&&d!==-1&&l.locations.splice(d,1)}if(typeof e=="string"){let o=e,l=e;do{if(l=o,this.variables[o]===void 0)break;o=this.variables[o].value}while(typeof o=="string");return t&&this.variables[l]!==void 0&&this.variables[l].locations.push(t),o}else return e}getVariables(){return this.variables}getDynamicVariablePlayState(e){var t;return(t=this.variables[e])==null?void 0:t.dynamicVariablePlayState}setDynamicVariablePlayState(e,t){this.variables[e]!==void 0&&(this.variables[e].dynamicVariablePlayState=t)}getDynamicVariableToggleIsForward(e){var t;return(t=this.variables[e])==null?void 0:t.dynamicVariableToggleIsForward}setDynamicVariableToggleIsForward(e,t){this.variables[e]!==void 0&&(this.variables[e].dynamicVariableToggleIsForward=t)}resetLib(e){for(let[t,i]of Object.entries(e.images))this.addImage(t,i.asset);for(let[t,i]of Object.entries(e.audios))this.addAudio(t,i.asset);for(let[t,i]of Object.entries(e.colors))this.addColor(t,i.asset);for(let[t,i]of Object.entries(e.fonts))this.addFont(t,i.asset);for(let[t,i]of Object.entries(e.materials))this.addMaterial(t,i.asset);for(let[t,i]of Object.entries(e.videos))this.addVideo(t,i.asset);for(let[t,i]of Object.entries(e.variables))this.addVariableHolder(t,i.asset)}updateLibByOp(e,t){e.path[0]==="images"?e.path.length===1&&e.type===1?this.addImage(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteImage(e.id):e.path[0]==="videos"?e.path.length===1&&e.type===1?this.addVideo(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteVideo(e.id):e.path[0]==="audios"?e.path.length===1&&e.type===1?this.addAudio(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteAudio(e.id):e.path[0]==="colors"?e.path.length===1&&e.type===1?this.addColor(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteColor(e.id):e.path[0]==="materials"?e.path.length===1&&e.type===1?this.addMaterial(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteMaterial(e.id):e.path[0]==="fonts"?e.path.length===1&&e.type===1?this.addFont(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteFont(e.id):e.path[0]==="variables"?e.path.length===1&&e.type===1?this.addVariableHolder(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteVariable(e.id):e.path[0]==="components"&&t.updateByLibOp(e,this)}updateByOp(e,t,i){this.data=t,e.path[0]==="images"?e.path.length===2&&e.type===0?e.props.data&&this.getImage(e.path[1]).updateSrc(e.props.data):e.path.length===1&&e.type===1?this.addImage(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteImage(e.id):e.path[0]==="videos"?e.path.length===2&&e.type===0?e.props.data&&this.getVideo(e.path[1]).updateSrc(e.props.data):e.path.length===1&&e.type===1?this.addVideo(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteVideo(e.id):e.path[0]==="audios"?e.path.length===2&&e.type===0?e.props.data&&this.addAudio(e.path[1],t.audios[e.path[1]]):e.path.length===1&&e.type===1?this.addAudio(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteAudio(e.id):e.path[0]==="colors"?e.path.length===2&&e.type===0?this.updateColor(e.path[1],e.props):e.path.length===1&&e.type===1?this.addColor(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteColor(e.id):e.path[0]==="materials"?e.path.length===1&&e.type===1?this.addMaterial(e.id,e.data):e.path.length===1&&e.type===2?this.deleteMaterial(e.id):e.path.length>1&&this.getMaterial(e.path[1]).updateByOp(Jn.drop(e,2),t.materials[e.path[1]],{shared:this,scene:i}):e.path[0]==="fonts"?e.path.length===2&&e.type===0?this.updateFont(e.path[1],e,i):e.path.length===1&&e.type===1?this.addFont(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteFont(e.id):e.path[0]==="variables"?e.path.length===2&&e.type===0&&"value"in e.props?this.updateVariable(e.path[1],e.props.value):e.path.length===1&&e.type===4?this.addVariableHolder(e.id,e.data):e.path.length===1&&e.type===5&&this.deleteVariable(e.id):e.path[0]==="lib"&&this.updateLibByOp(Jn.drop(e,1),i)}updateFont(e,t,i){if(t.props.url){let n=this.getFont(e),r=Q(R({},this.data.fonts[e]),{url:t.props.url});n.update(r),n.loadingPromise.then(()=>this.requestRender()),i.updateFont(e,this)}}},lpe=new Qb(La.emptyData()),hu=class extends Ir{updateByPatchedOp(e,t,i){if(super.updateByPatchedOp(e,t,i),qQ(e.path,["materials"])!==null&&e.type===0&&Array.isArray(this.material))for(let[n,r]of Object.entries(e.props)){let a=i.shared.material(r);this.material[Number(n)]=a}else if(pa(e.path,["material"])&&this.material instanceof ll)"material"in t&&typeof t.material!="string"&&this.material.updateByOp(Jn.drop(e,1),t.material,i);else if(pa(e.path,["materials","*"])&&Array.isArray(this.material)){let n=e.path[1];if("materials"in t&&n<this.material.length){let r=t.materials[n];typeof r!="string"&&this.material[n].updateByOp(Jn.drop(e,2),r,i)}}}get needsAO(){return this.material!==void 0?(Array.isArray(this.material)?this.material[0]:this.material).hasAO:!1}updateState(e,t){var n,r;super.updateState(e,t),e.castShadow!==void 0&&(this.castShadow=e.castShadow),e.receiveShadow!==void 0&&(this.receiveShadow=e.receiveShadow);let i=this.dataPatched;if(((n=e.geometry)==null?void 0:n.type)!=="NonParametricGeometry"&&"material"in e&&e.material!==void 0&&(this.disposeMaterial(),this.material=t.shared.material(e.material).getFlavor(i.flatShading,i.side,i.wireframe),t.scene.markNeedsUpdateRendererDirty()),((r=e.geometry)==null?void 0:r.type)==="NonParametricGeometry"&&("materials"in e&&e.materials!==void 0?(this.disposeMaterial(),this.material=e.materials.map(a=>t.shared.material(a).getFlavor(i.flatShading,i.side,i.wireframe)),t.scene.markNeedsUpdateRendererDirty()):"material"in e&&e.material!==void 0&&(this.disposeMaterial(),this.material=[t.shared.material(e.material).getFlavor(i.flatShading,i.side,i.wireframe)],t.scene.markNeedsUpdateRendererDirty())),e.flatShading!==void 0||e.wireframe!==void 0||e.side!==void 0)if(Array.isArray(this.material))for(let a=0;a<this.material.length;a++)this.material[a]=this.material[a].getFlavor(i.flatShading,i.side,i.wireframe);else this.material=this.material.getFlavor(i.flatShading,i.side,i.wireframe)}disposeMaterial(){this.material&&YC(this.material).forEach(e=>{e instanceof ll&&(e instanceof Kb||e.nodeMaterialDispose())})}dispose(){this.disposeMaterial(),super.dispose()}},BD=new E,LD=new Pt,FD=new Pt,Kie=new E,ND=new Ee,wr=class extends hu{constructor(e,t,i){super(e,t),this.data=t,this.isSkinnedMesh=!1,this.localGeometry=void 0,t.bindMode&&t.bindMatrix&&(this.bindMode=t.bindMode,this.bindMatrix=new Ee().fromArray(t.bindMatrix),this.bindMatrixInverse=new Ee)}chooseGeoemtryCache(e){return e.geometryCache}markGeometryAsReachable(e){this.geometryCreateDeleyed instanceof dt&&this.chooseGeoemtryCache(e).markAsReachable(this.dataPatched.geometry,this.geometryCreateDeleyed)}get geometry(){if(this.localGeometry!==void 0)return this.localGeometry;if(this.geometryCreateDeleyed instanceof Qb){let e=this.geometryCreateDeleyed,t=this.chooseGeoemtryCache(e);this.geometryCreateDeleyed=t.get(this.dataPatched.geometry,e,this)}return this.geometryCreateDeleyed}set geometry(e){this.localGeometry=e}get is2DAndNoDepth(){let e=this.dataPatched.geometry;return Wm.is2DParametricMesh(e.type)&&e.depth===0}get is2DType(){return Wm.is2DParametricMesh(this.geometry.userData.type)}get isNonParametric(){return this.geometry.userData.type==="NonParametricGeometry"}updateByPatchedOp(e,t,i){super.updateByPatchedOp(e,t,i),pa(e.path,["geometry"])&&this.updateByPatchedOpGeometry(Jn.drop(e,1),t.geometry,i)}removeInteractionGeometry(){var e;(e=this.localGeometry)==null||e.dispose(),this.localGeometry=void 0}updateGeometryInteractions(e,t){var n;this.invalidateDownstreamBooleanData();let i=this.data.geometry.type;if(i==="NonParametricGeometry"||i==="SubdivGeometry"){let r=e;if(this.localGeometry===void 0){let d=R(R({},this.data.geometry),r);this.localGeometry=_g(d,t,this.data.flatShading,this)}let a,s,o;r.scaleBaked?[a,s,o]=r.scaleBaked:{width:a,height:s,depth:o}=r;let l=this.localGeometry.userData;l.sxPrev!==void 0&&Db(this.localGeometry.attributes,a/l.sxPrev,s/l.syPrev,o/l.szPrev),l.sxPrev=a,l.syPrev=s,l.szPrev=o}else{let r=R(R({},this.data.geometry),e);(n=this.localGeometry)==null||n.dispose(),this.localGeometry=_g(r,t,this.data.flatShading,this)}}refreshAttachedCloners(e){for(let t of this.attachedSurfaceCloners)e.scene.addPendingUpdateCloner(t.object)}refreshAttachedPaths(e){for(let t of this.attachedPaths)e.scene.addPendingCommand(()=>t.updateShape())}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.refreshAttachedCloners(e),this.refreshAttachedPaths(e)}updateByPatchedOpGeometry(e,t,i){var r;let n=!1;e.type===0&&e.path.length===0&&Object.keys(e.props).includes("scaleBaked")&&this.geometryCreateDeleyed instanceof vr&&this.chooseGeoemtryCache(i.shared).mutateIfUnique(this.geometryCreateDeleyed.data,t)===this.geometryCreateDeleyed&&(n=!0,this.geometryCreateDeleyed.mutateDirectlyScaleBaked(t,e.props.scaleBaked),this.refreshAttachedCloners(i),this.refreshAttachedPaths(i)),n||((r=i.scene)==null||r.markGeometryCacheDirty(),this.createGeometryDelayed(i)),this.resetBBoxNeedsUpdate(),this.invalidateDownstreamBooleanData()}updateGeometryOnStateUpdate(e,t){this.createGeometryDelayed(t)}updateState(e,t){e.geometry!==void 0&&this.updateGeometryOnStateUpdate(e.geometry,t),super.updateState(e,t)}updateGeometryGroupsIfNeeded(){var e,t;Array.isArray(this.material)&&this.geometry.groups.length===0&&this.geometry.addGroup(0,Math.max((t=(e=this.geometry.getIndex())==null?void 0:e.count)!=null?t:0,this.geometry.getAttribute("position").count),0)}updateEntityBoxSize(e,t){var n,r;let i=this.geometry.userData.parameters;this.is2DType?e.set(0,0,i.depth*.5):this.isNonParametric?(e.setScalar(0),this.geometry.boundingSphere&&e.copy(this.geometry.boundingSphere.center),t.set(i.width,i.height,(n=i.depth)!=null?n:0).multiplyScalar(.5)):e.setScalar(0),t.set(i.width,i.height,(r=i.depth)!=null?r:0).multiplyScalar(.5)}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}bind(e,t){this.skeleton=e,this.isSkinnedMesh=!0,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(e){let t=new Pt,i=this.geometry.attributes.skinWeight;for(let n=0,r=i.count;n<r;n++){t.fromBufferAttribute(i,n);let a=1/t.manhattanLength();a!==1/0?t.multiplyScalar(a):t.set(1,0,0,0),i.setXYZW(n,t.x,t.y,t.z,t.w)}}boneTransform(e,t){let i=this.skeleton;if(i===void 0)return;let n=this.geometry;LD.fromBufferAttribute(n.attributes.skinIndex,e),FD.fromBufferAttribute(n.attributes.skinWeight,e),BD.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){let a=FD.getComponent(r);if(a!==0){let s=LD.getComponent(r);ND.multiplyMatrices(i.bones[s].matrixWorld,i.boneInverses[s]),t.addScaledVector(Kie.copy(BD).applyMatrix4(ND),a)}}return t.applyMatrix4(this.bindMatrixInverse)}};function Qie(e){var s,o;if(e.geometry.attributes.extrudeNormal||!e.geometry.attributes.position||!e.geometry.attributes.normal)return;let t=new Map,i=e.geometry.attributes,n=i.position.array,r=i.normal.array,a=new Float32Array(n.length);for(let l=0;l<n.length;l+=3){let d=`${n[l]}_${n[l+1]}_${n[l+2]}`,u=new E(r[l],r[l+1],r[l+2]);t.has(d)?(s=t.get(d))==null||s.normals.push(u):t.set(d,{normals:[u],result:new E})}t.forEach((l,d)=>{for(let u of l.normals)l.result.add(u);l.result.divideScalar(l.normals.length)});for(let l=0;l<n.length;l+=3){let d=`${n[l]}_${n[l+1]}_${n[l+2]}`,u=(o=t.get(d))==null?void 0:o.result;u&&(a[l]=u.x,a[l+1]=u.y,a[l+2]=u.z)}e.geometry.setAttribute("extrudeNormal",new Ke(a,3))}function Jie(e){if(e.geometry.attributes.extrudeNormals||!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,i=new Float32Array(t.length),n=new E;for(let r=0;r<t.length;r+=3)n.set(t[r],t[r+1],t[r+2]).normalize(),i[r]=n.x,i[r+1]=n.y,i[r+2]=n.z;e.geometry.setAttribute("extrudeNormal",new Ke(i,3))}function Jb(e){if(Array.isArray(e.material)){for(let t of e.material)if(t.getLayersOfType("outline").length===0)return}else if(!(e.material instanceof ll)||e.material.getLayersOfType("outline").length===0)return;e instanceof wr&&e.is2DAndNoDepth?Jie(e):Qie(e)}function $b(e){if(!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,i=new Float32Array(t.length),n=parseInt(e.uuid.replace(/\D/g,"")),r=[at.seededRandom(n),at.seededRandom(n+1e4),at.seededRandom(n+2e4)];for(let a=0;a<t.length;a++)i[a]=r[a%3];e.geometry.setAttribute("randomColor",new _t(i,3))}var $ie;Tb.then(e=>{$ie=e});var Cs=new Xi,lh=new E;function ene(e){let t=!1;return e.scene.objects.traverse((i,n)=>{n.type==="Mesh"&&n.geometry.type==="SubdivGeometry"&&(t=!0)}),t}var dh=class extends wr{constructor(e,t,i){super(e,t,i),this.data=t,this.hiddenMatrixOld=new Ee,this.smoothShading=!0,this.skipReactionUpdate=!1}chooseGeoemtryCache(e){return this.dataPatched.flatShading?e.geometryCache:e.geometryCache2}get subdivPointerNew(){return this.localGeometry!==void 0?this.subdivPointer:this.geometry.ensureSubdivPointer()}get originalGeometryNew(){return this.localGeometry!==void 0?this.originalGeometry:this.geometry.originalGeometry}get phongAngle(){var e;return(e=this.data.geometry.phongAngle)!=null?e:45}updateEntityBoxSize(e,t){var n;let i=this.geometry.userData.parameters;e.copy(this.originalGeometryNew.boundingSphere.center),t.set(i.width,i.height,(n=i.depth)!=null?n:0).multiplyScalar(.5)}createGeometryByControls(e){var a,s,o,l;if(this.skipReactionUpdate===!0)return;let t=(a=this.localGeometry)==null?void 0:a.uuid,{originalGeometry:i,subdividedGeometry:n,subdivPointer:r}=vr.build(e,this.subdivPointer,this.smoothShading,this.hasNonUniformScale?this.shearScale:void 0);this.subdivPointer=r,i!==void 0&&((s=this.originalGeometry)==null||s.dispose(),this.originalGeometry=i),n!==void 0&&((o=this.subdividedGeometry)==null||o.dispose(),this.subdividedGeometry=n!=null?n:void 0),this.localGeometry=(l=this.subdividedGeometry)!=null?l:this.originalGeometry,Jb(this),$b(this),this.calcBoundingBox(),t&&(this.localGeometry.uuid=t)}updateState(e,t){if(super.updateState(e,t),e.flatShading!==void 0){let i=this.material;this.material=i.getFlavor(!1,i.side,i.wireframe),this.smoothShading=!e.flatShading,this.createGeometryDelayed(t)}}updateMesh(e=!1){vr.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1,this.originalGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0),this.subdividedGeometry&&vr.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1,this.subdividedGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0)}updateTopology(){var e;this.originalGeometry.dispose(),this.originalGeometry=vr.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1),this.subdividedGeometry&&(this.subdividedGeometry.dispose(),this.subdividedGeometry=vr.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1)),this.localGeometry=(e=this.subdividedGeometry)!=null?e:this.originalGeometry}raycast(e,t){let i=this.localGeometry;this.localGeometry=this.originalGeometryNew,Ir.prototype.raycast.call(this,e,t),this.localGeometry=i}activateSVDCompensation(){!this.hasNonUniformScale||(this.matrix.copy(this.matrixWorldRigid),this.hiddenMatrixOld.copy(this.hiddenMatrix),this.hiddenMatrix.copy(this.parent.matrixWorld).invert())}deactivateSVDCompensation(){!this.hasNonUniformScale||(this.updateMatrix(),this.hasNonUniformScale=void 0,this.hiddenMatrix.copy(this.hiddenMatrixOld))}calcBoundingBox(){let e=this.originalGeometry;e.boundingSphere===null&&(e.boundingSphere=new Er,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=e.boundingSphere));let t=e.attributes.position,i=e.boundingSphere.center;Cs.setFromBufferAttribute(t),Cs.getCenter(i),e.boundingSphere.radius=i.distanceTo(Cs.max),isNaN(e.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),Cs.getSize(lh),this.hasNonUniformScale&&lh.divide(this.scale);let n={width:lh.x,height:lh.y,depth:lh.z};return this.geometry.userData.parameters=n,n}updateBoundingSphere(e){let t=this.originalGeometry;Cs.min.set(e[0],e[2],e[4]),Cs.max.set(e[1],e[3],e[5]),this.hasNonUniformScale&&(Cs.min.applyMatrix4(this.shearScaleInv),Cs.max.applyMatrix4(this.shearScaleInv)),t.boundingSphere===null&&(t.boundingSphere=new Er);let i=t.boundingSphere.center;Cs.getCenter(i),t.boundingSphere.radius=i.distanceTo(Cs.max)}freeSubdivPointer(){var e,t;this.subdivPointer&&(vr.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0),this.localGeometry=void 0,(e=this.originalGeometry)==null||e.dispose(),(t=this.subdividedGeometry)==null||t.dispose()}dispose(){super.dispose(),this.freeSubdivPointer()}updateByPatchedOpGeometry(e,t,i){super.updateByPatchedOpGeometry(e,t,i),this.localGeometry&&this.createGeometryByControls(t)}},UD=-1,tne=1,ine={x:[1,0,0],"-x":[-1,0,0],y:[0,1,0],"-y":[0,-1,0],z:[0,0,1],"-z":[0,0,-1]},nne={polygon_center:0,edge:1,vertex:2},Eg=(e,t)=>(i,n)=>!t||i===0||e===0?0:e*n/100,It=(e,t)=>{let i=Math.abs(t),n=i*-1;return(e-UD)*(i-n)/(tne-UD)+n};function rne(e){let t=[],i={};for(var n=0,r=e.length;n<r;n++){var a=JSON.stringify(e[n].pos.map(s=>Math.round(s*1e4)/1e4));i[a]||(t.push(e[n]),i[a]=!0)}return t}var ane=new E,Tg=new E,sne=new E,one=new E;function pu(e,t){let i=sne.fromArray(e),n=one.fromArray(t);Tg.copy(n).sub(i);let r=Tg.length();return Tg.normalize().multiplyScalar(r*.5),ane.copy(i).add(Tg).toArray()}var ba=new Kn,Dg=new E,Pg=new E,md=new E;function lne(e){let t=[];for(let i=0;i<=e.index.count;i++)if(Dg.fromArray(e.index.array,i*3),ba.setFromAttributeAndIndices(e.attributes.position,Dg.x,Dg.y,Dg.z),ba.getNormal(Pg),ba.getMidpoint(md),!(isNaN(md.x)||isNaN(md.y)||isNaN(md.z))){let{a:n,b:r,c:a}=ba,s=n.toArray(),o=r.toArray(),l=a.toArray(),d=n.distanceTo(r),u=r.distanceTo(a),c=a.distanceTo(n),f=pu(s,o),h=pu(o,l),p=pu(l,s),m=[d,u,c],g=Math.max(...m),v=m.filter(_=>Math.round(_)===Math.round(g)).length>1,y=[],b=ba.getMidpoint(md).toArray();g===d&&!v&&(y=[h,p,p],b=f),g===u&&!v&&(y=[f,p,p],b=h),g===c&&!v&&(y=[f,h,h],b=p),v&&(y=[f,h,p]),t.push({vertices:[s,o,l],faceCenters:y,midpoint:b,norm:ba.getNormal(Pg).toArray()})}return t}function dne(e){let t=[],{position:i}=e.attributes;for(let n=0;n<i.count;n++){ba.setFromAttributeAndIndices(i,n*3,n*3+1,n*3+2),ba.getNormal(Pg),ba.getMidpoint(md);let r=ba.a.toArray(),a=ba.b.toArray(),s=ba.c.toArray();t.push({vertices:[r,a,s],faceCenters:[pu(r,a),pu(a,s),pu(s,r)],midpoint:md.toArray(),norm:Pg.toArray()})}return t}var cne=4,une=.5,e_=e=>.5*(1-Math.cos(e*Math.PI)),fne=class{constructor(){this.perlin=new Array(4096)}noise(e,t=0,i=0){if(this.perlin==null){this.perlin=new Array(4096);for(let g=0;g<4096;g++)this.perlin[g]=Math.random()}e<0&&(e=-e),t<0&&(t=-t),i<0&&(i=-i);let n=Math.floor(e),r=Math.floor(t),a=Math.floor(i),s=e-n,o=t-r,l=i-a,d,u,c=0,f=.5,h,p,m;for(let g=0;g<cne;g++){let v=n+(r<<4)+(a<<8);d=e_(s),u=e_(o),h=this.perlin[v&4095],h+=d*(this.perlin[v+1&4095]-h),p=this.perlin[v+16&4095],p+=d*(this.perlin[v+16+1&4095]-p),h+=u*(p-h),v+=256,p=this.perlin[v&4095],p+=d*(this.perlin[v+1&4095]-p),m=this.perlin[v+16&4095],m+=d*(this.perlin[v+16+1&4095]-m),p+=u*(m-p),h+=e_(l)*(p-h),c+=h*f,f*=une,n<<=1,s*=2,r<<=1,o*=2,a<<=1,l*=2,s>=1&&(n++,s--),o>=1&&(r++,o--),l>=1&&(a++,l--)}return c}noiseSeed(e){let t=(()=>{let i,n;return{setSeed(r){n=i=(r!=null?r:Math.random()*4294967296)>>>0},getSeed(){return i},rand(){return n=(1664525*n+1013904223)%4294967296,n/4294967296}}})();t.setSeed(e),this.perlin=new Array(4096);for(let i=0;i<4096;i++)this.perlin[i]=t.rand()}},hne=fne,VD=new E,HD=new Ee,GD=new Kd;function WD(e){let t=!1;return e.scene.objects.traverse((i,n)=>{n.type==="Mesh"&&n.geometry.type==="TextGeometry"&&(t=!0)}),t}var qD=class extends wr{constructor(e,t,i){super(e,t,i),this.data=t}get textGeometry(){return this.geometry}get charWidths(){return this.textGeometry.charWidths}get charCoords(){return this.textGeometry.charCoords}get wrappedText(){return this.textGeometry.wrappedText}get font(){return this.textGeometry.font}get initialOffsetY(){var t,i;let e=this.dataPatched;return(i=(t=this.font)==null?void 0:t.getLineInitialOffsetY(this.lineHeight,this.wrappedText.length,e.geometry.height,this.fontScale,e.geometry.verticalAlign))!=null?i:0}get fontScale(){let e=this.dataPatched;return this.font?e.geometry.fontSize/this.font.unitsPerEm:1}get AD(){return Math.abs(this.ascender-this.descender)}get ascender(){var e,t;return((t=(e=this.font)==null?void 0:e.ascender)!=null?t:1)*this.fontScale}get descender(){var e,t;return((t=(e=this.font)==null?void 0:e.descender)!=null?t:1)*this.fontScale}get lineHeight(){let e=this.dataPatched;return e.geometry.fontSize*e.geometry.lineHeight}raycast(e,t){let{matrixWorld:i}=this;if(!(isNaN(e.ray.origin.x)||this.scale.x===0||this.scale.y===0||this.scale.z===0)&&(HD.copy(i).invert(),GD.copy(e.ray).applyMatrix4(HD),GD.intersectBox(this.singleBBox,VD))){let n=VD.applyMatrix4(i),r=e.ray.origin.distanceTo(n);t.push({distance:r,point:n.clone(),object:this})}}},xr=1e-4,Es,ZD,YD,XD,KD=new E,QD=new E;Tb.then(e=>{Es=e,ZD=[Es.get_face_center,Es.get_edge_midpoint,Es.get_vertex_position],YD=[Es.get_face_normal,Es.get_edge_normal,Es.get_vertex_normal],XD=[Es.face_count,Es.edge_count,Es.vertex_count]});var pne=new Ee,mne=new Ee,dl=new E,gd=new E,ch=new E,t_=new E,gne=new E,vne=new E,vo=new hne,Va=class extends ib(mi){constructor(e,t){super(),this.parameters=t,this.objectForSample=void 0,this._pendingMediaLoad=!1,this.object=e}resetOnMove(){this.removeFromParent(),this.parent=null}expandClones(e){if(this.parent===null)this.updateState(this.parameters,e);else for(let t of this.children)t instanceof er&&t.expand()}invalidateTransform(e){this.matrixWorldNeedsUpdate=!0,this.traverse(t=>{t instanceof er&&t.object===e&&(t.matrixWorldNeedsUpdate=!0)})}onObjUpdateMatrix(){this.parameters.type!=="toObject"&&(this.matrixWorldNeedsUpdate=!0)}update(){switch(this._updateCount(),this.parameters.type){case"radial":this._updateRadial(this.parameters);break;case"linear":this._updateLinear(this.parameters);break;case"grid":this._updateGrid(this.parameters);break;case"toObject":this._updateToObject(this.parameters)}for(let e of this.children)e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD())}_updateCount(e){let t;if(e!==void 0?t=e:t=this.parameters.type==="grid"?Math.round(this.parameters.grid.count[0])*Math.round(this.parameters.grid.count[1])*Math.round(this.parameters.grid.count[2]):this.parameters.count,this.parameters.type==="toObject"&&!this.parameters.toObject.object&&(t=0),this.parameters.type==="toObject"&&this.objectForSample){for(let n=0,r=this.children.length;n<r;++n)this.remove(this.children[0]);let i=this.children;if(i.length===t)return;if(i.length<t)for(let n=0,r=t-i.length;n<r;++n){let a=new er(this.object);a.expand(),this.add(a)}else for(let n=0,r=i.length-t;n<r;++n)this.remove(i[n])}else{if(this.children.length===t)return;if(this.children.length<t)for(let i=0,n=t-this.children.length;i<n;++i){let r=new er(this.object);r.expand(),this.add(r)}else for(let i=0,n=this.children.length-t;i<n;++i)this.remove(this.children[0])}}_updateRadial(e){var c;let t=e.radial,i=t.start*at.DEG2RAD,n=t.end*at.DEG2RAD,r=i-n,a=new Dn(t.rotation[0],t.rotation[1],t.rotation[2]),s;switch(t.axis){case"z":s=new E(0,0,1);break;case"y":s=new E(0,1,0);break;default:case"x":s=new E(1,0,0);break}let o=(c=e.randomnessObject)!=null?c:Xo.defaultData([1,1,1]).randomnessObject,l=o.noiseType==="perlin";vo.noiseSeed(o.seed);let d=tb((0,Kf.default)(o.seed)),u=Eg(o.strength,this.parameters.randomness);for(let[f,h]of this.children.entries()){let p=f*(o.freqScale/10)+o.movement,m=l?vo.noise(p):d(p,p),g=f+1;h.scale.x=t.scale[0]+u(g,It(m,o.scale[0]))||xr,h.scale.y=t.scale[1]+u(g,It(m,o.scale[1]))||xr,h.scale.z=t.scale[2]+u(g,It(m,o.scale[2]))||xr,h.position.setScalar(0);let v=r/e.count*f-i;switch(t.axis){case"x":h.rotation.set(0,v,0);break;case"y":h.rotation.set(0,0,v);break;case"z":h.rotation.set(v,0,0);break}h.translateOnAxis(s,t.radius),h.position.x+=t.position[0]+u(g,It(m,o.position[0])),h.position.y+=t.position[1]+u(g,It(m,o.position[1])),h.position.z+=t.position[2]+u(g,It(m,o.position[2]));let y=u(g,It(m,o.rotation[0])),b=u(g,It(m,o.rotation[1])),_=u(g,It(m,o.rotation[2]));t.alignment===!0?(h.rotation.x+=a.x+y,h.rotation.y+=a.y+b,h.rotation.z+=a.z+_):h.rotation.set(a.x+y,a.y+b,a.z+_)}}_updateLinear(e){var o;if(e.type!=="linear")throw new Error;let t=e.linear,i=new Dn(t.rotation[0],t.rotation[1],t.rotation[2]),n=(o=e.randomnessObject)!=null?o:Xo.defaultData([1,1,1]).randomnessObject,r=n.noiseType==="perlin";vo.noiseSeed(n.seed);let a=tb((0,Kf.default)(n.seed)),s=Eg(n.strength,this.parameters.randomness);for(let[l,d]of this.children.entries()){let u=l*(n.freqScale/10)+n.movement,c=r?vo.noise(u):a(u,u),f=l+1,h=s(f,It(c,n.rotation[0])),p=s(f,It(c,n.rotation[1])),m=s(f,It(c,n.rotation[2]));d.scale.x=1+(t.scale[0]-1)*l+s(f,It(c,n.scale[0]))||xr,d.scale.y=1+(t.scale[1]-1)*l+s(f,It(c,n.scale[1]))||xr,d.scale.z=1+(t.scale[2]-1)*l+s(f,It(c,n.scale[2]))||xr,d.rotation.x=i.x*l+h,d.rotation.y=i.y*l+p,d.rotation.z=i.z*l+m,d.position.x=t.position[0]*l+s(f,It(c,n.position[0])),d.position.y=t.position[1]*l+s(f,It(c,n.position[1])),d.position.z=t.position[2]*l+s(f,It(c,n.position[2]))}}_updateGrid(e){var o;let t=0,i=e.grid,n=(o=e.randomnessObject)!=null?o:Xo.defaultData([1,1,1]).randomnessObject,r=Eg(n.strength,this.parameters.randomness),a=n.noiseType==="perlin";vo.noiseSeed(n.seed);let s=k$((0,Kf.default)(n.seed));if(i.useCenter===!0){let l={x:i.count[0]%2===0?2:1,y:i.count[1]%2===0?2:1,z:i.count[2]%2===0?2:1},d=new E(i.size[0]*(i.count[0]-l.x)*.5,i.size[1]*(i.count[1]-l.y)*.5,i.size[2]*(i.count[2]-l.z)*.5);for(let u=0;u<i.count[0];u++)for(let c=0;c<i.count[1];c++)for(let f=0;f<i.count[2];f++){let h=[(u+1)*(n.freqScale/10)+n.movement,(c+1)*(n.freqScale/10)+n.movement,(f+1)*(n.freqScale/10)+n.movement],p=a?vo.noise(...h):s(...h),m=this.children[t++];m.scale.x=1+r(t,It(p,n.scale[0]))||xr,m.scale.y=1+r(t,It(p,n.scale[1]))||xr,m.scale.z=1+r(t,It(p,n.scale[2]))||xr;let g=r(t,It(p,n.rotation[0])),v=r(t,It(p,n.rotation[1])),y=r(t,It(p,n.rotation[2]));m.rotation.set(g,v,y),m.position.x=i.size[0]*u-d.x+r(t,It(p,n.position[0])),m.position.y=i.size[1]*c-d.y+r(t,It(p,n.position[1])),m.position.z=i.size[2]*f-d.z+r(t,It(p,n.position[2]))}}else for(let l=0;l<i.count[0];l++)for(let d=0;d<i.count[1];d++)for(let u=0;u<i.count[2];u++){let c=[(l+1)*(n.freqScale/10)+n.movement,(d+1)*(n.freqScale/10)+n.movement,(u+1)*(n.freqScale/10)+n.movement],f=a?vo.noise(...c):s(...c),h=this.children[t++];h.scale.x=1+r(t,It(f,n.scale[0]))||xr,h.scale.y=1+r(t,It(f,n.scale[1]))||xr,h.scale.z=1+r(t,It(f,n.scale[2]))||xr;let p=r(t,It(f,n.rotation[0])),m=r(t,It(f,n.rotation[1])),g=r(t,It(f,n.rotation[2]));h.rotation.set(p,m,g),h.position.x=i.size[0]*l+r(t,It(f,n.position[0])),h.position.y=-i.size[1]*d+r(t,It(f,n.position[1])),h.position.z=-i.size[2]*u+r(t,It(f,n.position[2]))}}_updateToObject(e){var m,g;if(e.type!=="toObject")throw new Error;let{toObject:t}=e,i=new Dn(t.rotation[0],t.rotation[1],t.rotation[2]),n=(m=e.randomnessObject)!=null?m:Xo.defaultData([1,1,1]).randomnessObject,r=n.noiseType==="perlin";vo.noiseSeed(n.seed);let a=tb((0,Kf.default)(n.seed)),s=Eg(n.strength,this.parameters.randomness);if(!t.object){for(let[,v]of this.children.entries())v.position.set(0,0,0),v.scale.setScalar(1),v.rotation.set(0,0,0);this.objectForSample=void 0;return}if(!this.objectForSample)return;if(this.objectForSample instanceof qD)if(!((g=this.objectForSample.font)!=null&&g.isLoaded)||this.objectForSample.geometry.attributes.position===void 0){this._pendingMediaLoad=!0;return}else this._pendingMediaLoad=!1;if(this.objectForSample.geometry===void 0&&this.objectForSample.isAncestorOf(this.object.uuid)){console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) seem to be a child/descendant of the object it's being cloned to. Please re-parent it so that they are siblings instead.`);return}let o=this.getSubdivData(),l=[],d=v=>{let y=v.length,b=v.map(k=>k[0]).reduce((k,w)=>k+w,0),_=v.map(k=>k[1]).reduce((k,w)=>k+w,0),x=v.map(k=>k[2]).reduce((k,w)=>k+w,0);return[b/y,_/y,x/y]},u=v=>Math.round(v*1e6)/1e6;o.forEach(v=>{let y=o.filter(b=>u(v.pos[0])===u(b.pos[0])&&u(v.pos[1])===u(b.pos[1])&&u(v.pos[2])===u(b.pos[2]));y.length>1?l.push({pos:v.pos,norm:d(y.map(b=>b.norm))}):l.push(v)});let c=rne(l);if(c.length>0){let v=Math.round(c.length*t.count/100);this._updateCount(v)}else{let v=this.objectForSample.geometry.getAttribute("position");if(!v||isNaN(v.count)||v.count===0){console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) cannot be cloned on the surface of "${this.objectForSample.name}" (${this.objectForSample.uuid}) because the latter does not have a valid geometry.`);return}}this.objectForSample.updateMatrixWorld();let f=new S$(this.objectForSample).build(),h=ine[t.axis],p=this.children;f.setRandomGenerator((0,Kf.default)(this.object.uuid+t.seed));for(let[v,y]of p.entries()){let b=v*(n.freqScale/10)+n.movement,_=r?vo.noise(b):a(b,b),x=v+1,k=s(x,It(_,n.rotation[0])),w=s(x,It(_,n.rotation[1])),S=s(x,It(_,n.rotation[2]));t.spreadType==="random"?f.sample(ch,t_):(c.length&&(ch.fromArray(c[v].pos),t_.fromArray(c[v].norm)),this.objectForSample instanceof dh&&ch.applyMatrix4(pne.copy(this.objectForSample.matrixWorld).invert())),ch.applyMatrix4(this.object.hiddenMatrix.clone().invert()),y.position.copy(ch),dl.fromArray(h);let A=t.align==="normal"?t_:this.object.getWorldDirection(vne),M=gd.fromArray(t.position);gd.x+=gd.x+s(x,It(_,n.position[0])),gd.y+=gd.y+s(x,It(_,n.position[1])),gd.z+=gd.z+s(x,It(_,n.position[2]));let C=Math.acos(A.dot(dl)),T=gne.crossVectors(dl,A).normalize(),P=mne.makeRotationAxis(T,C),I=A.clone().cross(this.object.up).normalize(),j=I.clone().cross(A).normalize(),H=new Ee().makeBasis(I,A,j),U=new E(dl.y,dl.z,dl.x).normalize(),O=U.clone().cross(dl).normalize(),F=new Ee().makeBasis(U,dl,O).invert(),Z=new Ee().multiplyMatrices(H,F);y.rotation.setFromRotationMatrix(Z),M.applyMatrix4(P),y.position.add(M),y.rotation.x=y.rotation.x+i.x+k,y.rotation.y=y.rotation.y+i.y+w,y.rotation.z=y.rotation.z+i.z+S,y.scale.setScalar(1),y.scale.x=y.scale.x+t.scale[0]+s(x,It(_,n.scale[0]))||xr,y.scale.y=y.scale.y+t.scale[1]+s(x,It(_,n.scale[1]))||xr,y.scale.z=y.scale.z+t.scale[2]+s(x,It(_,n.scale[2]))||xr,y.scale.multiply(this.object.scale),y.hiddenMatrix=this.object.hiddenMatrix}}getSubdivData(){if(!this.objectForSample)return[];let e=this.parameters.toObject.spreadType;if(e==="random")return[];if(this.objectForSample instanceof dh){let t=this.objectForSample,i=nne[e],n=XD[i],r=ZD[i],a=YD[i],s=[],o=n(t.subdivPointerNew);for(let l=0;l<=o-1;l++){let d=r(t.subdivPointerNew,l),u=a(t.subdivPointerNew,l);KD.fromArray(d).applyMatrix4(t.matrixWorld),QD.fromArray(u),s.push({pos:KD.toArray(),norm:QD.toArray()})}return s}else return(this.objectForSample.geometry.index?lne(this.objectForSample.geometry):dne(this.objectForSample.geometry)).map((t,i)=>e==="polygon_center"?{pos:t.midpoint,norm:t.norm}:e==="vertex"?[{pos:t.vertices[0],norm:t.norm},{pos:t.vertices[1],norm:t.norm},{pos:t.vertices[2],norm:t.norm}]:e==="edge"?[{pos:t.faceCenters[0],norm:t.norm},{pos:t.faceCenters[1],norm:t.norm},{pos:t.faceCenters[2],norm:t.norm}]:[]).flat()}updateState(e,t){var i;if(this.parameters=ym(e),this.parameters.type!=="toObject")(this.parent===null||this.parent!==this.object)&&(this.removeFromParent(),(i=this.object.parent)==null||i.add(this),this.matrix=this.object.matrix,this.hiddenMatrix=this.object.hiddenMatrix,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1);else if(this.parent===null||this.parent.uuid!==this.parameters.toObject.object){this.removeFromParent();let n=t.find(this.parameters.toObject.object);n instanceof Ir?this.objectForSample=n:this.objectForSample=void 0,this.matrix=new Ee,this.hiddenMatrix=new Ee,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1,n&&n.add(this)}this.update()}get pendingMediaLoad(){return this._pendingMediaLoad}},uh=e=>{var t;return t=class extends e{},t.geometryHelper=new ls(30,30,30),t},Ig=new Kd,i_=new Er,JD=new Ee,fh=(e,t,i,n,r=!1)=>{let a=t,s=e.matrixWorld;if(a.boundingSphere===null&&a.computeBoundingSphere(),i_.copy(a.boundingSphere),i_.applyMatrix4(s),i.ray.intersectsSphere(i_)===!1||(JD.copy(s).invert(),Ig.copy(i.ray).applyMatrix4(JD),a.boundingBox!==null&&Ig.intersectsBox(a.boundingBox)===!1))return;let o,l,d,u,c=a.index,f=a.attributes.position,h=a.drawRange,p,m;if(r===!1){let v=Math.max(0,h.start),y=Math.min(c.count,h.start+h.count);for(p=v,m=y;p<m;p+=3)if(l=c.getX(p),d=c.getX(p+1),u=c.getX(p+2),o=g(e,i,Ig,f,l,d,u),o){o.faceIndex=Math.floor(p/3),n.push(o);return}}else{let v=a.attributes.position,y=new E,b=new E,_=new E,x=new E,k=2,w=1/((e.scale.x+e.scale.y+e.scale.z)/3),S=w*w,A=Math.max(0,h.start),M=Math.min(v.count,h.start+h.count);for(let C=A,T=M-1;C<T;C+=k){if(y.fromBufferAttribute(v,C),b.fromBufferAttribute(v,C+1),Ig.distanceSqToSegment(y,b,x,_)>S)continue;x.applyMatrix4(e.matrixWorld);let P=i.ray.origin.distanceTo(x);P<i.near||P>i.far||n.push({distance:P,point:_.clone().applyMatrix4(e.matrixWorld),object:e})}}function g(v,y,b,_,x,k,w){let S=new E,A=new E,M=new E,C=new E,T=new E;if(S.fromBufferAttribute(_,x),A.fromBufferAttribute(_,k),M.fromBufferAttribute(_,w),b.intersectTriangle(S,A,M,!1,C)===null)return null;T.copy(C),T.applyMatrix4(v.matrixWorld);let P=y.ray.origin.distanceTo(T);return P<y.near||P>y.far?null:{faceIndex:1,distance:P,point:T.clone(),object:v}}},Og=new E,_a=new sc,yne=class extends gf{constructor(e){let t=new dt,i=new No({color:16777215,vertexColors:!0,toneMapped:!1}),n=[],r=[],a={},s=new pt(15711266),o=new pt(15711266),l=new pt(2857471);d("n1","n2",s),d("n2","n4",s),d("n4","n3",s),d("n3","n1",s),d("f1","f2",s),d("f2","f4",s),d("f4","f3",s),d("f3","f1",s),d("n1","f1",s),d("n2","f2",s),d("n3","f3",s),d("n4","f4",s),d("p","n1",o),d("p","n2",o),d("p","n3",o),d("p","n4",o),d("u1","u2",l),d("u2","u3",l),d("u3","u1",l);function d(c,f,h){u(c,h),u(f,h)}function u(c,f){n.push(0,0,0),r.push(f.r,f.g,f.b),a[c]===void 0&&(a[c]=[]),a[c].push(n.length/3-1)}t.setAttribute("position",new Ke(n,3)),t.setAttribute("color",new Ke(r,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}update(){let e=this.geometry,t=this.pointMap,i=!0;_a.projectionMatrixInverse.elements=[.5112609807824982,-0,-0,-0,-0,.41421356237309503,-0,-0,-0,-0,-0,-.099999,-0,-0,-1.0000000000000002,.100001];let n=1,r=1,a=i?.8:1e-4;Ha("n1",t,e,_a,-n,-r,a),Ha("n2",t,e,_a,n,-r,a),Ha("n3",t,e,_a,-n,r,a),Ha("n4",t,e,_a,n,r,a);let s=a;Ha("f1",t,e,_a,-n,-r,s),Ha("f2",t,e,_a,n,-r,s),Ha("f3",t,e,_a,-n,r,s),Ha("f4",t,e,_a,n,r,s);let o=s,l=.5;Ha("u1",t,e,_a,n*.7*l,r*1.1,o),Ha("u2",t,e,_a,-n*.7*l,r*1.1,o),Ha("u3",t,e,_a,0,r*(1.1+.9*l),o),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function Ha(e,t,i,n,r,a,s){Og.set(r,a,s).unproject(n);let o=t[e];if(o!==void 0){let l=i.getAttribute("position");for(let d=0,u=o.length;d<u;d++)l.setXYZ(o[d],Og.x,Og.y,Og.z)}}var bne=class extends uh(yne){constructor(e){super(e),this.object=e,this.object=e,this.name=`CombinedCameraHelper: ${e.uuid}`}updateMatrixWorld(e){super.updateMatrixWorld(e),this.updateTarget()}updateTarget(){let e=this.object.getTarget();this.updateWorldMatrix(!0,!1),this.worldToLocal(e)}raycast(e,t){fh(this.object,this.geometry,e,t,!0)}},n_;(e=>e.is=t=>"objectHelper"in t)(n_||(n_={}));var hh=(e,t)=>class extends ob(e){constructor(){super(...arguments),this.objectHelper=new t(this),this.gizmos={}}get geometryHelper(){return t.geometryHelper}raycast(i,n){this.objectHelper.raycast(i,n)}showGizmos(){for(let i in this.gizmos){let n=this.gizmos[i];n instanceof nm&&(n.visible=!0)}}updateEntityBoxSize(i,n){this.objectHelper.visible&&this.geometryHelper instanceof ls?(i.setScalar(0),n.set(this.geometryHelper.parameters.width,this.geometryHelper.parameters.height,this.geometryHelper.parameters.height).multiplyScalar(.5)):super.updateEntityBoxSize(i,n)}hideGizmos(){for(let i in this.gizmos){let n=this.gizmos[i];n instanceof nm&&(n.visible=!1)}}},jg=790,mu=new E,r_=new E,a_=new Ct,s_=new E,ph=new E,o_=new E,tr=class extends hh(sc,bne){constructor(e="",t=Q(R({},Ff.defaultData),{name:""})){super(),this._cameraType="OrthographicCamera",this.targetOffset=Oc.DefaultTargetOffset,this.isUpVectorFlipped=!1,this.angleOffsetFromUp=0,this.wasMovedByUser=!1,this.wasMovedBySwitchCameraAction=!1,this.super_Entity(e,t),this.previousProjectionMatrix=new Ee,this.matrixAutoUpdate=!0,this.width=window.innerWidth,this.height=window.innerHeight;let i=this.width,n=this.height;this.orthoCamera=new G0(i*-.5,i*.5,n*.5,n*-.5,-5e4,1e4),this.perspCamera=new Qn(45,i/n,50,1e4),this.left=this.orthoCamera.left,this.right=this.orthoCamera.right,this.top=this.orthoCamera.top,this.bottom=this.orthoCamera.bottom,this.far=this.orthoCamera.far,this.view=this.orthoCamera.view,this.aspect=this.perspCamera.aspect,this.focus=this.perspCamera.focus,this.filmGauge=this.perspCamera.filmGauge,this.filmOffset=this.perspCamera.filmOffset,this.objectHelper.update()}get isPerspectiveCamera(){return this.cameraType==="PerspectiveCamera"}get isOrthographicCamera(){return!this.isPerspectiveCamera}get cameraType(){return this._cameraType}set fov(e){this.perspCamera.fov=e}get fov(){return this.perspCamera.fov}setNear(e,t){e==="PerspectiveCamera"?this.perspCamera.near=t:this.orthoCamera.near=t}setZoom(e,t){t>=0&&(e==="PerspectiveCamera"?this.perspCamera.zoom=t:this.orthoCamera.zoom=t)}set cameraType(e){e==="PerspectiveCamera"?this.toPerspective():e==="OrthographicCamera"&&this.toOrthographic()}get near(){return this._cameraType==="PerspectiveCamera"?this.perspCamera.near:this.orthoCamera.near}set near(e){this._cameraType==="PerspectiveCamera"?this.perspCamera.near=e:this.orthoCamera.near=e}get zoom(){return this._cameraType==="PerspectiveCamera"?this.perspCamera.zoom:this.orthoCamera.zoom}set zoom(e){e>=0&&(this._cameraType==="PerspectiveCamera"?this.perspCamera.zoom=e:this.orthoCamera.zoom=e)}lookAt(e,t,i){typeof e=="number"&&(e=new E(e,t,i)),super.lookAt(e),this.getWorldPosition(mu),this.targetOffset=mu.distanceTo(e)}getTarget(e=new E){return this.getWorldDirection(r_),this.getWorldPosition(mu),r_.multiplyScalar(this.targetOffset),e.copy(mu).add(r_),e}getDistanceToTarget(){let e=this.getTarget();return this.getWorldPosition(mu),mu.distanceTo(e)}updateUp(){this.getWorldQuaternion(a_),s_.set(0,0,1).applyQuaternion(a_),ph.copy(mi.DEFAULT_UP),this.isUpVectorFlipped&&ph.negate(),ph.applyQuaternion(a_),o_.copy(mi.DEFAULT_UP).projectOnPlane(s_),this.angleOffsetFromUp=o_.angleTo(ph),this.angleOffsetFromUp*=o_.cross(ph).dot(s_)>=0?1:-1}updateTransformState(e,t){let i=super.updateTransformState(e,t);return e.isUpVectorFlipped!==void 0&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateUp(),i}getViewFrontToObject(e){let t=e.getWorldPosition(new E),i=e.getWorldDirection(new E).multiplyScalar(this.targetOffset);return{position:t.clone().add(i),target:t}}getViewToTarget(e){let t=this.getWorldDirection(new E).multiplyScalar(this.targetOffset);return{position:e.clone().sub(t),target:e}}getViewToObject(e){let t=new E,i=e.getWorldPosition(t);return this.getViewToTarget(t)}setViewplaneSize(e,t,i=!1){if(this.aspect=e/t,i){let n=e>t?this.aspect:1,r=e>t?1:this.aspect;this.left=-jg*.5*n,this.right=jg*.5*n,this.top=jg*.5*(1/r),this.bottom=-jg*.5*(1/r)}else this.left=-e*.5,this.right=e*.5,this.top=t*.5,this.bottom=-t*.5;this.updateProjectionMatrix()}copyViewPlaneSize(e){this.aspect=e.aspect,this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.updateProjectionMatrix()}toOrthographic(){this.orthoCamera.left=this.left,this.orthoCamera.right=this.right,this.orthoCamera.top=this.top,this.orthoCamera.bottom=this.bottom,this.orthoCamera.view=this.view,this.orthoCamera.far=this.far,this.orthoCamera.updateProjectionMatrix(),this.projectionMatrix=this.orthoCamera.projectionMatrix,this.projectionMatrixInverse=this.orthoCamera.projectionMatrixInverse,this._cameraType="OrthographicCamera",this.objectHelper&&this.objectHelper.update()}toPerspective(){this.perspCamera.aspect=this.aspect,this.perspCamera.fov=this.fov,this.perspCamera.view=this.view,this.perspCamera.far=this.far,this.perspCamera.updateProjectionMatrix(),this.projectionMatrix=this.perspCamera.projectionMatrix,this.projectionMatrixInverse=this.perspCamera.projectionMatrixInverse,this._cameraType="PerspectiveCamera",this.objectHelper&&this.objectHelper.update()}setFocalLength(e){this.perspCamera.setFocalLength(e),this.toPerspective()}getFocalLength(){return this.perspCamera.getFocalLength()}getEffectiveFOV(){return this.perspCamera.getEffectiveFOV()}getFilmWidth(){return this.perspCamera.getFilmWidth()}getFilmHeight(){return this.perspCamera.getFilmHeight()}setViewOffset(e,t,i,n,r,a){this._cameraType==="PerspectiveCamera"?this.perspCamera.setViewOffset(e,t,i,n,r,a):this.orthoCamera.setViewOffset(e,t,i,n,r,a)}clearViewOffset(){this._cameraType==="PerspectiveCamera"?(this.perspCamera.clearViewOffset(),this.toPerspective()):(this.orthoCamera.clearViewOffset(),this.toOrthographic())}copyHistory(){this.previousProjectionMatrix&&this.previousProjectionMatrix.copy(this.projectionMatrix)}updateProjectionMatrix(){this._cameraType==="PerspectiveCamera"?this.toPerspective():this._cameraType==="OrthographicCamera"&&this.toOrthographic()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}copy(e,t){return super.copy(e,t),this.parent=e.parent,this.orthoCamera.copy(e.orthoCamera),this.perspCamera.copy(e.perspCamera),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.far=e.far,this.view=e.view===null?null:Object.assign({},e.view),this._cameraType=e._cameraType,this.aspect=e.aspect,this.fov=e.fov,this.focus=e.focus,this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this.targetOffset=e.targetOffset,this.updateProjectionMatrix(),this}toCameraState(e=[]){let t={type:this.cameraType,far:this.far,orthographic:{near:this.orthoCamera.near,zoom:this.orthoCamera.zoom},perspective:{near:this.perspCamera.near,fov:this.perspCamera.fov,zoom:this.perspCamera.zoom},up:this.up.toArray(),targetOffset:this.targetOffset,isUpVectorFlipped:this.isUpVectorFlipped};return Z1(t,e)}updateCameraSubtype(e,t){let i=e==="perspective"?"PerspectiveCamera":"OrthographicCamera";t.zoom!==void 0&&this.setZoom(i,t.zoom),t.near!==void 0&&this.setNear(i,t.near),t.fov!==void 0&&i==="PerspectiveCamera"&&(this.fov=t.fov)}updateState(e,t){this.updateCameraState(e,t)}updateCameraState(e,t){this.updateState_Entity(e,t),e.far!==void 0&&(this.far=e.far),e.orthographic!==void 0&&this.updateCameraSubtype("orthographic",e.orthographic),e.perspective!==void 0&&this.updateCameraSubtype("perspective",e.perspective),e.type!==void 0&&(this.cameraType=e.type),e.up!==void 0&&this.up.fromArray(e.up),e.targetOffset!==void 0&&(this.targetOffset=e.targetOffset),e.isUpVectorFlipped!==void 0&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateProjectionMatrix()}updateByPatchedOp(e,t,i){super.updateByPatchedOp(e,t,i),e.path.length===1&&e.type===0&&this.updateCameraSubtype(e.path[0],e.props)}toState(e){return Q(R(R({},super.toState(e)),this.toCameraState(e)),{type:this.cameraType})}},gu=new Ee,_ne=new Ee,Rg=new Ee,$D=new E,e6=new E;function t6(e){let t=!1;return e.scene.objects.traverse((i,n)=>{var r;((r=n.geometry)==null?void 0:r.type)==="BooleanGeometry"&&(t=!0)}),t}var vd=class extends hu{constructor(e,t,i){super(e,t),this.data=t,this.meshSetAddresses=[],this.needsTransformForDownstream=!1,this.geometry=new dt,this.onAfterRender=(n,r,a,s,o,l)=>{super.onAfterRender(n,r,a,s,o,l),this.recomputeBoolean()},this.geometry.userData.parameters={width:0,height:0,depth:0}}get booleanOp(){return this.data.geometry.operation}get phongAngle(){var e;return(e=this.data.geometry.phongAngle)!=null?e:45}get isLOD(){return this.recomputeBoolean(),!1}updateByPatchedOp(e,t,i){super.updateByPatchedOp(e,t,i),e.path.length===1&&e.path[0]==="geometry"&&e.type===0&&e.props.operation!==void 0&&(this.freeBooleanPointer(),this.resetBBoxNeedsUpdate())}freeBooleanPointer(){super.freeBooleanPointer(),this.geometry.dispose()}recomputeBoolean(e,t=!0){var n,r;if(this.booleanMeshSetAddress!==-1&&!e)return;for(let a=0;a<this.children.length;a++){let s=this.children[a];s instanceof vd&&s.dataPatched.visible===!0&&s.recomputeBoolean(e===!0,t)}this.meshSetAddresses=[];for(let a=0;a<this.children.length;a++){let s=this.children[a];if(s instanceof Ir&&s.dataPatched.visible===!0&&((n=s.geometry.attributes.position)==null?void 0:n.count)>0&&s.geometry.drawRange.count>0&&s.booleanMeshSetAddress!==0){gu.multiplyMatrices(s.hiddenMatrix,s.matrix);try{if(s.booleanMeshSetAddress===-1){if(((r=s.geometry.index)!=null?r:s.geometry.getAttribute("position")).count/3<15e5&&(s.booleanMeshSetAddress=uo.getMeshSet(s.geometry,e===!0,t)),s.booleanMeshSetAddress===-1)return;uo.transformMeshSet(s.booleanMeshSetAddress,gu),s.booleanMatrixInvOld.copy(gu).invert(),s.booleanWasTransformed=!1}else s instanceof vd&&s.needsTransformForDownstream===!0?(uo.transformMeshSet(s.booleanMeshSetAddress,gu),s.needsTransformForDownstream=!1):s.booleanWasTransformed===!0&&(uo.transformMeshSet(s.booleanMeshSetAddress,_ne.multiplyMatrices(gu,s.booleanMatrixInvOld)),s.booleanMatrixInvOld.copy(gu).invert(),s.booleanWasTransformed=!1)}catch(o){console.error(o),s.booleanMeshSetAddress=0,s.geometry.userData.booleanOperationDidFail=!0;continue}uo.hasOpenEdges(s.booleanMeshSetAddress)===!1||a===this.children.length-1&&this.booleanOp===2?(this.meshSetAddresses.push(s.booleanMeshSetAddress),s.geometry.userData.booleanOperationDidFail=!1):s.geometry.userData.booleanOperationDidFail="openEdges"}}if(this.meshSetAddresses.length===0){this.geometry.setAttribute("position",new Ke([],0)),this.geometry.setDrawRange(0,0);return}if(e===!0)return uo.calcBooleanTopological(this.meshSetAddresses,this.booleanOp);let i=this.geometry;i.dispose(),this.geometry=new dt,this.geometry.userData=i.userData,this.geometry.boundingSphere=i.boundingSphere;try{this.booleanMeshSetAddress=uo.calcBoolean(this.meshSetAddresses,this.booleanOp,this.geometry,this.phongAngle)}catch(a){this.booleanMeshSetAddress=0,this.geometry.userData.booleanOperationDidFail=!0,console.error(a)}this.booleanMatrixInvOld.copy(this.matrix).invert(),this.needsTransformForDownstream=!0,Jb(this),$b(this)}dispose(){super.dispose(),this.geometry.dispose()}get recursiveBBox(){var t;let e=super.recursiveBBox;return((t=this.geometry.boundingSphere)==null?void 0:t.radius)===-1&&(e.getCenter(this.geometry.boundingSphere.center),Rg.copy(this.matrixWorld).invert(),this.geometry.boundingSphere.center.applyMatrix4(Rg),$D.copy(e.max).applyMatrix4(Rg),e6.copy(e.min).applyMatrix4(Rg),this.geometry.boundingSphere.radius=$D.distanceTo(e6)/2),e}},l_;(e=>{function t(i){return qt.is(i)&&i instanceof kf}e.is=t})(l_||(l_={}));var d_=(e,t)=>class extends hh(e,t){updateState_Light(i,n){this.updateState_Entity(i,n),i.color!==void 0&&(this.color=n.shared.color(i.color)),i.intensity!==void 0&&(this.intensity=i.intensity),i.depth!==void 0&&(this.shadow.camera.far=i.depth,this.shadow.needsUpdate=!0),i.shadows!==void 0&&(this.castShadow=i.shadows)}},Ga=e=>e instanceof Ir,yo=e=>e!==null&&e instanceof vd,wne=e=>e instanceof tr,xne=e=>l_.is(e),c_=e=>n_.is(e),zg=class extends uh(JV){constructor(e,t=15){super(t),this.object=e,this.object.updateMatrixWorld(),this.name=`EmptyObjectHelper: ${e.uuid}`,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.object.isBone&&(this.visible=!1)}raycast(e,t){fh(this.object,zg.geometryHelper,e,t)}update(){}},vu=class extends hh(hc,zg){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update()}updateState(e,t){this.updateState_Entity(e,t),"buffer"in e&&Object.keys(e).length===1&&t.scene.reloadSplats()}},i6={RED:0,GREEN:1,BLUE:2,ALPHA:3},mh="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",kne=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;
#if PASS == 1
uniform vec4 kernel64[32];
#else
uniform vec4 kernel16[8];
#endif
varying vec2 vUv;void main(){
#ifdef FOREGROUND
vec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;
#else
float CoC=texture2D(cocBuffer,vUv).g*scale;
#endif
if(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{
#ifdef FOREGROUND
vec2 step=texelSize*max(CoC,CoCNearFar.g*scale);
#else
vec2 step=texelSize*CoC;
#endif
#if PASS == 1
vec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;
#else
vec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;
#endif
}}`,Bg=class extends _i{constructor(e=!1,t=!1){super({name:"BokehMaterial",defines:{PASS:e?"2":"1"},uniforms:{kernel64:new Te(null),kernel16:new Te(null),inputBuffer:new Te(null),cocBuffer:new Te(null),texelSize:new Te(new Y),scale:new Te(1)},blending:sn,depthWrite:!1,depthTest:!1,fragmentShader:kne,vertexShader:mh}),this.toneMapped=!1,t&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set cocBuffer(e){this.uniforms.cocBuffer.value=e}setCoCBuffer(e){this.uniforms.cocBuffer.value=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(e){return this.uniforms.scale.value=e}setScale(e){this.uniforms.scale.value=e}generateKernel(){let e=2.39996323,t=new Float32Array(128),i=new Float32Array(32),n=0,r=0;for(let o=0;o<80;++o){let l=o*e,d=Math.sqrt(o)/Math.sqrt(80),u=d*Math.cos(l),c=d*Math.sin(l);o%5===0?(i[r++]=u,i[r++]=c):(t[n++]=u,t[n++]=c)}let a=[],s=[];for(let o=0;o<128;)a.push(new Pt(t[o++],t[o++],t[o++],t[o++]));for(let o=0;o<32;)s.push(new Pt(i[o++],i[o++],i[o++],i[o++]));this.uniforms.kernel64.value=a,this.uniforms.kernel16.value=s}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t)}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}};function n6(e,t,i){return e*(t-i)-t}function u_(e,t,i){return Math.min(Math.max((e+t)/(t-i),0),1)}var Sne=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}void main(){float depth=readDepth(vUv);
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);
#else
float linearDepth=depth;
#endif
float signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}`,Ane=class extends _i{constructor(e){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Te(null),focusDistance:new Te(0),focusRange:new Te(0),cameraNear:new Te(.3),cameraFar:new Te(1e3)},blending:sn,depthWrite:!1,depthTest:!1,fragmentShader:Sne,vertexShader:mh}),this.toneMapped=!1,this.uniforms.focalLength=this.uniforms.focusRange,this.adoptCameraSettings(e)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Ys){this.depthBuffer=e,this.depthPacking=t}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(e){this.uniforms.focusDistance.value=e}get worldFocusDistance(){return-n6(this.focusDistance,this.near,this.far)}set worldFocusDistance(e){this.focusDistance=u_(-e,this.near,this.far)}getFocusDistance(e){this.uniforms.focusDistance.value=e}setFocusDistance(e){this.uniforms.focusDistance.value=e}get focalLength(){return this.focusRange}set focalLength(e){this.focusRange=e}get focusRange(){return this.uniforms.focusRange.value}set focusRange(e){this.uniforms.focusRange.value=e}get worldFocusRange(){return-n6(this.focusRange,this.near,this.far)}set worldFocusRange(e){this.focusRange=u_(-e,this.near,this.far)}getFocalLength(e){return this.focusRange}setFocalLength(e){this.focusRange=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof Qn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},Mne=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <encodings_fragment>
#include <dithering_fragment>
}`,Cne="uniform vec2 texelSize;uniform vec2 halfTexelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize*vec2(kernel)+halfTexelSize)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",r6=class extends _i{constructor(e=new Y){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Te(null),texelSize:new Te(new Y),halfTexelSize:new Te(new Y),kernel:new Te(0),scale:new Te(1)},blending:sn,depthWrite:!1,depthTest:!1,fragmentShader:Mne,vertexShader:Cne}),this.toneMapped=!1,this.setTexelSize(e.x,e.y)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.inputBuffer=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(){return this.uniforms.scale.value}setScale(e){this.uniforms.scale.value=e}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(e){this.uniforms.kernel.value=e}setKernel(e){this.kernel=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}setSize(e,t){let i=this.uniforms;i.texelSize.value.set(1/e,1/t),i.halfTexelSize.value.copy(i.texelSize.value).multiplyScalar(.5)}},Ene=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <encodings_fragment>
}`,Tne=class extends _i{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new Te(null),opacity:new Te(1)},blending:sn,depthWrite:!1,depthTest:!1,fragmentShader:Ene,vertexShader:mh}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}getOpacity(e){return this.uniforms.opacity.value}setOpacity(e){this.uniforms.opacity.value=e}},Dne=`varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
#if EDGE_DETECTION_MODE == 1
#include <common>
#endif
#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}
#elif PREDICATION_MODE == 2
uniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}
#endif
#if PREDICATION_MODE != 0
vec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}
#endif
#if EDGE_DETECTION_MODE != 0
uniform sampler2D inputBuffer;
#endif
void main(){
#if EDGE_DETECTION_MODE == 0
const vec2 threshold=vec2(DEPTH_THRESHOLD);
#elif PREDICATION_MODE != 0
vec2 threshold=calculatePredicatedThreshold();
#else
const vec2 threshold=vec2(EDGE_THRESHOLD);
#endif
#if EDGE_DETECTION_MODE == 0
vec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 1
float l=luminance(texture2D(inputBuffer,vUv).rgb);float lLeft=luminance(texture2D(inputBuffer,vUv0).rgb);float lTop=luminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=luminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=luminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=luminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=luminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 2
vec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#endif
}`,Pne=`uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);
#if EDGE_DETECTION_MODE != 0
vUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);
#endif
gl_Position=vec4(position.xy,1.0,1.0);}`,Lg={DEPTH:0,LUMA:1,COLOR:2},Ine={DISABLED:0,DEPTH:1,CUSTOM:2},One=class extends _i{constructor(e=new Y,t=Lg.COLOR){super({name:"EdgeDetectionMaterial",defines:{THREE_REVISION:Ud.replace(/\D+/g,""),LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new Te(null),depthBuffer:new Te(null),predicationBuffer:new Te(null),texelSize:new Te(e)},blending:sn,depthWrite:!1,depthTest:!1,fragmentShader:Dne,vertexShader:Pne}),this.toneMapped=!1,this.edgeDetectionMode=t}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Ys){this.depthBuffer=e,this.depthPacking=t}get edgeDetectionMode(){return Number(this.defines.EDGE_DETECTION_MODE)}set edgeDetectionMode(e){this.defines.EDGE_DETECTION_MODE=e.toFixed(0),this.needsUpdate=!0}getEdgeDetectionMode(){return this.edgeDetectionMode}setEdgeDetectionMode(e){this.edgeDetectionMode=e}get localContrastAdaptationFactor(){return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR)}set localContrastAdaptationFactor(e){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=e.toFixed("6"),this.needsUpdate=!0}getLocalContrastAdaptationFactor(){return this.localContrastAdaptationFactor}setLocalContrastAdaptationFactor(e){this.localContrastAdaptationFactor=e}get edgeDetectionThreshold(){return Number(this.defines.EDGE_THRESHOLD)}set edgeDetectionThreshold(e){this.defines.EDGE_THRESHOLD=e.toFixed("6"),this.defines.DEPTH_THRESHOLD=(e*.1).toFixed("6"),this.needsUpdate=!0}getEdgeDetectionThreshold(){return this.edgeDetectionThreshold}setEdgeDetectionThreshold(e){this.edgeDetectionThreshold=e}get predicationMode(){return Number(this.defines.PREDICATION_MODE)}set predicationMode(e){this.defines.PREDICATION_MODE=e.toFixed(0),this.needsUpdate=!0}getPredicationMode(){return this.predicationMode}setPredicationMode(e){this.predicationMode=e}set predicationBuffer(e){this.uniforms.predicationBuffer.value=e}setPredicationBuffer(e){this.uniforms.predicationBuffer.value=e}get predicationThreshold(){return Number(this.defines.PREDICATION_THRESHOLD)}set predicationThreshold(e){this.defines.PREDICATION_THRESHOLD=e.toFixed("6"),this.needsUpdate=!0}getPredicationThreshold(){return this.predicationThreshold}setPredicationThreshold(e){this.predicationThreshold=e}get predicationScale(){return Number(this.defines.PREDICATION_SCALE)}set predicationScale(e){this.defines.PREDICATION_SCALE=e.toFixed("6"),this.needsUpdate=!0}getPredicationScale(){return this.predicationScale}setPredicationScale(e){this.predicationScale=e}get predicationStrength(){return Number(this.defines.PREDICATION_STRENGTH)}set predicationStrength(e){this.defines.PREDICATION_STRENGTH=e.toFixed("6"),this.needsUpdate=!0}getPredicationStrength(){return this.predicationStrength}setPredicationStrength(e){this.predicationStrength=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},jne=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <encodings_fragment>
#endif
#include <dithering_fragment>
}`,Rne="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}",Wa={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},f_=class extends _i{constructor(e,t,i,n,r=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:Ud.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Te(null),depthBuffer:new Te(null),resolution:new Te(new Y),texelSize:new Te(new Y),cameraNear:new Te(.3),cameraFar:new Te(1e3),aspect:new Te(1),time:new Te(0)},blending:sn,depthWrite:!1,depthTest:!1,dithering:r}),this.toneMapped=!1,e&&this.setShaderParts(e),t&&this.setDefines(t),i&&this.setUniforms(i),this.adoptCameraSettings(n)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Ys){this.depthBuffer=e,this.depthPacking=t}setShaderParts(e){return this.fragmentShader=jne.replace(Wa.FRAGMENT_HEAD,e.get(Wa.FRAGMENT_HEAD)).replace(Wa.FRAGMENT_MAIN_UV,e.get(Wa.FRAGMENT_MAIN_UV)).replace(Wa.FRAGMENT_MAIN_IMAGE,e.get(Wa.FRAGMENT_MAIN_IMAGE)),this.vertexShader=Rne.replace(Wa.VERTEX_HEAD,e.get(Wa.VERTEX_HEAD)).replace(Wa.VERTEX_MAIN_SUPPORT,e.get(Wa.VERTEX_MAIN_SUPPORT)),this.needsUpdate=!0,this}setDefines(e){for(let t of e.entries())this.defines[t[0]]=t[1];return this.needsUpdate=!0,this}setUniforms(e){for(let t of e.entries())this.uniforms[t[0]]=t[1];return this}setExtensions(e){this.extensions={};for(let t of e)this.extensions[t]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(e){return this.encodeOutput}setOutputEncodingEnabled(e){this.encodeOutput=e}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}setDeltaTime(e){this.uniforms.time.value+=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof Qn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){let i=this.uniforms;i.resolution.value.set(e,t),i.texelSize.value.set(1/e,1/t),i.aspect.value=e/t}static get Section(){return Wa}},zne=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,Bne=class extends _i{constructor(e=!1,t=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:Ud.replace(/\D+/g,"")},uniforms:{inputBuffer:new Te(null),threshold:new Te(0),smoothing:new Te(1),range:new Te(null)},blending:sn,depthWrite:!1,depthTest:!1,fragmentShader:zne,vertexShader:mh}),this.toneMapped=!1,this.colorOutput=e,this.luminanceRange=t}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get threshold(){return this.uniforms.threshold.value}set threshold(e){this.smoothing>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=e}getThreshold(){return this.threshold}setThreshold(e){this.threshold=e}get smoothing(){return this.uniforms.smoothing.value}set smoothing(e){this.threshold>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=e}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(e){this.smoothing=e}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(e){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(e){return this.colorOutput}setColorOutputEnabled(e){this.colorOutput=e}get useRange(){return this.luminanceRange!==null}set useRange(e){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(e){e!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=e,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(e){this.luminanceRange=e}},Lne=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef MASK_PRECISION_HIGH
uniform mediump sampler2D maskTexture;
#else
uniform lowp sampler2D maskTexture;
#endif
#if MASK_FUNCTION != 0
uniform float strength;
#endif
varying vec2 vUv;void main(){
#if COLOR_CHANNEL == 0
float mask=texture2D(maskTexture,vUv).r;
#elif COLOR_CHANNEL == 1
float mask=texture2D(maskTexture,vUv).g;
#elif COLOR_CHANNEL == 2
float mask=texture2D(maskTexture,vUv).b;
#else
float mask=texture2D(maskTexture,vUv).a;
#endif
#if MASK_FUNCTION == 0
#ifdef INVERTED
mask=step(mask,0.0);
#else
mask=1.0-step(mask,0.0);
#endif
#else
mask=clamp(mask*strength,0.0,1.0);
#ifdef INVERTED
mask=1.0-mask;
#endif
#endif
#if MASK_FUNCTION == 2
gl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);
#else
gl_FragColor=mask*texture2D(inputBuffer,vUv);
#endif
}`,a6={DISCARD:0,MULTIPLY:1,MULTIPLY_RGB_SET_ALPHA:2},Fne=class extends _i{constructor(e=null){super({name:"MaskMaterial",uniforms:{maskTexture:new Te(e),inputBuffer:new Te(null),strength:new Te(1)},blending:sn,depthWrite:!1,depthTest:!1,fragmentShader:Lne,vertexShader:mh}),this.toneMapped=!1,this.setColorChannel(i6.RED),this.setMaskFunction(a6.DISCARD)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set maskTexture(e){this.uniforms.maskTexture.value=e,delete this.defines.MASK_PRECISION_HIGH,e.type!==Yn&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(e){this.maskTexture=e}set colorChannel(e){this.defines.COLOR_CHANNEL=e.toFixed(0),this.needsUpdate=!0}setColorChannel(e){this.colorChannel=e}set maskFunction(e){this.defines.MASK_FUNCTION=e.toFixed(0),this.needsUpdate=!0}setMaskFunction(e){this.maskFunction=e}get inverted(){return this.defines.INVERTED!==void 0}set inverted(e){this.inverted&&!e?delete this.defines.INVERTED:e&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(e){this.inverted=e}get strength(){return this.uniforms.strength.value}set strength(e){this.uniforms.strength.value=e}getStrength(){return this.strength}setStrength(e){this.strength=e}},Nne=`#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)
#if __VERSION__ < 300
#define round(v) floor(v + 0.5)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);
#endif
}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);
#endif
}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){
#if !defined(DISABLE_DIAG_DETECTION)
weights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){
#endif
vec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);
#if !defined(DISABLE_DIAG_DETECTION)
}else{e.r=0.0;}
#endif
}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}`,Une="uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}",Vne=class extends _i{constructor(e=new Y,t=new Y){super({name:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new Te(null),searchTexture:new Te(null),areaTexture:new Te(null),resolution:new Te(t),texelSize:new Te(e)},blending:sn,depthWrite:!1,depthTest:!1,fragmentShader:Nne,vertexShader:Une}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get searchTexture(){return this.uniforms.searchTexture.value}set searchTexture(e){this.uniforms.searchTexture.value=e}get areaTexture(){return this.uniforms.areaTexture.value}set areaTexture(e){this.uniforms.areaTexture.value=e}setLookupTextures(e,t){this.searchTexture=e,this.areaTexture=t}get orthogonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_INT)}set orthogonalSearchSteps(e){let t=Math.min(Math.max(e,0),112);this.defines.MAX_SEARCH_STEPS_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setOrthogonalSearchSteps(e){this.orthogonalSearchSteps=e}get diagonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT)}set diagonalSearchSteps(e){let t=Math.min(Math.max(e,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setDiagonalSearchSteps(e){this.diagonalSearchSteps=e}get diagonalDetection(){return this.defines.DISABLE_DIAG_DETECTION===void 0}set diagonalDetection(e){e?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}isDiagonalDetectionEnabled(){return this.diagonalDetection}setDiagonalDetectionEnabled(e){this.diagonalDetection=e}get cornerRounding(){return Number(this.defines.CORNER_ROUNDING)}set cornerRounding(e){let t=Math.min(Math.max(e,0),100);this.defines.CORNER_ROUNDING=t.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(t/100).toFixed("4"),this.needsUpdate=!0}setCornerRounding(e){this.cornerRounding=e}get cornerDetection(){return this.defines.DISABLE_CORNER_DETECTION===void 0}set cornerDetection(e){e?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}isCornerRoundingEnabled(){return this.cornerDetection}setCornerRoundingEnabled(e){this.cornerDetection=e}setSize(e,t){let i=this.uniforms;i.texelSize.value.set(1/e,1/t),i.resolution.value.set(e,t)}},Hne=new sc,cl=null;function Gne(){if(cl===null){let e=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),t=new Float32Array([0,0,2,0,0,2]);cl=new dt,cl.setAttribute!==void 0?(cl.setAttribute("position",new _t(e,3)),cl.setAttribute("uv",new _t(t,2))):(cl.addAttribute("position",new _t(e,3)),cl.addAttribute("uv",new _t(t,2)))}return cl}var kr=class{constructor(e="Pass",t=new Lo,i=Hne){this.name=e,this.renderer=null,this.scene=t,this.camera=i,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){let t=this.getFullscreenMaterial();t!==null&&(t.needsUpdate=!0),this.rtt=!e}}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let t=this.screen;t!==null?t.material=e:(t=new cr(Gne(),e),t.frustumCulled=!1,this.scene===null&&(this.scene=new Lo),this.scene.add(t),this.screen=t)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,t=Ys){}render(e,t,i,n,r){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,i){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(t!==null&&typeof t.dispose=="function"){if(t instanceof Lo||t===this.renderer)continue;this[e].dispose()}}}},h_=class extends kr{constructor(e,t=!0){super("CopyPass"),this.fullscreenMaterial=new Tne,this.needsSwap=!1,this.renderTarget=e,e===void 0&&(this.renderTarget=new pi(1,1,{minFilter:Rt,magFilter:Rt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=t}get resize(){return this.autoResize}set resize(e){this.autoResize=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(e){this.autoResize=e}render(e,t,i,n,r){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}initialize(e,t,i){i!==void 0&&(this.renderTarget.texture.type=i,i!==Yn?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":e.outputEncoding===Dt&&(this.renderTarget.texture.encoding=Dt))}},Wne=class extends kr{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(e,t,i,n,r){let a=e.state.buffers.stencil;a.setLocked(!1),a.setTest(!1)}},p_=new pt,m_=class extends kr{constructor(e=!0,t=!0,i=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=e,this.depth=t,this.stencil=i,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(e,t,i){this.color=e,this.depth=t,this.stencil=i}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(e){this.overrideClearColor=e}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(e){this.overrideClearAlpha=e}render(e,t,i,n,r){let a=this.overrideClearColor,s=this.overrideClearAlpha,o=e.getClearAlpha(),l=a!==null,d=s>=0;l?(p_.copy(e.getClearColor(p_)),e.setClearColor(a,d?s:o)):d&&e.setClearAlpha(s),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),l?e.setClearColor(p_,o):d&&e.setClearAlpha(o)}},ul=-1,Fr=class extends Nn{constructor(e,t=ul,i=ul,n=1){super(),this.resizable=e,this.base=new Y(1,1),this.preferred=new Y(t,i),this.target=this.preferred,this.s=n}get width(){let{base:e,preferred:t,scale:i}=this,n;return t.width!==ul?n=t.width:t.height!==ul?n=Math.round(t.height*(e.width/Math.max(e.height,1))):n=Math.round(e.width*i),n}set width(e){this.preferredWidth=e}get height(){let{base:e,preferred:t,scale:i}=this,n;return t.height!==ul?n=t.height:t.width!==ul?n=Math.round(t.width/Math.max(e.width/Math.max(e.height,1),1)):n=Math.round(e.height*i),n}set height(e){this.preferredHeight=e}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(e){this.s!==e&&(this.s=e,this.preferred.setScalar(ul),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getScale(){return this.scale}setScale(e){this.scale=e}get baseWidth(){return this.base.width}set baseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseWidth(){return this.base.width}setBaseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get baseHeight(){return this.base.height}set baseHeight(e){this.base.height!==e&&(this.base.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(e){this.baseHeight=e}setBaseSize(e,t){(this.base.width!==e||this.base.height!==t)&&(this.base.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get preferredWidth(){return this.preferred.width}set preferredWidth(e){this.preferred.width!==e&&(this.preferred.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(e){this.preferredWidth=e}get preferredHeight(){return this.preferred.height}set preferredHeight(e){this.preferred.height!==e&&(this.preferred.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(e){this.preferredHeight=e}setPreferredSize(e,t){(this.preferred.width!==e||this.preferred.height!==t)&&(this.preferred.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}copy(e){this.base.set(e.getBaseWidth(),e.getBaseHeight()),this.preferred.set(e.getPreferredWidth(),e.getPreferredHeight()),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height)}static get AUTO_SIZE(){return ul}},g_=!1,s6=class{constructor(e=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(e),this.meshCount=0,this.replaceMaterial=t=>{if(t.isMesh){let i;if(t.material.flatShading)switch(t.material.side){case Cr:i=this.materialsFlatShadedDoubleSide;break;case Tn:i=this.materialsFlatShadedBackSide;break;default:i=this.materialsFlatShaded;break}else switch(t.material.side){case Cr:i=this.materialsDoubleSide;break;case Tn:i=this.materialsBackSide;break;default:i=this.materials;break}this.originalMaterials.set(t,t.material),t.isSkinnedMesh?t.material=i[2]:t.isInstancedMesh?t.material=i[1]:t.material=i[0],++this.meshCount}}}setMaterial(e){if(this.disposeMaterials(),this.material=e,e!==null){let t=this.materials=[e.clone(),e.clone(),e.clone()];for(let i of t)i.uniforms=Object.assign({},e.uniforms),i.side=Ta;t[2].skinning=!0,this.materialsBackSide=t.map(i=>{let n=i.clone();return n.uniforms=Object.assign({},e.uniforms),n.side=Tn,n}),this.materialsDoubleSide=t.map(i=>{let n=i.clone();return n.uniforms=Object.assign({},e.uniforms),n.side=Cr,n}),this.materialsFlatShaded=t.map(i=>{let n=i.clone();return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n}),this.materialsFlatShadedBackSide=t.map(i=>{let n=i.clone();return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n.side=Tn,n}),this.materialsFlatShadedDoubleSide=t.map(i=>{let n=i.clone();return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n.side=Cr,n})}}render(e,t,i){let n=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,g_){let r=this.originalMaterials;this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,i);for(let a of r)a[0].material=a[1];this.meshCount!==r.size&&r.clear()}else{let r=t.overrideMaterial;t.overrideMaterial=this.material,e.render(t,i),t.overrideMaterial=r}e.shadowMap.enabled=n}disposeMaterials(){if(this.material!==null){let e=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(let t of e)t.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return g_}static set workaroundEnabled(e){g_=e}},qne=class extends kr{constructor(e,t,i=null){super("RenderPass",e,t),this.needsSwap=!1,this.clearPass=new m_,this.overrideMaterialManager=i===null?null:new s6(i),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}get renderToScreen(){return super.renderToScreen}set renderToScreen(e){super.renderToScreen=e,this.clearPass.renderToScreen=e}get overrideMaterial(){let e=this.overrideMaterialManager;return e!==null?e.material:null}set overrideMaterial(e){let t=this.overrideMaterialManager;e!==null?t!==null?t.setMaterial(e):this.overrideMaterialManager=new s6(e):t!==null&&(t.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(e){this.overrideMaterial=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getSelection(){return this.selection}setSelection(e){this.selection=e}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(e){this.skipShadowMapUpdate=e}getClearPass(){return this.clearPass}render(e,t,i,n,r){let a=this.scene,s=this.camera,o=this.selection,l=s.layers.mask,d=a.background,u=e.shadowMap.autoUpdate,c=this.renderToScreen?null:t;o!==null&&s.layers.set(o.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(a.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(c),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(e,a,s):e.render(a,s),s.layers.mask=l,a.background=d,e.shadowMap.autoUpdate=u}},o6=class extends kr{constructor(e,t,{resolutionScale:i=1,width:n=Fr.AUTO_SIZE,height:r=Fr.AUTO_SIZE,renderTarget:a}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new qne(e,t,new jA({depthPacking:NS}));let s=this.renderPass;s.skipShadowMapUpdate=!0,s.ignoreBackground=!0;let o=s.getClearPass();o.overrideClearColor=new pt(16777215),o.overrideClearAlpha=1,this.renderTarget=a,this.renderTarget===void 0&&(this.renderTarget=new pi(1,1,{minFilter:Ci,magFilter:Ci,stencilBuffer:!1}),this.renderTarget.texture.name="DepthPass.Target");let l=this.resolution=new Fr(this,n,r,i);l.addEventListener("change",d=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,i,n,r){let a=this.renderToScreen?null:this.renderTarget;this.renderPass.render(e,a)}setSize(e,t){let i=this.resolution;i.setBaseSize(e,t),this.renderTarget.setSize(i.width,i.height)}},dpe=new Float32Array([255/256/Si(256,3),255/256/Si(256,2),255/256/256,255/256]),Yt={SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18},Zne="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}",Yne="vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}",Xne="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}",Kne="float blend(const in float x,const in float y){return(y==0.0)?y:max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",Qne="float blend(const in float x,const in float y){return(y==1.0)?y:min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",Jne="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}",$ne="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}",ere="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}",tre="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}",ire="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}",nre="float blend(const in float x,const in float y){return(y>0.0)?min(x/y,1.0):1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",rre="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}",are="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}",sre="float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",ore="float blend(const in float x,const in float y){return(y==1.0)?y:min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",lre="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}",dre="float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",cre="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}",ure=new Map([[Yt.SKIP,null],[Yt.ADD,Zne],[Yt.ALPHA,Yne],[Yt.AVERAGE,Xne],[Yt.COLOR_BURN,Kne],[Yt.COLOR_DODGE,Qne],[Yt.DARKEN,Jne],[Yt.DIFFERENCE,$ne],[Yt.EXCLUSION,ere],[Yt.LIGHTEN,tre],[Yt.MULTIPLY,ire],[Yt.DIVIDE,nre],[Yt.NEGATION,rre],[Yt.NORMAL,are],[Yt.OVERLAY,sre],[Yt.REFLECT,ore],[Yt.SCREEN,lre],[Yt.SOFT_LIGHT,dre],[Yt.SUBTRACT,cre]]),fre=class extends Nn{constructor(e,t=1){super(),this.f=e,this.opacity=new Te(t)}getOpacity(){return this.opacity.value}setOpacity(e){this.opacity.value=e}get blendFunction(){return this.f}set blendFunction(e){this.f=e,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(e){this.blendFunction=e}getShaderCode(){return ure.get(this.blendFunction)}},Ts={NONE:0,DEPTH:1,CONVOLUTION:2},Ds=class extends Nn{constructor(e,t,{attributes:i=Ts.NONE,blendFunction:n=Yt.SCREEN,defines:r=new Map,uniforms:a=new Map,extensions:s=null,vertexShader:o=null}={}){super(),this.name=e,this.renderer=null,this.attributes=i,this.fragmentShader=t,this.vertexShader=o,this.defines=r,this.uniforms=a,this.extensions=s,this.blendMode=new fre(n),this.blendMode.addEventListener("change",l=>this.setChanged())}getName(){return this.name}setRenderer(e){this.renderer=e}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(e){this.fragmentShader=e,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(e){this.vertexShader=e,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(e,t=Ys){}update(e,t,i){}setSize(e,t){}initialize(e,t,i){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(t!==null&&typeof t.dispose=="function"){if(t instanceof Lo||t===this.renderer)continue;this[e].dispose()}}}};function l6(e,t,i){for(let n of t){let r="$1"+e+n.charAt(0).toUpperCase()+n.slice(1),a=new RegExp("([^\\.])(\\b"+n+"\\b)","g");for(let s of i.entries())s[1]!==null&&i.set(s[0],s[1].replace(a,r))}}function hre(e,t,i,n,r,a,s){let o=new Map([["fragment",t.getFragmentShader()],["vertex",t.getVertexShader()]]),l=o.get("fragment")!==void 0&&/mainImage/.test(o.get("fragment")),d=o.get("fragment")!==void 0&&/mainUv/.test(o.get("fragment")),u=[],c=[],f=!1,h=!1;if(o.get("fragment")===void 0)console.error("Missing fragment shader",t);else if(d&&s&Ts.CONVOLUTION)console.error("Effects that transform UV coordinates are incompatible with convolution effects",t);else if(!l&&!d)console.error("The fragment shader contains neither a mainImage nor a mainUv function",t);else{let p=/(?:\w+\s+(\w+)\([\w\s,]*\)\s*{[^}]+})/g,m=f_.Section;if(d){let v=`	${e}MainUv(UV);
`;i.set(m.FRAGMENT_MAIN_UV,i.get(m.FRAGMENT_MAIN_UV)+v),f=!0}if(o.get("vertex")!==null&&/mainSupport/.test(o.get("vertex"))){let v=`	${e}MainSupport(`;v+=/mainSupport *\([\w\s]*?uv\s*?\)/.test(o.get("vertex"))?`vUv);
`:`);
`,i.set(m.VERTEX_MAIN_SUPPORT,i.get(m.VERTEX_MAIN_SUPPORT)+v),u=u.concat([...o.get("vertex").matchAll(/(?:varying\s+\w+\s+(\w*))/g)].map(y=>y[1])),c=c.concat(u).concat([...o.get("vertex").matchAll(p)].map(y=>y[1]))}c=c.concat([...o.get("fragment").matchAll(p)].map(v=>v[1])),c=c.concat([...t.defines.keys()].map(v=>v.replace(/\([\w\s,]*\)/g,""))),c=c.concat([...t.uniforms.keys()]),t.uniforms.forEach((v,y)=>a.set(e+y.charAt(0).toUpperCase()+y.slice(1),v)),t.defines.forEach((v,y)=>r.set(e+y.charAt(0).toUpperCase()+y.slice(1),v)),l6(e,c,r),l6(e,c,o);let g=t.blendMode;if(n.set(g.blendFunction,g),l){let v=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/,y=`${e}MainImage(color0, UV, `;s&Ts.DEPTH&&v.test(o.get("fragment"))&&(y+="depth, ",h=!0),y+=`color1);
	`;let b=e+"BlendOpacity";a.set(b,g.opacity),y+=`color0 = blend${g.blendFunction}(color0, color1, ${b});

	`,i.set(m.FRAGMENT_MAIN_IMAGE,i.get(m.FRAGMENT_MAIN_IMAGE)+y),y=`uniform float ${b};

`,i.set(m.FRAGMENT_HEAD,i.get(m.FRAGMENT_HEAD)+y)}i.set(m.FRAGMENT_HEAD,i.get(m.FRAGMENT_HEAD)+o.get("fragment")+`
`),o.get("vertex")!==null&&i.set(m.VERTEX_HEAD,i.get(m.VERTEX_HEAD)+o.get("vertex")+`
`)}return{varyings:u,transformedUv:f,readDepth:h}}var Fg=class extends kr{constructor(e,...t){super("EffectPass"),this.fullscreenMaterial=new f_(null,null,null,e),this.effects=t.sort((i,n)=>n.attributes-i.attributes),this.skipRendering=!1,this.uniformCount=0,this.varyingCount=0,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(e){this.fullscreenMaterial.encodeOutput=e}get dithering(){return this.fullscreenMaterial.dithering}set dithering(e){let t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}verifyResources(){let e=this.renderer.capabilities,t=Math.min(e.maxFragmentUniforms,e.maxVertexUniforms);this.uniformCount>t&&console.warn("The current rendering context doesn't support more than "+t+" uniforms, but "+this.uniformCount+" were defined"),t=e.maxVaryings,this.varyingCount>t&&console.warn("The current rendering context doesn't support more than "+t+" varyings, but "+this.varyingCount+" were defined")}updateMaterial(){let e=f_.Section,t=new Map([[e.FRAGMENT_HEAD,""],[e.FRAGMENT_MAIN_UV,""],[e.FRAGMENT_MAIN_IMAGE,""],[e.VERTEX_HEAD,""],[e.VERTEX_MAIN_SUPPORT,""]]),i=new Map,n=new Map,r=new Map,a=new Set,s=0,o=0,l=0,d=!1,u=!1;for(let f of this.effects)if(f.blendMode.blendFunction===Yt.SKIP)l|=f.getAttributes()&Ts.DEPTH;else if(l&f.getAttributes()&Ts.CONVOLUTION)console.error("Convolution effects cannot be merged",f);else{l|=f.getAttributes();let h="e"+s++,p=hre(h,f,t,i,n,r,l);if(o+=p.varyings.length,d=d||p.transformedUv,u=u||p.readDepth,f.extensions!==null)for(let m of f.extensions)a.add(m)}let c=/\bblend\b/g;for(let f of i.values()){let h=f.getShaderCode().replace(c,`blend${f.blendFunction}`);t.set(e.FRAGMENT_HEAD,t.get(e.FRAGMENT_HEAD)+h+`
`)}l&Ts.DEPTH?(u&&t.set(e.FRAGMENT_MAIN_IMAGE,`float depth = readDepth(UV);

	`+t.get(e.FRAGMENT_MAIN_IMAGE)),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,d?(t.set(e.FRAGMENT_MAIN_UV,`vec2 transformedUv = vUv;
`+t.get(e.FRAGMENT_MAIN_UV)),n.set("UV","transformedUv")):n.set("UV","vUv"),t.forEach((f,h,p)=>p.set(h,f.trim().replace(/^#/,`
#`))),this.uniformCount=r.size,this.varyingCount=o,this.skipRendering=s===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderParts(t).setExtensions(a).setUniforms(r).setDefines(n)}recompile(){this.updateMaterial(),this.verifyResources()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(e,t=Ys){this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t;for(let i of this.effects)i.setDepthTexture(e,t)}render(e,t,i,n,r){for(let a of this.effects)a.update(e,t,n);if(!this.skipRendering||this.renderToScreen){let a=this.fullscreenMaterial;a.inputBuffer=t.texture,a.time+=n,e.setRenderTarget(this.renderToScreen?null:i),e.render(this.scene,this.camera)}}setSize(e,t){this.fullscreenMaterial.setSize(e,t);for(let i of this.effects)i.setSize(e,t)}initialize(e,t,i){this.renderer=e;for(let n of this.effects)n.initialize(e,t,i),n.addEventListener("change",r=>this.handleEvent(r));this.updateMaterial(),this.verifyResources(),i!==void 0&&i!==Yn&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(let e of this.effects)e.dispose()}handleEvent(e){switch(e.type){case"change":this.recompile();break}}},pre=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],d6=class extends kr{constructor({resolutionScale:e=.5,width:t=Fr.AUTO_SIZE,height:i=Fr.AUTO_SIZE,kernelSize:n=y_.LARGE}={}){super("KawaseBlurPass"),this.renderTargetA=new pi(1,1,{minFilter:Rt,magFilter:Rt,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";let r=this.resolution=new Fr(this,t,i,e);r.addEventListener("change",a=>this.setSize(r.baseWidth,r.baseHeight)),this.blurMaterial=new r6,this.ditheredBlurMaterial=new r6,this.ditheredBlurMaterial.uniforms.scale=this.blurMaterial.uniforms.scale,this.ditheredBlurMaterial.dithering=!0,this.dithering=!1,this.kernelSize=n}getResolution(){return this.resolution}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get scale(){return this.blurMaterial.scale}set scale(e){this.blurMaterial.scale=e}getScale(){return this.blurMaterial.scale}setScale(e){this.blurMaterial.scale=e}getKernelSize(){return this.kernelSize}setKernelSize(e){this.kernelSize=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,i,n,r){let a=this.scene,s=this.camera,o=this.renderTargetA,l=this.renderTargetB,d=pre[this.kernelSize],u=this.blurMaterial,c=t,f,h;for(this.fullscreenMaterial=u,f=0,h=d.length-1;f<h;++f){let p=f&1?l:o;u.kernel=d[f],u.inputBuffer=c.texture,e.setRenderTarget(p),e.render(a,s),c=p}this.dithering&&(u=this.ditheredBlurMaterial,this.fullscreenMaterial=u),u.kernel=d[f],u.inputBuffer=c.texture,e.setRenderTarget(this.renderToScreen?null:i),e.render(a,s)}setSize(e,t){let i=this.resolution;i.setBaseSize(e,t);let n=i.width,r=i.height;this.renderTargetA.setSize(n,r),this.renderTargetB.setSize(n,r),this.blurMaterial.setSize(n,r),this.ditheredBlurMaterial.setSize(n,r)}initialize(e,t,i){i!==void 0&&(this.renderTargetA.texture.type=i,this.renderTargetB.texture.type=i,i!==Yn?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.ditheredBlurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):e.outputEncoding===Dt&&(this.renderTargetA.texture.encoding=Dt,this.renderTargetB.texture.encoding=Dt))}static get AUTO_SIZE(){return Fr.AUTO_SIZE}},mre=class extends kr{constructor({width:e=Fr.AUTO_SIZE,height:t=Fr.AUTO_SIZE,renderTarget:i,luminanceRange:n,colorOutput:r}={}){super("LuminancePass"),this.fullscreenMaterial=new Bne(r,n),this.needsSwap=!1,this.renderTarget=i,this.renderTarget===void 0&&(this.renderTarget=new pi(1,1,{minFilter:Rt,magFilter:Rt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target",this.renderTarget.texture.generateMipmaps=!1);let a=this.resolution=new Fr(this,e,t);a.addEventListener("change",s=>this.setSize(a.baseWidth,a.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(e,t,i,n,r){let a=this.fullscreenMaterial;a.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){let i=this.resolution;i.setBaseSize(e,t),this.renderTarget.setSize(i.width,i.height)}initialize(e,t,i){i!==void 0&&i!==Yn&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},gre=class extends kr{constructor(e,t){super("MaskPass",e,t),this.needsSwap=!1,this.clearPass=new m_(!1,!1,!0),this.inverse=!1}get inverted(){return this.inverse}set inverted(e){this.inverse=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(e){this.inverted=e}render(e,t,i,n,r){let a=e.getContext(),s=e.state.buffers,o=this.scene,l=this.camera,d=this.clearPass,u=this.inverted?0:1,c=1-u;s.color.setMask(!1),s.depth.setMask(!1),s.color.setLocked(!0),s.depth.setLocked(!0),s.stencil.setTest(!0),s.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),s.stencil.setFunc(a.ALWAYS,u,4294967295),s.stencil.setClear(c),s.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?d.render(e,null):(d.render(e,t),d.render(e,i))),this.renderToScreen?(e.setRenderTarget(null),e.render(o,l)):(e.setRenderTarget(t),e.render(o,l),e.setRenderTarget(i),e.render(o,l)),s.color.setLocked(!1),s.depth.setLocked(!1),s.stencil.setLocked(!1),s.stencil.setFunc(a.EQUAL,1,4294967295),s.stencil.setOp(a.KEEP,a.KEEP,a.KEEP),s.stencil.setLocked(!0)}},Ps=class extends kr{constructor(e,t="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=e,this.inputBufferUniform=null,this.setInput(t)}setInput(e){if(this.inputBufferUniform=null,this.fullscreenMaterial!==null){let t=this.fullscreenMaterial.uniforms;t!==void 0&&t[e]!==void 0&&(this.inputBufferUniform=t[e])}}render(e,t,i,n,r){this.inputBufferUniform!==null&&t!==null&&(this.inputBufferUniform.value=t.texture),e.setRenderTarget(this.renderToScreen?null:i),e.render(this.scene,this.camera)}initialize(e,t,i){i!==void 0&&i!==Yn&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},v_=1/1e3,vre=1e3,yre=class{constructor(){this.previousTime=0,this.currentTime=0,this.delta=0,this.fixedDelta=1e3/60,this.elapsed=0,this.timescale=1,this.fixedDeltaEnabled=!1,this.autoReset=!1}setFixedDeltaEnabled(e){return this.fixedDeltaEnabled=e,this}isAutoResetEnabled(e){return this.autoReset}setAutoResetEnabled(e){return typeof document<"u"&&document.hidden!==void 0&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this.autoReset=e),this}getDelta(){return this.delta*v_}getFixedDelta(){return this.fixedDelta*v_}setFixedDelta(e){return this.fixedDelta=e*vre,this}getElapsed(){return this.elapsed*v_}getTimescale(){return this.timescale}setTimescale(e){return this.timescale=e,this}update(e){return this.fixedDeltaEnabled?this.delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=e!==void 0?e:performance.now(),this.delta=this.currentTime-this.previousTime),this.delta*=this.timescale,this.elapsed+=this.delta,this}reset(){return this.delta=0,this.elapsed=0,this.currentTime=performance.now(),this}handleEvent(e){document.hidden||(this.currentTime=performance.now())}dispose(){this.setAutoResetEnabled(!1)}},y_={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},bre=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=clamp(texture2D(map,uv)*intensity,0.0,1.0);}`,_re=class extends Ds{constructor({blendFunction:e=Yt.SCREEN,luminanceThreshold:t=.9,luminanceSmoothing:i=.025,resolutionScale:n=.5,intensity:r=1,width:a=Fr.AUTO_SIZE,height:s=Fr.AUTO_SIZE,kernelSize:o=y_.LARGE}={}){super("BloomEffect",bre,{blendFunction:e,uniforms:new Map([["map",new Te(null)],["intensity",new Te(r)]])}),this.renderTarget=new pi(1,1,{minFilter:Rt,magFilter:Rt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.renderTarget.texture.generateMipmaps=!1,this.uniforms.get("map").value=this.renderTarget.texture,this.luminancePass=new mre({renderTarget:this.renderTarget,colorOutput:!0}),this.luminanceMaterial.threshold=t,this.luminanceMaterial.smoothingFactor=i,this.blurPass=new d6({resolutionScale:n,width:a,height:s,kernelSize:o});let l=this.blurPass.getResolution();l.addEventListener("change",d=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get dithering(){return this.blurPass.dithering}set dithering(e){this.blurPass.dithering=e}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(e){this.blurPass.kernelSize=e}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(e){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(e){this.uniforms.get("intensity").value=e}getIntensity(){return this.intensity}setIntensity(e){this.intensity=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}update(e,t,i){let n=this.renderTarget;this.luminancePass.enabled?(this.luminancePass.render(e,t,n),this.blurPass.render(e,n,n)):this.blurPass.render(e,t,n)}setSize(e,t){let i=this.resolution;i.setBaseSize(e,t),this.renderTarget.setSize(i.width,i.height),this.luminancePass.resolution.copy(i)}initialize(e,t,i){this.blurPass.initialize(e,t,i),i!==void 0&&(this.renderTarget.texture.type=i,e.outputEncoding===Dt&&(this.renderTarget.texture.encoding=Dt))}},wre="uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(min(color+vec3(0.5),1.0),inputColor.a);}",xre=class extends Ds{constructor({blendFunction:e=Yt.NORMAL,brightness:t=0,contrast:i=0}={}){super("BrightnessContrastEffect",wre,{blendFunction:e,uniforms:new Map([["brightness",new Te(t)],["contrast",new Te(i)]])})}get brightness(){return this.uniforms.get("brightness").value}set brightness(e){this.uniforms.get("brightness").value=e}getBrightness(e){return this.brightness}setBrightness(e){this.brightness=e}get contrast(){return this.uniforms.get("contrast").value}set contrast(e){this.uniforms.get("contrast").value=e}getContrast(e){return this.contrast}setContrast(e){this.contrast=e}},kre="void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(vec3(average(inputColor.rgb)),inputColor.a);}",Sre=class extends Ds{constructor(e=Yt.NORMAL){super("ColorAverageEffect",kre,{blendFunction:e})}},Are="varying vec2 vUvR;varying vec2 vUvB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 ra=texture2D(inputBuffer,vUvR).ra;vec2 ba=texture2D(inputBuffer,vUvB).ba;outputColor=vec4(ra.x,inputColor.g,ba.x,max(max(ra.y,ba.y),inputColor.a));}",Mre="uniform vec2 offset;varying vec2 vUvR;varying vec2 vUvB;void mainSupport(const in vec2 uv){vec2 shift=offset*vec2(1.0,aspect);vUvR=uv+shift;vUvB=uv-shift;}",Cre=class extends Ds{constructor({blendFunction:e=Yt.NORMAL,offset:t=new Y(.001,5e-4)}={}){super("ChromaticAberrationEffect",Are,{vertexShader:Mre,blendFunction:e,attributes:Ts.CONVOLUTION,uniforms:new Map([["offset",new Te(t)]])})}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}},Ere=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;
#else
uniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;
#endif
uniform lowp sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float CoCNear=texture2D(nearCoCBuffer,uv).r;CoCNear=min(CoCNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,CoCNear);outputColor=result;}`,Tre=class extends Ds{constructor(e,{blendFunction:t=Yt.NORMAL,worldFocusDistance:i,worldFocusRange:n,focusDistance:r=0,focalLength:a=.1,focusRange:s=a,bokehScale:o=1,width:l=Fr.AUTO_SIZE,height:d=Fr.AUTO_SIZE}={}){super("DepthOfFieldEffect",Ere,{blendFunction:t,attributes:Ts.DEPTH,uniforms:new Map([["nearColorBuffer",new Te(null)],["farColorBuffer",new Te(null)],["nearCoCBuffer",new Te(null)],["scale",new Te(1)]])}),this.camera=e,this.renderTarget=new pi(1,1,{minFilter:Rt,magFilter:Rt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTarget.texture.generateMipmaps=!1,this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.name="DoF.CoC",this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new Ps(new Ane(e));let u=this.cocMaterial;u.focusDistance=r,u.focusRange=s,i!==void 0&&(u.worldFocusDistance=i),n!==void 0&&(u.worldFocusRange=n),this.blurPass=new d6({kernelSize:y_.MEDIUM,width:l,height:d});let c=this.blurPass.getResolution();c.addEventListener("change",h=>this.setSize(c.getBaseWidth(),c.getBaseHeight())),this.maskPass=new Ps(new Fne(this.renderTargetCoC.texture));let f=this.maskPass.fullscreenMaterial;f.maskFunction=a6.MULTIPLY,f.colorChannel=i6.GREEN,this.bokehNearBasePass=new Ps(new Bg(!1,!0)),this.bokehNearBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehNearFillPass=new Ps(new Bg(!0,!0)),this.bokehNearFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehFarBasePass=new Ps(new Bg(!1,!1)),this.bokehFarBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.bokehFarFillPass=new Ps(new Bg(!0,!1)),this.bokehFarFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.target=null,this.bokehScale=o}get cocTexture(){return this.renderTargetCoC.texture}get cocMaterial(){return this.cocPass.fullscreenMaterial}get circleOfConfusionMaterial(){return this.cocMaterial}getCircleOfConfusionMaterial(){return this.circleOfConfusionMaterial}getBlurPass(){return this.blurPass}get resolution(){return this.blurPass.getResolution()}getResolution(){return this.blurPass.getResolution()}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(e){let t=[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];for(let i of t)i.fullscreenMaterial.setScale(e);this.maskPass.fullscreenMaterial.setStrength(e),this.uniforms.get("scale").value=e}getBokehScale(){return this.bokehScale}setBokehScale(e){this.bokehScale=e}getTarget(){return this.target}setTarget(e){this.target=e}calculateFocusDistance(e){let t=this.camera,i=t.position.distanceTo(e);return u_(-i,t.near,t.far)}setDepthTexture(e,t=Ys){this.circleOfConfusionMaterial.depthBuffer=e,this.circleOfConfusionMaterial.depthPacking=t}update(e,t,i){let n=this.renderTarget,r=this.renderTargetCoC,a=this.renderTargetCoCBlurred,s=this.renderTargetMasked;if(this.target!==null){let o=this.calculateFocusDistance(this.target);this.circleOfConfusionMaterial.focusDistance=o}this.cocPass.render(e,null,r),this.blurPass.render(e,r,a),this.maskPass.render(e,t,s),this.bokehFarBasePass.render(e,s,n),this.bokehFarFillPass.render(e,n,this.renderTargetFar),this.bokehNearBasePass.render(e,t,n),this.bokehNearFillPass.render(e,n,this.renderTargetNear)}setSize(e,t){let i=this.resolution;i.setBaseSize(e,t);let n=i.width,r=i.height,a=[this.cocPass,this.blurPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];a.push(this.renderTargetCoC,this.renderTargetMasked),a.forEach(s=>s.setSize(e,t)),a=[this.renderTarget,this.renderTargetNear,this.renderTargetFar,this.renderTargetCoCBlurred],a.forEach(s=>s.setSize(n,r)),[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(s=>s.fullscreenMaterial.setSize(n,r))}initialize(e,t,i){[this.cocPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(n=>n.initialize(e,t,i)),this.blurPass.initialize(e,t,Yn),i!==void 0&&(this.renderTarget.texture.type=i,this.renderTargetNear.texture.type=i,this.renderTargetFar.texture.type=i,this.renderTargetMasked.texture.type=i,e.outputEncoding===Dt&&(this.renderTarget.texture.encoding=Dt,this.renderTargetNear.texture.encoding=Dt,this.renderTargetFar.texture.encoding=Dt,this.renderTargetMasked.texture.encoding=Dt))}},cpe=new E,upe=new Ee,Dre="uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",Pre=class extends Ds{constructor({blendFunction:e=Yt.NORMAL,hue:t=0,saturation:i=0}={}){super("HueSaturationEffect",Dre,{blendFunction:e,uniforms:new Map([["hue",new Te(new E)],["saturation",new Te(i)]])}),this.hue=t}get saturation(){return this.uniforms.get("saturation").value}set saturation(e){this.uniforms.get("saturation").value=e}getSaturation(){return this.saturation}setSaturation(e){this.saturation=e}get hue(){let e=this.uniforms.get("hue").value;return Math.acos((e.x*3-1)/2)}set hue(e){let t=Math.sin(e),i=Math.cos(e);this.uniforms.get("hue").value.set((2*i+1)/3,(-Math.sqrt(3)*t-i+1)/3,(Math.sqrt(3)*t-i+1)/3)}getHue(){return this.hue}setHue(e){this.hue=e}},fpe=new pt,Ire=`void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));
#ifdef PREMULTIPLY
outputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);
#else
outputColor=vec4(noise,inputColor.a);
#endif
}`,Ore=class extends Ds{constructor({blendFunction:e=Yt.SCREEN,premultiply:t=!1}={}){super("NoiseEffect",Ire,{blendFunction:e}),this.premultiply=t}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(e){this.premultiply!==e&&(e?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(e){this.premultiply=e}},jre="uniform bool active;uniform vec2 d;void mainUv(inout vec2 uv){if(active){uv=vec2(d.x*(floor(uv.x/d.x)+0.5),d.y*(floor(uv.y/d.y)+0.5));}}",Rre=class extends Ds{constructor(e=30){super("PixelationEffect",jre,{uniforms:new Map([["active",new Te(!1)],["d",new Te(new Y)]])}),this.resolution=new Y,this.d=0,this.granularity=e}get granularity(){return this.d}set granularity(e){let t=Math.floor(e);t%2>0&&(t+=1),this.d=t,this.uniforms.get("active").value=t>0,this.setSize(this.resolution.width,this.resolution.height)}getGranularity(){return this.granularity}setGranularity(e){this.granularity=e}setSize(e,t){this.resolution.set(e,t),this.uniforms.get("d").value.setScalar(this.d).divide(this.resolution)}},hpe=Math.PI*.5,ppe=new E,mpe=new E,c6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC",u6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAYAAAABNmBHAAAgAElEQVR4Xuy9CbhlV1ktOvbpq09DkiIkUBI6kxASIH0DlAQiIK1wRfSJTx+i4JX7vKIigs8HXpXvqVcvrcC9agQ7IDTSSWgqCQQliDRBJKkkhDSkqVPNqVOnP+8b//rH3P+eZ+199tlznVTlvVrft7+1T7OaueZY42/m37QALKNk2wHg1pITlB17mC+Pp11W3X/LHyT32vhg48/5SOv+PnwpsHA70JoGlueB1iKApeqzvOzn44GatTB76Xzhd7suBR7+WWADgDEAwwCG/L54b/poDLrHuvvm70Z2Avhsc+PVcxscBU8F8C8ADg5+ipIjD/PlGwfgju8B924E5seARUfLsiNmqQW0IjL8+7L2NYD/7COBzfcCm+aB8SVgdAkYIRCXKyDax4EdAanL5PuNPllNvXDlAHwFgP8AcC2AhRIoDXbsYb48dl5WkVFTE3LGDcC9m4CZCWBuFFgeAZaGAYJQQCRqDHT+McJrVb8zwATUXH02MHYfMHEIGFsAxgjApQqACYQORjtd/B7Axt/z79sC0+cMPgjjlwPwVwHcA+DfAHzTxcVgWBroqMN8+cYBeM71wH0TwKExYHYUWCIAHYRLTlkCYgcIBcAgU/n3qy8GRu4HRgnAOWBkERhddPAJhGJDBxkvw7cqimr+zFM/ZLnZF64cgL8BYD+AWwB8x/dlWuWagHiYL984AJ/0RWBy1AE4AizyM1yxYAcTigW55xMbAkxEiwEdkJ/ZCQxPAiOHgBECcKEC4TBZcKkSv+mTieNcNPNC26mLNsj45QD8LQDTAO4GcJt/7iw2bfoG4WG+vAGwm9ExiEg69zpg/wgwPQLMjgALzn4E4aIzoJjQ9g4024uygkj+pyuAoX0VAIfngOH5NgCHMhAm8Sv2y3XDZeBhNIp8OzJE8OsBzAKYBHAXgDt8/4O+MVT0j4f58o0D8Pxrgf3DwMwIMEPQEYRkNwfgsuuDZLskip0No0gWMD/9HGDoADAkAC4Aw/wsAgZAgs2Z0ABI0GU6IVmKv+f28KDnHxkA/G0A8y6G73N9kOCjXnh/Ebb6OvgwX75xAF5wLTA1VIHPADgMLDj4yIA5AAm6aCUnv4oz46eeDwxNAUMzwJAz4BABSNDFTwSfg7DDKHE23MG5PqIY8A1u/dINs9dBdy8AgnGPM2NfUBrsnw7z5RsH4IXXAAcJviFgluAbygBINnSLWOAjGxJ4pgOKDV0v/OSLKp8iGXBovhLBBOCQM2ACoTOhnYrAdItYbCij5JFzRyIAqRccAnDAQUjg6UNQ7hsMXP0cRQAexss3DsCLCECCLwCQzMcPwUi2MwAScAKbfnY/YRLFQ8DHX+IAJAMSfDkAF13kLvleIjhjQQHxUVS3jjgGpKeeNzYVQEjgUS8k+PghONdhIwAP4+XXBYCHKIJbwJyDTgaIAdCBJx3Q2M8tYAHP9m4df/ylQOsQ0JqtRLCx30K1wtLBggScQOgsKBGcWHAJeOwRC0BSM1mQIKRbhh+Bj98JQP6t4U0APEyXXxcAEnxkQAFwoVUxID9kvQg+c1C7vidRbIDkc24B//hTQGumDcCWA5DgMxASdNIFBUI5pCML8v8API5zfEQx4BudgqiczviSnJhQwCP4BMCGl+wO8+U7AJi/W4O4YS6+pmK/2ciADsAOBhTIIiAJnPB7AvNjP+0AnANaYkAHX2JBAc+tYaJXOqBZv24Vc386XW5dtkHGW+4HFAJonpOe+YYQZAShgKjv3PNvPQaxVoI8zJdfFwASfPzMUwS3Kt1v0UFIlos6oDFdAGFcliMAP/ryAEAGNwQRnDOgLbdlIEwrIs6AZ/QgkMMHQF6ZAKQcJAsSYPwIeAIk9wJgoPK1gi7+PwF4GC/fOAAvIQPSs0URTPBJ/Pp3GSEGRHfBCIQ0xowBtUbcAj7ys5X4Jfu1HIAGQrIgQRXEsAFQIORDFhiDY/rMHmrU4QUgR08AkgUjCAW6CD6CkwBsAIQC4GG6fPMA3OXiNzCg2I9gNCMksmAAoemDzoimFwL48M85AKkiuQVMAAp8CYRRDAt8GQiJ67N6GJODAXAHlsGguscA2AJg1IPGYmxOpBxFWkRN9LsATgIwXnNs/v/5z/9XCf8BO3YAtxbc/46/KDt+5+ea1Yku2VUxHz/z0v24FwMGK1gWsK2OUUxHHdCBeRUB6OxHABr4ZICIBd0QWSF+XRdMTAjgCdTrG9cBNwE4F8CpDkICyYLGsuhFt6zs+gISwUen8zEAjgMw4cfx2H6O/90yAFo84Cbg4ID3/9TfLTt+5+ebnRABkODjx0SwPi5ec/FrYpmqSAxM8Dn60CsqAFI6GfhqAMiDE/gokmvEr0C4PgDkBQm40wE8zMFEUDKEVoxIMLl/KS73mE7H9d+vcKHQQcjwW0Yu9nP8m8sAmOIBuWY6wP2/4s0ezjjg8TuvaR6ABJ70vxUApGrm7EbGE+i472BAB+WHfqHS/eoAaEwY2E9+wLSXTqhI7CXgnB6LCoOJ4BiST+hTnG0HcCwAglCx3ARoZEVFXnBPp/O/A/hXACc7CPs9/i1lAOyIB+RDX+P9/+pbQjjjAMfv/PL6AFDs1wFAgs/9fgKfgdE/ZEpuiQlbwAde6QAMBgiRmsSwA9BY0JfjovGRDBMH4TlcXGhcBOc6HkF0gjPhZgchxTLZMAci/04W/B6Ab3t09EPXcPyflgFwRTwgJ2MN9/8bf5qFM67x+B/aW4XQz42FeL0YrRyikztUFw0704mf9kXgxhOAqc3AAsPyRxxQCs/PdXOFY0W1KHy3QIUGtx+6vdnx1vsB+dsTncm2AogglFgVEAlUWrOMB2RyEmMCGQ/Y7/HvKns6tfGAnJQ+r/9b76oJZ1zD8WdyQjYBh8aBhVEHjELouQ8ukQ7VRSCJAALwkr+sALhnGzDD3JAJYJHg9uhoi4bx8ytkWUtvHT/7+Zc4dw1uZ3612fH2dkQf7yxIEEockwkJQn4IQoq8unhAhmPRKKFx0uv4K8ueTs94wD7u//VX9ghn7OP4c+4G7h8HpseB+dF2AKlFLwuAIZ8jD6NPrOhAffmfA9/ZBuzZCkyRWSeqBCWyoYGQ5yQrBpDbum/ME1HoPo0XEkSD2zlfbna8q6+EUJcTCxKEtHL5EQjP6BEPyIgYAZBvYt3xHyx7OqvGA65y/7/9wVXCGVc5/sl7qxD66dEqiYgRzAqhN1A4CBNAAlDyAFI+iZ9/N3DLJuC+jcDUBmCWyUnOrmTYCMIOkNclLg0B8/RsNLg9+UvNjnd1APLmmQpFHyEBROuWACQT8nN+H/GAvY7/VNnT6SsesMf13/CpahGnZzhjj+PPmwX2MYdDIfQexWyBAwEUOQDrRDN/98p3A7dvAO6fAA5sqHJDBEAyoUVGkwEd6HR12XU4kwzfl6fCXTZzjy57vvnR513X7Hj7AyDvggAUi9EyFgiZqNxPQF6345nOWbD1HQ/Y5fpvuLa/2+82/vNHgAPDFQDnhoF5j2C2qBWCI8bw1eRw5CL5l94L3DEOTI4DB8Y9OWmsEu/zBJ3rgsaybqBob/7A4C7jtWcooRrczr+u2fH2D0AOQgAUCxKEP7aGgLy64+m6KdjWFA9Yc/03/Osa4glrjr+AupqHz1sEs0cxG0BC9HIePLoit9eNkVf9L+DuUWByDJgaq4ybGYLPAWgiXmLedUE7dwC7saL7CqfPKXi4NYdaykCD410bAHlDEsNiwZ9wAPYbkJcfz6T2gm3N8YDZ9d/wHxUA+739fPwXPrSKYGb+BuP3jAFDElFH9HIWwbzCIGkBr/or4J4RYO8oMOW6ZVcAuvi1Cgoha04BCwT5gfMKHm7NoRde2+x41w5A3hQZkADk5+cGiAeMx3+/7AENFA8Yrv/G71cAXFM4Yzj+otOAaQLQA0gZxaIIZtMDFTigKJV8H9Iq6aZ59ZXAvSPAvpEKgBTtBODcSCWCZeRYtpzrmLyeGNCAyFl1v+Hei8qeb370Rdc2O97BAMi7EgB/2QG41nhAHU9LuWAbOB7Qr//GPRUA13r7Gv9FZwIMoVcEswEwfDoimEP0shKKtIphaZQAXv1+YM+wA3DEdcvRKkGJADQQEsQuhi1Tjt95vBsh5nx2IO59SsHDrTmUOStNjndwAAqEry0IyCMICkOyiuIBNwBvPFQQT7gBuPjc9oRYAIHyOEL4vIFEYVNaOou5vCGE/tV/A0wOVcnpzI47NOri3QFIBpSeaSDUdYLOSWvYImSGgftpJDa4MWJbAGxivGUA5MAOc0Be6eVLj7/4Mk+hzCOYPYpZDBiNkLh+G/M3yFyv/ltgL3W3YQfgcFUhgRY2PwY+Z7/EhAR1SFyXCOb57r28QfQBsJQBMn5D4y0HYLPje9Cd7RIC0PM3EiMofF4gVCBp1P840ix/gyz56r+vAMjk9Gl375iB4+CzveuZdLkkEPJ8ZEfX/6R73vOjzT5Si9hucLxHAVg4PwJgRwh9CKOXK8YA4ZEqKZXSQWh5P+5AftXfA/uGKvYjCKn72cctbFrZNECka5L5CPwIPtMH3TVz17MLB5gdLgA2Nd6jACycHwLQxFEUSR5ASvARDB0h9AQb9bXIgCGk6lUfAPYTgEPAITKgg1BObk58srTJgG58WMkWMaAbQQT1nc8rHGANAJsc71EAFs4PAagQestgC1lsBJ4BMCSOK6dDUcwqqaFiQr/0QeAAAdjy+jBiQQeeMSBZT3nCPUDIa9z+/MIB1gCwyfEeBWDh/BCAeQSzgkjFfGLBBD5nxQ4DxN0wv3hVxX5TBGDwL5obxvVA5YqYL5BeMLd66YYxJpRB0gK+96LCAdYAsMnxHgVg4fwIgMrhUPKQ2C+Bz0PmBTqBMQehAbDlIjj4F80KJguSVZ0FuXpjoCOgXawLjALhbT9eOMAuAGxqvEcBWDg/l1IE05Ed0ygZnyHdz0VwCqEPIfNyx0QQvvLDFQCp+8nfZk5und8tXwIgWcHSNX0N2CJmnAl3v6RwgNnhl17T7HiPArBwfghAS7mV/hey2JS9FvM3BLpUUi1YwDRMXvkRYJoAlAh2l0dcZ04s6JUTDIjyBcrl4yDc/dLCAdYAsMnxHgVg4fxwKVwJgGEJNmWtxpQMpX9on2eRhVA+O56AjMfnP+e3Xvf3NwG4xIPTleiY55bpGh6UbafNU0l0z0p+5Jh5HqYJ6b51nP6XP8cx12XNHQVgIQB/bFPVg2OC7Q+WgVFWng/FvtWLI06uWh5oguKEcXVS/9sEAF//VGD7t4ETDgJbF4CNi8CGZWBs2fPL/H6Vwp2KEtVk4fJ+v/EIYPN9wKa5qu+IncfPwXHVZe/aOL3EbwS7xv8A1rQvnO0j8PArTgTGZ4BxFv9mIxhOCGsv+0OPYDRghcLfkWkEuq0+G00x4OtfDGz+d2DbHmDLjL8si8AYP/7CGIAiEEMTG92zXqSbH+d9R2aA0XnvO+JjthiIrOVDHHPOkBrzUQAWAPsZp3oPDpa/Xag6EVkLBK+5rAnJC3/nYk/APD704WiEAV8OTHwX2LQH2DgFbJgFNrBhjd8r79deGoEwsllgNBOzy8CdjweG9wBj08AIAci2D6HafmyAk4/Z7SJ72hGYRwFYAMDLTwOGp4FRFgD3HhzqRGQiyeurqOdG6r0Rm8IEZjzRlkiqCWoEgK8Axm4BJu4HJhyAbFhDxmbDGnZO4j0SgLGDkpibgEq66TJw/1nA0F5gdLpq+zDqFfd5LMeWqu5HNST0uJOIllg+qgMWgI+HPv0xwLA3gWHpW2sC441gCECbmKziaGrnUdMO4aHeh6MxAP4SMHI7ML4HGD8AjHvHJGNAgpDgY/ck3stipRemvVhc+uASMPUEYGh/9dIRgGx8Y+MNbR/00uVtH0wEx94j/v0oAxaA8Ed+GBieAYZZg5kADC0QWGOFzGJlcGPzl1BxNLXD8sk4xftwNAbA/wwM3wGMUmxOOQBnHXzetIYvibonmSiuYTNjriVg7glAiwBk0fNZH6+PmX9P6kfNmCXGpftJ7TgKwBIAnln14BAAYxMYm5C6RjCyCoOyr0qkD/c+HI0B8DXA8N3AyCQwesD1VQKH7EcASm1Q+y4CkN9pUKiVF5nLvy+fBbTUd8QBaH1HvNBROiZvfsNnrF4kcvPwpdsBLBeU18Nf7AB23Dp4ecHC8oBgUlJJecLS+7+WOpE3gbE+HKw+yoevCYkMGKqPJrdEKARutaFYRs1fiEZ0wP8CDN8LDO8FRqYq3W10pgKgfYLaYCzootgA6KXaTA90y374TKB1sBozy77xHFZ536utRgAmEaw6g5kUSFZwSXnA330qsOlfgHMPDlZesLA8IOjoLypPWHj/11EnCiVwkz7kAExtsGraYUWdSDX5TmsagL8KDBGA7Bd30JsW0oWivnEOQNP7yGTSBR101AlZSUtGyfgZDkCWY1HnJdcBVe6325hTvelg2CQjZNDygG/2An0j1wKnL6y9vGBheUC8prQ8YeH9X39OVQSc7Mc6fCaKvAeHdCIVf4yMYCynTpX+nb97NJmlSQb8r8DQHm9YOFUZTKOzoXGhs6AxF0HIexcLBvWBuiHN8s2ne98R3qc6L4Vyb2oBVjfm9MIFHbjDCh6kPOBbQoG+oW8CO5bWVl6wsDwgfr20PGHh/X/1iaEIuDcCTIW/1Q4rFv8OnYiW3c+W2iKwUjKbyjQNwL1uuR6sAEgDgq1brXOmV81PxhNB6DUDBSYzQJwFtz623XcktX1Q1VWKaTF/zZhVazBVYA1tX5MazsGvobwe/jQr0Ne6BTh5uf/ygoXlAfG60vKEhff/rSe1i4DnTWDUACY1guFTDqLYdCBvf6DJYSMYATBfOx1kLfj1v1axH10nQ3Sd0GUkBnTfpemtBJgseIKQAHLQcVxa2TnuMW0Aqui5es8xBIegVdVVE8VhzHnLh65WMB9An+X18K6aAn2tO4ETl6vqbKuVFywsDwhevqg8YeH93/Rk70JE90nowxZbIJjvS3WYNSGUwGHJTpPxwwcbBuBrgRYBeKACn7VtpdUu/c0NJxO9BIxcKu4TTODzbkonPLoaL0vyUQRb2y8HsL1ckfWzMeuFi40Qezqi+yiPhyt7FOjr6/gCFwgP7Xb5vssTFt7/nQRg6MGRWmDRoeyTlpgw68GRTwgZgo1gGmXAX6/8dtaylSKY/koyID9BhzML3q1gAos2AcOrZYSoq/pJp1VtODRm9Z3LS/7WjVkvXOzEtOpKyGrlAT+4SoG+VY8vBGCvy/dVnrDw/vee65NBJiAjBIVcAJQjOm+DkCZEeiGAMw6sAwDZsJrAdhFM9rPGhd4904Co5oVuCZPV6kD40Ec6+9W8dBTBsfdc3nkpvnB82fp2RPcs79dHgb51LA9ofsDV6vut5/3PnxcAmLVBiDqgevDaJLkYrpuQxzcNwN8AWgIgRbB8loEBzXDwl4cGiDGft58SCOWGedgjvOJ+bPvgRkiuA+ZjzhnQQOiFNVbloa7l/fos0LdO5QENgEXlCfs8Qbf7HyMA3QVjYihYhLENgjX9y/qwxQmRU/asfd0ZcLU2CHVGyusJQLKfVi98CS12T5f7iECkHpsMkAhCF8+nshWH2I/jXsOYO144GV/9ApAIrS3vt4YCfetQHtAA2G+/4PW4/2PPbzMgmUMi2NoeSCRxIt2/FvuxWURIWCXg357gfTjEDNIHnTRXRCpH5ugKwGl3HpMBXQc0v6WLYVm/5limj04rG762K2uYY9jBkr9+rI03NL5ZbczS/dJ+LQyoga4o77fGAn0NlwdMAOy3vl/T938KAcj121z8Bn+Y9eWQJRz8Y6kNagDh2ey5EvxjxQD8TWdAuneCCO4An1vw5vdzQMmdktwq7pLZQR+dM34+ZumAxvY1Y04uqOAJ6FsExzeto7zfAAX6GiwPaLWR1lrfr8n7f/Rl3QGzmsis+/uO71V9OFgP2gpPhgr7TGRqRUT6dyvr4aIs/pm/2zVUNbBSv6G8e5pEv0Cvec7Po7+bTtjlBRlkvAMBkDeQyvsNWKCvofKACYBrre/X1P0/oWEAnnFD1YdjhtXxR73mX10FfCHHE9pVWcGAI/S0gKsfA2y+twrFZw6Hxf/F0Pk8Ri/kpGSnMuDx5T0iACgQHioo0NdAecBUHW6QdsV2/cL7v/Cyqr5gnc42CCOcfX1VIZ/V8We9IDmTzVXwPDJiXuKXPxtDBma8+lzP4WAgKkPxCUAPE4v5GzEuMX0PYJPLhB6FJsc7MAMmkVxaYC/K9gG+F1++8AQ7Gwbgk78I7GFpXgIwFiRXOwaJZPUbiR0yCUDRk+cHf+YpwMj9HgfI8ClGPyvsSiH0WSKRuYlitLb/zHM/JOSs5C/YIC9cMQDZr/dwxgOW9gtGYUBi0wA8l304vDQvAchilFbpIBQhZ7Ejq6ZQ0/Yhil8y4j89Axie9DAsD6FX9HOK3QtROTFkviN83kG4felIY8DCeLrSeMDSfsEovAECUFsTjHD+tcB+tkFgcXKvBRir7qtFl9owmO4Xy/1G3bAFfPrZHorFNWBFwHjQAFctIghj2kBarw06If/+MM9ZqTN6DgsDojCerjQesLRfMApvoGkAWh8Ob/tgAPSKWCp8ngNQtadjmTdltvNvn3peFYhgQQgh+iUmEaUAUoXM1yRLmWuFLaE9Z+XIAWBhPF1pPGBpv2AU3kDTALzwmqo6qtVh9kJErAudABia38TC5wJgS2xIhAwBn3yhByL4EhzXfRXxYsDTJ4IvrNN2JFMxZcBzVo4cABbG05XGA5b2C0bhDTQNQLZBYH1AVsQSAAU+imI1obHyblnjG/kJk3U8BHz8xVUQAhnQIl5CyNgKAGp5LKSSCoAySh5Jj79vTagcxUaIBeRNe79g9gq+DXig4wGzy+PONfT7RWFA4noAkGXZVAhcBckJQgNgrLiaNb3paIDo1vHHX+oA9LQBi4DxJcOUPJUnTgU2NJUyROs8irGARxQAC+PpCtsFd40H/AEf0gMQkLgeACT41PiGoLOKqyrJq3K/Ya9mNyr5FusN/uPLPIeDa8Bc+w3rtyl4VFHaMZc3i9RWBM9jjzgAFsbTFbYLRmm/YBTeQNMAtD4cBKDXBTQGdAB2MGBo8SCLmEuS1AFVAJ3A/NhPt0PoCcA8bSDG76XI7aySg6JYuGfKwJHFgH0E5B3ueMCe/Y4L+xVHAOZ+9EHcEgQgwbeiEYx6jwTdz4qfu7EhEJqxGqruf/RnHIAEnxgwBM0aC8aUAYWNBRCmoIll4HTqO122QcZbrgMWxtMVtgvuOx6wa7/jwhtoGoDWh4MBJ16WN4lfr8AqI0TVV1O1fa9BbQzovkAy4Ed+NgCQUSxZCFWvCOaOFREXyUwZOPIA2GdA3uGOB6wPaOz+QPv5S+MA3OXiN9aclghW+d3IgupBF2pPqxcxGenDPxfSRh2ASiKKiVP2PaZScvAKoA0VDc6cOlIB2GdA3uGOB1zR77iwX/F6AFB9ONSOQW0frA50sILVcckWJyIDSgwPAVcJgFbYuZ3FJvAlEHbJ3IsgJLGedeBIA+AAAXmHOx6wo99xYb/i9QKg2iAIfDJEJHqj4SExbEty0gkdhB/6P9oZbBZIGiKYVb9GKaN50lRHBLOvhDxh/5EKwDUG5B3ueMB2QGM/grb7/6wHAPNGMAY+GSGUjC52VX2f2CD4+HO0gqkZfegXKgBaHkcWtS0AWii9xG1ImrLlN5XR8L8fmQD05BVrmEENmpYSP9QX+KHiqj2/82+HqqDWwnbBRfGATdzAegGwru2DpRq7Mzq2fpAf0Nq0Rl2wBXzglZ4yUAPAmDSVWDBPHQjLcgTqOZ6zUvdKHh4ruDCerox/Dnu7YqwXAC1NI/QcEQuK6WK/kdgCTGC0PYAP/KIDMBgglq+hIkrOfsaCviLSofcJgJ5AdM7kkSaCj/HqQKVIGvD4swF8bcBjmzjsaQ2H5D/6acBd9wALB4DFWWB5AVherMp4GKIYEOp7+26UF0aSfT/xYuDG7wDjrIpAERytXf2vajj7ueryQXSFl10K/ON3gIWDwCLvjfGB8Z54O+Ee4ve6513uB2R1yzsqC+twbC8HcNVhfAeaBuDP/TvwtS3A/ePAIfYFVlPq2HHTuyulZCTlhbjhETF5yxTQGgPGhoHhIWC4VSXGD3n0tLkMHXHxu+YyB+MlPwDuZs5K6FlsbCzdVO9DuKfkHM8AEkP7B8fOkwDcD+B7np42+JkGOvKdAL4E4K8P0zvQdET0b14D3DgB3D0B7B8HZka9WzrD88N6sFm+YcUjrn7E1ZDvMtF9DBgeAYaHgSGB0PNHCD4BLwLRsByAyX/ij0/dDUxuqlIG5hix7eFhvLcOVUAtyPSydAFmOQNe6EYGV/9ZESiKgIEgtbaD/gHALQC4ovY5r5KwtjOU/XfTAHzzLuCmIeDuMWDvKHBwpMoN0WQzNtAaYSs0K4ZlOSAjGG9kPjCBRwZ0ABKEBJexYAZEAU3A7Oi1BeDym4EDnjQ1TwCGWMW8MXcKks0YOyZNlQOQjcgYIUHllEzYQ0ktm+r6oz8G4F4AXwXwRd8/kO9A0wB8y65KmPxgGJgcqYJTKYpTv2CCzyddQJRDOjKivn+Deh8BF8BnwBtaCUA+YYEyAU8h+c6Az9gNHHRmrgOgmDA3jHQ+iWupCeUAvNSrA9HNwqx+muk9nJVNg/CTfrmbAPwbgK8D+PcHkIibjob5o13A3XypWsAkG1cPA9PDFQDZM1id0i1KxsWfOrKnAFXlifCFFMMRcASigOcs2MGAIfE9iWXplS6On7UbmPaUUTXQrgsVMzcRj5Folg2V5ayUA5BWYKwOxKUafnosWjcJwk+7W5F2EKvlE3xcXaNYfiCYsGkA/smuqug6hcleAnAImPbO6YwRpMgjCAVAm/yQmKTv5hNsAf/i7SyNBSl2a8Qv/4/M1yF+BZSYlNQCnnVrpbC+mToAACAASURBVJcaI7sOSEY2NpaDXLqpR+vE/OVksDgImgGgghHoYJbTWc7oJtFWc65/cg2AYvh2ALsB3AzgVv95nS/f4QdsIkT9T3cBrGtITWZfC5hqtQHInsEGQn3UDDvEDEY/ICf7SxMOrAg8T+c00JGkvHGd2DABUYZIAONzCUDppCFhSukCBsLQrFtZe/IixYQpSyEoJoqnuPWrVRAubQh83HNlZB23z7j1ywmj6CIIqUPxw2Xeu9bx2jx10wz4Z7sqTYZaDD8EIDuoE3hMVEphWg66JIp90k0sBxBcy+iPIIaT1RtEsHS/yIAqw+VSNPWQfe5tlVEk8auXgVa5BUsEJuT5uoliAbE5AGotmIAjCPnR9xDG3TQernYAUupTdBGEFMf83OkApHG+XlvTAPwfuyrgSZOhas3u6cwTsUBVn2gTwyFMi8wjHZAA1M9fYGHDULJD1m8Cpa8fRxDad+l+Ykf/3XNvd11U+qiL39SxXevSsshdDFvgbI1O2AwAtRZMZzTBRuDFjxe1Xg8QEIB8yyj5yYIUxfQIkfkIRnmHCM712JoG4FsdgHHp3ACoMH2G6jM4lWzoQarSvwQ6MSB/vporVaFkh+mCLlpVR8Z+dqDZLoDOpHSiQeAFDkBjPrlgCHgCUaFifg67H/9uYjn4Ai1vpTERTAASBaoQJBAKeNqHlL6mwPDZYAOROag/EYRkPX34MwHIvzW9rQcA+TLpI22G7EcQKlJGsYIJhC6ClUMiXfBTbFUQAej6nPS/OuAl9pOOqIc2BLzg++3VmWgIEUz82cRuCAtLIHQQm0gO52uOAb22sC3JEWgRfPpZf2sQBQIgLydPEIFGwPEj8MlF2bSbsulghLftqsCXq9HGgHysznrGgi5qzTUTFH8FLhAUn3hIJwCN0HLncw37qaF2zoYvuKNivmQIuUNc7GvWt6sHNs26twA6vhyq8NEMAHlyntFrDCcQehyaPTl+FwAbXDcmAKMRThakEk8Q8kPg8SPL0qzLBl+A9QCgR6uZGs3vfHz8TtBZvkgGQrEPBVAUg2Sij50QAOjiVKI3saADJRm7dSLYWfSFDkCem/dhZeMy9pPY5QvSDYQyUJoDIK8qMezh3wY6fSL49PcGgCAA8pScJLIgAUYQEmz8RPA17StvGoBv39W24eREiBoNQSgWNI1HBkdgxJSw1AI+dFIbgOYmkjimQ1r6XXC3rAbCHycAgytohf8vsB/r2KRaRq7zpZ+D37HMX0s3DDcCUGLYaw53MJ4YUODzusqlGCQAOQCejuxA8UULUkxIwAmMAp8Wa3qkN/R9W+sBwOhIEPjk5SLr8HeKFbTQfb77csPIMHGl/4MPbReslPhNe4+MiTpi9AFGV4nI7MfvagNQLh/pfrYnDAS8aJQ42A2w4em2cAyWQUuJVQTGWLs1uL7DG9J1RjhA+jvYk4t3KXeMqijpzrud4At9z3XtP16yGfjKZmCGooYh1tZzvv8xXPFl4PoJYC97k9FlwZWD+Azi/deMZWeP13eQCGEyoERudChIjbb3mJYwH7V0QIKuCwj/gfMj0asn2I0FXRSHXfL/iRkNgLyeVj8ccMY//J1fyxzTAXT2+xoQViKYD/1hDqLxPiYxTgSvQrphphG97tz4Slqafnj7uk1kIQDZrvWTw8B3jwEW+RLxPgSiCERdPwPR7+wCPg/gulFgfruDkOMQkFc5x84e708JAMmCuRNBXi4TIg5CGRzGiBGE/D4E/C2r2vcAYJoify62i0aJSMhB+2IHoNwu0fkcjQ85pu3ack5nIBREqneYFyWLkAXIJHESe00Cyx5QyeL6F/tyEcDcrOW2n7fX8df0mME+/vQ/PQjhoy3gzo3AISYf80MQaQx1peH9wb7v2mrtmCBkIMMejp3jIJD1MsaxaMZ8v5N/67INAsB3BAYU4JL4DSo1J15AFPAEwuQHZJzkKfUAtOHLJSOQRWndBYQvCQA01cfnNopfsaCJaD2baBn79QjSTiOEP1EcawIpkq2kegBTNgHWEpOKF8Uwq2NRFPM4AqCf46/rA2U9/uVDvurB01zvAJpiiwOl3fEeciCGF+Ij11f+QkbSfMPfIzqw57mEFZ9Dl3Ps5HXWAYByHJAJKV7N+s0cCQQhwSlfm4lGZ0KB8C/rABgZUS6ZHITBSEhCowUYAAksF7cStWREyxRwtuPpOlgw+5s9sq6OaIJIIlUgEhA1edoTgHxa9HVw5jibZNF+j/9yGQA/7pbujZ4bwv2+cWB6tFo0NzYnkxFA+cvEAo43VBoEo2e+48EMXEOmD9F6xhCE8RwZEJ80VblKvDlmzwicfqy93/o+8K8TwB2jVSgW138FrJQTXBNlnJgmrjZwanow9CBP/rL9wF0jwAGWDtFyoN9PHutnIHT05mPXz93dMGQAPniJsjiBXiTbxDZFMF9NLUPQxKR5qezz1Y6/YZDH0D6GkdAkYJIvRalAdHAMmPZoYhb6NhDWvEyf/ma737CXN7R1ZC7hUbPgcFgqt/ZZjADnM1xqEVhYBpb4CUk5UsL7jQvj///5buDrLeCOEeD+YQchYwG9VIfyg1NaZszFiCH6DkRGLze5/dgk8IMWcMCjdCiCzR8od1B8OTwvJM8JEShFut1fzMhi+eRJr6LI7hYP2M/xVLwKNoZjUTwRMAQQmYyhWGQxsSADOflZ4kukj7PhZ75bETjBpkAGahMkcrGgwhsXeCyBHBj1wmOBQwvAwqKzoFeRV8ZaerjKYAuirmPY/o9X7q5Cyr7fAvYMAftCPGAEoYlBiVtFwLjtp2U4irj7yOANbi+crHyrfCbTquJV44O0F1FrwQGIMZFqdQDyP/gGSZ8TC0ZRRsOlVzzgasd/u+zpMByLehAfCgMQCDyGZJHFCCgLZ2f8mgI5qauEcVx9e5vACTgCTwEMWr5TdIpWKJb5MvrnoocDswvAPAG4VLGg6UKeqmi4iuDz4er30oX0FP7u5moMvIf7W8B+jwlUNAzFnlZCIhvGFRCeWzrgXSSIBreXTFZSgVLHAp4UHOFuociEEsn2PJwl/XEk0dzfSojeerFg1IOo5BKAveIBex1P67lgUzgWQaJwLAKRH04i14ItgDKEtGsRnWx49b2Vkk9wUefTGrKCF7R0JxZMqxN8cmPAxWcAcxGABKEAKPA5u9lEaAbCmKMI+sDN1X3z+ro24wEZFc0VEE64ABgT180PF9ZdBcDb6JpqcPtPk+1ACbmKjJnllwyuILunEAWjZHkBsrsRUnfD0qEiC5IJfyisgMhzWhcP2O14Ro4WbASgAMQJ48SJwchmBCDFa8qpyBbSP7OvU4PQ0p2W7+LSnSJUFOrI4V7w5IoBTQQTfJ6oTSYk2mQcpGRyH2syGjIF6EM3V/fM++C1CfwUExhCsmzCaQT43lZC3e1hBpEHh36XEqrB7Scmq5dV0XZxmV8WuDFzAF9iwhow9seAGoBcGtKjqAc+1l9rLb/1igesO55ysmCrC8ei6IxRMAKTWNBi6Xw98xNTFUi0jEcmpYgRAPhddpVi9OIEPP5cYD4CcLkCooHPwaW9kV+iwWrQHT8uA1fd3F7DFvgUHUP2k8jTiogAqLoxFpDgbMj9jXSuN7i9dLIdaxzBp5XVBMIMgFEnFAPKT9qPd6A9BIGI7MfPmf4U+40HzI8nWgq2PBxL4FEkjKJixGRRFyQQPzzd1iAUzCAQas1YOmAEoFjwkecDC/PAwhKw6CxIkCXwOdVJLxTobMjBdyIgfvimNvNJ7Evf4jWtdnRYD1YNGVuG93VWuWs4Jf+mlZCCZxwP/cnJ6mXVKk2+tK8lQQVHRTGc64SDAZB3Ey3JcxyACkToJx4wHl+YwqloGDICmYmTFgMQFBET8yyYzyAG/AfWX8mCGQg0BTRoHwt9KVaPE/HQ890AIfgWK+CRAaMRYnVdxHbhdY8Wslw1V93UDsmPIj9GxgiAioRRMIJNvoti+SW/Ikd0gwAU8+XxJcbGITJPDvI6XdCFREFSknTB83xka40H1PGF9dnycCxFwygkK0bASJQSVAbAYeD98xUAe5U3jKIwBosSgNsuABYogl3/IwgFPrOIg1Xc4ZrpAsSrvruykl2ucykapkMMh4CExD5DwJfWAYAxwk4MKPAJgOIjGSEGwuCakRhemw6Yv0UUwRf7L00L9pnsNx6Qx4feY4O8pDEcixOjsoTKKpMYjSFYYjOC8Eq3Wnnr0YYS+0Tmi2HysrPGLqwASNYzBnT2Mz2QD91laxLB0gs12GAh81cf/o/OcHyJ+qj0S/zxnhUZbSyYWaL8+Rq2S29wowiWkJPan4MvgrDDGAlRe7KIywDIgR3meEDWg9HbJgApNTkXo8o0i7oVgxnEgFr8F7jEdnU5GvqfJQKQKyEOPlsNIQvyvupAGHS/Okv4qv9oh+PHxMLk8ggBCRxvAmEN+AiEzz2iQfQBeNmkh4K52hJBKOaNe/FSLobLRXCz43rQnu2yi9oMSMDxs2jo8303ERz1wsCGZECF4kd3DwEYYwJjhoNlQrgIjlYodbBPrwMAZfEmyzcIv27gs6XDzC/IR1DOgA9a6DRz4wZAsZ+LYXvQYsHoD4ziOFklna6YD3+nnU6dZ7bGDAcBUImIAmEUw/zbJ1i/scGNDJiLXmle3RhQ+l/aq57gUQCWzwwBKPeLsZ/LFrGg/ShRXAe64Ajkv30kALAjF8R11Dy3K7KRwJcsUTaqWScARou3w/INVnCH+A36n8RvM3nB5XP4oD6DATBYwGb5ajlOLOh6X8JaBKRG77+7ygGYp1bn+V25/01AzBnwQ1ypanD7KWfA1QDYC3zJIj7KgOUzc9nFbetX/r+O5biwNhyX5uSEDr5o0xsJwLp8/m4A7GaJUv/j3/5+HQFYJ3oFPPkho/hNeqBcMkcB2BAA6XrxmMBkfFAci/m0JpwzXw0TXvXtzrz+PKc/Ml/ugzM9MDqCAbz/keVjjGcQA/YLvjoguo1mRslRI6RwfsiA5nqhL5D6nscF8gfTdfxpS+/hLzvWfzMQCoB1Fq/8b3VWaPIDZqsRV64DALsZHVHs1gEvsqFAeBSApQC8pHK90Oql4UEAyvCwNeGcBXNLOPMLftgZsI75ouUr9ousp2TEyIJ/sU4AzC1e+WIFshyAHPZREVwItrrD3wGAhibTYBhxVpe/xePyrNBuWaoNp3DgFwC81O+RAepK/a5Lfe51jxr7JwA83nPXYgq1asl0yX5N48+f4VEGLATlK1vAo5YB1gBSRmsM+NFE57lcfPD5pPFWCJImtyvGgGfOAacBYO59zFglgHgPefZsXV6/gPXBYeC0RVgyJNOGYuJjPka9eHWgjL9bWzhWk0/n/wPn+k8bgFNmgYcsVflZnBRmIShtJM/m7JGibGBoOIIez9wKPP4AcNpylfbNlGfdI+9NjBjz8JVzppckZuJ+dBw4aQ44drk6j1LIY9JkPD7P4s2lwVEGLHwJnncscNIh4Nh5YMsSsHm5ndOu1BGFThJ8/K6JrZtoslST2+XHA6ftB05ZAE5crgAups5TfaL6EF+UyIif3gAcOwtsXep82eIYY9JkXpMgMp/AeZQBC2b8OduBYw8C2+aALQvARgJwGZhY7swEzbNa88IRvAVO1qkF91J36DNOBE7eD2yfB45fqphLnevzdGeBKBfL8UX5/CZgyyyweRHYsFwxYHzRNK6oetSBMDLjUQAWTPqPngpsnQK2zgKbCMAlYMMSME4ALrcnR6JYQIwsoUnjpDRstOLy7cBJB4CHUGwuAtuW2nUDVH1EFUhycSwWjGD64mZg0xywcaECoI0z5P3X5P6nWlHdgHgUgAUAfOYOYMtBYNMssHEe2LgITBCADkIzSJZXpCOnIg25uPrhgnupO/TyhwLHHwSOmwW2LVSik2pCrDsQskzNIBGIpBdGI+VfNgMb5oENCxX4yPRjPj4xaJ0+WGeEHRXBDUz2Mx4FbDoIbJypADixUAFwzAFI8KUJChMV2SUaAGc1cE/xFJef3FYRti64nkqWDrqqEhbrsm5zvZCdPCd8nHzJOLZuABRz9hTHZwPL7LnLnoNMIY2VyaKcjtZLHOAbNgNPngKe4BacfGF1pnydD+hphQ/8XV5UiEueLGnDN1tWXj/3/4cTwAUzwGPcRcFJiDpPt3FLmf5vjwE2HAQ2zPrEzDv7OQg5OSM+ScYQy5Xbo8465u/ZfLTJ7fKHAdumKxVh8wKwealSE6inEoSy2MWCdbUHIghv3AqMzwHji9VLZuDzD8cXxxWZs5c7apmW0fMBnIHKn5X7d6I5npvRz94O7LgXuGIReJSb+Xl1tzqflybwRwqf9i97BQRWomWJQ7oZVFtJoqDX/b/oGODsvcBTATB9gsfGqmzdjtVz+G+PAyamgYmZCoDjFE2anCVg1CeJwOMnTRB/DmUINVkkgia3y08BtkwDW+YqAFJFMD1VAAw6XG61R31O9/fdrcDYPDDmY0zjc1UjivBuAMx1QdMB+WAYXU8dhEU16dOSkppbcHFSrng8MHwnsGMPcN5ypURHp2xMIa7zDz2z8Gn/kVe0YomO0wEwBYKujL7v/zHA6C3AxfOVh58g5AsZxx4fZM7sf3h6BcDxWWeGBZ+cMEFiwGEHHRnDzun7ONHs/djkRgBunql0VDOSHIDU3cxSD4aEajhFXS4H4S1bgVGN0V8we7E0Fh9jVDG6Obr1LJMRwn+kOCaTEYT0dsfqZHXl/p7PrLi9wIY7gO0H2yAgCAWCWCowKrYE8nMLn/a7PQn9X7zIJPPkCcK+758y7x7guNsB6l98gZjLLYet3Ay5n0sv4R+fCYxPA2MOwLEAQLIDPyP8uBg2cRYmzFweAYilKkn+OC8/Fdh0CNhEA4nGA40kd6FES13WLO8v1qHKAfh9B+DoYjU2Ak/js/8NAIwg7OUb7LCC+WAfB4CpBJoIiTRNRmS1l13kqWh3Adv2A8cdqqp1MB+aIOSxWv6pq5D2kkIAvt8rF7BLJksN/jMqfa7v+7/Ak4B3A6ceqpasKMq5akAmlLWY37t8ZW97PDB2qALg2BxgAFwANEGcnI5JcrDZRPlkaXL4u1KJUAfAjbTQ59x6dSvdLPXAgGYshZWR6JIRaXB/NwFI8C1WwLMXzMeSwLfcXuKrA2G+wrLCDcN/IIg4ERRn0qvyySAQX6mG1XuA4fuAbTOVwktRRr2MLCoQyvEZ/UY/WwjAj3jtFJZkU79g1ghkgEBf98+0Umb/3A2M3lkBl/fOcdMok2EjkZyv8773LAfgHDDKjwNwxEUw9yailpwdxBAEYhBbAuGzG3aKkQEJwAkCkOCjlb7Y6SYyf2UwlAS+vKYnAXjfNmDEX7DEfA5CjUcsnzvbu1nDtUMmCDkRZEEyGdlAk6G6lQTSa6m0MP6HuY73AxNTlcJLZ6WOJYC5/CNxLpHMgdKIKNl69Qvu6/75AjHOiTU87gKOOViJb748BKCWrnK/maTA+58AjM0Ao7PA6Lx/xBAupoYDC9okBRAmPdBZ47lNA/DhwMRsxX7mPgl+SrmK5EaRNRslXFQ9CKB9DkADn79cZtkHFkysJ103eBbqlh97DpmTQTYgk9VNxu+xYbXKU3lhFoJPOgdFGY+lPkgQxokkgF9Xgj4AvfoFs84eX4Ke9x9fIC+tRfDxvvniif358sSir2LCj5wNjBKAc8CIi2AxxLCzIAGY9L7AhGIKgpATw4l8wToB0JjPrfTkp+SLQbHrOqm5jNyajS6VCMIpApDAWwQ4LrGgXqzIfnq5cv0vN0ZXHTInME5GBNLb1DGdOYQsI7AfGKFjlgqve8wJwG4T+fuFAFytXzCLb+VgWnH/fIGYfc46Hs7iHC8ZkPcdXx4VfVXJw8+cA4wIgM6AHSLKWZCTESfLfg7WsIyRF3ckiRQ+HACXkwHptyP4KHrpJvKVGnOhRF9eBF9wE0mUEogz2wC+WGI/vVxiQQIxAs9+rmHA6E1YFYB8DJwQMZl0OrLZ++i7sfT8zroYHLS9df4RACWKxSZvLXzG/fQLZqk2gqn2/vUCUQ9UZaM9wDaPeSPrC4A5C1KV+NITKwCS/SiCR/jRBDlLmP7nHynsxno1IPwJSyRpbiMADXzuPDYfZfBTEoAmcuVQdiaW0zwXwQsCYDYmMaDA1wG8TBSvaoR0G77EcGSET6hjOvVApfRPAUN0zjr45JzVcSqiTxD+VeGzXku/4Nr7JwDJOkxFIwt6j6+RqUrlkO4bXzp1gCAAv04AzgLDDsBhKugLFUvQUhTwCEKbnKCw14HwJ9cDgGQ9WegRgDI8XEcVEDvAl7lVlglAgi+I4CR+Zf1mLGgMmDFhBGFfDCicRJFERviSABjLS7FC0MFKMU+07wOPE0kGvaoQgGvtF9z1/iODkwn3VWoEXxres5ib9xx1wZufBAwLgAQexbAD0JiQwJOuJBA68/H3Zhk6+3CifqqwWNMKN8wjKgbk6gWJgC+FMaBb5vJVmsUbV2vCqo3cRWZcCIACoax53+ulkqNd7iqOcU1WcC9cxEm5kQBUdZ+sTnSL/jEtTWngi21jhJNJBivZBukXvOL+yYBkcOqxKjJ4AGgxzMrBVwdAMmHrZOAYF2l6y/mwV6xD17zmWo6MbRyeWtOHwxJ91IIhr6rqZS70DPPLXDVUrfBwzHKr1EUp6/h0T/6L/GcCqslt4IhoTcwdAqDSs7I60WQH6R329pHuFyuXDJmEjuOSbdB+wSvuP5bGUjmsA5XoUvcvBXKKAQnApUdXwah0b8jXR2YzJTsC0ZHB33FL+2yiX3h/1YeD1fFZGT81g/H6yqkVa9YEpqMhTADle8erHA6t7Mh6j4ZBXdBGjFyO4CSIm9wGBiBvgqxwIAJQlXIyEJLyI/i0SkAG/FbhaEr6BXfcv+5dLKhCg4z1C1HEBJ8+BODQGZXfk/quAZC6ketAZEQCTWAU8PIJt0fgwHzZvVWNaKqi7JLOmtDWFy42g1FxH/XfqGkII0C+a0tnDkfsGxQjn3VPsk7tXmuy+Xp0JhtoJosAaFcUAJUYKiYJxcqHqKAH9rPlG2cMrmCUbMX9guMLpGTcCMKDlZGhMK8IPnPIn1X5PA2AwegwEEYmDGBMjOI5whGQP3NPBT7VJlRNaKvF4t2IWHbDErtDlSk1p4lJ7/zd246tglGZryIfrFhQ7pU8WCAX0ZENG+57U14Z4YrCeLrSxXdev6TfLwrbxT7znMrfKQXfHLQCnyvmRIv0Q3430ezMmL98P393G3wqz6am1NYzzoGn+svqRmTAU2citctqAX/2EI8F9ACEmLHXLZGoFxtSl2xyK2bAYwrj6Xr12+1noL/jUTCD9vvFrn6u0v1/nvGkaoVBAQi0eummMAuXQHMWJAA7gCixG8U0gFfcXdlBKk4Z6zELgAJfZEKrxpC1xOIl/+Sk7jkcdYlSco90y9+gK6vJrRiADD0piad7RuFo3udNCgft94vCdrGXn+tujgV3QAcHLcFnroelivHkchEL8ue0uQ74S3eubAITS3IQhKkMRjBMokgWG3L//2z3VSnP4VDgQWxUEEUxAZFHL0eR3HDfm3IRbDHkBfF0zy4EIKNhSvr9goGEBdvTz/MIYQLQdVsTwRTFDj5jQmdArRDYJQNDSs961R3tPhx5NXoVgoxleHnarjohgLec3D2HI492yQNvIwvqO9fJm9zKGbAwnu6FhaP5pFuMg/b7tTbpBdvTz68cz/zI8azVj8iAHTqgmFHXDUB89R2dtaC7tUGw4kDOgFb0R2wYRDGZ8g9O8aU4XwPOczhiwGlMjqqLWiFYGu570wADFsbTvaxg8nkow7E8nM/atfKzln6/1mS4YHv6BQ4+Z0BbqHcd0NwwYbVD3+1yWhXJxPBrbq8AqE/XApSqAxiBV2MZ/54DMOZwKE00rnDUWcR5KiV/brjtSAMALIyn+/mCyeehjIYp6fdrvVELth8RAClyHXxmhPi6r1m8FM0ucgk8+y4RHC1kAK/5XgW+2hZYofafWcPq1B5AqDqEYsQ3nepR2gqhV2yiol1COkD0C+aOaoGx4aL7DQCwMJ7uVwomn4fm7VrX2u/XAlELth+5sHPtN+l/Ap6sX2dCsZ/phZkIJgv9l++1wbcq+2WFv2NXIjNKAPzuw7MUAV8DTuynFIEsQy83RgTAhiv+NgBABaQOGE/3mwWTLwAqHnaQfr9GnwUbARgDNBUlkpzQboyYCyYDYdILdf0l4NduW9kGoa4geNdazLElKoA3Prx7DofiETtC6XvE7hGEzJlpcis3Qgrj6d5UOJoYDcMglrX2+y0NPtl5UZUjkfx/Hqbecoe0OZzdF1gHQrln9Bhee4s3f3Zxm4MvAk9VSFdUIw0i+Q2PaBtISiBSSFgCYMjMW00MP7pwvvLDmwFgQTzdHxcOSGvBg/b7ZRZByWYAlOERluKM3Ra9CKWc0q73dTBhMFT4ZwIw9l5Lrpes+HjeBiGCUOKXeuBvPcKTiEIOR0f+RhDBMYi0Lhea4GTaa5NbOQAVDzhgPB1La5RssV3rIP1+7yy5OAADoAchEHBkFbKfGRpiweAPtMs5IFNokyOGk/7rAYC9OhBFwNXVY1at5tftCBHaWVS2AJdEcEinrDNC+Lumiyc1B8AB4+muLARAXTDCWvr93lR4/Z0Xt6ODFQkj8WtumEwHTKDLQejAfN3uds/dfjoQdatGLxb8jQBAYz6/boxiFgAVudzNIc2/s3xLk1szAORoB4yn+2DhaATAGJCtbpkCYq9+v4V+aBgAQ4i66XtaC85YkDog/zdZvzUgfN1N7a633Xqv6fe9msDIHfNaB6Ay2JRE1AHAEDIfI5nzZCLeN4Nbm9yaA+CA8XSsul6yqV0rJ2WQfr+splCyCYBR/HJyKX4phs0PKBZ0lqOYTpvniAiUAmAd+HKjo1cvDjHgr+3wPJQsVCymUZrPMuRsRBDG4AQCsunyJtFGHwAAIABJREFUcc0BUJlxQoH62q8ST8cggpKNAFRGwCD9fkuvbwAkyGgJE3C+Nz1P1q9/T3F1EZBxvZh50s6AEYC5yyUHXt5/Q8zI5/KrAmAIkkipkyGPYwXz1aRT8v5ZO6jJrRyAvKOvNXlLazsXs9bo/ztc29Pohgotp5J49Rcj/pzfIwGS//3OM4CNd1dpntQpFUmjEH4LYIgnyn/OLjL8FeDGhwJbNgFjI8DIEDA8BAy1PFK7FSKf43cNKrvHx+8C/vmxwMgmYHgEaA35J0StpvvzL/nP8RbLAfhyT207TChgDRiu/ZL9DsfWNABvYzbhCDBKoBAk/pEobGWTqp819hzQ1/0k0PoaMDEJbJjxVZFgDad0SaUO5LksWVj+XScDmw5UEUDJ6U4d0nVbC91S3ovfVHp5al64cgC+k7mZAP768KCA0WD3A/ieLz090CDceVmlAuhBljLgrfcAw6PAyDAwPFwBkCAbItM4a/FiNtERjBl76W9ffD2AbwJDdwFj+6syImRXrd5Y2FjIYcnzWPLEqnsfC0zsr6qBMQmfIDR/pyJ6xMhKyMrSDiKD2xja6TADTt0/AGAs1KcAUCFrOLF6tbtiRVFavT/wuMCa7MfVTlH098YBeBcwNAIMEYAUlS4uBULOmK3LCnwOPANlEIOSoF9+C4DvVoWXhvdWZVOYqWgi3vOXDUQhgieB0EElViMYJ08HxqeqnG8D4IIDkAzo51DKQQJvBKUmKACzbM4+5hUivwrgiwC4LzvjmgCh6nBcgiMTcv9Abo0D8E6g5eCjfpUA6AxoQIzgi8ALmWwC4z//DxcPPwBak8DQFDB8yJPpPZHeGCyC0KN5DFCByfh9/+OAsekKgEzCTwD047X0SCPM1IYQjCv2E/MJoGVwUUQoPboq0MdqkWVn7RtDDMahB4g+P6qhXFpjVtkDtRGA2nKjos7IyOyHFUbIrXe0FXsTuzIYfNb4O2M3ATGIYQOmPn6hG6gi3eUkQQAeAIYOAUOzALMVh2pAlESqGFBAXAYOMQVjxll03iO/yYKRAT0FQXkwZkjp1pz51LO2XAT3KtD3AIAwj4Wg05kfiuUHYlsXAJLVnP0INLM0OYFx78AzcRySeTsw2AJueI+Dj2Fne4EWKz5MA0MzDkCCkAByUWqsJzarEanzj2zXwjEGFHuGY+pYsMojzZL1G9EBexXou339IRBrC3lJGmNDuSHX+w7WC4Cm6wWxm8DngLTImgC8pBcGBuTXf/1fXnyTugnFwxTQOgi0CECyIFlsvvJfEnh0mhsYI/s5uxFYi1xZof7oOqSAawwYjRGBzYGXbtWXaCIrlvHUagX6SP/ruMVYCEbEqECXAMjfree2HgA0ESur1/0vtnNwGSsG0RsZME20/+/XWH6Mugk/yngPAGy5GDYALjiIHIgRUIrsZjM7Ax+BSx1S4pfffQVIep8dL7dMDsTGjJB+CvQxTHmdtrw4l0CovFruC2NOe975egDQsCXRK/eK634JhBK90q2C7I1i+Gt0jxF40k1cPJAB7UP2m3MGJAAFQrGei9iUTH9yBUDTHfU3B5+BOIKQ43BWtNtPcWIOzEZE8FoK9K0DCGNxLi3FqaKA9gTgeoFwPQAoI0OulWT11oEwiFz7cwbErzNxWtEYBB+VY76Vh4DWrH8IOoGQ7Ocg1CqMRLPltmxvs1/SHaP4dcAJePYyyUCRIzrTB8tE8FoL9DUMwl61kQQ87Rmy2PS2rgB0a1ci18RudEJH57OsY02y/+83/sZdBKr4FXQTApBvprGgQCg9UEAM+h9F6ugJDkC3gJPBEvRGrYoYCBX9IxEcS5K4i6cZAHIw8oXQ4mLBb35YH5d7OekadtTV1UZSjaEIPH4nQzYNwgjAHNwDuWGYpZc7lzPfX1cQur5oBorfzDf+zi0yVTuSkuxBI2Q+PhQDIUEnMLo1TBCZLufGw/ixbQa0KB8CTODjPohdY78IQmfDjmW7Yo/doAX6GqIiAtDHaYswSmeMubV81kp11L6hy2PdAcgblfslOKC1IiKRmyRxZgV/8++DS8BFrxXi5Hd/U6MeSKdqEsEKhpBRsgRMbAtuG4KU/+9ry5brzP/lPVMv1EPOQegharrVcgZUhVHFxNPcp9VFtlOWkL437C0WABWypFRGsV0sb5Hn2zYBwvUGoKl10v1knDgo0y7XA8Pfv0UACnjaK33Co9gJQAOe64FkNvtZAHQdjz9v2Nz2GSa3jYej2W3KGuZ9ixGdIVSoKT13B2s5AHkGheST6qn0erHv5AIgAAU+LVfw/wq3CEAV7clBKDDGZG9/5oVXx/oyYARczcqH5GyH8eFplTawFvAtrtXLGpNrQDGbejupB3omlIHQGc/ErzOcGSRs8zrhAbbuL1Tco/JfbLlNwHOmi2kIcs3owbdwNpYtynDQhsFcgvuG9/YapGFvYX22zZcAU0/GwA2LJ/4AmGF9mwEbBu98Y3cMF+uAGQCj2HVp3BbPuo3IlqxAy5wHAq4OfARmEBXGfNIBa0BIsG0ecwC67merHgRpZLwocrWaovuTxew/V0txJQ2DWeae3WAGbdhb2DB4+wRw7w5g8Qpv88liyGtoWHzMi4C9fAEHbBi8kwUKu2xNAdBxaGBLbJdZux1LwAGECYAEm6wyfpelJrEgFnRDxESwgyUxIUsVMwjVy5AYO0bG89Auu1/5BF38KqjBHlUAYXsteNCGwTeWNuwtk4JMkrlzGNizA1hm69g1Nix+zDOBW0aBeRZZGqBh8M4emfWNADDT+zqMjQyESdQFHfDbZECCLRgdHeCTe8CBaKJY1rDnBRCIAuGW4TYAZeFG8ZuMkGiQ1IEwGCJtHZBmy1obBsvVMnDD3jIAerti3LEBOMjGcOpa3WfD4ic9t6oveDtLfw7QMHjnH6wPAybW6yaG4+8D4HIQfvtDIVtLejpBFsVvUI7NIBHw3DUjRzL3rDVtsYPOkAScuX3coNDynT2VYJCkn+PjqvUD8hVbS8NgjphGxcANe8sAGNoVY/824BCBtIaGxRe8pLKZdpMkTvXiJ2toGHzSNHDPScAyq3er4qPyGaNc7JCRXWLT2TjwGmCOeQashq6+qSpZmp8vojQpheF58ncdZVjLnjWPHr4VWKTKxrHGUqq97qXu3jp0wPy+eEC/DYNZsZAO6IEb9pY9lNCuGPcNV830ZmkM9dmw+OKfbdcXvJMPdY0Ng0/7GnDXKcDMccBS7MwdKz8KCAKQIgY0MWGCtr4TOHAasMwOkTqf6unyuLykfd254nkb7qsw/iVg7jhgmSX31Vpd9yRHeLx+zRhjEGRbB6wDYT8NdymyubzDzCCGfpMJWfSRYfr9HP/aMgBm7YoxNQHMbQHm+ID6aFh8yS93tAvGQb7da2gYfPoXgbtPAqaPA+a3AEubgGU1RM6B060fgkRoCzj+TcD+04CFE4BldZdRc4/YxlxgjJMewSiwN1zWfsOngdljq3EmY08vm5i/7j5yIMqpvupKyGoNg9lngYosl9wY/0dZdrMzYl8Ne8sAWNOu2MA3zw/F2CoNiy99XbvftrcLriz6PhsGn3U9cM9xMODObQYWCMANwPJ49UliuW6SaqqBn/gGYP8pwPyJwNIxwDK76ahDeN6uXYCuYyABkEza4LbpY5WEWdSLxjF26/dQB0SJ6r4ByAN6NQxmkWcqrnQ00x1DEDJFjR8CcNWGvWVPp6ZdMQ6OVOCb3wAscPJ6NCy+7PerkP5Q3tBY1PrT9tEw+JwbgPu2AlNbgVkCcCOwtAFYcgAuiwWlM/XqDjMEbP9t4MB2YO54YJFMo/5gHIcALV1TRZ17FXOhPtvgtvkqf9H4kvHDlyKK4l6VzvVSBF22uwjOb7pbw+CfcwBSkyeFEHAUx/yw9JTyEbo27C17Ol3aFWNuAlgIn9QxO2tYfNlbK6MvaxeMRYquvL9rTcPgJ30TuH8LcHAzMOugX3QALo21WXBZLEHwRF1OgHS2eOgbgIPHA7PHAezNu7QFWFZ7JnXJ5rnqxHEulvlzwyVNN3+wern5Yovl7SXLGwvn4riLWO4fgMRJXcPd/+pmOymELEhRzBxJAo9gVL4kwVnbsLccgHEpWi3epocCAMeBRU5eTcPiy/6qtl0wpvhA+2gYfO7NwOQm4OBGYGaDs+5ExYDGgqP+ccAkINaVpB8GTv4d4OBxwNw2YGFrxYCmV0YxLNYheCXau7EhV3ga3Lb8g4+R45uoGLADgHWqhsBXA8K1AZADyRvuvtkBSArh+i9DsQhCOtf0UUgW/7aiYW/Z0+nRrhizoxXwFhyAi5y4rGHxU66qAFhT3rDSIVdpGHzencDejcDBDcDsBDBP1uX1CMJRwFiQIBzxieL3KIY1YW5MPOxNwLRb8gs0aghAss1GZ1O+SFHsdRPt0i/PLHu++dFb/x4mXfhcbWxhfCtYMFr/uWvKxfDaAcg7ipPCvFOVpuo3HrCjYW/ZA+rRrti6TS6MVQ+L4NPH2nx698GnXF0BsKa8Iab4dFZpGHz+JLBvApieqAA4J8CPOQuOBBAOV0CUYbIskRkAecrvAdNbXc/aDCxSpyT4CEIyTgRgneiLIp3nP6fs+a4A4N8B8/48CUC+ZGJA29fpuLmxJW+5h5kNFg2jiWHSi0r0Uv4pCoZsxw8DUfnhd4Vk0XGdGvaWPaBV2hVjdjgA0BlpkQ/K9bmn/HOVqtClvKEBqlfD4AtmgP3jDsBxB6DA7tdbcvYzJvQJkii2n4NOeMpbgJktbYPGACiF3wFoEx1ZMNe/4jnPLXu+KwD4t/5SO/iMBcXuesHylyACMBPDgzGg7opM8mEHIGdwrfGA1rC37AH10a64Yr4APvvOSdwEPOVbKxu+K2pdKRTmdI3dqkPPVgbSTBGAY8AsATjWniBdx0QxJylOFCcr6HBiw1P/CDgU3EgEIMW52M8YkLolQRddIN1AyKWiBretf9MJQN6HsaCPxe4rvgDdHOcOxDIAcmDFDXvLnk4f7Yqt63gEIB/Yoj+4p9xaAbBHeUPM8qF2aRh84QQwNQYcGgdmx4C50WqCFngNsgSvQ+Dxu4MuiawhwIAXVk1O+e/A7CZgThY1dcno1nHL2oDIyZULpBsAFTBZ9pjT0QQgn2V6ufRicS8QRgbs5ZYpEsENDejBfpoLrwAOjgIzZMBRZ0AHoUC+SOA56xJwNlEyTFw5FxBPeWvlzpnbANCdQ1eSGTRybMuydgMggVBsKmtYoC6Mt8znZxsZMLzAxoAOvsh+ydDqtXx4FIDl8L/omQ7A0QqA82S/ERdTI22mNfaTuBIIxR4BhKe+y61punQC+MytI/Zz/c9EuvyBeetLAfGZ5WOMZ9j2/gqABB1fMLsHAVBqhfTcyH5d9MByEdzs+B50Z7voGZX+NzNSsd8cwUcG5ASRKYbdHRNYwhhDIHRgGmO0gFP+HJh15jOXjnyKblVT5Cbfoq+yJOszF8P8+VnNPlICkMAzds/YLxlYznrJwIpO6egTPMqA5ZNDAB6iCCYAyYBcBqTRQ0e4630SxZyQJQIvMJ8mSeLrYe+p/GzGfnTpEIBy6US/out+K1wg+brs88rHmDOgAVCMnrEfxxMte1Mt6j7u9zzKgIXzczEBOJIB0BnCJoqgIfDEhM58SWzJEPGJe9hfVH42un/Mfxl9bgSiBySIBWnAJBDGEDAB8QWFA8wO3/a+wH4+rg4RLPYLul8tCI8CsJmJMQAOuwFC9qMI9g9Z0CxhZz65K0wfFBPqu7PEyVdWAOTHVlTcpxhXHZLz1w0ZA6EDLhkCskRf0sw4dRYC0PQ/vVSRAYPo7QCdj7GqVOSMeBSAzUzMxZcDMwLgcKX/zbv45SQlHXDIgagJc+bjZBqAWhUoH/Y+B2D0J7rFa6LYDRmzomsAaOeKqxEvbWacHQB08JkRIteSXiSBLYJOLB+X4xrzAzY7vgfd2S4RAKkDDgPzNEAIxMASSWF38WsgkuXLyXTRSRCe/DduSZMBMwe6ObTd8JBj24Aot07uDObPP9XsIzUGFPs5+JJ/M6oT4buxHv9X7BeY8KgOWDg/Z58GTC9Xq5FxTXOw9c3Cm6k5fPcjgbHbgAlvVG2tH1T3Oavoq6BlniZ+12n5u/2sDbOvasqoFg8x2Lnbcd1GdhSAhXN+7qMrAC4sA8sORJ6yHwD28z+Ft4fdv8UyqUDrDmCEBcpZ39kLS6aq9l4D2rLb/KYsFTPWdfbvh86vQu2s1K/K+zIjTsXIVQ9a59Egs4Y6sZfIA/EcSp/jEXv8BWcAhxaA+SVgSQAkGAMICcwVlNLlqTc9Gbv/HAA7MrL4+f1VlXwrUq7SvCoyGcrrWpGhuur2fNGYwM8YT67hT3s1LaZvqn5MLM0bzmHMmIFSgdFNj/mIBct63NhFZwEzDsBFgpDPeanNgATfCtGsX9TIKwNrg9tuVkhlng7TI/YArX1VkXKrEe1l2SynN1RCsFJsqnQv3UIMxhwIRjU5AGN9QUteVz3BUAvahuNgjC3HxLAND7nBp/cgONXF5wCz8xUDGgCjKPbvevlzcKUHH2ag6cnYzepYBB9Zi2FxDJdjoXJv1WDFiLJ6MKqKZUzoQFTfj2HmwTKcTpVWvcxHKm6kKgoORAEvVclPD6NdzLXpMT8IYNPcLV7yJGB2AVhYrAC4SNA5AxKM9ryDPE5fs6eeVKWGZ2M3S3MQfEyJUKV8L1ZpJXpVJ9pLilmlAxWkVJHKwIhjjD9TtVXVm1HdOy/pJiaMFRWM+bo0rWl4yM1N7oPhTJecC8wRgAttBjQWdBBGESwgSiV0Pb9DRgu0TY19N+M1mRKh8niqFx3rRDsLqjgl9yaGXT80vcL1wnE252PAZCzAHQCoiqoW3yYWFIt664fUpKaREr1NPakH6XkuOQ+YDwy4FMSwgU8GSRSz0UJx3Vx/5vFNbrs/EiLRY+v4ACITww6iJEodQKwBIyBRv9vwhKzUW6z66TUGEwhDS3ezqusAyNxnJn8xa1KRPSFts9YfFB/QDZcAm78CnDBT5U8rCqjfc3yh8Gn/hGd/MsKf1+QzYJ4891Jye13iy1cAE9cDJ+6FpYrEkidxDN3OtXR+FwBGMezoMmxJLOumAuD4J4rxJrfdH/XCoLGFVKiUbw+LAPQqWWaMMLrd6/+JycSIm85w9lOpt1j1MwAwFTiqAWEUxeYH5ENn/jInUVHeMXQ/f/jRePvCa4DhTwLHfBc4frGqqaNJzLPw6iZxV+HTplFGvZrXZT45N39+HW3TujlZv8D6fp8HRq8Dts9XIOR5YtakgBgdrrrt5Qsq8Ssd0BhQ4HMwmVitAWHAY/LbLDQNQDaTVJ8Q6W4qVB51OOqDZDPVB3TLOBepW5jmqaLbec3jGgBGMSxvvemDYkQ9GoKF1ShUCSKCqBeQrvmfVZPC1keBjXcCmw911tTJ8q5XgOLaQgA+x/OdWA2EGZ98gbjleTHdQHQN+2iwls3nK3/Zhj3VeQhovYzdxmArSwQgDRA3QiSCJUrTnjfl4KozRCSCCeYmt90EoJJbVCk/1+FiCwFZxLk4dRfLFia6x8LbYkD9v9cXtLG6+O4AYQRfrgPygVIcqyhTXcWFOJH8fh3rz7EKwnUArq8mcGwK2MCC1i7WY7Zenh56feHT/jE3yliE4TZncd636gPFCKWavGhcRx2J+cvs9MlSw0Ty3cCm+c7n0G0MExdW4BMIbTXE9UCynvyCCX+Ovm4gbByA/xisVgJPpXrzLj4EoRJjJIZrWHArS9iprK+KcefgiyB0XVKGjOmCmW9xhRVMUSyRFnNeFGEdI2q+/HFXclkp9WsAbgTG9wGj08CI64WxRk/OTDcUAvBHXSLQxcVCDMQSWbzv+1e7WVbz+k5w2tJtsbcCYV6WJY7hmAsDA7r1Sz3OgOgoM+KTOJbcjSI5yGIaNE1uuwlAAU/MF+tF5/0sIghVLdVdM2S0bSzHx2Mi+FTxXf8X925NC4BycK8QwfmgVX1LlcFiykEMcL2BndJJ7aQfijKfxLGDwAhByM7aC5U4qwPzNwufNnNuOH4VZaCPlPo2AahqFqoPVFc14ga2m+WEEL0cAz9kdPrOmMu8r1o/rTsXz7f9oswFs+jO6LAqkvC3Ggg5Fg6mwW03CUI6X12h8lyfcz3QHqr3DIl64DbqaQKc9mI87QXACD6vpJqY0EVxz2CEyCI5eMSGX2e7VtI5J4yTRyZhscrvt1nQuivOAaNLlYESwcySgiVbr37Bfd0/u31yEgg2FVaiPCeVOguqAfGov0iR0R9JABJ0bnwk9nMxw+fOh55EbgRhzozrBUA1polN9CLwok5HEEUQBjFMQB7D+j656PW+IrJ8O/bBCo4sGFdGejqiyYCx3mKe9/JtTiBvmI5OFiTisg9LtJFF7gZGDrUbHKs79+hyu5hSaUvh1foFr3r/6vZJCiXgCDwVVFJ7MVmRLsrGltuFCc68yFdACMDAflwR4QM3HPoKgIExt4gz42SuaQb8hBOE2oZmlu+KFlKR3QSssMJxDPWbbjpfLoJrxG8CYT8MKGZSVTCxYFTIb84nkCxCIPLDiby30gXFghaF4c2ReR466Uu2fvoFr3r/fKAEFxvpqMcd9yonIrkuK5LLV7MVCM+/uDJCyIC2J8a0z1iwqyESgMl15Sa33QKgmtPEBnp11mwuXgO70Ud4DHWzfgDYC3zBEOk7HlA6XKyHQzb8HgGoCSQLqsxorIy1Bxie7Wx0rFaf+wr9Xv32C+56/7HbJ5VHtRYT+GJrsehHcya57PyKAQk6+vBkBZPpjPEExlwU59awg3C24W6KBsC6tqHR+MidyVG3i3rdAnAsH2T093XT+zLr197MTA80h3SfsZP2UqpCrPQ46oF317VrpeiKXTJ9MhMLkgGdCacKG/mupV9w1/vnwyGgCDCKWzJe3lqsyzLWZWe6/kc/oKzgKH4jC7oolhdC4jiuzM0WPo+cPQ2AsX1obFCTO5Jzn566PwbReiwnfTWjI4KvDoh1juh+aT+WKSYD3i8Aql2rJk+VsVQly5kkddv2FvHT61icqO7Fr71/IkLNXOi0FQjV0046oBy6wZ922Q95ICqDEaL4XWw3COcf9Mw73DFB9AqE6wZAAS8XuzGQIDKf+oVkqxt00ttAc+YT0PJ9qRFSB8xoye5Xu1ZVeCSgCLbYLVNswoncHxoeLwCzBGjBNki/4BX3z9lXgUCyIIGmhova83cRgO5Te9yLgP3MfmsBS8xs8/U67ePQOqy9umBUruDchqo8sHSd3PMfT5ifo+ack8eFHI6QEcnT5GvdOnVdXof+ptJ+BVPWceiaRHA8Us/nkACo8mzqlqmWrbFDppT5A5UIZm7CPA2Vgm3QfsEd909kKIqB1qJAKCBG8ZstZz3xHOAAiwmpDIdng1maZQAkZzsHZ537YfQrwNyxoQ+HakrnS0h1mUA1C96TdJTmORyhC3oeqdwROi+GDhkFI6bYNrcNDEDeAkXwQizPRpmnIs3OdqZPSaRFUcbchHlgie6agq2kX7Dd/+d8lUJVXuUzk8ERmS+2vfd4uvN2VOV5rSwb0y3JhgIh9wJeN3YMQCIgR78Q+nDEVYBYZUrUpbXFnM7COSdf7N4IPvtDnT2BY/h8Chh10MXQeYGS+7GGjaQiABpuNIFiECnzdWJMIUHcazLptC7YivsF8/7FgLFMqpiQL5TuNbKfA/DC46rqqAbAwIKWK+timRUBEiNGsOQsyQm+Gpjd4n046hbT84KPuYjOmHHyp92gcgDS2OoIuVIeh/xyUkaVwyEWdLrewHE3uBUDcKIwnq40HpDXL+n3CzbaKdguel5VnFJl2awaghLQBTzteZ0cjLq2A2n0M6EPh2pC57Wg41poLzZsAZNso0Hw6eVR/J8bF9YjWGmVCpGKwQLBRCcrbiSxNLgVAxCF8XSl8YDHHFPW7xeFBRwv/rGqOKUBkODzqgdWPYAM53vTASMQu4Bx9J+69OHIF+N71F1O1gUB+AsBfFqKC+4Wi4BWX+CYgOTAU36wdMVNVKka3MoBWBhPxyiuko3xkSX9fvGMkqsDlzzHC1N6SQ4DoINOe7KelWWTheziObeKCdARApD1AdVnRH048gKUAmAEYi6Oh4DJV4VoGDWqjq4XLbO5o1jBoimEPhPJmwu9FvnTLgdgYTwd2wyXbMyRKen3i2eXXB245FlVYUpVxUpGiLtmGBlrTEhVUwV8dEkVKAq3MHJ1uzRbRx+OOgDWFX6MsXJU/36lJoEoA2AKvw8+uwTEDIBbStdOs8ddDsDCeDom7ZdszBIs6fcL9ror2C75US9IxJJsEsHdGFBil4yYuUwknofJgF4XcEUfjrz+X7fKo4EJJ//PkMORO6FrVjQMeL5kJhZMMXzLwNZCt1nzDFgYT8cQwpLt4hDON0i/X7ys5OrAJVe0S/ISgFY7j9ZvnQ7I3+lyqpYaL98CWp/N+nDkZdhi6bW8An1kP3fRTLKVWlwF6RZCH2L4zDDR0k1IqeTNb2OQSYNbOQMWxtMxeqtkY6I+ny9VEz6btfb7xc+XXB249AoXv85+tIBVgJJ6n4lf6oV+mfjdDJNMH0wAVFX90GMk1f5TxlS3Fggh92DyN0IORy5665KIfCktsl+K3VsGtpVOWOMiuDCerlSnjQ2rB+n3C+pIBdulz8wqonrNPLKgwKaC5B3s53qhXVq6oDNg6sOhqvqhEr3V2VNLBjmnSSNdrOLJ1zkAu6VPRjFcFz4fXDJ8i45hG94Gt3IGjOFYA8TTlQZ/qGH1oP1+8ZtlT1MAtHK8mQg25zOZUSCLIliWcbw8wfW5Ln04ssqnHX04euiCk6/3de66MPpuAQVZAEFkw2MKFw6a1wEL4+lSBvmAOMhD8vkOkFX77feLNw14YT/ssmc4A6oOdHBEkwXlgjH2k4Nal6wB4fIuX9LzZjAmorNeHMo5Tc0OewHwDTUh9HXxfGJsYkAbAAAgAElEQVS/uvCpoAcew6zBBrdyBlQwwoDxdLZWXLDFkHyF8xGE/fb7xR8XXByAAVC1oB18HQYIT+8uGfP75SCUs1o64he8v4j6cIQ+IqkPhxrBCHjdjBH6AblQkAeY1ondukSiELmsUPpjbyp7XuvDgAXxdNZVvWCLIfmKg6Bbhrjup98v3lVwcQLw8gqA5v9zC9jErutltg8gMxDWWMBaMVkmANWFyEV6R0uH2I1IzW7ypbkQOTP5f2ch9KsFkwp0kQlDAOmxzHpscGuGAQvi6VD4RgmAg/b7xZVlT5MATNXwqQc6KGwf2U2uGV2uzg3D4ua7fDnPwZcKgIdq9GaIBPZb0YdD7hgyIFWMXiH0eQ5vXS5HcMkc++9lz2t9GLAgns7KxxZsCkgdtN8vWD+vYDMAUpcja7lOR9eLVcIP4tcuob/3AOHCdW02VTX62ApB4Mv1v24gnPy9HiH03fJ366KYHYTHsgBBg1s5AxbG0+HLZaOp65i+ln6/YM5EwdYBwGj1cmUkE7+8THLNdAHhwrUOXtcrO/pwhF4cct2oN68BMDCfmsJM/n6PEPoYPp8bH3kCkbtjji2tJJA962YAWBBPZ0WBCrbYsFoOf9pDAiENk179fkuvf9nTXewKcBSjsn7ldonWbgQpx+26otaLIwAlfi2QQSJY3Yjy5i9dmsFM/oEDMM/Z7Uf0RiYUA7J+ToNbOQC3e0WBBm9qLad6HICG1ZK1XB5PoxnuOOIcxSXe/Of8xHV/P+FpwN47gKUpYHmuSve0pKZgCKSq5wqniWE1WZz/xouBm74KTMwBI17lVBXwtWSs+8/vL45Ff3vhpcAnvwos8d48DZX3M2hx9XIAnu0IIO0chu35AOgLL0yuG/jOmwbg028G/mNz1YWdETbm4I5BrFlov+EtD2wIo7l+Atg8D2xY7iw3V5diEqO54mnj6XdMAYcU+6gon7A3NSO2qFjlyZYDkAX6uD5Iam44YaUfVNDNxaJcLIPXcGGpfi6PnZdVD1wPspQBX/wl4OaNwN6Jqg+xwrxslcVFuYJblehkcYYZGPS3L20BxueBcS8nwg5H5kZkx6TQSbXFZcCQKadx5Cz5mPurAFxrRaa17pAR2PFC+ElSHKQ/0QjQcgCyGyM9v3SnsDBRJgL6msWCf6IfWeUJac8UFlpY8500DcCfvgb43hiwZwyYVhd2D/VSrKGAmIDnBkiafEcN9cprHgKMzgNjS1V7rRjRlceyrqif6KAkMgXIM+6tAnDl+zSL36O9+U8p9jGHQo285/2XA/AnXeNnKAorDXH/AILwbSvLEz6Ql2+cAf/3XcCdw8DkKHBwpOpFbE2wadzIdyh3jjNQirYWEwYq+/zJwMh8pf+xKNSwM6DZMmzNRRbM2K+2Ii6TlFrAWfd5V3i/F7IgT2LBF5LbIdkqxLPWvtzlAGQ3RpU3Y7AiixMxLOUB2t7pKQ8M0qCTnp8HkojJgNqaMEJesQv4AR3Iw8DB4QqAs+6SWRiqgJgY0HVDAdBA4Ba4xN7ndlSFAAjAYX4IPO5dBDMAdS2i+Jx7XTf1eEdTDfgAQnR34p/wQkRmjNAoByDT/ugFphXAmjAEn8qaPQAgZCs0lSckCNmVigEbFMsPBBE3DcBX7gLuawH7hoAD7EM8DMw48AhATrjtQwiXoqkTEwWd7LOneXNCbz6Tiq/TInb2M8ZzIFrTQbGiy92oGz7pXl/7jvdAJnb2470IbB3T77Sai+hyAP5voTqW6sKwFAc/TAdc5+3dvcsTrvPVYSK4SQb8xV3+6IaAqSHg0FDVh3iOIFTIFxtit9orL5Z/LD1Q4s+B8OnHVuXwhhdd5DoLGsgCCJ04q66X/Ju/vSaeAxDPvbdtmdtKDV90gVEPIl/xySkviOhmAEjrlzSkwj40SlQZYZ39I+8JBMx8mZryhOsKwqYB+KpdVSDFvhYwPVR9BD7uyX4SwRS59nNI+bRck/DzJ05v12M0nY8fAk8iWL5BB5qASPGRCi8EVjzv3mqpkC9ACrrwhKukB67GhpqRRowQMqCiYbj8oOoHeUWpdYIBAUj8c8WjrjyhNIJ1unzjDPjqXdUjJAAP8TMEzLYq9uOHICQALe/EwWe+QgddAqCzzD8+vgIgg0qp+5nYjaDzCgjmnCYone0klqP4JSgvvK+6LoFPoFMlkPGh+0rPWta4RHTNJJQz4M8EAGoNTPVU8opS64CC9zoAWTFChcq7lCdch6s3L4J/2QFIEBKA1P9mHIBmhPh3Ai354RyAAmWsR/PRs6vOR8Z8FMPS97yxtIlYgVB/I7jC0rIKSfLXF1EEB+BFFjQ3jCLA49OWsRTTEPzvzQEwry7VrZ5KwzAQAPssT9jw1dcHgCrORQCS/bgn+1HsCYQSveaHkzvGv1scgU/6R55Y1YIxhvOm1EZekQWl8wVDxJgwc88QiJc6AKX/meHDawX9z16M/Em7bO8Q08GBP/jEkAEVjMBoAFWXUjRA3KtNwOBXW3EkAZhrALktpC6lKtTV4OU7RHB+3kHWgv/zrnYZl2kCkF4uF8MGQGc+MqEYUCA0n1tkwxbw4ScHAHr71Q7W4++c8czwcBAmHVB/c7Bcek9b3FuwbdD/kjGWgzJjQ3thGmVA3jhfOyU+RxB6FamOFp8NrhsTgLy8Cpzm5QlVptAU+6CiNgXCaIQ0BcDYV8b0P4pi30vfIxD5+w72C9aliegW8MHzqrmh/meuFhYi0pKbs6D9fsh/n1XFMrYMbPgUByCZz6J+uEknDA9AornWFRb01WZEsACoHhOqyC7wdetT0QAK2KqOb5MCUvPyhLE0oQxzqaYNXL5xBvyVXe12vByLADjXAvgxBvSPGFGMIjCmJbEW8HfntxtQmxT0cmxp9UPAdKAZ1upA6EB7qgDo6oCUxXRtPVSpAwJpnUhuxAqWCCYK1MBExZljY5S8SYr+pxAFAuBayhNG26jw8usCQLX0SAAkwwcAEngyQizaXoziIli+Oe7/9kJvNk1LmBMe9ECO3XRB7aPeF0EYHNVPdT8gj016YBcWtBfBVYJuz7mF7VgGY/pO8f5WdQ1/7U67nIKNS7j0wIbDPFZsyNHHY7od/xdlEHj8CcC3TgCWHgGAPSxiSdt4312u/8SPAl8/Dlh4pDeZW2PD4J1c9+uyDaIDkgEJQKnTfG/N8nUAmu5HUnMW5ARbPfEuIHy/ACjRK7FL5pOR4RaxgTHofKl8r/S1ZWBnAGDKefbn3AFIPRPXB7sFiVQimKVgGdl5ooNwLQ1/1U+DQGSXQ9r5Evy1q9rZbP1lGQDZsPpzI8APHgXgod7qUx11YtBbFzC+/C+BL7SAWwhgdoLkONSLqy5oLogYft3ZI1F7EAC+phsAnekokhP4HIzml/PvthQWmPB9LJ7jxkcSr14jWj4/0wFlgJD5eoDw6fe4DzAYPHokWhHJZ3TFSkn4h7YOSOBwEtiMTv1aY0uktFYTmI2/43EMQmCuAJmUE0gmVD8EFdPpdnxhVhqzDr8F4NMtYM9Jfg98EVTeNu9Q2OFZBX7vr9vtgm/lcezczZ61ZNN8DCvilYCdPXqNDQpAlfGTKm0M6AA0PTAyoMSx64cRfPQHXsniOTI+fEWDFGp+Qb9BeySRBV2kpl0QxxGAlHDmkI56X6z+EP7UDYSdRgh/IouwIZ36lHabBE0GJ0r10Rgb/xA/tt/j/6aMAf+7R4CxzuBXWRGULwBfIrY6UNfpvLae7n0I+LO/reoLMqiVMbW38oUhkNkQIzZO7tIweGePcmWlAFTjAYHPVGwXxWoLYblEDkLuTT8MDPhXLJ4jALpaJB+ggU6xfgJknT7IKXIQXh4Y0FZCog+wxiUTwSkXUbSMV1rB/A31OXWuFpPUda/mRHKi1e6U+hA7Zq7l+A+UAfDtHg/LrptkQpZ727cRWOL9542Pa3rOvuOqagUltgtmJM08j4/PILbIDKz6w5PAHsbraTnMGdZWIwIzxIfeK0rn578J3LAVuH8CODRahV/FFQ/1IumIvXP1QudNfyNT8oVqcHviPcBd48A0g2RDuoDqHdb2SalZAdG9dnfDkAE0gXnH5ijWCDbKCq5/MRiV0QD8HgHQ63jG0hdsLGxA3x9Bw1Asli7hO3BwApgng/Gjvq01IHrXJ7q3Cz7E++YziF2rs1ZLZ+8H9jJsSoECWXj6igmR87aLgfbGq4GvbgLu2gjsHwdmCEIPSI1h+SkCRjpfUC3iNWcpoRrcnrYbuGsUOMBo7QBCxSTG/igxVcBIVGPWM1h1JYQPnyKNExGZMDIJ9b66eEBGxPDY1Y5nv+GCjfGAxD+DDpiawphABWZPjwNzNLAEIH4XCH0M7/5c93bBfI8Yk2cgVAdvdT10ifDkBWC/r9lGH51NhIsnsWHOfPmEUKT94WeAG8eAO8aAfWPAwVEHISNQlKQUglJjJExqC+H6Nq93kOpUg9szbwLuHa66QzFWkaFieXxi6hgVHOMCYGRuJ+5V4jYJIDKI9KlsAvFDq8QDrnb8NWVPh9EwdFkQ79TlSMIsN0Mi5s9MoOGno4U6f3YAvefL7Y7rvdoFLxOANSA8f7xSgWmd0kCQbmZ6mTLEnJ0UqWLhUkxlrBn6n3wWuGkYuGukCsufGq2iojnRFpafsU7MDxErJuZhYCsJosHtWTcBe1oeq+hxigJgXBrMmTBPnJKLrr+VED54ibHYvZos8sO+DNcrHrDX8YVVyglAKud0LtMjFPtNMz6QLDY7VomLJd671AEH4Xu+3g7nWq28ISvX58/hguOBg8vtFQvV/hEzxfqOevuTfpjri8vAWz8L3NYCfjBc6ZYHmBcitnFd06pxyb8W4gPlgonBqffTtdTg9pybqiVNBssyUsdUD7eGO9amnf3sXtxQipl7Wg/sD4A8AwHIyZMYky50Tp/xgN2OL8y051qw2hXzwRCEdT2nmck1RxHG+w5jeO9NFQBpR6ldMIMXlFWgVndqF2dVFsJzuOgRwMElB6DcI6rznemD0RnbwQiSRS3g7Z+tVIl7PC9kahiYZm6IizuLigliT/VoUog+p8P9l3wJ7qGEanB77k3VczroUToWLCsABud4ypaLCUoxf9i/9w9ADiICULrQRWuIB6w7nuZrwaZwLBGwClSqSyz3AhHbaRGEFGOmC44D72UVgjW2C2Z4lIF4ArjodODQcqUGqAxfcpG4mJVuVqcL5tbs2z/veV0tYK/nhTAqesYNHdO5PCJZos+WuzxHJIViuXFyJxupNLg976ZK2lizUKodilGUgzyGhokF8yw5Mf+qRkjdjfuDtwkkm7DTkNaBaQ2ox1q3eMD8+B6O3H6em8Kx1Ccx9ptWl9iYIUAAWrI3I3nHgPdOtsO5eOuxXXBdj0V1vOL/so3Cxef60tlSpYwveKf0pAu6ohfdJ8k4CUqgvr5jV6VGTBKALeCAh+VbZLTnh5gu6D44A6H8cVlkNK95O1WkBrfn31R5HSy+JCwPplAxRegE/2T+AloGncNmbQyogUQx/KwB4gHj8YWNTwRAOW0FIIIndoqNkTAxz/bd09XDGLBdMM6/pLKi5whAX60gCK2ujxzEAqGL2pQ1Jis5AJEAFHvTujYAKjRf+SEugm1d2COQLU/DAwQ44caEw8AtZzSIPgAvuKkdrWMM6M7xCMBoiBn4YpCE2NCfxWAA5MEuwvCCEICwlnhAHV+YORfDsWJGgPpMKwg1b9QpFnzHbD2BK2JGul9s8KkYW17vLALQRTCBpzXZpS4gtCXXMAkduuAy8E7PijPWprXJ5CR38ygw1fJDohh2BlRAgq2OeN7uTWc1D0AFNtmL54ESBsCaJcLkDajxj5ZXRiCIGA0waDwgjy8sk5+HY+X9ppUbJSCp6TnFCMXwny1WAFQ8rUAc2wUrRL6mXTAefWnFfnz3FpbagQKLAqAzoZjAKkkpXkNO5GCEvOMLFXOnnC4xIKOjnQGNdWSM+GqHQGd7JSsxUf+JzQLwhTdV4je1nQvr1MkPGtlf9yP2Dy+gAqZ6rQytfvdHSDxgLwBF8AmAYjHWluEDiKGMiqOVvtejXTBOuRSYJwDJAARgZAGWL9Nk+IM3SzgTydE4eec1nZHbtDaNAf1Dpd/SMx2END6kD0oXtFhBXmcY+OY6AFChnKnzl7NfdMR3qCAae2B+VVMYXASvDs3/X/zHJZcB84vuiqABEo0QPnhnwqQLyRURmZBPytnwHde0M1vN2lR6picoKULaxHDIEdHkW2iWg4/7b5zb7DSQAVd0/griV2JYojfpwRGEYsGBrOBmx/OgP5sAKANkcbFzNWTRnX/GSGImMYH/LYlk+gGvdT+bW+SWH+Ig1GqL5QeTtR2EYj5LVHfjw/ZDwL8yJ6TB7UU3VVoTjTYxYDK+Ivv7dzNAZIxpZSiU8jjKgIWTcykZkBawDBBnQdMr5QeTKI5iWCB09AmEb7+ucnOQ/aTPWn6wuzyS4u+R0Ob6CUGqJpIDA97AdqINbgRgBJ69CG4Jp6q/ckjXqB/RKla4WpkO2ODgHoynigA0JiLwaNiEt95YQKJ4FRC+7brKzRH9jZbN6iJYuSHm9I5iOAOhHNJfZkh+gxsBKPbLu3+JgaWDdojhMO5kkDWSlNTg4B6MpyIAjf3IggJgMD4MCARjFMU9QCgAykhSKnUCYHB9JB0wy5aTRUxmup4h+Q1uAmDs+hpXgFLnB6ULONOn5xACNJqxghsc3IPxVBGAiQG9aLeilWUJW1FvVXEN0TKp1C6At19TMSCBpz1dHtT/JH7N9yaxp6QkF73KBxYIr10nAMproB44qQGTj6sjUrtOFPtLeFQHLES9AdDFrq1E6M13MaxVCTNAXNFThIylLcor40zxtgDAPKuVwDMrOKw+SBTbtR2MND7sZwC7Qvm4wqHa4T/uIrhb+7n0EgbQdTijoyg+agWXT8llDsAFWr/B8qP1K7bT0pvtVwHhW6+t2C/m8svvZlawi2CKe37nhFtapkDnILRqBQA+v04AjMyn79EIkXO/DnzyCBwVweX4wxs9B4rRZgyPVFqykgDd+5JSpBU5r0vHyHz+jsc3ub0KABsZMCyQgeExKyFPVIz3lmcM6OfPAGCADYPE67Jfs6h7G0o+xvi7oyK4cLZfOgpsXwC2Lq9MwuuVERonKn4nSJrcXnQKcM7dwMMXgYcsVxkSebJgzOWPqdB1ad2f3gpsnwK2LXWeR9m3danUIV1lBSCPArBwtp+7DThuBti6UDWDmWA/DvXk8LRptfPtNUlihYZTOPCi04GH3wFsnwGOW6iAs5n3GeJJ+KLoE+9VDClQ8R6vOQHYegDYwuY3S6H/iJ8jb11ck0q9Qhoc9QMWgPBZJwFbpoFN88DGRWBiqQIgWyJY3lPozaGJ1KTEPh36zpTkJrcXPRE44S7g+Cng2DlgyyKwaclfFoIwvCwx9Zn3Q1DmIPx/2/sSaMuusszvjfXq1ZRUElJkKsBEGQyYhJCBSkUqAW1tsBdpuxEVaBzowXZqe1g90G2LotjQdmMjKqtBxQERdAWUAkUlZNBGkQRNyIAEMAkxpFKpqjfUG3t9//m/c/+737njPq9uVeqcte66b7jnnn32/s6///3v//++Tz0dmD0KzC4DM6vAFpd/0L3Gh6yTDgnvLwKzAWDGiH/ThcC2OWDrErB1pRgQisIQhAa+AED+HEEY6uNLyrRnZLSl6tSbrgLOeBQ44yiw8ziwfaV4UGbdegmA5QMTLFlqsfn7XecDW+eAmePAltXiXnkuZSBkRcm4UGXtU2uo3xsAZgz6y54JzMwDWzkgBOAqMMVBCSAUObh8QuN/CiTgcWAuyWhL1amvvBbY+VgxbW477paa7gIBqCnUrbUBiQuhAKDUot13IbBlDtiyBEyvtO5VDxvvVfxW/JkWNFrCeK8NAGsY7BsvKQC4hQCkJNaKy2LRIsg6SJ3IQSe1onKKC2CsOYMeN+0Dtj0ObDsGbFsEZmWp5S74g2Ir2uA22BScAJGA+dJFwPQ8ML0ETAUAkgDTPq9zdK/+sMWpPF19NxYwA4g3PtsHxAE4SQC6FdSgmGWRRIJLZJll8EGKjHiX1jwaN10HzD4BbD0GzC4WrsKMW2pNobZoCu6CLCDfCTqzgg6sr+wFphaAKQfgZHKvpRSYg7HN5XCL2AbAZwPrZGaj6ippXhgn0kqmU1woxnHedg5AATuWHig2FE1uVRwoxoX+Wcbg89S3AqCKPONcCi8oPtVP+9++G3j+oSK2xRBFDElUxbTS+3nvc4FpDsjxllXQoJg8FgdCQoGJJTTicLcQ6vPL6wbg9cDM4cJv27oAzFA5ky9/UOSvmg8oP86n0dICBn25JwjARWDSAUgBHN6vfdbv10AbARh8X91vDM2ss+NvAECKPVLCsHoyUgRqrlbnRwB933OBc+4DXrIC0IEmiLnE75di8HsyAcjzWUVGUi6uICMpVwwJVMXdeOk3XAxc+Hng+vV2esAYw+sWoP31r3eLcLwQBeQUrEHh4Jo2h4vDmJPuAyMLGAeEn7uqbgB+I7DlSWBGCwe31Gb9aL20kGDb/EGRxY6WTz8f2wtM8l4pgL1SgM8esHCvsuylME4nn9cfQLtldg6TZ0kUKorAfij23vAPCmqp3fcCl60XFINid1PlZrf41/dnApB6wSQjutUfIDJR8CGIQOwWEH7DywpKrWc8CFzqRLHkVYrB2jS2FQH5vkuBycXCAlIUUAAkCM2iRBA6+ARCe7DjYmQduLYTleiQ/XTTS4DpI+6nLhZW2nzVCEBaMLd+soIGqjD1ampdugiYWCpeBKA9bBJC9ActAk8LES26SqsftInLZ44dQif4Igdhym5WLrPDyuYH/7HTCNwDnPko8LXrBccjQaioe6BiKad3+QY/MGTH6rS3OBvCnQDuAIyqhiDkQ9RX+29yE3on8IwjxQPI8zkTiApGU3oVkD/4fGDieAuAdMw5MFQjEgg1DYsUku+a3uI0TGBfV7PotwHwaOEmbHEATvuDIutni6UAQoFRIFRYhfe/dhEw7tbe9Of0Si1g8HkrwRcevDajz07gIJ7n05rYyWIpb4ya/7vv8PRdFpj/LXDmkQLAnA4jCCOlTBRN/rFMAJKgkkVHpGUjySSBSFeg7/azqk8EgbSEq8UDRACLKDXSyaQ7Br//DcA4LSCtwnKhTEkQcmAIQhtM+Uaajl0uS9NatITXWzpzfcdNB4DpY+6nBgDaCtanYLN6fCj4u1ay0QIqtML/EYC61wSA9tAJeP6eWsAoDysFpg1eB0HIQRCIIkVeCqQf/05P3WCB+UPA+CPAzvmCaFWDKEuYcl1yMN+Y2dckqGTeHPEvvWDSNhOAfbefX0A6rS8CUw8X9066bFIfdqMHJID++DJgLACQumyc3gyAEYRRKFCLD1eu5ODLF6QvXedx0w3A1BwwxdAJLTXjd8seQnGrZ9bPFxLyA7WIKON63tYtCQBN/sv9QPm6BkLp0vl9t/m6ietR6fbyBA4gnXtORwRRpNnTtPpW6gWLH83lKqcOFTEnDiKtoHwy8RNFhrefyeztbnrBfbWfgttsP+kIyO32ELD1cHHvInrlvWs6TsnB7qAUlg/suFtAWkE55zYQ0QpqcALoNCXTEt7A3KoaDwGQfqoAOEUBa7fUbKctltwCajVbxvSiyvoasM0BaBKwwdKb9fN7NfcqBWGiSWykWXER0umeacUEonQgCKRfIgDFjya5yq8Wfsfs8dYgiuMxgpAg/vnMzu6mF0z6Zj5APdvPQec0TEosnvQosGOhaLuIYvnwEYSithE52F1XFAA0p5yigD4otCqygFKnpHUpLYP0OcKURYv6Mj4MNR433QhM0gL6QongawOg+6rl9CswKoSkEIxPyTsuAPigCYBmAXVfYcVf+n0SRYw6dP1YwNgHsgSajiJP429RrpWOM6cxDiJB6NINM4w7LbUGMQUwB/M9mZ3dSy+YVG0EoBiDBST5ddZ+PkCsAiIlQZDa3LVatJ0WXG2PbL98AB+4omB3oP/HgTUhmGgBfRqWf2TTrUSjExDSP/qWzQDgfAFAWyzR8rkFtDAKX75jo6nUguZxZ8NByHbvvqBQ36T1swcsBaBAGGRg40Ir+rt9WUDhQ5ZAU7Es2e9LLzglqHRxNkbeuW+oQRRls5jaMjnK0a9ecNf2R4LAwO829kQB3LTtEYQPUwzQAWgW0AGo8AQH0ljp/V17pm0KRcEifGuNOnocO1rACQbKPXhs8TtNwVr5uh+n6Zf3wDgu29g2FdMtOc8B6PdpFj08ZFrplw+ZA5FTvAQQ0/BT36FPDkRqBT9Jag7xYlQItY0f88j78sZzCcKPZlrAQfSCK9uvB4h577SCotUiEJ8opq8IQFl/PUBPEoBLxbRE62LSqG4dFB8r5bHcOtiOQSqT5T7RKzYDgJx+BUCCTxZQCwhaQc9oKcEnEBKknj5FsJ1LAPo9xoWWPWDy+6IIoqbeaO0VA+zHB0zxIQDKkn1GgtXiRxMIAx0Vn0Db+lkuFjLRCt5WEwD71Qvu2H5OfekD5FaciQay/GIbFgBXriwAyGmJADR1ck3DwTE3TQ4B0LetzBJErTYAr2BBSI3HTS8tLKBZPo/fWQDZp197Z3scjGb5BDp/L3+njMweB6B83Gj9wj3atOsPWin9WgXCFlVO/3ctf4iD8XkBkH5USlAZlNPZAQqARr5vxu1yjmH0givbX0UQKI63o0Wun/xHuR8E4VnPK5JQLd4VNttTBvK2uoiKOUf/f+GjwMNBh0NMV6J0c0NpcRv7mrYv3kh8/uHxYp+bVpwLp3R7sts2YzouSq3KGa+q7+x7Co4nazAerRKsVlV1QitF59dyyFZaYY0HMu9mWL3gtvZXMbymBIFMZ1ov2h0B+LTLisxgW+Eq5uU92iZ72ud9vvR+4JFp4NjkRh2ONi0OB1/UBCkvEYRhfuNs4OmhhiPKnFQlx6aAjMnSXJUAACAASURBVPjmz1w41nnwO4cCIBvBwZgTAOUHRq3gyDExD4zRGVYEnpm5LqmQc0M5esFt7acFl0SlHiBxuTkYxxdaihUC4QVXFu5FCUD5QtJl85sjGA0ziQxqeu/fem+hw0F2fLLQGxFlYMRvo7v1WmIVtpt1DFkXvOR7LwJ2HSkyoZmEypoVVe8p7b6qEMnidGG/Vl/L2aPOIwuA1pAIQE3DAmFa4j9f7CPaFpCHKujr5xzZesGdHqAqKz5X+FLRAl58le+jui+kTBALMcgZ73CDBkpN2/7+bfcWOhwUyCEAjQTcAVhKdjkPc2RajewKyu/n1//qJcA2uhBMRGXQOcn9U6JIOjXHQqSYOsVoQp1HNgAvz8yny80H5PVz9H6RqVd849WtXQ/zA0Ow2ayGLJ474L0G79vvbulwkJi8BGCg4S01SKqofoNvSIC+5zkhFUupV8rUTpJN06KpaBkFQm5M1HlkA3AyM5/u9Zl38zrk6f0iU6/4hmscgK5ISUtCTowyDqb7UxwsqFJW3fo/vbuIBJEZ1YRgyHwQKNi0KEl1OKTCZJdxtPDn//v8ooaDaVgqFyiTD2IKfcjZS4Fo+7g+HXOPv84jG4DIzKfLzQf8KVfI/FNKrQ6h94tfz+vOA9cGAAbrpylY2SDlVTTt+uCnV3/V3a7DQQAysJAwobZJgUXi78Qayhd812WeiOAZzEyUiAkHMeu5BF5FwZQAWLPwknkLQy9CrPMy8+lIHZFzvN3T+YbV+8X7c64OHHix74V6zIxB+RJ0wQ+UU992tYoFy3fcXcTDxQkoPsCUhFIczKVCegSg5B8A/PILN9ZwxBSxtiKiUAOi7JW0dLTustF8AGbm0/1o3vjjnSGdj+lYlGwdRO8XN+c1wABIoHk6k61yuSCJITq3jDY9Vx0BqK++uwAfX6JkI/hME0SC1EGguiQ+isqcQRLrF6/0jO2w+6FMnZhyZYsQ1W50qOHgPX1NXndtODsfgMwHzMin+0+ZN0S9YOllMzWfLwKQSS396P3iY3kNOLDPM1y065H4gOW3p4uTDkB8zWdb7FgbdDhEgJkCUDRvogTmd/vPv3BVAUBuvylNzAAYi4hisVQnEHoIqWblrxqm4Mx8ujfljT+YjsWBYgIOc0oJPsq1slCpH71fKybJOEoAuuVTRSCnYlmU6P/Z4iSJEcbLv+Yu9/1EAh7JKEXDKxq4ChUiKymRbwjgHdcUWTARgLYXHSr2LOU+BV7MVwzxwOfkOWybYAGZD5iRT0edjpxD6VhcOQ6j94tP51wdOHBdMeXa9OqWRcmWXA1XLUIUH6zyCwlAs3z+YBkfs1u+VIejJEF3ckrjI9T0y/aMA2+/tgAg08VURKT8vbKMUgAMIGzzAcOi5HknHQAz8+l+MW/829KxhtH7tTz+jIMAJPCYMULAWd6fvi+EY9ouoZBM/Kx/4LUBgFLgNC5o16FrE8JJVJgkiFhaQQBv3+dVbMrWVsC8UxFRkjjaVsW2DtRdOJ/vAyohVYK7A+bTvTdj8HlqTMcaRu/XxHkzjgNkIOWuDr8jnYYDKDutgpUhra0uAlAyCCUAK8BXcjBXgLCk/h0D/hcByDxFAdAzoFUqUBYRJTUcMWdPP7ONL6i5bLQeALJRQ+bT/W7G4AuAOXq/lsGdcRgAY+glLkYclJVTsa6ptCX3uQjAKINQstFrAZKIwWxQIhIJuovB/Nx+r2LzFCwlj8Y0evl/MYk0kieVtcvrwGUnHQCVjjVkPl3mItQsIPuElx9G79dOzDgMgGkAWlNyBJn8xKprBRC+zgEo4LWRgcdVcOCjjlNvmx84DrzNAahaFZWLygKWxUNibIhTcPD9BMLLa65bzreAMSGVoXvJ/Cgh1WUfO+XTZS5CDYDs9GH1fnOrIDcAkABTTDCCLYK0Cwi/586WcKJUiEpC8CCBYDsiiSplqUIUmOjf+o2tIiKVUJbgU5uSWl4DWwX4+PcXnrQATBNS+8yny1yEopdcay+930y5YhgAg+9n2OoUeI5TdQer+32fdhmGoOBZanBo+g1yEKU4dYgFSvqB//vZBIBt9RshkTbW8ZZZ2hUgvDL3iU3uux4LSBM0ZD7dPRnTH08VAIfV+2XAOucQAMuVcKfFSD/+IAABsEoGwYAoHZIKEEYxRIHwLS8pUuhjFVs6/ZZhIVWyxVKBBIRXnbQATBNS+8ynI4tBzkEACv+chlUVIKE/5cRGsWmlKfIzudc3APLQSlg3E2OCyVRc1kpU3DgBmKoQsWtlBcswjPu+nfTYtBL+GQdgOf16GCZW6pXlBCqWSgqJypoOAFfXXDifbwFJLvi5HAjlnUsiIe6AjOp4iQNQHRlT2PlgJCUbbc2s+v/hFwFb/q7gm6HlYpBbmTV2sscQyy/qFBj2v0/cAdz/HGD7NDA1AUyOOU+1CwWOewNjKj6/O03F1/WuugW4/XJgfBoYmwDGdH7IxB5kLPIB+I8AfNwZgga5ck2fJbEm8V9zNWPfrasbgMuPAcuseJ8Exsb9FdBhA+7gaQNKB6TfcgCYug+YJT+g89aoBDMmIMScP12uTKj13uDv8zsKig/uJ1uQOsnojm3qB5P5ACRBH3OhPuzzRN9DV88HqQLEWPJnvTy5nm/t/1s4BcuSpRZtGAu4fi+wtBVYEyccrYwn6hF8/FkJp9bKxAKVFsn/d8urgbHPA9NPOEOWl4+2cfoFHhfVrJTZPKHSj5daOtup6JyCpPx8rHWRVQ7WOlrYCMx8AHIzlxkALPD9c0VB+x/A3E/+E2fUYHXdF7KTGwdvTd0AHP9r4PgWYG0KWBdfsBdsMPfPrKKsoL9XAVLAvO2fFylCE4cKliyrDVZNcGS1CqEYhWFiAZV+XntaURdTLmpCEbpchTYLqi6NrkMCzLzt5Xc4HwyJmmkJ+Z73jQOh4NWeDUZiK1K08f0EXt7CMHVawIk7gaVpYJUA9LI1Ao8bzKX1cytoFtFfpdCIWz7rgzHgth8u0oPGDwETc8CEMySUzFaikgtlpW1Ta8JqNba7lVljSRgW+Q6ZP/57WQvj6fydBjXfAjKbgEvMLwWCvhNoipgNpnQshlS4IGFWzIk6ylWwAz93ETLxGWB5ClidLABoIOS7pmGfG+33YAG5mND0G8F4678vkiPJczNOAC4UyQm2N8w94kirFlfIAl7i402d6dbPWWAtrsjOFiuCvAJZOQE0pHTFsckHYDeCvhNgipQNxoAz8/8IPr5nbvH2jd+6AThJAE4AqwTdZKEBLDoDgU4+YVkPHIBoPwareOt/BkDexsMFAFnbzNJYm0IDnVwbt4uyur1kwL7Tp+iZM/08WT9Rc7DHUmuYTr/x+6o4ovvu9fjBbgR9JyA+omwwxvZI5ULg6ZW7y9FPf9QNwKm/CgCcKABovh8ByVy/UCtJq2f+X1yYJPGU27lIZLbuEWDsWBHesZeDz4iURLUWa1TE47LqK12fZmd3OXidFctqm92KatVs1jAEsNv6sdymaa2g8+xUL4I+Pn2beCgbLGWHI/h8G3oTr45iK86POlbBU9yKI/AcfLR+ouQwH9BfmmbLlTHboOnZ/T9+5vaf8FUaAThXsFOQ45mUcgZCWTAxe0UQ+urYMO1/37GtxQmoLCBtRSp30LrDp2SFdzYMgk/R+VNwvwR9mwQDsaspGSfJgYDYNTbp8psCQFJxEIBkQjDrxt8dXCUIY+COH5MVFPi8SOn2n/QYLZ9Gp0cxANIP5IvAkzVzxivRydnKNzBa8fddM84b6AFyAriMF2pajk9kYIeoClXmA3AQgr5NQEHMBqMVFMNaIOayNRL/vhlH3RZwmhbQQUcAasrVVGz4EtjCu/3dfb/ID3PbT7uKAZ/MhcIC0vqRTo4W0IBIEAmEtFwCYqjW03bcmdwBYeoWgetUbrR8snrloiR2drpACf+rD4D9EvTVjIJu7HBV+781X752Czj9lwUZkTEgcPoNPp5Nv4oBRhCG6dd+1DkMz1JIhR1BAHJ7zwqO3fIRRM5tmDK5CoQKsSgOeBYBKFZULTqcB9r6Ni5KYmd3WKDUA0BlhNLM8EbT1QBXBU72aI5ZjUcVOxz7WLkQ8d37vsart/uA6RcPsxNSAtAXHDYNC1AEpf9s01kKwuBwGU7HgVt/1jtD1e60fgQigSe/j5bQp+KYpGB+H62jT7P8/ZypBIC8Dhcx8eY9wF015abhmnoAyJ5WSrKeNgKO9SHxnT/LSasJBim5lRjWBEIVeROInKL1qunybRawLgASdEy74qjaNNzJCgqEEYzBGvK0297mAFSHEIB6ebKDgc8J1ksmV8t29f1en6L5v6cxIK5iK6Xne/5jCTiFcTqVn/r/tWDPWwXnEPTVgIKUHU7ljASawKefIwDpMdRxRB+wFgD+RREDJABpwSzz2c0LfxczVjkVKwaYgtBBezu3SvX08d39P5uO3QKahXMQciourZRAGKZWar/YZ1xXRPe8wQr2AUK7TvbOVTZBXx4MBECRnConUBSFEXT6mf/TK+/qmzAF/0UBOPqBZYF52HrTFCw2LH5G8UCzJEko5nZqmRnPh/uCXmpnVpDTsIPPwKApOaSA2QLDLSHf97iPx0tpISLfz7bl4iFfsUsnj+HZWEeOYDCDnDmCvZkEgedcCjxGseIhBYt3vx049HwMLRh8gA9gh2MoH9ABqKJzxf0McO7XlSAU4HzhYYFq+5D7hwBu/98OQLlIBCKnW39SlXNY+nqeiq2dkQg+gnGPb9/ZpT0lq6MV5D96gLCwgDmCwbdnCvZmCgY/dxy47xxg5SWuUjigYPHFbwA+fyGwfr2rXrMvPB+vp3L3GHCgi9JOHQCkRVPppeUBigXLFymyejYTB4YsgfA20ofRAlYB0FfAlvQqP0/TsX5PLOB5DNu471cmIwiBaRww/F01J+mz2pqChxUMZvpJlmBv3iTocsW4dzewfhkGFix+2febXDAeJO/YEILBB7pU1g8LQFo98QASVGYNQ6DZfEG3fnEqrgLhbf/HV15anbkFNCvohWSl9XPQ2XTM/2s3I4DwPIZwBEDfgitH0Ek6N6x+u/iD7T4g/YdBBYPpWHEaHlqwNw+AQa4Yj54JrJO+aQDB4pt+oCAyYvOPEIQDCgYfeF/9U3AbAMX7ItAlVtAspKZdz5SOlvA2pstxjES3wJ+92NgAGK2gwi78QoVfEhBeQACqNNP1RdoA18kKdgDhxkUI/zKIYDCnqyzB3jwAJnLFOEIW7QEEi1/1Y21ywVglCAcQDD5/Efj7M4CVrZ5AKlkhxeQUaxBI4nvFzxf8IfCVC4HV7cC6ZEX5nen3VX1vAGLZq8ysrvHY+QBwbGfI2E6JpLvdX+ksthpUvQrmX/sVDGZVUJZgb17vJHLFeGQcmCdVb5+Cxd/5xjZ6QzzMLOQBBIOfTV2Ps4HFHQ7CLQUQmUrV0rgKJMsCjsxGAqTn/hzw0EXA4tnAyg5gbTYBorKkUyLnkB9YVhTxu+kT13iccwtwdBewPAus+b2ar9xJAafqfgMQO4dh+J9+BHe5gqZZZzYok1JJUcpaR6bp93P+W/N6p0KuGIemgEWKgPQhWPxdP7NBLhiHKYHUp2DwpZ8rLOD8tmJQVplOLxAqmbRKC6EDYC7/CeCRPcCx3cDSrsISrs04CPm9ArZk55UvKAspYLqPaPdR4/H0g8DRHcDyVr/X6VabLHk2PhjpPVZY7d5xwF6CwS9y/4LbbVyQsEKIufGiKe0p2JvXOx3kinF0GjhOQY+oNRtljji9TQPf/fOV9IZY4Gq4D8Hgy/4W+Oo2YG5bUUy04vUcLCqSJVRWszJbNgxSmMau+q/Ao2cBR88EjtOqbgNWWaTkIFz3YiWrF4nAjtN0nBZrJnU+/8PA3CxwfMYB6LUra3oglL0tps6wlVha5rLiqd9AdDfB4Je6U0s/0BXTDYh80Sr2FOzNA2AXuWIszABL1JaKWq1R+nwGeM17OsoFY5XTVw/B4Cv+Djg0C8xvLYqJCECzgsxmZlq9T8e0XGUyaUizavPtxoFr/zvw2BnA0Z3A8e2FVV3x6c4sqwObckeyhiXAowUSADhD1XhceDMwx37lvU4XxVN2n3rJIocygkr/Vbs7fe+EdBLcfaXXQ3IPWIrpBB6XlnwpR76jYG9e7/SQKzarxM7qJFj8mg8UarMV9IZ4gvNDD8HgKx8HDs8A8zMFAFnPYQPDl0Co2g4fpDZLqKCxT0/7fhJ4fCdwbFvhRiwRgJruCOwUgCpeCvUjZmEFxhfk9W969kW/B8xvKQqnVgg+B6CB0MsI7P70AHgmd2n1NQ0rv7FvALIlVYK73MnQCDLThSGZoDpuP7uCeuX5n8zroB5yxThGnQ0CgyBMxY63Aq/5aBHG6EBviDlOLV0Eg1+0AByZLgbl+HRxnZXJoqqttA4ODovlJZVuSjTQFtq+NwNPbHMAzramdVpVs6wEoPtdNg37wJfvsYiJP9NFqvHY+7vAwjSwxAeNxVO8T6aNVRRRlT6hHrJ0Ovaw0WDJCKng7g86APvNB9wg2JvXO33IFWOBgn8EIf2nRLD4tbe1+AU7yAWbZeskGHwVdd2mgAUCcNKnJgLQrZ/V9/Jnn5JUYmnAE3hCmv3+t8AWQfSzyPK/POOgJgDdsgqA5nfJAvLdLV+bz0kK4RqPZ3wQWJxyAPqDVhZQyQr7gyaXI9axWCFVAGLvRUhV46PgLnUWBs0HbBPszeudPuWKsTRZAJDTo8l8ui/42juL5veQC7ZpsEow+OrZQlqVVuH4FLA8WVyDAOTAmHUQCAWQkOlsQAwDt/9/AE8SgPQpNa07+AhAA6HLXbb5Xr4IaAMfv/eGvP5NzyYA7UGjBWTWjh40v9fSyscHLtaxhJWxFVsNNAXH1khw983+DYPmA5aCvXkdNIBccemfceooAfhAAcA+6A2xLuAGucxrzgKOMexDfV9OwbS2BB/BEoqLSrBoYGgJ3E8qLcIEsP/ngCPuUy7S13L3wb6PU56/m/Xj4Ps0TKCXQA6AXuNeZY3HMz5QANAeND1kwcKXlj6wOZQ+b7R+Pi0PD0DeFAfk590CKg8qncfoFzIRVWVqfFfBhgn25vXOAHLFWCDbvPstBsJZ4LUPt+jdesgFg+qVptWq11bg2gtgfuLiRAAgQeg+oEmsOujsXb5SsAoCIN/3vx04OlNM6Yv0tdx1MKvK7/TFjVmeCD4HQQQhf159eV7/pmc/kwCcKABoeYvR0oept7SEoZQ0Tr1lPuPQFlAtO0nyAcWhpzw/FSjFzGjLx+RGvxzoSeC1hwsA9klvaFN5FAy+9mJgnhaQ0qqagglADo4c9AhCDpJPl5ZommQ8738HcGw6AJBW1VecZv0cePwOY0/wl1lAD/WUCx0mMlDLr8bjmb+Dwp3x4nkDYbD0thIO5aNtfmDi/xGEeRawxhs7Vb/q2huABQJwAlhyy2cC0xoggjAAUCWWAkksOiIY978TmOOqeqqwqAx3WGhHK06n7TDwOcAV/iipPAKjwgrZm2o8nkUA0gKmAHTrp+o9MTrEYvq44o9pZIOtgmu8mafCV72YAKT/RwAy5OPOuVlAAk9Oule6xQRTWUKlWtkU/IvAHAHti5oIwDK841ZPFtCmdr0U8PaC9hVultd4CIC8P2Ztt/m5/qC11TJXlJDGGpfGAmYODgFoCxACkLpuWh3KCgqE8gNVZK4KtxgjJAB/2X1Krao1rfN7CWZf3LSBT4uAEIyWBVpipL7GgwA0AW25GbGENBTRx3rm1M2w39mmrFVwjTd1Kn+VAZALEE5LtIDyMWUBvbLNLGHgd5H/V07BDp7r3uU+Jadgn3ptxekA5MBri0/Wp4wzBjDbCnkMWMqVpE8GJwLQqvfc0pqbkVj5aNk7gbCxgJno30cAjntowtXNaZ1suvSKNhsYTcVKmw9F5xGE+94dfEoP+JYhD/8OC8eIPUsUHokVVKB78XszbzAF4Pvd//PCKVGIpOAr78mn4DZOm8YC1jco+w6EFTDDPJqeCEBZBa5GffVbhmQ8DtZW5TYOvPhXip0GTuu22lTMLSw+aAVl9QhEWjurI/aQiLJkTMLsX9R3r/ymZ73fp1+37OU9hunXSkdl7T3QrhKCtlCM59k2i5CMMSIAGdqxEIwrmptzTsCEut5yilKoJLAcxCq3fe8tLCDBFwO+tKjyuxSCMdYEXoeDrHcHvu0tTwLzmwHA4N/Gh6zNCqqeOSxC2lb8tQSiMwbuqXIqAcjFh2JjBKGJyShQG6ygVbfJegULWBYcMR3rvb6oCRaQwFPgl1M5rR7/JtBZOIZWx/0+s4QeY5z/1/X2tFnAxPpFELaVkdLN8MWGVr4pCBsfMHN8bmTKfCjZ0Ncp456/x58zLzfw6Qf3ABd8pUgEYmqk5bGyek06IQl1bkXScnlN/u8L24Gdx1qVq91KQvrpgwaAAw9p+wnXPw1YjyWMGtDo2ASOFGMU7SIEUzdYD34vMPmXwLbHgdkFYAtlGiim6DpxJtvq9LtlVr/aWKEB8pUXAOOPAFPzwBTZ9r04vdQ9Ts4pAZ3cd+yHxgfMAOH+vcA69/9Uxijmz/AerYpdar1lNSMYzV+vWY/34I8DY58Gph8Bpo8A04vAFEFIknIHohGVR62QhFRSYjQE6qFri2z3iaPAhHNNlxKwArI0Q1IAxwfReacbC5gBPp66/5ICgLKCtqnsrKKlrFZUFPKOr7osMTtdsxzqQRZ93Q1MPARMPllohUxRqkEK6gShOP0S+dY2hlRv99y+ovRi7IiTnTvLqmg6xDPYpqAUgRgsoR7MxgJmgHD/c4E1FXu7FRRbvEgd7evXWlbPpp9EgUjiJpwe6zwOMlvpAWCMVusJYPIYMOlSDZRpoGiNxKzbdIQlXONMWJbGtw4svdgz3El47nzTRvPrrKptAJT6ZrzfintvAJgx4vsvdQvIXK5VYF3sUZxmJUvgA1FOvwF8spKyBtM1y6EepI4LqVMedbEaTp0EIKdPKh5FqYYqSxgo2jgFr13j6XXHnOiSZOeBVSvyC8qC2r05FVvVw9cAMAOA178AWPMp2LJaaekiCPXExwHw660n1oB/niGQazwOkkSepbJ/72I1x4CJ+cJ6lYI1riccrVicUuVSmIW82pkwnHHVOKbFsOozQGkFkwewnBES37ABYMaAX39ZAUCCb82nIlo+40p2gNnvsoKunxH1xGwA/LOzdQOQJPIuHzV2GBg7Cow7AI0l33XfjOsv6oVodes6ISbBsAZMX+kJxU56KY7pkmFVhOciuvTzSt05v0+ryuT/9gDrZNe4wPMsI7VJP3GcP7gUOOdvgL1rRYJ0ZI5IV3hV4/wrGYPPU3/AiRhYusy2K7mU999P+z90ObD7LuBZK0Xdkeq9NSX2+o4HLwfWlopFCC0fgciBMtAFC8CGrYXVoVjnU2G7rTXrzh4kfRzLY1kyGwBoeiGcPiXb5eAzdXWnazPCSScb4j3xfmav8Cx2p50lAMW0VXINitCogl2r9H2dcctWwQxQsn6ZTBbMNtcgdKIbiZj51VcBk38CXPxoQcfCUg8pjcYgZScw/momACnXyr4leBhs5QaBTHpf7X8dMPYJYO8XgAv9e8QJlAZZq8D4xSuANYKPJQn0AR2AHKy1MACKe9nfFI6IEqduEWoHIJ9wlsVKLekoMCa9EAegSTYQeM4TXco2SEMkAHEbBZoj4bbYtdyCVrFqGXgTSxgXYTZeHLi9AMjEQRCVUXP/n4KUaaT8vVTi+Rtg7GPAuYcAWlMCgUVkQfJ2Q12yBvPXMwHImhDWwf81imsTiLSEvHZkr+jY/p9CQRD4p8DOBwteItai05qn31FFdfLlFxYWgCDUIkRkj/TxbCEi/89jfPZ3X2VqYSJQbmUNQY3HQT7hbv2sLoerVwKQHNEEoCsm8R4MhPRjXUGzVEIKIoY7yaEYuY4dgGb5RXruoSgtSCLLarkICQ9f6QNykGjFdjsIBaI4kGlt8W+Rg5g0HJ8qAp47nihAzFpuWtPIMBZJlASILvR6fQ0DCVbJCkJOJCqnk4pGpb99tZ8MopyiKDX7WWDiwYKXiEQOehCrgKh+eJQ+EQHo1Lby/zRlyf8TIbf9XS5ftIb8I92YugH4ay2pLusorl7dAoonWtMwQSTdOFuQSLTGHyIC8kxSIQuA4hwU2WUAoO4/grBcDbsfWElSzg+JCoYDoEGM1ixSkHzgF/wG7y8sIa3J7JPAGWuFJSQIaU01iJHUiYP4e33BrPOHmG/JMaOfTZVYRhwGav87vWKPJ9/rSH4IOGO5sITqg/ggxXs4TOaBAECbeoOsgfl+DrQShFqcEIhyyt0MbMusEkx76iAZXKM8BvXiZAGlF+KaIbaadYpem4aDgpJZQz6YJABV5VcHAJZ0v4FxX6KG5UpYs0KnqjhRuagEVgPglYAl9ciHf8mdUrJh0Qx9vkDBzBywfbkYQIGwahA/kglATsHsDzKA0BATiPyZ4NEDwIeoa/uFYKKXL2f24nQoIgd9R3yQCMTFqwIAfdBWI7+yB5ZLECYLETd85YJl+2YAUNosLIel/xYlu4Jsl6bhNhD6it4WJCvA2Zc4Gxo73RcgJeOqFmGR6rcChLYACyGojmEYdj59KnZ+tIQRhH9IvWA2hiREjDeRI9Cly7fMF3EtWRFawhQIf5IJwE56wdTIYdt7tp9ys1K8JnoJvod9Wn682PNkP4hUy1ndWgstAtBDMLYN5/6PAc5DGNoF4SrZfN+4+IhT8jqwg2Cp8ThIJ5vfSWBXAVCrWN9SMxDK+skaOvhoAc8me654pmUB3f0wyt+E8FyRAGmPlOEoiSD2qgvmAKoOm52fAuiTDHSyIRxx+lI0QxxADubfF5vffMmSajrWlP7nmZ3dSy+4r/ZzAUEHnQ8R70HsXlK+PgJsW68G4XYGZj0EY2EYATCAT6tAhmE0DXcC4faapcwMgAIfLb0kuzT9Qmw5uwAAIABJREFUSi+EfeALkSrpBovbrQDnkm8wAo8/E3i+CCsZ98NCpAp8cUekZyBavI4ET/TnaAk/RQCyAXy6uNSPA0i+wMeB6ePA5HFgZq2wpNGK3FUDAHmv3fSCe7afX8CB4UNEEOolVi/3obastNwJ9cO5BOBKEQMsAcifHWzRAigWWAlCn5K2bQYAOe1KMjTIR2kRUhKVS7IrLia0v+3xwHMZMCbYNP0KfG79zAqK5DxOvyEuWu6VD5KSHy2YAEQAfpaRdl5UkuUctIpBnCIIl4psD03FtIIP1ADAlBuJM47EqqUX3LX9kSBQcuuyftK78xUkHyQ+RLqHZ3Fv1KcgLj5kAQ1s0Qo6IA1nHhNLQzA8ZxvBXuNx8DcS5UYpNnoYxsCnUIqvZo0F3wPTMa7Hv53HOJVbS/l+5bumX7d+5WLE44hxIRJB2NMCqj9ixwuE90svWCaIA6bAp959EKeWChAyA0PTOV2unGMQveCO7bfqHbcS4rJR7Ewqnw5AWhLuImg2uFQAXAVs8RGmntW4+g2hB3P79L/EJ9zGvqrxOPibiVihAOgrWQOf/EBfBcsPNBBqW9Hv6zzGqFzmoXz3B9AePgXiq6bgiv4YOB9QHS8AfpkAFMMjrWAcQA0iO9XJiQyAnos2vV7ESHOOQfWCO7Zf7F40mZFQScRKAYBaSU6vAVcTgN7xXHiUFpDTMK2dFh56912BTiDcvpkATIXzCL4g3WXTZ4jpGfjoF/oihL+fx+0yWUABLwIwtYKKIabgCzHQvi2ggBKn0McEQDaKT5cGkIOo6SuyYzEfjQB0EM5nZgAPoxe8of3sgSqCQM3jkdFLvpRvR13+7UVRuhUFSavNO6otwp88ZZ3+t4M6HLtch6OT9AG/q9cmtf//gV1JDYcnQ2zY6/YakfSrU+Pg1M45NqPt3IEtoM7WFHokyrWKkooglCMWLYjiUXMtK3g8Uzd1WL3gDe3vRRCoUEYCwGtYFxxqgA2E/jI20F5hhmQod98BHNnlxOTig1aGiDanO21yV4DygWuB8YeB6fnC9WEtiKVVKeE0ZGiXWczeJoWMIig5a9V5DA1ANoKDeDylZ9NSXxyAsiKawrQqmCv2HVf5e8aRoxfc1n7xs+khItAUvojvyWryxVcWJZksVSyZoQRA3dcAoHzax4Gj2wtu6FVKM7gMgti02jbV476oUJJs1j/AbA1mQ3Pm8eTRsoZDtR+xZKCiEKmMXTIeXHPGdhYArX8FwG4DGMEnAHIK4yvT58nWC2b73cexaZgWWaEKgU1gjNbPP7PvOYGsUSBkv3hBtmRWNzxjTk9RWktvxp6POj0vARjY9sWkFel8RWxegjIF4RjwAOnZWMPBTGjqvHmszxJOBUD3xyznL2bqROvoP3N3q84jG4C7M/PpcvMBef0cvV9k6hXv+2Yno5QfGArRbaCC0mWv2YtF3ecerNDhkNZIIsXQRv5dlTtGADJSz2gEE1EJQM//026HdIEZLC8B6A0tk0g1Ja8DuzJdphS82QBEZj5dbj7gxZN5er/IZI+67pscgE7QaDOUMyC0Wb8+gXjuR4F5J6YsaXnFhBoAGEVvUhb60jISgCQnoh/OLBgvIrL8v7DdFkEYM5dtNg97tvz5zJqzdfIBmJlPl5sP+DJP5xtW7xffnzeh7H+Z+3+RpkyWT1YxuURJYVtx6T0fCTocouQV85VkHRIGegEuEv/YKpkA/JceVmL8kv6t5/9pu62tfiPWcFQVEa0DZ9WcLJEPwMx8uvfnjT9IgZyj94t/ldeA/S9tMaGa9SNdmsIxbvVscVJ1GScoMt4UPwhAsmMZ0aXzQBsvdGRBjQz0FUpEJRAJQOq4KAnBdz+sfiPJ3bOYn8fsykyVWMfiN3BOzckS+QDMzKe7OW/88aqQzsfE5kH1fvGjeQ0wADodmVGwOeiMsUqHrGOnS4UFy9P/wAEojkEnI+IqOIJQNLgpCXhcmLAtD/D+kgQE235L93tj+YBqgTX9BiCeW/NedT4AmQ+YkU/3sbzxBymQuZhm8g1T+QbV+wWFdjKO/Te2mEFNlCb6gPF708VJ1TXHgKd91GnZpDfi1k/gM2vqU3DUnCuBmNQe3P9vw6pe229KOvB0K1k+ZS+rnrfM2AlA3JMZtah/EZKZT3drxuDz1O/yxAwu9JgJxr3lQfR+8aa8Buy/wdWQZAVl+ZzCrG3q9c/YrkmHy3IRYryAAqAkEBIlopJxNNUbER+fA/H+/+AAdP9PmS9dazicJybm7mlB8nR2dI1HvgVkOlZGPt2nM29GCamcGZjAwlQ+vvrV+8X/zGsAAUiLVPp/wd+zaTMFWw+/kAA0GQQnpCw5mDsAMIrcRB5mC/+MAffTwgfwKY2KfmCZ6ZIkUShrxXxBX4yYaV8Hzmcn13jUA8CMfDqWYeQcSkhVOl8U6uxH7xekrsg49h8oiCENgC5TUG5vKxxT8f2aRtOtcAKQ1s8soPuOVUIwpchNlEEIOyNSIrrvv3hwnckWIZPZsnbcDyzTpvg3lU8mpZQqozyfK74aj3wAKh1LgrsD5tMxiz/nkGD1sHq/YNFOxkEAcuW7oqmXlisuQOT7VV2jwi/kTgj1RkoZhBje8Z83SCAEEJZW0C3gff8tADCt4VASaWIBK0HI9q8BF5yUAMzIp8tNx5Jg9bB6v/jdDPSRns0BWIZeUitIo9IhHmhXTvzCPQddccnZ76U1V/IvC4SBCFyg26DFNg7c++Mhhb6qiCikT7WVUmr6lYn2nRKyrdZ51GMBlZIc07GUBdMjny6XCiUmpA6j94vMZbgBMFo552pu27PXAqXTyAUQcitOQjAm9xX0N9pIwIPmSCmH5QuPqER0L4kDYgp9zOUL6fYxkbZcFceyAreAF3GlV+NRDwAz8uksnT3jiILVSmpWNlhMze+k94vMZfgGAPJeHDjpCrgM01Tdry9OzvmYAzAqLVWIwEShwzbRwwSEn+MqP6bQK5tZlWyhjCCCsC19Xv7gOnBRbgp7cu/5AOyVjqVMmA75dJZ9nHF0yohWNlhMxKnS+0XmMtwAmFq4imnYbrEqNJPc+9kfd62RKh0On8qV9hXZ9askEPgAfI56ziocUgVbzGT28lEtRMoKtg7lBHtznfZNA+CQ+XQWM8k4uglWK/NLYKzS+8U9GReXD0g/Tyvh4Ne17Yb4Zbr6g6y7/aNWcoPpjKRTsJIags5IJwkEAv6en05S6GUBfRWsUExZyVZVQCQwrgN7Wfdd41GPBczIp8ODeXfTSbBa6YYxlY8/p3q/udc3C+jTbtvqt2oadnB2m4oNgMn0W0p+hYWHWbwg9yU/0Kb9EIy+5y2hiCit4UgKyTeAkN8Valk4Le/ldlONRz4AWWBRM6fdIPfHstw/G+SE5rMnVQ/kA5AkLHS0ak7V7reXfhgACaBqDtD3e/nmc5k9kA/A80JReq+U38zGVp3ObJo/BvAOD3dtwiWar9zEHsgHIGlFubqSx7+Jja36anLLcDvvgwA+NDpDfILv+qlzuXwAXuSjrkKemlO2e3U1uWUYnL8dwB/5e2apca9LNv+vsQfyAUheX4VguB+mzIsaG9ntqxhF4Xbe3QD+n7/uHLAW9wQ1tblMRQ/UA0CaHC7plXEh+q4T0OWcfhleYTSHBK0EH/mi+fcRuKQn4I6fWpeoB4AevCz3HOOm9yb3F5mBlZBNclYCj1aRfyfrbgPCTR6AzK+vD4CyglX7jpmN7HY66d1E0ctdIrEEE4wEIMlam+Pk7YF6AMj7EwAVbU82vTerCwhAXopJN9zVI+AYrOeULLZgErY2x8nZA/kAJGWr0naUWdFpy2cT+oCWjpdjLFxE5UzYIBBpEUX5nLnlvAktb76SPVAfAOUHpiAMm96bsVtCAMaKALICMyxDq6cXfycA+b/mOLl6oF4AiqBRIEzBp7/X2Af0+fi1XIioMIlAI+AIPIGPmeROWV3j1Zuvyu2B+gHoFfZiDS2lC0LiY52WUADkQoTTMH1BFSYRdHoRfKSu5v9qrizMHYPT+vx6ARhSuDcAzzmDo5ZGHT1PAKYMwQxME2jiSo/gEwBrrq+u41ZOy++oD4BaCcsXTPiSI3ey8s4KGoG8QwCMFM+0ggQhLR0BF19SXuD/ayakz7uR0/TsMcxg3SjfqWNA0hsrga/ojaq/8WPcC+YIk4Ke4CMSuB2XVht1Oj8zIfXlU8BtU8DhmYRXWdfrdF1fgr3+S8At48CD04DVjXQSDO70PTUnaJ5uOCwsIIFHSSFy1pKPWCDsZxCpw8UVgKSPxLXM937OzxxAljzcPAbcswU4Qh4V3UN8mKoeKm/bu78IfKJQa8VD48CylHQiL3O3/qg5Rf30BKACMtJXjXKQcfBSK8Dfqc3KVCwuN2VFGRnm/yKZtq4Re5ifyQQgM2A+BeB3GHaZBo5MAIue0l7Kt3cC4xhw+5eL7TuCkJk1jBtyerbUfYG5ExjZ/pqrxE5fAOrOq5SmowVIrRp1IyT2R6+fg0bgVYG4CsyZe2UsaiOGKXr4Sfp9k8CxCYAFSKyvXeY1o1BxQux91yMtfsHPutgnnyUuUvhc0ZsgUXib+nVkq6+ZKaABIHsgVZnuwD9sVo66rrR4ImdhLGSQ8zPL/JgBQxeU1ouWkO9PTgDzbgmXxrzMkatl3keivfG5x4r4IRcz5BfkO5vEZ0kgpIfBZ8yKjlL17syy0tMNcOn9dl4Fy6dLFabj1Mpvow9Ify+I4Nlo9Xt+ZqU9VdJpqZh4QDDyxUyYOYJwHDg+DhgI/WUVZl7aSEt93+GO9Ia2iuZKOfA7lhp9JpvAVy61w2mOwO5hmCgMHC1H9O24gu6UD9jP+ZmbtLRaSsei9SL4XDPbAEh/kGQ/pSUcc0lbApFWb67lQUhpVnLBsoKqqZclFMmUtrxPcwxl3X7vOCAtYLSCcugFQmqhdssH7HU+RznjiOlYXA8wqkOfkItTAom+oKygca4ES8jY+N3z7fSG4hfUtp3ihUHruVSsFy1iRvNP+1N7A5BdJACmVpAgZPhGOyCigEjlPLudn7kvFtOxuB4g6OjD8UWLRkCZFRwrLCEXJQQhp2K+37lQeBCRX1A7KPQto1prFEmSYn2mB9EAsO+kYfk8KQhZF8yjVz5gp/MztyOUjiW9bCUhEBhKRCCgSis45uQ/PhX/xfFWMgOnWu2gxB0TF/o0kEZ/kCDM1Ts+3RHYnwVUL6XhDFrAswfIB6w6P1MrTulY0sum1VICglKwCEACqvQFCUK3gHcsFQCM/ILayqP1k9JshVqrncMalOYYvgcGAyCvIwuod8YBJQmZpmGJeyRwkGw4n8jJOJQNw3idLFhMRNB0SgASTJyKoy/4ieXCeFfJBUeV2SoAclFyR0bbm1OHTUiN0/DTAwD7zQeM52dqj8VsGEkVE2jKetG7AEhQ0frJAv6RC0trC1skl+IWlNinGLbSaZg7Mc0xfA8MbgF1LQV1z08A2G8+oM7PVF9Ms2GUE0gQyp+Lwu2yagLgR9ZaYpkSypQ6a6Q2DCqzpkvietXIFdoZfuieGmcOD0DeP0HEbBhNwYPmA/L8zJQsATAKnguEqS+XTqkE4YfWWwCUFZTksYAYwZfIBeN9Tw0cjOwu8gDIZqsoSSvhEeQDiiGYFoyWiSDRypWgi69UP5sc5fIcquSCNeXqe2X9ZAHfM7Khe2pcOB+AT41+aO5iRD3QAHBEHd9ctuiBBoANEkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cvAFgg4GR9kADwJF2f3PxBoANBkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cfOxqYJ2au9RdPtdp/khoEOlglDYT39V1PzQFXLsMXAlgt9PCxJKPbufyf8/KHIPfBPAZABf79Xc5XQ0ZQ1Q7360NbxoHrlsDvs5ZRsgo0une06by6X1mZvtP99PNAp4F4LsBXA5gjw8EGTeqaGF4QhzQF80CX7cAvGIdeDYAfhdZ2sTKUcVrpE7nd31N5gj8e2dIo2osk7NZpMdK0Z19tv+bJ4F9K8D1ACj8yfNSikHeg+5Z969m57Y/8/ZP+dPLKZhP/rcA+AYAF7g1oRUhEMUzFMt6eSJfX78b2DkPfM0i8GIAX+uWlAMppreUUErn8p2gzTl+2flg/sDbTkvIOik+CP20//mzwAXzwDcCuNTPJeFXpEpM6QEjIHm/zTF8D7T5gATYNQCe69aAloRTGulfBESBSYNyxR5g/Bhw7hKwZwl4vk9LnM5JmsBzUyDGAX3B8G23Mz/g9BuUa/0IiutfMkj7zwKmngAuXSvOpUvAWYBtF4BTnspIj/O8zPaf7qdvWITw6eZA0JLQEhKEGgxZhUj/dz3NzSKwbR44exnYvVKcy+mM5Km0JhxInUtrGkmzCPicg3W5LMGkQiZZTm9xS9Z3+4m2o8C5c4X15pTKW2Lb+fCx7WLtjYxzqiql29Icw/dA5SqYf6RTTilg+lYCIXmICKQ4IK9wxfSJY8AZK8CuFWDnanEua9ZTAMsaCog3Dt92O/MvnRGBtGwkqKRmMEkqCaa+2k+0LQDTh4rP88UHj74kF1WaATo9QHQ7mmP4HugYhtEKj4PB6ZQ+FS0hQahpldPya1kXTOqNY8DscgG+HavAttUCvBxInitrkgL4lcO33c7spBdM3kAuSnq2nx9gQfAh4JyVwvrxwel2z3p4aMlzH6DM2z/lT+8aB+Q/OT4EEqckWQSBkGD6EQKQnDCLwBSnYgcf32fXioGUFawC4esyu7CXXnDP9tOCsyD4KLB1rmgvX7zfbu2WG/Jtme0/3U/vKxBNAMoi0KcjkATCN3HOEr3UAjDrwOP71rXixYEkeKMFlSX8ocwR6KUXTJ7AaNE2tF8WfA4Ye7Kw1mwvX/yZn+eKnvcrfzC6IK/ObP/pfnpfAGQnySoISBqUXyAASS1AK0JfagWYcRDOrAF66TxZQU7jBOEbM0egH71gcgXSFZAV54NQtj9YcNIpbONCyh8Ygi8CVospApDuB63g92W2/3Q/vW8AsqM4gLIKBBIH8bcJwMCNMX68BTqBb8s6sGWtsIA6jwDk662ZI9CvXjA5A6NVa2t/IAicnC/aGV+8T74IQPm/AmGuBc+8/VP+9IEAyLslAKMV/LgAyIUInfnjwPQqMOOgI/DstQ5Mr7UAqMF8V2YXDqoXXNl+EQQ6N9v29aKdesUpWJZbAPyPme0/3U8fGIDssDid/pUASCvCaXgJmFguAEfgEXT27gDkuwaUg/nbmSMwjF7whvbLhSDL5TwwvdRqo9oqHzACkCB8U2b7T/fThwIgO01T1IMCoAZxGRhbKoAXQUcQTjkI+a4B5e5FzjGsXvCG9gdqrLGFYrpVG/UuHzBOw2/LaXxzbh43DKeoJwlAHqLndSs4udoCoIBHQE45EPk3DuitmYOQoxdctp8+rFwIWsGFYiFFoLGNchcEQC6e+OJC5J2Z7T/dTx/aApYdJ37AyJK/DIwvFxYvWr0IwEn/H1Opco5sveDUhSAAF4HJpQJkWixp6k2n4IYfMGf0amDHev2I8+l4/UbvNw8Eozw72wJePOJ8und7EkKj9ztKGA1/7WwATo44n45pWI3e7/AAGPWZ2QBkYHCU+XTMfGGQmYIxjd7vqOE0+PXzATjifDrKtTZ6v4MP/MlyRj4AR5xPF+VaqZLJF1UzKdPV6P2eLDDr3I58AI44n07ZMARbo/d78gMubWE+AEecT8e9YOn2Uheu0fs9tUCYD8AR59MpG6bR+z21gKfW1gNAz4geRT5dTEZo9H5PPRDmAzBmRM8BJzqfLiYjSKKr0fs9dYBYDwBHmE9XtRfMsIz04aQZ1+j9npygrA+Akqs8wfl0BCCTWRq935MTYL1aVQ8Ao1zlAnAi8+kEQGZTNXq/vYb75Pt/fQAcUT5dBGCj93vyAaxXi+oDoFLyT3A+3Rcavd9eY3xS/z8fgCQX/LPR3SOzkon55jg1eyAfgD8M4NcAPD6aDmBtB1e4NMDNcer1QD4AbwbwxwDe4UvRE9wHZG1gNSXDLlwLNcep1QP5APxzzwj9IIAPnXhT5ORc5EYCA9HNcWr1QD4AmRH6FQBMTSZZH98ZmD5Bh5g1FopiNns1x6nTA/kAvAfAEwDudnI+EvQxPfkEzYfaCXRSBluQMB7YHKdGD+QDsBNBH/9+AkAobqTADGK7Inw1x8nfA/kA7EXQt8kgrGAGMfBxZ5Cv5ji5eyAfgL0I+r68uR0QmUFoBQU8vfNvzXHy9kA9AORoMw7CdGQCjoUZDwL4kv/+8OZ1gJhBIjGDgMh3vTavBc035/RAPgD7JegjODfhiMwgoqeJwNPPTaB6Ezq/hq+sB4AcXeXEP+ZhGVo9vRimIQD5v5oPAZCupgDI9wg8/qz/1Xz55usyeyAfgMMQ9GU2Op4eAchpOIJQQEz/VuPlm6/K7IH6AMjgGzdl6QtyX5jWjpQFevF3lq3xf6yhrOlIAUgQCojR8gmE+l9Nl2++JrMH6gEgR5UA5KYsc+AZmCbQCDi+IvgEQMob1XBEAHIajgBMLV+0kCdws6aGu3zqfkV9AGTwjftg3JRVVRAtHQEXX/wbAcoXP5d5CID8GoJKvqDAloKOoIz/y7x8c3pmD4zhaqwjRzCYyQg5gr2ZgsFTLweWr8XQgsXjbwLWrnNtMlKgNoLBmZAa7PTCAuYIBlMvlWQswwr2UlUw45jdDSx8HbD+Ctd+HVCwePKbgJV9aASDM8Yg59TWFDysYPBtmYK91IbNOHaPA/M7gUXKXA4hWDz79cA8+W0aweCMURj+1HYfcBjBYO54MMY3tGDv8I3nmWSHOzYOLJ0LLPGXAQWLz3oB8MQUsEa16kYwOG8whjh74yJkUMFgbsNlCfYO0epwissVY34bsHw2sEIRkAEEi/dcU0SP5qhF1ggG5w3GEGdXr4L5134Fg4kAjuDQgr1DtDqcUmZETwArZwAru4BVqsv0KVh8/o3F4v0QXZBGMDhvMIY4u3MYhv95Zh+Cu1xBcxuOU/HfeDIq5cv7FuwdotXhlCBXjOXZAnyrO4BV6in0IVh8wStLuWCsUAyvEQzOG5ABz+4eB+R/ewnu/kOP/3G/l4kJTERlljQtIot2e53/IwO2OPl4FLtcnCqAp9cahT56CBZf+LpSLhhz1N5qBIPzBmTAs/sLRHcTDKbiNHdBGGymOC/3hglEvgjAnoK9A7Y4+XgiV4zVWYDAs/etxaubYPFFP1QkLtCIP8neaASD8wZkwLP7AyC/tJNg8L/xLNBu+YBdBXsHbHEFAINcMVamgdWZAoRrfPdXm8KitLdmgYveWAq+2y7iMqfuRjA4b1AGOLt/APJLqwSD3+y5T1yI0AoSbAxMMzGV1o8/My2ro2DvAK2t+GgiV4zj4+3AIwDXtwBrVJeuECze+9aW4Dut4PxkIhYsdetGMDhvoDqcPRgA+SWp4O4veQ5Uv/mAGwR78+6rQq4Yq9PAOi2fA4/vBkKudKVU7VZw77uKvWFuZbtcMNb5v0YwOG9g+jx7cADyi6Pg7gccgIxlcA5TKhaD01yYKBmVFpBZMfx/m2Bvny3t8LGqoqTliZbVI+gMgHwnMAnCIFi897cLAAZ6QyzFzzSCwXkD1OPs4QDIL5XgLmk5JHk/SD5gKdibd38VcsVYGmuBTaAzEHLHgyCcaokB7/1IkUET5IKxwF5pBIPzBqbPs4cHIC/AaeqvPL9pmHxAE+zts6VdLCD/lcgVY3UyWD0Bj1ZwqgCggXA7sPfWAoAJvaEtZBrB4Lyx6efsPADyCtmCvf00s/NnOsgVY3m8BTRZPZuGBUACdArY+5lWDqGmYbIrLHEx0ggG5w1OH2fnA7CPizQfaXqgUw80AGywMdIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0BxoAjrT7m4s3AGwwMNIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0B8ZYNMbkX+ZekpuIiOQrPar+xs889HJg6jZg5jAwvVZ8B+ll9PlO5/Fc/o+ECjnHfi8zYfkvM5ulmp4qJXVqx5deD4zfAkw/CGxdAZgoHfuh131QkaI5hu8Bs4Ds8B0AWLnIRGCBsFfn87JffDMwdjOw5R5g8giwZa34jnQQUwDo99wBfJ4TM7COiNdlaj2rA/jeV/vfDeATAP4UGH8I2Lrc6gc+SHqY4oMZ74VSKM0xfA+UUzB/oBUUCKMl6zSQ/PsXqZD5KQC/A0w/DEwcAcYXgYnVwppwADuBkefnCim90FmBWXwnK87Uen53BI8sbuwqaz9p5UgnQhBS+ZN1zE8Ak0utviCwq8DI8/nx5hi+Bzb4gJzKZE1SEFZZgS9/2pWR/gTAJ4HJQ8DEMWB8ARhfBsaWCwDquwQKvvNgHXvOcYVbPFJPkw+dDxC/W1Y4tWDpw/Rlgo4lo1T4/KxTihDNpJwj3/UiMLXemprjffC7eWpzDN8DlYsQDiKtVxzEqoHkyX9HRizW+nIgaQnvAiaeBCbmC0s4tgSMu2rMePAR9X252jXklaTFU108K0MHav/nvJ6ZxVVk9OI7GR2IZoGQNc/HgbHgIwqILIVujuF7oOMqWFawCoRxkfEIB5CWgkREBCNf9wMTc8A4QciBWyoGz16rwNgaML5eWKpctYZL3N+TWLX0gvtuP0HHk2n16JDyxXmVhfU0qywbJbr5GSuXKxA/sV5Y9UYWdnjwyS3qKKgarWA69Wg6fjQOIK0HadnIjPVFB+AiME4AuiUkCFnESyCSkmAuU7Cjm15wX+2X2ifBRn9A8mKcW2UFjULVQcgVDl80u40SYh763FfvquhLCxitoBYUsoJfjXKttByMq9CKcHn4sPuCbgXNJwyWkECcz5Q376UX3LNncZyQAAADEklEQVT9fFgIJs6lBBwtn3Tt6FpIz4RWnuQxPh2XIGzm4CwQ9hWIFgBTK0gQHiIAJddKq0ELQh+KL1qUR4MvSEsoENIKrgALHNiMox+94K7tl9qnnMio8MSf6SNwGpYVjCDk/Ju7isq496fCqX0BkDeqlWwKwic1gAQSpzGREnFgREz01eALLvvq2Kfi45m6cf3qBXdsfxRbJMho8dimqOhEK8cXQRr9QVpvPoDNMXQP9A3ACELFxPh+jACkP0fLIKFCCRRqKuPUdqjlC9o07JZwKVNHeBC94DQcZO0XAAkmgotAk9QYrR9f/BvByYfMSATDVMzwTXMM3QMDAVAgVHCZ7/MaQK4QZUHiNCbBQlqUw74YCb7gcmYkelC9YFlwvVv7RRAorTuBkECU9asCID9/x9B935zYzyKkqpfiNHxcA0gLQgvBAaPVkCqm3h2AtC5m/RyEqzw/4xhGL3hD++MmslgqCbgUfLKAcRrmTlBzDN0DA1tAXUlWcDm1IOIIJAjlT/Fd05lbFQFwjdtgGcewesFt7Rc/Gx8iWjUCjGCT1YvWT1MwgUqrf3NG45tTbcu0aximWx9xENcEQHGbcYAEwtSXSqY0gnCdgeuMI0cvuGx/FUGgFhwEYrR80QckWN+X0fjm1DwAWv8RgJFilJZBznz0pQg+AZAAlVWh1GvGka0XzB0cCQi30aSGVa9AF62fLOB7MhrfnJoPwPER59Px+o3e76mL5Kwp2G57xPl0kxc3er+nLvyKtLmhfUC78RHn081ONnq/pzcAR5xPR9mRRu/31IVgvgUccT4dNaobvd/TGYAjzqejumqj93s6A3DE+XRUg2VSCjdaGr3fUw+I+VPwiPPpqJjO8J1Nw43e7ymHwHoAKMFd7QErAeEE5NNJMb3R+z3lsGcNzgfgiPPpomJ6o/d76oGwPgCOKJ8uKqY3er+nKwBHmE+noqRG7/fUA199U/AI8+kEwEbv93QHoEhZTnA+nYqSGr3fBoAtaiqBUImdm5hPJwA2er+nKwBHnE+X1gUzSbnR+z11wPj/AeCpPDD3t7rvAAAAAElFTkSuQmCC",zre="uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}",Bre="varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",yd={LOW:0,MEDIUM:1,HIGH:2,ULTRA:3},f6=class extends Ds{constructor({preset:e=yd.MEDIUM,edgeDetectionMode:t=Lg.COLOR,predicationMode:i=Ine.DISABLED}={}){super("SMAAEffect",zre,{vertexShader:Bre,blendFunction:Yt.NORMAL,attributes:Ts.CONVOLUTION|Ts.DEPTH,uniforms:new Map([["weightMap",new Te(null)]])});let n,r;arguments.length>1&&(n=arguments[0],r=arguments[1],arguments.length>2&&(e=arguments[2]),arguments.length>3&&(t=arguments[3])),this.renderTargetEdges=new pi(1,1,{minFilter:Rt,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetEdges.texture.name="SMAA.Edges",this.renderTargetWeights=this.renderTargetEdges.clone(),this.renderTargetWeights.texture.name="SMAA.Weights",this.uniforms.get("weightMap").value=this.renderTargetWeights.texture,this.clearPass=new m_(!0,!1,!1),this.clearPass.overrideClearColor=new pt(0),this.clearPass.overrideClearAlpha=1,this.edgeDetectionPass=new Ps(new One),this.edgeDetectionMaterial.edgeDetectionMode=t,this.edgeDetectionMaterial.predicationMode=i,this.weightsPass=new Ps(new Vne);let a=new fM;a.onLoad=()=>{let s=new gn(n);s.name="SMAA.Search",s.magFilter=Ci,s.minFilter=Ci,s.generateMipmaps=!1,s.needsUpdate=!0,s.flipY=!0,this.weightsMaterial.searchTexture=s;let o=new gn(r);o.name="SMAA.Area",o.magFilter=Rt,o.minFilter=Rt,o.generateMipmaps=!1,o.needsUpdate=!0,o.flipY=!1,this.weightsMaterial.areaTexture=o,this.dispatchEvent({type:"load"})},a.itemStart("search"),a.itemStart("area"),n!==void 0&&r!==void 0?(a.itemEnd("search"),a.itemEnd("area")):typeof Image<"u"&&(n=new Image,r=new Image,n.addEventListener("load",()=>a.itemEnd("search")),r.addEventListener("load",()=>a.itemEnd("area")),n.src=c6,r.src=u6),this.applyPreset(e)}get edgesTexture(){return this.renderTargetEdges.texture}getEdgesTexture(){return this.edgesTexture}get weightsTexture(){return this.renderTargetWeights.texture}getWeightsTexture(){return this.weightsTexture}get edgeDetectionMaterial(){return this.edgeDetectionPass.fullscreenMaterial}get colorEdgesMaterial(){return this.edgeDetectionMaterial}getEdgeDetectionMaterial(){return this.edgeDetectionMaterial}get weightsMaterial(){return this.weightsPass.fullscreenMaterial}getWeightsMaterial(){return this.weightsMaterial}setEdgeDetectionThreshold(e){this.edgeDetectionMaterial.edgeDetectionThreshold=e}setOrthogonalSearchSteps(e){this.weightsMaterial.orthogonalSearchSteps=e}applyPreset(e){let t=this.edgeDetectionMaterial,i=this.weightsMaterial;switch(e){case yd.LOW:t.edgeDetectionThreshold=.15,i.orthogonalSearchSteps=4,i.diagonalDetection=!1,i.cornerDetection=!1;break;case yd.MEDIUM:t.edgeDetectionThreshold=.1,i.orthogonalSearchSteps=8,i.diagonalDetection=!1,i.cornerDetection=!1;break;case yd.HIGH:t.edgeDetectionThreshold=.1,i.orthogonalSearchSteps=16,i.diagonalSearchSteps=8,i.cornerRounding=25,i.diagonalDetection=!0,i.cornerDetection=!0;break;case yd.ULTRA:t.edgeDetectionThreshold=.05,i.orthogonalSearchSteps=32,i.diagonalSearchSteps=16,i.cornerRounding=25,i.diagonalDetection=!0,i.cornerDetection=!0;break}}setDepthTexture(e,t=Ys){this.edgeDetectionMaterial.depthBuffer=e,this.edgeDetectionMaterial.depthPacking=t}update(e,t,i){this.clearPass.render(e,this.renderTargetEdges),this.edgeDetectionPass.render(e,t,this.renderTargetEdges),this.weightsPass.render(e,this.renderTargetEdges,this.renderTargetWeights)}setSize(e,t){this.edgeDetectionMaterial.setSize(e,t),this.weightsMaterial.setSize(e,t),this.renderTargetEdges.setSize(e,t),this.renderTargetWeights.setSize(e,t)}dispose(){let{searchTexture:e,areaTexture:t}=this.weightsMaterial;e!==null&&t!==null&&(e.dispose(),t.dispose()),super.dispose()}static get searchImageDataURL(){return c6}static get areaImageDataURL(){return u6}},Lre=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#if VIGNETTE_TECHNIQUE == 0
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#else
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#endif
outputColor=vec4(color,inputColor.a);}`,Ng={DEFAULT:0,ESKIL:1},Fre=class extends Ds{constructor({blendFunction:e=Yt.NORMAL,technique:t=Ng.DEFAULT,eskil:i=!1,offset:n=.5,darkness:r=.5}={}){super("VignetteEffect",Lre,{blendFunction:e,defines:new Map([["VIGNETTE_TECHNIQUE",t.toFixed(0)]]),uniforms:new Map([["offset",new Te(n)],["darkness",new Te(r)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(e){this.technique!==e&&(this.defines.set("VIGNETTE_TECHNIQUE",e.toFixed(0)),this.setChanged())}get eskil(){return this.technique===Ng.ESKIL}set eskil(e){this.technique=e?Ng.ESKIL:Ng.DEFAULT}getTechnique(){return this.technique}setTechnique(e){this.technique=e}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}get darkness(){return this.uniforms.get("darkness").value}set darkness(e){this.uniforms.get("darkness").value=e}getDarkness(){return this.darkness}setDarkness(e){this.darkness=e}},gpe=[new Float32Array(3),new Float32Array(3)],vpe=[new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3)],ype=[[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1])]],bpe=[new Float32Array(2),new Float32Array(2)],_pe=new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),wpe=[new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125])],xpe=[new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4])],kpe=[new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3])],Spe=new Map([[ir(0,0,0,0),new Float32Array([0,0,0,0])],[ir(0,0,0,1),new Float32Array([0,0,0,1])],[ir(0,0,1,0),new Float32Array([0,0,1,0])],[ir(0,0,1,1),new Float32Array([0,0,1,1])],[ir(0,1,0,0),new Float32Array([0,1,0,0])],[ir(0,1,0,1),new Float32Array([0,1,0,1])],[ir(0,1,1,0),new Float32Array([0,1,1,0])],[ir(0,1,1,1),new Float32Array([0,1,1,1])],[ir(1,0,0,0),new Float32Array([1,0,0,0])],[ir(1,0,0,1),new Float32Array([1,0,0,1])],[ir(1,0,1,0),new Float32Array([1,0,1,0])],[ir(1,0,1,1),new Float32Array([1,0,1,1])],[ir(1,1,0,0),new Float32Array([1,1,0,0])],[ir(1,1,0,1),new Float32Array([1,1,0,1])],[ir(1,1,1,0),new Float32Array([1,1,1,0])],[ir(1,1,1,1),new Float32Array([1,1,1,1])]]);function b_(e,t,i){return e+(t-e)*i}function ir(e,t,i,n){let r=b_(e,t,.75),a=b_(i,n,1-.25);return b_(r,a,1-.125)}var bo=class{constructor(e,t){this.enabled=!1,this.effect=new e(t),Object.defineProperty(this,"opacity",{enumerable:!0,set(i){this.effect.blendMode.opacity.value=i},get(){return this.effect.blendMode.opacity.value}}),Object.defineProperty(this,"blendFunction",{enumerable:!0,set(i){this.effect.blendMode.setBlendFunction(Number(i))},get(){return this.effect.blendMode.blendFunction}}),this.blendFunction=Yt.NORMAL}},Nre=class extends bo{constructor(){super(_re),this.blendFunction=Yt.SCREEN}set intensity(e){this.effect.intensity=e}get intensity(){return this.effect.intensity}set luminanceThreshold(e){this.effect.luminanceMaterial.threshold=e}get luminanceThreshold(){return this.effect.luminanceMaterial.threshold}set luminanceSmoothing(e){this.effect.luminanceMaterial.smoothing=e}get luminanceSmoothing(){return this.effect.luminanceMaterial.smoothing}set blurScale(e){this.effect.blurPass.scale=e}get blurScale(){return this.effect.blurPass.scale}set kernelSize(e){this.effect.blurPass.kernelSize=e}get kernelSize(){return this.effect.blurPass.kernelSize}},Ure=class extends bo{constructor(){super(xre)}set contrast(e){this.effect.uniforms.get("contrast").value=e}get contrast(){return this.effect.uniforms.get("contrast").value}set brightness(e){this.effect.uniforms.get("brightness").value=e}get brightness(){return this.effect.uniforms.get("brightness").value}},Vre=class extends bo{constructor(){super(Cre),this.effect.offset=new Y(.01,.01)}set offset(e){this.effect.offset.set(e[0]/1e3,e[1]/1e3)}get offset(){return[this.effect.offset.x*1e3,this.effect.offset.y*1e3]}},Hre=class extends bo{constructor(){super(Sre)}},Gre=class extends bo{constructor(){super(Pre),this._hue=0}set hue(e){this._hue=e,this.effect.setHue(e)}get hue(){return this._hue}set saturation(e){this.effect.uniforms.get("saturation").value=e}get saturation(){return this.effect.uniforms.get("saturation").value}},Wre=class extends bo{constructor(){super(Ore),this.blendFunction=Yt.OVERLAY}},qre=class extends bo{constructor(){super(Fre)}get eskil(){return this.effect.eskil}set eskil(e){this.effect.eskil=e}get darkness(){return this.effect.uniforms.get("darkness").value}set darkness(e){this.effect.uniforms.get("darkness").value=e}get offset(){return this.effect.uniforms.get("offset").value}set offset(e){this.effect.uniforms.get("offset").value=e}},Zre=class extends bo{constructor(e){super(Tre,e)}set focalLength(e){this.effect.circleOfConfusionMaterial.uniforms.focalLength.value=e}get focalLength(){return this.effect.circleOfConfusionMaterial.uniforms.focalLength.value}set focusDistance(e){this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value=e}get focusDistance(){return this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value}get bokehScale(){return this.effect.bokehScale}set bokehScale(e){this.effect.bokehScale=e}},Yre=class extends bo{constructor(){super(Rre)}get granularity(){return this.effect.getGranularity()}set granularity(e){this.effect.setGranularity(e)}},Xre=`#define GLSLIFY 1
varying vec2 vUv;varying vec2 vTexCoords[9];uniform vec2 resolution;void main(){vUv=position.xy*0.5+0.5;vec2 texelSize=vec2(1.0)/resolution;vTexCoords[0]=vUv+vec2(-texelSize.x,-texelSize.y);vTexCoords[1]=vUv+vec2(0.0,-texelSize.y);vTexCoords[2]=vUv+vec2(texelSize.x,-texelSize.y);vTexCoords[3]=vUv+vec2(-texelSize.x,0.0);vTexCoords[4]=vUv+vec2(0.0,0.0);vTexCoords[5]=vUv+vec2(texelSize.x,0.0);vTexCoords[6]=vUv+vec2(-texelSize.x,texelSize.y);vTexCoords[7]=vUv+vec2(0.0,texelSize.y);vTexCoords[8]=vUv+vec2(texelSize.x,texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}`,Kre=`#define GLSLIFY 1
#include <common>
varying vec2 vUv;varying vec2 vTexCoords[9];uniform sampler2D inputBuffer;uniform sampler2D historyBuffer;uniform sampler2D velocityBuffer;uniform sampler2D depthBuffer;uniform vec2 resolution;
#define USE_YCOCG
#define USE_CATMULL_ROM
const float feedback_min=0.5;const float feedback_max=0.95;vec3 RGB_YCoCg(vec3 c){return vec3(c.x/4.0+c.y/2.0+c.z/4.0,c.x/2.0-c.z/2.0,-c.x/4.0+c.y/2.0-c.z/4.0);}vec3 YCoCg_RGB(vec3 c){return clamp(vec3(c.x+c.y-c.z,c.x+c.z,c.x-c.y-c.z),vec3(0.0),vec3(1.0));}vec4 sample_color(sampler2D tex,vec2 uv){
#ifdef USE_YCOCG
vec4 c=texture(tex,uv);return vec4(RGB_YCoCg(c.rgb),c.a);
#else
return texture(tex,uv);
#endif
}vec4 sample_catmull_rom(sampler2D tex,vec2 uv,vec2 texSize){vec2 samplePos=uv*texSize;vec2 texPos1=floor(samplePos-0.5)+0.5;vec2 f=samplePos-texPos1;vec2 w0=f*(-0.5+f*(1.0-0.5*f));vec2 w1=1.0+f*f*(-2.5+1.5*f);vec2 w2=f*(0.5+f*(2.0-1.5*f));vec2 w3=f*f*(-0.5+0.5*f);vec2 w12=w1+w2;vec2 offset12=w2/(w1+w2);vec2 texPos0=texPos1-1.0;vec2 texPos3=texPos1+2.0;vec2 texPos12=texPos1+offset12;texPos0/=texSize;texPos3/=texSize;texPos12/=texSize;vec4 result=vec4(0.0);result+=texture2D(tex,vec2(texPos12.x,texPos0.y))*w12.x*w0.y;result+=texture2D(tex,vec2(texPos0.x,texPos12.y))*w0.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos12.y))*w12.x*w12.y;result+=texture2D(tex,vec2(texPos3.x,texPos12.y))*w3.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos3.y))*w12.x*w3.y;return result;}vec3 choose_motion_vector(){
#ifdef CHOOSE_LONGEST_MOTION_VECTOR
float longest=-1.0;vec3 v_choose=vec3(-1.0);for(int i=0;i<9;i++){vec3 v=texture2D(velocityBuffer,vTexCoords[i]).rgb;float l=length(v.xy);if(l>longest){longest=l;v_choose=v;}}return v_choose;
#else
float closest_depth=1000.0;vec2 closest_uv_offset=vec2(0.0);for(int i=0;i<9;i++){float neighbor_depth=texture2D(depthBuffer,vTexCoords[i]).r;if(neighbor_depth<closest_depth){closest_uv_offset=vTexCoords[i];closest_depth=neighbor_depth;}}return texture2D(velocityBuffer,closest_uv_offset).rgb;
#endif
}vec4 clipAabb(vec3 aabb_min,vec3 aabb_max,vec4 avg,vec4 input_texel){const float FLT_EPS=0.00000001;vec3 p_clip=0.5*(aabb_max+aabb_min);vec3 e_clip=0.5*(aabb_max-aabb_min)+FLT_EPS;vec4 v_clip=input_texel-vec4(p_clip,avg.w);vec3 v_unit=v_clip.xyz/e_clip;vec3 a_unit=abs(v_unit);float ma_unit=max(a_unit.x,max(a_unit.y,a_unit.z));if(ma_unit>1.0){return vec4(p_clip,avg.w)+v_clip/ma_unit;}else{return input_texel;}}vec3 clip_aabb_variance(in vec3 cOld,in vec3 cNew,in vec3 centre,in vec3 halfSize){if(all(lessThanEqual(abs(cOld-centre),halfSize))){return cOld;}vec3 dir=(cNew-cOld);vec3 near=centre-sign(dir)*halfSize;vec3 tAll=(near-cOld)/dir;float t=0.0001;for(int i=0;i<3;i++){if(tAll[i]>=0.0&&tAll[i]<t){t=tAll[i];}}if(t>=0.0001){return cOld;}return cOld+dir*t;}void main(){vec3 v=choose_motion_vector();vec2 velocity=v.rg;vec2 previousPixelPos=vUv-velocity;vec4 currentColor=sample_color(inputBuffer,vUv);
#ifdef USE_CATMULL_ROM
vec4 previousColor=sample_catmull_rom(historyBuffer,previousPixelPos,resolution);
#else
vec4 previousColor=sample_color(historyBuffer,previousPixelPos);
#endif
#ifdef USE_YCOCG
previousColor=vec4(RGB_YCoCg(previousColor.rgb),previousColor.a);
#endif
vec4 ctl=sample_color(inputBuffer,vTexCoords[0]);vec4 ctc=sample_color(inputBuffer,vTexCoords[1]);vec4 ctr=sample_color(inputBuffer,vTexCoords[2]);vec4 cml=sample_color(inputBuffer,vTexCoords[3]);vec4 cmc=sample_color(inputBuffer,vTexCoords[4]);vec4 cmr=sample_color(inputBuffer,vTexCoords[5]);vec4 cbl=sample_color(inputBuffer,vTexCoords[6]);vec4 cbc=sample_color(inputBuffer,vTexCoords[7]);vec4 cbr=sample_color(inputBuffer,vTexCoords[8]);vec4 cmin=min(ctl,min(ctc,min(ctr,min(cml,min(cmc,min(cmr,min(cbl,min(cbc,cbr))))))));vec4 cmax=max(ctl,max(ctc,max(ctr,max(cml,max(cmc,max(cmr,max(cbl,max(cbc,cbr))))))));vec4 cavg=(ctl+ctc+ctr+cml+cmc+cmr+cbl+cbc+cbr)/9.0;vec4 cmin5=min(ctc,min(cml,min(cmc,min(cmr,cbc))));vec4 cmax5=max(ctc,max(cml,max(cmc,max(cmr,cbc))));vec4 cavg5=(ctc+cml+cmc+cmr+cbc)/5.0;cmin=0.5*(cmin+cmin5);cmax=0.5*(cmax+cmax5);cavg=0.5*(cavg+cavg5);
#ifdef USE_YCOCG
vec2 chroma_extent=vec2(0.25*0.5*(cmax.r-cmin.r));vec2 chroma_center=currentColor.gb;cmin.yz=chroma_center-chroma_extent;cmax.yz=chroma_center+chroma_extent;cavg.yz=chroma_center;
#endif
vec4 previousColorClipped=clamp(previousColor,cmin,cmax);
#ifdef LUMINANCE_DIFFERENCES
#ifdef USE_YCOCG
float lum0=currentColor.r;float lum1=previousColorClipped.r;
#else
float lum0=luminance(currentColor.rgb);float lum1=luminance(previousColorClipped.rgb);
#endif
float unbiased_diff=abs(lum0-lum1)/max(lum0,max(lum1,0.2));float unbiased_weight=1.0-unbiased_diff;float unbiased_weight_sqr=unbiased_weight*unbiased_weight;float k_feedback=mix(feedback_min,feedback_max,unbiased_weight_sqr);vec4 result=mix(currentColor,previousColorClipped,vec4(k_feedback));
#else
const float alpha=0.1;vec4 result=mix(currentColor,previousColorClipped,1.0-alpha);
#endif
#ifdef USE_YCOCG
gl_FragColor=vec4(YCoCg_RGB(result.rgb).rgb,result.a);
#else
gl_FragColor=result;
#endif
}`,Qre=`#define GLSLIFY 1
varying vec2 vUv;void main(){gl_Position=vec4(position.xy,1.0,1.0);vUv=position.xy*0.5+0.5;}`,Jre=`#define GLSLIFY 1
layout(location=1)out vec4 gVelocity;varying vec2 vUv;uniform sampler2D inputBuffer;void main(){gl_FragColor=texture2D(inputBuffer,vUv);gVelocity=vec4(0.0);}`,__=class extends _i{constructor(){super({name:"PassthroughMaterial",uniforms:{inputBuffer:new Te(null)},blending:sn,depthWrite:!1,depthTest:!1,vertexShader:Qre,fragmentShader:Jre})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}},$re=class extends kr{constructor(){super("TAAResolvePass"),this.MRTCompatible=!0,this.needsSwap=!1,this.passThroughMaterial=new __,this.resolutionVector=new Y,this.resolveMaterial=new _i({name:"TAAResolveMaterial",uniforms:{inputBuffer:new Te(null),historyBuffer:new Te(null),velocityBuffer:new Te(null),depthBuffer:new Te(null),resolution:new Te(new Y)},blending:sn,depthWrite:!1,depthTest:!1,vertexShader:Xre,fragmentShader:Kre}),this.historyRenderTarget=new pi(1024,1024,{minFilter:Rt,stencilBuffer:!1,depthBuffer:!1}),this.historyRenderTarget.texture.name="TAA.History",this.resultRenderTarget=new pi(1024,1024,{minFilter:Rt,stencilBuffer:!1,depthBuffer:!1}),this.resultRenderTarget.texture.name="TAA.Output"}setSize(e,t){this.historyRenderTarget.setSize(e,t),this.resultRenderTarget.setSize(e,t)}render(e,t){this.fullscreenMaterial=this.resolveMaterial,this.resolveMaterial.uniforms.inputBuffer.value=t.texture[0],this.resolveMaterial.uniforms.velocityBuffer.value=t.texture[1],this.resolveMaterial.uniforms.depthBuffer.value=t.depthTexture,this.resolveMaterial.uniforms.historyBuffer.value=this.historyRenderTarget.texture,this.resolveMaterial.uniforms.resolution.value.set(t.width,t.height),e.setRenderTarget(this.resultRenderTarget),e.render(this.scene,this.camera),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(this.historyRenderTarget),e.render(this.scene,this.camera);let i=this.renderToScreen?null:t;this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(i),e.render(this.scene,this.camera)}dispose(){this.resultRenderTarget.dispose(),this.historyRenderTarget.dispose(),this.resolveMaterial.dispose(),this.passThroughMaterial.dispose()}},eae=class extends kr{constructor(e,t,i){super("TransmissionPass",void 0,t),this.MRTCompatible=!0,this.depthPass=new o6(e,t,{renderTarget:i.transmissionDepthTarget}),this.passThroughMaterial=new __,this.splineScene=e,this.needsSwap=!1}updatePasses(e){this.passThroughMaterial=new __,this.depthPass=new o6(this.splineScene,this.camera,{renderTarget:e.transmissionDepthTarget})}setCamera(e){this.camera=e}setScene(e){this.splineScene=e}render(e,t,i){let n=this.camera.layers.mask,r=e;r.setRenderTarget(r.transmissionRenderTarget),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=t.texture[0],r.clear(),r.render(this.scene,this.camera),this.camera.layers.disable(3),this.depthPass.render(e,t,i),r.shadowMap.needsUpdate=!1,r.shadowMap.autoUpdate=!1;let a=this.renderToScreen?null:t;this.camera.layers.set(3),e.setRenderTarget(a),e.render(this.splineScene,this.camera),this.camera.layers.mask=n}},h6=new Lo,tae=new _i({transparent:!0,vertexShader:`
        void main() {
            gl_Position = vec4(0.0);
        }
    `,fragmentShader:`
        layout(location = 1) out vec4 gVelocity;

        void main() {
            gl_FragColor = vec4(0.0);
			gVelocity = vec4(0.0);
        }
    `}),w_=class extends kr{constructor(e,t,i){super("OpaquePass",t!=null?t:h6,i),this.MRTCompatible=!0,this.hasTransmissionPass=!1,this.clear=!0,this.clearColorOnly=!1,this.clearDepth=!1,this.needsSwap=!1,this.originalMaterials=new Map,this.MRTCompatible=e}set splatViewer(e){this._splatViewer=e}get splatViewer(){return this._splatViewer}setCamera(e){this.camera=e}setScene(e){this.scene=e!=null?e:h6}getScene(){return this.scene}render(e,t){var n;this.camera.layers.enable(3),this.hasTransmissionPass&&(this.originalMaterials.clear(),this.scene.traverse(r=>{r.layers.isEnabled(3)&&r instanceof Ir&&(this.originalMaterials.set(r.id,r.material),r.material=tae)}),e.shadowMap.needsUpdate=!0,e.shadowMap.autoUpdate=!0),this.camera.layers.enable(8);let i=this.renderToScreen?null:t;if(e.setRenderTarget(i),this.clearColorOnly&&e.clear(!0,!1,!0),this.clear&&e.clear(),((n=this._splatViewer)==null?void 0:n.splatRenderingInitialized)===!0){let r=e.autoClear;e.autoClear=!1,e.render(this.scene,this.camera),this._splatViewer.update(),e.render(this._splatViewer.splatMesh,this.camera),e.autoClear=r}else e.render(this.scene,this.camera);this.clearDepth&&e.clear(!1,!0,!1),this.hasTransmissionPass&&this.originalMaterials.forEach((r,a)=>{let s=this.scene.getObjectById(a);s&&(s.material=r)})}},iae=class{constructor(e,{depthBuffer:t=!0,stencilBuffer:i=!1,multisampling:n=0,frameBufferType:r=0}={}){this.renderer=e,this.helperStartIndex=0,this.copyPass=new h_,this.depthTexture=null,this.timer=new yre,this._width=1,this._height=1,this.passes=[],this.helperPasses=[],this.autoRenderToScreen=!0,this.inputBuffer=this.createBuffer(t,i,r,n,!0,"input buffer mrt"),this.inputBufferSingle=this.createBuffer(t,i,r,n,!1," input buffer single"),this.inputBufferSingle.texture.dispose(),this.inputBufferSingle.depthTexture.dispose(),this.inputBufferSingle.texture=this.inputBuffer.texture[0],this.inputBufferSingle.depthTexture=this.inputBuffer.depthTexture,this.outputBuffer=this.inputBuffer.clone(),this.outputBuffer.name="output buffer mrt",this.outputBufferSingle=this.createBuffer(t,i,r,n,!1,"output buffer single"),this.outputBufferSingle.texture.dispose(),this.outputBufferSingle.depthTexture.dispose(),this.outputBufferSingle.texture=this.outputBuffer.texture[0],this.outputBufferSingle.depthTexture=this.outputBuffer.depthTexture,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){let t=this.inputBuffer,i=this.multisampling;i>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):i!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("creating new input buffer"),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e,!0,"new input buffer"),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){var t,i;if(this.renderer=e,e!==null){let n=e.getSize(new Y),r=(i=(t=e.getContext().getContextAttributes())==null?void 0:t.alpha)!=null?i:!1,a=this.inputBuffer.texture[0].type;a===Yn&&e.outputEncoding===Dt&&(this.inputBuffer.texture[0].encoding=Dt,this.outputBuffer.texture[0].encoding=Dt,this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("doing some kinda dispose??")),e.autoClear=!1,this.setSize(n.width,n.height,!1);for(let s of this.passes)s.initialize(e,r,a)}}replaceRenderer(e,t=!0){let i=this.renderer,n=i.domElement.parentNode;return this.setRenderer(e),t&&n!==null&&(n.removeChild(i.domElement),n.appendChild(e.domElement)),i}createDepthTexture(){let e=this.depthTexture=new pc(this._width,this._height);return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=Nl,e.type=Ll):e.type=Zs,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(let e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,i,n,r,a){let s=this.renderer,o=s===null?new Y:s.getDrawingBufferSize(new Y),l={minFilter:Rt,magFilter:Rt,wrapS:Zi,wrapT:Zi,stencilBuffer:t,depthBuffer:e},d;return n>0?(d=new pi(o.width,o.height,l),d.samples=n):(r?(d=new YL(o.width,o.height,2,l),d.texture[1].type=Bl):d=new pi(o.width,o.height,l),d.depthTexture=new pc(2048,2048),d.depthTexture.type=lr),i===Yn&&s!==null&&s.outputEncoding===Dt&&(Array.isArray(d.texture)?d.texture.forEach(u=>u.encoding=Dt):d.texture.encoding=Dt),Array.isArray(d.texture)?d.texture.forEach((u,c)=>{u.name=`EffectComposer.Buffer ${r} ${c}`,u.generateMipmaps=!1}):(d.texture.name=`EffectComposer.Buffer ${r}`,d.texture.generateMipmaps=!1),d.name=a,d}addPass(e,t){var o,l;let i=this.passes,n=this.renderer,r=n.getDrawingBufferSize(new Y),a=(l=(o=n.getContext().getContextAttributes())==null?void 0:o.alpha)!=null?l:!1,s;if(e.MRTCompatible&&(s=this.inputBuffer.texture[0].type),e.MRTCompatible||(s=this.inputBuffer.texture.type),e.setRenderer(n),e.setSize(r.width,r.height),e.initialize(n,a,s),this.autoRenderToScreen&&(i.length>0&&(i[i.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),t!==void 0?i.splice(t,0,e):i.push(e),this.autoRenderToScreen&&(i[i.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){let d=this.createDepthTexture();for(e of i)e.setDepthTexture(d)}else e.setDepthTexture(this.depthTexture)}setHelperStartIndex(e){this.helperStartIndex=e}removePass(e){let t=this.passes,i=t.indexOf(e);if(i!==-1&&t.splice(i,1).length>0){if(this.depthTexture!==null){let n=(r,a)=>r||a.needsDepthTexture;t.reduce(n,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&i===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0))}}removeAllPasses(){let e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){let t=this.renderer,i=this.copyPass,n=this.inputBuffer,r=this.outputBuffer,a=this.inputBufferSingle,s=this.outputBufferSingle,o=!1,l,d,u,c;e===void 0&&(e=this.timer.update().getDelta());for(let f of this.passes)f.enabled&&(f.MRTCompatible?f.render(t,n,r,e,o):f.render(t,a,s,e,o),f.needsSwap&&(o&&(i.renderToScreen=f.renderToScreen,l=t.getContext(),d=t.state.buffers.stencil,d.setFunc(l.NOTEQUAL,1,4294967295),i.render(t,n,r,e,o),d.setFunc(l.EQUAL,1,4294967295)),u=n,c=a,n=r,a=s,r=u,s=c),f instanceof gre?o=!0:f instanceof Wne&&(o=!1))}setSize(e,t,i){let n=this.renderer;if(this._width=e,this._height=t,e===void 0||t===void 0){let a=n.getSize(new Y);e=a.width,t=a.height}n.setSize(e,t,i);let r=n.getDrawingBufferSize(new Y);this.inputBuffer.setSize(r.width,r.height),this.outputBuffer.setSize(r.width,r.height),this.inputBufferSingle.setSize(r.width,r.height),this.outputBufferSingle.setSize(r.width,r.height);for(let a of this.passes)a.setSize(r.width,r.height)}reset(){let e=this.timer.isAutoResetEnabled();this.dispose(),this.autoRenderToScreen=!0,this.timer.setAutoResetEnabled(e)}dispose(){for(let e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.inputBufferSingle!==null&&this.inputBufferSingle.dispose(),this.outputBufferSingle!==null&&this.outputBufferSingle.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},nae=new _i({name:"CombineMaterial",uniforms:{inputBufferA:new Te(null),inputBufferB:new Te(null)},blending:sn,depthWrite:!1,depthTest:!1,vertexShader:`
varying vec2 vUv;
void main() {
    gl_Position = vec4(position.xy, 1.0, 1.0);
    vUv = position.xy * 0.5 + 0.5;
}
`,fragmentShader:`
    varying vec2 vUv;
    uniform sampler2D inputBufferA;
    uniform sampler2D inputBufferB;

    // TODO: Why do we need these when postpro of framemode is enabled???
    layout(location = 1) out vec4 gVelocity;

    void main() {
	vec4 resA = texture2D(inputBufferA, vUv);
	vec4 resB = texture2D(inputBufferB, vUv);
    float a = resA.a + resB.a * ( 1.0 - resA.a );

	vec4 res;
	res.rgb =  resA.rgb + (resB.rgb * (1.0 - resA.a));
	res.a = resA.a + resB.a * (1.0 - resA.a);
	gl_FragColor = res;
    gVelocity = vec4(0.0);
    }
`}),rae=class extends kr{constructor(e){super("HelperPass",void 0,e),this.MRTCompatible=!1,this.fullscreenMaterial=nae,this.helperPass=new w_(!1,void 0,this.camera),this.helperPass.hasTransmissionPass=!1,this.helperPass.clear=!1,this.helperPass.renderToScreen=!1,this.helperPassOnTop=new w_(!1,void 0,this.camera),this.helperPassOnTop.hasTransmissionPass=!1,this.helperPassOnTop.clear=!1,this.helperPassOnTop.renderToScreen=!1;let t=new f6({preset:yd.LOW,edgeDetectionMode:Lg.COLOR});this.effectPass=new Fg(this.camera,t),this.rt=new pi(10,10,{minFilter:Rt,magFilter:Rt,wrapS:Zi,wrapT:Zi,depthBuffer:!0})}setSize(e,t){this.rt.setSize(e,t),this.effectPass.setSize(e,t)}set sceneHelpers(e){this.helperPass.setScene(e)}get sceneHelpers(){return this.helperPass.getScene()}set sceneHelpersOnTop(e){this.helperPassOnTop.setScene(e)}get sceneHelpersOnTop(){return this.helperPassOnTop.getScene()}setCamera(e){this.helperPass.setCamera(e),this.helperPassOnTop.setCamera(e)}initialize(e,t,i){super.initialize(e,t,i),this.effectPass.initialize(e,t,i)}dispose(){super.dispose(),this.rt.dispose(),this.effectPass.dispose()}render(e,t,i){this.rt.depthTexture=t.depthTexture;let n=e.getClearAlpha();e.setClearAlpha(0),this.helperPass.clearDepth=!0,this.helperPass.clearColorOnly=!0,this.helperPass.render(e,this.rt),this.helperPassOnTop.render(e,this.rt),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.rt,i),this.fullscreenMaterial.uniforms.inputBufferA.value=i.texture,this.fullscreenMaterial.uniforms.inputBufferB.value=t.texture,e.setClearAlpha(n),e.setRenderTarget(null),e.clear(),e.render(this.scene,this.camera)}},aae=`#define GLSLIFY 1
#include <skinning_pars_vertex>
out vec3 n;void main(){
#include <beginnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
#include <defaultnormal_vertex>
#include <begin_vertex>
#include <skinning_vertex>
vec4 view_space=viewMatrix*modelMatrix*vec4(transformed,1.0);gl_Position=projectionMatrix*view_space;n=normalize(transformedNormal);}`,sae=`#define GLSLIFY 1
in vec3 n;void main(){gl_FragColor=vec4(n,1.0);}`,oae=`#define GLSLIFY 1
out vec2 v_uv;void main(){v_uv=uv;gl_Position=vec4(position.xy,1.0,1.0);}`,lae=`#define GLSLIFY 1
in vec2 v_uv;const float pi=3.14159265;const float num_steps=4.0;const float num_directions=4.0;uniform float near;uniform float far;uniform float fov;uniform vec4 proj_info;uniform bool is_ortho;uniform vec2 resolution;uniform float radius_of_influence;uniform float radius_in_screen_space;uniform float exponent;uniform vec3 ao_color;uniform float bias;uniform sampler2D texture_depth;uniform sampler2D texture_normals;uniform sampler2D texture_blue_noise;uniform sampler2D texture_blue_noise_in_disk;uniform sampler2D texture_color_pass;uniform int frame_index;uniform bool fog_enabled;uniform float fog_near;uniform float fog_far;vec3 uv_to_view_space(vec2 uv,float eye_z){return vec3((uv*proj_info.xy+proj_info.zw)*(is_ortho ? 1.0 : eye_z),eye_z);}float linearize_depth(float depth_sampled){float z=is_ortho ? depth_sampled : depth_sampled*2.0-1.0;return mix((2.0*near*far)/(far+near-z*(far-near)),near+z*(far-near),float(is_ortho));}vec3 get_view_position(vec2 uv_coords){float linear_depth=linearize_depth(texture(texture_depth,uv_coords).x);return uv_to_view_space(uv_coords,linear_depth);}vec3 min_difference(vec3 p,vec3 right,vec3 left){vec3 v1=right-p;vec3 v2=p-left;return(dot(v1,v1)<dot(v2,v2))? v1 : v2;}vec3 rebuild_normal(in vec2 uv,in vec3 p){vec2 one_over_resolution=1.0/resolution;vec3 r=get_view_position(uv+vec2(one_over_resolution.x,0));vec3 l=get_view_position(uv+vec2(-one_over_resolution.x,0));vec3 t=get_view_position(uv+vec2(0,one_over_resolution.y));vec3 b=get_view_position(uv+vec2(0,-one_over_resolution.y));return normalize(cross(min_difference(p,r,l),min_difference(p,t,b)));}float falloff(float distance_squared){float neg_inv_r2=-1.0/(radius_of_influence*radius_of_influence);return distance_squared*neg_inv_r2+1.0;}float ao_contribution(vec3 P,vec3 N,vec3 S){vec3 to_sample=S-P;float norm_squared=dot(to_sample,to_sample);float norm=sqrt(norm_squared);float cos_theta=dot(N,to_sample)/norm;return clamp(cos_theta-bias,0.0,1.0)*clamp(falloff(norm_squared),0.0,1.0);}float compute_ambient_occlusion(vec2 uv,float radius_in_screen_space,vec3 pc,vec3 view_space_n){vec2 one_over_resolution=1.0/resolution;ivec2 noise_uv=ivec2(int(mod(gl_FragCoord.x,128.0)),int(mod(gl_FragCoord.y,128.0)));float noise=texelFetch(texture_blue_noise,noise_uv,0).r;noise=fract(noise+0.61803398875*float(frame_index));float theta=noise*2.0*3.1415;float ct=cos(theta);float st=sin(theta);float step_size=radius_in_screen_space/(num_steps+1.0);const float angle_step=2.0*pi/num_directions;float contribution=0.0;for(int i=0;i<int(num_directions);++i){float current_pixel=step_size+1.0;for(int j=0;j<int(num_steps);++j){int index=i*int(num_steps)+j;vec2 blue_noise_sample=texelFetch(texture_blue_noise_in_disk,ivec2(index,0),0).rg;vec2 disk_point;disk_point.x=blue_noise_sample.x*ct-blue_noise_sample.y*st;disk_point.y=blue_noise_sample.x*st+blue_noise_sample.y*ct;vec2 sample_direction=disk_point;vec2 snapped_uv=round(current_pixel*sample_direction)*one_over_resolution+uv;vec3 ps=get_view_position(snapped_uv);current_pixel+=step_size;contribution+=ao_contribution(pc,view_space_n,ps);}}float mult=1.0/(1.0-bias);contribution*=mult/(num_directions*num_steps);return clamp(1.0-contribution*2.0,0.0,1.0);}
#define USE_GBUFFER_NORMALS
void main(){vec3 view_space_p=get_view_position(v_uv);
#ifdef USE_GBUFFER_NORMALS
vec3 view_space_n=texture(texture_normals,v_uv).rgb;view_space_n.z*=-1.0;
#else
vec3 view_space_n=-rebuild_normal(v_uv,view_space_p);
#endif
float radius_ss=radius_in_screen_space/(is_ortho ? 1.0 : view_space_p.z);float ao=compute_ambient_occlusion(v_uv,radius_ss,view_space_p,view_space_n);float final=pow(ao,exponent);if(view_space_p.z>=far){final=1.0;}vec3 color=mix(ao_color,vec3(1.0),final);if(fog_enabled){float fog_factor=smoothstep(fog_near,fog_far,view_space_p.z);color=mix(color,vec3(1.0),fog_factor);}gl_FragColor=vec4(color,1.0);}`,dae=`#define GLSLIFY 1
out vec2 v_uv;void main(){gl_Position=vec4(position.xy,1.0,1.0);v_uv=uv;}`,cae=`#define GLSLIFY 1
in vec2 v_uv;uniform sampler2D texture_ao_lrez;uniform sampler2D texture_depth_lrez;uniform sampler2D texture_depth_hrez;uniform float near;uniform float far;float linearize_depth(float depth_sampled){float z=depth_sampled*2.0-1.0;return(2.0*near*far)/(far+near-z*(far-near));}vec2 nearest_depth_filter(in vec2 uv){vec2 resolution=vec2(textureSize(texture_depth_lrez,0));vec2 texel_size=1.0/resolution;vec2 offset=uv-0.5*texel_size;float d_hrez=texture(texture_depth_hrez,uv).r;float a=abs(d_hrez-texture(texture_depth_lrez,offset).r);float b=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,0.0)).r);float c=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(0.0,texel_size.y)).r);float d=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,texel_size.y)).r);float min_diff=min(a,min(b,min(c,d)));if(min_diff==a)return offset;if(min_diff==b)return offset+vec2(texel_size.x,0.0);if(min_diff==c)return offset+vec2(0.0,texel_size.y);if(min_diff==d)return offset+vec2(texel_size.x,texel_size.y);}void main(){
#ifdef DEBUG
float d_lrez=texture(texture_depth_lrez,v_uv).r;float d_hrez=texture(texture_depth_hrez,v_uv).r;float output_d=mix(linearize_depth(d_lrez)/far,linearize_depth(d_hrez)/far,step(0.5,v_uv.x));gl_FragColor=vec4(vec3(output_d),1.0);
#else
vec2 filtered_uv=nearest_depth_filter(v_uv);vec4 ao=texture(texture_ao_lrez,filtered_uv);gl_FragColor=vec4(ao.rgb,1.0);gl_FragColor=ao;
#endif
}`,gh=[[.478712,.875764],[-.337956,-.793959],[-.955259,-.028164],[.864527,.325689],[.209342,-.395657],[-.106779,.672585],[.156213,.235113],[-.413644,-.082856],[-.415667,.323909],[.141896,-.93998],[.954932,-.182516],[-.766184,.410799],[-.434912,-.458845],[.415242,-.078724],[.728335,-.491777],[-.058086,-.066401],[.20299,.686837],[-.808362,-.556402],[.507386,-.640839],[-.723494,-.22924],[.48974,.317826],[-.622663,.765301],[-.01064,.929347],[.663146,.647618],[-.096674,-.413835],[.525945,-.321063],[-.122533,.366019],[.195235,-.687983],[-.563203,.098748],[.418563,.561335],[-.378595,.800367],[.826922,.001024],[-.085372,-.766651],[-.92192,.183673],[-.590008,-.721799],[.167751,-.164393],[.032961,-.56253],[.6329,-.107059],[-.46408,.569669],[-.173676,-.958758],[-.242648,-.234303],[-.275362,.157163],[.382295,-.795131],[.562955,.115562],[.190586,.470121],[.770764,-.297576],[.237281,.93105],[-.666642,-.455871],[-.905649,-.298379],[.33952,.157829],[.701438,-.7041],[-.062758,.160346],[-.220674,.957141],[.642692,.432706],[-.77339,-.015272],[-.671467,.24688],[.158051,.062859],[.806009,.527232],[-.05762,-.247071],[.333436,-.51671],[-.550658,-.315773],[-.652078,.589846],[.008818,.530556],[-.210004,.519896]],uae=new _i({vertexShader:aae,fragmentShader:sae}),Ug=new _i({vertexShader:dae,fragmentShader:cae,uniforms:{texture_ao_lrez:new Te(null),texture_depth_lrez:new Te(null),texture_depth_hrez:new Te(null),near:new Te(null),far:new Te(null)}}),fae=class extends kr{constructor(e,t){super("AmbientOcclusionPass",void 0,t),this.fogEnabled=!1,this.fogNear=1,this.fogFar=1e3,this.frameIndex=0,this._runHalfRes=!0,this._width=1,this._height=1;let i=1024,n=1024;this.gBuffer=new pi(i,n,{type:lr,depthTexture:new pc(i,n),minFilter:Rt,magFilter:Rt}),this.depthBufferHighRes=new pi(i,n,{depthTexture:new pc(i,n)}),this.aoBuffer=new pi(i,n,{minFilter:Rt,magFilter:Rt}),this.splineScene=e,this.splineCamera=t;let r=new Float32Array(gh.length*2);for(let s=0;s<gh.length;s++){let o=s*2;r[o+0]=gh[s][0],r[o+1]=gh[s][1]}this.blueNoiseInDiskTexture=new Fo(r,gh.length,1,dp,lr),this.blueNoiseInDiskTexture.wrapS=qs,this.blueNoiseInDiskTexture.wrapT=qs,this.blueNoiseInDiskTexture.needsUpdate=!0,this.hbaoMaterial=new _i({vertexShader:oae,fragmentShader:lae,uniforms:{near:new Te(null),far:new Te(null),fov:new Te(null),proj_info:new Te(new Pt),is_ortho:new Te(!1),resolution:new Te(new Y),radius_of_influence:new Te(8),radius_in_screen_space:new Te(1),exponent:new Te(1),ao_color:new Te(new E),bias:new Te(.5),texture_depth:new Te(null),texture_normals:new Te(null),texture_blue_noise:new Te(null),texture_blue_noise_in_disk:new Te(this.blueNoiseInDiskTexture),frame_index:new Te(0),fog_enabled:new Te(!1),fog_near:new Te(1),fog_far:new Te(1e3)}}),this.radius=128,this.aoColor={r:0,g:0,b:0},this.bias=.5,this.hbaoMaterial.uniforms.texture_depth.value=this.gBuffer.depthTexture,this.hbaoMaterial.uniforms.texture_normals.value=this.gBuffer.texture,this.needsSwap=!0,this.aaBuffer=new pi(i,n,{minFilter:Rt,magFilter:Rt,wrapS:Zi,wrapT:Zi,depthBuffer:!1,type:lr});let a=new f6({preset:yd.ULTRA,edgeDetectionMode:Lg.COLOR});this.effectPass=new Fg(this.camera,a)}initialize(e,t,i){super.initialize(e,t,i),this.effectPass.initialize(e,t,i)}setBlueNoiseTexture(e){this.hbaoMaterial.uniforms.texture_blue_noise.value=e}setSize(e,t){this._width=e,this._height=t,this.depthBufferHighRes.setSize(e,t);let i=this._runHalfRes?.5:1,n=e*i,r=t*i;this.gBuffer.setSize(n,r),this.aoBuffer.setSize(n,r),this.hbaoMaterial.uniforms.resolution.value.set(n,r),this.aaBuffer.setSize(n,r),this.effectPass.setSize(n,r)}get runHalfRes(){return this._runHalfRes}set runHalfRes(e){this._runHalfRes=e,this.setSize(this._width,this._height)}setCamera(e){this.splineCamera=e}setScene(e){this.splineScene=e}render(e,t,i){this.splineScene.overrideMaterial=uae;let n=this.splineCamera.layers.mask;if(this.splineCamera.layers.set(5),e.setRenderTarget(this.gBuffer),e.clear(),e.render(this.splineScene,this.splineCamera),e.setRenderTarget(this.depthBufferHighRes),e.clear(),e.render(this.splineScene,this.splineCamera),this.splineScene.overrideMaterial=null,this.splineCamera.layers.mask=n,this.hbaoMaterial.uniforms.radius_of_influence.value=this.radius,this.hbaoMaterial.uniforms.ao_color.value.set(this.aoColor.r,this.aoColor.g,this.aoColor.b),this.hbaoMaterial.uniforms.bias.value=this.bias,this.hbaoMaterial.uniforms.fog_enabled.value=this.fogEnabled,this.hbaoMaterial.uniforms.fog_near.value=this.fogNear,this.hbaoMaterial.uniforms.fog_far.value=this.fogFar,this.hbaoMaterial.uniforms.frame_index.value=this.frameIndex,this.frameIndex++,this.splineCamera.isPerspectiveCamera){this.hbaoMaterial.uniforms.near.value=this.splineCamera.perspCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.perspCamera.far;let r=this.splineCamera.perspCamera.projectionMatrix.elements,a=2/r[0],s=2/r[5],o=-(1-r[8])/r[0],l=-(1+r[9])/r[5];this.hbaoMaterial.uniforms.proj_info.value.set(a,s,o,l);let d=this.splineCamera.perspCamera.fov*(Math.PI/180),u=this.hbaoMaterial.uniforms.resolution.value.y/(Math.tan(d*.5)*2),c=this.hbaoMaterial.uniforms.radius_of_influence.value*.5*u;this.hbaoMaterial.uniforms.radius_in_screen_space.value=c,this.hbaoMaterial.uniforms.is_ortho.value=!1}else{this.hbaoMaterial.uniforms.near.value=this.splineCamera.orthoCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.orthoCamera.far;let r=this.splineCamera.orthoCamera.projectionMatrix.elements,a=2/r[0],s=2/r[5],o=-(1+r[12])/r[0],l=-(1-r[13])/r[5];this.hbaoMaterial.uniforms.proj_info.value.set(a,s,o,l);let d=.5*(this.hbaoMaterial.uniforms.resolution.value.y/s),u=this.hbaoMaterial.uniforms.radius_of_influence.value*d;this.hbaoMaterial.uniforms.radius_in_screen_space.value=u,this.hbaoMaterial.uniforms.is_ortho.value=!0}this.runHalfRes?(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aoBuffer),e.clear(),e.render(this.scene,this.camera),this.fullscreenMaterial=Ug,Ug.uniforms.texture_ao_lrez.value=this.aoBuffer.texture,Ug.uniforms.texture_depth_lrez.value=this.gBuffer.depthTexture,Ug.uniforms.texture_depth_hrez.value=this.depthBufferHighRes.depthTexture,e.setRenderTarget(e.aoRenderTarget),e.clear(),e.render(this.scene,this.camera)):(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aaBuffer),e.clear(),e.render(this.scene,this.camera),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.aaBuffer,e.aoRenderTarget))}dispose(){this.gBuffer.dispose(),this.depthBufferHighRes.dispose(),this.aoBuffer.dispose()}},hae=`
varying vec2 vUv;
void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,pae=`
uniform sampler2D tInput;
uniform sampler2D tMap;
uniform vec2 resolution;
varying vec2 vUv;

uniform vec2 uResolution;
uniform vec2 uCoords;

// Draws a rectangle at center <st> with size <size>
float rectangle(vec2 st, vec2 size) {
    size = vec2(0.5) - size * 0.5;
    vec2 uv = vec2(step(size.x, st.x), step(size.y, st.y));
    uv *= vec2(step(size.x, 1.0 - st.x), step(size.y, 1.0 - st.y));

    return uv.x * uv.y;
}

uniform vec2 uSize;
uniform float uScale;
uniform float uDPR;
uniform float uCurrent;
uniform vec3 uSceneColor;

void main() {
    vec2 screenUv = gl_FragCoord.xy / uResolution.xy;
    screenUv *= 1.0 / uDPR;

    vec2 center = vec2(0.5, -0.5);
    vec2 outsideUv = screenUv;
    outsideUv += center;
    outsideUv -= uCoords.xy / uResolution.xy;
    outsideUv = (outsideUv - 0.5) + 0.5;
    outsideUv -= center;
    vec2 s = (uSize / uResolution) * uScale;
    float isOutside = 1.0 - rectangle(outsideUv, s);
    
    vec2 mid = vec2(0.5);
    vec2 insideUv = (screenUv - mid + s * mid) / s;
    vec4 background = texture2D(tInput, screenUv);
    vec4 image = texture2D(tMap, insideUv);
    gl_FragColor = mix(image, background, isOutside);
}
`,mae=class extends Ps{constructor(){super(new _i({vertexShader:hae,fragmentShader:pae,uniforms:{tInput:new Te(null),tMap:new Te(null),uResolution:new Te(new Y),uSize:new Te(new Y),uCoords:new Te(new Y),uScale:new Te(1),uSceneColor:new Te(new pt(16711680)),uDPR:new Te(1),uCurrent:new Te(0)}}),"tInput"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.tMap.value}set texture(e){this.uniforms.tMap.value=e}},gae=`
void main() {
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,vae=`
uniform sampler2D toScene;
uniform sampler2D fromScene;
uniform vec2 resolution;

uniform vec2 uResolution;
uniform float uDPR;

uniform float mixRatio;
uniform sampler2D tMixTexture;
uniform int useTexture;
uniform float threshold;

void main() {
	vec2 screenUv = gl_FragCoord.xy / uResolution.xy;
	screenUv *= 1.0 / uDPR;

	vec4 texel1 = texture2D( fromScene, screenUv );
	vec4 texel2 = texture2D( toScene, screenUv );

	if (useTexture==1) {
		
		vec4 transitionTexel = texture2D( tMixTexture, screenUv );
		float r = mixRatio * (1.0 + threshold * 2.0) - threshold;
		float mixf=clamp((transitionTexel.r - r)*(1.0/threshold), 0.0, 1.0);
		
		gl_FragColor = mix( texel1, texel2, mixf );
	} else {
		
		gl_FragColor = mix( texel1, texel2, mixRatio );
		
	}
}
`,yae=[],bae=class extends Ps{constructor(){super(new _i({vertexShader:gae,fragmentShader:vae,uniforms:{toScene:new Te(null),fromScene:new Te(null),uResolution:new Te(new Y),uDPR:new Te(1),mixRatio:new Te(0),threshold:new Te(.1),useTexture:new Te(0),tMixTexture:{value:yae[0]}}}),"toScene"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.fromScene.value}set texture(e){this.uniforms.fromScene.value=e}};function p6(e,t){return t&&t.enabled&&e.push(t.effect),e}var _ae=e=>Object.values(Yt).includes(e)?e:Yt.NORMAL,wae=class extends Nn{constructor(e){super(),this.postprocessingState=qm.defaultData,this._scene=new Lo,this._camera=new tr,this.effects=new Map,this.blueNoiseTexture=new Fo,this._renderToScreen=!0,this.clock=new RV,this.renderer=e,this.debug=!1,this.effects.set("bloom",new Nre),this.effects.set("chromaticAberration",new Vre),this.effects.set("vignette",new qre),this.effects.set("noise",new Wre),this.effects.set("colorAverage",new Hre),this.effects.set("hueSaturation",new Gre),this.effects.set("brightnessContrast",new Ure),this.effects.set("depthOfField",new Zre),this.effects.set("pixelation",new Yre),this.effectComposer=new iae(this.renderer),this.effectComposer.autoRenderToScreen=!1,this.opaquePass=new w_(!0,this.scene,this.camera),this.opaquePass.clear=!0,this.transmissionPass=new eae(this.scene,this.camera,this.renderer),this.aoPass=new fae(this.scene,this.camera),this.taaPass=new $re,this.taaPass.renderToScreen=!1,this.helperPass=new rae(this.camera),this.helperPass.renderToScreen=!1,this.overlayPass=new mae,this.overlayPass.enabled=!1,this.sceneTransitionPass=new bae,this.sceneTransitionPass.enabled=!1,this._initCopyPass(),this._initPasses()}set overlayTexture(e){e!==void 0?(this.overlayPass.texture=e,this.overlayPass.enabled=!0):this.overlayPass.enabled=!1}get overlayTexture(){return this.overlayPass.texture}set sceneHelpers(e){this.helperPass.sceneHelpers=e}get sceneHelpers(){return this.helperPass.sceneHelpers}set sceneHelpersOnTop(e){this.helperPass.sceneHelpersOnTop=e}get sceneHelpersOnTop(){return this.helperPass.sceneHelpersOnTop}get scene(){return this._scene}set scene(e){this._scene=e,this.opaquePass.setScene(e),this.transmissionPass.setScene(e),this.aoPass.setScene(e)}get camera(){return this._camera}set camera(e){this._camera=e,this.opaquePass.setCamera(e),this.transmissionPass.setCamera(e),this.aoPass.setCamera(e),this.helperPass.setCamera(e)}updateRenderToScreen(){let e=!1;for(let t=this.effectComposer.passes.length-1;t>=0;t--){let i=this.effectComposer.passes[t];if(i.enabled===!0&&!e&&this._renderToScreen){i.renderToScreen=!0,e=!0;continue}i.renderToScreen=!1}}disableHelpers(){this.helperPass.enabled=!1,this.updateRenderToScreen()}enableHelpers(){this.helperPass.enabled=!0,this.updateRenderToScreen()}updateBlueNoiseTexture(e){this.blueNoiseTexture=new Fo(e,128,128),this.blueNoiseTexture.wrapS=qs,this.blueNoiseTexture.wrapT=qs,this.blueNoiseTexture.minFilter=Ci,this.blueNoiseTexture.magFilter=Ci,this.blueNoiseTexture.needsUpdate=!0}setAmbientOcclusionParams(e,t,i,n,r,a,s,o){this.aoPass.enabled=e,this.aoPass.radius=t,this.aoPass.bias=i,this.aoPass.aoColor=n,this.aoPass.fogEnabled=r,this.aoPass.fogNear=a,this.aoPass.fogFar=s,this.aoPass.runHalfRes!==!o&&(this.aoPass.runHalfRes=!o)}setTransmissionPassEnabled(e){this.transmissionPass.enabled=e,this.opaquePass.hasTransmissionPass=e}_initPasses(){var e,t;if((e=this.uvEffectPass)==null||e.dispose(),(t=this.effectPass)==null||t.dispose(),this.effectComposer.removeAllPasses(),this.transmissionPass.updatePasses(this.renderer),this.effectComposer.addPass(this.aoPass),this.effectComposer.addPass(this.opaquePass),this.effectComposer.addPass(this.transmissionPass),this.effectComposer.addPass(this.taaPass),this.postprocessingState.enabled){let i=[this.effects.get("pixelation")].reduce(p6,[]);i.length>0&&(this.uvEffectPass=new Fg(this.camera,...i),this.uvEffectPass.renderToScreen=!1,this.effectComposer.addPass(this.uvEffectPass));let n=[this.effects.get("chromaticAberration"),this.effects.get("bloom"),this.effects.get("colorAverage"),this.effects.get("hueSaturation"),this.effects.get("brightnessContrast"),this.effects.get("vignette"),this.effects.get("noise")].reduce(p6,[]);n.length>0&&(this.effectPass=new Fg(this.camera,...n),this.effectPass.renderToScreen=!1,this.effectComposer.addPass(this.effectPass))}this.effectComposer.addPass(this.overlayPass),this.effectComposer.addPass(this.sceneTransitionPass),this.effectComposer.addPass(this.helperPass)}_initCopyPass(){if(this._savePass)return;let e=new Y;this.renderer.getDrawingBufferSize(e),this._rt=new pi(e.x,e.y,{depthBuffer:!1,stencilBuffer:!1,wrapS:qs,wrapT:qs}),this._rt.samples=0,this._savePass=new h_(this._rt,!1),this._savePass.renderToScreen=!1}setCopyPass(e){this._rt=e,this._savePass=new h_(this._rt,!1),this.renderToScreen=!1}get renderToScreen(){return this._renderToScreen}set renderToScreen(e){if(this._renderToScreen===e)return;let t=this.effectComposer;!t||(e===!0?t.removePass(this._savePass):t.addPass(this._savePass),this._renderToScreen=e,this.updateRenderToScreen())}set sceneTransitionFromTexture(e){e!==this.sceneTransitionPass.texture&&(e!==null?this.sceneTransitionPass.enabled=!0:(this.sceneTransitionPass.enabled=!1,this.updateRenderToScreen()),this.sceneTransitionPass.texture=e)}get texture(){return this._rt&&this._rt.texture}get renderTarget(){return this._rt}updatePostprocessing(e){let r=e,{enabled:t}=r,i=Eo(r,["enabled"]),n=!1;t!==this.postprocessingState.enabled&&(n=!0);for(let a of Object.entries(i)){let s=a[1],o=this.effects.get(a[0]);if(o){o.enabled!==s.enabled&&(n=!0),o.enabled=s.enabled;for(let[l,d]of Object.entries(s))l==="blendFunction"?o.blendFunction=_ae(d):o[l]=d}}this.postprocessingState=e,n&&this._initPasses()}render(){this.effectComposer.render(this.clock.getDelta())}setScissor(e,t,i,n){e instanceof Pt?(this.effectComposer.inputBuffer.scissor.set(e.x,e.y,e.z,e.w),this.effectComposer.outputBuffer.scissor.set(e.x,e.y,e.z,e.w)):(this.effectComposer.inputBuffer.scissor.set(e,t,i,n),this.effectComposer.outputBuffer.scissor.set(e,t,i,n));let r=this.renderer.getPixelRatio();this.effectComposer.inputBuffer.scissor.multiplyScalar(r),this.effectComposer.outputBuffer.scissor.multiplyScalar(r),this.renderer.setScissor(e,t,i,n)}setScissorTest(e){this.effectComposer.inputBuffer.scissorTest=e,this.effectComposer.outputBuffer.scissorTest=e,this.renderer.setScissorTest(e)}setViewport(e,t,i,n){e instanceof Pt?(this.effectComposer.inputBuffer.viewport.copy(e),this.effectComposer.outputBuffer.viewport.copy(e)):(this.effectComposer.inputBuffer.viewport.set(e,t,i,n),this.effectComposer.outputBuffer.viewport.set(e,t,i,n))}resize(e,t,i){if(this.effectComposer.setSize(e,t,i),this._rt){let n=this.renderer.getPixelRatio();this._rt.setSize(e*n,t*n)}}dispose(){var e,t;(e=this.uvEffectPass)==null||e.dispose(),(t=this.effectPass)==null||t.dispose(),this.effectComposer.dispose()}},xae=e=>`

// PCSS implementation based on:
// https://www.gamedev.net/articles/programming/graphics/contact-hardening-soft-shadows-made-fast-r4906/
// NOTE: This number affects how big the shadow blur can
// possibly get. Bigger number == bigger blur, but less precise results

const float  gPenumbraFilterSize = 80.0;
const int   gPenumbraSamples = ${e};
const int gShadowSamples = ${e};
const float gShadowSamplesRpc = 1.0f / float(gShadowSamples);

#ifdef USE_SHADOWMAP
    #if NUM_DIR_LIGHT_SHADOWS > 0

        uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
        varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];

        struct DirectionalLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
        };

        uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];

    #endif

    #if NUM_SPOT_LIGHT_SHADOWS > 0

        uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
        varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_SHADOWS ];

        struct SpotLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
        };

        uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];

    #endif

    #if NUM_POINT_LIGHT_SHADOWS > 0

        uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
        varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];

        struct PointLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
            float shadowCameraNear;
            float shadowCameraFar;
        };

        uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];

    #endif

    /*
    #if NUM_RECT_AREA_LIGHTS > 0

        // TODO (abelnation): create uniforms for area light shadows

    #endif
    */

float computePenumbra(int index, sampler2D shadowMap, float temporalAngle, float texelSize, vec2 uv, float compare, float texelScalar, float shadowRadius)
{
    float penumbra = 1.0;
    float blockerDepthAvg = 0.0;
    float blockerCount = 0.0;

    #pragma unroll_loop_start
    for(int i = 0; i < gPenumbraSamples; i ++)
    {
        vec2 offset = (vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize) * texelScalar;
        float depth = unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) );

        if(depth < compare + 0.0001)
        {
            blockerDepthAvg += depth;
            blockerCount++;
        }
    }
    #pragma unroll_loop_end

    if (blockerCount > 0.0)
    {
        blockerDepthAvg /= blockerCount;

        // Compute penumbra
        penumbra = (compare - blockerDepthAvg) / (blockerDepthAvg);
        penumbra *= penumbra;
        penumbra *= 200.0 * penumbraSize[min(index, 5 - 1)]; // Magic number that affects how quickly the penumbra grows

        return clamp(penumbra, 0.00, 1.0);
    }
    return 0.0;
}

float vogelShadow(int index, sampler2D shadowMap, vec2 uv, float texelSize, float compare, float shadowRadius)
{
    float shadow         = 0.0f;

    // NOTE: When using TAA, we should use screen space interleaved gradient noise
    vec2 halton = haltonSequence[frameIndex];
    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
    float temporalAngle  = temporalOffset * PI2;

    float texelScalar = (gPenumbraFilterSize) / (texelSize * 1024.);
    float penumbra = computePenumbra(index, shadowMap, temporalAngle, texelSize, uv, compare, texelScalar, shadowRadius);
    if (penumbra == -1.0) {
        return 1.0;
    }

    #pragma unroll_loop_start
    for (int i = 0; i < gShadowSamples; i++)
    {
        vec2 vogelSample =  vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;
        // Overall blurring offset
        vec2 offset = vogelSample * (shadowRadius * 2.);

        // Penumbra offset
        offset += vogelSample * (penumbra * texelScalar);

        shadow += step( compare, unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) ) );
    }
    #pragma unroll_loop_end

    return shadow * gShadowSamplesRpc;
}


    float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {

        return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );

    }

    vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {

        return unpackRGBATo2Half( texture2D( shadow, uv ) );

    }

    float VSMShadow (sampler2D shadow, vec2 uv, float compare ){

        float occlusion = 1.0;

        vec2 distribution = texture2DDistribution( shadow, uv );

        float hard_shadow = step( compare , distribution.x ); // Hard Shadow

        if (hard_shadow != 1.0 ) {

            float distance = compare - distribution.x ;
            float variance = max( 0.00000, distribution.y * distribution.y );
            float softness_probability = variance / (variance + distance * distance ); // Chebeyshevs inequality
            softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 ); // 0.3 reduces light bleed
            occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );

        }
        return occlusion;

    }

    float getShadow( int i, sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {

        float shadow = 1.0;

        shadowCoord.xyz /= shadowCoord.w;
        shadowCoord.z += shadowBias;

        // if ( something && something ) breaks ATI OpenGL shader compiler
        // if ( all( something, something ) ) using this instead

        bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
        bool inFrustum = all( inFrustumVec );

        bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );

        bool frustumTest = all( frustumTestVec );

        if ( frustumTest ) {

        #if defined( SHADOWMAP_TYPE_PCF )

            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
            return vogelShadow(i, shadowMap, shadowCoord.xy, texelSize.x, shadowCoord.z, shadowRadius );

        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )

            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
            float dx = texelSize.x;
            float dy = texelSize.y;

            vec2 uv = shadowCoord.xy;
            vec2 f = fract( uv * shadowMapSize + 0.5 );
            uv -= f * texelSize;

            shadow = (
                texture2DCompare( shadowMap, uv, shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
                mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
                     f.x ) +
                mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
                     f.x ) +
                mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
                     f.y ) +
                mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
                     f.y ) +
                mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
                          f.x ),
                     mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
                          f.x ),
                     f.y )
            ) * ( 1.0 / 9.0 );

        #elif defined( SHADOWMAP_TYPE_VSM )

            shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );

        #else // no percentage-closer filtering:

            shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );

        #endif

        }

        return shadow;

    }

    // cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D
    // vector suitable for 2D texture mapping. This code uses the following layout for the
    // 2D texture:
    //
    // xzXZ
    //  y Y
    //
    // Y - Positive y direction
    // y - Negative y direction
    // X - Positive x direction
    // x - Negative x direction
    // Z - Positive z direction
    // z - Negative z direction
    //
    // Source and test bed:
    // https://gist.github.com/tschw/da10c43c467ce8afd0c4

    vec2 cubeToUV( vec3 v, float texelSizeY ) {

        // Number of texels to avoid at the edge of each square

        vec3 absV = abs( v );

        // Intersect unit cube

        float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
        absV *= scaleToCube;

        // Apply scale to avoid seams

        // two texels less per square (one texel will do for NEAREST)
        v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );

        // Unwrap

        // space: -1 ... 1 range for each square
        //
        // #X##         dim    := ( 4 , 2 )
        //  # #         center := ( 1 , 1 )

        vec2 planar = v.xy;

        float almostATexel = 1.5 * texelSizeY;
        float almostOne = 1.0 - almostATexel;

        if ( absV.z >= almostOne ) {

            if ( v.z > 0.0 )
                planar.x = 4.0 - v.x;

        } else if ( absV.x >= almostOne ) {

            float signX = sign( v.x );
            planar.x = v.z * signX + 2.0 * signX;

        } else if ( absV.y >= almostOne ) {

            float signY = sign( v.y );
            planar.x = v.x + 2.0 * signY + 2.0;
            planar.y = v.z * signY - 2.0;

        }

        // Transform to UV space

        // scale := 0.5 / dim
        // translate := ( center + 0.5 ) / dim
        return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );

    }

    float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {

        float shadow = 1.0;
        vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );

        // for point lights, the uniform @vShadowCoord is re-purposed to hold
        // the vector from the light to the world-space position of the fragment.
        vec3 lightToPosition = shadowCoord.xyz;

        // dp = normalized distance from light to fragment position
        float compare = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?
        compare += shadowBias;

        // bd3D = base direction 3D
        vec3 bd3D = normalize( lightToPosition );

        vec2 halton = haltonSequence[frameIndex];
        float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
        float temporalAngle  = temporalOffset * PI2;

        #if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_VSM )
            for (int i = 0; i < gShadowSamples; i++) {
                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;

                // Overall blurring offset
                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);

                // NOTE: Removed for now
                // Penumbra offset
                //offset += vec3(vogelSample.x, vogelSample.y, vogelSample.y)  * (penumbra * gPenumbraFilterSize);

                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );

            }
            return shadow * gShadowSamplesRpc;

        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )
            for (int i = 0; i < 16; i++) {
                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;

                // Overall blurring offset
                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);

                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );

            }
            return shadow * (1.0 / 16.0);
        #else // no percentage-closer filtering

            return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), compare );

        #endif

    }

#endif
`,kae=jt.lights_fragment_begin,Sae=jt.shadowmask_pars_fragment,m6=null,Aae=e=>{switch(e){case"low":return 8;case"medium":return 16;case"high":return 32;default:return 16}},Mae=(e="medium")=>{if(m6===e)return!1;m6=e;let t=Aae(e);jt.shadowmap_pars_fragment=xae(t);let i=kae.slice();i=i.replace("getShadow( spotShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX + 3, spotShadowMap[ i ]"),i=i.replace("getShadow( directionalShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX, directionalShadowMap[ i ]"),jt.lights_fragment_begin=i;let n=Sae.slice();return n=n.replaceAll("getShadow(","getShadow( UNROLLED_LOOP_INDEX, "),jt.shadowmask_pars_fragment=n,!0},Cae=`
attribute vec3 randomColor;
varying vec3 vNormal;
flat out vec3 vColor;

void main()
{
vNormal = normal;
vColor = randomColor;
gl_Position = projectionMatrix * (modelViewMatrix * vec4(position, 1.0));
}
`,Eae=`
uniform float depthContrast;
varying vec3 vNormal;
flat in vec3 vColor;
void main()
{
vec3 normal = (normalize(vNormal)).rgb;

float contrastDepth = (gl_FragCoord.z - 0.5) * depthContrast + 0.5;

vec3 resultColor = mix(mix(vColor, normal, 0.2), vec3(contrastDepth), 0.4);
gl_FragColor = vec4(resultColor, vColor.r);
}
`,x_=new _i({vertexShader:Cae,fragmentShader:Eae,uniforms:{depthContrast:{value:1}}}),g6=new gn,Tae=class extends RA{constructor(e){super(e),this._pixelRatio=this.getPixelRatio(),this.viewportWidth=1,this.viewportHeight=1,this.resolution=new Y,this.pipeline=new wae(this),this.dummyCamera=new tr,this.sceneTransitionDuration=0,this.sceneTransitionTimeRemaining=-1,this.isXRCopyPassSet=!1,this.clear=(r=!0,a=!0,s=!0)=>{let o=this.getContext(),l=0;r&&(l|=o.COLOR_BUFFER_BIT),a&&(l|=o.DEPTH_BUFFER_BIT),s&&(l|=o.STENCIL_BUFFER_BIT),o.clear(l),o.clearBufferfv(o.COLOR,1,[0,0,0,1])},this.autoClear=!1;let t=this.setPixelRatio.bind(this),i=this.setSize.bind(this);this.shadowMap.enabled=!0,this.shadowMap.type=i0,this.dummyCamera.matrixAutoUpdate=!1;let n=this.getContext();if(n&&"drawingBufferColorSpace"in n)try{n.drawingBufferColorSpace="display-p3"}catch(r){console.warn(r)}this.setPixelRatio=r=>{this._pixelRatio!==r&&(this._pixelRatio=r,t(r))},this.setSize=(r,a,s=!0)=>{var o,l;(this.viewportWidth!==r||this.viewportHeight!==a)&&(this.viewportWidth=r,this.viewportHeight=a,i(r,a,s),(o=this.normalRenderTarget)==null||o.setSize(r*this._pixelRatio,a*this._pixelRatio),this._resizeTransmission(r,a),(l=this.transmissionDepthTarget)==null||l.setSize(r*this._pixelRatio/2,a*this._pixelRatio/2),this.pipeline.resize(r,a,s))},this._superDispose=this.dispose,this.dispose=this._currentDispose}createAORenderTarget(){this.aoRenderTarget===void 0&&(this.aoRenderTarget=new pi(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:Rt,magFilter:Rt,wrapS:Zi,wrapT:Zi,depthBuffer:!1}))}_resizeTransmission(e,t){var i,n;(i=this.transmissionRenderTarget)==null||i.setSize(e*this._pixelRatio/(this.hdTransmission?1:2),t*this._pixelRatio/(this.hdTransmission?1:2)),(n=this.aoRenderTarget)==null||n.setSize(e*this._pixelRatio/1,t*this._pixelRatio/1)}get hdTransmission(){return vt.transmissionLod.value===1}set hdTransmission(e){vt.transmissionLod.value=e===!0?1:2,this._resizeTransmission(this.viewportWidth,this.viewportHeight)}createTransmissionRenderTarget(){this.transmissionRenderTarget===void 0&&(this.transmissionRenderTarget=new pi(this.viewportWidth*this._pixelRatio/(this.hdTransmission?1:2),this.viewportHeight*this._pixelRatio/(this.hdTransmission?1:2),{generateMipmaps:!0,minFilter:Hd,magFilter:Rt,wrapS:Zi,wrapT:Zi,depthBuffer:!1}),this.transmissionDepthTarget=new pi(this.viewportWidth*this._pixelRatio/2,this.viewportHeight*this._pixelRatio/2,{minFilter:Ci,magFilter:Ci,depthBuffer:!1}))}createNormalRenderTarget(){this.normalRenderTarget===void 0&&(this.normalRenderTarget=new pi(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:Ci,magFilter:Ci,type:lr,depthTexture:new pc(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio)}))}renderNormal(e,t,i){this.normalRenderTarget&&(this.setClearColor(0),i.layers.enable(8),i.layers.disable(0),i.layers.disable(3),t.traverseEntity(n=>{n.layers.isEnabled(8)&&(n.copyPreviousMatrix=!1)}),this.setRenderTarget(this.normalRenderTarget),this.clear(),i instanceof tr?x_.uniforms.depthContrast.value=(i.far-i.near)/1e4:x_.uniforms.depthContrast.value=1,t.overrideMaterial=x_,this.render(t,i),this.setClearColor(t.bgColor,t.bgColor.a),this.setRenderTarget(null),t.overrideMaterial=e.wireframeState?j_:null,i.layers.enable(0),i.layers.enable(3),t.traverseEntity(n=>{n.layers.isEnabled(8)&&(n.copyPreviousMatrix=!0)}))}renderSplineSceneWithDummyCamera(e,t,i=1){this.dummyCamera.updateCameraState(t.dataPatched),this.dummyCamera.matrix.copy(t.matrixWorld);let n=t.height,r=t.width,a=this.viewportWidth/this.viewportHeight;r<n?r=n*a:n=r/a,this.dummyCamera.setViewplaneSize(r,n);for(let s=0;s<i;s++)this.renderSplineScene(e,this.dummyCamera)}renderSplineScene(e,t,{sceneHelpers:i=void 0,sceneHelpersOnTop:n=void 0,overrideTransmission:r=void 0,overrideNormal:a=void 0}={}){let s=e instanceof R_?e.activePage:e,o=s.visible;s.visible=!0;let l=s.scene;this.xr.enabled&&(this.isXRCopyPassSet===!1&&this.getRenderTarget()!==null&&(this.pipeline.setCopyPass(this.getRenderTarget()),this.isXRCopyPassSet=!0),this.xr.updateCamera(t)),this.setClearColor(s.bgColor,s.bgColor.a),s.penumbraSizeArray.forEach((f,h)=>{vt.penumbraSize.value[h]=f}),vt.pixelRatioNode.value=this.getPixelRatio(),this.resolution.x!==0&&this.resolution.y!==0?vt.resolution.value.set(this.resolution.x,this.resolution.y):vt.resolution.value.set(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio),a!==void 0?(vt.normalRenderTarget.value=a,vt.normalRenderTargetDepth.value=g6):l.needsNormal()&&(this.createNormalRenderTarget(),vt.normalRenderTarget.value=this.normalRenderTarget.texture,vt.normalRenderTargetDepth.value=this.normalRenderTarget.depthTexture,this.renderNormal(l,s,t));let d=s.data.ao,u=d.occlusion;u&&(this.createAORenderTarget(),vt.aoRenderTarget.value=this.aoRenderTarget.texture),vt.aoEnabled.value=u,this.pipeline.setAmbientOcclusionParams(d.occlusion,d.radius,d.bias,s.aoColor,s.fog!==null,s.backupFog.near,s.backupFog.far,d.aoFullRes),this.pipeline.aoPass.setBlueNoiseTexture(this.pipeline.blueNoiseTexture);let c=!1;if(r!==void 0)vt.transmissionRenderTarget.value=r,vt.transmissionRenderTargetDepth.value=g6,this.pipeline.setTransmissionPassEnabled(!1);else{let f=l.needsTransmission();f&&(this.transmissionRenderTarget===void 0&&(c=!0),this.createTransmissionRenderTarget(),vt.transmissionRenderTarget.value=this.transmissionRenderTarget.texture,vt.aspectRatio.value=Nte(this.viewportWidth,this.viewportHeight),vt.transmissionRenderTargetDepth.value=this.transmissionDepthTarget.texture),this.pipeline.setTransmissionPassEnabled(f)}t.layers.enable(3),t.layers.enable(8),this.pipeline.sceneHelpers=i,this.pipeline.sceneHelpersOnTop=n,this.pipeline.scene=s,this.pipeline.camera=t,c&&this.pipeline.transmissionPass.updatePasses(this),this.pipeline.postprocessingState!==s.postprocessing&&(this.pipeline.updatePostprocessing(s.postprocessing),!i&&!n&&this.pipeline.disableHelpers()),this.clearAlphaOverride!==void 0&&this.setClearAlpha(this.clearAlphaOverride),s.overrideMaterial=l.wireframeState?j_:null,this.pipeline.render(),vt.frameIndex.value=(vt.frameIndex.value+1)%16,t instanceof tr&&t.copyHistory(),s.visible=o}renderFromSceneForSceneTransitionPass(e,t,i){this.pipeline.renderToScreen=!1,this.pipeline.renderTarget,this.renderSplineScene(e,t),this.pipeline.sceneTransitionFromTexture=this.pipeline.renderTarget.texture,this.sceneTransitionDuration=i,this.sceneTransitionTimeRemaining=i,this.pipeline.renderToScreen=!0;let n=this.pipeline.sceneTransitionPass.uniforms;n.uDPR.value=window.devicePixelRatio,n.uResolution.value.set(this.domElement.width,this.domElement.height).divideScalar(window.devicePixelRatio)}_currentDispose(){var e,t,i,n,r,a;this._superDispose(),this.pipeline.dispose(),(e=this.aoRenderTarget)==null||e.dispose(),(t=this.transmissionRenderTarget)==null||t.dispose(),(i=this.transmissionDepthTarget)==null||i.dispose(),(n=this.normalRenderTarget)==null||n.dispose(),(a=(r=this.normalRenderTarget)==null?void 0:r.depthTexture)==null||a.dispose()}},v6=class extends uh(QV){constructor(e,t=15,i=10066329){super(e,t,i),this.object=e,this.added=!1,this.name=`DirectionalLightHelper: ${e.uuid}`}raycast(e,t){fh(this.object,v6.geometryHelper,e,t)}},y6=class extends uh(KV){constructor(e,t=15,i=6710886){super(e,t,i),this.object=e,this.name=`PointLightHelper: ${e.uuid}`}raycast(e,t){fh(this.object,y6.geometryHelper,e,t)}},k_=class extends uh(XV){constructor(e,t=6710886){super(e,t),this.object=e,this.name=`SpotLightHelper: ${e.uuid}`}raycast(e,t){fh(this.object,k_.geometryHelper,e,t)}update(){if(this.object!==void 0){let e=k_._vector,t=this.object.distance?this.object.distance:1e3,i=t*Math.tan(this.object.angle);this.cone.scale.set(i,i,t),e.setFromMatrixPosition(this.object.target.matrixWorld),this.cone.lookAt(e);let n=this.color!==void 0?this.color:this.light.color;if(this.cone.material instanceof Array)for(let r=0,a=this.cone.material.length;r<a;r++)this.cone.material[r].color.set(n);else this.cone.material.color.set(n)}}},b6=k_;b6._vector=new E;function Dae(e,t){e.shadow.camera.right=t/2,e.shadow.camera.left=-t/2,e.shadow.camera.top=t/2,e.shadow.camera.bottom=-t/2,e.shadow.needsUpdate=!0}var _6=class extends d_(jV,v6){constructor(e,t,i){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=2048,this.shadow.mapSize.height=2048,this.shadow.normalBias=1,this.layers.enable(3);let n=this.shadow.camera;n.top=1250,n.bottom=-1250,n.right=1250,n.left=-1250,n.near=-1e4,n.far=2500;let r=new im(this.shadow.camera);r.visible=!1,this.gizmos.shadowmap=r}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof im&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t);let i=e.depth!==void 0&&e.depth!==this.shadow.camera.far||e.size!==void 0&&e.size/2!==this.shadow.camera.right;e.size!==void 0&&Dae(this,e.size),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null)),e.penumbraSize!==void 0&&t.scene.markPenumbraSizeDirty(),i&&this.update()}},w6=new E,x6=new E,k6=new Ct,S6=class extends d_(DV,b6){constructor(e,t,i){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let n=this.shadow.camera;n.fov=at.RAD2DEG*2*this.angle,n.aspect=1,n.near=100,n.far=2500;let r=new im(this.shadow.camera);r.visible=!1,this.gizmos.shadowmap=r,this.update()}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof im&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),x6.setFromMatrixPosition(this.matrixWorld),k6.setFromRotationMatrix(this.matrixWorld),w6.copy(this.up).applyQuaternion(k6).negate().multiplyScalar(this.distance),this.target.position.copy(x6).add(w6),this.target.updateMatrixWorld(),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),e.distance!==void 0&&(this.distance=e.distance),e.decay!==void 0&&(this.decay=e.decay),e.angle!==void 0&&(this.angle=e.angle),e.penumbra!==void 0&&(this.penumbra=e.penumbra),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.penumbraSize!==void 0&&t.scene.markPenumbraSizeDirty(),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}},fl=class extends ob(Lo){constructor(e,t){super(),this.data=t,this.bgColor=new Rr(1,1,1,1),this.fog=null,this.backupFog=new zA(16777215,.1,2e3),this.fogUseBGColor=!1,this.isActive=!1,this.aoColor=new pt,this.penumbraSizeArrayCache=null,this.super_Entity(e,t),this.personalCamera=new tr(Dc,Q(R(R({},Ff.defaultData),t.camera),{name:"Personal Camera"})),this.personalCamera.objectHelper.visible=!1,this.add(this.personalCamera),this.activeCamera=this.personalCamera,this.ambientLight=new EV(13882323,8553090,.75),this.ambientLight.name="Default Ambient Light",this.ambientLight.layers.enable(3),this.ambientLight.removeFromParent(),this.add(this.ambientLight)}get scene(){return this.parent}get postprocessing(){return this.data.postprocessing}updateVisible(){}setBackgroundColor(e){this.bgColor=e,this.fogUseBGColor===!0&&(this.backupFog.color=e)}updateAmbientLight(e,t){e.color!==void 0&&(this.ambientLight.color=_r(e.color,t)),e.intensity!==void 0&&(this.ambientLight.intensity=e.intensity),e.enabled!==void 0&&(e.enabled?this.add(this.ambientLight):this.remove(this.ambientLight))}onDeactive(){this.isActive=!1}onActive(e){this.isActive=!0,e.fog=this.fog,this.traverseEntity(t=>{t instanceof vd&&t.recomputeBoolean()}),this.updateShadow(this.data.shadow)}forceMaterialsUpdate(){this.traverseEntity(e=>{if(e instanceof hu)if(Array.isArray(e.material))for(let t of e.material)t.needsUpdate=!0;else e.material.needsUpdate=!0,e.material.dispose()})}updateShadow(e){e.softShadowQuality!==void 0&&this.isActive&&Mae(e.softShadowQuality)&&this.forceMaterialsUpdate()}updateFog(e,t){if(e.enabled?this.fog=this.backupFog:this.fog=null,this.isActive){let i=this.scene;i.fog=this.fog}this.fogUseBGColor=e.useBackgroundColor,e.useBackgroundColor?this.backupFog.color.set(this.bgColor):this.backupFog.color=_r(e.color,t),this.backupFog.near=e.near,this.backupFog.far=e.far}updateAo(e,t){e.aoColor!==void 0&&(this.aoColor=_r(e.aoColor,t))}updateByOp(e,t,i,n){super.updateByOp(e,t,i,n);let r=t;pa(e.path,["fog"])?this.updateFog(r.fog,i.shared):pa(e.path,["ao"])?this.updateAo(r.ao,i.shared):pa(e.path,["ambient"])?this.updateAmbientLight(r.ambient,i.shared):pa(e.path,["shadow"])&&this.updateShadow(r.shadow)}updateState(e,t){this.updateState_Entity(e,t),e.backgroundColor!==void 0&&this.setBackgroundColor(_r(e.backgroundColor,t.shared)),e.fog!==void 0&&this.updateFog(e.fog,t.shared),e.ambient!==void 0&&this.updateAmbientLight(e.ambient,t.shared),e.ao!==void 0&&this.updateAo(e.ao,t.shared),e.shadow!==void 0&&this.updateShadow(e.shadow)}raycast(e,t){super.raycast(e,t)}switchActiveCamera(e){e&&e.isDescendantOf(this)&&(this.activeCamera!==this.personalCamera&&(this.activeCamera.objectHelper.visible=!0),this.activeCamera=e,e.objectHelper.visible=!1)}get playCamera(){var e,t;return(t=(e=this.scene)==null?void 0:e.find(this.data.publish.playCamera))!=null?t:this.personalCamera}switchToPlayCamera(){this.switchActiveCamera(this.playCamera)}get penumbraSizeArray(){return this.penumbraSizeArrayCache===null&&this.updatePenumbraSizeArray(),this.penumbraSizeArrayCache}updatePenumbraSizeArray(){this.penumbraSizeArrayCache=new Array(5).fill(.5);let e=0,t=0;this.traverseEntity(i=>{if(!i.visible)return!0;i instanceof _6&&i.visible&&e<3&&(this.penumbraSizeArrayCache[e]=i.data.penumbraSize,e+=1),i instanceof S6&&i.visible&&e<2&&(this.penumbraSizeArrayCache[3+t]=i.data.penumbraSize,t+=1)})}raycastWithClones(e){let t=[],i=n=>{for(let r of n.children){let a=r.cloner;qt.is(r)&&(r.visible||a!=null&&a.object.data.visible)&&((Ga(r)||c_(r)&&this.scene.enableHelpers&&r.objectHelper.visible)&&(e.intersectObject(r,!1,t),C_(r,e,t,!0)),i(r))}};return i(this),t}},Pae=class extends d_(IV,y6){constructor(e,t,i){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let n=this.shadow.camera;n.fov=90,n.aspect=1,n.near=100,n.far=2500;let r=new E(-n.far+this.position.x,-n.far+this.position.y,-n.far+this.position.z),a=new E(n.far+this.position.x,n.far+this.position.y,n.far+this.position.z),s=new Xi(r,a),o=new nm(s,new pt(16755200));o.visible=!1,this.gizmos.shadowmap=o,this.update()}update(){if(this.shadow&&(this.shadow.camera.updateProjectionMatrix(),this.gizmos))for(let e in this.gizmos){let t=this.gizmos[e];if(t instanceof nm){let i=this.shadow.camera,n=new E(-i.far+this.position.x,-i.far+this.position.y,-i.far+this.position.z),r=new E(i.far+this.position.x,i.far+this.position.y,i.far+this.position.z);t.box.set(n,r),t.updateMatrixWorld(!0)}}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),e.distance!==void 0&&(this.distance=e.distance),e.decay!==void 0&&(this.decay=e.decay),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}},Iae=class extends wr{get forceComputeSize(){return!0}get shape(){return this.geometry.userData.shape}updateEntityBoxSize(e,t){let i=this.geometry.getAttribute("position");i!==void 0?jb(i,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:i.count,e,t):super.updateEntityBoxSize(e,t)}},S_=class extends wr{constructor(e,t,i){super(e,t,i),this._shapeId=null,this._context=i}updateState(e,t){super.updateState(e,t),this.updateShape()}updateShape(){var n;let e=R({},this.data.geometry.extrusion.shape);for(let r in e)typeof e[r]=="string"&&(e[r]=this._context.shared.getVariable(e[r],[this.uuid,"geometry","extrusion","shape",r]));let t;if(e.type==="Custom"){let r=e.shapeId;if(r!==this._shapeId&&this.detachShape(),r){this._shapeId=r;let a=this._context.scene.find(r);a!=null&&a.data&&(a.attachedPaths.add(this),t=(n=a.geometry.userData)==null?void 0:n.shape),t||this._context.scene.addPendingCommand(()=>this.updateShape())}}else{let r;switch(e.type){case"Rectangle":r=bT;break;case"Ellipse":r=xb;break;case"Polygon":r=yT;break;case"Star":r=_T;break;default:throw new Error(`Unknown shape type: ${e.type}`)}t=r.create({parameters:e}).userData.shape}let i=this.geometry;t&&i.inputs&&(i.inputs.shapeData=t,i.build(),this.attachedSurfaceCloners.forEach(r=>r.update()))}detachShape(){var e;this._shapeId!==null&&((e=this._context.scene.find(this._shapeId))==null||e.attachedPaths.delete(this))}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.updateShape(),this.refreshAttachedPaths(e)}updateTransformState(e,t){return super.updateTransformState(e,t)}updateGeometryInteractions(e,t){super.updateGeometryInteractions(e,t),this.updateShape()}updateEntityBoxSize(e,t){let i=this.geometry.getAttribute("position");i!==void 0?jb(i,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:i.count,e,t):super.updateEntityBoxSize(e,t)}},yu=class extends hh(hc,zg){constructor(e,t,i){super(),t.type==="Instance"&&typeof e=="string"&&(t=this.transformAssignData(t,i)),this.super_Entity(e,t),this.objectHelper.update()}get isComponentRoot(){return this.data.type==="Component"&&typeof this.identity=="string"}get isInstanceRoot(){return this.data.type==="Instance"&&typeof this.identity=="string"}transformAssignData(e,t){let i=Jm.getComponentData({scene:t.scene.data,shared:t.shared.data},e.component);if(i){let n,r;for(let a of Ko.rootOverrideProps)e[a]===void 0?(n===void 0&&(n=R({},e)),n[a]=i.data[a]):(r===void 0&&(r={}),r[a]=e[a],n===void 0&&(n=R({},e)),n[a]=Wo.apply(i.data[a],e[a]));return this.overrideData=r,n}else return R(R(R({},gr.defaultData),e),ro(gr.defaultData,Ko.rootOverrideProps))}updateByOp(e,t,i,n){let r;if(this.isInstanceRoot&&!n){if(t=this.transformAssignData(t,i),e.type===0&&e.path.length===0&&this.component)for(let a of Ko.rootOverrideProps)a in e.props&&e.props[a]===void 0&&(r===void 0&&(r=Q(R({},e),{props:R({},e.props)})),r.props[a]=this.component.data[a]);else if(e.type===0&&e.path.length>0&&Ko.rootOverrideProps.includes(e.path[0])){let a=e.path[0];r===void 0&&(r=Q(R({},e),{path:[],props:{[a]:t[a]}}))}}super.updateByOp(r!=null?r:e,t,i,n)}updateState(e,t){this.updateState_Entity(e,t)}expandInstanceChildren(e){var i;let t=this.data;if(this.component===void 0){let n=(i=e.scene.find(t.component))!=null?i:null,r=!1;if(n!==this.oldComponent){if(this.oldComponent){let a=0;for(let s of this.children)if(qt.is(s))e.scene.disposeAndUnregisterEntityRecursivelyIfNotReregistered(s),A_(s),a+=1;else break;this.children.splice(0,a)}r=!0}if(n){let a={};M6(e,[this.uuid],t.overrides,this,n,n,0,r,a);for(let s of this.children)if(qt.is(s)){let o=s.data;o.type==="Empty"&&o.animations&&s.traverseEntity(l=>{if(l instanceof wr&&l.isSkinnedMesh){let d=l.dataPatched;if(d.bones&&d.boneInverses){let u=d.bones.map(h=>e.scene.find(a[h])),c=d.boneInverses.map(h=>new Ee().fromArray(h)),f=new J0(u,c);l.bind(f,l.bindMatrix)}}else l.matrixAutoUpdate=!0})}}this.oldComponent=this.component}}};function A_(e){if(e.component){let t=e.component.instances.indexOf(e);t>=0&&e.component.instances.splice(t,1);for(let i of e.children)qt.is(i)&&A_(i)}}function A6(e,t,i,n){return e.component===t&&WC(e.identity,n)?e.overrideData===i?2:1:0}function M6(e,t,i,n,r,a,s,o,l){var u;if(s>50)return!1;if(n.component!==r){if(n.component){let c=n.component.instances.indexOf(n);c>=0&&n.component.instances.splice(c,1)}r.instances.push(n),n.component=r}r instanceof yu&&r.isInstanceRoot&&r.expandInstanceChildren(e);let d=0;for(let c of r.children)if(qt.is(c)){let f=[...t,...typeof c.identity=="string"?[c.identity]:c.identity],h=Zm.resolve(i,f,1);h!=null&&!(h instanceof bn)&&(Object.setPrototypeOf(h,bn.prototype),console.error("wrong prototype"));let p=null,m;if(!o){let g=n.children[d];if(p=qt.is(g)?g:null,p!==null){let v=A6(p,c,h,f);m=v>=1?p.stateSelection:void 0,v!==2&&(p=null)}if(p===null&&(p=(u=e.scene.findInstance(f))!=null?u:null,p!==null)){let v=A6(p,c,h,f);if(m=v>=1?p.stateSelection:void 0,v!==2)p=null;else{let y=p.parent.children.indexOf(p);p.parent.children.splice(y,1),n.children.splice(d,0,p),p.parent===n?y<=d&&console.error("not possible"):(p.parent=n,p.matrixWorldNeedsUpdate=!0,p.resetBBoxNeedsUpdate(),p.updateVisible(),e.pendingDeletes.delete(p))}}}if(p===null){let g=h?Wo.apply(c.data,h):c.data;td.is(g.type)&&(g=Q(R({},g),{type:"Empty"})),p=rl.createEntity(f,g,e),p.overrideData=h,n.add(p),n.children.splice(n.children.length-1,1),n.children.splice(d,0,p),p.updateState(p.data,e),m&&p.changeSelectedState(m,e),e.scene.registerInstanceAndSetUuid(p)}if(p.isBone){let g=p.identity[p.identity.length-1];l[g]=p.uuid}d+=1,M6(e,t,i,p,c,a,s+1,o,l)}if(!o){let c=d;for(;;){let f=n.children[d];if(qt.is(f))e.pendingDeletes.add(f);else break;d+=1}n.children.splice(c,d-c)}return!0}var Oae=class extends hh(BA,zg){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update(),this.matrixAutoUpdate=!0}updateState(e,t){this.updateState_Entity(e,t)}};function jae(e,t,i){let n;return t.geometry.type==="TextGeometry"?new qD(e,t,i):(t.geometry.type==="SubdivGeometry"?n=new dh(e,t,i):t.geometry.type==="PathGeometry"?n=new S_(e,t,i):t.geometry.type==="VectorGeometry"?n=new Iae(e,t,i):t.geometry.type==="BooleanGeometry"?n=new vd(e,t,i):n=new wr(e,t,i),n)}function M_(e,t,i){return t.type==="Mesh"?jae(e,t,i):t.type==="Empty"?new vu(e,t):t.type==="Splat"?new vu(e,t):t.type==="Bone"?new Oae(e,t):t.type==="Page"?new fl(e,t):t.type==="PointLight"?new Pae(e,t,i):t.type==="SpotLight"?new S6(e,t,i):t.type==="DirectionalLight"?new _6(e,t,i):t.type==="Component"||t.type==="Instance"?new yu(e,t,i):td.is(t.type)?new tr(e,t):(console.error(t),new vu(e,t))}rl.createEntity=M_;function Rae(e,t,i){let n=M_(e.identity,t,i),r=e.children,a=e.attachedPaths,s=e.parent,o=e.component,l=e.instances,d=e.overrideData,u=e.uuid,c=e.stateSelection;e.dispose();for(let f of Object.keys(e))delete e[f];Object.setPrototypeOf(e,Object.getPrototypeOf(n));for(let f of Object.keys(n))e[f]=n[f];e.children=[...e.children,...r],e.attachedPaths=a,e.parent=s,e.component=o,e.instances=l,e.uuid=u,e.overrideData=d,e.updateState(e.data,i),c&&e.changeSelectedState(c,i),e.resetBBoxNeedsUpdate()}rl.changeEntityProptotype=Rae,rl.Cloner=Va;function zae(e,t,i,n){e.updateByOp(t,i,n,!1)}function C6(e,t){let i=!1,n=t.getLayersOfType("transmission"),r=t.getLayersOfType("outline");return r.length>0&&(e.layers.set(8),n.length>0&&e.layers.enable(3),i=!0,$b(e),Jb(e)),n.length===0&&r.length===0&&e.layers.set(0),e instanceof hu&&e.needsAO&&e.layers.enable(5),i}function E6(e,t){if(!t.layers)return!1;let i=!1,n=t.getLayersOfType("transmission").filter(a=>a.data.visible),r=t.getLayersOfType("outline").filter(a=>a.data.visible);return n.length>0&&(e.layers.set(3),r.length>0&&e.layers.enable(8),i=!0),n.length===0&&r.length===0&&e.layers.set(0),e.needsAO&&e.layers.enable(5),i}function Bae(e){let t=!1;return e.traverseEntity(i=>{if(i instanceof hu)if(Array.isArray(i.material))for(let n=0;n<i.material.length;n++)C6(i,i.material[n])&&(t=!0);else C6(i,i.material)&&(t=!0)}),t}function Lae(e){let t=!1;return e.traverseEntity(i=>{if(i instanceof hu)if(Array.isArray(i.material))for(let n=0;n<i.material.length;n++)E6(i,i.material[n])&&(t=!0);else E6(i,i.material)&&(t=!0)}),t}var Fae=new bM,Nae=new Ee,Uae=new Kd;function C_(e,t,i,n=!1){let r=e.cloner;if(r)for(let a of r.children){let s=Nae.copy(a.matrixWorld).invert(),o=Uae.copy(t.ray).applyMatrix4(s),l=e.matrixWorld;o.applyMatrix4(l);let d=Fae;d.set(o.origin,o.direction),d.near=t.near,d.far=t.far;let u=d.intersectObject(e,!1);u.length>0&&i.push(Q(R({},u[0]),{object:n?a:e}))}}var Vae=class{constructor(){this._constraints=new Map}setConstraint(e,t){t===null?this._constraints.delete(e):this._constraints.set(e,t)}removeDependencies(e){this._constraints.delete(e)}applyConstraints(e){let t=new Set;this._constraints.forEach((i,n)=>{let r=[n,i],a=i;for(;this._constraints.has(a);)a=this._constraints.get(a),t.has(a)||r.push(a);for(let s=r.length-2;s>=0;s--)if(!t.has(r[s])){let o=e.find(r[s]);o?o.applyPathSnapping(e):console.warn(`missing entity ${r[s]}`),t.add(r[s])}})}findDependency(e,t){let i=e;for(;this._constraints.has(i);)if(i=this._constraints.get(i),i===t)return!0;return!1}},Is=En(Ju()),_o=En($u()),Ji=En(Ju()),Bt=En($u()),Vg=class{constructor(e,t,i){this._dataNormalized=e,this._minD=t,this._maxD=i}static createFromUnnormalized(e){let t=Bt.sup(e),i=Bt.inf(e),n=(0,Ji.default)(new Float32Array(e.size),e.shape),r=t-i;return r<1e-4?Bt.assigns(n,0):(Bt.subs(n,e,i),Bt.divs(n,n,r)),new Vg(n,i,t)}get data(){return this._dataNormalized}get minD(){return this._minD}get maxD(){return this._maxD}denormalize(){let e=(0,Ji.default)(new Float32Array(this._dataNormalized.size),this._dataNormalized.shape);return Bt.muls(e,this._dataNormalized,this._maxD-this._minD),Bt.adds(e,e,this._minD),e}},Bi=class{constructor(e,t){this._quantized=e,this._method=t}get quantized(){return this._quantized}static maxIntBits(e){return Si(2,e)-1}static fromNormalized(e,t){let i=e.data,n;if(t==="norm8x"){let r=Bi.maxIntBits(8),a=(0,Ji.default)(new Float32Array(i.size),i.shape);Bt.muls(a,i,r),Bt.roundeq(a),n=(0,Ji.default)(new Uint8Array(a.data),i.shape)}else if(t==="norm565"){let r=(0,Ji.default)(new Float32Array(i.size),i.shape);Bt.assign(r,i),Bt.mulseq(r.pick(null,0),Bi.maxIntBits(5)),Bt.mulseq(r.pick(null,1),Bi.maxIntBits(6)),Bt.mulseq(r.pick(null,2),Bi.maxIntBits(5)),Bt.roundeq(r);let a=(0,Ji.default)(new Uint16Array(r.data),i.shape),s=(0,Ji.default)(new Uint16Array(i.shape[0]),[i.shape[0]]),o=(0,Ji.default)(new Uint16Array(i.shape[0]),[i.shape[0]]);Bt.lshifts(s,a.pick(null,0),11),Bt.lshifts(o,a.pick(null,1),5),Bt.boreq(s,o),Bt.boreq(s,a.pick(null,2)),n=s}else{let r=(0,Ji.default)(new Float32Array(i.size),i.shape);Bt.assign(r,i),Bt.mulseq(r.pick(null,0),Bi.maxIntBits(11)),Bt.mulseq(r.pick(null,1),Bi.maxIntBits(10)),Bt.mulseq(r.pick(null,2),Bi.maxIntBits(11)),Bt.roundeq(r);let a=(0,Ji.default)(new Uint32Array(r.data),i.shape),s=(0,Ji.default)(new Uint32Array(i.shape[0]),[i.shape[0]]),o=(0,Ji.default)(new Uint32Array(i.shape[0]),[i.shape[0]]);Bt.lshifts(s,a.pick(null,0),21),Bt.lshifts(o,a.pick(null,1),11),Bt.boreq(s,o),Bt.boreq(s,a.pick(null,2)),n=s}return new Bi(n,t)}dequantize(e,t){let i=this._method,n,r=this._quantized;if(i==="norm8x"){let a=Bi.maxIntBits(8);n=(0,Ji.default)(new Float32Array(r.size),r.shape),Bt.muls(n,r,1/a)}else if(i==="norm565"){let a=(0,Ji.default)(new Uint8Array(r.shape[0]),[r.shape[0]]),s=(0,Ji.default)(new Uint8Array(r.shape[0]),[r.shape[0]]),o=(0,Ji.default)(new Uint8Array(r.shape[0]),[r.shape[0]]);Bt.rrshifts(a,r,11),Bt.rrshifts(s,r,5),Bt.bandseq(s,Bi.maxIntBits(6)),Bt.bands(o,r,Bi.maxIntBits(5)),n=(0,Ji.default)(new Float32Array(r.shape[0]*3),[r.shape[0],3]),Bt.muls(n.pick(null,0),a,1/Bi.maxIntBits(5)),Bt.muls(n.pick(null,1),s,1/Bi.maxIntBits(6)),Bt.muls(n.pick(null,2),o,1/Bi.maxIntBits(5))}else{let a=(0,Ji.default)(new Uint16Array(r.shape[0]),[r.shape[0]]),s=(0,Ji.default)(new Uint16Array(r.shape[0]),[r.shape[0]]),o=(0,Ji.default)(new Uint16Array(r.shape[0]),[r.shape[0]]);Bt.rrshifts(a,r,21),Bt.rrshifts(s,r,11),Bt.bandseq(s,Bi.maxIntBits(10)),Bt.bands(o,r,Bi.maxIntBits(11)),n=(0,Ji.default)(new Float32Array(r.shape[0]*3),[r.shape[0],3]),Bt.muls(n.pick(null,0),a,1/Bi.maxIntBits(11)),Bt.muls(n.pick(null,1),s,1/Bi.maxIntBits(10)),Bt.muls(n.pick(null,2),o,1/Bi.maxIntBits(11))}return new Vg(n,e,t)}},Wi=class{constructor(e,t,i,n,r,a=!1){this._quantized=e,this._minMaxMatrix=t,this._chunkSize=i,this._quantizationMethod=n,this._variableChunkSize=r,this._isDynamicChunks=a}get length(){return this._quantized.shape[0]}get nchunks(){return this._minMaxMatrix.shape[0]}get quantized(){return this._quantized}get method(){return this._quantizationMethod}get minmaxMatrix(){return this._minMaxMatrix}_createPrunedMinMax(e){let t=e.length,i=this.minmaxMatrix.shape[0]-t,n=(0,Is.default)(new Float32Array(i*2),[i,2]),r=0,a=i,s=0,o=this.minmaxMatrix.shape[0];for(let l=0;l<e.length;l++)o=e[l],a=o-s+r,a>r&&_o.assign(n.hi(a,2).lo(r,0),this.minmaxMatrix.hi(o,2).lo(s,0)),r=a,s=o+1;return r<i&&_o.assign(n.lo(r,0),this.minmaxMatrix.lo(s,0)),n}_createPrunedQuantized(e){let t=e.length,i=this.quantized.shape[0]-t,n=this._quantizationMethod,r,a;if(n==="norm8x"){a=this._quantized.shape[1];let u=a?i*a:i;r=(0,Is.default)(new Uint8Array(u),a?[i,a]:[i,1])}else n==="norm565"?r=(0,Is.default)(new Uint16Array(i),[i]):r=(0,Is.default)(new Uint32Array(i),[i]);let s=0,o=i,l=0,d=r.shape[0];for(let u=0;u<e.length;u++)d=e[u],o=d-l+s,o>s&&(a?_o.assign(r.hi(o,a).lo(s,0),this._quantized.hi(d,a).lo(l,0)):_o.assign(r.hi(o).lo(s),this._quantized.hi(d).lo(l))),s=o,l=d+1;return s<i&&(a?_o.assign(r.lo(s,0),this._quantized.lo(l,0)):_o.assign(r.lo(s),this._quantized.lo(l))),r}pruneFeature(e,t,i){let n=this._createPrunedQuantized(e),r=this._createPrunedMinMax(t);return new Wi(n,r,this._chunkSize,this._quantizationMethod,i,!0)}static getRequiredNChunks(e,t){return Math.floor(e/t)}static fromArray(e,t,i){let n=e.shape[0],r=Math.floor(n/i),a=(0,Is.default)(new Float32Array(r*2),[r,2],[2,1]),s;t==="norm8x"?s=(0,Is.default)(new Uint8Array(e.size),e.shape):t==="norm565"?s=(0,Is.default)(new Uint16Array(e.shape[0]),[e.shape[0]]):s=(0,Is.default)(new Uint32Array(e.shape[0]),[e.shape[0]]);for(let o=0;o<r;o++){let l=o*i,d=o+1<r?(o+1)*i:n,u;e.shape.length>1?u=Vg.createFromUnnormalized(e.hi(d,e.shape[1]).lo(l,0)):u=Vg.createFromUnnormalized(e.hi(d).lo(l)),a.set(o,0,u.minD),a.set(o,1,u.maxD),s.shape.length>1?_o.assign(s.hi(d,s.shape[1]).lo(l,0),Bi.fromNormalized(u,t).quantized):_o.assign(s.hi(d).lo(l),Bi.fromNormalized(u,t).quantized)}return new Wi(s,a,i,t)}denormDequant(){let e=this._minMaxMatrix.shape[0],t=this._quantized,i=t.shape[0],n=this._quantizationMethod,r=this._chunkSize,a;if(this._isDynamicChunks){if(!this._variableChunkSize)throw new Error("variable chunk must exists if chunkSize isDynamic");a=this._variableChunkSize}let s;n==="norm8x"?s=(0,Is.default)(new Float32Array(t.size),t.shape):s=(0,Is.default)(new Float32Array(i*3),[i,3]);let o=0,l=r;for(let d=0;d<e;d++){let[u,c]=[this._minMaxMatrix.get(d,0),this._minMaxMatrix.get(d,1)];this._isDynamicChunks&&(l=a[d]);let f=d+1<e?o+l:i,h;t.shape.length>1?h=new Bi(t.hi(f,t.shape[1]).lo(o,0),n):h=new Bi(t.hi(f).lo(o),n),_o.assign(s.hi(f,s.shape[1]).lo(o,0),h.dequantize(u,c).denormalize()),o=f}return s}static fetchArrayBuffer(e){return ri(this,null,function*(){return yield(yield fetch(e,{mode:"cors"})).arrayBuffer()})}},hl=En(Ju()),Xt=En($u()),Hae="http://127.0.0.1:8000",bu=En(Ju()),un=En($u()),T6=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function D6(e){return e<1e5?e<100?e<10?0:1:e<1e4?e<1e3?2:3:4:e<1e7?e<1e6?5:6:e<1e9?e<1e8?7:8:9}function P6(e,t){if(e===t)return 0;if(~~e===e&&~~t===t){if(e===0||t===0)return e<t?-1:1;if(e<0||t<0){if(t>=0)return-1;if(e>=0)return 1;e=-e,t=-t}let r=D6(e),a=D6(t),s=0;return r<a?(e*=T6[a-r-1],t/=10,s=-1):r>a&&(t*=T6[r-a-1],e/=10,s=1),e===t?s:e<t?-1:1}let i=String(e),n=String(t);return i===n?0:i<n?-1:1}function Gae(e){let t=0;for(;e>=32;)t|=e&1,e>>=1;return e+t}function I6(e,t,i,n){let r=t+1;if(r===i)return 1;if(n(e[r++],e[t])<0){for(;r<i&&n(e[r],e[r-1])<0;)r++;Wae(e,t,r)}else for(;r<i&&n(e[r],e[r-1])>=0;)r++;return r-t}function Wae(e,t,i){for(i--;t<i;){let n=e[t];e[t++]=e[i],e[i--]=n}}function O6(e,t,i,n,r){for(n===t&&n++;n<i;n++){let a=e[n],s=t,o=n;for(;s<o;){let d=s+o>>>1;r(a,e[d])<0?o=d:s=d+1}let l=n-s;switch(l){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;l>0;)e[s+l]=e[s+l-1],l--}e[s]=a}}function E_(e,t,i,n,r,a){let s=0,o=0,l=1;if(a(e,t[i+r])>0){for(o=n-r;l<o&&a(e,t[i+r+l])>0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=r,l+=r}else{for(o=r+1;l<o&&a(e,t[i+r-l])<=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);let d=s;s=r-l,l=r-d}for(s++;s<l;){let d=s+(l-s>>>1);a(e,t[i+d])>0?s=d+1:l=d}return l}function T_(e,t,i,n,r,a){let s=0,o=0,l=1;if(a(e,t[i+r])<0){for(o=r+1;l<o&&a(e,t[i+r-l])<0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);let d=s;s=r-l,l=r-d}else{for(o=n-r;l<o&&a(e,t[i+r+l])>=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=r,l+=r}for(s++;s<l;){let d=s+(l-s>>>1);a(e,t[i+d])<0?l=d:s=d+1}return l}var qae=class{constructor(e,t){or(this,"array",null),or(this,"compare",null),or(this,"minGallop",7),or(this,"length",0),or(this,"tmpStorageLength",256),or(this,"stackLength",0),or(this,"runStart",null),or(this,"runLength",null),or(this,"stackSize",0),this.array=e,this.compare=t,this.length=e.length,this.length<2*256&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}pushRun(e,t){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=t,this.stackSize+=1}mergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;if(e>=1&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||e>=2&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}}forceMergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;e>0&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}}mergeAt(e){let t=this.compare,i=this.array,n=this.runStart[e],r=this.runLength[e],a=this.runStart[e+1],s=this.runLength[e+1];this.runLength[e]=r+s,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;let o=T_(i[a],i,n,r,0,t);n+=o,r-=o,r!==0&&(s=E_(i[n+r-1],i,a,s,s-1,t),s!==0&&(r<=s?this.mergeLow(n,r,a,s):this.mergeHigh(n,r,a,s)))}mergeLow(e,t,i,n){let r=this.compare,a=this.array,s=this.tmp,o=0;for(o=0;o<t;o++)s[o]=a[e+o];let l=0,d=i,u=e;if(a[u++]=a[d++],--n===0){for(o=0;o<t;o++)a[u+o]=s[l+o];return}if(t===1){for(o=0;o<n;o++)a[u+o]=a[d+o];a[u+n]=s[l];return}let c=this.minGallop;for(;;){let f=0,h=0,p=!1;do if(r(a[d],s[l])<0){if(a[u++]=a[d++],h++,f=0,--n===0){p=!0;break}}else if(a[u++]=s[l++],f++,h=0,--t===1){p=!0;break}while((f|h)<c);if(p)break;do{if(f=T_(a[d],s,l,t,0,r),f!==0){for(o=0;o<f;o++)a[u+o]=s[l+o];if(u+=f,l+=f,t-=f,t<=1){p=!0;break}}if(a[u++]=a[d++],--n===0){p=!0;break}if(h=E_(s[l],a,d,n,0,r),h!==0){for(o=0;o<h;o++)a[u+o]=a[d+o];if(u+=h,d+=h,n-=h,n===0){p=!0;break}}if(a[u++]=s[l++],--t===1){p=!0;break}c--}while(f>=7||h>=7);if(p)break;c<0&&(c=0),c+=2}if(this.minGallop=c,c<1&&(this.minGallop=1),t===1){for(o=0;o<n;o++)a[u+o]=a[d+o];a[u+n]=s[l]}else{if(t===0)throw new Error("mergeLow preconditions were not respected");for(o=0;o<t;o++)a[u+o]=s[l+o]}}mergeHigh(e,t,i,n){let r=this.compare,a=this.array,s=this.tmp,o=0;for(o=0;o<n;o++)s[o]=a[i+o];let l=e+t-1,d=n-1,u=i+n-1,c=0,f=0;if(a[u--]=a[l--],--t===0){for(c=u-(n-1),o=0;o<n;o++)a[c+o]=s[o];return}if(n===1){for(u-=t,l-=t,f=u+1,c=l+1,o=t-1;o>=0;o--)a[f+o]=a[c+o];a[u]=s[d];return}let h=this.minGallop;for(;;){let p=0,m=0,g=!1;do if(r(s[d],a[l])<0){if(a[u--]=a[l--],p++,m=0,--t===0){g=!0;break}}else if(a[u--]=s[d--],m++,p=0,--n===1){g=!0;break}while((p|m)<h);if(g)break;do{if(p=t-T_(s[d],a,e,t,t-1,r),p!==0){for(u-=p,l-=p,t-=p,f=u+1,c=l+1,o=p-1;o>=0;o--)a[f+o]=a[c+o];if(t===0){g=!0;break}}if(a[u--]=s[d--],--n===1){g=!0;break}if(m=n-E_(a[l],s,0,n,n-1,r),m!==0){for(u-=m,d-=m,n-=m,f=u+1,c=d+1,o=0;o<m;o++)a[f+o]=s[c+o];if(n<=1){g=!0;break}}if(a[u--]=a[l--],--t===0){g=!0;break}h--}while(p>=7||m>=7);if(g)break;h<0&&(h=0),h+=2}if(this.minGallop=h,h<1&&(this.minGallop=1),n===1){for(u-=t,l-=t,f=u+1,c=l+1,o=t-1;o>=0;o--)a[f+o]=a[c+o];a[u]=s[d]}else{if(n===0)throw new Error("mergeHigh preconditions were not respected");for(c=u-(n-1),o=0;o<n;o++)a[c+o]=s[o]}}};function Zae(e,t,i,n){if(!Array.isArray(e))throw new TypeError("Can only sort arrays");t?typeof t!="function"&&(n=i,i=t,t=P6):t=P6,i||(i=0),n||(n=e.length);let r=n-i;if(r<2)return;let a=0;if(r<32){a=I6(e,i,n,t),O6(e,i,n,i+a,t);return}let s=new qae(e,t),o=Gae(r);do{if(a=I6(e,i,n,t),a<o){let l=r;l>o&&(l=o),O6(e,i,i+l,i+a,t),a=l}s.pushRun(i,a),s.mergeRuns(),r-=a,i+=a}while(r!==0);s.forceMergeRuns()}function D_(e){let t=(0,bu.default)(new Int32Array(e.shape[0]),[e.shape[0]]),i=(0,bu.default)(new Int32Array(e.shape[0]),[e.shape[0]]);return un.bands(t,e,1023),un.lshifts(i,t,16),un.bxoreq(t,i),un.bandseq(t,4278190335),un.lshifts(i,t,8),un.bxoreq(t,i),un.bandseq(t,50393103),un.lshifts(i,t,4),un.bxoreq(t,i),un.bandseq(t,51130563),un.lshifts(i,t,2),un.bxoreq(t,i),un.bandseq(t,153391689),t}function Yae(e){let t=D_(e.pick(null,0)),i=D_(e.pick(null,1));un.lshiftseq(i,1);let n=D_(e.pick(null,2));return un.lshiftseq(n,2),un.boreq(t,i),un.boreq(t,n),t}function _u(e,t){if(e.shape[0]!==t.shape[0])throw new Error("wrong length");let i=(0,bu.default)(new Float32Array(e.size),e.shape,e.stride,e.offset);for(let n=0;n<t.shape[0];n++){let r=t.get(n);if(e.shape.length>1)for(let a=0;a<e.shape[1];a++)i.set(n,a,e.get(r,a));else i.set(n,e.get(r))}return i}function Xae(e){let t=un.sup(e),i=un.inf(e),n=1e3/Math.min(1e3,t-i),r=(0,bu.default)(new Float32Array(e.data),e.shape);un.mulseq(r,n);let a=(0,bu.default)(new Int32Array(r.data),e.shape),s=Yae(a),o=Array.from(s.data).map((d,u)=>[d,u]);Zae(o,(d,u)=>d[0]-u[0]);let l=o.map(([d,u])=>u);return(0,bu.default)(Uint32Array.from(l))}var bd=class{constructor(e,t,i,n,r,a,s,o,l,d){this.propertyDescs=e,this.format=t,this.nsplats=i,this.xyz=n,this.colors=r,this.harmonics=a,this.opacity=s,this.scaling=o,this.rotation=l,this.maxSHDegree=d}getPlyBinary(){let e=bd._generateHeaderString(this.propertyDescs,this.format,this.nsplats),t=new TextEncoder().encode(e),i=Object.keys(this.propertyDescs).length,n=(0,hl.default)(new Float32Array(this.nsplats*i),[this.nsplats,i]);if(Xt.assign(n.pick(null,this.propertyDescs.x.index),this.xyz.pick(null,0)),Xt.assign(n.pick(null,this.propertyDescs.y.index),this.xyz.pick(null,1)),Xt.assign(n.pick(null,this.propertyDescs.z.index),this.xyz.pick(null,2)),Xt.assign(n.pick(null,this.propertyDescs.f_dc_0.index),this.colors.pick(null,0)),Xt.assign(n.pick(null,this.propertyDescs.f_dc_1.index),this.colors.pick(null,1)),Xt.assign(n.pick(null,this.propertyDescs.f_dc_2.index),this.colors.pick(null,2)),Xt.assign(n.pick(null,this.propertyDescs.opacity.index),this.opacity.pick(null,0)),Xt.assign(n.pick(null,this.propertyDescs.scale_0.index),this.scaling.pick(null,0)),Xt.assign(n.pick(null,this.propertyDescs.scale_1.index),this.scaling.pick(null,1)),Xt.assign(n.pick(null,this.propertyDescs.scale_2.index),this.scaling.pick(null,2)),Xt.assign(n.pick(null,this.propertyDescs.rot_0.index),this.rotation.pick(null,0)),Xt.assign(n.pick(null,this.propertyDescs.rot_1.index),this.rotation.pick(null,1)),Xt.assign(n.pick(null,this.propertyDescs.rot_2.index),this.rotation.pick(null,2)),Xt.assign(n.pick(null,this.propertyDescs.rot_3.index),this.rotation.pick(null,3)),this.harmonics&&this.harmonics.length>0)for(let s=0;s<this.harmonics.length;s++){let o=s*3;Xt.assign(n.pick(null,this.propertyDescs[`f_rest_${o}`].index),this.harmonics[s].pick(null,0)),Xt.assign(n.pick(null,this.propertyDescs[`f_rest_${o+1}`].index),this.harmonics[s].pick(null,1)),Xt.assign(n.pick(null,this.propertyDescs[`f_rest_${o+2}`].index),this.harmonics[s].pick(null,2))}let r=new Uint8Array(n.data.buffer),a=new Uint8Array(r.length+t.length);return a.set(t),a.set(r,t.length),a.buffer}save(e,t){let i=this.getPlyBinary(),n=new Blob([i],{type:"application/octet-stream"}),r=new File([n],e),a=new FormData;a.append("file",r),a.append("filename",e),a.append("basedir",t),fetch(`${Hae}/push_file`,{method:"POST",body:a})}static loadFile(e){return ri(this,null,function*(){return yield(yield fetch(e)).arrayBuffer()})}mortonPositionSplatsSort(){let e=Xae(this.xyz),t=_u(this.xyz,e),i=_u(this.colors,e),n=_u(this.opacity,e),r=_u(this.scaling,e),a=_u(this.rotation,e),s=[];for(let o=0;o<this.harmonics.length;o++)s.push(_u(this.harmonics[o],e));return new bd(this.propertyDescs,this.format,this.nsplats,t,i,s,n,r,a,this.maxSHDegree)}static _generateHeaderString(e,t,i){let n=`ply
format ${t.format} ${t.version}
element vertex ${i}`,r=Object.keys(e).length,a=Array(r);for(let s in e){let o=e[s];a[o.index]={name:s,dtype:o.dtype}}for(let s=0;s<a.length;s++)n=`${n}
property ${a[s].dtype} ${a[s].name}`;return`${n}
end_header
`}static fromArrayBuffer(e,t=3){let{splatCount:i,vertexData:n,propertiesDesc:r,format:a}=bd.decodeHeader(e),s=n.buffer.slice(n.byteOffset),o=Object.keys(r).length,l=(0,hl.default)(new Float32Array(s),[i,o]),d=0,u={},c={double:8,int:4,uint:4,float:4,short:2,ushort:2,uchar:1};for(let b in r)if(r.hasOwnProperty(b)){let _=r[b].dtype;u[b]=d,d+=c[_]}let f=(0,hl.default)(new Float32Array(i*3),[i,3]);Xt.assign(f.pick(null,0),l.pick(null,u.x/4)),Xt.assign(f.pick(null,1),l.pick(null,u.y/4)),Xt.assign(f.pick(null,2),l.pick(null,u.z/4));let h=(0,hl.default)(new Float32Array(i*3),[i,3]);Xt.assign(h.pick(null,0),l.pick(null,u.scale_0/4)),Xt.assign(h.pick(null,1),l.pick(null,u.scale_1/4)),Xt.assign(h.pick(null,2),l.pick(null,u.scale_2/4));let p=(0,hl.default)(new Float32Array(i*3),[i,3]);Xt.assign(p.pick(null,0),l.pick(null,u.f_dc_0/4)),Xt.assign(p.pick(null,1),l.pick(null,u.f_dc_1/4)),Xt.assign(p.pick(null,2),l.pick(null,u.f_dc_2/4));let m=(0,hl.default)(new Float32Array(i*4),[i,4]);Xt.assign(m.pick(null,0),l.pick(null,u.rot_1/4)),Xt.assign(m.pick(null,1),l.pick(null,u.rot_2/4)),Xt.assign(m.pick(null,2),l.pick(null,u.rot_3/4)),Xt.assign(m.pick(null,3),l.pick(null,u.rot_0/4));for(let b=0;b<i;b++){let _=m.pick(b,null),x=Math.sqrt(Si(_.get(0),2)+Si(_.get(1),2)+Si(_.get(2),2)+Si(_.get(3),2));Xt.divseq(_,x)}let g=(0,hl.default)(new Float32Array(i*1),[i,1]);Xt.assign(g.pick(null,0),l.pick(null,u.opacity/4));let v=Si(Math.min(Math.max(t,0),3)+1,2)-1,y=[];for(let b=0;b<v;b++){let _=(0,hl.default)(new Float32Array(i*3),[i,3]),x=b*3;Xt.assign(_.pick(null,0),l.pick(null,u[`f_rest_${x}`]/4)),Xt.assign(_.pick(null,1),l.pick(null,u[`f_rest_${x+1}`]/4)),Xt.assign(_.pick(null,2),l.pick(null,u[`f_rest_${x+2}`]/4)),y.push(_)}return new bd(r,a,i,f,p,y,g,h,m,t)}static fromPLYFile(e,t=3){return ri(this,null,function*(){let i=yield bd.loadFile(e);return bd.fromArrayBuffer(i,t)})}static decodeHeader(e){let t=new TextDecoder,i=0,n="",r=100;for(;;){if(i+r>=e.byteLength)throw new Error("End of file reached while searching for end of header");let h=new Uint8Array(e,i,r);n+=t.decode(h),i+=r;let p=i-r*2,m=new Uint8Array(e,Math.max(0,p),p>0?r*2:r);if(t.decode(m).includes("end_header"))break}let a=n.split(`
`),s=0,o={},l={},d=0,u;for(let h=0;h<a.length;h++){let p=a[h].trim();if(p.startsWith("element vertex")){let m=p.match(/\d+/);m&&(s=parseInt(m[0]))}else if(p.startsWith("property")){let m=p.match(/(\w+)\s+(\w+)\s+(\w+)/);if(m){let g=m[2],v=m[3];o[v]=d,l[v]={dtype:g,index:d},d++}}else if(p.startsWith("format")){let m=p.match(/(\w+)\s+(\w+)\s+(\d+\.?\d*)/);m&&(u={format:m[2],version:m[3]})}else if(p==="end_header")break}let c=n.indexOf("end_header")+10+1,f=new DataView(e,c);return{splatCount:s,vertexData:f,headerOffset:i,propertiesDesc:l,format:u}}},P_=class{constructor(e,t,i,n,r,a,s,o){this.config=e,this.xyz=t,this.scaling=i,this.color=n,this.opacity=r,this.harmonics=s,this.quaternion=a,this.variableChunkSize=o}get isDynamicChunks(){return this.variableChunkSize&&this.variableChunkSize.length>0}get nchunks(){return this.xyz.nchunks}get nsplats(){return this.xyz.length}get chunkSize(){return this.config.chunkSize}static compressFromGaussianData(e,t){let i=Wi.fromArray(e.xyz,t.xyz,t.chunkSize),n=Wi.fromArray(e.scaling,t.scaling,t.chunkSize),r=Wi.fromArray(e.colors,t.color,t.chunkSize),a=Wi.fromArray(e.opacity,t.opacity,t.chunkSize),s=Wi.fromArray(e.rotation,t.quaternion,t.chunkSize),o=e.harmonics,l=[];if(t.harmonics)for(let d=0;d<o.length;d++){let u=Wi.fromArray(o[d],t.harmonics,t.chunkSize);l.push(u)}return new P_(t,i,n,r,a,s,l)}_countIndexesInChunks(e){let t=[],i=this.nchunks,n=this.chunkSize,r=this.nsplats,a=Wi.getRequiredNChunks(r,n);if(i===a)for(let s=0;s<e.length;s++){let o=e[s],l=Math.floor(o/this.chunkSize);l in t?t[l].push(o):t[l]=[o]}else{let s=this.variableChunkSize,o={},l=0;for(let d=0;d<i;d++)o[d]=l,l+=s[d];for(let d=0;d<e.length;d++){let u=e[d],c=Math.min(Math.floor(u/n),i-1);for(;u>=o[c]+s[c];)c++;c in t?t[c].push(u):t[c]=[u]}}return t}pruneSplats(e){let t=this._countIndexesInChunks(e),i,n=[];return t.length>0&&(i=this.variableChunkSize?[...this.variableChunkSize]:Array(this.nchunks).fill(this.chunkSize),t.forEach((r,a)=>{i[a]-=r.length,i[a]<=0&&n.push(a)}),i=i.filter(r=>r>0)),new P_(this.config,this.xyz.pruneFeature(e,n,i),this.scaling.pruneFeature(e,n,i),this.color.pruneFeature(e,n,i),this.opacity.pruneFeature(e,n,i),this.quaternion.pruneFeature(e,n,i),this.harmonics?this.harmonics.map(r=>r.pruneFeature(e,n,this.variableChunkSize)):void 0,i)}static loadConfig(e){return ri(this,null,function*(){return yield(yield fetch(e,{method:"GET",mode:"cors",headers:{Accept:"application/json"}})).json()})}toGaussians(){var r;let e={format:"binary_little_endian",version:"1.0"},t={},i=0;if(t.x={dtype:"float",index:i},i++,t.y={dtype:"float",index:i},i++,t.z={dtype:"float",index:i},i++,t.f_dc_0={dtype:"float",index:i},i++,t.f_dc_1={dtype:"float",index:i},i++,t.f_dc_2={dtype:"float",index:i},i++,this.harmonics&&this.harmonics.length>0)for(let a=0;a<this.harmonics.length;a++)t[`f_rest_${a}`]={dtype:"float",index:i},i++,t[`f_rest_${a+1}`]={dtype:"float",index:i},i++,t[`f_rest_${a+2}`]={dtype:"float",index:i},i++;t.opacity={dtype:"float",index:i},i++,t.scale_0={dtype:"float",index:i},i++,t.scale_1={dtype:"float",index:i},i++,t.scale_2={dtype:"float",index:i},i++,t.rot_0={dtype:"float",index:i},i++,t.rot_1={dtype:"float",index:i},i++,t.rot_2={dtype:"float",index:i},i++,t.rot_3={dtype:"float",index:i},i++;let n=(r=this.harmonics)==null?void 0:r.map(a=>a.denormDequant());return new bd(t,e,this.xyz.length,this.xyz.denormDequant(),this.color.denormDequant(),n||[],this.opacity.denormDequant(),this.scaling.denormDequant(),this.quaternion.denormDequant(),3)}},wu=En(Ju()),wa=En($u()),j6={xyz:3,color:3,opacity:1,scaling:3,quaternion:4,harmonics:3},I_=class{constructor(e){this._buffer=e}get buffer(){return this._buffer}get decoded(){return this._decoded||(this._decoded=this.decodeBuffer()),this._decoded}get colorsA(){let e=.28209479177387814,t=this.decoded.color.denormDequant(),i=this.decoded.opacity.denormDequant(),n=(0,wu.default)(new Float32Array(t.shape[0]*4),[t.shape[0],4]);return wa.mulseq(t,e),wa.addseq(t,.5),wa.mulseq(t,255),wa.maxseq(t,0),wa.minseq(t,255),wa.negeq(i),wa.expeq(i),wa.addseq(i,1),wa.recipeq(i),wa.mulseq(i,255),wa.assign(n.hi(t.shape[0],3).lo(0,0),t),wa.assign(n.hi(t.shape[0],4).lo(0,3),i),(0,wu.default)(new Uint8Array(n.data),[t.shape[0],4]).data}get nsplats(){return this.decoded.nsplats}getSplatCount(){return this.decoded.nsplats}get precomputedCovarianceBufferData(){return this._precomputedCovarianceBufferData}decodeBuffer(){let{splatCount:e,chunkCount:t,chunkSize:i,typeChunks:n,vertexData:r,propertiesDesc:a}=this.decodeHeader(),s={xyz:a.xyz.compressionMethod,color:a.color.compressionMethod,opacity:a.opacity.compressionMethod,scaling:a.scaling.compressionMethod,quaternion:a.quaternion.compressionMethod,chunkSize:i};a.harmonics_0&&(s.harmonics=a.harmonics_0.compressionMethod);let o=r.byteOffset,l=Array(Object.keys(a).length);for(let g in a)l[a[g].index]={name:g,method:a[g].compressionMethod};let d=t*2*4,u=o,c=n==="dynamic"?t*2:0,f,h=!1;if(c>0){let g=new Uint16Array(r.buffer.slice(u,u+c));u+=c,f=Array.from(g),h=!0}let p={};for(let g of l){let v=0,y=!0;if(g.method==="norm8x")v=e*1*j6[g.name];else if(g.method==="norm11")v=e*4;else if(g.method==="norm565")v=e*2;else throw y=!1,new Error(`Not Implemented format: ${g.method}`);let b;if(y){let k=r.buffer.slice(u,u+d);b=(0,wu.default)(new Float32Array(k),[t,2]),u+=d}else throw new Error("loading chunk byt hasnot minmax!");let _=r.buffer.slice(u,u+v);u+=v;let x;if(g.method==="norm8x")x=(0,wu.default)(new Uint8Array(_),[e,j6[g.name]]);else if(g.method==="norm11")x=(0,wu.default)(new Uint32Array(_));else if(g.method==="norm565")x=(0,wu.default)(new Uint16Array(_));else throw new Error(`Not Implemented format: ${g.method}`);p[g.name]=new Wi(x,b,i,g.method,f,h)}let m=[];for(let g=0;g<15;g++){let v=p[`harmonics_${g}`];v&&(m.push(v),delete p[`harmonics_${g}`])}return m.length>0&&(p.harmonics=m),new P_(s,p.xyz,p.scaling,p.color,p.opacity,p.quaternion,p.harmonics,f)}buildPreComputedBuffers(){let e=this.decoded,t=e.nsplats,i=new ArrayBuffer(24*t),n=new Float32Array(i),r=e.scaling.denormDequant(),a=e.quaternion.denormDequant(),s=new Ct,o=new Yi,l=new Yi,d=new Yi,u=new Ee;for(let c=0;c<t;c++){u.makeScale(Math.exp(r.get(c,0)),Math.exp(r.get(c,1)),Math.exp(r.get(c,2))),l.setFromMatrix4(u),s.set(a.get(c,0),a.get(c,1),a.get(c,2),a.get(c,3)),u.makeRotationFromQuaternion(s),o.setFromMatrix4(u),d.copy(o).multiply(l);let f=d.elements;n[6*c]=f[0]*f[0]+f[3]*f[3]+f[6]*f[6],n[6*c+1]=f[0]*f[1]+f[3]*f[4]+f[6]*f[7],n[6*c+2]=f[0]*f[2]+f[3]*f[5]+f[6]*f[8],n[6*c+3]=f[1]*f[1]+f[4]*f[4]+f[7]*f[7],n[6*c+4]=f[1]*f[2]+f[4]*f[5]+f[7]*f[8],n[6*c+5]=f[2]*f[2]+f[5]*f[5]+f[8]*f[8]}this._precomputedCovarianceBufferData=i}decodeHeader(){let e=this._buffer,t=new TextDecoder,i=0,n="",r=100;for(;;){if(i+r>=e.byteLength)throw new Error("End of file reached while searching for end of header");let p=new Uint8Array(e,i,r);n+=t.decode(p),i+=r;let m=i-r*2,g=new Uint8Array(e,Math.max(0,m),m>=0?r*2:r);if(t.decode(g).includes("end_header"))break}let a=n.split(`
`),s=0,o=0,l=0,d=0,u="",c={};for(let p=0;p<a.length;p++){let m=a[p].trim();if(m.startsWith("element vertex")){let g=m.match(/\d+/);g&&(s=parseInt(g[0]))}else if(m.startsWith("property")){let g=m.match(/(\w+)\s+(\w+)\s+(\w+)/);if(g){let v=g[2],y=g[3];c[v]={compressionMethod:y,index:d},d++}}else if(m.startsWith("element chunks")){let g=m.match(/\d+/);g&&(o=parseInt(g[0]))}else if(m.startsWith("element chunkSize")){let g=m.match(/\d+/);g&&(l=parseInt(g[0]))}else if(m.startsWith("element typeChunks")){let g=m.match(/(\w+)\s+(\w+)\s+(\w+)/);g&&(u=g[3])}else if(m==="end_header")break}let f=n.indexOf("end_header")+10+1,h=new DataView(e,f);return{splatCount:s,chunkCount:o,chunkSize:l,typeChunks:u,vertexData:h,propertiesDesc:c}}pruneSplats(e){let t=this.decodeBuffer().pruneSplats(e);return I_.fromCompressedGaussianSplats(t)}static fromCompressedGaussianSplats(e){let t=e.xyz.length,i=e.xyz.nchunks,n=`gspline
element vertex ${t}
element chunks ${i}
element chunkSize ${e.chunkSize}
element typeChunks ${e.isDynamicChunks?"dynamic":"static"}
property xyz ${e.xyz.method}
property color ${e.color.method}
property opacity ${e.opacity.method}
property scaling ${e.scaling.method}
property quaternion ${e.quaternion.method}`;if(e.harmonics&&e.harmonics.length>0)for(let w=0;w<e.harmonics.length;w++)n=`${n}
property harmonics_${w} ${e.harmonics[w].method}`;n=`${n}
end_header
`;let r=new TextEncoder().encode(n),a=i*2*4,s=e.xyz.quantized.data.buffer.byteLength,o=e.xyz instanceof Wi?a:0,l=e.color.quantized.data.buffer.byteLength,d=e.color instanceof Wi?a:0,u=e.opacity.quantized.data.buffer.byteLength,c=e.opacity instanceof Wi?a:0,f=e.scaling.quantized.data.buffer.byteLength,h=e.scaling instanceof Wi?a:0,p=e.quaternion.quantized.data.buffer.byteLength,m=e.quaternion instanceof Wi?a:0,g=e.variableChunkSize?Uint16Array.from(e.variableChunkSize):void 0,v=g?g.byteLength:0,y=r.byteLength+v+s+o+l+d+u+c+f+h+p+m,b=0,_=0;if(e.harmonics&&e.harmonics.length>0)for(let w=0;w<e.harmonics.length;w++)b+=e.harmonics[w].quantized.data.buffer.byteLength,_+=e.harmonics[w]instanceof Wi?a:0;b=0,_=0,y+=b+_;let x=new Uint8Array(y),k=0;if(x.set(r,k),k+=r.byteLength,v>0&&(x.set(new Uint8Array(g.buffer),k),k+=v),e.xyz instanceof Wi&&(x.set(new Uint8Array(e.xyz.minmaxMatrix.data.buffer),k),k+=a),x.set(new Uint8Array(e.xyz.quantized.data.buffer),k),k+=s,e.color instanceof Wi&&(x.set(new Uint8Array(e.color.minmaxMatrix.data.buffer),k),k+=a),x.set(new Uint8Array(e.color.quantized.data.buffer),k),k+=l,e.opacity instanceof Wi&&(x.set(new Uint8Array(e.opacity.minmaxMatrix.data.buffer),k),k+=a),x.set(new Uint8Array(e.opacity.quantized.data.buffer),k),k+=u,e.scaling instanceof Wi&&(x.set(new Uint8Array(e.scaling.minmaxMatrix.data.buffer),k),k+=a),x.set(new Uint8Array(e.scaling.quantized.data.buffer),k),k+=f,e.quaternion instanceof Wi&&(x.set(new Uint8Array(e.quaternion.minmaxMatrix.data.buffer),k),k+=a),x.set(new Uint8Array(e.quaternion.quantized.data.buffer),k),k+=p,b>0&&e.harmonics&&e.harmonics.length>0)for(let w=0;w<e.harmonics.length;w++){let S=e.harmonics[w];S instanceof Wi&&(x.set(new Uint8Array(S.minmaxMatrix.data.buffer),k),k+=a),x.set(new Uint8Array(S.quantized.data.buffer),k),k+=S.quantized.data.byteLength}return new I_(x.buffer)}},Kae="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAETA2AAAGAIf39/f39/f38AYAABfwISAQNlbnYGbWVtb3J5AgMAgIAEAwQDAAECBzkDEV9fd2FzbV9jYWxsX2N0b3JzAAALc29ydEluZGV4ZXMAARNlbXNjcmlwdGVuX3Rsc19pbml0AAIK3gMDAwABC9IDAwF/BnwBfgJAIAdFDQAgAysDUCEMIAMrAzAhDSADKwMQIQ5BACEDRP///////+9/IQtEAAAAAAAAEAAhCgNAIAIgA0ECdGoCfyAOIAEgA0EMbGoiCCoCALuiIA0gCCoCBLuioCAMIAgqAgi7oqBEAAAAAAAAsECiIgmZRAAAAAAAAOBBYwRAIAmqDAELQYCAgIB4CzYCACAJIAsgCSALYxshCyAJIAogCSAKZBshCiADQQFqIgMgB0cNAAsgB0UNACAGuCAKIAuhoyEJQQAhAwNAAn8gCSACIANBAnRqIgEoAgC3IAuhoiIKmUQAAAAAAADgQWMEQCAKqgwBC0GAgICAeAshCCABIAg2AgAgBCAIQQJ0aiIBIAEoAgBBAWo2AgAgA0EBaiIDIAdHDQALCyAGQQJPBEAgBCgCACEIQQEhAwNAIAQgA0ECdGoiASABKAIAIAhqIgg2AgAgA0EBaiIDIAZHDQALCyAHQQFrIgGtIQ8DQCAEIAIgD6dBAnQiA2ooAgBBAnRqIgcgBygCAEEBayIHNgIAIAUgASAHa0ECdGogACADaigCADYCACAPUCEDIA9CAX0hDyADRQ0ACyAGBEAgBEEAIAZBAnT8CwALCwQAQQAL",pl=class{};or(pl,"DepthMapRange",65536),or(pl,"MemoryPageSize",65536),or(pl,"BytesPerFloat",4),or(pl,"BytesPerInt",4);function Qae(e){let t,i,n,r,a,s,o,l,d,u,c,f,h,p,m,g;function v(C){let T=new Float64Array(u,s,16);for(let I=0;I<16;I++)T[I]=C[I];let P;if(n>1){t.exports.sortIndexes(r,a,d,s,o,l,f.DepthMapRange,n);let I=new Uint32Array(n);P=I.buffer,I.set(new Uint32Array(u,l,n))}else if(n===1){let I=new Uint32Array(n);I[0]=new Uint32Array(u,r,i)[0],P=I.buffer}else P=new ArrayBuffer(0);e.postMessage({sortDone:!0,indexesBuffer:P},[P])}function y(C,T,P){let I=new Float32Array(u,a,i*3);n=0;let j=new Uint32Array(u,r,i);for(let H=0;H<P.length-1;H++){let U=T[H],O=C[H].elements,F=U.filter(G=>G.enabled&&G.mode==="Include").map(G=>G.type==="Box"?k(G):A(G)),Z=U.filter(G=>G.enabled&&G.mode==="Exclude").map(G=>G.type==="Box"?k(G):A(G));for(let G=P[H];G<P[H+1];G++){let L=h[G*3],X=h[G*3+1],q=h[G*3+2];if((F.length===0||_(L,X,q,F))&&(Z.length===0||!_(L,X,q,Z))){let J=1/(O[3]*L+O[7]*X+O[11]*q+O[15]);I[n*3]=(O[0]*L+O[4]*X+O[8]*q+O[12])*J,I[n*3+1]=(O[1]*L+O[5]*X+O[9]*q+O[13])*J,I[n*3+2]=(O[2]*L+O[6]*X+O[10]*q+O[14])*J,j[n]=G,n++}}}}function b(C,T){let P=[],I=T.filter(U=>U.enabled&&U.mode==="Include").map(U=>U.type==="Box"?k(U):A(U)),j=T.filter(U=>U.enabled&&U.mode==="Exclude").map(U=>U.type==="Box"?k(U):A(U)),H=C.length;for(let U=0;U<H;U+=3){let O=C[U],F=C[U+1],Z=C[U+2];(I.length===0||_(O,F,Z,I))&&(j.length===0||!_(O,F,Z,j))||P.push(U/3)}return console.log(P),P}function _(C,T,P,I,j){return I[j==="Intersect"?"every":"some"](H=>{let U=x(C,T,P,H.invRotationMatrix,H.cropCenter);return Array.isArray(H)?S(U.x,U.y,U.z,H):M(U.x,U.y,U.z,H)})}function x(C,T,P,I,j){let H=C-j[0],U=T-j[1],O=P-j[2],F=1/(I[3]*H+I[7]*U+I[11]*O+I[15]);return{x:(I[0]*H+I[4]*U+I[8]*O+I[12])*F+j[0],y:(I[1]*H+I[5]*U+I[9]*O+I[13])*F+j[1],z:(I[2]*H+I[6]*U+I[10]*O+I[14])*F+j[2]}}function k(C){let T=C.cropSize[0]/2,P=C.cropSize[1]/2,I=C.cropSize[2]/2,j=[C.cropCenter[0]-T,C.cropCenter[1]-P,C.cropCenter[2]-I,C.cropCenter[0]+T,C.cropCenter[1]+P,C.cropCenter[2]+I],H=w(C.cropRotation);return Object.assign(j,{invRotationMatrix:H,cropCenter:C.cropCenter})}function w(C){let T=[],P=C[0]*Math.PI/180,I=C[1]*Math.PI/180,j=C[2]*Math.PI/180,H=Math.cos(P),U=Math.sin(P),O=Math.cos(I),F=Math.sin(I),Z=Math.cos(j),G=Math.sin(j),L=H*Z,X=H*G,q=U*Z,J=U*G;return T[0]=O*Z,T[1]=-O*G,T[2]=F,T[4]=X+q*F,T[5]=L-J*F,T[6]=-U*O,T[8]=J-L*F,T[9]=q+X*F,T[10]=H*O,T[12]=0,T[13]=0,T[14]=0,T[3]=0,T[7]=0,T[11]=0,T[15]=1,T}function S(C,T,P,I){return C>=I[0]&&C<=I[3]&&T>=I[1]&&T<=I[4]&&P>=I[2]&&P<=I[5]}function A(C){let T=2/C.cropSize[0],P=2/C.cropSize[1],I=2/C.cropSize[2],j=w(C.cropRotation);return{invRadiusX:T,invRadiusY:P,invRadiusZ:I,cropCenter:C.cropCenter,invRotationMatrix:j}}function M(C,T,P,I){let j=(C-I.cropCenter[0])*I.invRadiusX,H=(T-I.cropCenter[1])*I.invRadiusY,U=(P-I.cropCenter[2])*I.invRadiusZ;return j*j+H*H+U*U<=1}e.onmessage=C=>{if(C.data.getCroppedIndexes){let T=new Uint32Array(b(new Float32Array(C.data.positions),C.data.crops)).buffer;e.postMessage({outOfBoundsIndexes:T},[T])}else if(C.data.positions)c=C.data.positions,h=new Float32Array(c),m=C.data.meshMatrixWorlds,g=C.data.cropsArray,p=C.data.meshIndexIntervals,y(m,g,p),e.postMessage({sortSetupComplete:!0});else if(C.data.sort||C.data.newMatrixWorlds||C.data.newCropsArray)(C.data.newMatrixWorlds||C.data.newCropsArray)&&(g=C.data.newCropsArray||g,m=C.data.newMatrixWorlds||m,y(m,g,p)),v(C.data.sort.view,C.data.sort.cameraPosition);else if(C.data.init){f=C.data.init.Constants,i=C.data.init.splatCount;let T=f.BytesPerInt,P=f.BytesPerFloat*3,I=new Uint8Array(C.data.init.sorterWasmBytes),j=T+P,H=i*j,U=i*f.BytesPerInt*2+f.DepthMapRange*f.BytesPerInt*2,O=f.MemoryPageSize*32,F=H+U+O,Z=Math.floor(F/f.MemoryPageSize)+1,G={module:{},env:{memory:new WebAssembly.Memory({initial:Z*2,maximum:Z*3,shared:!0})}};WebAssembly.compile(I).then(L=>WebAssembly.instantiate(L,G)).then(L=>{t=L,r=0,a=i*T,s=a+i*P,d=s+16*f.BytesPerFloat*2,o=d+i*f.BytesPerInt,l=o+f.DepthMapRange*f.BytesPerInt,u=G.env.memory.buffer,e.postMessage({sortSetupPhase1Complete:!0})})}}}function Jae(e){let t=new Worker(URL.createObjectURL(new Blob(["(",Qae.toString(),")(self)"],{type:"application/javascript"}))),i=atob(Kae),n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return t.postMessage({init:{sorterWasmBytes:n.buffer,splatCount:e,Constants:{BytesPerFloat:pl.BytesPerFloat,BytesPerInt:pl.BytesPerInt,DepthMapRange:pl.DepthMapRange,MemoryPageSize:pl.MemoryPageSize}}}),t}var O_=function(){let e=new Float32Array(1),t=new Int32Array(e.buffer);return function(i){return e[0]=i,t[0]}}(),$ae=function(e,t,i,n){return e+(t<<8)+(i<<16)+(n<<24)},Hg=new Y,Gg=class extends cr{constructor(e,t,i,n,r=!1,a=1,s,o){super(i,n),this.splatCount=t,this.meshIndexIntervals=s,this.meshMatrixWorlds=o,this.splatBuffers=e,this.geometry=i,this.material=n,this.splatDataTextures=null,this.halfPrecisionCovariancesOnGPU=r,this.devicePixelRatio=a,this.resetLocalSplatDataAndTexturesFromSplatBuffer()}static buildMesh(e,t,i=!1,n=1,r,a){let s=Gg.buildGeomtery(t),o=Gg.buildMaterial(r);return new Gg(e,t,s,o,i,n,r,a)}static buildMaterial(e){let t=`
            precision highp float;
            #include <common>

            attribute uint splatIndex;

            uniform highp sampler2D covariancesTexture;
            uniform highp usampler2D centersColorsTexture;
            uniform vec2 focal;
            uniform vec2 viewport;
            uniform vec2 basisViewport;
            uniform vec2 covariancesTextureSize;
            uniform vec2 centersColorsTextureSize;
						uniform highp sampler2D meshMatrixWorldsTexture;
						uniform uint meshIndexIntervals[257];
						uniform float orthoZoom;

            varying vec4 vColor;
            varying vec2 vUv;

            varying vec2 vPosition;

            const vec4 encodeNorm4 = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0);
            const uvec4 mask4 = uvec4(uint(0x000000FF), uint(0x0000FF00), uint(0x00FF0000), uint(0xFF000000));
            const uvec4 shift4 = uvec4(0, 8, 16, 24);
            vec4 uintToRGBAVec (uint u) {
               uvec4 urgba = mask4 & u;
               urgba = urgba >> shift4;
               vec4 rgba = vec4(urgba) * encodeNorm4;
               return rgba;
            }

            vec2 getDataUV(in int stride, in int offset, in vec2 dimensions) {
                vec2 samplerUV = vec2(0.0, 0.0);
                float d = float(splatIndex * uint(stride) + uint(offset)) / dimensions.x;
                samplerUV.y = float(floor(d)) / dimensions.y;
                samplerUV.x = fract(d);
                return samplerUV;
            }

            void main () {
                uvec4 sampledCenterColor = texture(centersColorsTexture, getDataUV(1, 0, centersColorsTextureSize));
                vec3 splatCenter = uintBitsToFloat(uvec3(sampledCenterColor.gba));
                vColor = uintToRGBAVec(sampledCenterColor.r);

                vPosition = position.xy * 2.0;

								uint meshIndex;
								for (int i = 1; i < 257; i++) {
									if (splatIndex < meshIndexIntervals[i]) {
										meshIndex = uint(i - 1);
										break;
									}
								}

								float strideMulmeshIndex = float(4u*meshIndex);
								float meshMatrixWorldsTextureLength = float(256*4);

								mat4 modelMat = mat4(
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+0.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+1.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+2.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+3.0)/meshMatrixWorldsTextureLength, 0))
								);
								mat4 modelViewMat = viewMatrix * modelMat;
								vec4 viewCenter = modelViewMat * vec4(splatCenter, 1.0); 
                vec4 clipCenter = projectionMatrix * viewCenter;

                vec2 sampledCovarianceA = texture(covariancesTexture, getDataUV(3, 0, covariancesTextureSize)).rg;
                vec2 sampledCovarianceB = texture(covariancesTexture, getDataUV(3, 1, covariancesTextureSize)).rg;
                vec2 sampledCovarianceC = texture(covariancesTexture, getDataUV(3, 2, covariancesTextureSize)).rg;

                vec3 cov3D_M11_M12_M13 = vec3(sampledCovarianceA.rg, sampledCovarianceB.r);
                vec3 cov3D_M22_M23_M33 = vec3(sampledCovarianceB.g, sampledCovarianceC.rg);

                // Compute the 2D covariance matrix from the upper-right portion of the 3D covariance matrix
                mat3 Vrk = mat3(
                    cov3D_M11_M12_M13.x, cov3D_M11_M12_M13.y, cov3D_M11_M12_M13.z,
                    cov3D_M11_M12_M13.y, cov3D_M22_M23_M33.x, cov3D_M22_M23_M33.y,
                    cov3D_M11_M12_M13.z, cov3D_M22_M23_M33.y, cov3D_M22_M23_M33.z
                );
                float s = 1.0 / (viewCenter.z * viewCenter.z);

                mat3 W = transpose(mat3(modelViewMat));
                mat3 T = orthoZoom > 0.0 ? W : W * mat3(
									focal.x / viewCenter.z, 0., -(focal.x * viewCenter.x) * s,
									0., focal.y / viewCenter.z, -(focal.y * viewCenter.y) * s,
									0., 0., 0.
								);
                mat3 cov2Dm = transpose(T) * Vrk * T;
                cov2Dm[0][0] += 0.3;
                cov2Dm[1][1] += 0.3;

                // We are interested in the upper-left 2x2 portion of the projected 3D covariance matrix because
                // we only care about the X and Y values. We want the X-diagonal, cov2Dm[0][0],
                // the Y-diagonal, cov2Dm[1][1], and the correlation between the two cov2Dm[0][1]. We don't
                // need cov2Dm[1][0] because it is a symetric matrix.
                vec3 cov2Dv = vec3(cov2Dm[0][0], cov2Dm[0][1], cov2Dm[1][1]);

                vec3 ndcCenter = clipCenter.xyz / clipCenter.w;

                // We now need to solve for the eigen-values and eigen vectors of the 2D covariance matrix
                // so that we can determine the 2D basis for the splat. This is done using the method described
                // here: https://people.math.harvard.edu/~knill/teaching/math21b2004/exhibits/2dmatrices/index.html
                //
                // This is a different approach than in the original work at INRIA. In that work they compute the
                // max extents of the 2D covariance matrix in screen space to form an axis aligned bounding rectangle
                // which forms the geometry that is actually rasterized. They then use the inverse 2D covariance
                // matrix (called 'conic') to determine fragment opacity.
                float a = cov2Dv.x;
                float d = cov2Dv.z;
                float b = cov2Dv.y;
                float D = a * d - b * b;
                float trace = a + d;
                float traceOver2 = 0.5 * trace;
                float term2 = sqrt(trace * trace / 4.0 - D);
                float eigenValue1 = traceOver2 + term2;
								float eigenValue2 = max(traceOver2 - term2, 0.00); // prevent negative eigen value

                const float maxSplatSize = 1024.0;
                vec2 eigenVector1 = normalize(vec2(b, eigenValue1 - a));
                // since the eigen vectors are orthogonal, we derive the second one from the first
                vec2 eigenVector2 = vec2(eigenVector1.y, -eigenVector1.x);
                vec2 basisVector1 = eigenVector1 * min(sqrt(2.0 * eigenValue1), maxSplatSize);
                vec2 basisVector2 = eigenVector2 * min(sqrt(2.0 * eigenValue2), maxSplatSize);

                vec2 ndcOffset = vec2(vPosition.x * basisVector1 + vPosition.y * basisVector2) * basisViewport;

								if (orthoZoom > 0.0) {
									ndcOffset *= orthoZoom;
								}

                gl_Position = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
            }`,i=`
            precision highp float;
            #include <common>

            uniform vec3 debugColor;

            varying vec4 vColor;
            varying vec2 vUv;

            varying vec2 vPosition;
						layout(location = 1) out vec4 gVelocity; 

            void main () {
                // compute the negative squared distance from the center of the splat to the
                // current fragment in the splat's local space.
                float A = -dot(vPosition, vPosition);
                if (A < -4.0) discard;
                vec3 color = vColor.rgb;
                A = exp(A) * vColor.a;
                gl_FragColor = vec4(color.rgb, A);
								gVelocity = vec4(0.0); // so it is ignored by TAA
            }`,n={covariancesTexture:{type:"t",value:null},centersColorsTexture:{type:"t",value:null},meshIndexIntervals:{value:e},meshMatrixWorldsTexture:{type:"t",value:null},focal:{type:"v2",value:new Y},viewport:{type:"v2",value:new Y},basisViewport:{type:"v2",value:new Y},debugColor:{type:"v3",value:new pt},covariancesTextureSize:{type:"v2",value:new Y(1024,1024)},centersColorsTextureSize:{type:"v2",value:new Y(1024,1024)},orthoZoom:{type:"f",value:-1}};return new _i({uniforms:n,vertexShader:t,fragmentShader:i,transparent:!0,alphaTest:1,blending:jl,depthTest:!0,depthWrite:!1,side:Cr})}static buildGeomtery(e){let t=new dt;t.setIndex([0,1,2,0,2,3]);let i=new Float32Array(4*3),n=new _t(i,3);t.setAttribute("position",n),n.setXYZ(0,-1,-1,0),n.setXYZ(1,-1,1,0),n.setXYZ(2,1,1,0),n.setXYZ(3,1,-1,0),n.needsUpdate=!0;let r=new gM().copy(t),a=new Uint32Array(e),s=new FA(a,1,!1);return s.setUsage(PL),r.setAttribute("splatIndex",s),r.instanceCount=e,r}resetLocalSplatDataAndTexturesFromSplatBuffer(){this.updateLocalSplatDataFromSplatBuffer(),this.allocateAndStoreLocalSplatDataInTextures()}updateLocalSplatDataFromSplatBuffer(){this.splatBuffers.forEach(n=>n.buildPreComputedBuffers()),this.covariances=new Float32Array(this.splatCount*6),this.colors=new Uint8Array(this.splatCount*4),this.centers=new Float32Array(this.splatCount*3);let e=0,t=0,i=0;for(let n of this.splatBuffers){let r=n.nsplats;this.colors.subarray(e,e+r*4).set(n.colorsA),e+=r*4,this.centers.subarray(t,t+r*3).set(n.decoded.xyz.denormDequant().data),t+=r*3,this.covariances.subarray(i,i+r*6).set(new Float32Array(n.precomputedCovarianceBufferData)),i+=r*6}}allocateAndStoreLocalSplatDataInTextures(){let e=this.splatCount,t=new Y(4096,1024);for(;t.x*t.y*2<e*6;)t.y*=2;let i=new Y(4096,1024);for(;i.x*i.y*4<e*4;)i.y*=2;let n,r;if(this.halfPrecisionCovariancesOnGPU){r=new Uint16Array(t.x*t.y*2);for(let u=0;u<this.covariances.length;u++)r[u]=iH.toHalfFloat(this.covariances[u]);n=new Fo(r,t.x,t.y,dp,Bl)}else r=new Float32Array(t.x*t.y*2),r.set(this.covariances),n=new Fo(r,t.x,t.y,dp,lr);n.needsUpdate=!0,this.material.uniforms.covariancesTexture.value=n,this.material.uniforms.covariancesTextureSize.value.copy(t);let a=new Uint32Array(i.x*i.y*4);for(let u=0;u<e;u++){let c=u*4,f=u*3,h=u*4;a[h]=$ae(this.colors[c],this.colors[c+1],this.colors[c+2],this.colors[c+3]),a[h+1]=O_(this.centers[f]),a[h+2]=O_(this.centers[f+1]),a[h+3]=O_(this.centers[f+2])}let s=new Fo(a,i.x,i.y,pS,Zs);s.internalFormat="RGBA32UI",s.needsUpdate=!0,this.material.uniforms.centersColorsTexture.value=s,this.material.uniforms.centersColorsTextureSize.value.copy(i);let o=256*4,l=new Float32Array(256*16);for(let u=0;u<this.meshMatrixWorlds.length;u++)l.set(this.meshMatrixWorlds[u].elements,u*16);let d=new Fo(l,o,1,Xr,lr);d.needsUpdate=!0,this.material.uniforms.meshMatrixWorldsTexture.value=d,this.material.uniformsNeedUpdate=!0,this.splatDataTextures={covariances:{data:r,texture:n,size:t},centerColors:{data:a,texture:s,size:i},meshMatrixWorlds:{data:l,texture:d}}}updateIndexes(e){let t=this.geometry;t.attributes.splatIndex.set(e),t.attributes.splatIndex.needsUpdate=!0,t.instanceCount=e.length}updateUniforms(e,t,i,n){this.splatCount>0&&(Hg.set(e.x*this.devicePixelRatio,e.y*this.devicePixelRatio),this.material.uniforms.viewport.value.copy(Hg),this.material.uniforms.basisViewport.value.set(2/Hg.x,2/Hg.y),this.material.uniforms.focal.value.set(t,i),this.material.uniforms.orthoZoom.value=n,this.material.uniformsNeedUpdate=!0)}getSplatDataTextures(){return this.splatDataTextures}getSplatCount(){return this.splatCount}getCenters(){return this.centers}getColors(){return this.colors}getCovariances(){return this.covariances}dispose(){this.geometry.dispose(),this.material.dispose(),this.splatDataTextures&&(this.splatDataTextures.covariances.texture.dispose(),this.splatDataTextures.centerColors.texture.dispose(),this.splatDataTextures.meshMatrixWorlds.texture.dispose())}},ese=class{constructor(e={}){or(this,"updateSplatMeshUniforms",function(){let t=new Y;return function(){this.splatMesh!==null&&this.splatMesh.getSplatCount()>0&&(this.renderer.getSize(t),this.cameraFocalLengthX=this.camera.projectionMatrix.elements[0]*this.devicePixelRatio*t.x*.45,this.cameraFocalLengthY=this.camera.projectionMatrix.elements[5]*this.devicePixelRatio*t.y*.45,this.splatMesh.updateUniforms(t,this.cameraFocalLengthX,this.cameraFocalLengthY,this.camera.isPerspectiveCamera?-1:this.camera.zoom*this.devicePixelRatio))}}()),or(this,"updateView",function(){let t=new Ee,i=[],n=new E(0,0,-1),r=new E(0,0,-1),a=new E,s=new E;return function(o=!1){let l=this.updateMatrixWorldsInWorkerIfNeeded(),d=this.cropsChanged();if(!o){r.set(0,0,-1).applyQuaternion(this.camera.quaternion);let c=!1,f=!1;if(r.dot(n)<=.95&&(c=!0),s.copy(this.camera.position).sub(a).length()>=1&&(f=!0),!c&&!f&&!l&&!d)return}a.copy(this.camera.position),n.copy(r),t.copy(this.camera.matrixWorld).invert(),t.premultiply(this.camera.perspCamera.projectionMatrix),i[0]=this.camera.position.x,i[1]=this.camera.position.y,i[2]=this.camera.position.z;let u=R(R({sort:{view:t.elements,cameraPosition:i,splatRenderCount:this.splatRenderCount,splatSortCount:this.splatRenderCount}},l?{newMatrixWorlds:this.meshMatrixWorlds}:{}),d?{newCropsArray:this.cropsArray}:{});this.sortRunning?this.queuedMessage=u:(this.queuedMessage=null,this.sortRunning=!0,this.sortWorker.postMessage(u))}}()),this.scene=e.scene,this.currentPage=null,this.renderer=e.renderer,this.devicePixelRatio=window.devicePixelRatio,this.sortWorker=null,this.splatRenderCount=0,this.splatSortCount=0,this.splatMesh=null,this.sortRunning=!1,this.splatRenderingInitialized=!1,this.meshMatrixWorlds=null,this.meshMatrixWorldsOld=null,this.cropsArray=null,this.splatEntries=null,this.queuedMessage=null}get camera(){return this.scene.activeCamera}reloadSplats(){this.splatRenderingInitialized=!1;let e=this.loadSplat();this.renderer.pipeline.opaquePass.splatViewer=e?this:null}loadSplat(e={}){this.activePage=this.scene.activePage,e.position&&(e.position=new E().fromArray(e.position)),e.orientation&&(e.orientation=new Ct().fromArray(e.orientation)),e.halfPrecisionCovariances=!!e.halfPrecisionCovariances;let t=[];if(this.splatEntries=t,this.activePage.traverseEntity(a=>{if(a.data.type==="Splat"){let s=a.visible;a.traverseAncestors(o=>{s&&(s=o.visible)}),s&&t.push(a)}}),this.splatMesh&&this.splatMesh.dispose(),t.length===0)return this.splatMesh=null,!1;this.meshMatrixWorlds=t.map(a=>a.matrixWorld),this.meshMatrixWorldsOld=t.map(a=>a.matrixWorld.clone()),this.cropsArray=t.map(a=>a.data.crops.map(s=>s.data));let i=t.map(a=>new I_(new Uint8Array(a.data.buffer).buffer)),n=0,r=[0];for(let a of i)n+=a.getSplatCount(),r.push(n);return this.setupSplatMesh(i,n,e.position,e.orientation,e.halfPrecisionCovariances,this.devicePixelRatio,r,this.meshMatrixWorlds),this.setupSortWorker(n),!0}updateMatrixWorldsInWorkerIfNeeded(){let e=this.splatDataTextures.meshMatrixWorlds.data;for(let t=0;t<this.meshMatrixWorlds.length;t++)e.set(this.meshMatrixWorlds[t].elements,t*16);return this.splatDataTextures.meshMatrixWorlds.texture.needsUpdate=!0,this.meshMatrixWorlds.every((t,i)=>t.equals(this.meshMatrixWorldsOld[i]))?!1:(this.meshMatrixWorldsOld=this.meshMatrixWorlds.map(t=>t.clone()),!0)}cropsChanged(){let e=!1;return this.splatEntries.forEach((t,i)=>{var n;t.data.crops.forEach((r,a)=>{this.cropsArray[i][a]===void 0?(e=!0,this.cropsArray[i][a]=r.data):Object.entries(r.data).forEach(([s,o])=>{var l;Array.isArray(o)&&o.some((d,u)=>d!==this.cropsArray[i][a][s][u])?(e=!0,this.cropsArray[i][a][s]=o):o!==((l=this.cropsArray[i][a])==null?void 0:l[s])&&(e=!0,this.cropsArray[i][a][s]=o)})}),t.data.crops.length!==((n=this.cropsArray[i])==null?void 0:n.length)&&(this.cropsArray[i].length=t.data.crops.length,e=!0)}),e}setupSplatMesh(e,t,i=new E,n=new Ct,r=!1,a=1,s,o){this.splatMesh=Gg.buildMesh(e,t,r,a,s,o),this.splatMesh.position.copy(i),this.splatMesh.quaternion.copy(n),this.splatMesh.frustumCulled=!1,this.splatMesh.renderOrder=10,this.updateSplatMeshUniforms(),this.splatRenderCount=t}setupSortWorker(e){this.sortWorker=Jae(e),this.sortWorker.onmessage=t=>{var i;t.data.sortDone?(this.sortRunning=!1,(i=this.splatMesh)==null||i.updateIndexes(new Uint32Array(t.data.indexesBuffer)),this.lastSortTime=t.data.sortTime,this.queuedMessage&&(this.sortWorker.postMessage(this.queuedMessage),this.queuedMessage=null)):t.data.sortCanceled?this.sortRunning=!1:t.data.sortSetupPhase1Complete?this.sortWorker.postMessage({positions:this.splatMesh.getCenters().buffer,meshMatrixWorlds:this.splatMesh.meshMatrixWorlds,meshIndexIntervals:this.splatMesh.meshIndexIntervals,cropsArray:this.cropsArray}):t.data.sortSetupComplete&&(this.splatDataTextures=this.splatMesh.getSplatDataTextures(),this.updateView(!0,!0),this.splatRenderingInitialized=!0)}}update(){this.splatRenderingInitialized!==!1&&(this.updateSplatMeshUniforms(),this.updateView())}getSplatMesh(){return this.splatMesh}},j_=new cf;j_.wireframe=!0;var R6=new E,R_=class extends Lo{constructor(e,t){super(),this.data=e,this.enableHelpers=!1,this.wireframeState=!1,this.needsTransmissionDirty=!0,this.needsNormalDirty=!0,this._needsTransmission=!1,this._needsNormal=!1,this.geometryCacheChanged=!1,this.splatViewer=null,this.entityByUuid={},this.entityIdentityToEntity={},this.toExpandCloner=new Set,this.toUpdateCloner=new Set,this.pendingCommands=[],this.pathConstraints=new Vae,this.errorPage=new fl("fdasfa",Q(R({},Fc.defaultData),{name:""})),this.invisibleObjects=new vu("jflkdsafjasdifjaslk",Q(R({},Fy.defaultData),{visible:!1,name:"buildin invisible"})),this.needsRecomputeInstances=!1,this.init(e,t),this.matrixAutoUpdate=!1}markGeometryCacheDirty(){this.geometryCacheChanged=!0}markNeedsUpdateRendererDirty(){this.needsTransmissionDirty=!0,this.needsNormalDirty=!0}needsTransmission(){return this.needsTransmissionDirty&&(this._needsTransmission=Lae(this),this.needsTransmissionDirty=!1),this._needsTransmission}needsNormal(){return this.needsNormalDirty&&(this._needsNormal=Bae(this),this.needsNormalDirty=!1),this._needsNormal}registerInstanceAndSetUuid(e){let t=e.identity.join("-"),i=this.entityIdentityToEntity[t];i&&(e.uuid=i.uuid),this.entityIdentityToEntity[t]=e,this.entityByUuid[e.uuid]=e}markPenumbraSizeDirty(){for(let e of this.children)e instanceof fl&&(e.penumbraSizeArrayCache=null)}findInstance(e){return this.entityIdentityToEntity[e.join("-")]}get bgColor(){return this.activePage.bgColor}get postprocessing(){return this.activePage.data.postprocessing}getWithSortKey(e){let t=this.find(e);if(t===void 0)return;let i=[],n=t;for(;n!==this;){let r=n;n=n.parent;let a=n.children.indexOf(r);i.splice(0,0,a)}return{entity:t,sortKey:i}}getAllSorted(e){let t=[];for(let i of e){let n=this.getWithSortKey(i.id);n!==void 0&&t.push(n)}return t.sort((i,n)=>CQ(i.sortKey,n.sortKey)),t.map(i=>i.entity)}nonExistOrDescendantOf(e,t){let i=this.find(e);if(i===void 0)return!0;for(;i;){if(i.uuid===t)return!0;i=i.parent}return!1}find(e){if(this.activePage&&this.activePage.personalCamera.parent){if(e==="f23858d0-4a3b-4bd8-8173-66ed0af7f6fb-personalCamera")return this.activePage.personalCamera;if(e===Dc)return this.activePage.personalCamera}if(e===""||e===void 0)return;let t=this.entityByUuid[e];return t===void 0?this.getObjectByProperty("uuid",e):t}debugEnsureEntity(e){let t=this.find(e);if(t){if(Array.isArray(t.identity)&&this.findInstance(t.identity)===void 0){console.error("not found instance");debugger}}else{console.error("not found");debugger}}addPendingExpandCloner(e){this.toExpandCloner.add(e)}addPendingUpdateCloner(e){this.toUpdateCloner.add(e)}markToExpandCloner(e){this.toExpandCloner.add(e),e.traverseEntityAncestors(t=>{this.toExpandCloner.add(t)})}doPendingExpandCloner(){this.toExpandCloner.forEach(e=>{e.expandCloner(this)}),this.toExpandCloner.clear()}doPendingUpdateCloner(){this.toUpdateCloner.forEach(e=>{var t;(t=e.cloner)==null||t.update()}),this.toUpdateCloner.clear()}doPendingUpdates(){this.doPendingExpandCloner(),this.doPendingUpdateCloner(),this.applyPendingCommands()}addPendingCommand(e){this.pendingCommands.push(e)}applyPendingCommands(){this.pendingCommands.forEach(e=>e()),this.pendingCommands.length=0}updateByLibOp(e,t){e.path.length===1&&e.path[0]==="components"&&e.type===1&&this.createChildrenObjects([Q(R({},e.data.asset),{id:e.id})],this.invisibleObjects,t)}updateTreeByOp(e,t){var i;if(e.path.length===0&&e.type===7){let n=e.parent===null?this:this.find(e.parent);if(n===void 0)throw new Error("unexpected");let r=this.createObject(e.id,e.data,e.children,n,e.localIndex,t);r.updateVisible(),r.resetBBoxNeedsUpdate(),Ga(r)&&yo(r.parent)&&(r.invalidateUpstreamBooleanData(),r.parent.invalidateDownstreamBooleanData().recomputeBoolean()),this.markNeedsRecomputeInstancesForAncessors(n),this.markNeedsRecomputeInstancesForChildren(r),this.markToExpandCloner(r),this.markPenumbraSizeDirty(),r.updatePathSnapping()}else if(e.path.length===0&&e.type===8){let n=this.find(e.id);if(n===void 0)throw new Error("unexpected");this.markToExpandCloner(n),n.resetBBoxNeedsUpdate(),this.unregisterObject(n);let r=n.parent;this.markNeedsRecomputeInstancesForAncessors(r),this.markNeedsRecomputeInstancesForChildren(n),this.markPenumbraSizeDirty(),n.parent.remove(n),yo(n.parent)&&(n.parent.invalidateUpstreamBooleanData(),n.parent.invalidateDownstreamBooleanData().recomputeBoolean()),Ga(n)&&(n.freeBooleanPointer(),r instanceof vd&&r.invalidateDownstreamBooleanData().recomputeBoolean()),n instanceof S_&&n.detachShape(),this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(n),this.pathConstraints.removeDependencies(n.uuid),n.updatePathSnapping()}else if(e.path.length===0&&e.type===9){let n=this.find(e.id);if(n===void 0)throw new Error("unexpected");this.markNeedsRecomputeInstancesForChildren(n);let r=n.parent;this.markNeedsRecomputeInstancesForAncessors(r),(i=n.cloner)==null||i.resetOnMove(),this.markToExpandCloner(n);let a=e.parent===null?this:this.find(e.parent);if(a===void 0)throw new Error("unexpected");a.add(n),this.markNeedsRecomputeInstancesForAncessors(a),this.markToExpandCloner(n),n.invalidateClonerTransform(n),n.updateVisible(),n.resetBBoxNeedsUpdate(),this.markPenumbraSizeDirty();let s=e.localIndex;a.children.splice(s,0,a.children.pop()),Ga(n)&&(n.invalidateUpstreamBooleanData(),yo(n.parent)?n.parent.invalidateDownstreamBooleanData().recomputeBoolean():r instanceof vd&&r.invalidateDownstreamBooleanData().recomputeBoolean()),n.updatePathSnapping()}this.markNeedsUpdateRendererDirty(),this.markGeometryCacheDirty()}get playPage(){var e;return(e=this.find(this.data.publish.playPage))!=null?e:this.errorPage}updatePage(e){var t;this.activePage&&this.activePage.onDeactive(),this.activePage=this.errorPage;for(let i of this.children)i instanceof fl&&(i.visible=i.uuid===e,i.visible&&(this.activePage=i,this.activePage.onActive(this)));this.activePage!==((t=this.splatViewer)==null?void 0:t.activePage)&&this.reloadSplats()}updateEntityByOp(e,t,i,n){if(t.type===0){if(("overrides"in t.props||"component"in t.props)&&this.markNeedsRecomputeInstances(),"visible"in t.props&&this.markPenumbraSizeDirty(),t.path.includes("overrides")&&"states"in t.props){let{rest:a}=t.props;t=Q(R({},t),{props:a}),this.markNeedsRecomputeInstances()}t.path[0]==="pathSnapping"&&t.props.pathId!==void 0&&this.pathConstraints.setConstraint(e,t.props.pathId)}let r=this.find(e);if(r)try{zae(r,t,i,{scene:this,shared:n}),r instanceof wr&&r.updateGeometryGroupsIfNeeded()}catch(a){console.error(a)}}get activeCamera(){return this.activePage.activeCamera}switchActiveCamera(e){this.activePage.switchActiveCamera(e)}isInvisibleObjects(e){return e===this.invisibleObjects||e.hasAnccestor(this.invisibleObjects)}init(e,t){let i=Object.entries(t.data.lib.components).map((n,r)=>({data:n[1].asset.data,children:n[1].asset.children,id:n[0],fi:r}));this.invisibleObjects.updateState(this.invisibleObjects.data,{scene:this,shared:t}),this.add(this.invisibleObjects),this.createChildrenObjects(i,this.invisibleObjects,t),this.createChildrenObjects(e.objects,this,t),this.updatePage(e.publish.playPage),this.activePage.switchToPlayCamera(),this.expandInstances(t,!0),this.traverseEntity(n=>{n instanceof tr&&n.updateUp()}),this.doPendingExpandCloner(),this.applyPendingCommands()}markNeedsRecomputeInstances(){this.needsRecomputeInstances=!0}markNeedsRecomputeInstancesForChildren(e){e.traverseEntity(t=>{(t.data.type==="Component"||t.data.type==="Instance")&&this.markNeedsRecomputeInstances()})}markNeedsRecomputeInstancesForAncessors(e){qt.is(e)&&(e.data.type==="Component"&&this.markNeedsRecomputeInstances(),e.traverseAncestors(t=>{qt.is(t)&&t.data.type==="Component"&&this.markNeedsRecomputeInstances()}))}relativeizeInner(e,t,i,n,r,a,s){if(e){let o=n.find(e);o&&o!==n&&r.forInstancesRec(l=>{l.data=zf(l.data,d=>{let u=d.events.data(s.id),c=l.goUp(a);if(c){let f=[...YC(c.identity),e].join("-"),h=this.entityIdentityToEntity[f];if(h){let p=h.uuid,m=hr.zoom(u,t);m[i]=p}else console.warn("cannot find instance")}}).data})}}rewriteActions(e,t,i,n,r,a){e.forEach(s=>{s.data.type==="Transition"?this.relativeizeInner(s.data.object,[...t,s.id],"object",i,n,r,a):s.data.type==="Animation"&&this.relativeizeInner(s.data.object,[...t,s.id],"object",i,n,r,a)})}rewriteEventsBeforeGoToPlayMode(){this.traverseEntity(e=>{if(e instanceof yu&&typeof e.identity=="string"&&e.data.type==="Component")return e.traverseEntity((t,i)=>{t.data.events.forEach(n=>{if(n.data.type==="GameControl"){let r=!1;if(t.forInstancesRec(a=>{a.data=zf(a.data,s=>{a.isInstanceRoot||(s.events.delete(n.id),r=!0)}).data}),r===!1)for(let a of Km.list)this.rewriteActions(n.data.gameActions[a],["gameActions",a],e,t,i,n)}else n.data.type==="Conditional"?(n.data.condition.type==="Distance"?(this.relativeizeInner(n.data.condition.fromObject,["condition"],"fromObject",e,t,i,n),this.relativeizeInner(n.data.condition.toObject,["condition"],"toObject",e,t,i,n)):n.data.condition.type==="State"?this.relativeizeInner(n.data.condition.object,["condition"],"object",e,t,i,n):n.data.condition.type==="Comparison"&&(n.data.condition.lOperand.type==="Property"&&this.relativeizeInner(n.data.condition.lOperand.value[0],["condition","lOperand","value"],0,e,t,i,n),n.data.condition.rOperand.type==="Property"&&this.relativeizeInner(n.data.condition.rOperand.value[0],["condition","rOperand","value"],0,e,t,i,n)),this.rewriteActions(n.data.inActions,["inActions"],e,t,i,n),this.rewriteActions(n.data.outActions,["outActions"],e,t,i,n)):"actions"in n.data&&this.rewriteActions(n.data.actions,["actions"],e,t,i,n)})}),!0})}expandInstances(e,t,i){let n=new Set;this.traverseEntity(r=>{if(r instanceof yu&&r.isInstanceRoot)return r.expandInstanceChildren({scene:this,shared:e,pendingDeletes:n}),t||r.resetBBoxNeedsUpdate(),i&&r.traverseEntity(a=>{i.addClip(a)}),!0});for(let r of n)this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(r),A_(r)}recomputeInstances(e,t){this.needsRecomputeInstances&&(this.needsRecomputeInstances=!1,this.traverseEntity(i=>{i instanceof yu&&i.isInstanceRoot&&(i.component=void 0)}),this.expandInstances(e,!1,t))}disposeAndUnregisterEntityRecursivelyIfNotReregistered(e){e.traverseEntity(t=>{let i=typeof t.identity=="string"?t.identity:t.identity.join("-");this.entityIdentityToEntity[i]===t&&(delete this.entityByUuid[t.uuid],delete this.entityIdentityToEntity[i]),t.dispose()})}clearScene(){for(let e of this.children)qt.is(e)&&e.disposeRecursively();this.children.length=0}resetAfterClear(e,t){this.init(e,t)}raycast(e){return this.raycast1(e,!1)}raycast1(e,t){let i=[],n=r=>{for(let a of r.children){let s=a.cloner;if(qt.is(a)&&!a.raycastLock&&(a.visible||s!=null&&s.object.data.visible))if(t===!0&&a.isInstanceRoot){let o=[];if(e.intersectObject(a,!0,o),o.length){let l=o[0];l.object=a,l.point.applyMatrix4(l.object.matrixWorld);let d=a.matrixWorld.clone().invert();l.point.applyMatrix4(d),i.push(l)}}else(Ga(a)||c_(a)&&this.enableHelpers&&a.objectHelper.visible)&&(e.intersectObject(a,!1,i),C_(a,e,i)),n(a)}};return n(this),i}raycastWithClones(e){let t=[],i=n=>{for(let r of n.children){let a=r.cloner;qt.is(r)&&(r.visible||a!=null&&a.object.data.visible)&&((Ga(r)||c_(r)&&this.enableHelpers&&r.objectHelper.visible)&&(e.intersectObject(r,!1,t),C_(r,e,t,!0)),i(r))}};return i(this),t}forEachEntity(e){for(let t of this.children)qt.is(t)&&e(t)}traverseConcreteEntity(e){for(let t of this.children)qt.is(t)&&t.isConcreteEntity&&t.traverseEntity(e)}traverseEntity(e){for(let t of this.children)qt.is(t)&&t.traverseEntity(e)}updateFont(e,t){this.traverseEntity(i=>{if(i instanceof wr&&i.data.type==="Mesh"&&i.data.geometry.type==="TextGeometry"&&i.data.geometry.font===e){let n=i.geometry,r=i.data.geometry;n.updateFont(e,t).then(()=>{n.update(r);let a=i.invalidateDownstreamBooleanData();yo(a)&&a.recomputeBoolean()})}})}traverseObject(e){for(let t of this.children)$f.is(t)&&t.traverseObject(e)}traverseVisibleEntity(e){for(let t of this.children)qt.is(t)&&t.visible&&t.traverseVisibleEntity(e)}dispose(){this.clearScene()}createChildrenObjects(e,t,i){let n=0;for(let r of e)this.createObject(r.id,r.data,r.children,t,n,i),n+=1}registerObjectCreatedInLegacy(e){this.entityByUuid[e.uuid]=e}unregisterObject(e){delete this.entityByUuid[e.uuid];for(let t of e.children)this.unregisterObject(t)}createObject(e,t,i,n,r,a){var l;let s={scene:this,shared:a},o=M_(e,t,s);return o&&(this.entityByUuid[e]=o,n.add(o),n.children.splice(r,0,n.children.pop()),i.length>0&&(o.isInstanceRoot?console.error("instance should not have children!"):this.createChildrenObjects(i,o,a)),o.updateState(t,s),o instanceof wr&&o.updateGeometryGroupsIfNeeded(),o.updateVisible(),o.cloner&&this.toExpandCloner.add(o),(l=t.pathSnapping)!=null&&l.pathId&&this.pathConstraints.setConstraint(e,t.pathSnapping.pathId)),t.type==="Empty"&&t.animations&&o.traverseEntity(d=>{let u=d.dataPatched;if(d instanceof wr&&u.bones&&u.boneInverses){let c=u.bones.map(p=>this.find(p)),f=u.boneInverses.map(p=>new Ee().fromArray(p)),h=new J0(c,f);d.bind(h,d.bindMatrix)}else d.matrixAutoUpdate=!0}),o}getCenter(e){let t=[];for(let n=0,r=e.length;n<r;++n){let{id:a,recursive:s}=e[n],o=this.find(a),l=s?o.recursiveBBox:o.singleBBox;t.push(...l.vertices)}let i=new Xi;return i.setFromPoints(t),i.getCenter(R6),R6}copyMatrixWorld(e,t){if(e===null){t.identity();return}let i=this.find(e);i?t.copy(i.matrixWorld):t.identity()}copyParentMatrixWorld(e,t){var n;if(e===null){t.identity();return}let i=(n=this.find(e))==null?void 0:n.parent;i?t.copy(i.matrixWorld):t.identity()}traverseMaterial(e){this.traverseEntity(t=>{if(t instanceof Ir)if(Array.isArray(t.material))for(let i=0;i<t.material.length;i++)t.material[i]instanceof ll&&e(t.material[i]);else t.material instanceof ll&&e(t.material)})}updateViewPlaneSize(e,t,i=!1){this.traverseConcreteEntity(n=>{n instanceof tr&&n.setViewplaneSize(e,t,i)})}initializeSplatViewer(e){this.splatViewer=new ese({scene:this,renderer:e}),this.reloadSplats()}reloadSplats(){var e;(e=this.splatViewer)==null||e.reloadSplats()}},Wg=(e,t)=>{let i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},tse=(e,t)=>{let i=t.x-e.x,n=t.y-e.y;return nse(Math.atan2(n,i))},ise=(e,t,i)=>{let n={x:0,y:0};return i=z_(i),n.x=e.x-t*Math.cos(i),n.y=e.y-t*Math.sin(i),n},z_=e=>e*(Math.PI/180),nse=e=>e*(180/Math.PI),rse=e=>isNaN(e.buttons)?e.pressure!==0:e.buttons!==0,B_=new Map,z6=e=>{B_.has(e)&&clearTimeout(B_.get(e)),B_.set(e,setTimeout(e,100))},qg=(e,t,i)=>{let n=t.split(/[ ,]+/g),r;for(let a=0;a<n.length;a+=1)r=n[a],e.addEventListener?e.addEventListener(r,i,!1):e.attachEvent&&e.attachEvent(r,i)},B6=(e,t,i)=>{let n=t.split(/[ ,]+/g),r;for(let a=0;a<n.length;a+=1)r=n[a],e.removeEventListener?e.removeEventListener(r,i):e.detachEvent&&e.detachEvent(r,i)},L6=e=>(e.preventDefault(),e.type.match(/^touch/)?e.changedTouches:e),F6=()=>{if(typeof window>"u")return;let e=window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return{x:e,y:t}},L_=(e,t)=>{t.top||t.right||t.bottom||t.left?(e.style.top=t.top,e.style.right=t.right,e.style.bottom=t.bottom,e.style.left=t.left):(e.style.left=t.x+"px",e.style.top=t.y+"px")},F_=(e,t,i)=>{let n=N6(e);for(let r in n)if(n.hasOwnProperty(r))if(typeof t=="string")n[r]=t+" "+i;else{let a="";for(let s=0,o=t.length;s<o;s+=1)a+=t[s]+" "+i+", ";n[r]=a.slice(0,-2)}return n},ase=(e,t)=>{let i=N6(e);for(let n in i)i.hasOwnProperty(n)&&(i[n]=t);return i},N6=e=>{let t={};return t[e]="",["webkit","Moz","o"].forEach(function(i){t[i+e.charAt(0).toUpperCase()+e.slice(1)]=""}),t},N_=(e,t)=>{for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},sse=(e,t)=>{let i={};for(let n in e)e.hasOwnProperty(n)&&t.hasOwnProperty(n)?i[n]=t[n]:e.hasOwnProperty(n)&&(i[n]=e[n]);return i},U_=(e,t)=>{if(e.length)for(let i=0,n=e.length;i<n;i+=1)t(e[i]);else t(e)},ose=(e,t,i)=>({x:Math.min(Math.max(e.x,t.x-i),t.x+i),y:Math.min(Math.max(e.y,t.y-i),t.y+i)});typeof window<"u"&&(U6="ontouchstart"in window,V6=!!window.PointerEvent,H6=!!window.MSPointerEvent);var U6,V6,H6,vh={touch:{start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"},MSPointer:{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}},xu,yh={};V6?xu=vh.pointer:H6?xu=vh.MSPointer:U6?(xu=vh.touch,yh=vh.mouse):xu=vh.mouse;function _d(){}_d.prototype.on=function(e,t){var i=this,n=e.split(/[ ,]+/g),r;i._handlers_=i._handlers_||{};for(var a=0;a<n.length;a+=1)r=n[a],i._handlers_[r]=i._handlers_[r]||[],i._handlers_[r].push(t);return i},_d.prototype.off=function(e,t){var i=this;return i._handlers_=i._handlers_||{},e===void 0?i._handlers_={}:t===void 0?i._handlers_[e]=null:i._handlers_[e]&&i._handlers_[e].indexOf(t)>=0&&i._handlers_[e].splice(i._handlers_[e].indexOf(t),1),i},_d.prototype.trigger=function(e,t){var i=this,n=e.split(/[ ,]+/g),r;i._handlers_=i._handlers_||{};for(var a=0;a<n.length;a+=1)r=n[a],i._handlers_[r]&&i._handlers_[r].length&&i._handlers_[r].forEach(function(s){s.call(i,{type:r,target:i},t)})},_d.prototype.config=function(e){var t=this;t.options=t.defaults||{},e&&(t.options=sse(t.options,e))},_d.prototype.bindEvt=function(e,t){var i=this;return i._domHandlers_=i._domHandlers_||{},i._domHandlers_[t]=function(){typeof i["on"+t]=="function"?i["on"+t].apply(i,arguments):console.warn('[WARNING] : Missing "on'+t+'" handler.')},qg(e,xu[t],i._domHandlers_[t]),yh[t]&&qg(e,yh[t],i._domHandlers_[t]),i},_d.prototype.unbindEvt=function(e,t){var i=this;return i._domHandlers_=i._domHandlers_||{},B6(e,xu[t],i._domHandlers_[t]),yh[t]&&B6(e,yh[t],i._domHandlers_[t]),delete i._domHandlers_[t],this};var V_=_d;function wn(e,t){return this.identifier=t.identifier,this.position=t.position,this.frontPosition=t.frontPosition,this.collection=e,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(t),this.options.mode==="dynamic"&&(this.options.restOpacity=0),this.id=wn.id,wn.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}wn.prototype=new V_,wn.constructor=wn,wn.id=0,wn.prototype.buildEl=function(e){return this.ui={},this.options.dataOnly?this:(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front),this)},wn.prototype.stylize=function(){if(this.options.dataOnly)return this;var e=this.options.fadeTime+"ms",t=ase("borderRadius","50%"),i=F_("transition","opacity",e),n={};return n.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},n.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:"rgba(255, 255, 255, .4)",border:"solid 2px rgba(0, 0, 0, .1)"},n.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:"rgba(255, 255, 255, .8)",border:"solid 2px rgba(0, 0, 0, .1)"},N_(n.el,i),this.options.shape==="circle"&&N_(n.back,t),N_(n.front,t),this.applyStyles(n),this},wn.prototype.applyStyles=function(e){for(var t in this.ui)if(this.ui.hasOwnProperty(t))for(var i in e[t])this.ui[t].style[i]=e[t][i];return this},wn.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)?this:(this.options.zone.appendChild(this.ui.el),this)},wn.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)?this:(this.options.zone.removeChild(this.ui.el),this)},wn.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},wn.prototype.show=function(e){var t=this;return t.options.dataOnly||(clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.addToDom(),t.restCallback(),setTimeout(function(){t.ui.el.style.opacity=1},0),t.showTimeout=setTimeout(function(){t.trigger("shown",t.instance),typeof e=="function"&&e.call(this)},t.options.fadeTime)),t},wn.prototype.hide=function(e){var t=this;if(t.options.dataOnly)return t;if(t.ui.el.style.opacity=t.options.restOpacity,clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.removeTimeout=setTimeout(function(){var i=t.options.mode==="dynamic"?"none":"block";t.ui.el.style.display=i,typeof e=="function"&&e.call(t),t.trigger("hidden",t.instance)},t.options.fadeTime),t.options.restJoystick){let i=t.options.restJoystick,n={};n.x=i===!0||i.x!==!1?0:t.instance.frontPosition.x,n.y=i===!0||i.y!==!1?0:t.instance.frontPosition.y,t.setPosition(e,n)}return t},wn.prototype.setPosition=function(e,t){var i=this;i.frontPosition={x:t.x,y:t.y};var n=i.options.fadeTime+"ms",r={};r.front=F_("transition",["top","left"],n);var a={front:{}};a.front={left:i.frontPosition.x+"px",top:i.frontPosition.y+"px"},i.applyStyles(r),i.applyStyles(a),i.restTimeout=setTimeout(function(){typeof e=="function"&&e.call(i),i.restCallback()},i.options.fadeTime)},wn.prototype.restCallback=function(){var e=this,t={};t.front=F_("transition","none",""),e.applyStyles(t),e.trigger("rested",e.instance)},wn.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},wn.prototype.computeDirection=function(e){var t=e.angle.radian,i=Math.PI/4,n=Math.PI/2,r,a,s;if(t>i&&t<i*3&&!e.lockX?r="up":t>-i&&t<=i&&!e.lockY?r="left":t>-i*3&&t<=-i&&!e.lockX?r="down":e.lockY||(r="right"),e.lockY||(t>-n&&t<n?a="left":a="right"),e.lockX||(t>0?s="up":s="down"),e.force>this.options.threshold){var o={},l;for(l in this.direction)this.direction.hasOwnProperty(l)&&(o[l]=this.direction[l]);var d={};this.direction={x:a,y:s,angle:r},e.direction=this.direction;for(l in o)o[l]===this.direction[l]&&(d[l]=!0);if(d.x&&d.y&&d.angle)return e;(!d.x||!d.y)&&this.trigger("plain",e),d.x||this.trigger("plain:"+a,e),d.y||this.trigger("plain:"+s,e),d.angle||this.trigger("dir dir:"+r,e)}else this.resetDirection();return e};var lse=wn;function $i(e,t){var i=this;i.nipples=[],i.idles=[],i.actives=[],i.ids=[],i.pressureIntervals={},i.manager=e,i.id=$i.id,$i.id+=1,i.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1,follow:!1},i.config(t),(i.options.mode==="static"||i.options.mode==="semi")&&(i.options.multitouch=!1),i.options.multitouch||(i.options.maxNumberOfNipples=1);let n=getComputedStyle(i.options.zone.parentElement);return n&&n.display==="flex"&&(i.parentIsFlex=!0),i.updateBox(),i.prepareNipples(),i.bindings(),i.begin(),i.nipples}$i.prototype=new V_,$i.constructor=$i,$i.id=0,$i.prototype.prepareNipples=function(){var e=this,t=e.nipples;t.on=e.on.bind(e),t.off=e.off.bind(e),t.options=e.options,t.destroy=e.destroy.bind(e),t.ids=e.ids,t.id=e.id,t.processOnMove=e.processOnMove.bind(e),t.processOnEnd=e.processOnEnd.bind(e),t.get=function(i){if(i===void 0)return t[0];for(var n=0,r=t.length;n<r;n+=1)if(t[n].identifier===i)return t[n];return!1}},$i.prototype.bindings=function(){var e=this;e.bindEvt(e.options.zone,"start"),e.options.zone.style.touchAction="none",e.options.zone.style.msTouchAction="none"},$i.prototype.begin=function(){var e=this,t=e.options;if(t.mode==="static"){var i=e.createNipple(t.position,e.manager.getIdentifier());i.add(),e.idles.push(i)}},$i.prototype.createNipple=function(e,t){var i=this,n=i.manager.scroll,r={},a=i.options,s={x:i.parentIsFlex?n.x:n.x+i.box.left,y:i.parentIsFlex?n.y:n.y+i.box.top};if(e.x&&e.y)r={x:e.x-s.x,y:e.y-s.y};else if(e.top||e.right||e.bottom||e.left){var o=document.createElement("DIV");o.style.display="hidden",o.style.top=e.top,o.style.right=e.right,o.style.bottom=e.bottom,o.style.left=e.left,o.style.position="absolute",a.zone.appendChild(o);var l=o.getBoundingClientRect();a.zone.removeChild(o),r=e,e={x:l.left+n.x,y:l.top+n.y}}var d=new lse(i,{color:a.color,size:a.size,threshold:a.threshold,fadeTime:a.fadeTime,dataOnly:a.dataOnly,restJoystick:a.restJoystick,restOpacity:a.restOpacity,mode:a.mode,identifier:t,position:e,zone:a.zone,frontPosition:{x:0,y:0},shape:a.shape});return a.dataOnly||(L_(d.ui.el,r),L_(d.ui.front,d.frontPosition)),i.nipples.push(d),i.trigger("added "+d.identifier+":added",d),i.manager.trigger("added "+d.identifier+":added",d),i.bindNipple(d),d},$i.prototype.updateBox=function(){var e=this;e.box=e.options.zone.getBoundingClientRect()},$i.prototype.bindNipple=function(e){var t=this,i,n=function(r,a){i=r.type+" "+a.id+":"+r.type,t.trigger(i,a)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",n),e.on("dir:up dir:right dir:down dir:left",n),e.on("plain:up plain:right plain:down plain:left",n)},$i.prototype.pressureFn=function(e,t,i){var n=this,r=0;clearInterval(n.pressureIntervals[i]),n.pressureIntervals[i]=setInterval(function(){var a=e.force||e.pressure||e.webkitForce||0;a!==r&&(t.trigger("pressure",a),n.trigger("pressure "+t.identifier+":pressure",a),r=a)}.bind(n),100)},$i.prototype.onstart=function(e){var t=this,i=t.options,n=e;e=L6(e),t.updateBox();var r=function(a){t.actives.length<i.maxNumberOfNipples?t.processOnStart(a):n.type.match(/^touch/)&&(Object.keys(t.manager.ids).forEach(function(s){if(Object.values(n.touches).findIndex(function(l){return l.identifier===s})<0){var o=[e[0]];o.identifier=s,t.processOnEnd(o)}}),t.actives.length<i.maxNumberOfNipples&&t.processOnStart(a))};return U_(e,r),t.manager.bindDocument(),!1},$i.prototype.processOnStart=function(e){var t=this,i=t.options,n,r=t.manager.getIdentifier(e),a=e.force||e.pressure||e.webkitForce||0,s={x:e.pageX,y:e.pageY},o=t.getOrCreate(r,s);o.identifier!==r&&t.manager.removeIdentifier(o.identifier),o.identifier=r;var l=function(u){u.trigger("start",u),t.trigger("start "+u.id+":start",u),u.show(),a>0&&t.pressureFn(e,u,u.identifier),t.processOnMove(e)};if((n=t.idles.indexOf(o))>=0&&t.idles.splice(n,1),t.actives.push(o),t.ids.push(o.identifier),i.mode!=="semi")l(o);else{var d=Wg(s,o.position);if(d<=i.catchDistance)l(o);else{o.destroy(),t.processOnStart(e);return}}return o},$i.prototype.getOrCreate=function(e,t){var i=this,n=i.options,r;return/(semi|static)/.test(n.mode)?(r=i.idles[0],r?(i.idles.splice(0,1),r):n.mode==="semi"?i.createNipple(t,e):(console.warn("Coudln't find the needed nipple."),!1)):(r=i.createNipple(t,e),r)},$i.prototype.processOnMove=function(e){var t=this,i=t.options,n=t.manager.getIdentifier(e),r=t.nipples.get(n),a=t.manager.scroll;if(!rse(e)){this.processOnEnd(e);return}if(!r){console.error("Found zombie joystick with ID "+n),t.manager.removeIdentifier(n);return}if(i.dynamicPage){var s=r.el.getBoundingClientRect();r.position={x:a.x+s.left,y:a.y+s.top}}r.identifier=n;var o=r.options.size/2,l={x:e.pageX,y:e.pageY};i.lockX&&(l.y=r.position.y),i.lockY&&(l.x=r.position.x);var d=Wg(l,r.position),u=tse(l,r.position),c=z_(u),f=d/o,h={distance:d,position:l},p,m;if(r.options.shape==="circle"?(p=Math.min(d,o),m=ise(r.position,p,u)):(m=ose(l,r.position,o),p=Wg(m,r.position)),i.follow){if(d>o){let b=l.x-m.x,_=l.y-m.y;r.position.x+=b,r.position.y+=_,r.el.style.top=r.position.y-(t.box.top+a.y)+"px",r.el.style.left=r.position.x-(t.box.left+a.x)+"px",d=Wg(l,r.position)}}else l=m,d=p;var g=l.x-r.position.x,v=l.y-r.position.y;r.frontPosition={x:g,y:v},i.dataOnly||L_(r.ui.front,r.frontPosition);var y={identifier:r.identifier,position:l,force:f,pressure:e.force||e.pressure||e.webkitForce||0,distance:d,angle:{radian:c,degree:u},vector:{x:g/o,y:-v/o},raw:h,instance:r,lockX:i.lockX,lockY:i.lockY};y=r.computeDirection(y),y.angle={radian:z_(180-u),degree:180-u},r.trigger("move",y),t.trigger("move "+r.id+":move",y)},$i.prototype.processOnEnd=function(e){var t=this,i=t.options,n=t.manager.getIdentifier(e),r=t.nipples.get(n),a=t.manager.removeIdentifier(r.identifier);!r||(i.dataOnly||r.hide(function(){i.mode==="dynamic"&&(r.trigger("removed",r),t.trigger("removed "+r.id+":removed",r),t.manager.trigger("removed "+r.id+":removed",r),r.destroy())}),clearInterval(t.pressureIntervals[r.identifier]),r.resetDirection(),r.trigger("end",r),t.trigger("end "+r.id+":end",r),t.ids.indexOf(r.identifier)>=0&&t.ids.splice(t.ids.indexOf(r.identifier),1),t.actives.indexOf(r)>=0&&t.actives.splice(t.actives.indexOf(r),1),/(semi|static)/.test(i.mode)?t.idles.push(r):t.nipples.indexOf(r)>=0&&t.nipples.splice(t.nipples.indexOf(r),1),t.manager.unbindDocument(),/(semi|static)/.test(i.mode)&&(t.manager.ids[a.id]=a.identifier))},$i.prototype.onDestroyed=function(e,t){var i=this;i.nipples.indexOf(t)>=0&&i.nipples.splice(i.nipples.indexOf(t),1),i.actives.indexOf(t)>=0&&i.actives.splice(i.actives.indexOf(t),1),i.idles.indexOf(t)>=0&&i.idles.splice(i.idles.indexOf(t),1),i.ids.indexOf(t.identifier)>=0&&i.ids.splice(i.ids.indexOf(t.identifier),1),i.manager.removeIdentifier(t.identifier),i.manager.unbindDocument()},$i.prototype.destroy=function(){var e=this;e.unbindEvt(e.options.zone,"start"),e.nipples.forEach(function(i){i.destroy()});for(var t in e.pressureIntervals)e.pressureIntervals.hasOwnProperty(t)&&clearInterval(e.pressureIntervals[t]);e.trigger("destroyed",e.nipples),e.manager.unbindDocument(),e.off()};var dse=$i;function On(e){var t=this;t.ids={},t.index=0,t.collections=[],t.scroll=F6(),t.config(e),t.prepareCollections();var i=function(){var r;t.collections.forEach(function(a){a.forEach(function(s){r=s.el.getBoundingClientRect(),s.position={x:t.scroll.x+r.left,y:t.scroll.y+r.top}})})};if(typeof window>"u")return t.collections;qg(window,"resize",function(){z6(i)});var n=function(){t.scroll=F6()};return qg(window,"scroll",function(){z6(n)}),t.collections}On.prototype=new V_,On.constructor=On,On.prototype.prepareCollections=function(){var e=this;e.collections.create=e.create.bind(e),e.collections.on=e.on.bind(e),e.collections.off=e.off.bind(e),e.collections.destroy=e.destroy.bind(e),e.collections.get=function(t){var i;return e.collections.every(function(n){return i=n.get(t),!i}),i}},On.prototype.create=function(e){return this.createCollection(e)},On.prototype.createCollection=function(e){var t=this,i=new dse(t,e);return t.bindCollection(i),t.collections.push(i),i},On.prototype.bindCollection=function(e){var t=this,i,n=function(r,a){i=r.type+" "+a.id+":"+r.type,t.trigger(i,a)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",n),e.on("dir:up dir:right dir:down dir:left",n),e.on("plain:up plain:right plain:down plain:left",n)},On.prototype.bindDocument=function(){var e=this;e.binded||(e.bindEvt(document,"move").bindEvt(document,"end"),e.binded=!0)},On.prototype.unbindDocument=function(e){var t=this;(!Object.keys(t.ids).length||e===!0)&&(t.unbindEvt(document,"move").unbindEvt(document,"end"),t.binded=!1)},On.prototype.getIdentifier=function(e){var t;return e?(t=e.identifier===void 0?e.pointerId:e.identifier,t===void 0&&(t=this.latest||0)):t=this.index,this.ids[t]===void 0&&(this.ids[t]=this.index,this.index+=1),this.latest=t,this.ids[t]},On.prototype.removeIdentifier=function(e){var t={};for(var i in this.ids)if(this.ids[i]===e){t.id=i,t.identifier=this.ids[i],delete this.ids[i];break}return t},On.prototype.onmove=function(e){var t=this;return t.onAny("move",e),!1},On.prototype.onend=function(e){var t=this;return t.onAny("end",e),!1},On.prototype.oncancel=function(e){var t=this;return t.onAny("end",e),!1},On.prototype.onAny=function(e,t){var i=this,n,r="processOn"+e.charAt(0).toUpperCase()+e.slice(1);t=L6(t);var a=function(o,l,d){d.ids.indexOf(l)>=0&&(d[r](o),o._found_=!0)},s=function(o){n=i.getIdentifier(o),U_(i.collections,a.bind(null,o,n)),o._found_||i.removeIdentifier(n)};return U_(t,s),!1},On.prototype.destroy=function(){var e=this;e.unbindDocument(!0),e.ids={},e.index=0,e.collections.forEach(function(t){t.destroy()}),e.off()},On.prototype.onDestroyed=function(e,t){var i=this;if(i.collections.indexOf(t)<0)return!1;i.collections.splice(i.collections.indexOf(t),1)};var cse=On,G6=new cse,use={create:function(e){return G6.create(e)},factory:G6},W6=new Map,bh=new Map,wd=class{constructor(e,t,i,n){this.data=t;let{audio:r,volume:a,delay:s,loop:o}=t;if(!r)throw new Error("Missing property");let l=typeof r=="string"?n.getAudio(r).src:r.data;this.audioPlayer=new oh({src:l,volume:a,delay:s,loop:o}),bh.has(i.uuid)?bh.get(i.uuid).push(this):bh.set(i.uuid,[this]),W6.set(e,this)}playByToggle(){this.data.toggle==="stop"?this.audioPlayer.status==="playing"?this.audioPlayer.stop():(this.audioPlayer.stop(),this.audioPlayer.play()):this.data.toggle==="pause"?this.audioPlayer.status==="playing"?this.audioPlayer.pause():this.audioPlayer.play():(this.audioPlayer.stop(),this.audioPlayer.play())}dispose(){this.audioPlayer.stop()}},H_=class{constructor(e){this.data=e}dispatch(){this.data.playAudio?this.pauseAudio(this.data.playAudio):this.data.object?this.pauseAllAudiosFromObject(this.data.object):this.pauseAllAudios()}pauseAudio(e){let t=W6.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.audioPlayer[this.data.interaction](),this.disposeDelay()},this.data.delay)):t.audioPlayer[this.data.interaction]())}pauseAllAudiosFromObject(e){let t=bh.get(e);!(t!=null&&t.length)||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.forEach(i=>i.audioPlayer[this.data.interaction]()),this.disposeDelay()},this.data.delay)):t.forEach(i=>i.audioPlayer[this.data.interaction]()))}pauseAllAudios(){let e=[...bh.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{e.forEach(t=>{t.forEach(i=>{i.audioPlayer[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):e.forEach(t=>{t.forEach(i=>{i.audioPlayer[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},q6=class{constructor(e,t,i,n,r){if(this.data=t,this.shared=n,this.condition=r,t.interaction==="play")this.interaction=new wd(e,t,i,n);else if(t.interaction==="pause"||t.interaction==="stop")this.interaction=new H_(t);else throw new Error("Missing property")}dispatchBasic(){if(fn(this.shared,this.condition)===!1)return!1;this.interaction instanceof wd?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(fn(this.shared,this.condition)===!1)return!1;this.interaction instanceof wd?this.interaction.audioPlayer.play():this.interaction.dispatch()}dispatchGameControl(e){if(fn(this.shared,this.condition)===!1)return!1;this.interaction instanceof wd&&(e==="start"?this.interaction.audioPlayer.play():this.interaction.audioPlayer.stop())}dispose(){this.interaction.dispose()}},fse="text/plain",hse="us-ascii",Z6=(e,t)=>t.some(i=>i instanceof RegExp?i.test(e):i===e),pse=(e,{stripHash:t})=>{let i=new RegExp("^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$").exec(e);if(!i)throw new Error(`Invalid URL: ${e}`);let{type:n,data:r,hash:a}=i.groups,s=n.split(";");a=t?"":a;let o=!1;s[s.length-1]==="base64"&&(s.pop(),o=!0);let l=(s.shift()||"").toLowerCase(),d=[...s.map(u=>{let[c,f=""]=u.split("=").map(h=>h.trim());return c==="charset"&&(f=f.toLowerCase(),f===hse)?"":`${c}${f?`=${f}`:""}`}).filter(Boolean)];return o&&d.push("base64"),(d.length>0||l&&l!==fse)&&d.unshift(l),`data:${d.join(";")},${o?r.trim():r}${a?`#${a}`:""}`};function mse(e,t){if(t=R({defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0},t),e=e.trim(),/^data:/i.test(e))return pse(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let i=e.startsWith("//");!i&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let n=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&n.protocol==="https:"&&(n.protocol="http:"),t.forceHttps&&n.protocol==="http:"&&(n.protocol="https:"),t.stripAuthentication&&(n.username="",n.password=""),t.stripHash?n.hash="":t.stripTextFragment&&(n.hash=n.hash.replace(/#?:~:text.*?$/i,"")),n.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,s=0,o="";for(;;){let d=a.exec(n.pathname);if(!d)break;let u=d[0],c=d.index,f=n.pathname.slice(s,c);o+=f.replace(/\/{2,}/g,"/"),o+=u,s=c+u.length}let l=n.pathname.slice(s,n.pathname.length);o+=l.replace(/\/{2,}/g,"/"),n.pathname=o}if(n.pathname)try{n.pathname=decodeURI(n.pathname)}catch(a){}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=n.pathname.split("/"),s=a[a.length-1];Z6(s,t.removeDirectoryIndex)&&(a=a.slice(0,-1),n.pathname=a.slice(1).join("/")+"/")}if(n.hostname&&(n.hostname=n.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(n.hostname)&&(n.hostname=n.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...n.searchParams.keys()])Z6(a,t.removeQueryParameters)&&n.searchParams.delete(a);if(t.removeQueryParameters===!0&&(n.search=""),t.sortQueryParameters){n.searchParams.sort();try{n.search=decodeURIComponent(n.search)}catch(a){}}t.removeTrailingSlash&&(n.pathname=n.pathname.replace(/\/$/,""));let r=e;return e=n.toString(),!t.removeSingleSlash&&n.pathname==="/"&&!r.endsWith("/")&&n.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||n.pathname==="/")&&n.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),i&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}var gse=class{constructor({url:e,context:t},i,n,r){if(this.controlsManager=i,this.shared=n,this.condition=r,!e)throw new Error("Missing property");this.url=e.startsWith("mailto:")?e:mse(e,{removeTrailingSlash:!1,removeSingleSlash:!1}),this.context=t!=null?t:"tab"}dispatch(){var e;if(fn(this.shared,this.condition)===!1)return!1;Y1?window.location.assign(this.url):(this.context==="tab"?window.open(this.url,"_blank"):this.context==="window"?window.open(this.url,"_blank",`width=${window.innerWidth}, height=${window.innerHeight}`):window.open(this.url,"_parent"),(e=this.controlsManager.orbitControls)==null||e.onPointerUp(wt[0]),EQ())}},Y6=class{constructor(e,t,i,n,r){this.data=e,this.page=t,this.controlsManager=i,this.shared=n,this.condition=r,this.timeoutIdQueue=[],this.dispatchInner=()=>{this.objects.forEach(this.destroyCallback)},this.destroyCallback=a=>{var d,u;this.timeoutIdQueue.shift();let s=this.page.scene.find(a);if(s===void 0)return;let o=this.controlsManager.sharedGameControlGlobals.rapierWorld,l=o?(d=s.dataPatched.physics)==null?void 0:d.fusedBody:!0;if(s.cloner){for(let c of s.cloner.children)l?(c.playModeVisible=!1,c.rigidBody&&((u=s.dataPatched.physics)==null?void 0:u.rigidBody)==="positioned"&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(c.rigidBody.collider(0).handle),o.removeRigidBody(c.rigidBody),c.rigidBody=void 0),c.bvhGeometry&&(c.bvhGeometry=void 0)):this.clone===void 0||this.clone===c?(c.playModeVisible=!1,c.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(c.rigidBody.collider(0).handle),o.removeRigidBody(c.rigidBody),c.rigidBody=void 0)):c.playModeVisible===void 0&&(c.playModeVisible=!0);(l||this.clone===void 0||this.clone===!1)&&(s.visible=!1,s.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(s.rigidBody.collider(0).handle),o.removeRigidBody(s.rigidBody),s.rigidBody=void 0),s.bvhGeometry&&(s.bvhGeometry=void 0))}else s.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(s.rigidBody.collider(0).handle),o.removeRigidBody(s.rigidBody),s.rigidBody=void 0),s.bvhGeometry&&(s.bvhGeometry=void 0),s.visible=!1;o===void 0?this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim=this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.filter(c=>c.bvhGeometry!==void 0):this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim=this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.filter(c=>c.rigidBody!==void 0),s.destroyedInAction=!0,this.controlsManager.requestRender()},this.objects=[...e.objects]}dispatch(e){if(fn(this.shared,this.condition)===!1)return!1;this.clone=e,this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3)):this.dispatchInner()}dispatchFromStart(){if(fn(this.shared,this.condition)===!1)return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3))}dispose(){this.timeoutIdQueue.forEach(e=>window.clearTimeout(e))}},X6=class{constructor(e,t,i,n,r){this.data=e,this.page=t,this.shared=i,this.eventManager=n,this.condition=r,this.shared=i}dispatch(){var e;if(fn(this.shared,this.condition)===!1)return!1;clearTimeout(this.timeoutId),delete this.timeoutId,this.timeoutId=window.setTimeout(()=>{var t;this.shared.reset(this.shared.data,!0),nw(this.page,this.shared,!0),this.eventManager.reset(),(t=this.eventManager.controlsManager.gameControl)==null||t.reset(!0),this.page.switchToPlayCamera(),this.eventManager.controlsManager.requestRender(),delete this.timeoutId},((e=this.data.delay)!=null?e:0)*1e3)}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},K6={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,timelineChangeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0,rewind:!0},G_={duration:1e3,delay:0,endDelay:0,startOnceDelay:0,pingPongDelayCorrection:0,pingPongEndDelayCorrection:0,easing:"easeOutElastic(1, .5)",round:0},vse=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Zg={CSS:{},springs:{}};function qa(e,t,i){return Math.min(Math.max(e,t),i)}function _h(e,t){return e.indexOf(t)>-1}function W_(e,t){return e.apply(null,t)}var kt={arr:function(e){return Array.isArray(e)},obj:function(e){return _h(Object.prototype.toString.call(e),"Object")},pth:function(e){return kt.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return!("isNode"in e)&&(e.nodeType||kt.svg(e))},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return kt.hex(e)||kt.rgb(e)||kt.hsl(e)},key:function(e){return!K6.hasOwnProperty(e)&&!G_.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function Q6(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(i){return parseFloat(i)}):[]}function J6(e,t){var i=Q6(e),n=qa(kt.und(i[0])?1:i[0],.1,100),r=qa(kt.und(i[1])?100:i[1],.1,100),a=qa(kt.und(i[2])?10:i[2],.1,100),s=qa(kt.und(i[3])?0:i[3],.1,100),o=Math.sqrt(r/n),l=a/(2*Math.sqrt(r*n)),d=l<1?o*Math.sqrt(1-l*l):0,u=1,c=l<1?(l*o+-s)/d:-s+o;function f(p){var m=t?t*p/1e3:p;return l<1?m=Math.exp(-m*l*o)*(u*Math.cos(d*m)+c*Math.sin(d*m)):m=(u+c*m)*Math.exp(-m*o),p===0||p===1?p:1-m}function h(){var p=Zg.springs[e];if(p)return p;for(var m=1/6,g=0,v=0;;)if(g+=m,f(g)===1){if(v++,v>=16)break}else v=0;var y=g*m*1e3;return Zg.springs[e]=y,y}return t?f:h}function yse(e){return e===void 0&&(e=10),function(t){return Math.ceil(qa(t,1e-6,1)*e)*(1/e)}}var bse=function(){var e=11,t=1/(e-1);function i(u,c){return 1-3*c+3*u}function n(u,c){return 3*c-6*u}function r(u){return 3*u}function a(u,c,f){return((i(c,f)*u+n(c,f))*u+r(c))*u}function s(u,c,f){return 3*i(c,f)*u*u+2*n(c,f)*u+r(c)}function o(u,c,f,h,p){var m,g,v=0;do g=c+(f-c)/2,m=a(g,h,p)-u,m>0?f=g:c=g;while(Math.abs(m)>1e-7&&++v<10);return g}function l(u,c,f,h){for(var p=0;p<4;++p){var m=s(c,f,h);if(m===0)return c;var g=a(c,f,h)-u;c-=g/m}return c}function d(u,c,f,h){if(!(0<=u&&u<=1&&0<=f&&f<=1))return;var p=new Float32Array(e);if(u!==c||f!==h)for(var m=0;m<e;++m)p[m]=a(m*t,u,f);function g(v){for(var y=0,b=1,_=e-1;b!==_&&p[b]<=v;++b)y+=t;--b;var x=(v-p[b])/(p[b+1]-p[b]),k=y+x*t,w=s(k,u,f);return w>=.001?l(v,k,u,f):w===0?k:o(v,y,y+t,u,f)}return function(v){return u===c&&f===h||v===0||v===1?v:a(g(v),c,h)}}return d}(),$6=function(){var e={linear:function(){return function(n){return n}}},t={Sine:function(){return function(n){return 1-Math.cos(n*Math.PI/2)}},Circ:function(){return function(n){return 1-Math.sqrt(1-n*n)}},Back:function(){return function(n){return n*n*(3*n-2)}},Bounce:function(){return function(n){for(var r,a=4;n<((r=Math.pow(2,--a))-1)/11;);return 1/Math.pow(4,3-a)-7.5625*Math.pow((r*3-2)/22-n,2)}},Elastic:function(n,r){n===void 0&&(n=1),r===void 0&&(r=.5);var a=qa(n,1,10),s=qa(r,.1,2);return function(o){return o===0||o===1?o:-a*Math.pow(2,10*(o-1))*Math.sin((o-1-s/(Math.PI*2)*Math.asin(1/a))*(Math.PI*2)/s)}}},i=["Quad","Cubic","Quart","Quint","Expo"];return i.forEach(function(n,r){t[n]=function(){return function(a){return Math.pow(a,r+2)}}}),Object.keys(t).forEach(function(n){var r=t[n];e["easeIn"+n]=r,e["easeOut"+n]=function(a,s){return function(o){return 1-r(a,s)(1-o)}},e["easeInOut"+n]=function(a,s){return function(o){return o<.5?r(a,s)(o*2)/2:1-r(a,s)(o*-2+2)/2}}}),e}();function q_(e,t){if(kt.fnc(e))return e;var i=e.split("(")[0],n=$6[i],r=Q6(e);switch(i){case"spring":return J6(e,t);case"cubicBezier":return W_(bse,r);case"steps":return W_(yse,r);default:return W_(n,r)}}function eP(e){try{var t=document.querySelectorAll(e);return t}catch(i){return}}function Yg(e,t){for(var i=e.length,n=arguments.length>=2?arguments[1]:void 0,r=[],a=0;a<i;a++)if(a in e){var s=e[a];t.call(n,s,a,e)&&r.push(s)}return r}function Xg(e){return e.reduce(function(t,i){return t.concat(kt.arr(i)?Xg(i):i)},[])}function tP(e){return kt.arr(e)?e:(kt.str(e)&&(e=eP(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function Z_(e,t){return e.some(function(i){return i===t})}function Y_(e){var t={};for(var i in e)t[i]=e[i];return t}function X_(e,t){var i=Y_(e);for(var n in e)i[n]=t.hasOwnProperty(n)?t[n]:e[n];return i}function Kg(e,t){var i=Y_(e);for(var n in t)i[n]=kt.und(e[n])?t[n]:e[n];return i}function _se(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function wse(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=e.replace(t,function(o,l,d,u){return l+l+d+d+u+u}),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i),r=parseInt(n[1],16),a=parseInt(n[2],16),s=parseInt(n[3],16);return"rgba("+r+","+a+","+s+",1)"}function xse(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),i=parseInt(t[1],10)/360,n=parseInt(t[2],10)/100,r=parseInt(t[3],10)/100,a=t[4]||1;function s(f,h,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?f+(h-f)*6*p:p<1/2?h:p<2/3?f+(h-f)*(2/3-p)*6:f}var o,l,d;if(n==0)o=l=d=r;else{var u=r<.5?r*(1+n):r+n-r*n,c=2*r-u;o=s(c,u,i+1/3),l=s(c,u,i),d=s(c,u,i-1/3)}return"rgba("+o*255+","+l*255+","+d*255+","+a+")"}function kse(e){if(kt.rgb(e))return _se(e);if(kt.hex(e))return wse(e);if(kt.hsl(e))return xse(e)}function wo(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function Sse(e){if(_h(e,"translate")||e==="perspective")return"px";if(_h(e,"rotate")||_h(e,"skew"))return"deg"}function K_(e,t){return kt.fnc(e)?e(t.target,t.id,t.total):e}function Os(e,t){return e.getAttribute(t)}function Q_(e,t,i){var n=wo(t);if(Z_([i,"deg","rad","turn"],n))return t;var r=Zg.CSS[t+i];if(!kt.und(r))return r;var a=100,s=document.createElement(e.tagName),o=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;o.appendChild(s),s.style.position="absolute",s.style.width=a+i;var l=a/s.offsetWidth;o.removeChild(s);var d=l*parseFloat(t);return Zg.CSS[t+i]=d,d}function iP(e,t,i){if(t in e.style){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e.style[t]||getComputedStyle(e).getPropertyValue(n)||"0";return i?Q_(e,r,i):r}}function J_(e,t){if(kt.dom(e)&&!kt.inp(e)&&(Os(e,t)||kt.svg(e)&&e[t]))return"attribute";if(kt.dom(e)&&Z_(vse,t))return"transform";if(kt.dom(e)&&t!=="transform"&&iP(e,t))return"css";if(e[t]!=null)return"object"}function nP(e){if(kt.dom(e)){for(var t=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,n=new Map,r;r=i.exec(t);)n.set(r[1],r[2]);return n}}function Ase(e,t,i,n){var r=_h(t,"scale")?1:0+Sse(t),a=nP(e).get(t)||r;return i&&(i.transforms.list.set(t,a),i.transforms.last=t),n?Q_(e,a,n):a}function $_(e,t,i,n){switch(J_(e,t)){case"transform":return Ase(e,t,n,i);case"css":return iP(e,t,i);case"attribute":return Os(e,t);default:return e[t]||0}}function ew(e,t){var i=/^(\*=|\+=|-=)/.exec(e);if(!i)return e;var n=wo(e)||0,r=parseFloat(t),a=parseFloat(e.replace(i[0],""));switch(i[0][0]){case"+":return r+a+n;case"-":return r-a+n;case"*":return r*a+n}}function rP(e,t){if(kt.col(e))return kse(e);if(/\s/g.test(e))return e;var i=wo(e),n=i?e.substr(0,e.length-i.length):e;return t?n+t:n}function tw(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Mse(e){return Math.PI*2*Os(e,"r")}function Cse(e){return Os(e,"width")*2+Os(e,"height")*2}function Ese(e){return tw({x:Os(e,"x1"),y:Os(e,"y1")},{x:Os(e,"x2"),y:Os(e,"y2")})}function aP(e){for(var t=e.points,i=0,n,r=0;r<t.numberOfItems;r++){var a=t.getItem(r);r>0&&(i+=tw(n,a)),n=a}return i}function Tse(e){var t=e.points;return aP(e)+tw(t.getItem(t.numberOfItems-1),t.getItem(0))}function sP(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return Mse(e);case"rect":return Cse(e);case"line":return Ese(e);case"polyline":return aP(e);case"polygon":return Tse(e)}}function Dse(e){var t=sP(e);return e.setAttribute("stroke-dasharray",t),t}function Pse(e){for(var t=e.parentNode;kt.svg(t)&&kt.svg(t.parentNode);)t=t.parentNode;return t}function oP(e,t){var i=t||{},n=i.el||Pse(e),r=n.getBoundingClientRect(),a=Os(n,"viewBox"),s=r.width,o=r.height,l=i.viewBox||(a?a.split(" "):[0,0,s,o]);return{el:n,viewBox:l,x:l[0]/1,y:l[1]/1,w:s/l[2],h:o/l[3]}}function Ise(e,t){var i=kt.str(e)?eP(e)[0]:e,n=t||100;return function(r){return{property:r,el:i,svg:oP(i),totalLength:sP(i)*(n/100)}}}function Ose(e,t){function i(o){o===void 0&&(o=0);var l=t+o>=1?t+o:0;return e.el.getPointAtLength(l)}var n=oP(e.el,e.svg),r=i(),a=i(-1),s=i(1);switch(e.property){case"x":return(r.x-n.x)*n.w;case"y":return(r.y-n.y)*n.h;case"angle":return Math.atan2(s.y-a.y,s.x-a.x)*180/Math.PI}}function lP(e,t){var i=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=rP(kt.pth(e)?e.totalLength:e,t)+"";return{original:n,numbers:n.match(i)?n.match(i).map(Number):[0],strings:kt.str(e)||t?n.split(i):[]}}function dP(e){var t=e?Xg(kt.arr(e)?e.map(tP):tP(e)):[];return Yg(t,function(i,n,r){return r.indexOf(i)===n})}function cP(e){var t=dP(e);return t.map(function(i,n){return{target:i,id:n,total:t.length,transforms:{list:nP(i)}}})}function jse(e,t){var i=Y_(t);if(/^spring/.test(i.easing)&&(i.duration=J6(i.easing)),kt.arr(e)){var n=e.length,r=n===2&&!kt.obj(e[0]);r?e={value:e}:kt.fnc(t.duration)||(i.duration=t.duration/n)}var a=kt.arr(e)?e:[e];return a.map(function(s,o){var l=kt.obj(s)&&!kt.pth(s)?s:{value:s};return kt.und(l.delay)&&(l.delay=o?0:t.delay),kt.und(l.endDelay)&&(l.endDelay=o===a.length-1?t.endDelay:0),l}).map(function(s){return Kg(s,i)})}function Rse(e){for(var t=Yg(Xg(e.map(function(a){return Object.keys(a)})),function(a){return kt.key(a)}).reduce(function(a,s){return a.indexOf(s)<0&&a.push(s),a},[]),i={},n=function(a){var s=t[a];i[s]=e.map(function(o){var l={};for(var d in o)kt.key(d)?d==s&&(l.value=o[d]):l[d]=o[d];return l})},r=0;r<t.length;r++)n(r);return i}function zse(e,t){var i=[],n=t.keyframes;n&&(t=Kg(Rse(n),t));for(var r in t)kt.key(r)&&i.push({name:r,tweens:jse(t[r],e)});return i}function Bse(e,t){var i={};for(var n in e){var r=K_(e[n],t);kt.arr(r)&&(r=r.map(function(a){return K_(a,t)}),r.length===1&&(r=r[0])),i[n]=r}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}function Lse(e,t){var i;return e.tweens.map(function(n){var r=Bse(n,t),a=r.value,s=kt.arr(a)?a[1]:a,o=wo(s),l=$_(t.target,e.name,o,t),d=i?i.to.original:l,u=kt.arr(a)?a[0]:d,c=wo(u)||wo(l),f=o||c;return kt.und(s)&&(s=d),r.from=lP(u,f),r.to=lP(ew(s,u),f),r.start=i?i.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=q_(r.easing,r.duration),r.isPath=kt.pth(a),r.isColor=kt.col(r.from.original),r.isColor&&(r.round=1),i=r,r})}var uP={css:function(e,t,i){return e.style[t]=i},attribute:function(e,t,i){return e.setAttribute(t,i)},object:function(e,t,i){return e[t]=i},transform:function(e,t,i,n,r){if(n.list.set(t,i),t===n.last||r){var a="";n.list.forEach(function(s,o){a+=o+"("+s+") "}),e.style.transform=a}}};function fP(e,t){var i=cP(e);i.forEach(function(n){for(var r in t){var a=K_(t[r],n),s=n.target,o=wo(a),l=$_(s,r,o,n),d=o||wo(l),u=ew(rP(a,d),l),c=J_(s,r);uP[c](s,r,u,n.transforms,!0)}})}function Fse(e,t){var i=J_(e.target,t.name);if(i){var n=Lse(t,e),r=n[n.length-1];return{type:i,property:t.name,animatable:e,tweens:n,duration:r.end,delay:n[0].delay,endDelay:r.endDelay}}}function Nse(e,t){return Yg(Xg(e.map(function(i){return t.map(function(n){return Fse(i,n)})})),function(i){return!kt.und(i)})}function hP(e,t){var i=e.length,n=function(a){return a.timelineOffset?a.timelineOffset:0},r={};return r.duration=i?Math.max.apply(Math,e.map(function(a){var d,u,c,f;let s=(d=a.startOnceDelay)!=null?d:0,o=(u=a.pingPongDelayCorrection)!=null?u:0,l=(c=a.pingPongEndDelayCorrection)!=null?c:0;return n(a)+s+o+l+a.duration*((f=a.loop)!=null?f:1)})):t.duration,r.delay=i?Math.min.apply(Math,e.map(function(a){var l,d;let s=(l=a.startOnceDelay)!=null?l:0,o=(d=a.pingPongDelayCorrection)!=null?d:0;return n(a)+s+o+a.delay})):t.delay,r.endDelay=i?r.duration-Math.max.apply(Math,e.map(function(a){var d,u,c,f;let s=(d=a.startOnceDelay)!=null?d:0,o=(u=a.pingPongDelayCorrection)!=null?u:0,l=(c=a.pingPongEndDelayCorrection)!=null?c:0;return n(a)+s+o+a.duration*((f=a.loop)!=null?f:1)-a.endDelay-l})):t.endDelay,r}var pP=0;function Use(e){var t=X_(K6,e),i=X_(G_,e),n=zse(i,e),r=cP(e.targets),a=Nse(r,n),s=hP(a,i),o=pP;return pP++,Kg(t,{id:o,children:[],animatables:r,animations:a,duration:s.duration,delay:s.delay,endDelay:s.endDelay,startOnceDelay:i.startOnceDelay,pingPongDelayCorrection:i.pingPongDelayCorrection,pingPongEndDelayCorrection:i.pingPongEndDelayCorrection})}var xa=[],mP=[],Qg,Vse=function(){function e(){Qg=requestAnimationFrame(t)}function t(i){var n=xa.length;if(n){for(var r=0;r<n;){var a=xa[r];a.paused?(xa.splice(r,1),n-=1):(a.tick(i),r++)}e()}else Qg=cancelAnimationFrame(Qg)}return e}();function Hse(e){document.hidden?(xa.forEach(function(t){return t.pause(e.timeStamp)}),mP=xa.slice(0),en.running=xa=[]):mP.forEach(function(t){return t.play(e.timeStamp)})}typeof document<"u"&&document.addEventListener("visibilitychange",Hse);function en(e){e===void 0&&(e={});var t=0,i=0,n=0,r,a,s=0,o=null;function l(w){var S=window.Promise&&new Promise(function(A){return o=A});return w.finished=S,S}var d=Use(e),u=l(d);function c(){var w=d.direction;w!=="alternate"&&(d.direction=w!=="normal"?"normal":"reverse"),d.reversed=!d.reversed,a.forEach(function(S){(S.loop===1||S.loop%2===0)&&(S.reversed=d.reversed)})}function f(){d.direction="normal",d.reversed=!1,a.forEach(function(w){return w.reversed=!1})}function h(w){return d.reversed?d.duration-w:w}function p(){t=0,i=h(d.currentTime)*(1/en.speed)}function m(w,S,A=!1){S&&(d.reversed?S.seek(S.duration*S.loop-(w-S.timelineOffset-S.pingPongDelayCorrection),A):S.seek(w-S.timelineOffset-S.startOnceDelay-S.pingPongDelayCorrection,A))}function g(w,S=!1){if(d.reversed)for(var A=s;A--;)m(w,a[A],S);else for(var M=0;M<s;M++)m(w,a[M],S)}function v(w){var oe,ie,we,pe,fe,Le,Be,Ne,Ye,ze;var S=0,A=d.animations,M=A.length;for(d.direction!=="alternate"&&((oe=d.parent)==null?void 0:oe.direction)==="alternate"?((ie=d.parent)==null?void 0:ie.rewind)===!1&&d.reversePlayback===!0&&d.rewind===!1&&((we=d.parent)!=null&&we.reversed&&d.direction==="alternate"?w=d.duration-d.delay+d.endDelay-w:w=d.duration+d.delay-d.endDelay-w):x(!1,(pe=d.parent)==null?void 0:pe.rewind,d.rewind,(fe=d.parent)==null?void 0:fe.reversePlayback,d.reversePlayback)&&((Le=d.parent)!=null&&Le.reversed&&d.direction==="alternate"?w=d.duration-d.delay+d.endDelay-w:w=d.duration+d.delay-d.endDelay-w);S<M;){var C=A[S],T=C.animatable,P=C.tweens,I=P.length-1,j=P[I];I&&(j=Yg(P,function(Ze){return w<Ze.end})[0]||j);let Pe;(Be=d.parent)!=null&&Be.reversed&&d.direction==="alternate"?Pe=qa(w-j.start-j.endDelay,0,j.duration)/j.duration:Pe=qa(w-j.start-j.delay,0,j.duration)/j.duration;for(var H=isNaN(Pe)?1:j.easing(Pe),U=j.to.strings,O=j.round,F=[],Z=j.to.numbers.length,G=void 0,L=0;L<Z;L++){var X=void 0;let Ze,st;d.direction!=="alternate"?((Ne=d.parent)==null?void 0:Ne.rewind)===!1&&d.reversePlayback===!0&&d.rewind===!1?(Ze=j.to.numbers[L],st=j.from.numbers[L]||0):(st=j.to.numbers[L],Ze=j.from.numbers[L]||0):x(!0,(Ye=d.parent)==null?void 0:Ye.rewind,d.rewind,(ze=d.parent)==null?void 0:ze.reversePlayback,d.reversePlayback)?(Ze=j.to.numbers[L],st=j.from.numbers[L]||0):(st=j.to.numbers[L],Ze=j.from.numbers[L]||0),j.isPath?X=Ose(j.value,H*st):X=Ze+H*(st-Ze),O&&(j.isColor&&L>2||(X=Math.round(X*O)/O)),F.push(X)}var q=U.length;if(!q)G=F[0];else{G=U[0];for(var J=0;J<q;J++){var W=U[J],ce=U[J+1],te=F[J];isNaN(te)||(ce?G+=te+ce:G+=te+" ")}}uP[C.type](T.target,C.property,G,T.transforms),C.currentValue=G,S++}}function y(w){d[w]&&!d.passThrough&&d[w](d)}function b(){d.remaining&&d.remaining!==!0&&d.remaining--}let _={0:!1,1:!0,2:!1,3:!0,4:!1,5:!1,6:!1,7:!1,8:!1,9:!0,10:!0,11:!1,12:!1,13:!1,14:!0,15:!0,16:!1,17:!0,18:!0,19:!1,20:!1,21:!1,22:!0,23:!0,24:!1,25:!0,26:!1,27:!0,28:!1,29:!1,30:!1,31:!1};function x(w,S,A,M,C){return _[w<<4|S<<3|A<<2|M<<1|C]}function k(w,S=!1){var P;var A=d.duration;let M=d.delay,C=A-d.endDelay;(P=d.parent)!=null&&P.reversed&&d.direction==="alternate"&&(M=d.endDelay,C=A-d.delay);var T=h(w);if(d.progress=qa(T/A*100,0,100),S||(d.reversePlayback=T<d.currentTime),s&&g(T,S),!d.began&&d.currentTime>=0&&(d.began=!0,y("begin")),!d.loopBegan&&d.currentTime>0&&(d.loopBegan=!0,y("loopBegin")),(d.reversed||T>=0)&&T<=M&&d.currentTime!==0&&(v(0),y("change")),(T>=C&&d.currentTime!==A+d.pingPongDelayCorrection||!A)&&(v(A),y("change")),T>M&&T<C?(d.changeBegan||(d.changeBegan=!0,d.changeCompleted=!1,y("changeBegin")),v(T),y("change")):d.changeBegan?(d.changeCompleted=!0,d.changeBegan=!1,y("change"),s&&y("timelineChangeComplete")):d.began&&T>C&&y("changeComplete"),d.currentTime=qa(T,0,A+d.pingPongDelayCorrection),d.began&&y("update"),w>=A)if(b(),!d.remaining)d.paused=!0,d.completed||(d.completed=!0,y("loopComplete"),y("complete"),!d.passThrough&&"Promise"in window&&(o(),u=l(d)));else{s?t+=d.duration/en.speed:t+=d.duration;for(let I of a)I.setStartTime(0),I.remaining=I.loop;y("loopComplete"),d.loopBegan=!1,d.direction==="alternate"?c():s&&f()}}return d.reset=function(){var w=d.direction;d.passThrough=!1,d.currentTime=0,d.progress=0,d.paused=!0,d.began=!1,d.loopBegan=!1,d.changeBegan=!1,d.completed=!1,d.changeCompleted=!1,d.reversePlayback=!1,d.reversed=w==="reverse",d.remaining=d.loop,a=d.children,s=a.length;for(var S=s;S--;)d.children[S].reset();v(d.reversed?d.duration:0)},d.setStartTime=function(w){t=w},d.set=function(w,S){return fP(w,S),d},d.tick=function(w){n=w,t||(t=n),k((n+(i-t))*en.speed)},d.seek=function(w,S=!1){k(w-t,S)},d.pause=function(w){d.paused=!0,s&&(r=w!=null?w:performance.now())},d.play=function(w){!d.paused||(d.completed&&d.reset(),d.paused=!1,xa.push(d),s&&r!==void 0&&(t+=(w!=null?w:performance.now())-r),Qg||Vse())},d.reverse=function(){c(),d.completed=!d.reversed,p()},d.restart=function(){d.reset(),d.play()},d.reset(),d.autoplay&&d.play(),d}function gP(e,t){for(var i=t.length;i--;)Z_(e,t[i].animatable.target)&&t.splice(i,1)}function Gse(e){for(var t=dP(e),i=xa.length;i--;){var n=xa[i],r=n.animations,a=n.children;gP(t,r);for(var s=a.length;s--;){var o=a[s],l=o.animations;gP(t,l),!l.length&&!o.children.length&&a.splice(s,1)}!r.length&&!a.length&&n.pause()}}function Wse(e,t){t===void 0&&(t={});var i=t.direction||"normal",n=t.easing?q_(t.easing):null,r=t.grid,a=t.axis,s=t.from||0,o=s==="first",l=s==="center",d=s==="last",u=kt.arr(e),c=parseFloat(u?e[0]:e),f=u?parseFloat(e[1]):0,h=wo(u?e[1]:e)||0,p=t.start||0+(u?c:0),m=[],g=0;return function(v,y,b){if(o&&(s=0),l&&(s=(b-1)/2),d&&(s=b-1),!m.length){for(var _=0;_<b;_++){if(!r)m.push(Math.abs(s-_));else{var x=l?(r[0]-1)/2:s%r[0],k=l?(r[1]-1)/2:Math.floor(s/r[0]),w=_%r[0],S=Math.floor(_/r[0]),A=x-w,M=k-S,C=Math.sqrt(A*A+M*M);a==="x"&&(C=-A),a==="y"&&(C=-M),m.push(C)}g=Math.max.apply(Math,m)}n&&(m=m.map(function(P){return n(P/g)*g})),i==="reverse"&&(m=m.map(function(P){return a?P<0?P*-1:-P:Math.abs(g-P)}))}var T=u?(f-c)/g:c;return p+T*(Math.round(m[y]*100)/100)+h}}function qse(e){e===void 0&&(e={});var t=en(e);return t.duration=0,t.add=function(i,n){var r=xa.indexOf(t),a=t.children;r>-1&&xa.splice(r,1);function s(f){f.passThrough=!0}for(var o=0;o<a.length;o++)s(a[o]);var l=Kg(i,X_(G_,e));l.targets=l.targets||e.targets;var d=t.duration;l.autoplay=!1,l.timelineOffset=kt.und(n)?d:ew(n,d),s(t);var u=en(l);s(u),a.push(u),u.parent=t;var c=hP(a,e);return t.delay=c.delay,t.endDelay=c.endDelay,t.duration=c.duration,u.loop===!0&&(t.duration=1/0),t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}en.version="3.2.0",en.speed=1,en.running=xa,en.remove=Gse,en.get=$_,en.set=fP,en.convertPx=Q_,en.path=Ise,en.setDashoffset=Dse,en.stagger=Wse,en.timeline=qse,en.easing=q_,en.penner=$6,en.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var vP=en,yP=new E,bP=new E,_P=new Ct;function Zse(e,t,i,n){if(n===0)return i.copy(e);if(n===1)return i.copy(t);let r=e.w*t.w+e.x*t.x+e.y*t.y+e.z*t.z;if(r>=1)return i.copy(e);let a=1-r*r;if(a<=Number.EPSILON){let u=1-n;return i.w=u*e.w+n*t.w,i.x=u*e.x+n*t.x,i.y=u*e.y+n*t.y,i.z=u*e.z+n*t.z,i.normalize(),i}let s=Math.sqrt(a),o=Math.atan2(s,r),l=Math.sin((1-n)*o)/s,d=Math.sin(n*o)/s;return i.w=e.w*l+t.w*d,i.x=e.x*l+t.x*d,i.y=e.y*l+t.y*d,i.z=e.z*l+t.z*d,i}function xd(e,t,i,n,r,a){var u,c;let s=i[e]?i[e]:void 0,o=n[e];if(o==null)return;let l=s!=null?typeof s=="string"?Number((u=r.getVariable(s))!=null?u:0):s:t[e],d=typeof o=="string"?Number((c=r.getVariable(o))!=null?c:0):o;if(l!==d)return{update:f=>{let h=at.lerp(l,d,f);a?t[e]=Math.trunc(h):t[e]=h},start:()=>{t[e]=l},end:()=>{t[e]=d}}}function wP(e,t,i,n,r,a){let s=i[e]?i[e]:void 0,o=n[e];if(!o)return;let l=t[e],d=[...s!=null?s:l].map(c=>{var f;return typeof c=="string"?Number((f=r.getVariable(c))!=null?f:0):c}),u=[...o].map(c=>{var f;return typeof c=="string"?Number((f=r.getVariable(c))!=null?f:0):c});if(!(d.length!==u.length||WC(d,u)))return{update:c=>{d.forEach((f,h)=>{let p=at.lerp(f,u[h],c);t[e][h]=a?Math.trunc(p):p})},start:()=>{Object.assign(t[e],d)},end:()=>{Object.assign(t[e],u)}}}function Jg(e,t,i){return t.forEach((n,r)=>{var a;e.setComponent(r,typeof n=="string"?Number((a=i.getVariable(n))!=null?a:0):n)}),e}function xP(e,t,i,n,r){let a=i[e]?i[e]:void 0,s=n[e];if(!s)return;let o=t[e],l=a?Jg(new E,a,r):o.clone(),d=Jg(new E,s,r);if(!l.equals(d))return{update:u=>{o.lerpVectors(l,d,u)},start:()=>{o.copy(l)},end:()=>{o.copy(d)}}}function Yse(e,t,i,n){let r=i[e]?i[e]:void 0,a=n[e];if(!a)return;let s=t[e],o=r?new Ee().fromArray(r):s.clone(),l=new E,d=new Ct,u=new E;o.decompose(l,d,u);let c=new Ee().fromArray(a),f=new E,h=new Ct,p=new E;if(c.decompose(f,h,p),!o.equals(c))return{update:m=>{_P.slerpQuaternions(d,h,m),yP.lerpVectors(l,f,m),bP.lerpVectors(u,p,m),s.compose(yP,_P,bP)},start:()=>{s.compose(l,d,u)},end:()=>{s.compose(f,h,p)}}}function Xse(e,t,i,n,r){let a=i[e]?i[e]:void 0,s=n[e];if(!s)return;let o=t[e],l=a?typeof a=="string"?r.getColor(a).clone():new pt().setRGB(a.r,a.g,a.b):o.clone(),d=typeof s=="string"?r.getColor(s).clone():new pt().setRGB(s.r,s.g,s.b);if(l.equals(d))return;let u=o.clone();return t[e]=u,{update:c=>{u.lerpColors(l,d,c)},start:()=>{u.copy(l)},end:()=>{u.copy(d)}}}function ml(e,t,i,n,r){if(typeof t[e]=="number")return xd(e,t,i!=null?i:{},n,r);if(Array.isArray(t[e]))return wP(e,t,i!=null?i:{},n,r)}function Kse(e,t,i,n){var o,l,d,u;let r=[],a=e.cameraType==="OrthographicCamera"?(o=t.orthographic)==null?void 0:o.zoom:(l=t.perspective)==null?void 0:l.zoom,s=e.cameraType==="OrthographicCamera"?(d=i.orthographic)==null?void 0:d.zoom:(u=i.perspective)==null?void 0:u.zoom;if(s!==void 0){let c=a!=null?a:e.zoom,f=s;c!==f&&r.push({update:h=>{e.zoom=at.lerp(c,f,h),e.updateProjectionMatrix()},start:()=>{e.zoom=c,e.updateProjectionMatrix()},end:()=>{e.zoom=f,e.updateProjectionMatrix()}})}if(i.targetOffset!==void 0){let c=xd("targetOffset",e,t,i,n);c&&r.push(c)}return r}function Qse(e,t,i,n){var o;if(i.scaleBaked===void 0)return;let r=((o=t.scaleBaked)!=null?o:e.data.geometry.scaleBaked).map(l=>{var d;return typeof l=="string"?Number((d=n.getVariable(l))!=null?d:0):l}),a=i.scaleBaked.map(l=>{var d;return typeof l=="string"?Number((d=n.getVariable(l))!=null?d:0):l});if(ed.isEqual(r,a))return;let s=[];return s.push({update:l=>{e.updateGeometryInteractions({scaleBaked:[at.lerp(r[0],a[0],l),at.lerp(r[1],a[1],l),at.lerp(r[2],a[2],l)]},n),e.invalidateDownstreamBooleanData()},start:()=>{e.updateGeometryInteractions({scaleBaked:r},n),e.invalidateDownstreamBooleanData()},end:()=>{e.updateGeometryInteractions({scaleBaked:a},n),e.invalidateDownstreamBooleanData()}}),s}function Jse(e,t,i,n){var l;if(!i.extrusion)return;let r=e.extrusion,a=(l=t.extrusion)!=null?l:{},s=i.extrusion,o=[];return rE.forEach(d=>{let u=ml(d,r,a,s,n);u&&o.push(u)}),o}function $se(e,t,i,n){let r=[];if(!("geometry"in i))return r;let a=e.geometry.userData.parameters,s="geometry"in t?t.geometry:{},o=i.geometry;if(e instanceof dh){let l=Qse(e,s,o,n);l&&r.push(...l)}else{let l={};if(Object.assign(l,ro(a,aE)),aE.forEach(d=>{let u=ml(d,l,s,o,n);u&&r.push(u)}),e instanceof S_){Object.assign(l,{extrusion:R({},a.extrusion)});let d=Jse(l,s,o,n);d&&r.push(...d)}r.length&&r.push({update:d=>{e.updateGeometryInteractions(l,n),e.updateGeometryGroupsIfNeeded()},start:d=>{e.updateGeometryInteractions(l,n),e.updateGeometryGroupsIfNeeded()},end:d=>{e.updateGeometryInteractions(l,n),e.updateGeometryGroupsIfNeeded()}})}return r}function eoe(e,t,i,n){let r=[];if(i.intensity!==void 0){let a=xd("intensity",e,t,i,n);a&&r.push(a)}if(i.color!==void 0){let a=Xse("color",e,t,i,n);a&&r.push(a)}return r}function toe(e,t,i,n){let r=[];if(Array.isArray(e.material)){if(!("materials"in i&&i.materials))return r;let a="materials"in t&&t.materials?t.materials:[],s=i.materials;e.material.forEach((o,l)=>{var c;if(!s[l])return;let d=(c=a[l])!=null?c:{},u=s[l];typeof d=="string"||typeof u=="string"||r.push(...kP(o,d,u,n))})}else{if(!("material"in i&&i.material))return r;let a="material"in t&&t.material?t.material:{},s=i.material;if(typeof a=="string"||typeof s=="string")return r;r.push(...kP(e.material,a,s,n))}return r}function kP(e,t,i,n){var s,o,l;let r=[],a=fu(i,n)||!!t.layers&&fu(t,n);r.push(coe(e,a));for(let d of e.layers){let u=(s=t.layers)==null?void 0:s.data(d.uuid),c=i.layers.data(d.uuid);if(!c||d.type!=="light"&&(!((o=d.visible)==null||o)||!((l=c.visible)==null||l)))continue;let f=d.getNames().filter(h=>!tE.some(p=>h.includes(p)));for(let h of f)try{let p=d.getValue(h),m;if(h==="colors")m=loe(d,u,c,h);else if(Array.isArray(p))h==="steps"&&(m=ooe(d,u,c,h));else if(typeof p=="number")m=ioe(d,u,c,h,n);else{if(typeof p=="boolean")continue;p instanceof Y?m=noe(d,u,c,h):p instanceof E?m=roe(d,u,c,h,n):p instanceof Rr?m=soe(d,u,c,h,n):p instanceof pt?m=aoe(d,u,c,h,n):"isTexture"in p&&(m=doe(d,u,c,h))}m&&(Array.isArray(m)?r.push(...m):r.push(m))}catch(p){console.error(`lerpMaterial: unexpected material layer for ${h}`,p)}}return r}function ioe(e,t,i,n,r){var d,u;if(!e.hasValue(n)||!(n in i))return;let a=t?t[n]:e.getValue(n),s=i[n],o=typeof a=="string"?Number((d=r.getVariable(a))!=null?d:0):a,l=typeof s=="string"?Number((u=r.getVariable(s))!=null?u:0):s;if(o!==l)return{update:c=>{e.setValue(n,at.lerp(o,l,c))},start:()=>{e.setValue(n,o)},end:()=>{e.setValue(n,l)}}}function noe(e,t,i,n){if(!e.hasValue(n)||!(n in i))return;let r=e.getValue(n),a=t?new Y().fromArray(t[n]):r.clone(),s=new Y().fromArray(i[n]);if(!a.equals(s))return{update:o=>{r.lerpVectors(a,s,o)},start:()=>{r.copy(a)},end:()=>{r.copy(s)}}}function roe(e,t,i,n,r){if(!e.hasValue(n)||!(n in i))return;let a=e.getValue(n),s=t?t[n]:void 0,o=i[n],l=s?Jg(new E,s,r):a.clone(),d=Jg(new E,o,r);if(!l.equals(d))return{update:u=>{a.lerpVectors(l,d,u)},start:()=>{a.copy(l)},end:()=>{a.copy(d)}}}function aoe(e,t,i,n,r){if(!e.hasValue(n)||!(n in i))return;let a=t?t[n]:void 0,s=i[n],o=e.getValue(n),l=a?typeof a=="string"?r.getColor(a).clone():new pt().setRGB(a.r,a.g,a.b):o.clone(),d=typeof s=="string"?r.getColor(s).clone():new pt().setRGB(s.r,s.g,s.b);if(l.equals(d))return;let u=o.clone();return{update:c=>{e.getValue(n)!==u&&e.setValue(n,u),u.lerpColors(l,d,c)},start:()=>{u.copy(l)},end:()=>{u.copy(d)}}}function soe(e,t,i,n,r){if(!e.hasValue(n)||!(n in i))return;let a=t?t[n]:void 0,s=i[n],o=e.getValue(n),l=a?typeof a=="string"?r.getColor(a).clone():new pt().setRGB(a.r,a.g,a.b):o.clone(),d=typeof s=="string"?r.getColor(s).clone():new Rr(s.r,s.g,s.b,s.a);if(l.equals(d))return;let u=o.clone();return{update:c=>{e.getValue(n)!==u&&e.setValue(n,u),u.lerpColors(l,d,c)},start:()=>{u.copy(l)},end:()=>{u.copy(d)}}}function ooe(e,t,i,n="steps"){if(!e.hasValue(n)||!(n in i))return;let r=[],a=e.getValue(n),s=t?t[n]:a,o=i[n];for(let l=0;l<a.length;++l){let d=s[l],u=o[l];d!==u&&r.push({update:c=>{a[l]=at.lerp(d,u,c)},start:()=>{a[l]=d},end:()=>{a[l]=u}})}return r.length?r:void 0}function loe(e,t,i,n="colors"){if(!e.hasValue(n)||!(n in i))return;let r=[],a=e.getValue(n),s=t?t[n]:a.map(l=>l.toArray()),o=i[n];for(let l=0;l<a.length;++l){let d=[...s[l]],u=[...o[l]];Um.isEqual(d,u)||r.push({update:c=>{a[l].fromArray(Um.lerp(d,u,c))},start:()=>{a[l].fromArray(d)},end:()=>{a[l].fromArray(u)}})}return r.length?r:void 0}function doe(e,t,i,n="texture"){if(!e.hasValue(n)||!(n in i))return;let r=e.getNode("mat");if(!r)return;let a=t?t[n]:r,s=i[n],o=[...a.repeat],l=[...a.offset],d=[...s.repeat],u=[...s.offset];if(!Pc.isEqual(o,d)||!Pc.isEqual(l,u))return{update:c=>{r.repeat=Pc.lerp(o,d,c),r.offset=Pc.lerp(l,u,c),r.updateMatrix()},start:()=>{r.repeat=[...o],r.offset=[...l],r.updateMatrix()},end:()=>{r.repeat=[...d],r.offset=[...u],r.updateMatrix()}}}function coe(e,t){return{update:()=>{e.transparent=t}}}var iw=new E,SP=new Dn;function uoe(e,t,i,n,r){var h,p,m,g,v,y,b,_,x,k,w,S,A,M,C,T,P,I;let a=[],s,o,l,d,u,c,f={slide:(y=(v=(m=(h=t.pathSnapping)==null?void 0:h.slide)!=null?m:(p=e.updatedPathSnapping)==null?void 0:p.slide)!=null?v:(g=e.dataPatched.pathSnapping)==null?void 0:g.slide)!=null?y:0,offset:(S=(w=(x=(b=t.pathSnapping)==null?void 0:b.offset)!=null?x:(_=e.updatedPathSnapping)==null?void 0:_.offset)!=null?w:(k=e.dataPatched.pathSnapping)==null?void 0:k.offset)!=null?S:0};if(u=xd("slide",f,(M=(A=t.pathSnapping)!=null?A:e.updatedPathSnapping)!=null?M:e.dataPatched.pathSnapping,(C=i.pathSnapping)!=null?C:e.dataPatched.pathSnapping,r),u&&a.push(u),c=xd("offset",f,(P=(T=t.pathSnapping)!=null?T:e.updatedPathSnapping)!=null?P:e.dataPatched.pathSnapping,(I=i.pathSnapping)!=null?I:e.dataPatched.pathSnapping,r),c&&a.push(c),!u&&!c&&(s=xP("position",e,t,i,r),s&&a.push(s),o=xP("scale",e,t,i,r),o&&a.push(o),l=foe(e,t,i,n,r),l&&a.push(l),d=Yse("hiddenMatrix",e,t,i),d&&a.push(d)),s||o||l||d||u||c){let j=()=>{var H;e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD()),(H=e.parent)!=null&&H.matrixWorldFusedFalse&&(e.matrixWorld.multiplyMatrices(e.parent.matrixWorldFusedFalse,e.matrix),e.matrixWorldNeedsUpdate=!1),Ga(e)&&yo(e.parent)&&e.invalidateDownstreamBooleanData(!0),e.updatePathSnapping(Object.assign({},t.pathSnapping,f))};a.push({update:j,start:j,end:j})}return a}function foe(e,t,i,n,r){var u;let a=t!=null&&t.rotation?t.rotation.map(c=>{var f;return(typeof c=="string"?Number((f=r.getVariable(c))!=null?f:0):c)*at.DEG2RAD}):void 0,s=(u=i.rotation)==null?void 0:u.map(c=>{var f;return(typeof c=="string"?Number((f=r.getVariable(c))!=null?f:0):c)*at.DEG2RAD});if(!s)return;let o=a?new E().fromArray(a):new E().setFromEuler(e.rotation),l=new E().fromArray(s);if(o.equals(l))return;let d=iw.subVectors(l,o);if(n&&d.toArray().every(c=>Math.abs(c)<2*Math.PI)){let c=new Ct().setFromEuler(SP.setFromVector3(o)),f=new Ct().setFromEuler(SP.setFromVector3(l));return{update:h=>{Zse(c,f,e.quaternion,h)},start:()=>{e.rotation.setFromVector3(o)},end:()=>{e.rotation.setFromVector3(l)}}}else return{update:c=>{iw.lerpVectors(o,l,c),e.rotation.setFromVector3(iw)},start:()=>{e.rotation.setFromVector3(o)},end:()=>{e.rotation.setFromVector3(l)}}}function hoe(e,t,i,n){let r=[];if(!("cloner"in i)||!e.cloner)return r;let a=e.cloner,s="cloner"in t?t.cloner:{},o=i.cloner;q4.forEach(h=>{let p;h==="count"?p=xd("count",a.parameters,s,o,n,!0):p=ml(h,a.parameters,s!=null?s:{},o,n),p&&r.push(p)});let l=poe(a,s,o,n);l!=null&&l.length&&r.push(...l);let d=moe(a,s,o,n);d!=null&&d.length&&r.push(...d);let u=goe(a,s,o,n);u!=null&&u.length&&r.push(...u);let c=voe(a,s,o,n);c!=null&&c.length&&r.push(...c);let f=yoe(a,s,o,n);return f!=null&&f.length&&r.push(...f),r.length&&r.push({update:()=>{a.update()}}),r}function poe(e,t,i,n){if(e.parameters.type!=="radial")return;let r=t.radial,a=i.radial;if(!a)return;let s=e.parameters.radial,o=[];return Z4.forEach(l=>{let d=ml(l,s,r!=null?r:{},a,n);d&&o.push(d)}),o}function moe(e,t,i,n){if(e.parameters.type!=="linear")return;let r=t.linear,a=i.linear;if(!a)return;let s=[],o=e.parameters.linear;return Y4.forEach(l=>{let d=ml(l,o,r!=null?r:{},a,n);d&&s.push(d)}),s}function goe(e,t,i,n){if(e.parameters.type!=="grid")return;let r=t.grid,a=i.grid;if(!a)return;let s=[],o=e.parameters.grid;return X4.forEach(l=>{let d;l==="count"?d=wP(l,o,r!=null?r:{},a,n,!0):d=ml(l,o,r!=null?r:{},a,n),d&&s.push(d)}),s}function voe(e,t,i,n){if(e.parameters.type!=="toObject")return;let r=t.toObject,a=i.toObject;if(!a)return;let s=[],o=e.parameters.toObject;return K4.forEach(l=>{let d;l==="count"?d=xd(l,o,r!=null?r:{},a,n,!0):d=ml(l,o,r!=null?r:{},a,n),d&&s.push(d)}),s}function yoe(e,t,i,n){if(!e.parameters.randomness)return;let r=t.randomnessObject,a=i.randomnessObject;if(!a)return;let s=[],o=e.parameters.randomnessObject;return Q4.forEach(l=>{let d=ml(l,o,r!=null?r:{},a,n);d&&s.push(d)}),s}function AP(e,t,i,n,r){let a=[];return e.data.visible&&a.push(...uoe(e,t,i,r,n)),e.data.visible&&a.push(...hoe(e,t,i,n)),Ga(e)?(e instanceof wr&&e.data.visible&&a.push(...$se(e,t,i,n)),e.data.visible&&a.push(...toe(e,t,i,n))):xne(e)?e.data.visible&&a.push(...eoe(e,t,i,n)):wne(e)&&a.push(...Kse(e,t,i,n)),a.length?{update:s=>{a.forEach(o=>o.update(s))},start:s=>{a.forEach(o=>{var l;return(l=o.start)==null?void 0:l.call(o,s)})},end:s=>{a.forEach(o=>{var l;return(l=o.end)==null?void 0:l.call(o,s)})}}:void 0}var MP=new E;function nw(e,t,i=!1){let n=[];e.traverseChildren(r=>{var l,d,u,c,f;if(i&&((l=r.rigidBody)==null||l.setTranslation(r.position0,!0),(d=r.rigidBody)==null||d.setRotation(r.rotation0,!0),(u=r.rigidBody)==null||u.setLinvel(MP,!0),(c=r.rigidBody)==null||c.setAngvel(MP,!0)),!qt.is(r))return;let a=r.uuid,s=r.data;if(delete r.states,r.uuid===Dc)return;let o=!1;n.some(h=>{var p;return(p=e.scene.find(a))==null?void 0:p.isDescendantOf(h)})?o=!0:((f=s.physics)==null?void 0:f.fusedBody)===!0&&s.physics.rigidBody==="dynamic"&&n.push(a),r.data=s,r.currentState=null,r.reversibleToState=null,r.currentTransitionEvent=null;for(let h of s.states){let p=R({},h.data);e.data.globalPhysics.usePhysics===!0&&s.physics&&(s.physics.rigidBody==="dynamic"||o)&&(h.data.position!==void 0&&delete p.position,h.data.rotation!==void 0&&delete p.rotation,h.data.hiddenMatrix!==void 0&&delete p.hiddenMatrix),r.states||(r.states={}),r.states[h.id]=id.patch(s,p)}_oe(e.scene,r,null,t,s.events.find(h=>h.data.type==="Follow"||h.data.type==="LookAt")!==void 0),boe(e)})}function boe(e){e.traverseEntity(t=>{for(let i of t.data.events){let n=[];switch(i.data.type){case"Follow":case"MouseHover":case"Scroll":case"MouseDown":case"MouseUp":case"MousePress":case"KeyUp":case"KeyDown":case"KeyPress":case"Collision":n.push(...i.data.actions);break;case"GameControl":for(let r of Object.values(i.data.gameActions))n.push(...r);break;case"DragDrop":n.push(...i.data.dragDropActions.drag,...i.data.dragDropActions.drop);break;case"Conditional":n.push(...i.data.inActions,...i.data.outActions);break}for(let r of n)if(r.data.type==="Create"&&r.data.hideBase==="Yes"){let a=e.scene.find(r.data.object);a&&(a.visible=!1)}}})}function _oe(e,t,i,n,r=!1){if(t instanceof wr&&t.removeInteractionGeometry(),t.changeSelectedState(i,{scene:e,shared:n},r),t instanceof wr&&t.updateGeometryGroupsIfNeeded(),t instanceof tr&&t.updateCameraState(t.dataPatched,{scene:e,shared:n}),t.cloner)for(let a of t.cloner.children)a.playModeVisible=void 0;t.updateVisible()}function CP(e){let t;if(e.easing===5){let{control1:i,control2:n}=e;t=`cubicBezier(
			${i[0]}, ${i[1]}, ${n[0]}, ${n[1]}
		)`}else if(e.easing===6){let{mass:i,stiffness:n,damping:r,velocity:a}=e;t=`spring( ${i}, ${n}, ${r}, ${a} )`}else{let i;switch(e.easing){case 0:i=Yo.linear;break;case 1:i=Yo.ease;break;case 2:i=Yo.easeIn;break;case 3:i=Yo.easeOut;break;case 4:i=Yo.easeInOut;break;default:i=Yo.linear}let[n,r,a,s]=i;t=`cubicBezier( ${n}, ${r}, ${a}, ${s} )`}return{duration:e.duration,easing:t}}function rw(e){let t={delay:0,loop:e.repeat===-1?!0:e.repeat+1};if(e.repeat===0)t.direction="normal",t.rewind=!1;else switch(e.direction){case"pingpong":t.direction="alternate",t.rewind=!1;break;case"pingpong-rewind":t.direction="alternate",t.rewind=!0;break;default:t.direction="normal",t.rewind=!1;break}switch(t.delay=0,t.endDelay=0,t.startOnceDelay=0,t.pingPongDelayCorrection=0,t.pingPongEndDelayCorrection=0,e.delayDirection){case"start-once":t.startOnceDelay=e.delay;break;case"start":t.delay=e.delay;break;case"end":t.endDelay=e.delay;break;case"start-end":case void 0:t.delay=e.delay,t.endDelay=e.delay;break}return t.direction==="alternate"&&(t.delay/=2,t.endDelay/=2,e.delayDirection==="start"?(t.pingPongDelayCorrection=t.delay,typeof t.loop=="number"&&t.loop%2===0&&(t.pingPongEndDelayCorrection=t.delay)):e.delayDirection==="end"?typeof t.loop=="number"&&t.loop%2!==0&&(t.pingPongEndDelayCorrection=t.endDelay):e.delayDirection==="start-end"&&(t.pingPongDelayCorrection=t.delay,t.pingPongEndDelayCorrection=t.endDelay)),t}var woe={type:"beginState"},xoe={type:"completeState",isfromEntity:!1},EP=class{constructor(e,t,i,n,r,a){if(this.object=e,this.data=n,this.sharedAssets=r,this.allowSlerp=a,this.targets={t:0},this.firstLoop=!0,this._changeBegan=!1,this._changeCompleted=!0,this.onChange=()=>{this.callback&&(this.callback.update(this.targets.t),this.object.dispatchEvent({type:"requestRender"})),this.targets.t===0||this.targets.t===1?this._changeCompleted||(this._changeCompleted=!0,this._changeBegan=!1,this.onChangeComplete()):(this._changeCompleted&&(this._changeCompleted=!1),this._changeBegan||(this._changeBegan=!0,this.onChangeBegin()))},this.onChangeBegin=()=>{this.object.reversibleToState=this.to.id;let s=this.targets.t>.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=s,this.object.dispatchEvent({type:"beginState",state:s}),this.object.traverseEntity(o=>{o!==this.object&&o instanceof tr&&o.dispatchEvent(woe)})},this.onChangeComplete=()=>{this.firstLoop&&(this.onFirstLoop(),this.firstLoop=!1),this.object.reversibleToState=this.to.id;let s=this.targets.t<.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=s,this.object.dispatchEvent({type:"completeState",state:s}),this.object.traverseEntity(o=>{o!==this.object&&o instanceof tr&&o.dispatchEvent(xoe)})},this.onFirstLoop=()=>{this.useCurrentState&&(this.callback=AP(this.object,this.from.data,this.to.data,this.sharedAssets,this.allowSlerp))},t===void 0){let s=$g(this.object,this.object.currentState===i?this.object.prevState:this.object.currentState);if(!s)throw new Error("Missing property");this.from=s}else{let s=$g(this.object,t);if(!s)throw new Error("Missing property");this.from=s}if(i===void 0)throw new Error("Missing property");{let s=$g(this.object,i);if(!s)throw new Error("Missing property");this.to=s}this.useCurrentState=t===void 0||i===void 0,this.params=Q(R(R({targets:this.targets,t:1,autoplay:!1},rw(n)),CP(n)),{change:this.onChange}),this.callback=AP(this.object,t===void 0?{}:this.from.data,i===void 0?{}:this.to.data,this.sharedAssets,this.allowSlerp)}get changeBegan(){return this._changeBegan}get changeCompleted(){return this._changeCompleted}},TP=class extends Nn{constructor(e,t,i,n){if(super(),this.data=e,this.page=t,this.shared=i,this.condition=n,this.toggleIsForward=!1,this.timelineNeedsRebuild=!1,this.useToggle=!1,this.onTimelineChangeComplete=()=>{var a;this.data.tweens[0].data.direction!=="normal"&&(this.toggleIsForward=!this.toggleIsForward),this.timelineNeedsRebuild!==!1&&((a=this.timeline)==null||a.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!1,isRebuild:!0}),this.timeline.play())},!e.object)throw new Error("Missing property");let r=this.page.scene.find(e.object);if(!r)throw new Error("Missing property");if(!r.states)throw new Error("Missing property");if(this.object=r,e.tweens.length<2)throw new Error("Missing property");this.tweens=Array(this.data.tweens.length-1),this.startOnceDelay=e.tweens[0].data.delayDirection==="start-once"?e.tweens[0].data.delay:0,this.init()}get playing(){return this.timeline&&this.timeline.paused===!1}init(){this.initialCurrentState=$g(this.object,this.object.currentState).id,this.toggleIsForward=!1}get currentState(){return this.useToggle?this.initialCurrentState:this.object.currentState}buildTimeline({isForward:e=!0,needsRebuild:t=!1,isRebuild:i=!1}={}){var n,r,a,s,o,l;try{let d=rw(this.data.tweens[0].data);i&&typeof d.loop=="number"&&d.loop--,(n=this.timeline)==null||n.pause(),this.timeline=vP.timeline(R(R({autoplay:!1},d),d.loop===!0||d.loop>1?{timelineChangeComplete:this.onTimelineChangeComplete}:{}));let u=this.tweens.findIndex(c=>c==null?void 0:c.changeBegan);if(t===!0&&(this.timelineNeedsRebuild=!0),e){let c=u===-1?0:u;for(let f=c;f<this.data.tweens.length-1;f++){let h=this.data.tweens[f],p=this.data.tweens[f+1],m;f===c&&(this.object.wasMovedByUser===!0||((r=this.object.previousAction)==null?void 0:r.playing)===!0)?(m=void 0,this.object instanceof tr&&(this.object.wasMovedByUser=!1)):m=h.data.state===void 0?this.currentState:h.data.state;let g=new EP(this.object,m,p.data.state===void 0?this.currentState:p.data.state,p.data,this.shared,(a=this.data.allowSlerp)!=null?a:!1);u!==-1&&f===c&&Object.assign(g.params,{startOnceDelay:0}),this.tweens[f]=g,this.timeline.add(g.params,this.timeline.duration+(f===c?d.delay:0))}this.timeline.duration+=d.endDelay}else{let c=u===-1?this.data.tweens.length-1:u+1;for(let f=c;f>0;f--){let h=this.data.tweens[f],p=this.data.tweens[f-1],m;f===c&&(this.object.wasMovedByUser===!0||((s=this.object.previousAction)==null?void 0:s.playing)===!0)?(m=void 0,this.object instanceof tr&&(this.object.wasMovedByUser=!1)):m=h.data.state===void 0?this.currentState:h.data.state;let g=new EP(this.object,m,p.data.state===void 0?this.currentState:p.data.state,h.data,this.shared,(o=this.data.allowSlerp)!=null?o:!1);u!==-1&&f===c&&Object.assign(g.params,{startOnceDelay:0}),this.tweens[f-1]=g,this.timeline.add(g.params,this.timeline.duration+(f===c?d.endDelay:0))}this.timeline.duration+=d.delay}}catch(d){d instanceof Error&&console.error(d.message)}((l=this.object.previousAction)==null?void 0:l.playing)===!0&&this.object.previousAction.pause(),this.object.previousAction=this}play(){if(fn(this.shared,this.condition)===!1||this.playing)return!1;clearTimeout(this.timeoutId);let e=rw(this.data.tweens[0].data).pingPongDelayCorrection;this.timeoutId=window.setTimeout(()=>{try{this.buildTimeline(),this.timeline.play()}catch(t){t instanceof Error&&console.error(t.message)}},this.startOnceDelay+e)}pause(){var e;(e=this.timeline)==null||e.pause(),clearTimeout(this.timeoutId),this.tweens=Array(this.data.tweens.length-1),delete this.timeoutId}stop(){this.pause();let e=this.data.tweens[0].data.state===void 0?this.initialCurrentState:this.data.tweens[0].data.state;this.object.changeSelectedState(e,{scene:this.page.scene,shared:this.shared}),this.object.currentState=e}seek(e){var t;this.timeline===void 0&&this.buildTimeline(),(t=this.timeline)==null||t.seek(e*this.timeline.duration,!0)}toggle(e){var t;if(fn(this.shared,this.condition)===!1)return!1;this.useToggle=!0,clearTimeout(this.timeoutId),this.toggleIsForward=e!=null?e:!this.toggleIsForward,this.playing?((t=this.timeline)==null||t.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!0}),this.timeline.play()):this.timeoutId=window.setTimeout(()=>{var i;(i=this.timeline)==null||i.pause(),this.buildTimeline({isForward:this.toggleIsForward}),this.timeline.play()},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause()}};function $g(e,t){var r;let i,n;if(typeof t=="string"?(i=t,n=(r=e.states)==null?void 0:r[i]):t===null&&(i=null,n=e.data),!(i===void 0||n===void 0))return{id:i,data:n}}var koe={type:"beginState"},DP={type:"completeState",isfromEntity:!1},PP={type:"requestRender"},IP=class extends Nn{constructor(e,t,i,n){super(),this.data=e,this.page=t,this.shared=i,this.condition=n,this.toggleIsForward=!1,this.useToggle=!1,this.posStart=new E,this.posEnd=new E,this.qStart=new Ct,this.qEnd=new Ct,this.zoomStart=1,this.zoomEnd=1}init(){}get playing(){return this.animation&&this.animation.began&&!this.animation.completed}buildAnimation(e=!1){if(!this.data.animate)return;let t=this.page.scene.find(this.data.targetCamera);if(!t||!t.visible)throw new ReferenceError("Target camera not founded or not visible");let i={t:0};this.posStart.copy(this.page.activeCamera.position),this.qStart.copy(this.page.activeCamera.quaternion),this.zoomStart=this.page.activeCamera.zoom,this.animation=vP(Q(R({targets:i,t:1},CP(this.data)),{update:()=>{i.t===0&&(this.useToggle&&!this.toggleIsForward?(this.posEnd.copy(this.fromCamera.position),this.qEnd.copy(this.fromCamera.quaternion),this.zoomEnd=this.fromCamera.zoom,this.switchCamera(this.fromCamera.uuid)):(this.posEnd.copy(t.position),this.qEnd.copy(t.quaternion),this.zoomEnd=t.zoom,this.fromCamera=this.page.activeCamera,this.switchCamera(t.uuid)),this.page.activeCamera.dispatchEvent(koe));let n=this.page.activeCamera;n.position.lerpVectors(this.posStart,this.posEnd,i.t),n.quaternion.slerpQuaternions(this.qStart,this.qEnd,i.t),n.zoom=this.zoomStart+(this.zoomEnd-this.zoomStart)*i.t,n.wasMovedBySwitchCameraAction=!0,n.updateMatrix(),n.updateMatrixWorld(),n.updateProjectionMatrix(),n.dispatchEvent(PP),i.t===1&&n.dispatchEvent(DP)}}))}switchCamera(e){let t=this.page.scene.find(e);if(!t||!t.visible)throw new ReferenceError("Target camera not founded or not visible");this.page.switchActiveCamera(t),this.page.activeCamera.dispatchEvent({type:"cameraChange",camera:t})}play(){if(fn(this.shared,this.condition)===!1)return!1;if(!this.playing&&this.page.activeCamera.uuid!==this.data.targetCamera)try{clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{var e;delete this.timeoutId,this.data.animate?(this.buildAnimation(),(e=this.animation)==null||e.play()):this.switchCamera(this.data.targetCamera)},this.data.delay*1e3)}catch(e){}}pause(){var e;(e=this.animation)==null||e.pause(),clearTimeout(this.timeoutId),delete this.timeoutId}toggle(e){var t,i;if(fn(this.shared,this.condition)===!1)return!1;this.useToggle=!0,clearTimeout(this.timeoutId),this.toggleIsForward=e!=null?e:!this.toggleIsForward;try{this.playing?((t=this.animation)==null||t.pause(),this.buildAnimation(!0),(i=this.animation)==null||i.play()):this.timeoutId=window.setTimeout(()=>{var n,r;delete this.timeoutId,this.data.animate?((n=this.animation)==null||n.pause(),this.buildAnimation(),(r=this.animation)==null||r.play()):(this.toggleIsForward?(this.fromCamera=this.page.activeCamera,this.switchCamera(this.data.targetCamera)):this.switchCamera(this.fromCamera.uuid),this.page.activeCamera.dispatchEvent(DP),this.page.activeCamera.dispatchEvent(PP))},this.data.delay*1e3)}catch(n){}}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause(),this.toggleIsForward=!1}},OP=class extends Nn{constructor(e,t,i,n,r){var d,u,c,f,h;super(),this.page=t,this.animationControls=i,this.shared=n,this.condition=r,this.startOnceDelay=0,this.toggleIsForward=!1;let a=e.object,s=t.scene.find(e.object);s&&Array.isArray(s.identity)&&(a=s.identity[0]),this.data=Q(R({},e),{object:a});let o=this.animationControls.clipIdToAction[e.clipId+"/"+a];this.duration=(u=(d=o==null?void 0:o.getClip())==null?void 0:d.duration)!=null?u:1;let l=(h=(f=(c=o==null?void 0:o.getClip())==null?void 0:c.tracks[0])==null?void 0:f.times.length)!=null?h:1/0;this.leftFrameTime=this.data.crop[0]/l*this.duration,this.rightFrameTime=this.data.crop[1]/l*this.duration,this.startOnceDelay=e.delay}get playing(){var e,t;return(t=(e=this.threeAnimAction)==null?void 0:e.isRunning())!=null?t:!1}play(e=!1){if(fn(this.shared,this.condition)===!1)return!1;window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{var i;if(this.threeAnimAction=this.animationControls.play(this.data),!this.threeAnimAction)return;this.threeAnimAction.reset(),this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime;let t=this.data.object;Object.entries(this.animationControls.clipIdToAction).forEach(([n,r])=>{let a=n.split("/")[1];this.threeAnimAction!==r&&a===t&&r.isRunning()&&(e?r.fadeOut(.2):r.stop())}),e&&((i=this.threeAnimAction)==null||i.fadeIn(.2))},this.startOnceDelay)}pause(){this.threeAnimAction&&(this.threeAnimAction.paused=!0),window.clearTimeout(this.timeoutId),delete this.timeoutId}stop(){var e;(e=this.threeAnimAction)==null||e.fadeOut(.2)}seek(e){this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction&&(this.threeAnimAction.paused=!0,this.threeAnimAction.time=at.clamp(this.threeAnimAction.time+1/60*e,this.leftFrameTime,this.rightFrameTime-16e-5),this.animationControls.needsUpdate=!0,this.animationControls.requestRender())}toggle(e,t=!1){if(fn(this.shared,this.condition)===!1)return!1;this.toggleIsForward=e!=null?e:!this.toggleIsForward,this.threeAnimAction&&(this.threeAnimAction._loopCount=0),this.playing?this.threeAnimAction&&(this.threeAnimAction.timeScale=this.toggleIsForward?1:-1,this.toggleIsForward?(this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime)):this.timeoutId=window.setTimeout(()=>{var i;if(this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction){this.toggleIsForward?(this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction.time=this.rightFrameTime,this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime),this.threeAnimAction.paused=!1,this.threeAnimAction.timeScale=this.toggleIsForward?1:-1;let n=this.data.clipId.split("/")[1];Object.entries(this.animationControls.clipIdToAction).forEach(([r,a])=>{let s=r.split("/")[1];this.threeAnimAction!==a&&s===n&&a.isRunning()&&(t?a.fadeOut(.2):a.stop())}),t&&((i=this.threeAnimAction)==null||i.fadeIn(.2))}},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){var t;let e=(t=this.animationControls.clipIdToAction[this.data.clipId+"/"+this.data.object])==null?void 0:t.getClip();e&&(e.duration=this.duration),this.pause()}},jP=class{constructor(e,t,i,n,r){this.data=e,this.page=t,this.eventManager=i,this.shared=n,this.condition=r,this.timeOutId=-1,this.scene=t.scene}dispatch(){if(fn(this.shared,this.condition)===!1)return!1;this.data.target!==this.page.uuid&&(window.clearTimeout(this.timeOutId),this.timeOutId=window.setTimeout(()=>{this.play()},this.data.delay*1e3))}dispose(){window.clearTimeout(this.timeOutId)}play(){if(this.scene.children.every(t=>t.uuid!==this.data.target))return;this.data.transition==="fade"&&this.data.duration>0&&this.eventManager.eventContext.renderer.renderFromSceneForSceneTransitionPass(this.scene,this.scene.activeCamera,this.data.duration*1e3),this.eventManager.deactivate(),this.eventManager.controlsManager.deactivate();let e=this.scene.activeCamera;this.scene.updatePage(this.data.target),this.scene.activePage.switchToPlayCamera(),this.scene.activeCamera.copyViewPlaneSize(e),nw(this.scene.activePage,this.shared),this.eventManager.activate(),this.eventManager.controlsManager.activate(this.eventManager)}},RP=class{constructor(e,t,i,n){this.data=e,this.page=t,this.shared=i,this.condition=n,this.evaluatedCondition=!1}checkConditions(){this.evaluatedCondition=fn(this.shared,this.condition)}dispatch(){if(this.evaluatedCondition===!1)return!1;let e=this.shared.getVariable(this.data.variableId),t=wT(this.data.expression,this.shared,ia.typeOfVariable(e));t!==void 0&&this.shared.updateVariable(this.data.variableId,typeof t=="string"?{textValue:t}:t)}dispose(){}},zP=class{constructor(e,t,i,n){this.data=e,this.page=t,this.shared=i,this.condition=n,this.timeoutId=null}dispatchInner(){if(fn(this.shared,this.condition)===!1)return!1;let e=this.shared.getDynamicVariablePlayState(this.data.variableId);if(this.data.mode==="PlayPause")this.shared.getDynamicVariableToggleIsForward(this.data.variableId)===void 0&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,e==="Playing"?"Paused":"Playing");else if(this.data.mode==="Play"&&e!=="Playing")this.shared.getDynamicVariableToggleIsForward(this.data.variableId)===void 0&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing");else if(this.data.mode==="Stop"&&e!=="Stopped")this.shared.setDynamicVariablePlayState(this.data.variableId,"Stopped");else if(this.data.mode==="Pause"&&e!=="Paused")this.shared.setDynamicVariablePlayState(this.data.variableId,"Paused");else if(this.data.mode==="Restart")this.shared.setDynamicVariablePlayState(this.data.variableId,"Restarted");else if(this.data.mode==="Toggle"){let t=this.shared.getDynamicVariableToggleIsForward(this.data.variableId);e==="Playing"?this.shared.setDynamicVariableToggleIsForward(this.data.variableId,t===void 0?!1:!t):(this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!t),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing"))}}dispatch(){let e=this.data.delay,t=this.shared.getDynamicVariablePlayState(this.data.variableId);this.data.mode==="PlayPause"&&t==="Playing"&&(e=this.data.pauseDelay),e!==0?(this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{this.timeoutId=null,this.dispatchInner()},e)):this.dispatchInner()}dispose(){this.timeoutId&&window.clearTimeout(this.timeoutId)}};function fn(e,t){if(t===void 0)return!0;if(t.expression.length===0)return!1;let i=wT(t.expression,e,"boolean");return t.negate?!i:!!i}function Sr(e,t,i,n,r,a){let s={Audio:[],Video:[],Link:[],Destroy:[],Create:[],Reset:[],Transition:[],SwitchCamera:[],Animation:[],SceneTransition:[],SetVariable:[],DynamicVariablePlay:[]},o=l=>({id:d,data:u})=>{try{u.type==="Audio"?ta[e.type].includes("Audio")&&s.Audio.push(new q6(d,u,a,n,l)):u.type==="Video"?ta[e.type].includes("Video")&&s.Video.push(new LP(d,u,a,n,l)):u.type==="Link"?ta[e.type].includes("Link")&&s.Link.push(new gse(u,r.controlsManager,n,l)):u.type==="Create"?ta[e.type].includes("Create")&&s.Create.push(new VP(u,i,r.controlsManager,n,l)):u.type==="Destroy"?ta[e.type].includes("Destroy")&&s.Destroy.push(new Y6(u,i,r.controlsManager,n,l)):u.type==="Reset"?ta[e.type].includes("Reset")&&s.Reset.push(new X6(u,i,n,r,l)):u.type==="Transition"?ta[e.type].includes("Transition")&&s.Transition.push(new TP(u,i,n,l)):u.type==="SwitchCamera"?ta[e.type].includes("SwitchCamera")&&s.SwitchCamera.push(new IP(u,i,n,l)):u.type==="SceneTransition"?ta[e.type].includes("SceneTransition")&&s.SceneTransition.push(new jP(u,i,r,n,l)):u.type==="Animation"?ta[e.type].includes("Animation")&&s.Animation.push(new OP(u,i,r.animationControls,n,l)):u.type==="SetVariable"?ta[e.type].includes("SetVariable")&&s.SetVariable.push(new RP(u,i,n,l)):u.type==="DynamicVariablePlay"?ta[e.type].includes("DynamicVariablePlay")&&s.DynamicVariablePlay.push(new zP(u,i,n,l)):u.type==="Conditional"&&ta[e.type].includes("Conditional")&&(u.ifActions.forEach(o({expression:u.condition,negate:!1})),u.elseActions.forEach(o({expression:u.condition,negate:!0})))}catch(c){}};return t.forEach(o()),s}function jn(e){Object.values(e).forEach(t=>{t.forEach(i=>{(i instanceof q6||i instanceof LP||i instanceof OP||i instanceof TP||i instanceof VP||i instanceof Y6||i instanceof IP||i instanceof jP||i instanceof X6||i instanceof RP||i instanceof zP)&&i.dispose()})})}function Soe(e,t){let i;if("material"in e){let n=e.material;Array.isArray(n)?i=e.material[0].layers.find(r=>r.uuid===t):i=e.material.layers.find(r=>r.uuid===t)}if(i)return i.color.texture.image.img instanceof HTMLVideoElement?i.color.texture.image.img:void 0}var BP=new Map,wh=new Map,ku=class{constructor(e,t,i){this.data=t,this.delay=0,this.status="stopped";let{layerId:n,loop:r,volume:a,delay:s}=t;if(this.object=i,n===void 0)throw new Error("Missing property");let o=Soe(i,n);o&&(this.videoElement=o,this.videoElement.loop=r===1/0,Y1&&(this.videoElement.autoplay=!0),a!==void 0&&(this.videoElement.volume=a)),s!==void 0&&(this.delay=s),wh.has(i.uuid)?wh.get(i.uuid).push(this):wh.set(i.uuid,[this]),BP.set(e,this),this.pause()}mute(){!this.videoElement||(this.videoElement.muted=!0)}unMute(){!this.videoElement||(this.videoElement.muted=!1)}play(e){if(!this.videoElement)return;let t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);e?(this.mute(),this.delay+=150):t?(this.mute(),window.setTimeout(()=>{this.unMute()},100)):this.unMute(),this.delayTimerId=window.setTimeout(()=>{if(!this.videoElement)return;let i=this.videoElement.play();i!==void 0&&i.then(n=>{}).catch(n=>{this.play()}),this.clearDelay()},this.delay),this.status="playing"}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}pause(){!this.videoElement||(this.videoElement.pause(),this.status="paused")}stop(){!this.videoElement||(this.videoElement.pause(),this.videoElement.currentTime=0,this.status="stopped",this.clearDelay())}playByToggle(){this.data.toggle==="stop"?this.status==="playing"?this.stop():(this.stop(),this.play()):this.data.toggle==="pause"?this.status==="playing"?this.pause():this.play():(this.stop(),this.play())}dispose(){!this.videoElement||(this.stop(),this.videoElement.muted=!0)}},aw=class{constructor(e){this.data=e}dispatch(){this.data.playVideo?this.pauseVideo(this.data.playVideo):this.data.object?this.pauseAllVideosFromObject(this.data.object):this.pauseAllVideos()}pauseVideo(e){let t=BP.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t[this.data.interaction](),this.disposeDelay()},this.data.delay)):t[this.data.interaction]())}pauseAllVideosFromObject(e){let t=wh.get(e);!(t!=null&&t.length)||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.forEach(i=>i[this.data.interaction]()),this.disposeDelay()},this.data.delay)):t.forEach(i=>i[this.data.interaction]()))}pauseAllVideos(){let e=[...wh.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{e.forEach(t=>{t.forEach(i=>{i[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):e.forEach(t=>{t.forEach(i=>{i[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},LP=class{constructor(e,t,i,n,r){if(this.data=t,this.shared=n,this.condition=r,t.interaction==="play")this.interaction=new ku(e,t,i);else if(t.interaction==="pause"||t.interaction==="stop")this.interaction=new aw(t);else throw new Error("Missing property")}dispatchBasic(){if(fn(this.shared,this.condition)===!1)return!1;this.interaction instanceof ku?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(fn(this.shared,this.condition)===!1)return!1;this.interaction instanceof ku?this.interaction.play():this.interaction.dispatch()}dispose(){this.interaction.dispose()}},FP=(()=>{let e,t,i,n;function r(o){!e&&!NP()&&(t==null?void 0:t.sharedGameControlGlobals.createdObjects.length)>0&&(e=requestAnimationFrame(a)),o&&(t=o,n=o.requestRender)}function a(o){let l=i?o-i:0,d=t.sharedGameControlGlobals.createdObjects,u=t.sharedGameControlGlobals.nCreatedPerAction,c=d.length,f=0;for(;f<c;){let h=d[f];h.userData.createdTime===void 0&&(h.userData.createdTime=o),h.userData.lifetime===void 0&&h.userData.quantity===void 0||h.userData.lifetime&&o-h.userData.createdTime<h.userData.lifetime||h.userData.quantity&&u[h.userData.actionId]<=h.userData.quantity?(h.userData.velocity&&(h.position.addScaledVector(h.userData.velocity,l/1e3),h.updateMatrix(),n()),f++):(u[h.userData.actionId]>h.userData.quantity&&u[h.userData.actionId]--,d.splice(f,1),h.removeFromParent(),t.sharedGameControlGlobals.rapierWorld&&h.rigidBody?(t.sharedGameControlGlobals.colliderToEntity.delete(h.rigidBody.collider(0).handle),t.sharedGameControlGlobals.rapierWorld.removeRigidBody(h.rigidBody)):(h.bvhGeometry=void 0,t.sharedGameControlGlobals.entitiesWithTransformAnim=t.sharedGameControlGlobals.entitiesWithTransformAnim.filter(p=>p.bvhGeometry!==void 0)),c--,n())}e=f>0?requestAnimationFrame(a):void 0,i=f>0?o:void 0}function s(){NP()?e&&(cancelAnimationFrame(e),e=void 0,i=void 0):r()}return typeof document<"u"&&document.addEventListener("visibilitychange",s),r})();function NP(){return!!document&&document.hidden}var UP=new Ct,Aoe=new E,Moe=new E,VP=class{constructor(e,t,i,n,r){this.data=e,this.page=t,this.controlsManager=i,this.shared=n,this.condition=r,this.intervalId=null,this.timeoutIdQueue=[],this.uniqueId=at.generateUUID(),this.dispatch=()=>{if(fn(this.shared,this.condition)===!1)return!1;this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3)):this.dispatchInner()},this.dispatchFromStart=()=>{if(fn(this.shared,this.condition)===!1)return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3))},this.dispatchThrottled=mQ(this.dispatch,1e3/this.data.creationSpeed),this.dispatchStart=()=>{this.intervalId===null&&(this.intervalId=window.setInterval(this.dispatch,1e3/this.data.creationSpeed))},this.dispatchStop=()=>{this.intervalId!==null&&(window.clearInterval(this.intervalId),this.intervalId=null)},this.dispatchInner=()=>{this.timeoutIdQueue.shift();let s=new er(this.object);if(s.playModeVisible=!0,s.expand(),this.data.coordinateSystem!=="world"){let l=this.data.coordinateSystem,d=this.page.scene.find(l);d&&(d.updateMatrixWorldSVD(),s.hiddenMatrix.copy(d.matrixWorldRigid))}s.position.fromArray(this.data.position),s.rotation.fromArray(this.data.rotation),s.updateMatrix(),this.page.add(s);let o=this.controlsManager.sharedGameControlGlobals;o.createdObjects.push(s),o.nCreatedPerAction[this.uniqueId]===void 0?o.nCreatedPerAction[this.uniqueId]=1:o.nCreatedPerAction[this.uniqueId]++,s.updateWorldMatrix(!0,!0),s.traverseObject(this.traverseObjectCB),FP(),this.controlsManager.requestRender()},this.traverseObjectCB=s=>{var u,c,f,h;s.hasNonUniformScale&&s.updateMatrixWorldSVD();let o;if(this.controlsManager.sharedGameControlGlobals.rapierWorld){if(s instanceof Va)if(s.objectForSample){if(s.objectForSample.dataPatched.physics.fusedBody)return;o=s.object}else return s.object.dataPatched.physics.fusedBody===!0&&s.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(s instanceof er)o=s.object;else if(o=s,(u=o.dataPatched.cloner)==null?void 0:u.hideBase)return!0}else{if(s instanceof Va)return;s instanceof er?o=s.object:o=s}this.data.destroy==="Time"?s.userData.lifetime=this.data.lifetime*1e3:this.data.destroy==="Quantity"&&(s.userData.quantity=this.data.destroyAfterQuantity,s.userData.actionId=this.uniqueId);let l=new E().fromArray(this.data.velocity),d=o.dataPatched;if(!(d.physics.enabled==="visibility"?!d.visible:!d.physics.enabled)&&(this.controlsManager.sharedGameControlGlobals.rapierWorld?(this.controlsManager.addRigidBody(s,o,{fromCreate:!0,dynamic:this.data.dynamic}),this.data.destroy==="Collision"&&((c=s.rigidBody)==null||c.collider(0).setActiveEvents(1),s.userData.hasCollisionDestroy=!0),s.matrixWorld.decompose(Aoe,UP,Moe),l.applyQuaternion(UP),this.data.velocity.some(p=>p!==0)&&this.data.dynamic&&((f=s.rigidBody)==null||f.setLinvel(l.divideScalar(this.controlsManager.pixelsPerMeter),!0))):("geometry"in s.object&&this.controlsManager.addBoundsTree(s),this.data.velocity.some(p=>p!==0)&&this.data.dynamic&&(s.userData.velocity=l)),((h=o.dataPatched.physics)==null?void 0:h.fusedBody)===!0))return!0};let a=this.page.scene.find(this.data.object);if(!a)throw new Error("Missing Property");if(this.object=a,this.data.coordinateSystem!=="world"&&!this.page.scene.find(this.data.coordinateSystem))throw new Error("Missing Property");FP(i)}dispose(){this.intervalId!==null&&(window.clearInterval(this.intervalId),this.intervalId=null),this.timeoutIdQueue.forEach(e=>window.clearTimeout(e)),this.dispatchThrottled.cancel(),this.page.remove(...this.controlsManager.sharedGameControlGlobals.createdObjects),this.controlsManager.sharedGameControlGlobals.createdObjects=[]}},HP=200,sw=.02,ow=.3,Coe=65,Ape=new E,GP=new E,WP=new E,Eoe=new E,Ar=new E,Nr=new E,gl=new E,lw=new Ee,qP=new Ee,Toe=new Ee,Mpe=new Ee,Za=new Ct,xo=new Ct,js=new Dn(0,0,0,"YXZ"),Doe=new E(1,0,0),Ya=new E(0,1,0),Poe=new E(0,0,1),ZP=new E(1,1,1),Cpe=new Er,Ioe=1,Ooe=.025,joe=16e-6,YP=12,Roe=20,Rn=new ua,ka=new Xi,zoe={type:"requestRender"},Boe={type:"updateMatrix"},XP=Math.PI/6,dw=class extends Nn{constructor(e,t,i,n,r,a,s,o,l){var p,m,g,v,y,b,_,x,k,w,S,A,M,C,T,P,I,j,H,U;super(),this.object=e,this.domElement=t,this.data=i,this.gloabalPhysics=n,this.controlsManager=r,this.cameraFollow=a,this.camera=s,this.page=o,this.sharedAssets=l,this.enableDamping=!0,this.hiddenMatrix0=new Ee,this.target0=new E,this.zoom0=1,this.rotForce=1,this.moveForce=1,this.pixelsPerMeter=HP,this.euler0=new Dn(0,0,0,"YXZ"),this.position0Cam=new E,this.quat0Cam=new Ct,this.scale0Cam=new E,this.hiddenMatrix0Cam=new Ee,this.threshEndTranslate=.01,this.threshEndRotate=1e-8,this.threshEndRotVel=.005,this.collider={type:"capsule",radius:40,segment:new ua(new E(0,-40,0),new E(0,40,0)),matrix:new Ee,position:new E,rotation:new Ct},this.euler=new Dn(0,0,0,"YXZ"),this.eulerDelta=new E,this.lastPosition=new E,this.lastCameraQuaternion=new Ct,this.lastCameraPosition=new E,this.PI_2=Math.PI/2,this.prevMouse=new Y,this.velocityTarget=new E,this.velocity=new E,this.directionXZ=new E,this.rotVelocityStick=new E,this.rotVelocityTarget=new E,this.rotVelocity=new E,this.rotDirection=new E,this.nonColliderRotOffset=new Ee,this.nonColliderPosOffset=new Ee,this.firstPointerId=-1,this.rot=new E,this.path=[],this.movementState={moveNegZ:0,movePosZ:0,moveNegX:0,movePosX:0,moveNegY:0,movePosY:0,rotPosX:0,rotNegX:0,rotPosY:0,rotNegY:0,jump:0,run:0},this.vrEulerYOffset=0,this.onObject=!1,this.actionState={},this.keyAssignments=[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","ArrowUp"],["rotPosY","ArrowLeft"],["rotNegX","ArrowDown"],["rotNegY","ArrowRight"],["jump"," "]],this.collisionEnabled=!0,this.offsetMatrix=new Ee,this.objectToTarget=new E,this.objectToTarget0=new E,this.objectToCamXZ=new E,this.objectToCamXZ0=new E,this.targetToCamera=new E,this.targetToCamera0=new E,this.cameraPolarAxis0=new E,this.targetPos=new E,this.targetQuat=new Ct,this.lerpFactorPos=new E().setScalar(.3),this.lerpFactorPosStart=.3,this.lerpFactorPosEnd=.3,this.lerpFactorRotStart=.3,this.lerpFactorRotEnd=.3,this.lerpFactorPosCamera=.3,this.lerpFactorRotCamera=.3,this.objXZQuat=new Ct,this.objXZQuatInv=new Ct,this.objXZRotMat=new Ee,this.isFirstPerson=!1,this.didHit=!1,this.groundVelocity=new E,this.pushedVelocity=new E,this.groundYRotation=0,this.objectRealQuat=new Ct,this.colliderWorldQuat=new Ct,this.groundNormal=new E,this.groundTilt=new Ct,this.groundTiltInv=new Ct,this.lastHitObj=null,this.isFirstFrame=!0,this.rotationAccumWhenOrientWithCamera=0,this.navMeshPathDest=null,this.position=new E,this.quaternion=new Ct,this.scale=new E,this.initialAction=!0,this.onPointerDown=O=>{O.target!==this.domElement||this.firstPointerId!==-1||(this.firstPointerId=O.pointerId,this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp),this.rotBy!=="keys"&&!$r&&(!qC||ZC>=15.5)&&this.domElement.requestPointerLock(),this.prevMouse.set(O.clientX,O.clientY))},this.onPointerUp=O=>{this.firstPointerId=-1,this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this.onPointerUp),O.pointerType==="mouse"&&this.domElement.ownerDocument.exitPointerLock()},this.onPointerMove=O=>{if(O.pointerId!==this.firstPointerId)return;let F=O.clientX-this.prevMouse.x,Z=O.clientY-this.prevMouse.y;this.prevMouse.set(O.clientX,O.clientY),O.pointerType==="mouse"&&this.rotBy!=="keys"&&(qC&&ZC<15.5&&!$r?(this.eulerDelta.y=-F*this.mouseOrbitSensitivity,this.eulerDelta.x=-Z*this.mouseOrbitSensitivity):(this.eulerDelta.y=-O.movementX*this.mouseOrbitSensitivity,this.eulerDelta.x=-O.movementY*this.mouseOrbitSensitivity)),O.pointerType!=="mouse"&&this.rotByTouch==="drag"&&(this.eulerDelta.y=-F*this.mouseOrbitSensitivity*5,this.eulerDelta.x=-Z*this.mouseOrbitSensitivity*5),this.controlsManager.requestRender()},this.onPointerlockChange=O=>{this.domElement.ownerDocument.pointerLockElement===this.domElement?dw.isLocked=!0:dw.isLocked=!1},this.onPointerlockError=()=>{console.error("SPE.GameControls: Unable to use Pointer Lock API")},this.handleVisibilityChange=()=>{if(document!=null&&document.hidden)for(let O in this.movementState)this.movementState[O]=0},this.onKeyDown=O=>{!(O.target instanceof HTMLInputElement)&&(O.code==="ArrowLeft"||O.code==="ArrowUp"||O.code==="ArrowRight"||O.code==="ArrowDown"||O.code==="Space")&&O.preventDefault();for(let F of this.keyAssignments)if(O.key.toUpperCase()===F[1]||O.key===F[1]){this.movementState[F[0]]=1;break}this.controlsManager.requestRender()},this.onKeyUp=O=>{for(let F of this.keyAssignments)if(O.key.toUpperCase()===F[1]||O.key===F[1]||O.code.slice(3,O.code.length).toUpperCase()===F[1]){this.movementState[F[0]]=0;break}},this.copyVRGamePadValues=(O,F)=>{for(let Z=2;Z<4;Z++){let G=O.axes[Z];F===0?Z===2?this.movementState.movePosX=G:this.movementState.movePosZ=G:(O.buttons[3].pressed?this.movementState.jump=1:this.movementState.jump=0,Z===2?(Math.abs(this.movementState.rotPosY)<.3&&Math.abs(G)>=.3&&(this.vrEulerYOffset+=G<0?1:-1),this.movementState.rotPosY=G):this.moveMode==="fly"&&(this.movementState.moveNegY=G))}},this.sharedGameControlGlobals=r.sharedGameControlGlobals,e===s&&(this.isFirstPerson=!0),this.hiddenMatrix0.copy(this.object.hiddenMatrix),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.euler0.setFromQuaternion(this.quaternion,"YXZ");let d=this.euler0.clone(),u=d.y;if(this.objectRealQuat.copy(this.quaternion),d.y=0,this.quaternion.setFromEuler(d),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),d.set(0,u,0),this.quaternion.setFromEuler(d),this.rot.setFromEuler(d),this.object.matrixAutoUpdate=!1,(this.isFirstPerson||this.cameraFollow===!0)&&(this.target0.copy(this.camera.getTarget()),this.zoom0=this.camera.zoom),this.cameraFollow===!0){this.position0Cam.copy(this.camera.position),this.quat0Cam.copy(this.camera.quaternion),this.scale0Cam.copy(this.camera.scale),this.hiddenMatrix0Cam.copy(this.camera.hiddenMatrix),this.camera.parent?(this.camera.hiddenMatrix.copy((p=this.camera)==null?void 0:p.parent.matrixWorld),this.camera.matrix.copy(this.camera.matrixWorld)):this.camera.hiddenMatrix.identity(),this.camera.matrix.copy(this.camera.matrixWorld),this.camera.matrix.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.matrixAutoUpdate=!1,this.offsetMatrix.copy(this.object.matrix).invert().multiply(this.camera.matrix);let O=new E(0,0,-1).applyQuaternion(this.camera.quaternion),F=new E().subVectors(this.position,this.camera.position);this.objectToCamXZ.copy(F),this.objectToCamXZ.y=0,this.objectToCamXZ0.copy(this.objectToCamXZ);let Z,G;Math.abs(O.y)<1e-6?(F.y=0,O.y=0,G=F.projectOnVector(O)):F.y/O.y>0?G=O.multiplyScalar(F.y/O.y):G=O.multiplyScalar(F.length()),this.targetToCamera0.copy(G).negate(),Z=this.camera.position.clone().add(G),this.objectToTarget0.subVectors(Z,this.position);let L=new Dn().setFromQuaternion(this.camera.quaternion,"YXZ");this.cameraPolarOffset=-L.x,L.x=0,L.z=0,L.y-=Math.PI/2,this.cameraPolarAxis0.set(0,0,-1).applyEuler(L)}if(this.object instanceof tr&&(this.object.matrixAutoUpdate=!1),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.rotByTouch=(m=i.rotByTouch)!=null?m:"joystick",this.rotBy=(g=i.rotBy)!=null?g:"keys",this.rotationMode=(v=i.rotationMode)!=null?v:"normal",this.moveMode=(y=i.moveMode)!=null?y:"walk",this.collisionEnabled=i.collisionEnabled,this.speedTranslate=((b=i.speedTranslate)!=null?b:250)*Ioe,this.speedOrbit=((_=i.speedRotate)!=null?_:100)*Ooe,this.mouseOrbitSensitivity=((x=i.speedRotate)!=null?x:100)*joe,this.keyAssignments=i.keyAssignments.map(O=>{let F=[O[0],O[1]];return F[1]==="\u25B2"?F[1]="ArrowUp":F[1]==="\u25C0"?F[1]="ArrowLeft":F[1]==="\u25BC"?F[1]="ArrowDown":F[1]==="\u25B6"?F[1]="ArrowRight":F[1]==="\u21E7"?F[1]="Shift":F[1]==="\u21B5"?F[1]="Enter":F[1]==="Space"?F[1]=" ":F[1]==="\u2318"?F[1]="Meta":F[1]==="Ctrl"?F[1]="Control":F[1]==="Esc"&&(F[1]="Escape"),F}),i.rotBy==="mouse"){let O;O=this.keyAssignments.findIndex(F=>F[0]==="rotNegX"),O!==-1&&(this.keyAssignments[O][1]=""),O=this.keyAssignments.findIndex(F=>F[0]==="rotPosX"),O!==-1&&(this.keyAssignments[O][1]=""),O=this.keyAssignments.findIndex(F=>F[0]==="rotPosY"),O!==-1&&(this.keyAssignments[O][1]=""),O=this.keyAssignments.findIndex(F=>F[0]==="rotNegY"),O!==-1&&(this.keyAssignments[O][1]="")}this.lerpFactorPosStart=1-Si(.02,1/(((k=i.delayPos[0])!=null?k:.3)*60)),this.lerpFactorPosEnd=1-Si(.02,1/(((w=i.delayPos[1])!=null?w:.3)*60)),this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.lerpFactorRotStart=1-Si(.02,1/(((S=i.delayRot[0])!=null?S:.3)*60)),this.lerpFactorRotEnd=1-Si(.02,1/(((A=i.delayRot[1])!=null?A:.3)*60)),this.lerpFactorPosCamera=1-Si(.02,1/(((M=i.delayPosCamera)!=null?M:.3)*60)),this.lerpFactorRotCamera=1-Si(.02,1/(((C=i.delayRotCamera)!=null?C:.3)*60)),this.gravity=((T=this.gloabalPhysics.gravity)!=null?T:zc.defaultData.gravity)*YP,this.usePhysics=(P=this.gloabalPhysics.usePhysics)!=null?P:zc.defaultData.usePhysics,this.jumpPower=i.jumpPower*Roe,this.resetYPosition=this.position.y+Math.abs(i.resetYPosition)*(this.gravity>0?1:-1),this.alignToGround=(I=i.alignToGround)!=null?I:!1,this.orientMode=i.autoOrientMove?i.orientMode:"none",this.orientWith=(j=i.orientWith)!=null?j:Qm.defaultDataThirdPerson.orientWith,this.slopeThresh=Coe*Math.PI/180,i.collider.type==="capsule"?(this.collider.radius=i.collider.radius,this.collider.segment.start.y=i.collider.height/2-i.collider.radius,this.collider.segment.end.y=-this.collider.segment.start.y,this.offset=i.collider.height*sw/this.pixelsPerMeter,this.stepThresh=i.collider.height*ow/this.pixelsPerMeter,this.colliderHeight=i.collider.height):i.collider.type==="sphere"?(this.collider.radius=i.collider.radius,this.collider.segment.start.y=0,this.collider.segment.end.y=0,this.offset=2*i.collider.radius*sw/this.pixelsPerMeter,this.stepThresh=2*i.collider.radius*ow/this.pixelsPerMeter,this.colliderHeight=i.collider.radius*2):(this.offset=i.collider.height*sw/this.pixelsPerMeter,this.stepThresh=i.collider.height*ow/this.pixelsPerMeter,this.colliderHeight=i.collider.height),this.collider.type=i.collider.type;let c=new E().fromArray(i.collider.position),f=new Ct().setFromEuler(new Dn().fromArray([...i.collider.rotation,"XYZ"]));this.collider.position.copy(c).multiply(this.scale),this.collider.rotation.copy(f),this.collider.matrix.compose(c,f,ZP),i.cameraXAxis!==void 0&&(this.cameraXAxis=i.cameraXAxis,this.cameraYAxis=i.cameraYAxis,this.minPolarAngle=i.cameraRotXLimits[0],this.maxPolarAngle=i.cameraRotXLimits[1],this.minAzimuthAngleRel=i.cameraRotYLimits[0],this.maxAzimuthAngleRel=i.cameraRotYLimits[1]),this.forwardDir=(H=i.forwardDirection)!=null?H:"-z",this.runMultiplier=(U=i.runMultiplier)!=null?U:2;let h=i.navmesh.destinationHelperRadius*2;if(h>0){let O=new bt;O.push({fi:0,data:Q(R({},Pr.defaultData("light","phong")),{alpha:0}),id:"layer1"}),O.push({fi:0,data:Q(R({},Pr.defaultData("color")),{color:i.navmesh.destinationHelperColor,alpha:i.navmesh.destinationHelperColor.a}),id:"layer2"});let F=new Xb({layers:O},{scene:this.page.scene,shared:this.sharedAssets});this.navMeshPathDest=new cr(UE.create({parameters:{width:h,height:h/10,hollow:.7}}),F),this.navMeshPathDest.material.userData.opacity0=i.navmesh.destinationHelperColor.a}this.activate()}reset(e=!1){if(this.object.hiddenMatrix.copy(this.hiddenMatrix0),e){this.object.updateMatrix(),this.object.updateMatrixWorld(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity();let t=new Dn().setFromQuaternion(this.quaternion,"YXZ"),i=t.y;this.objectRealQuat.copy(this.quaternion),t.y=0,this.quaternion.setFromEuler(t),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),t.set(0,i,0),this.quaternion.setFromEuler(t),this.rot.setFromEuler(t),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.velocityTarget.set(0,0,0),this.velocity.set(0,0,0)}else this.object instanceof tr?this.object.matrixAutoUpdate=!0:this.object.updateMatrix();this.cameraFollow===!0&&(this.camera.quaternion.copy(this.quat0Cam),this.camera.position.copy(this.position0Cam),this.camera.scale.copy(this.scale0Cam),this.camera.hiddenMatrix.copy(this.hiddenMatrix0Cam),this.camera.matrixAutoUpdate=!0),this.controlsManager.requestRender()}activate(){this.instantiateActions(),this.domElement.ownerDocument.addEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.addEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.addEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.addEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.addEventListener("visibilitychange",this.handleVisibilityChange)}deactivate(){this.disposeActions(),this.domElement.ownerDocument.removeEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.removeEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.removeEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.removeEventListener("visibilitychange",this.handleVisibilityChange)}dispose(){var e;this.deactivate(),(e=this.navMeshPathDest)!=null&&e.parent&&this.page.remove(this.navMeshPathDest)}instantiateActions(){let e=this.data,t=this.sharedAssets;e.gameActions!==void 0&&(this.actions={},Km.list.forEach(i=>{this.actions[i]=Sr(Q(R({},e),{disabled:!1,type:"GameControl"}),e.gameActions[i],this.page,t,this.controlsManager.eventManager,this.object)})),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"),this.initialAction&&(this.initialAction=!1)}disposeActions(){this.initialAction=!1,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),jn(this.actions.idle),jn(this.actions.move),jn(this.actions.run),jn(this.actions.jump)}dispatchStartEvent(e){this.actions[e]!==void 0&&(this.actionState[e]||(this.actionState[e]=!0,this.actions[e].Transition.forEach(t=>{t.play()}),this.actions[e].Animation.forEach(t=>{t.play(this.initialAction===!1)}),this.actions[e].Create.forEach(t=>{t.dispatchStart()}),this.actions[e].Audio.forEach(t=>{t.dispatchGameControl("start")})))}dispatchStopEvent(e){this.actions[e]!==void 0&&(!this.actionState[e]||(this.actionState[e]=!1,this.actions[e].Transition.forEach(t=>{t.stop(),t.object.currentState!==null&&t.object.changeSelectedState(null,{scene:this.page.scene,shared:this.sharedAssets})}),this.actions[e].Create.forEach(t=>{t.dispatchStop()}),this.actions[e].Audio.forEach(t=>{t.dispatchGameControl("stop")})))}get colliderWorldPosition(){return Ar.copy(this.collider.position).applyQuaternion(this.objectRealQuat).add(this.position)}update(e,t,i){var o,l,d,u,c,f,h,p,m;if(this.gravity<0?this.position.y<this.resetYPosition:this.position.y>this.resetYPosition)return this.reset(!0),!0;this.sharedGameControlGlobals.gamePads.forEach(this.copyVRGamePadValues);let n=(this.isFirstFrame?16.6:e)/1e3;this.isFirstFrame&&(this.isFirstFrame=!1);let r=n*60,a=!1;if(this.usePhysics&&this.collisionEnabled){let g=Nr.set(0,(this.velocity.y===0?this.pixelsPerMeter*Math.max(Math.abs(this.gravity)/(10*YP),1)*(this.gravity>0?1:-1):this.velocity.y)*n,0).divideScalar(this.pixelsPerMeter),v=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter),this.colliderWorldQuat,g,(o=this.object.rigidBody)==null?void 0:o.collider(0).shape,1,!1,16,void 0,void 0,this.object.rigidBody);if(v){this.onObject=!0,this.groundNormal.set(v.normal2.x,v.normal2.y,v.normal2.z).applyQuaternion(this.colliderWorldQuat).negate(),this.alignToGround&&this.groundTiltAdjustment(this.groundNormal),Math.acos(this.groundNormal.y)<this.slopeThresh&&(a=!0),((l=v.collider.parent())==null?void 0:l.bodyType())===0&&Math.acos(this.groundNormal.y)*(180/Math.PI)>45&&(this.onObject=!1);let y=v.collider.parent();this.groundYRotation=0,this.groundVelocity.set(0,0,0);for(let b of this.sharedGameControlGlobals.entitiesWithTransformAnim)if(b.rigidBody===y&&b.userData.isFollowingObj!==this.object.uuid){(b.hasNonUniformScale?b.matrixWorldRigid:b.matrixWorld).decompose(Ar,xo,Nr),this.groundVelocity.subVectors(Ar,b.prevT),this.object.getWorldPosition(Nr).add(this.collider.position).sub(Ar),this.groundYRotation=js.setFromQuaternion(xo).y-b.prevR.y,gl.copy(Nr).applyAxisAngle(Ya,this.groundYRotation),this.groundVelocity.add(gl.sub(Nr)).divideScalar(n);break}}else this.onObject=!1}if(this.moveMode==="walk"&&this.collisionEnabled&&(this.movementState.jump===1&&this.onObject&&(this.velocityTarget.y=this.jumpPower,this.movementState.jump=0,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("jump"),this.onObject=!1),this.onObject?this.velocityTarget.y/=2:this.velocityTarget.y+=this.gravity*r),this.moveMode==="fly"&&(this.velocityTarget.y=(this.movementState.movePosY-this.movementState.moveNegY)*this.speedTranslate),this.directionXZ.z=this.movementState.movePosZ-this.movementState.moveNegZ,this.directionXZ.x=this.movementState.movePosX-this.movementState.moveNegX,this.forwardDir==="+z"&&this.directionXZ.multiplyScalar(-1),this.directionXZ.manhattanLength()>0&&(this.path=[]),this.navMeshPathDest){let g=this.navMeshPathDest.material;if(this.moveMode==="walk"&&this.path.length>1){this.navMeshPathDest.position.copy(this.path[this.path.length-1]),this.navMeshPathDest.parent||this.page.add(this.navMeshPathDest);let v=Ar.subVectors(this.path[1],this.position),y=Nr.subVectors(this.path[1],this.path[0]);v.dot(y)<0?this.path.shift():(this.directionXZ.x=y.x,this.directionXZ.z=y.z),g.opacity=g.userData.opacity0}else g.opacity-=.05*g.userData.opacity0,this.navMeshPathDest.material.opacity<=0&&this.navMeshPathDest.parent&&this.page.remove(this.navMeshPathDest)}this.directionXZ.normalize(),this.movementState.run?this.moveForce=this.runMultiplier:this.moveForce=1,this.velocityTarget.z=this.directionXZ.z*this.speedTranslate*this.moveForce,this.velocityTarget.x=this.directionXZ.x*this.speedTranslate*this.moveForce,(this.moveMode==="walk"?this.velocityTarget.x+this.velocityTarget.z===0:this.velocityTarget.manhattanLength()===0)?this.lerpFactorPos.setScalar(this.lerpFactorPosEnd):this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.moveMode==="walk"&&(this.lerpFactorPos.y=1),this.didHit===!1&&this.pushedVelocity.manhattanLength()===0||this.usePhysics===!1?(this.velocity.x+=(this.velocityTarget.x-this.velocity.x)*(1-Si(1-this.lerpFactorPos.x,r)),this.velocity.y+=(this.velocityTarget.y-this.velocity.y)*(1-Si(1-this.lerpFactorPos.y,r)),this.velocity.z+=(this.velocityTarget.z-this.velocity.z)*(1-Si(1-this.lerpFactorPos.z,r))):this.velocity.copy(this.velocityTarget),(this.moveMode==="walk"?Si(this.velocity.x,2)+Si(this.velocity.z,2)<this.speedTranslate:this.velocity.lengthSq()<this.speedTranslate)?(this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.onObject&&(this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"))):(this.dispatchStopEvent("idle"),this.onObject&&(this.dispatchStopEvent("jump"),this.movementState.run?(this.dispatchStopEvent("move"),this.dispatchStartEvent("run")):(this.dispatchStopEvent("run"),this.dispatchStartEvent("move"))));let s=Eoe.copy(this.velocity);if(this.orientMode!=="none"&&this.isFirstPerson===!1){let g=Nr.copy(s);g.y=0,s.set(0,s.y,g.length()*(this.forwardDir==="+z"?1:-1))}if(this.directionXZ.manhattanLength()>0&&this.orientMode!=="none")if(this.orientWith==="camera"&&this.path.length<=1){let g=Ar;this.camera.getWorldDirection(g);let v=gl.copy(Ya).multiplyScalar(g.dot(Ya));g.sub(v);let y=Nr.copy(this.directionXZ);y.x*=-1,this.rot.y=g.angleTo(y)*(g.cross(y).y>0?-1:1)+this.rotationAccumWhenOrientWithCamera}else this.rot.y=(this.path.length>1?0:this.euler.y)+Math.atan2(-this.directionXZ.z,this.directionXZ.x)+Math.PI/2*(this.forwardDir==="+z"?1:-1);if(js.setFromVector3(this.rot),this.moveMode==="walk"&&(js.x=0),s.applyEuler(js),a&&(xo.setFromUnitVectors(Ya,this.groundNormal),s.applyQuaternion(xo)),i){let g=js.set(0,this.vrEulerYOffset*XP,0);i.applyEuler(g),s.x+=i.x,s.z+=i.z,this.nonColliderPosOffset.elements[13]+=i.y*n}if(this.usePhysics===!0){let g=Nr;this.pushedVelocity.set(0,0,0);for(let v of this.sharedGameControlGlobals.entitiesWithTransformAnim){let y=gl.setFromMatrixPosition(v.matrixWorld).sub(v.prevT).divideScalar(n).divideScalar(this.pixelsPerMeter),b=v.rigidBody.collider(0).castCollider(y,this.object.rigidBody.collider(0),Ar.copy(s).divideScalar(this.pixelsPerMeter),n,!1);y.multiplyScalar(this.pixelsPerMeter);let _=qt.is(v)?v:v.object;if(b!==null&&this.lastHitObj!==_){let x;v instanceof er&&(x=v);let k=this.sharedGameControlGlobals.entityToCollisionEvents[_.uuid];if(k)for(let w of k)w.data.target==="character"&&(w.dispatch(x),_.dispatchEvent(Sw));this.lastHitObj=_}if(b!==null){this.pushedVelocity.copy(y),g.copy(b.normal1).applyQuaternion(v.quaternion);break}}if(this.pushedVelocity.manhattanLength()!==0){let v=g.dot(s);v<0&&s.addScaledVector(g,-v),s.add(this.pushedVelocity)}else s.add(this.groundVelocity)}if(this.rotDirection.y=Number(this.movementState.rotPosY)-Number(this.movementState.rotNegY),this.rotDirection.x=Number(this.movementState.rotPosX)-Number(this.movementState.rotNegX),this.rotDirection.normalize(),this.rotationMode==="normal"&&(this.movementState.rotPosX||this.movementState.rotNegX)||this.rotationMode==="steer"&&(this.movementState.rotPosX||this.movementState.rotNegX)&&(this.movementState.movePosZ||this.movementState.moveNegZ||this.moveMode==="walk")?this.rotVelocityStick.x=-this.rotDirection.x*this.speedOrbit*this.rotForce:this.rotVelocityStick.x=0,this.rotationMode==="normal"&&(this.movementState.rotPosY||this.movementState.rotNegY)||this.rotationMode==="steer"&&(this.movementState.rotPosY||this.movementState.rotNegY)&&(this.movementState.movePosZ||this.movementState.moveNegZ)?this.rotVelocityStick.y=-this.rotDirection.y*this.speedOrbit*this.rotForce:this.rotVelocityStick.y=0,this.rotVelocityTarget.subVectors(this.eulerDelta.divideScalar(n),this.rotVelocityStick),this.rotVelocityTarget.manhattanLength()===0?this.rotVelocity.lerp(this.rotVelocityTarget,1-Si(1-this.lerpFactorRotEnd,r)):this.rotVelocity.lerp(this.rotVelocityTarget,1-Si(1-this.lerpFactorRotStart,r)),this.euler.x+=this.rotVelocity.x*n,this.euler.y+=this.rotVelocity.y*n+this.groundYRotation,this.rotVelocityTarget.y===0&&this.directionXZ.manhattanLength()===0?this.rotationAccumWhenOrientWithCamera=0:(this.cameraFollow===!1||this.cameraYAxis==="Locked")&&(this.rotationAccumWhenOrientWithCamera+=this.rotVelocity.y*n),this.isFirstPerson===!1&&this.orientMode!=="none"&&this.directionXZ.manhattanLength()>0){if(this.orientMode==="radial"){this.objectToCamXZ.copy(this.objectToCamXZ0).applyAxisAngle(Ya,this.euler.y-this.euler0.y);let g=Nr.copy(this.objectToCamXZ).normalize(),v=gl.copy(s).multiplyScalar(n);v.y=0;let y=v.sub(Ar.copy(g).multiplyScalar(v.dot(g))).cross(g).y;this.euler.y-=Math.atan2(y,this.objectToCamXZ.length())}}else this.rot.y+=this.rotVelocity.y*n+this.groundYRotation,this.rotVelocityTarget.y!==0&&(this.cameraFollow===!1||this.cameraYAxis==="Locked")&&(this.euler.y=this.rot.y);if(this.cameraFollow===!0&&(this.moveMode==="walk"?this.cameraXAxis==="Limit"?this.euler.x=at.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):this.euler.x=at.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset,this.PI_2+this.cameraPolarOffset):this.cameraXAxis==="Limit"&&(this.euler.x=at.clamp(this.euler.x,-this.PI_2,this.PI_2))),this.moveMode==="fly"?this.rot.x=this.euler.x:this.isFirstPerson&&(t?(js.copy(t),js.y=0):(js.copy(this.euler),js.y=0),this.nonColliderRotOffset.makeRotationFromEuler(js)),t&&(this.moveMode==="walk"?(this.rot.y=t.y,this.rot.x=0,this.rot.z=0):this.rot.setFromEuler(t),this.rot.y+=this.vrEulerYOffset*XP),Za.setFromAxisAngle(Doe,this.rot.x),xo.setFromAxisAngle(Ya,this.rot.y),xo.multiply(Za),Za.setFromAxisAngle(Poe,this.rot.z),xo.multiply(Za),this.quaternion.copy(xo),this.objectRealQuat.multiplyQuaternions(this.quaternion,this.objXZQuat),this.objectRealQuat.multiply(this.objXZQuat),this.colliderWorldQuat.copy(this.objectRealQuat).multiply(this.collider.rotation),this.collisionEnabled)if(this.usePhysics){let g=Nr.copy(s).multiplyScalar(n/this.pixelsPerMeter),v=null;this.didHit=!1;let y=new E;for(let b=0;b<5;b++){let _=g.length(),x=gl.copy(g).normalize();if(v=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(y),this.colliderWorldQuat,x,(d=this.object.rigidBody)==null?void 0:d.collider(0).shape,_,!1,24,void 0,void 0,this.object.rigidBody),v!==null){this.didHit=!0;let k=this.sharedGameControlGlobals.colliderToEntity.get(v.collider.handle);if(k!==this.lastHitObj&&b===0){this.lastHitObj=k;let M=this.sharedGameControlGlobals.entityToCollisionEvents[k==null?void 0:k.uuid];if(M){for(let C of M)if(C.data.target==="character"){let T=((u=this.sharedGameControlGlobals.rapierWorld)==null?void 0:u.getCollider(v.collider.handle))._parent,P;if(k.cloner){for(let I of k.cloner.children)if(I.rigidBody===T){P=I;break}}C.dispatch(P),k.dispatchEvent(Sw)}}}let w=GP.set(v.normal2.x,v.normal2.y,v.normal2.z).applyQuaternion(this.colliderWorldQuat),S=WP.copy(x).multiplyScalar(v.toi).dot(w),A=v.toi;if(A===0&&(this.position.y+=this.offset*this.pixelsPerMeter),S>this.offset&&(A=v.toi*(S-this.offset)/S,y.addScaledVector(x,A)),g.copy(x).multiplyScalar(_-A),Math.acos(-w.y)>this.slopeThresh){let M=this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(y),C=gl.copy(v.witness2).applyQuaternion(this.colliderWorldQuat);C.y=0;let T=M.add(C);T.y+=this.stepThresh;let P=this.sharedGameControlGlobals.rapierWorld.castShape(T,this.colliderWorldQuat,g,(c=this.object.rigidBody)==null?void 0:c.collider(0).shape,1,!1,24,void 0,void 0,this.object.rigidBody);P!==null&&P.toi===0&&(w.y=0,w.normalize())}g.addScaledVector(w,-g.dot(w))}else{b===0&&this.directionXZ.manhattanLength()!==0&&(this.lastHitObj=null),y.add(g);break}}this.position.addScaledVector(y,this.pixelsPerMeter),(f=this.object.rigidBody)==null||f.setTranslation(Ar.copy(this.position).divideScalar(this.pixelsPerMeter),!0),(h=this.object.rigidBody)==null||h.setRotation(Za.copy(this.quaternion).premultiply(this.groundTilt).multiply(this.objXZQuat),!0)}else{let g=this.onObject?1:5,v=s.multiplyScalar(n/g);for(let y=0;y<g;y++)this.position.add(v),this.collisionAdjustment(n/g)}else this.position.addScaledVector(s,n);if(this.moveMode==="walk"&&this.onObject&&(this.velocityTarget.y=0,this.velocity.y=0),this.quaternion.premultiply(this.groundTilt).multiply(this.objXZQuat),this.object.matrix.compose(this.position,this.quaternion,this.scale),this.object.matrixWorldNeedsUpdate=!0,this.object.matrix.multiply(this.nonColliderPosOffset).multiply(this.nonColliderRotOffset),this.quaternion.premultiply(this.groundTiltInv).multiply(this.objXZQuatInv),this.cameraFollow===!0){this.updateFollowArms();let g=this.objectToTarget.add(this.position),v=this.targetToCamera.add(g);lw.lookAt(v,g,Ya).setPosition(v),lw.decompose(this.targetPos,this.targetQuat,Ar),this.camera.quaternion.slerp(this.targetQuat,1-Si(1-this.lerpFactorRotCamera,r)),this.camera.position.lerp(this.targetPos,1-Si(1-this.lerpFactorPosCamera,r)),this.camera.updateMatrix(),this.camera.updateMatrixWorld(),this.cameraYAxis==="Limit"&&this.orientMode==="cartesian"&&(this.euler.y=at.clamp(this.euler.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel)),this.euler.x=at.clamp(this.euler.x,-this.PI_2+(this.cameraPolarOffset<0?this.cameraPolarOffset:0),this.PI_2+(this.cameraPolarOffset>0?this.cameraPolarOffset:0))}return this.eulerDelta.set(0,0,0),this.object.dispatchEvent(Boe),this.path.length<2&&this.lastPosition.distanceToSquared(this.position)<this.threshEndTranslate&&Math.abs(this.rotVelocity.x)<this.threshEndRotVel&&Math.abs(this.rotVelocity.y)<this.threshEndRotVel&&(this.camera===void 0||this.isFirstPerson||this.lastCameraPosition.distanceToSquared(this.camera.position)<this.threshEndTranslate&&8*(1-this.lastCameraQuaternion.dot(this.camera.quaternion))<this.threshEndRotate)&&(this.moveMode==="fly"||this.onObject===!0||this.collisionEnabled===!1)&&(this.navMeshPathDest===null||this.navMeshPathDest.material.opacity<-.04*((m=(p=this.navMeshPathDest)==null?void 0:p.material)==null?void 0:m.userData.opacity0))?!1:(this.camera&&(this.lastCameraPosition.copy(this.camera.position),this.lastCameraQuaternion.copy(this.camera.quaternion)),this.lastPosition.copy(this.position),this.object.dispatchEvent(zoe),!0)}updateFollowArms(){this.objectToTarget.copy(this.objectToTarget0),this.targetToCamera.copy(this.targetToCamera0);let e=Za.setFromAxisAngle(Ya,this.cameraYAxis==="Limit"&&this.orientMode!=="radial"?at.clamp(this.euler.y-this.euler0.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel):this.euler.y-this.euler0.y);(this.cameraYAxis!=="Locked"||this.orientMode==="radial")&&this.objectToTarget.applyQuaternion(e);let t;this.cameraXAxis==="Limit"?t=at.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):t=at.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset+1e-6,this.PI_2+this.cameraPolarOffset-1e-6);let i=Ar.copy(this.cameraPolarAxis0);(this.cameraYAxis!=="Locked"||this.orientMode==="radial")&&i.applyQuaternion(e);let n=xo.setFromAxisAngle(i,t);this.cameraYAxis!=="Locked"&&this.targetToCamera.applyQuaternion(e),this.cameraXAxis!=="Locked"&&this.targetToCamera.applyQuaternion(n)}groundTiltAdjustment(e){Ya.angleTo(e)*180/Math.PI<15||Ya.angleTo(e)*180/Math.PI>85?Za.identity():Za.setFromUnitVectors(Ya,e),this.groundTilt.slerp(Za,.06),this.groundTiltInv.copy(this.groundTilt).invert()}collisionAdjustment(e){var r;let t=WP.set(0,0,0);this.object.matrix.compose(this.position,this.quaternion,this.scale);let i=lw.multiplyMatrices(this.object.matrix,this.objXZRotMat).multiply(this.collider.matrix).decompose(Ar,Za,Nr).compose(Ar,Za,ZP);this.sharedGameControlGlobals.entitiesWithTransformAnim.forEach(a=>{if(a===this.object||a.isDescendantOf(this.object))return;ka.makeEmpty(),a.updateMatrixWorldSVD();let s=a.matrixWorldRigid,o=qP.copy(s).invert(),l=Toe.copy(qP).multiply(i);Rn.copy(this.collider.segment),Rn.start.applyMatrix4(l),Rn.end.applyMatrix4(l);let d=GP.copy(this.position).applyMatrix4(o);ka.expandByPoint(Rn.start),ka.expandByPoint(Rn.end),ka.min.addScalar(-this.collider.radius),ka.max.addScalar(this.collider.radius),a.bvhGeometry.boundsTree.shapecast({traverseBoundsOrder(u){return u.distanceToPoint(Rn.end)},intersectsBounds:u=>u.intersectsBox(ka),intersectsTriangle:u=>{let c=Ar,f=Nr,h=u.closestPointToSegment(Rn,c,f);if(h<this.collider.radius){let p=this.collider.radius-h,m=f.sub(c).normalize(),g=gl.copy(d);g.addScaledVector(m,p);let v=g.applyMatrix4(s).sub(this.position);t.add(v),Rn.start.addScaledVector(m,p),Rn.end.addScaledVector(m,p)}}})}),ka.makeEmpty(),Rn.copy(this.collider.segment),Rn.start.applyMatrix4(i),Rn.end.applyMatrix4(i),ka.expandByPoint(Rn.start),ka.expandByPoint(Rn.end),ka.min.addScalar(-this.collider.radius),ka.max.addScalar(this.collider.radius),(r=this.sharedGameControlGlobals.staticMeshBVH)==null||r.shapecast({traverseBoundsOrder(a){return a.distanceToPoint(Rn.end)},intersectsBounds:a=>a.intersectsBox(ka),intersectsTriangle:a=>{let s=Ar,o=Nr,l=a.closestPointToSegment(Rn,s,o);if(l<this.collider.radius){let d=this.collider.radius-l,u=o.sub(s).normalize();this.alignToGround&&this.groundTiltAdjustment(u),t.addScaledVector(u,d),Rn.start.addScaledVector(u,d),Rn.end.addScaledVector(u,d)}}}),this.onObject=Math.abs(t.y)>Math.abs(e*this.velocity.y*.25),this.onObject&&this.dispatchStopEvent("jump");let n=Math.max(0,t.length()-1e-5);t.normalize().multiplyScalar(n),this.position.add(t)}},KP=dw;KP.isLocked=!1;var Loe=En(tS());function ko(e,t){let i=new dt;if(!e.getAttribute("position"))return i.setAttribute("position",new Ke([],3)),i.setIndex([]),i;let{positions:n,triIndices:r}=xg(e.getAttribute("position"),e.getIndex());return i.setAttribute("position",new Ke(n,3)),i.setIndex(r),t&&i.applyMatrix4(t),i}var Foe=new Ee,Noe=new Ee,Rs=[[0,0,0],[0,0,0],[0,0,0]];function QP(e){let t=e.elements;Rs[0][0]=t[0],Rs[0][1]=t[4],Rs[0][2]=t[8],Rs[1][0]=t[1],Rs[1][1]=t[5],Rs[1][2]=t[9],Rs[2][0]=t[2],Rs[2][1]=t[6],Rs[2][2]=t[10];let{u:i,v:n}=(0,Loe.SVD)(Rs),r=Foe.set(i[0][0],i[0][1],i[0][2],0,i[1][0],i[1][1],i[1][2],0,i[2][0],i[2][1],i[2][2],0,0,0,0,1),a=Noe.set(n[0][0],n[0][1],n[0][2],0,n[1][0],n[1][1],n[1][2],0,n[2][0],n[2][1],n[2][2],0,0,0,0,1);return r.multiply(a.transpose())}var Uoe=class extends bM{constructor(){super(),this.layers.enable(3),this.layers.enable(8)}setFromCamera(e,t){t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):t.isPerspectiveCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):console.error("Raycaster: Unsupported camera type.")}intersectVisibleObjects(e,t=!0,i=[]){return e.forEach(n=>{n.visible&&this.intersectObject(n,t,i)}),i}createRaycastLineHelper(){let e=new No({color:65280,linewidth:10}),t=new E(this.ray.origin.x,this.ray.origin.y,this.ray.origin.z),i=new E(this.ray.direction.x,this.ray.direction.y,this.ray.direction.z),n=this.camera.far-this.camera.near,r=new E().addVectors(t,i.multiplyScalar(n)),a=new dt;return a.setFromPoints([t,r]),new Np(a,e)}},JP=e=>e instanceof vu||e instanceof yu;function Voe(e,t){return e.distance-t.distance}function $P(e,t,i){if(!(!co(t)||!t.visible)){Ga(t)&&t.raycast(e,i);for(let n of t.children)$P(e,n,i)}}function ev(e,t,i,n=!1){if(!n&&!i.some(a=>tv(e,a)!==void 0))return[];let r=[];return t.children.forEach(a=>$P(e,a,r)),r.sort(Voe),r}function cw(e){let t=[];if(e.length){let i=e[0].object;co(i)&&t.push(i);let n=i.parent;for(;n;)JP(n)&&t.push(n),n=n.parent}return t}function tv(e,t){if(Ga(t)){if(t.visible){let i=[];return t.raycast(e,i),i.length?i[0]:void 0}}else if(JP(t))return e5(e,t)}function e5(e,t){if(!(!co(t)||!t.visible)){if(Ga(t)){let i=[];if(t.raycast(e,i),i.length)return i[0]}for(let i of t.children){let n=e5(e,i);if(n)return n}}}function Hoe(e,t,i){return{x:(e-(i.left+window.scrollX))/i.width*2-1,y:-((t-(i.top+window.scrollY))/i.height)*2+1}}var Goe=class{constructor(e,t,i,n,r,a,s,o){this.renderer=e,this.publish=t,this.scene=i,this.getCamera=n,this.sharedAssets=r,this.requestRender=a,this.isExport=s,this.frame=o,this.raycaster=new Uoe,this._useWindowEvents=!1,this._useWindowEvents=t.mouseEventTarget==="window",this.domElement=e.domElement,this.eventElement=this._useWindowEvents?window:e.domElement,this._domRect=this.domElement.getBoundingClientRect()}get stopRaycast(){return this.publish.stopRaycast}get page(){return this.scene.activePage}set useWindowEvents(e){this._useWindowEvents=e,this.eventElement=e?window:this.renderer.domElement}get useWindowEvents(){return this._useWindowEvents}set domRect(e){this._domRect=e}updateRaycaster(e){var n;let{pageX:t,pageY:i}=((n=e.touches)==null?void 0:n.length)>0?e.touches[0]:e;this.raycaster.setFromCamera(Hoe(t,i,this._domRect),this.getCamera())}},Xa=class{constructor(e){this.eventContext=e,this.domEventsNeeded=new Set,this.hasVideoAction=!1}connect(){}disconnect(){}},uw=[["start","Start"],["keyDown","KeyDown"],["keyUp","KeyUp"],["mouseDown","MouseDown"],["mouseUp","MouseUp"],["mouseHover","MouseHover"],["collision","Collision"],["lookAt","LookAt"],["follow","Follow"],["scroll","Scroll"]],t5=e=>{var t;return(t=uw.find(([i,n])=>n===e))==null?void 0:t[0]},xh=e=>{var t;return(t=uw.find(([i])=>i===e))==null?void 0:t[1]},Woe=(e,t)=>{let i=t5(e);if(i){let n=new CustomEvent(i,{bubbles:!0});return Object.defineProperty(n,"target",{writable:!1,value:t}),n}},qoe=class extends Xa{constructor(e){super(e),this.objectsPerEvents=new Map,this.splineEvents={},this.onBeginEvent=i=>{var a;if(!i.eventName||!i.target||i.eventName==="Scroll")return;let n=(a=this.splineEvents[t5(i.eventName)])==null?void 0:a[i.target.uuid];if(!n)return;i.eventName==="Scroll"&&i.deltaY!==void 0&&Object.assign(n,{deltaY:i.deltaY});let{domElement:r}=this.eventContext;r.dispatchEvent(n)};let{page:t}=this.eventContext;t.traverseEntity(i=>{var n,r;if((n=i.data)!=null&&n.events.length){for(let[a,s]of uw)if(i.data.events.some(o=>o.data.type===s&&!o.data.disabled)){this.objectsPerEvents.has(a)?(r=this.objectsPerEvents.get(a))==null||r.push(i):this.objectsPerEvents.set(a,[i]);let o={id:i.uuid,name:i.name},l=Woe(s,o),d=this.splineEvents[a];d?d[i.uuid]=l:this.splineEvents[a]={[i.uuid]:l}}}})}connect(){this.objectsPerEvents.forEach(e=>{e.forEach(t=>{t.addEventListener("beginEvent",this.onBeginEvent)})})}disconnect(){this.objectsPerEvents.forEach(e=>{e.forEach(t=>{t.removeEventListener("beginEvent",this.onBeginEvent)})})}},Zoe=class{constructor(e,t,i,n,r,a){if(this.id=e,this.data=t,this.object=i,this.entered=!1,this.alreadyPlayedNonTogglingActions=new Set,this.useToggle=t.runMode==="Toggle",(t.type==="KeyDown"||t.type==="KeyUp"||t.type==="KeyPress")&&!t.key)throw new Error("Missing property");this.actions=Sr(t,t.actions,n,r,a,i)}disconnect(){jn(this.actions)}dispatchHeld(e){this.actions.Create.forEach(t=>{e&&t.dispatchThrottled.cancel(),t.dispatchThrottled()})}dispatch(e=!1){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this?(t.object.currentTransitionEvent=this,t.init()):this.data.runMode==="Once"&&this.alreadyPlayedNonTogglingActions.add(t)}),this.useToggle?(this.actions.Transition.forEach(t=>{t.toggle()}),this.actions.Animation.forEach(t=>{t.toggle()}),this.actions.SwitchCamera.forEach(t=>{t.toggle()})):this.data.type==="MousePress"||this.data.type==="KeyPress"?this.entered||(this.entered=!0,this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent()),this.actions.Create.forEach(t=>t.dispatchStart())):(this.actions.Transition.some(t=>t.playing)||this.actions.Transition.forEach(t=>{this.alreadyPlayedNonTogglingActions.has(t)===!1&&t.play()}),this.actions.SwitchCamera.some(t=>t.playing)||this.actions.SwitchCamera.forEach(t=>{t.play()}),this.actions.Animation.forEach(t=>{t.play()})),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.SceneTransition.forEach(t=>{t.dispatch()}),e===!1&&this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}dispatchRelease(){this.entered&&(this.entered=!1,this.actions.Transition.forEach(e=>e.reverseFromCurrent()),this.actions.Animation.forEach(e=>e.reverseFromCurrent()),this.actions.SwitchCamera.forEach(e=>e.reverseFromCurrent()),this.actions.Create.forEach(e=>e.dispatchStop()))}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.SceneTransition.forEach(t=>{t.dispatch()}),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},Yoe=class extends Xa{constructor(e,t,i){super(e),this.useForRaycastProperty=i,this.objectsPerTypes={MouseDown:[],MouseUp:[],MousePress:[],KeyDown:[],KeyUp:[],KeyPress:[]},this.canvasMouseEvents=[],this.eventsPerObjects={MouseDown:{},MouseUp:{},MousePress:{},KeyDown:{},KeyUp:{},KeyPress:{}},this.heldKeys={},this.heldKeysPress={},this._prevObjects=[],this.sceneInterects=null,this.onCanvasRaycast=a=>{if(this.useForRaycastProperty===!0&&this.sceneInterects===null){this.eventContext.updateRaycaster(a);let{raycaster:s,page:o}=this.eventContext,l=ev(s,o,[],!0);this.sceneInterects=l,l.length&&(this.eventContext.sharedAssets.raycastProperty={x:l[0].point.x,y:l[0].point.y,z:l[0].point.z,objX:l[0].object.matrixWorld.elements[12],objY:l[0].object.matrixWorld.elements[13],objZ:l[0].object.matrixWorld.elements[14]})}},this.onCanvasMouseDown=a=>{(a.target===this.eventContext.domElement||a.target.tagName==="SPLINE-VIEWER")&&this.canvasMouseEvents.forEach(s=>{(s.data.type==="MouseDown"||s.data.type==="MousePress")&&(this.onCanvasRaycast(a),s.dispatch())})},this.onCanvasMouseUp=a=>{(a.target===this.eventContext.domElement||a.target.tagName==="SPLINE-VIEWER")&&this.canvasMouseEvents.forEach(s=>{s.data.type==="MouseUp"?(this.onCanvasRaycast(a),s.dispatch()):s.data.type==="MousePress"&&s.dispatchRelease()})},this.onMouseDown=a=>{wt.length>1||(this.eventContext.updateRaycaster(a),this.handleMouseEvent("MouseDown"))},this.onMouseUp=a=>{wt.length>1||(this.eventContext.updateRaycaster(a),this.handleMouseEvent("MouseUp"))},this.onMousePressDown=a=>{wt.length>1||(this.eventContext.updateRaycaster(a),this.handleMousePressEvent())},this.onMousePressRelease=a=>{wt.length>1||(this.eventContext.updateRaycaster(a),this.handleMousePressEvent(!0))},this.onKeyDown=a=>{this.heldKeys[a.key]||(this.handleKeyEvent(a,"KeyDown"),this.handleKeyEventHeld(a,"KeyDown",!0)),this.heldKeys[a.key]=!0},this.onKeyUp=a=>{this.handleKeyEvent(a,"KeyUp"),this.handleKeyEventHeld(a,"KeyUp",!0)},this.onKeyPressDown=a=>{this.heldKeysPress[a.key]?this.handleKeyEventHeld(a,"KeyPress"):(this.handleKeyEvent(a,"KeyPress"),this.handleKeyEventHeld(a,"KeyPress",!0)),this.heldKeysPress[a.key]=!0},this.onKeyPressUp=a=>{this.handleKeyEvent(a,"KeyPress",!0)},this.releaseHeldKey=a=>{delete this.heldKeys[a.key]},this.releaseHeldKeyPress=a=>{delete this.heldKeysPress[a.key]},this._onUserEvent=({eventName:a,target:s,reverse:o})=>{var d,u,c,f;if(!a||!s)return;let l=xh(a);l&&(l==="MouseDown"||l==="MouseUp"||l==="MousePress"?(s.dispatchEvent({type:"beginEvent",eventName:l}),(u=(d=this.eventsPerObjects[l])==null?void 0:d[s.uuid])==null||u.forEach(h=>{h.dispatchUserEvent(o)})):(l==="KeyDown"||l==="KeyUp"||l==="KeyPress")&&(s.dispatchEvent({type:"beginEvent",eventName:l}),(f=(c=this.eventsPerObjects[l])==null?void 0:c[s.uuid])==null||f.forEach(h=>{h.dispatchUserEvent()})))};let{page:n,sharedAssets:r}=this.eventContext;n.traverseEntity(a=>{var o,l;if(!((o=a.data)!=null&&o.events.length))return;let s=["MouseDown","MouseUp","MousePress","KeyDown","KeyUp","KeyPress"];for(let d of s){let u=this.eventsPerObjects[d];a.data.events.filter(({data:c})=>c.type===d&&c.disabled!==!0).forEach(({id:c,data:f})=>{try{let h=new Zoe(c,f,a,n,r,t);h.actions.Video.length&&(this.hasVideoAction=!0),(f.type==="MouseDown"||f.type==="MouseUp"||f.type==="MousePress")&&(f.mode==="Canvas"||f.mode==="Window")?this.canvasMouseEvents.push(h):u[a.uuid]?u[a.uuid].push(h):u[a.uuid]=[h]}catch(h){}}),(l=u[a.uuid])!=null&&l.length&&this.objectsPerTypes[d].push(a)}})}connect(){var t,i,n,r,a,s;let{domElement:e}=this.eventContext;this.heldKeys={},this.heldKeysPress={},this.domEventsNeeded.clear(),e.addEventListener("pointerdown",this.onCanvasMouseDown),e.addEventListener("pointerup",this.onCanvasMouseUp),((t=this.objectsPerTypes.MouseDown)!=null&&t.length||this.useForRaycastProperty)&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseDown)),(i=this.objectsPerTypes.MouseUp)!=null&&i.length&&(this.domEventsNeeded.add("pointerup"),e.addEventListener("pointerup",this.onMouseUp)),(n=this.objectsPerTypes.MousePress)!=null&&n.length&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMousePressDown),this.domEventsNeeded.add("pointerup"),e.addEventListener("pointerup",this.onMousePressRelease)),(r=this.objectsPerTypes.KeyDown)!=null&&r.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.releaseHeldKey)),(a=this.objectsPerTypes.KeyUp)!=null&&a.length&&(this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyUp)),(s=this.objectsPerTypes.KeyPress)!=null&&s.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyPressDown),document.addEventListener("keyup",this.releaseHeldKeyPress),this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyPressUp)),Object.entries(this.objectsPerTypes).forEach(([o,l])=>{l.forEach(d=>{d.addEventListener("userEvent",this._onUserEvent)})})}disconnect(){let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),this.heldKeys={},this.heldKeysPress={},e.removeEventListener("pointerdown",this.onCanvasMouseDown),e.removeEventListener("pointerup",this.onCanvasMouseUp),e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerdown",this.onMousePressDown),e.removeEventListener("pointerup",this.onMouseUp),e.removeEventListener("pointerup",this.onMousePressRelease),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("keydown",this.onKeyPressDown),document.removeEventListener("keyup",this.onKeyPressUp),document.removeEventListener("keyup",this.releaseHeldKey),Object.values(this.eventsPerObjects).forEach(t=>{Object.values(t).forEach(i=>{i.forEach(n=>{n.disconnect()})})}),this.canvasMouseEvents.forEach(t=>{t.disconnect()}),Object.entries(this.objectsPerTypes).forEach(([t,i])=>{i.forEach(n=>{n.removeEventListener("userEvent",this._onUserEvent)})})}handleMouseEvent(e){let{stopRaycast:t,raycaster:i,page:n}=this.eventContext,r=this.objectsPerTypes[e];if(!(!r.length&&!this.useForRaycastProperty)){if(t||this.useForRaycastProperty){let a;this.sceneInterects===null?a=ev(i,n,r,this.useForRaycastProperty):(a=this.sceneInterects,this.sceneInterects=null),this.useForRaycastProperty&&a.length&&(this.eventContext.sharedAssets.raycastProperty={x:a[0].point.x,y:a[0].point.y,z:a[0].point.z,objX:a[0].object.matrixWorld.elements[12],objY:a[0].object.matrixWorld.elements[13],objZ:a[0].object.matrixWorld.elements[14]}),t&&cw(a).forEach(s=>{this.eventsPerObjects[e][s.uuid]&&this.handleObjectMouseEventDispatch(s,e)})}t||r.forEach(a=>{tv(i,a)&&this.handleObjectMouseEventDispatch(a,e)})}}handleMousePressEvent(e=!1){let t="MousePress",i=this.objectsPerTypes[t],n=[];if(i.length){if(!e){let{stopRaycast:r,raycaster:a,page:s}=this.eventContext;if(r){let o=ev(a,s,i);n=cw(o)}else i.forEach(o=>{tv(a,o)&&n.push(o)})}this._prevObjects.length&&this._prevObjects.forEach(r=>{n.includes(r)||this.handleObjectMouseEventDispatchRelease(r,t)}),n.length&&n.forEach(r=>{this.handleObjectMouseEventDispatch(r,t)}),this._prevObjects=n}}handleObjectMouseEventDispatch(e,t){var i,n;e.dispatchEvent({type:"beginEvent",eventName:t}),(n=(i=this.eventsPerObjects[t])==null?void 0:i[e.uuid])==null||n.forEach(r=>{r.dispatch()})}handleObjectMouseEventDispatchRelease(e,t){var i,n;e.dispatchEvent({type:"beginEvent",eventName:t}),(n=(i=this.eventsPerObjects[t])==null?void 0:i[e.uuid])==null||n.forEach(r=>{r.dispatchRelease()})}handleKeyEvent(e,t,i=!1){this.objectsPerTypes[t].forEach(n=>{let r=this.eventsPerObjects[t][n.uuid];r.some(({data:a})=>"key"in a&&a.key===e.key)&&n.dispatchEvent({type:"beginEvent",eventName:t}),r.forEach(a=>{"key"in a.data&&a.data.key===e.key&&(i?a.dispatchRelease():a.dispatch(!0))})})}handleKeyEventHeld(e,t,i=!1){this.objectsPerTypes[t].forEach(n=>{this.eventsPerObjects[t][n.uuid].forEach(r=>{"key"in r.data&&r.data.key===e.key&&r.dispatchHeld(i)})})}},Xoe=new E,Koe=new E,i5=class{constructor(e,t,i,n,r){this.actionsIn=Sr(e,e.inActions,i,n,r,t),this.actionsOut=Sr(e,e.outActions,i,n,r,t)}disconnect(){jn(this.actionsIn),jn(this.actionsOut)}},Qoe=class extends i5{constructor(e,t,i,n,r,a){super(t,i,n,r,a),this.id=e,this.data=t,this.object=i,this.stage="out",this.objects=[],this.onUpdateMatrixWorld=()=>{for(let f of this.objects)if(!f.visible)return;let d=Xoe.setFromMatrixPosition(this.objects[0].matrixWorld),u=Koe.setFromMatrixPosition(this.objects[1].matrixWorld),c=d.distanceTo(u)<=this.distance?"in":"out";if(this.stage!==c){this.stage=c;let f=c==="in"?this.actionsIn:this.actionsOut;f.Audio.forEach(h=>h.dispatchConditional()),f.Video.forEach(h=>h.dispatchConditional()),f.Link.forEach(h=>h.dispatch()),f.Create.forEach(h=>h.dispatch()),f.Destroy.forEach(h=>h.dispatch()),f.Reset.forEach(h=>h.dispatch()),f.Transition.forEach(h=>{h.object.currentTransitionEvent!==this&&(h.object.currentTransitionEvent=this),h.init()}),f.Transition.forEach(h=>h.play()),f.Animation.forEach(h=>h.play()),f.SwitchCamera.forEach(h=>h.play()),f.SceneTransition.forEach(h=>h.dispatch()),f.SetVariable.forEach(h=>h.checkConditions()),f.SetVariable.forEach(h=>h.dispatch()),f.DynamicVariablePlay.forEach(h=>h.dispatch())}};let{distance:s,fromObject:o,toObject:l}=t.condition;this.distance=s;for(let d of[o,l]){if(!d)throw new Error("Missing property");let u=n.find(d);if(!u)throw new Error("Missing property");this.objects.push(u)}}connect(){window.setTimeout(()=>{this.objects.forEach(e=>{e.addEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)}),this.onUpdateMatrixWorld()},0)}disconnect(){super.disconnect(),this.stage="out",this.objects.forEach(e=>{e.removeEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)})}},Joe=class extends i5{constructor(e,t,i,n,r,a){var l;super(t,i,n,r,a),this.id=e,this.data=t,this.object=i,this.onBegin=({target:d,state:u})=>{this.toState!==u&&(this.actionsOut.Audio.forEach(c=>c.dispatchConditional()),this.actionsOut.Video.forEach(c=>c.dispatchConditional()),this.actionsOut.Link.forEach(c=>c.dispatch()),this.actionsOut.Create.forEach(c=>c.dispatch()),this.actionsOut.Destroy.forEach(c=>c.dispatch()),this.actionsOut.Reset.forEach(c=>c.dispatch()),this.actionsIn.Transition.forEach(c=>c.pause()),this.object.currentTransitionEvent=this,this.actionsOut.Transition.forEach(c=>c.play()),this.actionsOut.Animation.forEach(c=>c.play()),this.actionsIn.SwitchCamera.forEach(c=>c.pause()),this.actionsOut.SwitchCamera.forEach(c=>c.play()),this.actionsOut.SceneTransition.forEach(c=>c.dispatch()),this.actionsOut.SetVariable.forEach(c=>c.checkConditions()),this.actionsOut.SetVariable.forEach(c=>c.dispatch()),this.actionsOut.DynamicVariablePlay.forEach(c=>c.dispatch()))},this.onComplete=({target:d,state:u})=>{this.toState===u&&(this.actionsIn.Audio.forEach(c=>c.dispatchConditional()),this.actionsIn.Video.forEach(c=>c.dispatchConditional()),this.actionsIn.Link.forEach(c=>c.dispatch()),this.actionsIn.Create.forEach(c=>c.dispatch()),this.actionsIn.Destroy.forEach(c=>c.dispatch()),this.actionsIn.Reset.forEach(c=>c.dispatch()),this.actionsOut.Transition.forEach(c=>c.pause()),this.actionsOut.Transition.forEach(c=>c.pause()),this.object.currentTransitionEvent=this,this.actionsIn.Transition.forEach(c=>c.play()),this.actionsIn.Animation.forEach(c=>c.play()),this.actionsOut.SwitchCamera.forEach(c=>c.pause()),this.actionsIn.SwitchCamera.forEach(c=>c.play()),this.actionsIn.SceneTransition.forEach(c=>c.dispatch()),this.actionsIn.SetVariable.forEach(c=>c.checkConditions()),this.actionsIn.SetVariable.forEach(c=>c.dispatch()),this.actionsIn.DynamicVariablePlay.forEach(c=>c.dispatch()))};let{condition:s}=t;if(!s.object)throw new Error("Missing property");let o=n.find(s.object);if(!o)throw new Error("Missing property");if(this.toObject=o,s.state&&!((l=this.toObject.states)!=null&&l[s.state]))throw new Error("Missing property");this.toState=s.state}connect(){Ql(this.actionsOut).forEach(e=>{var t;(t=this.actionsOut[e])!=null&&t.length&&this.toObject.addEventListener("beginState",this.onBegin)}),Ql(this.actionsIn).forEach(e=>{var t;(t=this.actionsIn[e])!=null&&t.length&&this.toObject.addEventListener("completeState",this.onComplete)})}disconnect(){super.disconnect(),Ql(this.actionsOut).forEach(e=>{var t;(t=this.actionsIn[e])!=null&&t.length&&this.toObject.removeEventListener("beginState",this.onBegin)}),Ql(this.actionsIn).forEach(e=>{var t;(t=this.actionsIn[e])!=null&&t.length&&this.toObject.removeEventListener("completeState",this.onComplete)})}},$oe=class extends Xa{constructor(e,t){super(e),this.eventsPerConditions={Comparison:[],Distance:[],State:[]},this.hasVideoAction=!1;let{page:i,sharedAssets:n}=this.eventContext;i.traverseEntity(r=>{var a;if((a=r.data)!=null&&a.events.length){for(let{id:s,data:o}of r.data.events)if(!o.disabled&&o.type==="Conditional")try{let l;o.condition.type==="Comparison"||(o.condition.type==="Distance"?l=new Qoe(s,o,r,i,n,t):o.condition.type==="State"&&(l=new Joe(s,o,r,i,n,t))),l&&(this.eventsPerConditions[o.condition.type].push(l),(l.actionsIn.Video.length||l.actionsOut.Video.length)&&(this.hasVideoAction=!0))}catch(l){}}})}connect(){super.connect(),Object.values(this.eventsPerConditions).forEach(e=>e.forEach(t=>t.connect()))}disconnect(){super.disconnect(),Object.values(this.eventsPerConditions).forEach(e=>e.forEach(t=>t.disconnect()))}},kh=new E,vl=new E,kd=new E,n5=new Jr,ele=.01,di=new E,xn=new E,r5=new E,Sd=new Ct,fw=new Dn,tle=new Ee,hw=new Yi,Su=new E,zs=new E,Au=.2;function pw(e,t){!t||(t[0]<t[1]&&(e.x=Math.min(Math.max(e.x,t[0]),t[1])),t[2]<t[3]&&(e.y=Math.min(Math.max(e.y,t[2]),t[3])),t[4]<t[5]&&(e.z=Math.min(Math.max(e.z,t[4]),t[5])))}var ile=function(){let e=new Ee;return(t,i,n)=>{let r=t.obj;e.copy(r.hiddenMatrix),r.parent!==null&&e.premultiply(r.parent.matrixWorld),e.invert(),r.position.copy(i),t.reference==="global"&&pw(r.position,t.limits),r.position.applyMatrix4(e),t.reference==="parent"?pw(r.position,t.limits):t.reference==="local"&&(Sd.copy(t.quat0).invert(),r.position.sub(t.position0),r.position.applyQuaternion(Sd),pw(r.position,t.limits),Sd.invert(),r.position.applyQuaternion(Sd),r.position.add(t.position0)),e.multiply(n!=null?n:r.matrixWorld).decompose(di,r.quaternion,xn),r.updateMatrix(),r.hasNonUniformScale&&(r.updateMatrixWorld(),r.updateMatrixWorldSVD()),r instanceof Ir&&yo(r.parent)&&r.invalidateDownstreamBooleanData(!0)}}(),nle=class{constructor(e,t,i,n,r,a){this.object=e,this.data=t,this.dropDestIds=[],this.activeIdx=null,this.wasDragEventTriggered=!1,this.resetDampingFactor=this.data.resetSpeed===0?1:8/this.data.resetSpeed+1,this.snapDampingFactor=this.data.snapSpeed===0?1:8/this.data.snapSpeed+1,this.actionsDrag=Sr(t,t.dragDropActions.drag,i,n,r,this.object),this.actionsDrop=Sr(t,t.dragDropActions.drop,i,n,r,this.object);let s=[];this.data.objects.forEach(o=>{let l=i.find(o);!l||l.data.visible!==!1&&(s.push(l),a[l.uuid]&&a[l.uuid].forEach(d=>{let u=i.find(d);!u||u.data.visible!==!1&&s.push(u)}))}),this.data.dropDestinations.forEach(o=>{let l=i.find(o);!l||l.data.visible!==!1&&(this.dropDestIds.push(l.uuid),a[l.uuid]&&a[l.uuid].forEach(d=>{let u=i.find(d);!u||u.data.visible!==!1&&this.dropDestIds.push(u.uuid)}))}),this.dragItems=s.map(o=>(this.data.planeMode==="locked"&&(o.userData.lockedPlane=!0),o.userData.worldPosition0=new E().setFromMatrixPosition(o.matrixWorld),{obj:o,fromPosition:new E().setFromMatrixPosition(o.matrixWorld),pointStart:new E,pointEnd:new E,paused:!0,currentDampingFactor:this.data.dampingFactor,reset:!1,position0:new E().copy(o.position),quat0:new Ct().copy(o.quaternion),snapped:!1,orientationMatrix:new Ee,limits:this.data.limits,reference:this.data.referenceFrame}))}get activeDragItem(){return this.activeIdx!==null?this.dragItems[this.activeIdx]:null}dispose(){jn(this.actionsDrag),jn(this.actionsDrop),this.dragItems.forEach(e=>{e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart),e.obj.recursiveBBoxNeedsUpdate=!0,e.obj.userData.lockedPlane=void 0,e.obj.position.copy(e.position0),e.obj.quaternion.copy(e.quat0),e.obj.updateMatrix()})}},rle=class extends Xa{constructor(e,t){super(e),this.eventManager=t,this.events=[],this.lastDropDestination=null,this.dragTimeout=null,this.onPointerDown=n=>{var o;if(wt.length>1)return;this.eventContext.updateRaycaster(n);let{raycaster:r,page:a}=this.eventContext,s=a.raycastWithClones(r);if(this.lastDropDestination=null,s.length===0){this.activeEvent=null;return}for(let l of this.events){let d=0;for(let{obj:u,pointEnd:c,pointStart:f}of l.dragItems){if(u===s[0].object||u===s[0].object.object||qt.is(u)&&u.isAncestorOf(s[0].object.uuid)){if(l.activeIdx=d,l.activeDragItem.reset=!1,l.activeDragItem.currentDampingFactor=l.data.dampingFactor,l.activeDragItem.snapped=!1,l.data.cursor==="hand"&&this.setCursor("grabbing"),this.eventManager.controlsManager.usePhysics){l.activeDragItem.obj.rigidBody&&l.activeDragItem.obj.rigidBody.setBodyType(2,!0);let h=l.activeDragItem.obj;u.hasNonUniformScale&&u.updateMatrixWorldSVD(),(h.hasNonUniformScale?h.matrixWorldRigid:h.matrixWorld).decompose(di,Sd,xn),fw.setFromQuaternion(Sd),h.prevR===void 0?(h.prevR=fw.clone(),h.prevT=di.clone()):(h.prevR.copy(fw),h.prevT.copy(di)),this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.push(l.activeDragItem.obj)}this.calcPlaneIntersectPos(u,f,l.data.plane,l.data.referenceFrame),c.copy(f),(this.eventManager.controlsManager.usePhysics&&((o=u.data.physics)==null?void 0:o.rigidBody)==="dynamic"||l.data.drop===!1||l.data.resetOnSnapFail===!1)&&l.activeDragItem.fromPosition.setFromMatrixPosition(l.activeDragItem.obj.matrixWorld),this.activeEvent=l,this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!1);return}d++}}this.activeEvent=null},this.onPointerMove=n=>{var o,l,d,u;if(wt.length>1)return;this.eventContext.updateRaycaster(n);let{raycaster:r,page:a}=this.eventContext,s=a.raycastWithClones(r);if(wt.length===0){let c=!1;for(let f of this.events){for(let{obj:h}of f.dragItems)if(h===((o=s[0])==null?void 0:o.object)||h===((d=(l=s[0])==null?void 0:l.object)==null?void 0:d.object)||qt.is(h)&&h.isAncestorOf((u=s[0])==null?void 0:u.object.uuid)){switch(c=!0,f.data.cursor){case"hand":this.setCursor("grab");break;case"move":this.setCursor("move");break;default:break}break}if(c)break}c||this.setCursor("default");return}if(this.activeEvent&&this.activeEvent.activeDragItem){let c=this.activeEvent.activeDragItem;c.snapped=!1;let f;if(this.activeEvent.data.drop&&(f=s.filter(h=>c.obj!==h.object&&!c.obj.isAncestorOf(h.object.uuid)&&!(h.object instanceof vu)&&(this.activeEvent.data.dropOn==="all"||this.activeEvent.dropDestIds.some(p=>p===h.object.uuid||a.scene.find(p).isAncestorOf(h.object.uuid))))[0]),f){let h=r5.copy(f.face.normal).applyMatrix3(hw.getNormalMatrix(f.object.matrixWorld));if(this.activeEvent.data.snapTo==="center")c.fromPosition.setFromMatrixPosition(f.object.matrixWorld);else if(this.activeEvent.data.snapTo==="surface"){if(c.fromPosition.copy(f.point),this.activeEvent.data.snapSurfaceMode==="bbox"){di.copy(h).applyMatrix3(hw.setFromMatrix4(c.obj.matrixWorld).transpose());let p=c.obj;di.x>Au?xn.x=-p.recursiveBBox.min.x:di.x<-Au&&(xn.x=-p.recursiveBBox.max.x),di.y>Au?xn.y=-p.recursiveBBox.min.y:di.y<-Au&&(xn.y=-p.recursiveBBox.max.y),di.z>Au?xn.z=-p.recursiveBBox.min.z:di.z<-Au&&(xn.z=-p.recursiveBBox.max.z),xn.applyMatrix3(hw.invert())}else xn.copy(h).multiplyScalar(this.activeEvent.data.snapSurfaceOffset);c.fromPosition.add(xn)}this.activeEvent.data.autoOrient&&(di.set(0,1,0).cross(h),di.length()<1e-4&&di.set(-1,0,0).cross(h),xn.crossVectors(r5,di),c.orientationMatrix.makeBasis(di,xn,h)),c.pointStart.copy(c.fromPosition),c.pointEnd.copy(c.pointStart),c.currentDampingFactor=this.activeEvent.snapDampingFactor,c.snapped=!0,this.lastDropDestination!==f.object&&(this.lastDropDestination=f.object,this.activeEvent.actionsDrop.Transition.forEach(p=>{p.play()}),this.activeEvent.actionsDrop.Animation.forEach(p=>{p.play()}),this.activeEvent.actionsDrop.Audio.forEach(p=>{p.dispatchGameControl("start")}),this.activeEvent.actionsDrop.Create.forEach(p=>{p.dispatchThrottled()}))}else c.orientationMatrix.makeRotationFromQuaternion(c.quat0),this.lastDropDestination=null,c.currentDampingFactor=this.activeEvent.data.dampingFactor,this.calcPlaneIntersectPos(c.obj,c.pointEnd,this.activeEvent.data.plane,this.activeEvent.data.referenceFrame),this.activeEvent.actionsDrop.Transition.forEach(h=>{h.stop(),h.object.currentState!==null&&h.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrop.Animation.forEach(h=>{h.stop()}),this.activeEvent.actionsDrop.Audio.forEach(h=>{h.dispatchGameControl("stop")});this.activeEvent.actionsDrag.Create.forEach(h=>{h.dispatchThrottled()}),this.activeEvent.actionsDrag.SetVariable.forEach(h=>h.checkConditions()),this.activeEvent.actionsDrag.SetVariable.forEach(h=>h.dispatch()),this.activeEvent.actionsDrag.DynamicVariablePlay.forEach(h=>h.dispatch()),this.activeEvent.wasDragEventTriggered===!1&&(this.activeEvent.wasDragEventTriggered=!0,this.activeEvent.actionsDrag.Transition.forEach(h=>{h.play()}),this.activeEvent.actionsDrag.Animation.forEach(h=>{h.play()}),this.activeEvent.actionsDrag.Audio.forEach(h=>{h.dispatchGameControl("start")})),this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout(()=>{!this.activeEvent||(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Audio.forEach(h=>{h.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Transition.forEach(h=>{h.stop(),h.object.currentState!==null&&h.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(h=>{h.stop()}))},500),this.updateDragItem(c),c.obj.dispatchEvent({type:"requestRender"})}},this.onPointerUp=n=>{var r;if(this.activeEvent&&this.activeEvent.activeDragItem){this.activeEvent.data.cursor==="hand"&&this.setCursor("grab");let a=((r=this.activeEvent.activeDragItem.obj.data.physics)==null?void 0:r.rigidBody)==="dynamic";this.activeEvent.activeDragItem.snapped===!1&&this.activeEvent.data.drop&&this.activeEvent.data.resetOnSnapFail&&(this.eventManager.controlsManager.usePhysics===!1||!a)&&(this.activeEvent.activeDragItem.reset=this.activeEvent.data.resetOnSnapFail,this.activeEvent.activeDragItem.paused=!1,this.activeEvent.activeDragItem.currentDampingFactor=this.activeEvent.resetDampingFactor),this.eventManager.controlsManager.usePhysics&&a&&(this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.pop(),this.activeEvent.activeDragItem.obj.rigidBody.setBodyType(0,!0),this.activeEvent.activeDragItem.paused=!0),this.activeEvent.wasDragEventTriggered===!0&&(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Transition.forEach(s=>{s.stop(),s.object.currentState!==null&&s.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(s=>{s.stop()}),this.activeEvent.actionsDrag.Audio.forEach(s=>{s.dispatchGameControl("stop")}),this.activeEvent.actionsDrop.SetVariable.forEach(s=>s.checkConditions()),this.activeEvent.actionsDrop.SetVariable.forEach(s=>s.dispatch()),this.activeEvent.actionsDrop.DynamicVariablePlay.forEach(s=>s.dispatch())),this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!0)}};let i={};e.page.traverseEntity(n=>{n.component&&(i[n.component.uuid]?i[n.component.uuid].push(n.uuid):i[n.component.uuid]=[n.uuid])}),e.page.traverseEntity(n=>{var r;(r=n.data)==null||r.events.filter(a=>a.data.type==="DragDrop"&&!a.data.disabled).forEach(a=>{this.events.push(new nle(n,a.data,e.page,e.sharedAssets,t,i))})})}connect(){if(!this.events.length)return;this.domEventsNeeded.clear(),this.domEventsNeeded.add("pointerdown");let e=this.eventContext.domElement;e.addEventListener("pointerdown",this.onPointerDown),e.addEventListener("pointermove",this.onPointerMove),e.addEventListener("pointerup",this.onPointerUp),this.domEventsNeeded.add("pointermove")}disconnect(){if(!this.events.length)return;this.domEventsNeeded.clear();let e=this.eventContext.domElement;e.removeEventListener("pointerdown",this.onPointerDown),e.removeEventListener("pointermove",this.onPointerMove),e.removeEventListener("pointerup",this.onPointerUp),this.events.forEach(t=>t.dispose())}setCursor(e){this.eventContext.domElement.style.cursor=e}onAnimationFrameDamping(){for(let e of this.events)for(let t of e.dragItems)t.paused||this.updateDragItem(t,!0)}calcPlaneIntersectPos(e,t,i,n){let{getCamera:r,raycaster:a}=this.eventContext;r().getWorldDirection(vl),vl.negate();let s=Sd.identity();switch(n==="parent"?tle.multiplyMatrices(e.parent.matrixWorld,e.hiddenMatrix).decompose(di,s,xn):n==="local"&&e.matrixWorld.decompose(di,s,xn),i){case"x":di.set(1,0,0).applyQuaternion(s),Su.copy(vl).cross(di),zs.copy(di).cross(Su);break;case"y":di.set(0,1,0).applyQuaternion(s),Su.copy(vl).cross(di),zs.copy(di).cross(Su);break;case"z":di.set(0,0,1).applyQuaternion(s),Su.copy(vl).cross(di),zs.copy(di).cross(Su);break;case"xy":zs.set(0,0,1).applyQuaternion(s);break;case"yz":zs.set(1,0,0).applyQuaternion(s);break;case"xz":zs.set(0,1,0).applyQuaternion(s);break;case"adaptive":vl.angleTo(xn.set(0,1,0))>Math.PI/6?(di.crossVectors(xn.set(0,1,0),vl),zs.crossVectors(di,xn)):zs.set(0,1,0);break;default:zs.copy(vl);break}kd.setFromMatrixPosition(e.matrixWorld);let o=e.userData.lockedPlane?e.userData.worldPosition0:kd;if(n5.setFromNormalAndCoplanarPoint(zs,o),!!a.ray.intersectPlane(n5,t)&&(i==="x"||i==="y"||i==="z")){let l=xn.subVectors(t,o).dot(di);t.copy(o).addScaledVector(di,l)}}updateDragItem(e,t=!1){var i,n;kd.setFromMatrixPosition(e.obj.matrixWorld),e.reset==="current"?kh.subVectors(e.fromPosition,kd).divideScalar(e.currentDampingFactor):e.reset==="original"?(kh.subVectors(e.obj.userData.worldPosition0,kd).divideScalar(e.currentDampingFactor),e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart)):kh.subVectors(e.pointEnd,e.pointStart).add(e.fromPosition).sub(kd).divideScalar(e.currentDampingFactor),e.paused=e.currentDampingFactor>1?kh.length()<ele:!0,(this.activeEvent&&this.activeEvent.data.dampingFactor===1||t)&&ile(e,kh.add(kd),(i=this.activeEvent)!=null&&i.data.drop&&((n=this.activeEvent)!=null&&n.data.autoOrient)?e.orientationMatrix:null),e.obj.dispatchEvent({type:"beginEvent",eventName:"DragDrop"}),this.eventManager.requestRender()}},Mu=new E,mw=new E,So=new E,Ao=new E,a5=new Jr,ale=.01,sle={type:"requestRender"},ole=function(){let e=new E,t=new E;return(i,n,r)=>r>0?(e.subVectors(i,n),e.length()<=r?i:t.copy(n).add(e.normalize().multiplyScalar(r))):n}(),s5=function(){let e=new Ee;return(t,i)=>{t.position.copy(i),t.parent!==null&&(e.copy(t.parent.matrixWorld).invert(),t.position.applyMatrix4(e)),e.copy(t.hiddenMatrix).invert(),t.position.applyMatrix4(e),t.updateMatrix(),t.hasNonUniformScale&&(t.updateMatrixWorld(),t.updateMatrixWorldSVD()),t instanceof Ir&&yo(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),lle=class{constructor(e,t,i,n,r){this.data=e,this.object=t,this.paused=!1,this.currentDampingFactor=1,this.snapComplete=!1,this.isReset=!1,this.worldPosition0=new E,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data=R(R(R({},_y.defaultData),e),e.resetOnPointerLeave===void 0&&{resetOnPointerLeave:!1}),e.target===void 0||e.target==="cursor"||(this.target=i.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.resetDampingFactor=80/this.data.resetSpeed+1,this.object.getWorldPosition(this.worldPosition0),this.actions=Sr(e,e.actions,i,n,r,t)}},dle=class extends Xa{constructor(e,t){super(e),this.events=[],this.pairOfEventListeners=[],this.onMouseMove=n=>{if(!(wt.length>1)){this.eventContext.updateRaycaster(n);for(let r of this.events)r.target===void 0&&this.updateSingleEvent(r)}},this.onMouseEnter=n=>{for(let r of this.events)r.target===void 0&&(r.isReset=!1,r.currentDampingFactor=r.data.dampingFactor)},this.onMouseLeave=n=>{for(let r of this.events)r.target===void 0&&(r.data.resetOnPointerLeave&&(r.isReset=!0,r.currentDampingFactor=r.resetDampingFactor),this.updateSingleEvent(r))},this.onTargetChange=n=>()=>{this.updateSingleEvent(n)};let{page:i}=this.eventContext;i.traverseEntity(n=>{var a,s;let r=(a=n.data)==null?void 0:a.events.find(o=>o.data.type==="Follow"&&!o.data.disabled);r&&(!i.data.globalPhysics.usePhysics||((s=n.dataPatched.physics)==null?void 0:s.rigidBody)!=="dynamic")&&this.events.push(new lle(r.data,n,i,e.sharedAssets,t))})}connect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),$r&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),t.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents||(e.addEventListener("pointerenter",this.onMouseEnter),e.addEventListener("pointerleave",this.onMouseLeave));for(let i of this.events)if(i.target!==void 0){let n=i.target,r=this.onTargetChange(i);this.pairOfEventListeners.push([n,r]),n.addEventListener("requestRender",r)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),$r&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave);for(let[i,n]of this.pairOfEventListeners)i.removeEventListener("requestRender",n);for(let i of this.events)i.paused=!0,i.isReset=!1,jn(i.actions)}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e,!0)}updateSingleEvent(e,t=!1){var s;this.events.forEach(o=>{o.actions.Create.forEach(l=>{l.dispatchThrottled()})});let{plane:i,limitDistance:n,limitDistanceEnabled:r}=e.data;if(e.object.getWorldPosition(So),e.isReset)Ao.copy(e.worldPosition0);else if(e.target)e.target.getWorldPosition(Ao);else{let{getCamera:o,raycaster:l}=this.eventContext;if(i==="custom"?(o().getWorldDirection(mw),mw.negate(),Mu.copy(mw)):i==="xy"?Mu.set(0,0,1):i==="xz"?Mu.set(0,1,0):i==="yz"&&Mu.set(1,0,0),a5.setFromNormalAndCoplanarPoint(Mu,So),!l.ray.intersectPlane(a5,Ao))return}if(!e.isReset){if(Ao.distanceTo(e.worldPosition0)>n&&r&&e.target)if(e.snapComplete=!1,e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&e.timeoutId!==null&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,e.data.resetAfterDistanceLimit)Ao.copy(e.worldPosition0),e.currentDampingFactor=e.resetDampingFactor;else return;else if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout(()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)},e.data.snapDelay*1e3)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),e.delayFinished===!1)return}e.data.enabledTranslation[0]===!1&&(Ao.x=So.x),e.data.enabledTranslation[1]===!1&&(Ao.y=So.y),e.data.enabledTranslation[2]===!1&&(Ao.z=So.z);let a=ole(So,Ao,e.wasOutside?0:e.data.maxDelta);if(e.currentDampingFactor>1){let o=Mu.subVectors(a,So).divideScalar(e.currentDampingFactor);So.add(o),t&&s5(e.object,So),e.paused=o.length()<ale}else s5(e.object,a),e.paused=!0;(s=e.object)==null||s.dispatchEvent({type:"beginEvent",eventName:"Follow"}),e.object.dispatchEvent(sle)}},Sh=new E,iv=new E,Ah=new Ee,Cu=new Ct,yl=new Ct,Mh=new E,Ch=new E,Ad=new E,Mo=new E,gw=new Jr,cle=1e-6,ule={type:"requestRender"},fle={type:"changeRotation"},o5=function(){let e=new Ee;return function(t,i){t.parent!==null?e.multiplyMatrices(t.parent.matrixWorld,t.hiddenMatrix):e.copy(t.hiddenMatrix),i.premultiply(QP(e).invert()),t.rotation.setFromRotationMatrix(i),t.updateMatrix(),t instanceof Ir&&yo(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),hle=class{constructor(e,t,i){this.object=t,this.paused=!1,this.currentDampingFactor=1,this.isReset=!1,this.worldQuaternion0=new Ct,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data=R(R(R({},wy.defaultData),e),e.resetOnPointerLeave===void 0&&{resetOnPointerLeave:!1}),e.target===void 0||e.target==="cursor"||(this.target=i.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.object.getWorldQuaternion(this.worldQuaternion0),this.resetDampingFactor=80/this.data.resetSpeed+1}},ple=class extends Xa{constructor(e){super(e),this.events=[],this.pairOfEventListeners=[],this.pairOfUserEventListeners=[],this.onMouseMove=i=>{if(!(wt.length>1)){this._lastMouseEvent=i,this.eventContext.updateRaycaster(i);for(let n of this.events)n.target===void 0&&this.updateSingleEvent(n)}},this.onMouseEnter=i=>{for(let n of this.events)n.target===void 0&&(n.isReset=!1,n.currentDampingFactor=n.data.dampingFactor)},this.onMouseLeave=i=>{for(let n of this.events)n.target===void 0&&(n.data.resetOnPointerLeave&&(n.isReset=!0,n.currentDampingFactor=n.resetDampingFactor),this.updateSingleEvent(n))},this.onScroll=i=>{if(this._lastMouseEvent){let n=new PointerEvent("pointermove",{clientX:this._lastMouseEvent.clientX,clientY:this._lastMouseEvent.clientY,bubbles:!0,cancelable:!0,view:window});this.eventContext.eventElement.dispatchEvent(n)}},this.onTargetChange=i=>()=>{this.updateSingleEvent(i)},this.createUserEventListener=i=>({eventName:n,target:r})=>{if(!n||!r)return;let a=xh(n);a&&a==="LookAt"&&this.updateSingleEvent(i)};let{page:t}=this.eventContext;t.traverseEntity(i=>{var r,a;let n=(r=i.data)==null?void 0:r.events.find(s=>s.data.type==="LookAt"&&!s.data.disabled);n&&(!t.data.globalPhysics.usePhysics||((a=i.dataPatched.physics)==null?void 0:a.rigidBody)!=="dynamic")&&this.events.push(new hle(n.data,i,t))})}connect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),$r&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),t.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents?t.addEventListener("scroll",this.onScroll):(e.addEventListener("pointerenter",this.onMouseEnter),e.addEventListener("pointerleave",this.onMouseLeave));for(let i of this.events){if(i.target!==void 0){let a=this.onTargetChange(i),s=i.target;this.pairOfEventListeners.push([s,a]),s.addEventListener("requestRender",a)}let n=this.createUserEventListener(i),r=i.object;this.pairOfUserEventListeners.push([r,n]),r.addEventListener("userEvent",n)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),$r&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave),t.removeEventListener("scroll",this.onScroll);for(let[i,n]of this.pairOfEventListeners)i.removeEventListener("requestRender",n);for(let[i,n]of this.pairOfUserEventListeners)i.removeEventListener("userEvent",n);for(let i of this.events)i.paused=!0,i.isReset=!1}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e)}updateSingleEvent(e){var f;let{tilt:t,axis:i,distance:n,plane:r,limitDistance:a,enabledRotation:s,limitDistanceEnabled:o}=e.data,{getCamera:l,raycaster:d}=this.eventContext,{object:u,target:c}=e;if(u.getWorldPosition(Mh),!e.isReset)if(e.target)e.target.getWorldPosition(Ch);else{if(r==="custom"?(l().getWorldDirection(iv),iv.negate(),gw.setFromNormalAndCoplanarPoint(iv,Mh)):(r==="xy"?Sh.set(0,0,1):r==="xz"?Sh.set(0,1,0):r==="yz"&&Sh.set(1,0,0),gw.setFromNormalAndCoplanarPoint(Sh,Mh)),!d.ray.intersectPlane(gw,Ch))return;n>0&&(r==="custom"||r===void 0)&&Ch.addScaledVector(iv,n)}if(e.isReset||(c?t==="target"?Ad.copy(c.up).applyMatrix4(Ah.extractRotation(c.matrixWorld)).normalize():s.some(h=>h===!1)?(i==="x"?(Mo.set(0,0,1),s[2]===!1&&Mo.set(0,1,0)):i==="y"?(Mo.set(1,0,0),s[0]===!1&&Mo.set(0,0,1)):(Mo.set(0,1,0),s[1]===!1&&Mo.set(1,0,0)),Ad.copy(Mo).applyQuaternion(e.worldQuaternion0).normalize()):Ad.set(0,1,0):r==="custom"?Ad.set(0,1,0):Ad.copy(Sh)),e.isReset)yl.copy(e.worldQuaternion0);else if(Mh.distanceTo(Ch)>a&&o&&c)if(e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&e.timeoutId!==null&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,e.data.resetAfterDistanceLimit)yl.copy(e.worldQuaternion0),e.currentDampingFactor=e.resetDampingFactor;else return;else{if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout(()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)},e.data.snapDelay*1e3)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),e.delayFinished===!1)return;mle(Ah,Ch,Mh,Ad,i,Mo),yl.setFromRotationMatrix(Ah),Cu.setFromUnitVectors(Mo.applyQuaternion(yl),Ad),s.some(h=>h===!1)&&t!=="target"&&yl.premultiply(Cu).normalize()}e.currentDampingFactor>1?(u.updateWorldMatrix(!0,!1),Cu.setFromRotationMatrix(QP(u.matrixWorld)),Cu.slerp(yl,1/e.currentDampingFactor),o5(u,Ah.makeRotationFromQuaternion(Cu)),e.paused=8*(1-Cu.dot(yl))<cle):(o5(u,Ah.makeRotationFromQuaternion(yl)),e.paused=!0),(f=e.object)==null||f.dispatchEvent({type:"beginEvent",eventName:"LookAt"}),u.dispatchEvent(ule),u.dispatchEvent(fle)}},Sa=new E,kn=new E,tn=new E;function mle(e,t,i,n,r,a){let s=e.elements;tn.subVectors(t,i),tn.lengthSq()===0&&(tn.z=1),tn.normalize(),kn.crossVectors(n,tn),kn.lengthSq()===0&&(Math.abs(n.z)===1?tn.x+=1e-4:tn.z+=1e-4,tn.normalize(),kn.crossVectors(n,tn)),kn.normalize(),Sa.crossVectors(tn,kn),r==="x"?a.z===1?[kn,Sa,tn]=[tn,kn,Sa]:(kn.negate(),[kn,tn]=[tn,kn]):r==="y"?a.x===1?[kn,Sa,tn]=[Sa,tn,kn]:(kn.negate(),[Sa,tn]=[tn,Sa]):a.x===1&&(kn.negate(),[kn,Sa]=[Sa,kn]),s[0]=kn.x,s[4]=Sa.x,s[8]=tn.x,s[1]=kn.y,s[5]=Sa.y,s[9]=tn.y,s[2]=kn.z,s[6]=Sa.z,s[10]=tn.z}var gle=class{constructor(e,t,i,n,r,a){this.id=e,this.data=t,this.object=i,this.entered=!1,this.actions=Sr(t,t.actions,n,r,a,i)}disconnect(){jn(this.actions)}dispatchEnter(){this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.entered||(this.entered=!0,this.actions.Transition.forEach(e=>e.playFromCurrent()),this.actions.Animation.forEach(e=>e.play()),this.actions.Create.forEach(e=>e.dispatch()),this.actions.Destroy.forEach(e=>e.dispatch()),this.actions.SwitchCamera.forEach(e=>e.playFromCurrent()),this.actions.SceneTransition.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()))}dispatchLeave(){this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.entered&&(this.entered=!1,this.actions.Transition.forEach(e=>e.reverseFromCurrent()),this.actions.SwitchCamera.forEach(e=>e.reverseFromCurrent()))}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.Create.forEach(t=>t.dispatch()),this.actions.Destroy.forEach(t=>t.dispatch()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.SceneTransition.forEach(t=>t.dispatch()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},vle=class extends Xa{constructor(e,t){super(e),this.eventsPerObjects={},this.objects=[],this._prevObjects=[],this.onMouseDown=r=>{wt.length>1||(this.eventContext.updateRaycaster(r),this.handleMouseHoverEvent())},this.onMouseUp=r=>{wt.length>1||this.handleMouseHoverEvent(!0)},this.onMouseMove=r=>{wt.length>1||(this.eventContext.updateRaycaster(r),this.handleMouseHoverEvent())},this.onUserEvent=({eventName:r,target:a,reverse:s})=>{var l;if(!r||!a)return;let o=xh(r);o&&o==="MouseHover"&&(a.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),(l=this.eventsPerObjects[a.uuid])==null||l.forEach(d=>d.dispatchUserEvent(s)))};let{page:i,sharedAssets:n}=this.eventContext;i.traverseEntity(r=>{var a,s;if(!(!r.visible||!((a=r.data)!=null&&a.events.length))){for(let{id:o,data:l}of r.data.events)if(!l.disabled&&l.type==="MouseHover")try{let d=new gle(o,l,r,i,n,t);this.eventsPerObjects[r.uuid]?this.eventsPerObjects[r.uuid].push(d):this.eventsPerObjects[r.uuid]=[d]}catch(d){}(s=this.eventsPerObjects[r.uuid])!=null&&s.length&&this.objects.push(r)}})}connect(){if(!this.objects.length)return;let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),$r&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseDown),this.domEventsNeeded.add("pointerup"),e.addEventListener("pointerup",this.onMouseUp)),this.domEventsNeeded.add("pointermove"),e.addEventListener("pointermove",this.onMouseMove),this.objects.forEach(t=>{t.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if(!this.objects.length)return;let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),$r&&(e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerup",this.onMouseUp)),e.removeEventListener("pointermove",this.onMouseMove),Object.values(this.eventsPerObjects).forEach(t=>{t.forEach(i=>{i.disconnect()})}),this.objects.forEach(t=>{t.removeEventListener("userEvent",this.onUserEvent)})}handleMouseHoverEvent(e=!1){let t=[];if(!e){let{stopRaycast:i,raycaster:n,page:r}=this.eventContext;if(i){let a=ev(n,r,this.objects);t=cw(a)}else this.objects.forEach(a=>{tv(n,a)&&t.push(a)})}this._prevObjects.length&&this._prevObjects.forEach(i=>{var n;t.includes(i)||(i.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),(n=this.eventsPerObjects[i.uuid])==null||n.forEach(r=>r.dispatchLeave()))}),t.length&&t.forEach(i=>{var n;i.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),(n=this.eventsPerObjects[i.uuid])==null||n.forEach(r=>r.dispatchEnter())}),this._prevObjects=t}},yle=class{constructor(e,t,i,n,r,a){this.id=e,this.data=t,this.object=i,this.scrollCounter=0,this.actions=Sr(t,t.actions,n,r,a,i)}connect(){this.scrollCounter=0}disconnect(){jn(this.actions)}dispatch(e){this.actions.Transition.forEach(n=>{n.object.currentTransitionEvent!==this&&(n.object.currentTransitionEvent=this,n.init())});let t=e>0?1:-1;this.scrollCounter+=t,this.scrollCounter=Math.min(Math.max(this.scrollCounter,0),this.data.steps);let i=this.scrollCounter/this.data.steps;this.actions.Transition.forEach(n=>n.seek(i)),this.actions.Animation.forEach(n=>n.seek(t)),this.actions.Create.forEach(n=>n.dispatchThrottled()),this.actions.SetVariable.forEach(n=>n.checkConditions()),this.actions.SetVariable.forEach(n=>n.dispatch()),this.actions.DynamicVariablePlay.forEach(n=>n.dispatch())}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>{t.playFromCurrent()}),this.actions.Animation.forEach(t=>{t.playFromCurrent()})),this.actions.Create.forEach(t=>t.dispatchThrottled()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},ble=class{constructor(e,t,i,n,r,a,s){this.id=e,this.data=t,this.object=i,this.domElement=a,this.eventManager=s,this.scrollStart=0,this.scrollEnd=0,this.actions=Sr(t,t.actions,n,r,s,i)}computeScrollBounds(){var s,o;let e=this.domElement.getBoundingClientRect(),t=document.body,i=document.documentElement,n=window.pageYOffset||i.scrollTop||t.scrollTop,r=i.clientTop||t.clientTop||0,a=Math.round(e.top+n-r);if(this.data.startFrom==="enter"){let l=window.innerHeight,d=e.height,u=this.data.enterAnchor,c=u==="top"?l:u==="bottom"?l-d:l-d*.5;this.scrollStart=a-c}else this.scrollStart=0;this.scrollStart+=(s=this.data.startOffset)!=null?s:0,this.scrollEnd=this.scrollStart+((o=this.data.endAfter)!=null?o:400),this.box=e,this.computeScroll({x:window.scrollX,y:window.scrollY})}connect(){this.computeScrollBounds()}disconnect(){jn(this.actions)}handleResize(){this.computeScrollBounds()}get isInvalidBox(){return this.box===void 0||this.box.width===0&&this.box.height===0&&this.box.top===0&&this.box.bottom===0}computeScroll({x:e,y:t}){this.actions.Transition.forEach(r=>{r.object.currentTransitionEvent!==this&&(r.object.currentTransitionEvent=this,r.init())});let i=this.scrollEnd-this.scrollStart,n=Math.min(1,Math.max(0,(t-this.scrollStart)/i));this.actions.Transition.forEach(r=>r.seek(n)),this.actions.Animation.forEach(r=>r.seek(n)),this.actions.Create.forEach(r=>r.dispatchThrottled()),this.actions.SetVariable.forEach(r=>r.checkConditions()),this.actions.SetVariable.forEach(r=>r.dispatch()),this.actions.DynamicVariablePlay.forEach(r=>r.dispatch())}dispatch(e){this.isInvalidBox&&this.computeScrollBounds(),this.computeScroll(e)}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>{t.playFromCurrent()}),this.actions.Animation.forEach(t=>{t.playFromCurrent()})),this.actions.Create.forEach(t=>t.dispatchThrottled()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},_le=class extends Xa{constructor(e,t){super(e),this.wheelEventsPerObject=new Map,this.scrollEventsPerObject=new Map,this.isInview=!0,this.handleResize=()=>{[...this.scrollEventsPerObject.entries()].forEach(([s,o])=>{o.forEach(l=>l.handleResize())})},this.onScroll=s=>{if(!this.isInview)return;let o={y:window.scrollY,x:window.scrollX};[...this.scrollEventsPerObject.entries()].forEach(([l,d])=>{l.dispatchEvent({type:"beginEvent",eventName:"Scroll",scroll:o}),d.forEach(u=>u.dispatch(o))})},this.onWheel=s=>{!this.isInview||s.ctrlKey||[...this.wheelEventsPerObject.entries()].forEach(([o,l])=>{o.dispatchEvent({type:"beginEvent",eventName:"Scroll",deltaY:s.deltaY}),l.forEach(d=>d.dispatch(s.deltaY))})},this.onUserEvent=({eventName:s,target:o,reverse:l})=>{var u;if(!s||!o)return;let d=xh(s);d&&d==="Scroll"&&(o.dispatchEvent({type:"beginEvent",eventName:"Scroll"}),(u=this.wheelEventsPerObject.get(o))==null||u.forEach(c=>{c.dispatchUserEvent(l)}))};let{page:i,sharedAssets:n,domElement:r,isExport:a}=this.eventContext;i.traverseEntity(s=>{var o,l,d;if((o=s.data)!=null&&o.events.length){for(let{id:u,data:c}of s.data.events)if(!c.disabled&&c.type==="Scroll")if(c.trigger==="load"||!a){let f=new yle(u,c,s,i,n,t);this.wheelEventsPerObject.has(s)?(l=this.wheelEventsPerObject.get(s))==null||l.push(f):this.wheelEventsPerObject.set(s,[f])}else{let f=new ble(u,c,s,i,n,r,t);this.scrollEventsPerObject.has(s)?(d=this.scrollEventsPerObject.get(s))==null||d.push(f):this.scrollEventsPerObject.set(s,[f])}}}),this.intersectionObserver=new IntersectionObserver(s=>{let o=s[0];o&&(this.isInview=o.isIntersecting)},{root:null})}connect(){this.intersectionObserver.observe(this.eventContext.domElement),[...this.wheelEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(i=>i.connect()),e.addEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(i=>i.connect()),e.addEventListener("userEvent",this.onUserEvent)}),[...this.wheelEventsPerObject.values()].some(e=>e.length)&&(this.domEventsNeeded.add("wheel"),window.addEventListener("wheel",this.onWheel)),[...this.scrollEventsPerObject.values()].some(e=>e.length)&&(this.domEventsNeeded.add("scroll"),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.handleResize))}disconnect(){window.removeEventListener("wheel",this.onWheel),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.handleResize),this.intersectionObserver.unobserve(this.eventContext.domElement),this.domEventsNeeded.clear(),[...this.wheelEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(i=>i.disconnect()),e.removeEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(i=>i.disconnect()),e.removeEventListener("userEvent",this.onUserEvent)})}},wle=class{constructor(e,t,i,n,r,a){this.id=e,this.data=t,this.object=i,this.actions=Sr(t,t.actions,n,r,a,i)}disconnect(){jn(this.actions)}dispatch(){this.actions.Transition.forEach(e=>{e.play()}),this.actions.Animation.forEach(e=>{e.play()}),this.actions.SwitchCamera.forEach(e=>{e.play()}),this.actions.SceneTransition.forEach(e=>{e.dispatch()}),this.actions.Reset.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()),this.actions.Create.forEach(e=>{e.dispatchFromStart()}),this.actions.Destroy.forEach(e=>{e.dispatchFromStart()})}dispatchAfter(e){this.actions.Audio.forEach(t=>{var i;((i=t.interaction.data.triggerAfter)!=null?i:"any")===e&&(t.interaction instanceof wd?t.interaction.audioPlayer.play():t.interaction instanceof H_&&t.interaction.dispatch())}),this.actions.Video.forEach(t=>{var n;let i=(n=t.interaction.data.triggerAfter)!=null?n:"autoplay";i===e&&(t.interaction instanceof ku?t.interaction.play(i==="autoplay"):t.interaction instanceof aw&&t.interaction.dispatch())})}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.SceneTransition.forEach(t=>t.dispatch()),this.actions.Reset.forEach(t=>t.dispatch()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.interaction instanceof wd?t.interaction.audioPlayer.play():t.interaction instanceof H_&&t.interaction.dispatch()}),this.actions.Video.forEach(t=>{t.interaction instanceof ku?t.interaction.play():t.interaction instanceof aw&&t.interaction.dispatch()})}},xle=class extends Xa{constructor(e,t){super(e),this.eventManager=t,this.eventsPerObject=new Map,this.eventsAfterPerObject=new Map,this.onMouseDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([i,n])=>{i.dispatchEvent({type:"beginEvent",eventName:"Start"}),n.forEach(r=>{r.dispatchAfter("mouseDown")})})},this.onKeyDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([i,n])=>{i.dispatchEvent({type:"beginEvent",eventName:"Start"}),n.forEach(r=>{r.dispatchAfter("keyDown")})})},this.onAny=()=>{let{domElement:i,isExport:n}=this.eventContext;(n?document:i).removeEventListener("pointerdown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([r,a])=>{r.dispatchEvent({type:"beginEvent",eventName:"Start"}),a.forEach(s=>{s.dispatchAfter("any")})})},this.onSceneTransitionAudioVideoPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([i,n])=>{i.dispatchEvent({type:"beginEvent",eventName:"Start"}),n.forEach(r=>{r.actions.Audio.forEach(a=>{a.interaction instanceof wd&&a.interaction.audioPlayer.play()}),r.actions.Video.forEach(a=>{var o;let s=(o=a.interaction.data.triggerAfter)!=null?o:"autoplay";a.interaction instanceof ku&&a.interaction.play(s==="autoplay")})})})},this.onPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([i,n])=>{i.dispatchEvent({type:"beginEvent",eventName:"Start"}),n.forEach(r=>{r.dispatchAfter("autoplay")})})},this.onUserEvent=({eventName:i,target:n,reverse:r})=>{var s,o;if(!i||!n)return;let a=xh(i);a&&a==="Start"&&(n.dispatchEvent({type:"beginEvent",eventName:"Start"}),(s=this.eventsPerObject.get(n))==null||s.forEach(l=>{l.dispatchUserEvent(r)}),(o=this.eventsAfterPerObject.get(n))==null||o.forEach(l=>{l.dispatchUserEvent(r)}))}}connect(){let{sharedAssets:e,page:t}=this.eventContext;if(t.traverseEntity(i=>{var n,r,a,s;if((n=i.data)!=null&&n.events.length)for(let{id:o,data:l}of i.data.events){if(l.disabled||l.type!=="Start")continue;let d=new wle(o,l,i,t,e,this.eventManager);(d.actions.Transition.length||d.actions.Animation.length||d.actions.SwitchCamera.length||d.actions.Create.length||d.actions.Destroy.length||d.actions.SceneTransition.length||d.actions.Reset.length||d.actions.SetVariable.length||d.actions.DynamicVariablePlay.length)&&(this.eventsPerObject.has(i)?(r=this.eventsPerObject.get(i))==null||r.push(d):this.eventsPerObject.set(i,[d])),d.actions.Audio.length&&(this.eventsAfterPerObject.has(i)?(a=this.eventsAfterPerObject.get(i))==null||a.push(d):this.eventsAfterPerObject.set(i,[d])),d.actions.Video.length&&(this.hasVideoAction=!0,this.eventsAfterPerObject.has(i)?(s=this.eventsAfterPerObject.get(i))==null||s.push(d):this.eventsAfterPerObject.set(i,[d]))}}),[...this.eventsAfterPerObject.values()].some(i=>i.length)){if(this.eventManager.activateCount===0){let{domElement:i,isExport:n}=this.eventContext,r=n?document:i;r.addEventListener("pointerdown",this.onMouseDown,{once:!0}),r.addEventListener("mousedown",this.onMouseDown,{once:!0}),document.addEventListener("keydown",this.onKeyDown,{once:!0}),r.addEventListener("pointerdown",this.onAny),r.addEventListener("mousedown",this.onAny),document.addEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([a,s])=>{a.addEventListener("userEvent",this.onUserEvent)})}else this.onSceneTransitionAudioVideoPlay();this.onPlay()}[...this.eventsPerObject.entries()].forEach(([i,n])=>{i.dispatchEvent({type:"beginEvent",eventName:"Start"}),n.forEach(r=>r.dispatch()),i.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if([...this.eventsAfterPerObject.values()].some(e=>e.length)){let{domElement:e,isExport:t}=this.eventContext,i=t?document:e;i.removeEventListener("pointerdown",this.onMouseDown),i.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("keydown",this.onKeyDown),i.removeEventListener("pointerdown",this.onAny),i.removeEventListener("mousedown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([n,r])=>{n.removeEventListener("userEvent",this.onUserEvent),r.forEach(a=>a.disconnect())})}[...this.eventsPerObject.entries()].forEach(([e,t])=>{e.removeEventListener("userEvent",this.onUserEvent),t.forEach(i=>i.disconnect())}),this.eventsPerObject.clear(),this.eventsAfterPerObject.clear()}},kle=class{constructor(e,t,i,n,r,a){this.id=e,this.data=t,this.object=i,this.disabled=!1,this.alreadyPlayedNonTogglingActions=new Set,this.actions=Sr(t,t.actions,n,r,a,i),this.target=t.target,this.useToggle=t.runMode==="Toggle"}disconnect(){jn(this.actions)}dispatch(e){this.disabled||(this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this?(t.object.currentTransitionEvent=this,t.init()):this.data.runMode==="Once"&&this.alreadyPlayedNonTogglingActions.add(t)}),this.object.dispatchEvent({type:"beginEvent",eventName:"Collision"}),this.useToggle?(this.actions.Transition.forEach(t=>{t.toggle()}),this.actions.Animation.forEach(t=>{t.toggle()})):(this.actions.Transition.forEach(t=>{this.alreadyPlayedNonTogglingActions.has(t)===!1&&t.play()}),this.actions.Animation.forEach(t=>{t.play()})),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch(e!=null?e:!1)}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}))}},Sle=class extends Xa{constructor(e,t,i,n,r){super(e),this.sharedVariables=t,this.eventManager=i,this.needsMouse=n,this.needsRaycast=r,this.dynamicVars=[],this.variablesToWatch=[],this.prevMouseProperty=null,this.prevRaycastProperty=null,this.pauseTime=0,this.events=[],this.onFrame=a=>{var c,f;this.rafId=window.requestAnimationFrame(this.onFrame);let s=new Date,o=[],l=[];for(let h=0;h<this.propertiesToWatch.length;h++){let{objectId:p,property:m,prevValue:g}=this.propertiesToWatch[h],v=this.eventContext.scene.find(p),y=ky.propertyPaths[m];if(y[0]==="width"||y[0]==="height"||y[0]==="depth")v=v.geometry.userData.parameters[y[0]];else for(let b=0;b<y.length;b++)v=v[y[b]];g===null?this.propertiesToWatch[h].prevValue=v instanceof E?v.clone():v:(v instanceof E?!v.equals(g):g!==v)&&(l.push({objId:p,property:m}),v instanceof E?this.propertiesToWatch[h].prevValue.copy(v):this.propertiesToWatch[h].prevValue=v)}for(let h=0;h<this.variablesToWatch.length;h++){let{id:p,prevValue:m}=this.variablesToWatch[h],g=this.shared.getVariable(p);g!==m&&(o.push(p),this.variablesToWatch[h].prevValue=g)}for(let h=0;h<this.dynamicVars.length;h++){let{id:p,expectedTime:m,last:g,data:v,timerSeconds:y,startValue:b}=this.dynamicVars[h],_=1e3;if((v.dynamicVariableType==="timer"||v.dynamicVariableType==="stopwatch")&&v.format==="number3decimal"?_=1:v.dynamicVariableType==="counter"?_=v.updateInterval:v.dynamicVariableType==="random"&&(_=v.isStatic?1/0:v.updateInterval),m===-1){this.dynamicVars[h].last=a,this.dynamicVars[h].expectedTime=a+_;continue}if(!((this.shared.getDynamicVariablePlayState(p)==="Stopped"||this.shared.getDynamicVariablePlayState(p)==="Restarted")&&(this.dynamicVars[h].last=a,this.dynamicVars[h].expectedTime=a+_,v.dynamicVariableType==="counter"&&this.shared.getVariable(p)!==b&&(this.shared.updateVariable(p,b),this.eventManager.requestRender()),(v.dynamicVariableType==="timer"||v.dynamicVariableType==="stopwatch")&&this.dynamicVars[h].timerSeconds!==b&&(this.dynamicVars[h].timerSeconds=b,this.shared.updateVariable(p,La.getFormattedTimerTime(b,v)),this.eventManager.requestRender()),this.shared.getDynamicVariablePlayState(p)==="Restarted"&&this.shared.setDynamicVariablePlayState(p,"Playing"),this.shared.getDynamicVariablePlayState(p)==="Stopped"))){if(this.shared.getDynamicVariablePlayState(p)==="Paused"){this.dynamicVars[h].deltaToExpectedTime===void 0&&(this.dynamicVars[h].deltaToExpectedTime=Math.max(this.dynamicVars[h].expectedTime-a,0)),this.dynamicVars[h].last=a-(_-this.dynamicVars[h].deltaToExpectedTime),this.dynamicVars[h].expectedTime=a+this.dynamicVars[h].deltaToExpectedTime;continue}else this.dynamicVars[h].deltaToExpectedTime=void 0;if(a>=m)if(this.dynamicVars[h].last=a,this.dynamicVars[h].expectedTime+=_,v.dynamicVariableType==="random"){let x=v.min+Math.random()*(v.max-v.min),k=v.decimals;x=Math.round(x*Math.pow(10,k))/Math.pow(10,k),this.shared.updateVariable(p,x),o.push(p),this.eventManager.requestRender()}else if(v.dynamicVariableType==="counter"){if(v.increment===0)continue;let x=this.shared.getVariable(p),k=(c=this.shared.getDynamicVariableToggleIsForward(p))!=null?c:!0,w=this.shared.getVariable(p)+v.increment*(k?1:-1);v.hasEnd&&(w=v.increment>0?at.clamp(w,b,v.endValue):at.clamp(w,v.endValue,b),w===b&&this.shared.setDynamicVariableToggleIsForward(p,void 0),v.repeat?w===v.endValue&&(w=b):(w===b||w===v.endValue)&&this.shared.setDynamicVariablePlayState(p,"Paused")),w!==x&&(o.push(p),this.shared.updateVariable(p,w),this.eventManager.requestRender())}else if(v.dynamicVariableType==="time")this.shared.updateVariable(p,AD(s,v)),o.push(p),this.eventManager.requestRender();else{let x=ia.isTextValue(v.endValue)?l5(v.endValue.textValue):v.endValue,k=(f=this.shared.getDynamicVariableToggleIsForward(p))!=null?f:!0,w=y+(a-g)/1e3*(v.dynamicVariableType==="timer"?-1:1)*(k?1:-1);w=Math.max(w,0),v.hasEnd&&(w=v.dynamicVariableType==="stopwatch"?at.clamp(w,b,x):at.clamp(w,x,b),w===b&&this.shared.setDynamicVariableToggleIsForward(p,void 0),v.repeat?Math.abs(w-x)<(v.format==="number3decimal"?1e-4:.1)&&(w=b):(Math.abs(w-b)<(v.format==="number3decimal"?1e-4:.1)||Math.abs(w-x)<(v.format==="number3decimal"?1e-4:.1))&&this.shared.setDynamicVariablePlayState(p,"Paused")),w!==y&&(o.push(p),this.dynamicVars[h].timerSeconds=w,this.shared.updateVariable(p,La.getFormattedTimerTime(w,v)),this.eventManager.requestRender())}}}this.needsMouse&&this.shared.mouseProperty!==this.prevMouseProperty&&(this.prevMouseProperty=this.shared.mouseProperty,this.events.forEach(h=>{h.data.variableId==="mouseProperty"&&(h.dispatch(),this.eventManager.requestRender())}));let d=!1;this.shared.mouseProperty!==this.prevMouseProperty&&(this.prevMouseProperty=this.shared.mouseProperty,d=!0);let u=!1;this.shared.raycastProperty!==this.prevRaycastProperty&&(this.prevRaycastProperty=this.shared.raycastProperty,u=!0),this.events.forEach(h=>{(o.includes(h.data.variableId)||l.find(p=>p.objId===h.data.objectId&&p.property===h.data.property)||h.data.variableId==="mouseProperty"&&d||h.data.variableId==="raycastProperty"&&u)&&(h.dispatch(),this.eventManager.requestRender())})},this.onBlur=()=>{this.pause()},this.onFocus=()=>{this.resume()},e.page.traverseEntity(a=>{var s;(s=a.data)==null||s.events.filter(o=>o.data.type==="VariableChange"&&!o.data.disabled).forEach(o=>{this.events.push(new Ale(a.uuid,o.data,a,e.page,e.sharedAssets,i))})}),this.propertiesToWatch=this.events.filter(a=>a.data.variableId==="objectProperty"&&a.data.objectId!==null).map(a=>({objectId:a.data.objectId,property:a.data.property,prevValue:null})),this.shared=e.sharedAssets,this.sharedVariables.forEach(({id:a,data:s})=>{if(!("dynamicVariableType"in s)){this.events.find(l=>l.data.variableId===a)&&this.variablesToWatch.push({id:a,prevValue:this.shared.getVariable(a)});return}let o;if(s.dynamicVariableType==="timer"||s.dynamicVariableType==="stopwatch"){let l;if(ia.isTextValue(s.value)&&Array.isArray(s.value.textValue)){let d=s.value.textValue;d.length===3?l=d[2]+d[1]*60+d[0]*3600:l=d[1]+d[0]*60}else l=s.value;o=l,this.dynamicVars.push({id:a,last:-1,expectedTime:-1,data:s,timerSeconds:l,startValue:o})}else s.dynamicVariableType==="time"&&this.shared.updateVariable(a,AD(new Date,s)),s.dynamicVariableType==="counter"&&(o=ia.isTextValue(s.value)?l5(s.value.textValue):s.value),this.dynamicVars.push({id:a,last:-1,expectedTime:-1,data:s,startValue:o})})}pause(){this.pauseTime=Date.now()}resume(){let e=Date.now()-this.pauseTime;for(let t=0;t<this.dynamicVars.length;t++)this.dynamicVars[t].last+=e,this.dynamicVars[t].expectedTime+=e}connect(){this.rafId=window.requestAnimationFrame(this.onFrame),window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus)}disconnect(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),this.rafId&&(window.cancelAnimationFrame(this.rafId),this.rafId=void 0),this.events.forEach(e=>e.dispose())}},Ale=class{constructor(e,t,i,n,r,a){this.id=e,this.data=t,this.object=i,this.actions=Sr(t,t.actions,n,r,a,i)}dispatch(){let e=this.actions;e.Audio.forEach(t=>t.dispatchConditional()),e.Video.forEach(t=>t.dispatchConditional()),e.Create.forEach(t=>t.dispatch()),e.Destroy.forEach(t=>t.dispatch()),e.Reset.forEach(t=>t.dispatch()),e.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this),t.init()}),e.Transition.forEach(t=>t.play()),e.Animation.forEach(t=>t.play()),e.SwitchCamera.forEach(t=>t.play()),e.SceneTransition.forEach(t=>t.dispatch()),e.SetVariable.forEach(t=>t.checkConditions()),e.SetVariable.forEach(t=>t.dispatch()),e.DynamicVariablePlay.forEach(t=>t.dispatch())}dispose(){jn(this.actions)}};function l5(e){return e.length===3?e[2]+e[1]*60+e[0]*3600:e[1]+e[0]*60}var Mle="https://unpkg.com/@splinetool/runtime@0.9.526/build/",Cle="https://unpkg.com/@splinetool/navmesh-wasm@0.9.526/build/",Ele=`
(async function() {
	const [wasmImport, wasmBinary] = await Promise.all([
		import('${Mle}' + 'navmesh.js'),
		fetch('${Cle}' + 'navmesh.wasm').then((res) => res.arrayBuffer()),
	]);
	const wasmModule = wasmImport.default;
	self.module = await wasmModule({ wasmBinary });
	postMessage('ready');
})();
`,Tle=`
(async function() {
	const [wasmImport, wasmBinary] = await Promise.all([
		import(self.location.origin + '/_libraries/navmesh.js'),
		fetch(self.location.origin + '/_libraries/navmesh.wasm').then((res) => res.arrayBuffer()),
	]);
	const wasmModule = wasmImport.default;
	self.module = await wasmModule({ wasmBinary });
	postMessage('ready');
})();
`,Dle=`

onmessage = function(messageEvent) {
	const meshData = messageEvent.data;
	const positions = meshData[0];
	const offset = meshData[1];
	const indices = meshData[2];
	const indicesLength = meshData[3];
	const parameters = meshData[4];

	const module = self.module;
	const rc = new module.rcConfig();
	rc.cs = parameters.cs;
	rc.ch = parameters.ch;
	rc.borderSize = parameters.borderSize ? parameters.borderSize : 0;
	rc.tileSize = parameters.tileSize ? parameters.tileSize : 0;
	rc.walkableSlopeAngle = parameters.walkableSlopeAngle;
	rc.walkableHeight = parameters.walkableHeight;
	rc.walkableClimb = parameters.walkableClimb;
	rc.walkableRadius = parameters.walkableRadius;
	rc.maxEdgeLen = parameters.maxEdgeLen;
	rc.maxSimplificationError = parameters.maxSimplificationError;
	rc.minRegionArea = parameters.minRegionArea;
	rc.mergeRegionArea = parameters.mergeRegionArea;
	rc.maxVertsPerPoly = parameters.maxVertsPerPoly;
	rc.detailSampleDist = parameters.detailSampleDist;
	rc.detailSampleMaxError = parameters.detailSampleMaxError;

	if (!self.navMesh) {
		self.navMesh = new module.NavMesh();
	}
	self.navMesh.build(positions, offset, indices, indicesLength, rc);

	const navmeshData = navMesh.getNavmeshData();
	const arrView = new Uint8Array(module.HEAPU8.buffer, navmeshData.dataPointer, navmeshData.size);
	const ret = new Uint8Array(navmeshData.size);
	ret.set(arrView);
	navMesh.freeNavmeshData(navmeshData);

	postMessage(ret);
}
`,d5=.001,Ple={cs:6,ch:2,walkableSlopeAngle:90,walkableHeight:20,walkableClimb:5,walkableRadius:0,maxEdgeLen:12,maxSimplificationError:1.3,minRegionArea:8,mergeRegionArea:20,maxVertsPerPoly:6,detailSampleDist:6,detailSampleMaxError:1},c5,Ht,Vn;PQ.then(e=>{c5=e,Ht=new e.Vec3,Vn=new e.Vec3});var Ile=new E,Ole=class{constructor(e=!1,t=!1){this.usePhysics=e,this.isExport=t,this.onPointerDown=i=>{if(wt.length!==1)return;let{raycaster:n,page:r}=this.eventContext;this.eventContext.updateRaycaster(i);let a=r.raycastWithClones(n);if(a.length!==0){if(this.gameControl){let s=Ile.copy(this.gameControl.colliderWorldPosition);s.y-=this.gameControl.colliderHeight/2,this.gameControl.path=this.computePath(s,a[0].point)}this.eventContext.requestRender()}},this.traverseWithPhysics=(i,n)=>r=>{var f,h,p,m,g,v,y;let a;if(r instanceof Va)if(r.objectForSample){if(r.objectForSample.dataPatched.physics.fusedBody)return;a=r.object}else return r.object.dataPatched.physics.fusedBody===!0&&r.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(r instanceof er)a=r.object;else if(a=r,((f=a.dataPatched.cloner)==null?void 0:f.disabled)===!1&&((h=a.dataPatched.cloner)==null?void 0:h.hideBase)&&((p=a.dataPatched.physics)==null?void 0:p.fusedBody)!==!0)return!0;if(n&&!a.userData.navmesh)return;let s=a.dataPatched;if(!s.visible&&((m=s.physics)==null?void 0:m.enabled)!==!0)return!0;r.updateMatrixWorldSVD();let o=sv(s),l=a.userData.hasDestroy,d=a.userData.hasDrag,u=!1,c=!1;for(let b of s.events)b.data.disabled!==!0&&(b.data.type==="GameControl"?u=!0:b.data.type==="Follow"&&(c=!0));if(u||o||c||l||d)return!0;if(this.usePhysics&&((g=s.physics)==null?void 0:g.rigidBody)==="dynamic"){if(this.usePhysics&&((v=s.physics)!=null&&v.fusedBody))return!0}else if("geometry"in r&&r.geometry&&i.push(ko(r.geometry,r.matrixWorld)),this.usePhysics&&((y=s.physics)==null?void 0:y.fusedBody))return r.traverseObject((b,_)=>{var w,S;if(_===0)return;let x;if(b instanceof Va)if(b.objectForSample){if(b.objectForSample.dataPatched.physics.fusedBody)return;x=b.object}else return b.object.dataPatched.physics.fusedBody===!0&&b.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(b instanceof er)x=b.object;else if(x=b,(w=b.dataPatched.cloner)==null?void 0:w.hideBase)return!0;let k=x.dataPatched;if(!k.visible&&((S=k.physics)==null?void 0:S.enabled)!==!0)return!0;"geometry"in b&&b.geometry&&i.push(ko(b.geometry,b.matrixWorld))}),!0},this.traverseNoPhysics=(i,n)=>r=>{let a;if(r instanceof Va)return;r instanceof er?a=r.object:a=r;let s=a.dataPatched;if(s.physics.enabled==="visibility"?!s.visible:!s.physics.enabled)return!0;if(n&&!a.userData.navmesh)return;let o=r.geometry,l=a.userData.hasDestroy===!0,d=a.userData.hasDrag===!0;if(sv(s)||l||d||a.dataPatched.events.some(u=>u.data.disabled!==!0&&u.data.type==="GameControl"))return!0;o&&i.push(ko(o,r.matrixWorld))},this.navmeshWasm=c5,this.navMesh=new this.navmeshWasm.NavMesh,this._workerURL=URL.createObjectURL(new Blob([(t?Ele:Tle)+Dle])),this._worker=new Worker(this._workerURL)}init(e,t,i){this.gameControl=t,this.eventContext=i,this.resolution=e.ch,this.setDefaultQueryExtent(new E().setScalar(e.ch*e.walkableRadius*1.2)),this._worker.onmessage=()=>{this.createNavMesh(i.page,e,n=>{this.buildFromNavmeshData(n.data)})},this.eventContext.renderer.domElement.addEventListener("pointerdown",this.onPointerDown)}createNavMesh(e,t,i){t.objects.forEach(l=>{var u;let d=e.scene.find(l);d.traverseEntity(c=>{c.userData.navmesh=!0}),(u=d.cloner)==null||u.traverseObject(c=>{c.userData.navmesh=!0})});let n=[],r=(this.usePhysics?this.traverseWithPhysics:this.traverseNoPhysics)(n,t.zones==="custom");if(e.traverseChildren(r),t.objects.forEach(l=>{var u;let d=e.scene.find(l);d.traverseEntity(c=>{c.userData.navmesh=void 0}),(u=d.cloner)==null||u.traverseObject(c=>{c.userData.navmesh=void 0})}),n.length===0)return!1;let a=rd(n),{positions:s,triIndices:o}=xg(a.getAttribute("position"),a.getIndex());return this._worker.postMessage([s,s.length/3,o,o.length,R(R({},Ple),t)]),this._worker.onmessage=i,!0}createDebugNavGeometry(){let e,t,i=this.navMesh.getDebugNavMesh(),n=i.getTriangleCount(),r=new Uint32Array(n*3),a=new Float32Array(n*3*3);for(e=0;e<n*3;e++)r[e]=e;for(e=0;e<n;e++)for(t=0;t<3;t++){let o=i.getTriangle(e).getPoint(t);a[e*9+t*3+0]=o.x,a[e*9+t*3+1]=o.y,a[e*9+t*3+2]=o.z}let s=new dt;return s.setIndex(new _t(r,1)),s.setAttribute("position",new _t(a,3)),s}getClosestPoint(e){return Ht.x=e.x,Ht.y=e.y,Ht.z=e.z,this.navMesh.getClosestPoint(Ht)}getClosestPointToRef(e,t){Ht.x=e.x,Ht.y=e.y,Ht.z=e.z;let i=this.navMesh.getClosestPoint(Ht);t.set(i.x,i.y,i.z)}getRandomPointAround(e,t){return Ht.x=e.x,Ht.y=e.y,Ht.z=e.z,this.navMesh.getRandomPointAround(Ht,t)}getRandomPointAroundToRef(e,t,i){Ht.x=e.x,Ht.y=e.y,Ht.z=e.z;let n=this.navMesh.getRandomPointAround(Ht,t);i.set(n.x,n.y,n.z)}moveAlong(e,t){return Ht.x=e.x,Ht.y=e.y,Ht.z=e.z,Vn.x=t.x,Vn.y=t.y,Vn.z=t.z,this.navMesh.moveAlong(Ht,Vn)}moveAlongToRef(e,t,i){return Ht.x=e.x,Ht.y=e.y,Ht.z=e.z,Vn.x=t.x,Vn.y=t.y,Vn.z=t.z,this.navMesh.moveAlong(Ht,Vn)}computePath(e,t){let i=this.getClosestPoint(t);Vn.x=i.x,Vn.y=i.y,Vn.z=i.z,this.getClosestPoint(e);let n=this.navMesh.computePath(Ht,Vn),r=n.getPointCount(),a=[];for(let s=0;s<r;s++){let o=n.getPoint(s);a.push(new E(o.x,o.y,o.z))}return a}createCrowd(e,t){return new jle(this,e,t)}setDefaultQueryExtent(e){Ht.x=e.x,Ht.y=e.y,Ht.z=e.z,this.navMesh.setDefaultQueryExtent(Ht)}getDefaultQueryExtent(){return this.navMesh.getDefaultQueryExtent()}buildFromNavmeshData(e){let t=e.length*e.BYTES_PER_ELEMENT,i=this.navmeshWasm._malloc(t),n=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,i,t);n.set(e);let r=new this.navmeshWasm.NavmeshData;r.dataPointer=n.byteOffset,r.size=e.length,this.navMesh.buildFromNavmeshData(r),this.navmeshWasm._free(n.byteOffset)}getNavmeshData(){let e=this.navMesh.getNavmeshData(),t=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,e.dataPointer,e.size),i=new Uint8Array(e.size);return i.set(t),this.navMesh.freeNavmeshData(e),i}getDefaultQueryExtentToRef(e){let t=this.navMesh.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}dispose(){var e;this.navMesh.destroy(),this._worker.terminate(),URL.revokeObjectURL(this._workerURL),(e=this.eventContext)==null||e.renderer.domElement.removeEventListener("pointerdown",this.onPointerDown)}addCylinderObstacle(e,t,i){return Ht.x=e.x,Ht.y=e.y,Ht.z=e.z,this.navMesh.addCylinderObstacle(Ht,t,i)}addBoxObstacle(e,t,i){return Ht.x=e.x,Ht.y=e.y,Ht.z=e.z,Vn.x=t.x,Vn.y=t.y,Vn.z=t.z,this.navMesh.addBoxObstacle(Ht,Vn,i)}removeObstacle(e){this.navMesh.removeObstacle(e)}isSupported(){return this.navmeshWasm!==void 0}},jle=class{constructor(e,t,i){this.navmeshWasmWrapper=e,this.transforms=[],this.agents=new Array,this.reachRadii=new Array,this._agentDestinationArmed=new Array,this._agentDestination=new Array,this.crowd=new this.navmeshWasmWrapper.navmeshWasm.Crowd(t,i,this.navmeshWasmWrapper.navMesh.getNavMesh())}onReachTarget(e,t){}addAgent(e,t,i){let n=new this.navmeshWasmWrapper.navmeshWasm.dtCrowdAgentParams;n.radius=t.radius,n.height=t.height,n.maxAcceleration=t.maxAcceleration,n.maxSpeed=t.maxSpeed,n.collisionQueryRange=t.collisionQueryRange,n.pathOptimizationRange=t.pathOptimizationRange,n.separationWeight=t.separationWeight,n.updateFlags=7,n.obstacleAvoidanceType=0,n.queryFilterType=0,n.userData=0;let r=this.crowd.addAgent(new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z),n);return this.transforms.push(i),this.agents.push(r),this.reachRadii.push(t.reachRadius?t.reachRadius:t.radius),this._agentDestinationArmed.push(!1),this._agentDestination.push(new E(0,0,0)),r}getAgentPosition(e){return this.crowd.getAgentPosition(e)}getAgentPositionToRef(e,t){let i=this.crowd.getAgentPosition(e);t.set(i.x,i.y,i.z)}getAgentVelocity(e){return this.crowd.getAgentVelocity(e)}getAgentVelocityToRef(e,t){let i=this.crowd.getAgentVelocity(e);t.set(i.x,i.y,i.z)}getAgentNextTargetPath(e){return this.crowd.getAgentNextTargetPath(e)}getAgentNextTargetPathToRef(e,t){let i=this.crowd.getAgentNextTargetPath(e);t.set(i.x,i.y,i.z)}getAgentState(e){return this.crowd.getAgentState(e)}overOffmeshConnection(e){return this.crowd.overOffmeshConnection(e)}agentGoto(e,t){this.crowd.agentGoto(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z));let i=this.agents.indexOf(e);i>-1&&(this._agentDestinationArmed[i]=!0,this._agentDestination[i].set(t.x,t.y,t.z))}agentTeleport(e,t){this.crowd.agentTeleport(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z))}updateAgentParameters(e,t){let i=this.crowd.getAgentParameters(e);t.radius!==void 0&&(i.radius=t.radius),t.height!==void 0&&(i.height=t.height),t.maxAcceleration!==void 0&&(i.maxAcceleration=t.maxAcceleration),t.maxSpeed!==void 0&&(i.maxSpeed=t.maxSpeed),t.collisionQueryRange!==void 0&&(i.collisionQueryRange=t.collisionQueryRange),t.pathOptimizationRange!==void 0&&(i.pathOptimizationRange=t.pathOptimizationRange),t.separationWeight!==void 0&&(i.separationWeight=t.separationWeight),this.crowd.setAgentParameters(e,i)}removeAgent(e){this.crowd.removeAgent(e);let t=this.agents.indexOf(e);t>-1&&(this.agents.splice(t,1),this.transforms.splice(t,1),this.reachRadii.splice(t,1),this._agentDestinationArmed.splice(t,1),this._agentDestination.splice(t,1))}getAgents(){return this.agents}update(e){if(this.navmeshWasmWrapper.navMesh.update(),e<=d5)return;let t=1/60,i=10;if(t<=d5)this.crowd.update(e);else{let n=Math.floor(e/t);i&&n>i&&(n=i),n<1&&(n=1);let r=e/n;for(let a=0;a<n;a++)this.crowd.update(r)}for(let n=0;n<this.agents.length;n++){let r=this.agents[n],a=this.getAgentPosition(r);if(this.transforms[n].copy(a),this._agentDestinationArmed[n]){let s=a.x-this._agentDestination[n].x,o=a.z-this._agentDestination[n].z,l=this.reachRadii[n],d=this._agentDestination[n].y-this.reachRadii[n],u=this._agentDestination[n].y+this.reachRadii[n],c=s*s+o*o;a.y>d&&a.y<u&&c<l*l&&(this.onReachTarget(r,this._agentDestination[n]),this._agentDestinationArmed[n]=!1)}}}setDefaultQueryExtent(e){let t=new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z);this.crowd.setDefaultQueryExtent(t)}getDefaultQueryExtent(){return this.crowd.getDefaultQueryExtent()}getDefaultQueryExtentToRef(e){let t=this.crowd.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}getCorners(e){let t,i=this.crowd.getCorners(e),n=i.getPointCount(),r=[];for(t=0;t<n;t++){let a=i.getPoint(t);r.push(new E(a.x,a.y,a.z))}return r}dispose(){this.crowd.destroy()}};function Rle(e){let t=!1;return e.scene.objects.forEach(i=>{i.data.type==="Page"&&!t&&i.data.publish.gameControlObject&&Nf.traverseModuleInstances(e,i.id,(n,r,a)=>{for(let s of a)s.data.type==="GameControl"&&s.data.navmesh.enabled&&(t=!0)})}),t}var zle={type:"change"},u5={type:"changeZoom"},Ble={type:"changePan"},Eu={type:"start"},Tu={type:"end",changed:!0},Lle={type:"end",changed:!1},vw=new Ct,f5=new Y,Fle=2*Math.PI,Nle=1e-8,Ule=.01,yw=new E,nv=new Y,bw=new E,rv=new Ct,h5=new Ee,Vle={type:"requestRender"},p5=class extends Nn{constructor(e,t,i={isPlayMode:!1,isExport:!1}){super(),this.object=e,this.domElement=t,this.options=i,this.enabled=!0,this.useKeyEvents=!0,this.enableDamping=!1,this.enableZoom=!0,this.enableRotate=!0,this.enablePan=!0,this.autoRotate=!1,this.rotationLimitsMode=0,this.panLimitsMode=0,this.rotationSoftLimit=2,this.panSoftLimit=2,this.hoverRotatePanMode=0,this.zoomLimitsEnabled=!1,this.mouseButtons=[0,5],this.mouseButtonsPlay=[3,4,5],this.touches=[null,la.DOLLY_ROTATE,la.PAN],this.offset=new E,this.eye=new E,this.lastPosition=new E,this.lastQuaternion=new Ct,this.current=new Y,this.overShoot=new Y,this.overRatio=new Y,this.spherical=new wM,this.sphericalDelta=new wM,this.panOffset=new E,this.panLeftV=new E,this.panUpV=new E,this.panV=new E,this.rotateStart=new Y,this.rotateEnd=new Y,this.rotateDelta=new Y,this.panStart=new Y,this.panEnd=new Y,this.panDelta=new Y,this.dollyStart=new Y,this.dollyEnd=new Y,this.dollyDelta=new Y,this.rotationRangeFactor=new Y,this.panRangeFactor=new Y,this.state=-1,this.zoomChanged=!1,this.isPointerDown=!1,this.isThetaFlipped=!1,this.prevScale=0,this.scale=1,this.gesture=!1,this.timer=-1,this.timerHover=-1,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPhi=0,this.maxPhi=Math.PI,this.minTheta=-1/0,this.maxTheta=1/0,this.minH=0,this.maxH=Math.PI,this.minV=-1/0,this.maxV=1/0,this.autoRotateClockwise=!0,this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.resetHoverEffectOnPointerLeave=!1,this.hasChange=!1,this.useWindowEvents=!1,this.isTouchZoom=!0,this.autoRotateSpeed=2,this.dampingFactor=.125,this.zoomSpeed=2,this.rotateSpeed=1,this.panSpeed=1,this.hoverRotatePanStrength=.1,this.hoverRotateDamping=this.dampingFactor,this.thetaIsFree=!1,this.phiIsFree=!1,this.needsUpdate=!0,this.onCameraChange=n=>{this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange),this.object=n.camera,this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)},this.update=()=>{this.object.updateWorldMatrix(!0,!1),this.object.matrixWorld.decompose(bw,rv,yw),this.offset.copy(bw).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.autoRotate&&this.state===-1&&this.rotateLeft((this.autoRotateClockwise===!0?1:-1)*this.getAutoRotationAngle()),this.rotationLimitsMode!==0&&this.applyLimits(this.sphericalDelta,this.rotationLimitsMode,this.rotationSoftLimit,this.maxTheta,this.minTheta,this.maxPhi,this.minPhi,this.rotationRangeFactor),this.rotationLimitsMode!==2&&(this.spherical.phi+=this.sphericalDelta.phi),(this.rotationLimitsMode!==1||this.autoRotate===!0)&&(this.spherical.theta+=this.sphericalDelta.theta),this.spherical.radius*=this.scale,this.zoomLimitsEnabled&&(this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius))),this.panLimitsMode!==0&&(this.target.applyQuaternion(vw.copy(rv).invert()),this.panOffset.applyQuaternion(vw),this.applyLimits(this.panOffset,this.panLimitsMode,this.panSoftLimit,this.maxH,this.minH,this.maxV,this.minV,this.panRangeFactor),this.target.applyQuaternion(rv),this.panOffset.applyQuaternion(rv)),this.panLimitsMode===2&&(this.panOffset.y=0),this.panLimitsMode===1&&(this.panOffset.x=0),this.state===-1&&!this.gesture?(this.panOffset.multiplyScalar(1-this.dampingFactor),this.target.add(this.panOffset)):(this.target.add(this.panOffset),this.panOffset.set(0,0,0)),this.offset.setFromSpherical(this.spherical),bw.copy(this.target).add(this.offset),this.object.position.copy(this.target).add(this.offset),this.object.parent&&(h5.copy(this.object.parent.matrixWorld).invert(),this.object.position.applyMatrix4(h5));let n=this.spherical.phi%Fle;if(this.eye.copy(this.offset).normalize(),this.object.up.copy(mi.DEFAULT_UP).applyAxisAngle(this.eye,this.object.angleOffsetFromUp),n>0&&n>Math.PI||n<0&&n>-Math.PI?(this.object.up.negate(),this.object.lookAt(this.target),this.object.isUpVectorFlipped=!0):(this.object.lookAt(this.target),this.object.isUpVectorFlipped=!1),this.state===-1||this.enableDamping===!0){let r=this.hoverRotatePanMode===1?this.hoverRotateDamping:this.dampingFactor;this.sphericalDelta.theta*=1-r,this.sphericalDelta.phi*=1-r}else this.sphericalDelta.set(0,0,0);return this.scale=1,this.zoomChanged||this.lastPosition.distanceToSquared(this.object.position)>Ule||8*(1-this.lastQuaternion.dot(this.object.quaternion))>Nle?(this.dispatchEvent(zle),this.object.dispatchEvent(Vle),this.lastPosition.copy(this.object.position),this.lastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0):(this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.object.wasMovedBySwitchCameraAction=!1,this.sphericalDelta.set(0,0,0),this.panOffset.set(0,0,0),!1)},this.onPointerDown=n=>{this.enabled!==!1&&(n.pointerType==="touch"||n.pointerType==="pen"&&$r?this.onPointerDownTouch(n):this.onPointerDownMouse(n),this.state!==-1&&(this.isPointerDown=!0,this.dispatchEvent(Eu),this.domElement.addEventListener("pointermove",this.onPointerMove),this.domElement.addEventListener("pointerup",this.onPointerUp),n.stopPropagation(),n.pointerType==="touch"||n.pointerType==="pen"&&$r||this.domElement.setPointerCapture(n.pointerId)))},this.onPointerLeave=n=>{this.resetHoverEffectOnPointerLeave&&!this.useWindowEvents?(this.hoverRotatePanMode===1?(this.sphericalDelta.theta=-this.spherical.theta,this.sphericalDelta.phi=-this.spherical.phi,yw.subVectors(this.position0,this.target0),this.spherical.setFromVector3(yw),this.sphericalDelta.theta+=this.spherical.theta,this.sphericalDelta.phi+=this.spherical.phi,this.sphericalDelta.theta/=8,this.sphericalDelta.phi/=8):this.hoverRotatePanMode===2&&this.panOffset.subVectors(this.target0,this.target).divideScalar(8),this.update()):this.pointerLeaveEvent=n},this.onPointerEnter=n=>{this.resetHoverEffectOnPointerLeave||this.pointerLeaveEvent===void 0?nv.set(n.clientX-this.domElement.clientWidth/2,n.clientY-this.domElement.clientHeight/2):nv.set(n.clientX-this.pointerLeaveEvent.clientX,n.clientY-this.pointerLeaveEvent.clientY),this.hoverRotatePanMode===1?(this.rotateDelta.copy(nv).multiplyScalar(this.rotateSpeed*this.hoverRotatePanStrength).rotateAround(f5,-this.object.angleOffsetFromUp),this.rotateLeft(2*Math.PI*this.rotateDelta.x/this.domElement.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/this.domElement.clientHeight),this.rotateStart.set(n.clientX,n.clientY)):this.hoverRotatePanMode===2&&(this.panDelta.copy(nv).multiplyScalar(this.panSpeed*this.hoverRotatePanStrength),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.set(n.clientX,n.clientY)),this.update()},this.onPointerMove=n=>{this.enabled!==!1&&(this.checkRaycastLock()||(n.pointerType==="touch"||n.pointerType==="pen"&&$r?this.onPointerMoveTouch(n):this.onPointerMoveMouse(n),n.stopPropagation()))},this.onPointerUp=n=>{this.isPointerDown=!1,wt.length===0&&(this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)),wt.length>1&&n.preventDefault(),this.hasChange?this.dispatchEvent(Tu):this.dispatchEvent(Lle),this.state=-1,n&&(n.stopPropagation(),n.pointerType==="touch"||n.pointerType==="pen"&&$r||this.domElement.releasePointerCapture(n.pointerId))},this.onPointerDownMouse=n=>{let r;switch(this.useKeyEvents?r=this.mouseButtons[n.button]:r=this.mouseButtonsPlay[n.button],r){case 0:if(n.altKey===!0&&!n.shiftKey&&!xm(n)){if(this.enableRotate===!1)return;this.handleMouseDownRotate(n),this.state=0}else if(this.key===" "){if(this.enablePan===!1)return;this.handleMouseDownPan(n),this.state=2}break;case 4:if(this.enablePan===!1)return;this.handleMouseDownPan(n),this.state=2;break;case 3:if(xm(n)||n.shiftKey){if(this.enablePan===!1)return;this.handleMouseDownPan(n),this.state=2}else{if(this.enableRotate===!1)return;this.handleMouseDownRotate(n),this.state=0}break;case 5:if(xm(n)||n.shiftKey){if(this.enableRotate===!1)return;this.handleMouseDownRotate(n),this.state=0}else{if(this.enablePan===!1)return;this.handleMouseDownPan(n),this.state=2}break;default:this.state=-1}},this.onPointerMoveMouse=n=>{switch(this.state){case 0:if(this.enableRotate===!1)return;this.handleMouseMoveRotate(n);break;case 1:if(this.enableZoom===!1)return;this.handleMouseMoveDolly(n);break;case 2:if(this.enablePan===!1)return;this.handleMouseMovePan(n);break}this.object.wasMovedByUser=!0},this.onPointerDownTouch=n=>{switch(wt.length>1&&n.preventDefault(),this.touches[wt.length-1]){case la.ROTATE:if(this.enableRotate===!1){this.state=-1;return}this.handleTouchStartRotate(),this.state=3;break;case la.PAN:if(this.enablePan===!1){this.state=-1;return}this.handleTouchStartPan(),this.state=4;break;case la.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this.handleTouchStartDollyPan(),this.state=5;break;case la.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this.handleTouchStartDollyRotate(),this.state=6;break;default:this.state=-1}},this.onPointerMoveTouch=n=>{switch(wt.length>1&&n.preventDefault(),this.state){case 3:if(this.enableRotate===!1)return;this.handleTouchMoveRotate(n),this.update();break;case 4:if(this.enablePan===!1)return;this.handleTouchMovePan(n),this.update();break;case 5:if(this.enableZoom===!1&&this.enablePan===!1)return;this.handleTouchMoveDollyPan(n),this.update();break;case 6:if(this.enableZoom===!1&&this.enableRotate===!1)return;this.handleTouchMoveDollyRotate(n),this.update();break;default:this.state=-1}this.object.wasMovedByUser=!0},this.dispatchEndDebounced=q1(()=>this.dispatchEvent(Tu),33),this.onMouseWheel=n=>{this.enabled===!1||this.enableZoom===!1&&this.enablePan===!1||this.checkRaycastLock()||(!this.options.isExport&&this.domElement.clientHeight===document.body.clientHeight&&this.domElement.clientWidth===document.body.clientWidth&&n.preventDefault(),this.dispatchEvent(Eu),this.handleMouseWheel(n),this.dispatchEndDebounced(),this.object.wasMovedByUser=!0)},this.onGesture=n=>{if(n.preventDefault(),this.enabled!==!1&&!this.checkRaycastLock()&&!Y1)if(n.type==="gesturechange"){if(this.enableZoom===!1||this.isTouchZoom===!1)return;this.dispatchEvent(Eu),n.scale>this.prevScale?this.dollyIn(this.getZoomScale()):n.scale<this.prevScale&&this.dollyOut(this.getZoomScale()),this.prevScale=n.scale,this.update(),this.object.wasMovedByUser=!0}else this.dispatchEvent(Tu)},this.onContextMenu=n=>{n.preventDefault()},this.onTouchEnd=n=>{n.preventDefault()},this.onKeyDown=n=>{this.enabled!==!1&&(this.key=n.key,n.key===" "&&this.dispatchEvent(Eu))},this.onKeyUp=n=>{this.enabled!==!1&&(this.key=void 0,this.state!==-1&&n.key==="Alt"&&this.onPointerUp(wt[0]),n.key===" "&&this.dispatchEvent(Tu))},this.onPointerHover=n=>{n.pointerType!=="mouse"||this.enabled===!1||this.state!==-1||this.hoverRotatePanMode===2&&this.isPanOverShoot||this.hoverRotatePanMode===1&&this.isRotateOverShoot||(this.isPointerDown=!0,this.hoverRotatePanMode===2?this.handleMouseMovePan(n,this.hoverRotatePanStrength):this.hoverRotatePanMode===1&&this.handleMouseMoveRotate(n,this.hoverRotatePanStrength))},this.onBeginState=()=>{this.enabled=!1,this.needsUpdate=!1},this.onCompleteState=n=>{n.isfromEntity&&this.options.isPlayMode||(this.enabled=!0,this.needsUpdate=!0,this.object.updateUp(),this.object.getTarget(this.target))},this.target=this.object.getTarget(),this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.quat0=this.object.quaternion.clone(),this.isUpVectorFlipped0=this.object.isUpVectorFlipped,this.offset.copy(this.object.position).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.addEventListenersToCamera()}dispatchEvent(e){e.type==="start"?this.hasChange=!1:this.hasChange=!0,super.dispatchEvent(e)}addEventListenersToCamera(){this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)}removeEventListenersFromCamera(){this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange)}updateUseWindowEvents(e){if(window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("pointermove",this.onPointerHover),this.useWindowEvents=e,this.hoverRotatePanMode!==0&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover)),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),this.hoverRotatePanMode!==0&&!this.useWindowEvents){let t=this.useWindowEvents?window:this.domElement;t.addEventListener("pointerleave",this.onPointerLeave),t.addEventListener("pointerenter",this.onPointerEnter)}}fromJSON(e,t){var r,a;this.setEnableDampingSpeed(e.enableDamping),this.enablePan=e.enablePan,this.enableZoom=e.enableZoom,this.enableRotate=e.enableRotate,this.rotationLimitsMode=e.rotationLimitsMode,this.thetaIsFree=e.rotationHorizontalOffset.min===e.rotationHorizontalOffset.max&&e.rotationHorizontalOffset.min===Math.PI,this.phiIsFree=e.rotationVerticalOffset.min===e.rotationVerticalOffset.max&&e.rotationVerticalOffset.min===Math.PI,this.panLimitsMode=e.panLimitsMode,this.panSoftLimit=e.panSoftLimit,this.rotationSoftLimit=e.rotationSoftLimit,this.hoverRotatePanMode=e.hoverRotatePanMode,this.hoverRotateDamping=(r=e.hoverRotateDamping)!=null?r:this.dampingFactor,this.useWindowEvents=t==="window",this.hoverRotatePanMode!==0&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover));let i=e.hoverRotatePanStrength/100;this.hoverRotatePanStrength=Si(i,2),this.zoomLimitsEnabled=e.zoomLimitsEnabled,this.minZoom=e.zoomLimits.min,this.maxZoom=Math.max(e.zoomLimits.min,e.zoomLimits.max),this.minDistance=1e3/e.zoomLimits.max,this.maxDistance=Math.max(this.minDistance,1e3/e.zoomLimits.min),this.autoRotate=e.autoRotate,this.autoRotateSpeed=e.autoRotateSpeed,this.autoRotateClockwise=e.autoRotateClockwise;let n=this.object.getTarget().applyQuaternion(vw.copy(this.object.quaternion).invert());this.minV=-e.panVerticalOffset.min+n.y,this.maxV=e.panVerticalOffset.max+n.y,this.minH=-e.panHorizontalOffset.min+n.x,this.maxH=e.panHorizontalOffset.max+n.x,this.panRangeFactor.set(this.maxH-this.minH,this.maxV-this.minV).divideScalar(2),this.rotationRangeFactor.setScalar(Math.PI).divideScalar(4),this.minPhi=Bs(this.spherical.phi-e.rotationVerticalOffset.min),this.maxPhi=Bs(this.spherical.phi+e.rotationVerticalOffset.max),this.minTheta=Bs(Bs(this.spherical.theta)-e.rotationHorizontalOffset.min),this.maxTheta=Bs(Bs(this.spherical.theta)+e.rotationHorizontalOffset.max),this.isThetaFlipped=this.minTheta>this.maxTheta,e.orbitTouches===1&&(this.touches[0]=la.ROTATE),e.panTouches===1&&(this.touches[0]=la.PAN),e.orbitTouches===2&&(this.touches[1]=la.DOLLY_ROTATE),e.panTouches===2&&(this.touches[1]=la.DOLLY_PAN),e.orbitTouches===3&&(this.touches[2]=la.ROTATE),e.panTouches===3&&(this.touches[2]=la.PAN),this.isTouchZoom=e.isTouchZoom,this.resetHoverEffectOnPointerLeave=(a=e.resetHoverEffectOnPointerLeave)!=null?a:!1}connect(){if(this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("wheel",this.onMouseWheel),window.addEventListener("keydown",this.onKeyDown,!1),window.addEventListener("keyup",this.onKeyUp,!1),this.domElement.addEventListener("gesturestart",this.onGesture),this.domElement.addEventListener("gesturechange",this.onGesture),this.domElement.addEventListener("gestureend",this.onGesture),this.domElement.addEventListener("touchend",this.onTouchEnd),this.hoverRotatePanMode!==0&&!this.useWindowEvents){let e=this.useWindowEvents?window:this.domElement;e.addEventListener("pointerleave",this.onPointerLeave),e.addEventListener("pointerenter",this.onPointerEnter)}this.pointerLeaveEvent=void 0}dispose(){this.removeEventListenersFromCamera(),this.domElement.removeEventListener("contextmenu",this.onContextMenu),this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("wheel",this.onMouseWheel),window.removeEventListener("keydown",this.onKeyDown,!1),window.removeEventListener("keyup",this.onKeyUp,!1),this.domElement.removeEventListener("pointermove",this.onPointerHover),window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("gesturestart",this.onGesture),this.domElement.removeEventListener("gesturechange",this.onGesture),this.domElement.removeEventListener("gestureend",this.onGesture),this.domElement.removeEventListener("touchend",this.onTouchEnd),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)}applyLimits(e,t,i,n,r,a,s,o){this.overShoot.set(0,0);let l,d,u;e instanceof E?(l=e.x,d=e.y,this.current.set(this.target.x,this.target.y),u=!0):(l=e.theta,d=e.phi,this.current.set(Bs(this.spherical.theta),Bs(this.spherical.phi)),u=!1),i===0&&(this.current.x+=l,this.current.y+=d),(t===3||t===2)&&(!u&&this.isThetaFlipped?this.current.x>n&&this.current.x<0?this.overShoot.x=n-this.current.x:this.current.x<r&&this.current.x>0&&(this.overShoot.x=r-this.current.x):this.current.x>n?this.overShoot.x=n-this.current.x:this.current.x<r&&(this.overShoot.x=r-this.current.x)),(t===3||t===1)&&(this.current.y>a?this.overShoot.y=a-this.current.y:this.current.y<s&&(this.overShoot.y=s-this.current.y)),u||(this.overShoot.x=Bs(this.overShoot.x),this.overShoot.y=Bs(this.overShoot.y)),i!==0?(this.overRatio.copy(this.overShoot).divide(o),this.overRatio.x=Math.min(Math.abs(this.overRatio.x),1),this.overRatio.y=Math.min(Math.abs(this.overRatio.y),1),i===1&&(this.overRatio.x=m5(Math.abs(this.overRatio.x)),this.overRatio.y=m5(Math.abs(this.overRatio.y))),this.isPointerDown||i===1?i===2&&(this.overRatio.x>.9&&!this.thetaIsFree||this.overRatio.y>.9&&!this.phiIsFree)?this.isPointerDown=!1:(l*this.overShoot.x<0&&!this.thetaIsFree&&(l*=1-this.overRatio.x),d*this.overShoot.y<0&&!this.phiIsFree&&(d*=1-this.overRatio.y)):i===2&&(!u&&(this.overRatio.x>.002&&!this.thetaIsFree||this.overRatio.y>.002&&!this.phiIsFree)||u&&(Math.abs(this.overShoot.x)>2||Math.abs(this.overShoot.y)>2)?(this.thetaIsFree||(l=this.overShoot.x*.05),this.phiIsFree||(d=this.overShoot.y*.05),u?this.isPanOverShoot=!0:this.isRotateOverShoot=!0):u?this.isPanOverShoot=!1:this.isRotateOverShoot=!1)):(l+=this.overShoot.x,d+=this.overShoot.y),e instanceof E?(e.x=l,e.y=d):(this.thetaIsFree||(e.theta=l),this.phiIsFree||(e.phi=d))}setEnableDampingSpeed(e){this.enableDamping=e,this.rotateSpeed=e===!0?.2:1}stopDamping(){this.sphericalDelta.theta=0,this.sphericalDelta.phi=0}getAutoRotationAngle(){return 2*Math.PI/60/60*this.autoRotateSpeed}getZoomScale(){return Math.pow(.95,this.zoomSpeed)}rotateLeft(e){this.sphericalDelta.theta-=e}rotateUp(e){this.sphericalDelta.phi-=e}panLeft(e,t){this.panLeftV.setFromMatrixColumn(t,0),this.panLeftV.multiplyScalar(-e),this.panOffset.add(this.panLeftV)}panUp(e,t){this.panUpV.setFromMatrixColumn(t,1),this.panUpV.multiplyScalar(e),this.panOffset.add(this.panUpV)}pan(e,t){let i=this.domElement;if(i&&this.object.isPerspectiveCamera){let n=this.object.position;this.panV.copy(n).sub(this.target);let r=this.panV.length();r*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*e*r/i.clientHeight,this.object.matrixWorld),this.panUp(2*t*r/i.clientHeight,this.object.matrixWorld)}else i&&this.object.isOrthographicCamera&&(this.panLeft(e*(this.object.right-this.object.left)/this.object.zoom/i.clientWidth,this.object.matrixWorld),this.panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/i.clientHeight,this.object.matrixWorld));this.dispatchEvent(Ble)}dollyOut(e){this.object.isPerspectiveCamera?this.scale/=e:this.object.isOrthographicCamera&&(this.object.zoom*=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(u5)}dollyIn(e){this.object.isPerspectiveCamera?this.scale*=e:this.object.isOrthographicCamera&&(this.object.zoom/=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(u5)}zoomOut(e=this.getZoomScale()){this.dispatchEvent(Eu),this.dollyOut(e),this.dispatchEvent(Tu)}zoomIn(e=this.getZoomScale()){this.dispatchEvent(Eu),this.dollyIn(e),this.dispatchEvent(Tu)}handleMouseDownRotate(e){this.rotateStart.set(e.clientX,e.clientY)}handleMouseDownDolly(e){this.dollyStart.set(e.clientX,e.clientY)}handleMouseDownPan(e){this.panStart.set(e.clientX,e.clientY)}handleMouseMoveRotate(e,t=1){e.movementX!==void 0?this.rotateDelta.set(e.movementX,e.movementY):(this.rotateEnd.set(e.clientX,e.clientY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd)),this.rotateDelta.multiplyScalar(this.rotateSpeed*t).rotateAround(f5,-this.object.angleOffsetFromUp);let i=this.domElement,n=this.useWindowEvents?window.innerHeight:i.clientHeight,r=2*Math.PI*this.rotateDelta.x/n,a=2*Math.PI*this.rotateDelta.y/n;this.rotateLeft(r),this.rotateUp(a),this.update()}handleMouseMoveDolly(e){this.dollyEnd.set(e.clientX,e.clientY),this.dollyDelta.subVectors(this.dollyEnd,this.dollyStart),this.dollyDelta.y>0?this.dollyOut(this.getZoomScale()):this.dollyDelta.y<0&&this.dollyIn(this.getZoomScale()),this.dollyStart.copy(this.dollyEnd),this.update()}handleMouseMovePan(e,t=1){e.movementX!==void 0?this.panDelta.set(e.movementX,e.movementY):(this.panEnd.set(e.clientX,e.clientY),this.panDelta.subVectors(this.panEnd,this.panStart),this.panStart.copy(this.panEnd)),this.panDelta.multiplyScalar(this.panSpeed*t),this.pan(this.panDelta.x,this.panDelta.y),this.update()}handleMouseWheel(e){if(MQ===!1&&xm(e)===!1&&Hle(e)===!0){if(this.enablePan===!1)return;this.gesture?(this.panDelta.set(-e.deltaX,-e.deltaY).multiplyScalar(this.panSpeed),this.panDelta.x=Math.min(Math.abs(this.panDelta.x),100)*(this.panDelta.x<0?-1:1),this.panDelta.y=Math.min(Math.abs(this.panDelta.y),100)*(this.panDelta.y<0?-1:1),e.altKey?this.pan(0,this.panDelta.y):e.shiftKey?this.pan(this.panDelta.x,0):this.pan(this.panDelta.x,this.panDelta.y),this.update()):(this.gesture=!0,this.isPointerDown=!0),window.clearTimeout(this.timer),this.timer=window.setTimeout(()=>{this.gesture=!1,this.isPointerDown=!1},30)}else{if(this.enableZoom===!1)return;e.deltaY===0?e.deltaX<0?this.dollyIn(this.getZoomScale()):e.deltaX>0&&this.dollyOut(this.getZoomScale()):e.deltaY<0?this.dollyIn(this.getZoomScale()):e.deltaY>0&&this.dollyOut(this.getZoomScale()),this.update(),this.gesture=!1,this.isPointerDown=!1}}handleTouchStartRotate(){if(wt.length===2){let e=.5*(wt[0].pageX+wt[1].pageX),t=.5*(wt[0].pageY+wt[1].pageY);this.rotateStart.set(e,t)}else this.rotateStart.set(wt[0].pageX,wt[0].pageY)}handleTouchStartPan(){if(wt.length===2){let e=.5*(wt[0].pageX+wt[1].pageX),t=.5*(wt[0].pageY+wt[1].pageY);this.panStart.set(e,t)}else this.panStart.set(wt[0].pageX,wt[0].pageY)}handleTouchStartDolly(){let e=wt[0].pageX-wt[1].pageX,t=wt[0].pageY-wt[1].pageY,i=Math.sqrt(e*e+t*t);this.dollyStart.set(0,i)}handleTouchStartDollyPan(){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchStartDolly(),this.enablePan&&this.handleTouchStartPan()}handleTouchStartDollyRotate(){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchStartDolly(),this.enableRotate&&this.handleTouchStartRotate()}handleTouchMoveRotate(e){if(wt.length===2){let i=X1(e),n=.5*(e.pageX+i.x),r=.5*(e.pageY+i.y);this.rotateEnd.set(n,r)}else{if(e.pointerId!==wt[0].pointerId)return;this.rotateEnd.set(e.pageX,e.pageY)}this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart).multiplyScalar(this.rotateSpeed);let t=this.domElement;t&&(this.rotateLeft(2*Math.PI*this.rotateDelta.x/t.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/t.clientHeight)),this.rotateStart.copy(this.rotateEnd)}handleTouchMovePan(e){if(wt.length===2){let t=X1(e),i=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);this.panEnd.set(i,n)}else{if(e.pointerId!==wt[0].pointerId)return;this.panEnd.set(e.pageX,e.pageY)}this.panDelta.subVectors(this.panEnd,this.panStart).multiplyScalar(this.panSpeed),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.copy(this.panEnd)}handleTouchMoveDolly(e){let t=X1(e),i=e.pageX-t.x,n=e.pageY-t.y,r=Math.sqrt(i*i+n*n);this.dollyEnd.set(0,r),this.dollyDelta.set(0,Math.pow(this.dollyEnd.y/this.dollyStart.y,this.zoomSpeed)),this.dollyOut(this.dollyDelta.y),this.dollyStart.copy(this.dollyEnd)}handleTouchMoveDollyPan(e){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchMoveDolly(e),this.enablePan&&this.handleTouchMovePan(e)}handleTouchMoveDollyRotate(e){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchMoveDolly(e),this.enableRotate&&this.handleTouchMoveRotate(e)}checkRaycastLock(){var e;if(this.object.data.raycastLock){if(this.options.isPlayMode)return!1;{let t=(e=this.options)==null?void 0:e.showCameraLock;return t&&t(),!0}}else return!1}};function Bs(e){let t=Math.PI*2;for(;e<=-Math.PI;)e+=t;for(;e>Math.PI;)e-=t;return e}function m5(e){return 1-Math.pow(1-e,4)}function Hle(e){return e.wheelDeltaY===0||e.deltaY===0?wm&&e.shiftKey&&Math.abs(e.wheelDeltaX)>=120?!1:e.wheelDeltaX?e.wheelDeltaX===-3*e.deltaX||e.wheelDeltaX===-3*window.devicePixelRatio*e.deltaX:e.deltaMode===0:e.wheelDeltaY?e.wheelDeltaY===-3*e.deltaY||e.wheelDeltaY===-3*window.devicePixelRatio*e.deltaY:e.deltaMode===0}var g5=class{constructor(e,t,i,n,r,a){this.id=e,this.data=t,this.object=i,this.page=n,this.currentIntersectedObjects=[],this.disabled=!1,this.alreadyPlayedNonTogglingActions=new Set,this.actions=Sr(t,t.actions,n,r,a,i),this.target=t.target,this.useToggle=t.runMode==="Toggle",this.triggeringObjects=t.triggeringObjects.map(s=>n.scene.find(s))}isValidTriggeringObject(e){return this.target==="all"?!0:this.triggeringObjects.some(t=>t===e||t.isAncestorOf(e.uuid)||e.isAncestorOf(t.uuid))}disconnect(){jn(this.actions)}dispatch(){this.disabled||this.object.destroyedInAction||(this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this?(e.object.currentTransitionEvent=this,e.init()):this.data.runMode==="Once"&&this.alreadyPlayedNonTogglingActions.add(e)}),this.object.dispatchEvent({type:"beginEvent",eventName:"Trigger"}),this.useToggle?(this.actions.Transition.forEach(e=>{e.toggle()}),this.actions.SwitchCamera.forEach(e=>{e.toggle()})):(this.actions.Transition.forEach(e=>{this.alreadyPlayedNonTogglingActions.has(e)===!1&&e.play()}),this.actions.SwitchCamera.forEach(e=>{e.play()})),this.actions.Link.forEach(e=>{e.dispatch()}),this.actions.Reset.forEach(e=>{e.dispatch()}),this.actions.Create.forEach(e=>{e.dispatch()}),this.actions.Destroy.forEach(e=>{e.dispatch(!1)}),this.actions.Audio.forEach(e=>{e.dispatchBasic()}),this.actions.Video.forEach(e=>{e.dispatchBasic()}),this.actions.SceneTransition.forEach(e=>{e.dispatch()}),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()))}},Kt;OQ.then(e=>Kt=e);var hn=new E,Ka=new Ct,bl=new E,_w=new Dn(0,0,0,"YXZ"),v5=new Dn(0,0,0,"XYZ"),Qa=new E,ww=new E,xw=new E(1,1,1),Du=new Ct,av=new Ee,y5=new Ee,Gle={type:"updateMatrix"},b5=new Ct,kw=new Er,Sw={type:"beginEvent",eventName:"Collision"},Wle={type:"beginEvent",eventName:"Trigger"};function qle(e){if(Nf.physicsEnabled(e.scene.objects))return!0;let t=!1;return e.scene.objects.traverse((i,n)=>{if(n.events){if(Array.isArray(n.events)){for(let r of n.events)if(r.data.disabled!==!0&&r.data.type==="GameControl"&&r.data.collisionEnabled){t=!0;break}}else for(let r of Object.values(n.events))if(r.disabled!==!0&&r.type==="GameControl"&&r.collisionEnabled){t=!0;break}}}),t}var sv=e=>e.states.some(t=>t.data.position!==void 0||t.data.rotation!==void 0||t.data.hiddenMatrix!==void 0||t.data.cloner!==void 0||t.data.pathSnapping!==void 0),Zle=class{constructor(e){this.eventContext=e,this.isEnabled=!1,this.gameControl=null,this.joysticks=[],this.joystickToGameControls=[],this.sharedGameControlGlobals={entitiesWithTransformAnim:[],entityToCollisionEvents:{},colliderToEntity:new Map,triggers:[],gamePads:[],createdObjects:[],nCreatedPerAction:{}},this.sensorToTriggerEvent={},this.eventManager=void 0,this.needsCollisionDetection=!1,this.initializationCounter=-1,this.rigidBodyToMesh=new Map,this.nActiveRigidBodies=0,this.collisionEvents=[],this.isExport=!1,this.processRigidBody=t=>{if(t.bodyType()!==Kt.RigidBodyType.Dynamic)return;t.isSleeping()||this.nActiveRigidBodies++;let[i,n,r]=this.rigidBodyToMesh.get(t.handle);if(hn.copy(t.translation()).multiplyScalar(this.pixelsPerMeter),Ka.copy(t.rotation()),i.matrixWorld.compose(hn,Ka,n),i.hasNonUniformScale&&i.matrixWorld.multiply(i.shearScale),i.dispatchEvent(Gle),r){let a=i.cloner;if(a&&a.objectForSample===void 0){a.matrixWorld.copy(i.matrixWorld);for(let s of a.children)s.updateMatrixWorld(!0)}for(let s of i.children)s.updateMatrixWorld(!0)}},this.accumulator=0,this.handleCollisionEvents=(t,i,n)=>{var s,o,l,d;if(n===!1)return;let r,a;if(this.sensorToTriggerEvent[t]?(r=this.sensorToTriggerEvent[t],a=this.sharedGameControlGlobals.colliderToEntity.get(i)):this.sensorToTriggerEvent[i]&&(r=this.sensorToTriggerEvent[i],a=this.sharedGameControlGlobals.colliderToEntity.get(t)),r&&a&&r.isValidTriggeringObject(a)){r.dispatch();return}for(let u=this.sharedGameControlGlobals.createdObjects.length-1;u>=0;u--){let c=this.sharedGameControlGlobals.createdObjects[u];if(c.userData.hasCollisionDestroy&&(((s=c.rigidBody)==null?void 0:s.collider(0).handle)===t||((o=c.rigidBody)==null?void 0:o.collider(0).handle)===i)){this.sharedGameControlGlobals.createdObjects.splice(u,1),c.removeFromParent(),requestAnimationFrame(()=>{var f;return(f=this.sharedGameControlGlobals.rapierWorld)==null?void 0:f.removeRigidBody(c.rigidBody)});break}}if(((l=this.gameControl)==null?void 0:l.object)===this.sharedGameControlGlobals.colliderToEntity.get(t)){let u=this.sharedGameControlGlobals.colliderToEntity.get(i),c=this.sharedGameControlGlobals.entityToCollisionEvents[u.uuid];if(c===void 0)return;for(let f of c)f.data.target==="character"&&this.dispatchCollisionEvent(f,u,i)}else if(((d=this.gameControl)==null?void 0:d.object)===this.sharedGameControlGlobals.colliderToEntity.get(i)){let u=this.sharedGameControlGlobals.colliderToEntity.get(t),c=this.sharedGameControlGlobals.entityToCollisionEvents[u.uuid];if(c===void 0)return;for(let f of c)f.data.target==="character"&&this.dispatchCollisionEvent(f,u,t)}else{let u=this.sharedGameControlGlobals.colliderToEntity.get(t),c=this.sharedGameControlGlobals.entityToCollisionEvents[u.uuid];if(c!==void 0)for(let p of c)p.data.target==="scene"&&this.dispatchCollisionEvent(p,u,t);let f=this.sharedGameControlGlobals.colliderToEntity.get(i),h=this.sharedGameControlGlobals.entityToCollisionEvents[f==null?void 0:f.uuid];if(h!==void 0)for(let p of h)p.data.target==="scene"&&this.dispatchCollisionEvent(p,f,i)}},this.isExport=e.isExport,this.sharedAssets=e.sharedAssets,this.renderer=e.renderer,this.requestRender=e.requestRender,this.domElement=this.renderer.domElement,this.pixelsPerMeter=HP,this.gravity=this.page.data.globalPhysics.gravity}get page(){return this.eventContext.page}attachVRControllers(e){e.forEach(t=>{t.addEventListener("connected",i=>{"gamepad"in i.data&&"axes"in i.data.gamepad&&this.sharedGameControlGlobals.gamePads.push(i.data.gamepad)})})}markIsDestroyTarget(){this.page.traverseVisibleEntity(e=>{var i,n;let t=e.dataPatched;for(let r of t.events){if(r.data.disabled===!0)continue;let a=(n=(i=r.data.actions)==null?void 0:i.find(s=>s.data.type==="Destroy"))==null?void 0:n.data;if(a)for(let s of a.objects){let o=this.page.scene.find(s);o&&(o.userData.hasDestroy=!0)}}})}markIsDragObject(){this.page.traverseVisibleEntity(e=>{let t=e.dataPatched;for(let i of t.events)if(!(i.data.disabled===!0||i.data.type!=="DragDrop"))for(let n of i.data.objects){let r=this.page.scene.find(n);r&&(r.userData.hasDrag=!0)}})}initBVH(){let e=[];if(this.page.traverseChildren(t=>{var o,l;let i;if(t instanceof Va)return;t instanceof er?i=t.object:i=t;let n=i.dataPatched;if(((o=n.physics)==null?void 0:o.enabled)==="visibility"?!n.visible:!((l=n.physics)!=null&&l.enabled))return!0;let r=t.geometry,a=i.userData.hasDestroy===!0,s=i.userData.hasDrag===!0;if(sv(n)||a||s||i.dataPatched.events.some(d=>d.data.disabled!==!0&&d.data.type==="GameControl"))return t.updateMatrixWorldSVD(),this.addBoundsTree(t),!0;r&&e.push(ko(r,t.matrixWorld))}),e.length>0){let t=rd(e,!1);this.sharedGameControlGlobals.staticMeshBVH=new Xf(t)}}addRigidBody(e,t,i){let n=[],r="geometry"in e?e.geometry:void 0,a=t.dataPatched;if((r==null?void 0:r.getAttribute("position"))!==void 0&&n.push(ko(r,e.shearScale)),a.physics.fusedBody){let s=this.gatherChildrenGeom(e,n);e.traverseObject(s),e.children.forEach(l=>l.updateMatrixWorld(!0));let o=e.cloner;o&&o.objectForSample===void 0&&a.physics.rigidBody==="dynamic"&&(o.traverseObject(s),o.children.forEach(l=>l.updateMatrixWorld(!0)))}if(n.length>0){let s,o=!i.fromCreate&&a.physics.rigidBody==="dynamic"||i.fromCreate&&i.dynamic;o?(s=Kt.RigidBodyDesc.dynamic(),s.setLinearDamping(a.physics.damping).setAngularDamping(a.physics.damping).setAdditionalMass(1e-9).setGravityScale(a.physics.gravityScale).enabledRotations(...a.physics.enabledRotation).enabledTranslations(...a.physics.enabledTranslation)):(i.hasTransformAnim||i.hasFollow||i.hasDrag)&&!i.fromCreate?(s=Kt.RigidBodyDesc.kinematicPositionBased(),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e)):s=Kt.RigidBodyDesc.fixed();let l=rd(n);(e.hasNonUniformScale?e.matrixWorldRigid:e.matrixWorld).decompose(hn,Ka,bl),e.position0=hn.clone().divideScalar(this.pixelsPerMeter),e.rotation0=Ka.clone(),hn.divideScalar(this.pixelsPerMeter),s.setTranslation(hn.x,hn.y,hn.z).setRotation(Ka),r?l==null||l.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter):l==null||l.scale(bl.x/this.pixelsPerMeter,bl.y/this.pixelsPerMeter,bl.z/this.pixelsPerMeter);let d=this.sharedGameControlGlobals.rapierWorld.createRigidBody(s);o&&this.rigidBodyToMesh.set(d.handle,[e,bl.clone(),a.physics.fusedBody]);let u=!(a.geometry===void 0||a.geometry.type==="SubdivGeometry"||a.geometry.type==="NonParametricGeometry"||a.geometry.type==="BooleanGeometry"||a.geometry.type==="VectorGeometry"||a.geometry.type==="StarGeometry"||a.geometry.type==="RectangleGeometry"||a.geometry.type==="EllipseGeometry"||a.geometry.type==="TriangleGeometry"||a.geometry.type==="TorusGeometry"||a.geometry.type==="HelixGeometry");try{this.addCollider(d,a.physics,l,t,u)}catch(c){try{this.addCollider(d,a.physics,l,t,!1)}catch(f){console.error(f)}}e.rigidBody=d}}addBoundsTree(e){var i,n;let t=[];if(((i=e.geometry)==null?void 0:i.getAttribute("position"))!==void 0&&((n=e.geometry)==null?void 0:n.getAttribute("position").count)>0&&t.push(ko(e.geometry,e.shearScale)),e.traverseObject(this.gatherChildrenGeom(e,t)),e.children.forEach(r=>r.updateMatrixWorld(!0)),t.length>0){let r=rd(t,!1);e.bvhGeometry=r,e.bvhGeometry.boundsTree=new Xf(r),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e)}}addCollider(e,t,i,n,r=!0){var o,l;if((i==null?void 0:i.getAttribute("position").count)===0||((o=i==null?void 0:i.getIndex())==null?void 0:o.count)===0)return;let a;i&&(t.colliderType==="trimesh"?a=Kt.ColliderDesc.trimesh(i.getAttribute("position").array,i.getIndex().array):a=Kt.ColliderDesc.convexMesh(i.getAttribute("position").array,r?i.getIndex().array:void 0)),a.setFrictionCombineRule(Kt.CoefficientCombineRule.Average).setRestitutionCombineRule(Kt.CoefficientCombineRule.Average).setDensity(t.density).setFriction(t.friction).setRestitution(t.restitution);let s=this.sharedGameControlGlobals.rapierWorld.createCollider(a,e);this.sharedGameControlGlobals.colliderToEntity.set(s.handle,n),(l=this.sharedGameControlGlobals.entityToCollisionEvents[n.uuid])!=null&&l.some(d=>d.target==="scene")&&s.setActiveEvents(Kt.ActiveEvents.COLLISION_EVENTS)}gatherChildrenGeom(e,t){return(i,n)=>{var o;if(n===0)return;let r;if(i instanceof Va)if(i.objectForSample){if(i.objectForSample.dataPatched.physics.fusedBody)return;r=i.object}else return i.object.dataPatched.physics.fusedBody===!0&&i.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(i instanceof er)r=i.object;else if(r=i,(o=r.dataPatched.cloner)==null?void 0:o.hideBase)return!0;let a=r.dataPatched;if(a.physics.enabled==="visibility"?!a.visible:!a.physics.enabled)return!0;n===1?e.hasNonUniformScale?i.matrixWorld.multiplyMatrices(e.shearScale,i.hiddenMatrix):i.matrixWorld.copy(i.hiddenMatrix):i.matrixWorld.multiplyMatrices(i.parent.matrixWorld,i.hiddenMatrix),i.matrixWorld.multiply(i.matrix);let s=i.geometry;(s==null?void 0:s.getAttribute("position"))!==void 0&&t.push(ko(s,i.matrixWorld))}}activate(e){var f,h;if(this.isEnabled)return;this.isEnabled=!0,this.eventManager=e,this.usePhysics=this.page.data.globalPhysics.usePhysics;let t=this.page.playCamera,i=!1,n=5,r=8,a=9,s="drag",o=this.page.data.publish.gameControlObject,l=o!==null?this.page.find(o):null,d=null;if(l)for(let p of l.data.events){if(p.data.disabled||p.data.type!=="GameControl")break;let m=l;for(;this.usePhysics&&((f=m=m.parent)==null?void 0:f.parent)!==null&&!((h=m.data.physics)!=null&&h.fusedBody););p.data.collisionEnabled&&(this.needsCollisionDetection=!0),d===null&&(d=p.data)}if(this.page.traverseEntity(p=>{for(let m of p.dataPatched.events)if(m.data.disabled===!1&&m.data.type==="Trigger")return this.needsCollisionDetection=!0,!0}),l&&d){i=i||d.camera===t.uuid||l.uuid===t.uuid;let p=new KP(l,this.renderer.domElement,d,this.eventContext.page.data.globalPhysics,this,l.uuid!==t.uuid&&d.camera===t.uuid,t,this.page,this.sharedAssets);this.gameControl=p,n=d.joystickPosLoc,r=d.joystickRotLoc,a=d.jumpTouchButtonLoc,s=d.rotByTouch,$r&&d.touchControl&&(this.joystickToGameControls[n]="pos",d.moveMode==="walk"&&(this.joystickToGameControls[a]="jmp"),s==="joystick"&&(this.joystickToGameControls[r]="rot"))}if(this.gameControl&&this.gameControl.data.navmesh.enabled){let p=this.gameControl.data;if(!this.navigationMeshWrapper){this.navigationMeshWrapper=new Ole(this.usePhysics,this.isExport);let m;p.collider.type==="sphere"?m=p.collider.radius*2:m=p.collider.height,m=Math.floor(m/p.navmesh.ch-1),this.navigationMeshWrapper.init(Q(R({},p.navmesh),{walkableHeight:m}),this.gameControl,this.eventContext)}}if(i===!1){let{enableRotate:p,enablePan:m,enableZoom:g,autoRotate:v,hoverRotatePanMode:y}=this.eventManager.publish.orbitControls;(p||m||g||v||y!==0)&&(this.orbitControls=new p5(t,this.renderer.domElement,{isExport:this.isExport,isPlayMode:!0}),this.orbitControls.addEventListener("change",this.requestRender),this.orbitControls.addEventListener("end",this.requestRender),this.orbitControls.addEventListener("start",this.requestRender),this.orbitControls.fromJSON(this.eventManager.publish.orbitControls,this.eventManager.publish.mouseEventTarget),this.orbitControls.useKeyEvents=!1,this.orbitControls.addEventListenersToCamera(),this.orbitControls.connect(),this.orbitControls.update())}let u=this.renderer.domElement.width/this.renderer.getPixelRatio(),c=this.renderer.domElement.height/this.renderer.getPixelRatio();this.joystickToGameControls.forEach((p,m)=>{let g=document.body.appendChild(document.createElement("div")),[v,y,b]=this.eventManager.eventContext.publish.joystickSizeAndXYOffset[m],_=(u-5*v)/4+v,x={},k=p==="jmp",w=k?0:v;m<10?(m<5?x.top=w/2:x.bottom=w/2,x.left=w/2+m%5*_):m===10?(x.left=w/2,x.top=c/2):(x.right=w/2,x.top=c/2),x.top?x.top-=y[1]:x.bottom+=y[1],x.left?x.left+=y[0]:x.right-=y[0];for(let M in x)x[M]+="px";if(k){let M=g.appendChild(document.createElement("div"));Object.assign(M.style,x,{position:"absolute",width:v+"px",height:v+"px",backgroundColor:`rgba(255,255,255,${b==="show"?.4:0})`,zIndex:"9999",borderRadius:v+"px",border:b==="show"?"solid 2px rgba(0, 0, 0, .1)":"none",display:"flex",alignItems:"center",justifyContent:"center",touchAction:"none"});let C=v/16*16*.4;b==="show"&&(M.innerHTML=`
						<svg width="${C}" height="${v*.4}" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M2 10L8 4L14 10" stroke="black" stroke-opacity="40%" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
						</svg>
					`),M.addEventListener("pointerdown",()=>{this.gameControl.movementState.jump=1,this.requestRender()}),M.addEventListener("touchend",T=>T.preventDefault()),this.joysticks[m]=[void 0,g];return}let S={zone:g,mode:"static",position:x,size:v};b==="hide"&&(S.restOpacity=0);let A=use.create(S);A.on("move",(M,C)=>{let T=this.gameControl;p==="pos"?C.force<.2?T.moveForce=0:(T.movementState.movePosZ=Math.sin(-C.angle.radian),T.movementState.movePosX=Math.cos(-C.angle.radian),C.force>1.2?T.movementState.run=1:T.movementState.run=0,C.force<.3?T.moveForce=(C.force-.2)/.1:T.moveForce=1):p==="rot"&&(C.force<.2?T.rotForce=0:(T.movementState.rotPosX=C.vector.y,T.movementState.rotPosY=-C.vector.x,C.force<.3?T.rotForce=(C.force-.2)/.1:T.rotForce=1)),this.requestRender()}),A.on("end",(M,C)=>{let T=this.gameControl;p==="pos"?(T.movementState.movePosZ=0,T.movementState.movePosX=0,T.moveForce=1):p==="rot"&&(T.movementState.rotPosX=0,T.movementState.rotPosY=0,T.rotForce=1)}),this.joysticks[m]=[A,g]}),this.markIsDestroyTarget(),this.markIsDragObject(),this.rebuildBVH(),this.initializationCounter++,window.setTimeout(()=>{this.collisionEvents.forEach(p=>p.disabled=!1)},80)}initPhysics(){var s;(s=this.sharedGameControlGlobals.rapierWorld)==null||s.free(),this.sharedGameControlGlobals.rapierWorld=new Kt.World(new Kt.Vector3(0,this.gravity,0)),this.events=new Kt.EventQueue(!0);let e=[],t=[];if(this.page.traverseChildren(o=>{var v,y,b,_;let l;if(o instanceof Va)if(o.objectForSample){if(o.objectForSample.dataPatched.physics.fusedBody)return;l=o.object}else return o.object.dataPatched.physics.fusedBody===!0&&o.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(o instanceof er)l=o.object;else if(l=o,((v=l.dataPatched.cloner)==null?void 0:v.disabled)===!1&&((y=l.dataPatched.cloner)==null?void 0:y.hideBase)&&((b=l.dataPatched.physics)==null?void 0:b.fusedBody)!==!0)return!0;let d=l.dataPatched,u;for(let x of d.events)x.data.disabled!==!0&&x.data.type==="GameControl"&&(u=x.data);if(!d.physics||(d.physics.enabled==="visibility"?!d.visible:!d.physics.enabled))return!0;o.updateMatrixWorldSVD();let c=sv(d),f=!1,h=l.userData.hasDestroy,p=l.userData.hasDrag,m=!1;for(let x of d.events)if(x.data.disabled!==!0){if(x.data.type==="Collision"){f=!0;let k=new kle(x.id,x.data,l,this.page,this.sharedAssets,this.eventManager);k.disabled=!0,this.collisionEvents.push(k),this.sharedGameControlGlobals.entityToCollisionEvents[l.uuid]&&this.sharedGameControlGlobals.entityToCollisionEvents[l.uuid].every(w=>w.id!==x.id)?this.sharedGameControlGlobals.entityToCollisionEvents[l.uuid].push(k):this.sharedGameControlGlobals.entityToCollisionEvents[l.uuid]=[k]}else if(x.data.type==="Follow"){m=!0;let k=x.data.target;o.traverseVisible(w=>{w.userData.isFollowingObj=k})}}d.physics.rigidBody==="dynamic"&&d.physics.fusedBody===!1&&(o.matrixWorldFusedFalse=o.matrixWorld.clone());let g=o.geometry;if(u!==void 0){let x=Kt.RigidBodyDesc.kinematicPositionBased();(o.hasNonUniformScale?o.matrixWorldRigid:o.matrixWorld).decompose(hn,Ka,bl),o.position0=hn.clone().divideScalar(this.pixelsPerMeter),o.rotation0=Ka.clone(),hn.divideScalar(this.pixelsPerMeter),x.setTranslation(hn.x,hn.y,hn.z).setRotation(Ka);let k=this.sharedGameControlGlobals.rapierWorld.createRigidBody(x);o.rigidBody=k;let w;u.collider.type==="sphere"?w=Kt.ColliderDesc.ball(u.collider.radius/this.pixelsPerMeter):u.collider.type==="capsule"?w=Kt.ColliderDesc.capsule((u.collider.height/2-u.collider.radius)/this.pixelsPerMeter,u.collider.radius/this.pixelsPerMeter):w=Kt.ColliderDesc.cuboid(u.collider.width/this.pixelsPerMeter/2,u.collider.height/this.pixelsPerMeter/2,u.collider.depth/this.pixelsPerMeter/2),w.setFrictionCombineRule(Kt.CoefficientCombineRule.Average).setRestitutionCombineRule(Kt.CoefficientCombineRule.Average).setDensity(d.physics.density).setFriction(d.physics.friction).setRestitution(d.physics.restitution);let S=this.sharedGameControlGlobals.rapierWorld.createCollider(w,k);this.sharedGameControlGlobals.colliderToEntity.set(S.handle,l),hn.fromArray(u.collider.position).multiply(bl.setFromMatrixScale(l.matrixWorld)).divideScalar(this.pixelsPerMeter),S.setTranslationWrtParent(hn);let A=new Ct().setFromEuler(new Dn().setFromVector3(new E().fromArray(u.collider.rotation)));S.setRotationWrtParent(A),S.setActiveEvents(Kt.ActiveEvents.COLLISION_EVENTS),this.generateSensorColliderDescs(l,!0)}else d.physics.rigidBody==="dynamic"||c||m||h||p||f?(this.addRigidBody(o,l,{hasFollow:m,hasTransformAnim:c,hasDrag:p}),this.generateSensorColliderDescs(l,d.physics.fusedBody)):(g&&e.push(ko(g,o.matrixWorld)),d.physics.fusedBody&&o.traverseObject((x,k)=>{var M;if(k===0)return;let w;if(x instanceof Va)if(x.objectForSample){if(x.objectForSample.dataPatched.physics.fusedBody)return;w=x.object}else return x.object.dataPatched.physics.fusedBody===!0&&x.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(x instanceof er)w=x.object;else if(w=x,(M=w.dataPatched.cloner)==null?void 0:M.hideBase)return!0;let S=w.dataPatched;if(S.physics.enabled==="visibility"?!S.visible:!S.physics.enabled)return!0;let A=x.geometry;(A==null?void 0:A.getAttribute("position"))!==void 0&&e.push(ko(A,x.matrixWorld))}),this.generateSensorColliderDescs(l,d.physics.fusedBody,t));if(((_=d.physics)==null?void 0:_.fusedBody)===!0||u)return!0}),e.length===0)return;let i=rd(e);i.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter);let n=Kt.RigidBodyDesc.fixed(),r=this.sharedGameControlGlobals.rapierWorld.createRigidBody(n),a=Kt.ColliderDesc.trimesh(i.getAttribute("position").array,i.getIndex().array).setFrictionCombineRule(Kt.CoefficientCombineRule.Multiply).setRestitutionCombineRule(Kt.CoefficientCombineRule.Multiply).setFriction(1).setRestitution(1);this.sharedGameControlGlobals.rapierWorld.createCollider(a,r);for(let[o,l]of t){let d=this.sharedGameControlGlobals.rapierWorld.createCollider(o,r);this.sensorToTriggerEvent[d.handle]=l}}updatePositions(){return this.nActiveRigidBodies=0,this.sharedGameControlGlobals.rapierWorld.forEachRigidBody(this.processRigidBody),this.nActiveRigidBodies>0}rebuildBVH(){this.usePhysics?this.initPhysics():(this.page.traverseEntity(e=>{for(let t of e.dataPatched.events)if(t.data.type==="Trigger"&&t.data.disabled!==!0){let i=new g5(t.id,t.data,e,this.page,this.sharedAssets,this.eventManager),n=new Ee().compose(Qa.fromArray(t.data.position),Du.setFromEuler(v5.fromArray(t.data.rotation)),xw);if(t.data.triggerZone==="box"){let r=new Xi;r.min.fromArray(t.data.size).multiplyScalar(-.5),r.max.fromArray(t.data.size).multiplyScalar(.5),this.sharedGameControlGlobals.triggers.push([r,n,e,i])}else this.sharedGameControlGlobals.triggers.push([t.data.radius,n,e,i])}}),this.needsCollisionDetection&&this.initBVH())}disconnectEvents(){this.collisionEvents.forEach(e=>e.disconnect()),this.sharedGameControlGlobals.triggers.forEach(e=>e[3].disconnect()),this.sharedGameControlGlobals.triggers.length=0}deactivate(){var e,t,i,n;if(this.isEnabled){this.isEnabled=!1,this.page.traverse(r=>{let a=r;a.matrixWorldFusedFalse&&(a.matrixWorldFusedFalse=void 0),a.rigidBody&&(a.rigidBody=void 0),a.position0&&(a.position0=void 0),a.rotation0&&(a.rotation0=void 0)}),(e=this.sharedGameControlGlobals.rapierWorld)==null||e.free(),this.sharedGameControlGlobals.rapierWorld=void 0,this.sharedGameControlGlobals.staticMeshBVH=void 0,this.accumulator=0,this.sharedGameControlGlobals.entitiesWithTransformAnim=[],this.disconnectEvents(),(t=this.gameControl)==null||t.reset(),(i=this.gameControl)==null||i.dispose(),this.gameControl=null,this.initializationCounter=-1,this.joysticks.forEach(([r,a])=>{r==null||r.destroy(),a.remove()}),this.joystickToGameControls=[],this.joysticks=[],this.orbitControls&&(this.orbitControls.dispose(),this.orbitControls=void 0),(n=this.navigationMeshWrapper)==null||n.dispose(),this.navigationMeshWrapper=void 0;for(let r of Object.values(this.sharedGameControlGlobals.entityToCollisionEvents))r.forEach(a=>a.disconnect());this.sharedGameControlGlobals.entityToCollisionEvents={},this.page.updateMatrixWorld(!0)}}update(e,t,i){if(!this.isEnabled)return!0;let n=!0;if(this.orbitControls!==void 0&&this.orbitControls.needsUpdate&&(n=!this.orbitControls.update()),this.initializationCounter>=0&&this.initializationCounter<2?(this.initializationCounter++,n=!1):this.initializationCounter===2&&this.gameControl&&(n=!this.gameControl.update(e,t,i)&&n),this.usePhysics===!1&&this.checkTrigger(),this.usePhysics){let r=.016666666666666666;if(e===0)n=this.stepPhysics()&&n;else{let a=e/1e3;a<r&&a>r*.55&&(a=r),this.accumulator+=a;let s=performance.now(),o=0,l=6;for(;this.accumulator>=r&&o<l&&(n=this.stepPhysics()&&n,this.accumulator-=r,o++,!(performance.now()-s>r*1e3)););this.accumulator=this.accumulator%r}}return n}stepPhysics(){var e;for(let t of this.sharedGameControlGlobals.entitiesWithTransformAnim){(t.hasNonUniformScale?t.matrixWorldRigid:t.matrixWorld).decompose(hn,Ka,bl),_w.setFromQuaternion(Ka);let i=t;i.prevR===void 0?(i.prevR=_w.clone(),i.prevT=hn.clone()):(i.prevR.copy(_w),i.prevT.copy(hn)),t.rigidBody&&(t.rigidBody.setNextKinematicTranslation(hn.divideScalar(this.pixelsPerMeter)),t.rigidBody.setNextKinematicRotation(Ka))}return this.sharedGameControlGlobals.rapierWorld.step(this.events),(e=this.events)==null||e.drainCollisionEvents(this.handleCollisionEvents),!this.updatePositions()}dispatchCollisionEvent(e,t,i){var a;let n=((a=this.sharedGameControlGlobals.rapierWorld)==null?void 0:a.getCollider(i))._parent,r;if(t.cloner){for(let s of t.cloner.children)if(s.rigidBody===n){r=s;break}}e.dispatch(r),t.dispatchEvent(Sw)}updateUseWindowEvents(e){var t;(t=this.orbitControls)==null||t.updateUseWindowEvents(e)}generateSensorColliderDescs(e,t,i){let n=y5.copy(e.matrixWorld).invert();e.traverseEntity((r,a)=>{if(t===!1&&a===1)return!0;for(let s of r.dataPatched.events)if(s.data.type==="Trigger"&&s.data.disabled!==!0){let o=new g5(s.id,s.data,r,this.page,this.sharedAssets,this.eventManager),l;if(s.data.triggerZone==="box"?l=Kt.ColliderDesc.cuboid(...s.data.size.map(d=>d/(2*this.pixelsPerMeter))):l=Kt.ColliderDesc.ball(s.data.radius/this.pixelsPerMeter),l.setDensity(0).setSensor(!0).setActiveEvents(Kt.ActiveEvents.COLLISION_EVENTS),Qa.fromArray(s.data.position),Du.setFromEuler(v5.fromArray(s.data.rotation)),av.compose(Qa,Du,xw).premultiply(r.matrixWorld),i?(av.decompose(Qa,Du,ww),l.setActiveCollisionTypes(Kt.ActiveCollisionTypes.KINEMATIC_FIXED|Kt.ActiveCollisionTypes.DYNAMIC_FIXED)):(av.premultiply(n).decompose(Qa,Du,ww),e.rigidBody.bodyType()===Kt.RigidBodyType.Dynamic||(e.rigidBody.bodyType()===Kt.RigidBodyType.Fixed?l.setActiveCollisionTypes(Kt.ActiveCollisionTypes.KINEMATIC_FIXED|Kt.ActiveCollisionTypes.DYNAMIC_FIXED):l.setActiveCollisionTypes(Kt.ActiveCollisionTypes.KINEMATIC_KINEMATIC|Kt.ActiveCollisionTypes.DYNAMIC_KINEMATIC))),Qa.divideScalar(this.pixelsPerMeter),l.setTranslation(Qa.x,Qa.y,Qa.z),l.setRotation(Du),i)i.push([l,o]);else{let d=this.sharedGameControlGlobals.rapierWorld.createCollider(l,e.rigidBody);this.sensorToTriggerEvent[d.handle]=o}}})}checkTrigger(){let e;for(let t=0;t<this.sharedGameControlGlobals.triggers.length;t++){let[i,n,r,a]=this.sharedGameControlGlobals.triggers[t];for(let s=0;s<this.sharedGameControlGlobals.entitiesWithTransformAnim.length;s++){let o=this.sharedGameControlGlobals.entitiesWithTransformAnim[s];if(r===o||a.isValidTriggeringObject(qt.is(o)?o:o.object)===!1)continue;let l=y5.copy(r.matrixWorld).decompose(Qa,b5,ww).compose(Qa,b5,xw).multiply(n),d=av.copy(o.matrixWorld).invert().multiply(l);i instanceof Xi?e=o.bvhGeometry.boundsTree.intersectsBox(i,d):(kw.radius=i,kw.center.setFromMatrixPosition(d),e=o.bvhGeometry.boundsTree.intersectsSphere(kw)),e?a.currentIntersectedObjects.indexOf(o)===-1&&(a.currentIntersectedObjects.push(o),a.dispatch(),r.dispatchEvent(Wle)):a.currentIntersectedObjects=a.currentIntersectedObjects.filter(u=>u!==o)}}}};function Yle(e){var o;let t=this._clip.duration,i=(o=this._clip.start)!=null?o:0,n=this.loop,r=this.time+e,a=this._loopCount,s=n===h0;if(e===0)return a===-1?r:s&&(a&1)===1?t-(r-i):r;if(n===LS){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=t||r<i){let l=Math.floor((r-i)/(t-i));r-=(t-i)*l,a+=Math.abs(l);let d=this.repetitions-a;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s||(r=e>0?t:i,this.repetitions===1&&(r=t)),this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(d===1){let u=e<0;this._setEndings(u,!u,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(s&&(a&1)===1)return t-(r-i)}return r}var _5=!1,Xle=class{constructor(e,t,i,n){this.scene=e,this.requestRender=t,this.updateDisplayProgress=i,this.animationInspectorState=n,this.clipIdToAction={},this.activeClip=null,this.needsUpdate=!1,this.addClip=r=>{r.data.type==="Empty"&&r.data.animations&&r.data.animations.forEach((a,s)=>{let o=a[0]+"/";if(Array.isArray(r.identity)?o+=r.identity[0]:o+=r.uuid,this.clipIdToAction[o])return;let l=c1.parse(JSON.parse(a[2]));r.animations[s]=l;let d=this.mixer.clipAction(l,r);_5===!1&&(Object.getPrototypeOf(d)._updateTime=Yle,_5=!0),d.clampWhenFinished=!0,this.clipIdToAction[o]=d})},this.mixer=new YV(e),this.scene.traverseEntity(this.addClip)}deleteClip(e,t){let i=this.scene.find(t);if(!i)return;let n=i.animations.find(a=>a.uuid===e);if(!n)return;let r=this.clipIdToAction[e];!r||(r.stop(),this.mixer.uncacheClip(n),delete this.clipIdToAction[e],i.animations=i.animations.filter(a=>a.uuid!==e))}get isPlaying(){return Object.values(this.clipIdToAction).some(e=>e.isRunning())}playFromInspector(e){this.mixer.stopAllAction();let t=this.clipIdToAction[e];!t||(t.play(),this.activeClip=t.getClip(),this.requestRender())}onExitPlayMode(){Object.values(this.clipIdToAction).forEach(e=>{e.repetitions=1/0,e.loop=FS}),this.mixer.stopAllAction(),this.requestRender()}play(e){let t=e.clipId+"/"+e.object,i=this.clipIdToAction[t];if(i)return e&&(e.repeat>=0&&(i.repetitions=e.repeat+1),e.direction==="pingpong"&&e.repeat!==0&&(i.loop=h0)),i.play(),i.paused=!1,this.requestRender(),i}resumeFromInspector(e){let t=this.clipIdToAction[e];!t||(t.play(),t.paused=!1,this.requestRender())}pauseFromInspector(e){let t=this.clipIdToAction[e];!t||(t.paused=!0)}stop(){this.mixer.stopAllAction(),this.requestRender()}update(e){var t;if(this.needsUpdate)this.needsUpdate=!1;else if(this.isPlaying===!1||(t=this.animationInspectorState)!=null&&t.isScrubbing)return;this.mixer.update(e/1e3),this.activeClip&&this.updateDisplayProgress(Math.round(this.mixer.time/this.activeClip.duration*this.maxFrames%this.maxFrames)),this.requestRender()}get maxFrames(){var e,t,i;return(i=(t=(e=this.activeClip)==null?void 0:e.tracks[0])==null?void 0:t.times.length)!=null?i:0}setProgressFromInspector(e,t){if(!this.clipIdToAction[t])return;this.activeClip!==this.clipIdToAction[t].getClip()&&this.playFromInspector(t);let i=this.clipIdToAction[t].paused;this.clipIdToAction[t].paused=!1,this.mixer.setTime(Math.min(this.maxFrames?e/this.maxFrames:0,.9999)*this.activeClip.duration),this.requestRender(),i&&(this.clipIdToAction[t].paused=!0)}},Aw=new WeakMap,Kle=class extends u1{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,n){let r=new f1(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,a=>{this.decodeDracoFile(a,t).catch(n)},i,n)}decodeDracoFile(e,t,i,n){let r={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:n||this.defaultAttributeTypes,useUniqueIDs:!!i};return this.decodeGeometry(e,r).then(t)}decodeGeometry(e,t){let i=JSON.stringify(t);if(Aw.has(e)){let o=Aw.get(e);if(o.key===i)return o.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let n,r=this.workerNextTaskID++,a=e.byteLength,s=this._getWorker(r,a).then(o=>(n=o,new Promise((l,d)=>{n._callbacks[r]={resolve:l,reject:d},n.postMessage({type:"decode",id:r,taskConfig:t,buffer:e},[e])}))).then(o=>this._createGeometry(o.geometry));return s.catch(()=>!0).then(()=>{n&&r&&this._releaseTask(n,r)}),Aw.set(e,{key:i,promise:s}),s}_createGeometry(e){let t=new dt;e.index&&t.setIndex(new _t(e.index.array,1));for(let i=0;i<e.attributes.length;i++){let n=e.attributes[i],r=n.name,a=n.array,s=n.itemSize;t.setAttribute(r,new _t(a,s))}return t}_loadLibrary(e,t){let i=new f1(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((n,r)=>{i.load(e,n,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{let n=i[0];e||(this.decoderConfig.wasmBinary=i[1]);let r=Qle.toString(),a=["/* draco decoder */",n,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let n=new Worker(this.workerSourceURL);n._callbacks={},n._taskCosts={},n._taskLoad=0,n.postMessage({type:"init",decoderConfig:this.decoderConfig}),n.onmessage=function(r){let a=r.data;switch(a.type){case"decode":n._callbacks[a.id].resolve(a);break;case"error":n._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(n)}else this.workerPool.sort(function(n,r){return n._taskLoad>r._taskLoad?-1:1});let i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}};function Qle(){let e,t;onmessage=function(s){let o=s.data;switch(o.type){case"init":e=o.decoderConfig,t=new Promise(function(u){e.onModuleLoaded=function(c){u({draco:c})},DracoDecoderModule(e)});break;case"decode":let l=o.buffer,d=o.taskConfig;t.then(u=>{let c=u.draco,f=new c.Decoder,h=new c.DecoderBuffer;h.Init(new Int8Array(l),l.byteLength);try{let p=i(c,f,h,d),m=p.attributes.map(g=>g.array.buffer);p.index&&m.push(p.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:p},m)}catch(p){console.error(p),self.postMessage({type:"error",id:o.id,error:p.message})}finally{c.destroy(h),c.destroy(f)}});break}};function i(s,o,l,d){let u=d.attributeIDs,c=d.attributeTypes,f,h,p=o.GetEncodedGeometryType(l);if(p===s.TRIANGULAR_MESH)f=new s.Mesh,h=o.DecodeBufferToMesh(l,f);else if(p===s.POINT_CLOUD)f=new s.PointCloud,h=o.DecodeBufferToPointCloud(l,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!h.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+h.error_msg());let m={index:null,attributes:[]};for(let g in u){let v=self[c[g]],y,b;if(d.useUniqueIDs)b=u[g],y=o.GetAttributeByUniqueId(f,b);else{if(b=o.GetAttributeId(f,s[u[g]]),b===-1)continue;y=o.GetAttribute(f,b)}m.attributes.push(r(s,o,f,g,v,y))}return p===s.TRIANGULAR_MESH&&(m.index=n(s,o,f)),s.destroy(f),m}function n(s,o,l){let d=l.num_faces()*3,u=d*4,c=s._malloc(u);o.GetTrianglesUInt32Array(l,u,c);let f=new Uint32Array(s.HEAPF32.buffer,c,d).slice();return s._free(c),{array:f,itemSize:1}}function r(s,o,l,d,u,c){let f=c.num_components(),h=l.num_points()*f,p=h*u.BYTES_PER_ELEMENT,m=a(s,u),g=s._malloc(p);o.GetAttributeDataArrayForAllPoints(l,c,m,p,g);let v=new u(s.HEAPF32.buffer,g,h).slice();return s._free(g),{name:d,array:v,itemSize:f}}function a(s,o){switch(o){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}var _l;function Jle(){return _l||(_l=new Kle,_l.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.2/").preload()),_l.decoderPending}function $le(e){return ri(this,null,function*(){if(_l){let t={attributeIDs:_l.defaultAttributeIDs,attributeTypes:_l.defaultAttributeTypes,useUniqueIDs:!1},i;try{i=yield _l.decodeGeometry(new Int8Array(e).buffer,t)}catch(n){console.error(n)}if(i)return{index:i.index?{array:i.index.array}:void 0,attributes:Object.entries(i.attributes).map(([n,r])=>({name:n,itemSize:r.itemSize,array:r.array}))}}return null})}function ede(e,t){return ri(this,null,function*(){let[i,n]=o4(yy.deserialize(new Uint8Array(e)));kE(i);let r=[];i.scene.objects.traverse((a,s)=>{s.type==="Mesh"&&s.geometry.type==="NonParametricGeometry"&&s.geometry.data.draco!==void 0&&r.push(s)}),r.length&&(yield Jle());for(let a of r){let s=yield $le(dn(a.geometry.data.draco));if(s){s.index&&(a.geometry.data.index={array:s.index.array,itemSize:1,normalized:!1,type:"Uint32Array"});let o={};s.attributes.forEach(({name:l,array:d,itemSize:u})=>{o[l]={array:d,itemSize:u,type:"Float32Array",normalized:!1}}),a.geometry.data.attributes=o,a.geometry.data.draco=void 0}}return t&&t(i),n.result().data})}var tde=class{constructor(e,t,i,n,r,a,s){this.id=e,this.data=t,this.dataEvent=i,this.object=n,this.stage=!1,this.actions=Sr(i,t.actions,r,a,s,n)}disconnect(){jn(this.actions)}dispatchIn(){this.actions.Audio.forEach(e=>e.dispatchBasic()),this.actions.Video.forEach(e=>e.dispatchBasic()),this.actions.Create.forEach(e=>e.dispatch()),this.actions.Destroy.forEach(e=>e.dispatch()),this.actions.Reset.forEach(e=>e.dispatch()),this.actions.Link.forEach(e=>e.dispatch()),this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.actions.Transition.forEach(e=>e.toggle()),this.actions.Animation.forEach(e=>e.play()),this.actions.SwitchCamera.forEach(e=>e.play()),this.actions.SceneTransition.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch())}dispatchOut(){this.actions.Transition.forEach(e=>{e.toggle()})}},ide=class extends Xa{constructor(e,t){super(e),this.eventManager=t,this.breakpoints=[],this.resize=(i,n)=>{this.breakpoints.forEach(r=>{let a=xy.deviceToSize(r.data.size),s=r.dataEvent.orientation==="horizontal"?i:n,o;switch(r.data.operator){case"<":o=s<a[0];break;case">":o=s>a[0];break;case"<>":o=s>a[0]&&s<a[1];break}r.stage!==o&&(r.stage=o,r.stage?r.dispatchIn():r.dispatchOut())})},this.onResizeObserver=new ResizeObserver(i=>{for(let n of i){let{width:r,height:a}=n.contentRect;this.resize(r,a)}})}connect(){let{page:e,sharedAssets:t,domElement:i}=this.eventContext;this.onResizeObserver.observe(i),e.traverseEntity(n=>{var r;if(!(!n.visible||!((r=n.data)!=null&&r.events.length)))for(let{data:a}of n.data.events)a.disabled||a.type==="Resize"&&a.breakpoints.forEach(({data:s,id:o})=>{try{let l=new tde(o,s,a,n,e,t,this.eventManager);this.breakpoints.push(l)}catch(l){}})})}disconnect(){this.onResizeObserver.disconnect(),this.breakpoints.forEach(e=>{e.disconnect()}),this.breakpoints=[]}},nde=class{constructor(e,t,i,n,r){this.publish=e,this.controlsManager=t,this.animationControls=i,this.eventContext=n,this.sharedVariables=r,this.isEnabled=!1,this.activateCount=0,this.needsMouse=!1,this.needsRaycast=!1,this.onTouchMovePreventScroll=a=>{(a.touches.length>1||this.preventTouchScroll)&&a.preventDefault()},this.onMouseWheelPreventScroll=a=>{this.preventScroll&&a.preventDefault()},this.onMouseMove=a=>{this.eventContext.sharedAssets.mouseProperty=Q(R({},this.getMousePosition(a)),{pressed:a.buttons>0})},this.onMouseDown=a=>{this.eventContext.sharedAssets.mouseProperty=Q(R({},this.getMousePosition(a)),{pressed:!0})},this.onMouseUp=a=>{this.eventContext.sharedAssets.mouseProperty=Q(R({},this.getMousePosition(a)),{pressed:!1})},this.getMousePosition=a=>{var d;let{domRect:s}=this.eventContext,{pageX:o,pageY:l}=((d=a.touches)==null?void 0:d.length)>0?a.touches[0]:a;return{x:o-(s.left+window.scrollX),y:l-(s.top+window.scrollY)}},this.stopRaycast=e.stopRaycast,this.preventScroll=e.preventScroll,this.preventTouchScroll=e.preventTouchScroll,this.hideCursor=e.hideCursor,this.requestRender=n.requestRender}activate(){if(this.isEnabled)return;this.isEnabled=!0,this.initializeActionsDependentStates(),this.needsMouse&&(this.eventContext.domElement.addEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.addEventListener("pointerdown",this.onMouseDown)),this.handlers={Spline:new qoe(this.eventContext),DynamicVariable:new Sle(this.eventContext,this.sharedVariables,this,this.needsMouse,this.needsRaycast),Conditional:new $oe(this.eventContext,this),Start:new xle(this.eventContext,this),Basic:new Yoe(this.eventContext,this,this.needsRaycast),MouseHover:new vle(this.eventContext,this),Scroll:new _le(this.eventContext,this),Follow:new dle(this.eventContext,this),DragDrop:new rle(this.eventContext,this),LookAt:new ple(this.eventContext),Resize:new ide(this.eventContext,this)};let{page:e,domElement:t,eventElement:i}=this.eventContext;this.hideCursor&&(t.style.cursor="none"),e.traverseEntity(n=>{n.addEventListener("requestRender",this.requestRender)}),Object.values(this.handlers).forEach(n=>n.connect()),t.addEventListener("wheel",this.onMouseWheelPreventScroll),t.addEventListener("touchmove",this.onTouchMovePreventScroll),this.activateCount++}deactivate(){var i;if(!this.isEnabled)return;this.isEnabled=!1,this.eventContext.domElement.removeEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.removeEventListener("pointerdown",this.onMouseDown),this.eventContext.domElement.removeEventListener("pointerup",this.onMouseUp),this.eventContext.sharedAssets.mouseProperty=null,this.eventContext.sharedAssets.raycastProperty=null;let{page:e,domElement:t}=this.eventContext;t.style.cursor="",Object.values(this.handlers).forEach(n=>n.disconnect()),(i=this.controlsManager.gameControl)==null||i.disposeActions(),this.controlsManager.disconnectEvents(),e.traverseEntity(n=>{n.removeEventListener("requestRender",this.requestRender),n.destroyedInAction=!1}),t.removeEventListener("touchmove",this.onTouchMovePreventScroll),t.removeEventListener("wheel",this.onMouseWheelPreventScroll),this.animationControls.onExitPlayMode()}get isPaused(){return this.isEnabled}pause(){this.deactivate()}resume(){this.activate()}reset(){this.deactivate(),this.activate(),this.controlsManager.page.updateMatrixWorld(!0),this.controlsManager.rebuildBVH()}updateUseWindowEvents(e){let t=this.isEnabled;t&&this.deactivate(),this.eventContext.useWindowEvents=e,t&&this.activate()}initializeActionsDependentStates(){let e=this.eventContext.sharedAssets;e.resetDynamicVariablePlayState();let t=i=>{if(i.data.type==="Conditional"&&(i.data.ifActions.forEach(t),i.data.elseActions.forEach(t)),i.data.type==="Conditional"||i.data.type==="SetVariable")for(let n of i.data.type==="Conditional"?i.data.condition:i.data.expression)"id"in n&&Array.isArray(n.id)&&(n.id[0]==="mouse"&&(this.needsMouse=!0),n.id[0]==="raycast"&&(this.needsRaycast=!0));i.data.type==="DynamicVariablePlay"&&i.data.variableId!==""&&(i.data.mode==="Play"||i.data.mode==="PlayPause"||i.data.mode==="Toggle")&&e.setDynamicVariablePlayState(i.data.variableId,"Stopped")};this.eventContext.page.traverseEntity(i=>{var n;if((n=i.data)!=null&&n.events.length){for(let r of i.data.events)if(!r.data.disabled)if(r.data.type==="VariableChange"&&(r.data.variableId==="mouseProperty"&&(this.needsMouse=!0),r.data.variableId==="raycastProperty"&&(this.needsRaycast=!0)),r.data.type==="Conditional")for(let a of["inActions","outActions"])r.data[a].forEach(t);else if(r.data.type==="DragDrop")for(let a of["drag","drop"])r.data.dragDropActions[a].forEach(t);else if(r.data.type==="GameControl")for(let a of["idle","move","jump","run"])r.data.gameActions[a].forEach(t);else if(r.data.type==="Resize")for(let a of r.data.breakpoints)a.data.actions.forEach(t);else r.data.type==="LookAt"||r.data.actions.forEach(t)}})}},rde=class{constructor(e,t,i,n,r){this._aspect=1,this.enableResponsive=!1,this._renderer=e,this._camera=t,this._frameSize=new Y().copy(i),this._editorSize=new Y().copy(n),this._aspect=t.aspect,this._fov=r!=null?r:t.fov}set frameSize(e){this._frameSize.copy(e)}updateRenderer(){!this._renderer||this._renderer.setSize(this._frameSize.x,this._frameSize.y)}updateViewport(){if(!this._renderer||!this._camera||this._camera.cameraType!=="PerspectiveCamera")return;let e=this._frameSize.x,t=this._frameSize.y,i=this._editorSize.y;this._aspect=e/t,t<=i&&(this._camera.zoom*=i/t),this._renderer.setViewport(0,0,e,t)}updateCamera(e=!0){if(this._camera)if(this._camera.cameraType==="PerspectiveCamera"){let t=this._frameSize.y,i=this._editorSize.y,n=this._fov;if(e&&t>i){let r=ade(t,1080,2160,1,15)/100;n*=t/i,n*=1-r}this._camera.aspect=this._aspect,this._camera.fov=n,this._camera.updateProjectionMatrix()}else this._camera.setViewplaneSize(this._frameSize.x,this._frameSize.y,this.enableResponsive)}setCamera(e){this._camera=e,this._aspect=e.aspect,this._fov=e.fov}revert(){let e=window.innerWidth,t=window.innerHeight;this._renderer&&(this._renderer.setViewport(0,0,e,t),this._renderer.setSize(e,t)),this._camera&&(this._camera.aspect=e/t,this._camera.fov=this._fov,this._camera.setViewplaneSize(e,t,this.enableResponsive),this._camera.updateProjectionMatrix())}};function ade(e,t,i,n,r){return(e-t)/(i-t)*(r-n)+n}var sde=class{get sharedAssets(){return this.shared}constructor(e,t={}){this.shared=new Qb(e.shared,t),this.scene=new R_(e.scene,this.sharedAssets),this.shared.setEntityOpContext({scene:this.scene,shared:this.shared})}reset(e,t){this.scene.clearScene(),this.sharedAssets.reset(e.shared),this.scene.resetAfterClear(e.scene,this.sharedAssets)}resetPersonalCameraFromDocumentData(){for(let e of this.scene.children)e instanceof fl&&e.personalCamera.updateState(e.data.camera,{scene:this.scene,shared:this.shared})}dispose(){this.scene.dispose(),this.shared.dispose()}gc(){this.shared.geometryCache.startGc(),this.shared.geometryCache2.startGc(),this.scene.traverseEntity(e=>{e instanceof wr&&e.markGeometryAsReachable(this.shared)}),this.shared.geometryCache.endGc(),this.shared.geometryCache2.endGc()}},ode=class{constructor({x:e=10,y:t=10}){this._startTime=0;let i=document.getElementById("spe-perfs");i?this.element=i:(this.element=document.createElement("div"),document.body.appendChild(this.element),this.element.style.position="absolute",this.element.style.zIndex="10000",this.element.style.fontFamily="monospace",this.element.style.background="black",this.element.style.color="white",this.element.style.padding="10px",this.element.style.opacity="0.5",this.element.style.fontSize="11px",this.element.setAttribute("id","spe-perfs")),this.element.style.left=`${e}px`,this.element.style.top=`${t}px`}dispose(){var e;(e=this.element.parentElement)==null||e.removeChild(this.element)}start(){this._startTime=performance.now()}end(){let e=performance.now()-this._startTime;this.element.innerHTML=e.toFixed(3)+" ms"}};function lde(e){let t;if(e.index)for(let i=0;i<e.index.array.length;i+=3)t=e.index.array[i],e.index.array[i]=e.index.array[i+2],e.index.array[i+2]=t}function Eh(e){return e instanceof dh?"SubdivObject":e.geometry.type==="NonParametricGeometry"?"NonParametric":"Mesh"}function dde(e,t){let i={};return e.traverseEntity(n=>{var l;if(!n.visible||!(n instanceof Ir)||n.type!=="Mesh"||Array.isArray(n.material)||n.states&&Object.keys(n.states).length)return;let r=n.parent;for(;r;){if(r instanceof Ir&&n.states&&Object.keys(n.states).length)return;r=r.parent}let a=n.material.uuid,s=t.shared.materials[a];if(s){if(!$n.isMergable(s))return}else{let d=(l=t.scene.objects.get(n.uuid))==null?void 0:l.data;if(d&&"material"in d&&typeof d.material!="string"){if(!$n.isMergable(d.material))return;a=$n.getHash(d.material)}}i[a]||(i[a]={});let o=i[a][Eh(n)];if(o){if(o.push(n),n.cloner)for(let d of n.cloner.children)o.push(d)}else if(i[a][Eh(n)]=[n],n.cloner)for(let d of n.cloner.children)i[a][Eh(n)].push(d)}),i}function cde(e){let t=0;return Object.values(e).forEach(i=>{Object.values(i).forEach(n=>{let r=n.length;r>t&&(t=r)})}),t}function ude(e,t){let i=dde(t,e),n=cde(i),r=new Array(n),a=0,s=new Array(n),o=0,l=new Array(n),d=0,u=new Array(n),c=0;for(let[f,h]of Object.entries(i))for(let p of Object.values(h)){if(o=0,d=0,p.forEach(g=>{g instanceof Ir&&(s[o++]=g.geometry.clone(),l[d++]=g)}),d<2)continue;for(let g=0;g<d;g++)l[g].updateWorldMatrix(!0,!1),s[g].applyMatrix4(l[g].matrixWorld),l[g].matrixWorld.determinant()<0&&lde(s[g]);let m=rd(s.slice(0,o),!1);if(m){let g;switch(f){case"SubdivObject":{console.warn("Turning subdiv object into mesh"),g=new cr(m,l[0].material);break}default:{g=new cr(m,l[0].material);break}}g.castShadow=l[0].castShadow,g.receiveShadow=l[0].receiveShadow,t.add(g);let v=y=>{c=0;for(let b of y)b.children&&v(b.children),b instanceof Ir&&(Array.isArray(b.material)||i[b.material.uuid]&&i[b.material.uuid][Eh(b)]&&i[b.material.uuid][Eh(b)].length>1||(u[c++]=b));for(let b=0;b<c;b++)t.attach(u[b])};for(let y=0;y<d;y++){let b=l[y];v(b.children),r[a++]=b}}}for(let f=0;f<a;f++)r[f].removeFromParent()}var fde=En(BB(),1),hde=new Y;function pde(e){let t="The Spline Runtime only accepts .splinecode files that are generated from Spline export panel.";e.endsWith(".spline")?console.warn(t+" The .spline files are only meant to be used by the Editor."):e.endsWith(".splinecode")||console.warn(t)}var mde=class{constructor(e,{renderOnDemand:t,renderMode:i="auto"}={}){this._viewportMode=1,this._viewportWidth=window.innerWidth,this._viewportHeight=window.innerHeight,this._proxyObjectCache=new Map,this._variablesCache=new Map,this._isPaused=!1,this._renderRequested=!1,this._skipRender=!1,this.time=performance.now(),this.dt=0,this.currentTAAFrame=0,this.disposed=!1,this._requestRenderAutoMode=()=>{this._skipRender=!1},this.requestRender=()=>{this._renderRequested=!0},this.render=n=>{var r,a,s,o,l,d,u,c,f,h,p,m;if(this.time=n,this._lastTime&&(this.dt=this.time-this._lastTime),this._lastTime=this.time,(r=this._perfs)==null||r.start(),!this._renderer){(a=this._perfs)==null||a.end();return}if(!this._isPaused&&(this.renderMode==="manual"&&!this._renderRequested||this.renderMode==="auto"&&this._skipRender)){(s=this._perfs)==null||s.end();return}if(this._renderRequested=!1,this._skipRender=!0,this._controls&&(this._skipRender=this._controls.update(this.dt)),this._eventManager&&((o=this._eventManager.handlers)!=null&&o.Start.hasVideoAction||(l=this._eventManager.handlers)!=null&&l.Basic.hasVideoAction||(d=this._eventManager.handlers)!=null&&d.Conditional.hasVideoAction)&&(this._skipRender=!1),(u=this._animationControls)==null||u.update(this.dt),this._skipRender?(this.currentTAAFrame++,this.currentTAAFrame<32?this._skipRender=!1:this.currentTAAFrame=0):this.currentTAAFrame=0,this._scene&&this._scene.activeCamera!==this._camera&&(this._camera=this._scene.activeCamera),(c=this._eventManager)!=null&&c.isEnabled&&(((f=this._eventManager.handlers)==null?void 0:f.Follow).onAnimationFrameDamping(),((h=this._eventManager.handlers)==null?void 0:h.LookAt).onAnimationFrameDamping(),((p=this._eventManager.handlers)==null?void 0:p.DragDrop).onAnimationFrameDamping()),this._scene&&this._camera){if(this._scene.pathConstraints.applyConstraints(this._scene),this._renderer.sceneTransitionTimeRemaining>0){this._renderer.sceneTransitionTimeRemaining-=this.dt;let g=1-this._renderer.sceneTransitionTimeRemaining/this._renderer.sceneTransitionDuration;this._renderer.pipeline.sceneTransitionPass.uniforms.mixRatio.value=g,this._skipRender=!1}else this._renderer.pipeline.sceneTransitionFromTexture=null;this._renderer.renderSplineScene(this._scene,this._camera)}this.canvas.dispatchEvent(this._renderedEvent),(m=this._perfs)==null||m.end()},this._resize=()=>{var n,r,a,s,o,l,d,u,c,f,h,p,m,g,v;if(this._renderer){if(this._viewportMode===1&&this._frameView&&(this._frameView.frameSize=hde.set(this._viewportWidth,this._viewportHeight)),this._renderer.setSize(this._viewportWidth,this._viewportHeight,!1),this._camera=(n=this._scene)==null?void 0:n.activeCamera,(f=this._scene)==null||f.updateViewPlaneSize((s=(a=(r=this._frameView)==null?void 0:r.frameSize)==null?void 0:a.x)!=null?s:this._viewportWidth,(d=(l=(o=this._frameView)==null?void 0:o.frameSize)==null?void 0:l.y)!=null?d:this._viewportHeight,(c=(u=this._frameView)==null?void 0:u.enableResponsive)!=null?c:!1),this._camera){let y=(m=Object.values((p=(h=this._data)==null?void 0:h.frames)!=null?p:{})[0].preset)!=null?m:"fullscreen";(g=this._frameView)==null||g.setCamera(this._camera),(v=this._frameView)==null||v.updateCamera(y!=="fullscreen"),this._camera.cameraType==="PerspectiveCamera"&&(this._camera.aspect=this._viewportWidth/this._viewportHeight),this._camera.updateProjectionMatrix()}this.eventManager&&(this.eventManager.eventContext.domRect=this.canvas.getBoundingClientRect()),this._requestRenderAutoMode()}},this._debouncedResize=q1(this._resize,10),this.canvas=e,this.renderMode=t?"auto":i,this._renderedEvent=new CustomEvent("rendered",{bubbles:!0}),Object.defineProperty(this._renderedEvent,"target",{writable:!1,value:this}),window.location.search.includes("perfs")&&(this._perfs=new ode({x:10,y:10})),TQ(e)}load(e,t,i){return ri(this,null,function*(){pde(e),this.disposed=!1;let n=yield(yield fetch(e,i)).arrayBuffer();yield this.start(n,{variables:t})})}start(n){return ri(this,arguments,function*(e,{interactive:t=!0,variables:i}={}){var l,d,u,c;if(this.disposed)return;let r=yield ede(e);this._data=r,r.version&&(0,fde.default)(r.version,"0.9.526")>0&&console.warn("Your .splinecode file is more recent than the library. Please upgrade @splinetool/runtime to the latest version."),yield Promise.all([t6(r)&&cte(),ene(r)&&ste(),Nf.physicsEnabled(r.scene.objects)&&jQ(),WD(r)&&Nie(),Rle(r)&&IQ()].filter(Boolean)),(l=this._eventManager)==null||l.deactivate(),(d=this._controls)==null||d.deactivate(),(u=this._scene)==null||u.dispose();let a=new sde(r);if(a.resetPersonalCameraFromDocumentData(),this._scene=a.scene,this._sharedAssetsManager=a.sharedAssets,this._camera=this._scene.activeCamera,window.location.search.includes("merge-geometries")){let f=performance.now();ude(r,a.scene);let h=performance.now();console.log("Merged geometries in ",h-f," ms")}t6(r)&&this._scene.traverse(f=>{yo(f)&&f.recomputeBoolean()}),this._sharedAssetsManager.setRequestRender(()=>{var f;this._requestRenderAutoMode(),(f=this._scene)==null||f.traverse(h=>{h instanceof Va&&h.pendingMediaLoad&&h.update()})});let s=Object.keys(r.shared.fonts).map(f=>this._sharedAssetsManager.getFont(f).loadingPromise);Promise.all(s).then(()=>{a.scene.markNeedsUpdateRendererDirty(),this._requestRenderAutoMode()}),WD(r)&&qle(r)&&(yield Promise.all(s)),this._scene.rewriteEventsBeforeGoToPlayMode(),nw(this._scene.activePage,this._sharedAssetsManager),this._renderer||(this._renderer=new Tae({canvas:this.canvas,antialias:!1,alpha:!0,stencil:!1,depth:!1,powerPreference:"high-performance"}),this._renderer.hdTransmission=r.scene.publish.hdTransmission===!0,this._renderer.setPixelRatio(window.devicePixelRatio),this._renderer.pipeline.addEventListener("smaaloaded",this._requestRenderAutoMode)),this._scene.initializeSplatViewer(this._renderer),r.scene.blueNoiseTextureData!==void 0&&this._renderer.pipeline.updateBlueNoiseTexture(r.scene.blueNoiseTextureData);let o=Object.values(r.frames)[0];if(this._frameView?this._frameView.setCamera(this._camera):(o.preset==="fullscreen"?(this._viewportMode=1,this.canvas.style.display="block",this.canvas.parentElement&&(this._viewportWidth=this.canvas.parentElement.clientWidth||300,this.canvas.style.width="100%"),this.canvas.parentElement&&(this._viewportHeight=this.canvas.parentElement.clientHeight||150,this.canvas.style.height="100%")):(this._viewportMode=2,this._viewportWidth=o.size[0],this._viewportHeight=o.size[1],this.canvas.style.width=`${this._viewportWidth}px`,this.canvas.style.height=`${this._viewportHeight}px`),this._renderer.setSize(this._viewportWidth,this._viewportHeight,!1),this._frameView=new rde(this._renderer,this._camera,new Y(this._viewportWidth,this._viewportHeight),new Y(window.innerWidth,window.innerHeight)),this._frameView.enableResponsive=((c=o.allowResponsive)!=null?c:!1)&&o.preset==="fullscreen"),t){let f=new Goe(this._renderer,this.data.scene.publish,this._scene,()=>this._scene.activeCamera,this._sharedAssetsManager,this._requestRenderAutoMode,!0,o);this._scene.updateMatrixWorld(!0),this._controls=new Zle(f),this._animationControls=new Xle(this._scene,this._requestRenderAutoMode),this._eventManager=new nde(r.scene.publish,this._controls,this._animationControls,f,r.shared.variables),this._eventManager.activate(),this._controls.activate(this._eventManager)}this._resize(),i!==void 0&&this.setVariables(i),this.dt===0&&(this.render(performance.now()),setTimeout(()=>{var f;(f=this._renderer)==null||f.setAnimationLoop(this.render)},0)),this._resizeObserverTimeout=setTimeout(()=>{!this._resizeObserver&&this.canvas.parentElement&&(this._resizeObserver=new ResizeObserver(()=>{this._viewportWidth=this.canvas.clientWidth,this._viewportHeight=this.canvas.clientHeight,this._debouncedResize()}),this._resizeObserver.observe(this.canvas.parentElement))},300)})}setVariables(e){if(this._data!==void 0){let t=Object.entries(e);for(let[i,n]of t)this.setVariable(i,n)}}setVariable(e,t){var n;let i=this._getVariableByName(e);if(i&&!("dynamicVariableType"in i.data)){let r=t;typeof i.data.value=="number"?r=typeof t=="number"?t:typeof t=="boolean"?t===!0?1:0:parseFloat(t):typeof i.data.value=="boolean"?r=typeof t=="number"?!!t:typeof t=="boolean"?t:t.toLocaleLowerCase()==="false"?!1:!!t:typeof i.data.value!="string"&&i.data.value.textValue!==void 0&&(r=t.toString());let a=typeof r=="string"?{textValue:r}:r;(n=this._sharedAssetsManager)==null||n.updateVariable(i.id,a),this.requestRender(),this._requestRenderAutoMode()}else i===void 0?console.warn(`No variable named ${e} was found in your Spline file. Make sure to create it from Spline editor.`):"dynamicVariableType"in i.data&&console.warn(`Dynamic variables like ${e} cannot be updated from code.`)}getVariables(){let e={};return this._data&&this._data.shared.variables.forEach(t=>{e[t.data.name]===void 0&&(e[t.data.name]=this._getVariableValue(this._sharedAssetsManager.getVariable(t.id)))}),e}getVariable(e){let t=this._getVariableByName(e);if(t){let i=this._sharedAssetsManager.getVariable(t.id);return this._getVariableValue(i)}}_getVariableValue(e){return typeof e!="string"&&ia.isTextValue(e)?ia.getDisplayedValue(e):e}_getVariableByName(e){if(this._data){if(this._variablesCache.has(e))return this._variablesCache.get(e);let t=this._data.shared.variables.find(i=>i.data.name===e);return t&&this._variablesCache.set(e,t),t}}findObjectById(e){var i;let t=(i=this._scene)==null?void 0:i.getObjectByProperty("uuid",e);return this._createProxyObject(t)}findObjectByName(e){var i;let t=(i=this._scene)==null?void 0:i.getObjectByName(e);return this._createProxyObject(t)}getAllObjects(){var t;let e=[];return(t=this._scene)==null||t.traverseEntity(i=>{if(i.uuid!==Dc&&!this._scene.isInvisibleObjects(i)&&!(i instanceof fl)){let n=this._createProxyObject(i);n&&e.push(n)}}),e}getSplineEvents(){var e,t;return((t=(e=this._eventManager)==null?void 0:e.handlers)==null?void 0:t.Spline).splineEvents}emitEvent(e,t){var i;(i=this.findObjectById(t)||this.findObjectByName(t))==null||i.emitEvent(e)}emitEventReverse(e,t){var i;(i=this.findObjectById(t)||this.findObjectByName(t))==null||i.emitEventReverse(e)}addEventListener(e,t){this.canvas.addEventListener(e,t)}removeEventListener(e,t){this.canvas.removeEventListener(e,t)}setZoom(e){var t,i;((t=this._controls)==null?void 0:t.orbitControls)instanceof p5&&((i=this._controls)==null||i.orbitControls.zoomOut(e))}get eventManager(){return this._eventManager}get controls(){return this._controls}setSize(e,t){this._viewportWidth=e,this._viewportHeight=t,this._viewportMode=2,this._resize()}setBackgroundColor(e){var s;let{r:t,g:i,b:n,a:r}={r:0,g:0,b:0,a:1},a=new Rr(t,i,n,r);try{a.setStyle(e)}catch(o){console.error("This is not a valid css color",e)}(s=this._scene)==null||s.activePage.setBackgroundColor(a),this._requestRenderAutoMode()}dispose(){var e,t,i,n,r,a,s;this.disposed=!0,(e=this._eventManager)==null||e.deactivate(),(t=this._scene)==null||t.dispose(),(i=this._sharedAssetsManager)==null||i.dispose(),this._proxyObjectCache.forEach(o=>{FM.unsubscribe(o)}),this._variablesCache.clear(),(n=this._renderer)==null||n.setAnimationLoop(null),(r=this._renderer)==null||r.dispose(),this._renderer=void 0,(a=this._sharedAssetsManager)==null||a.dispose(),this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=void 0),this._resizeObserverTimeout!==void 0&&clearTimeout(this._resizeObserverTimeout),this.canvas.style.width="",this.canvas.style.height="",this.canvas.removeAttribute("width"),this.canvas.removeAttribute("height"),this._frameView&&(this._frameView=void 0),(s=this._controls)==null||s.deactivate(),DQ(this.canvas)}get isStopped(){return this._isPaused}stop(){var e,t,i;this._isPaused||((e=this._renderer)==null||e.setAnimationLoop(null),this._isPaused=!0,(t=this._eventManager)==null||t.pause(),(i=this._controls)!=null&&i.orbitControls&&(this._controls.orbitControls.enabled=!1))}play(){var e,t,i;!this._isPaused||(this._isPaused=!1,(e=this._eventManager)==null||e.resume(),(t=this._controls)!=null&&t.orbitControls&&(this._controls.orbitControls.enabled=!0),(i=this._renderer)==null||i.setAnimationLoop(this.render))}setGlobalEvents(e){var t;(t=this._eventManager)==null||t.updateUseWindowEvents(e)}get data(){return this._data}_createProxyObject(e){var r;if(e==null)return;if(this._proxyObjectCache.has(e.uuid))return this._proxyObjectCache.get(e.uuid);let t;e.traverseAncestors(a=>{a instanceof fl&&(t=a.name)});let i={name:e.name,uuid:e.uuid,visible:e.visible,intensity:e.intensity,position:e.position,rotation:e.rotation,scale:e.scale,type:e.data.type,page:t,parentUuid:e.parent instanceof fl||e instanceof R_||(r=e.parent)==null?void 0:r.uuid,emitEvent(a){e.dispatchEvent({type:"userEvent",eventName:a})},emitEventReverse(a){e.dispatchEvent({type:"userEvent",eventName:a,reverse:!0})}},n=FM(i,(a,s)=>{var o;typeof e[a]!="object"&&((o=Object.getOwnPropertyDescriptor(e,a))!=null&&o.writable)&&(e[a]=s),this._requestRenderAutoMode(),e.updateMatrix()});return this._proxyObjectCache.set(e.uuid,n),n}},Mw=ee(99702),gde=ee(77567),vde=function(){return gde.Z.Date.now()},Cw=vde,yde=/\s/;function bde(e){for(var t=e.length;t--&&yde.test(e.charAt(t)););return t}var _de=bde,wde=/^\s+/;function xde(e){return e&&e.slice(0,_de(e)+1).replace(wde,"")}var kde=xde,Sde=ee(59298),w5=NaN,Ade=/^[-+]0x[0-9a-f]+$/i,Mde=/^0b[01]+$/i,Cde=/^0o[0-7]+$/i,Ede=parseInt;function Tde(e){if(typeof e=="number")return e;if((0,Sde.Z)(e))return w5;if((0,Mw.Z)(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=(0,Mw.Z)(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=kde(e);var i=Mde.test(e);return i||Cde.test(e)?Ede(e.slice(2),i?2:8):Ade.test(e)?w5:+e}var x5=Tde,Dde="Expected a function",Pde=Math.max,Ide=Math.min;function Ode(e,t,i){var n,r,a,s,o,l,d=0,u=!1,c=!1,f=!0;if(typeof e!="function")throw new TypeError(Dde);t=x5(t)||0,(0,Mw.Z)(i)&&(u=!!i.leading,c="maxWait"in i,a=c?Pde(x5(i.maxWait)||0,t):a,f="trailing"in i?!!i.trailing:f);function h(k){var w=n,S=r;return n=r=void 0,d=k,s=e.apply(S,w),s}function p(k){return d=k,o=setTimeout(v,t),u?h(k):s}function m(k){var w=k-l,S=k-d,A=t-w;return c?Ide(A,a-S):A}function g(k){var w=k-l,S=k-d;return l===void 0||w>=t||w<0||c&&S>=a}function v(){var k=Cw();if(g(k))return y(k);o=setTimeout(v,m(k))}function y(k){return o=void 0,f&&n?h(k):(n=r=void 0,s)}function b(){o!==void 0&&clearTimeout(o),d=0,n=l=r=o=void 0}function _(){return o===void 0?s:y(Cw())}function x(){var k=Cw(),w=g(k);if(n=arguments,r=this,l=k,w){if(o===void 0)return p(l);if(c)return clearTimeout(o),o=setTimeout(v,t),h(l)}return o===void 0&&(o=setTimeout(v,t)),s}return x.cancel=b,x.flush=_,x}var jde=Ode;function Rde(e){return t=>{e.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var zde=["className","children","debounceTime","ignoreDimensions","parentSizeStyles","enableDebounceLeadingCall","resizeObserverPolyfill"],Bde=[],Lde={height:"100%",width:"100%"},Fde=(0,B.forwardRef)(function(t,i){var n=t.className,r=t.children,a=t.debounceTime,s=a===void 0?300:a,o=t.ignoreDimensions,l=o===void 0?Bde:o,d=t.parentSizeStyles,u=t.enableDebounceLeadingCall,c=u===void 0?!0:u,f=t.resizeObserverPolyfill,h=(0,ge.Z)(t,zde),p=(0,B.useRef)(null),m=(0,B.useRef)(0),g=(0,B.useState)({height:0,left:0,top:0,width:0}),v=(0,St.Z)(g,2),y=v[0],b=v[1],_=(0,B.useMemo)(function(){var x=Array.isArray(l)?l:[l];return jde(function(k){b(function(w){var S=Object.keys(w),A=S.filter(function(C){return w[C]!==k[C]}),M=A.every(function(C){return x.includes(C)});return M?w:k})},s,{leading:c})},[s,c,l]);return(0,B.useEffect)(function(){var x=f||window.ResizeObserver,k=new x(function(w){var S=(0,eS.Z)(w),A;try{var M=function(){var T,P=A.value,I=(T=P==null?void 0:P.contentRect)!==null&&T!==void 0?T:{},j=I.left,H=I.top,U=I.width,O=I.height;m.current=window.requestAnimationFrame(function(){_({height:O,left:j,top:H,width:U})})};for(S.s();!(A=S.n()).done;)M()}catch(C){S.e(C)}finally{S.f()}});return p.current&&k.observe(p.current),function(){window.cancelAnimationFrame(m.current),k.disconnect(),_.cancel()}},[_,f]),(0,D.jsx)("div",(0,ae.Z)((0,ae.Z)({className:n,ref:Rde([i,p]),style:(0,ae.Z)((0,ae.Z)({},Lde),d)},h),{},{children:r((0,ae.Z)((0,ae.Z)({},y),{},{ref:p.current,resize:_}))}))}),Nde=["scene","style","onMouseDown","onMouseUp","onMouseHover","onKeyDown","onKeyUp","onStart","onLookAt","onFollow","onWheel","onLoad","renderOnDemand"],Ude=(0,B.forwardRef)(function(e,t){var i=e.scene,n=e.style,r=e.onMouseDown,a=e.onMouseUp,s=e.onMouseHover,o=e.onKeyDown,l=e.onKeyUp,d=e.onStart,u=e.onLookAt,c=e.onFollow,f=e.onWheel,h=e.onLoad,p=e.renderOnDemand,m=p===void 0?!0:p,g=(0,ge.Z)(e,Nde),v=(0,B.useRef)(null),y=(0,B.useState)(!0),b=(0,St.Z)(y,2),_=b[0],x=b[1],k=function(){var w=(0,Hh.Z)((0,Do.Z)().mark(function S(A,M){var C,T,P;return(0,Do.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,A.load(i);case 2:C=(0,eS.Z)(M);try{for(C.s();!(T=C.n()).done;)P=T.value,P.cb&&A.addEventListener(P.name,P.cb)}catch(H){C.e(H)}finally{C.f()}x(!1),h==null||h(A);case 6:case"end":return j.stop()}},S)}));return function(A,M){return w.apply(this,arguments)}}();return(0,B.useEffect)(function(){x(!0);var w,S=[{cb:r,name:"mouseDown"},{cb:a,name:"mouseUp"},{cb:s,name:"mouseHover"},{cb:o,name:"keyDown"},{cb:l,name:"keyUp"},{cb:d,name:"start"},{cb:u,name:"lookAt"},{cb:c,name:"follow"},{cb:f,name:"scroll"}];return v.current&&(w=new mde(v.current,{renderOnDemand:m}),k(w,S)),function(){for(var A=0,M=S;A<M.length;A++){var C=M[A];C.cb&&w.removeEventListener(C.name,C.cb)}w.dispose()}},[i]),(0,D.jsx)(Fde,(0,ae.Z)((0,ae.Z)({debounceTime:50,parentSizeStyles:n,ref:t},g),{},{children:function(){return(0,D.jsx)("canvas",{ref:v,style:{display:_?"none":"block"}})}}))}),Ew=Ude,Vde=["className","style","size","onLoad"],Hde={path:"assets/logo-3d.webp",pkg:"@lobehub/assets-logo",version:"1.2.0"},Gde=(0,B.memo)(function(e){var t=e.className,i=e.style,n=e.size,r=n===void 0?128:n,a=e.onLoad,s=(0,ge.Z)(e,Vde),o=(0,Od.nc)(),l=(0,B.useState)(!0),d=(0,St.Z)(l,2),u=d[0],c=d[1];return(0,D.jsxs)(Me.D,{align:"center",className:t,flex:"none",justify:"center",style:(0,ae.Z)({height:r,overflow:"hidden",position:"relative",width:r},i),children:[u&&(0,D.jsx)(jd.Z,{alt:"logo",height:r*.75,src:o(Hde),style:{position:"absolute"},width:r*.75}),(0,D.jsx)(Ew,(0,ae.Z)({onLoad:function(h){c(!1),a==null||a(h)},scene:"https://gw.alipayobjects.com/os/kitchen/8LH7slSv3s/logo.splinecode",style:{flex:"none",height:r,width:r}},s))]})}),Wde=Gde,qde=ee(70277),k5=ee(20113),Zde=(0,B.memo)(function(e){var t=e.size,i=t===void 0?32:t;return(0,D.jsx)(k5.Z,{height:"100%",justify:"center",style:{position:"absolute"},width:"100%",children:(0,D.jsx)(hi.Z,{icon:Fu.Z,size:{fontSize:i},spin:!0})})}),Yde=Zde,Xde=["className","style","width","height","onLoad"],Kde="https://gw.alipayobjects.com/os/kitchen/J9jiHITGrs/scene.splinecode",Qde="https://gw.alipayobjects.com/os/kitchen/CzQKKvSE8a/scene.splinecode",Jde=(0,B.memo)(function(e){var t=e.className,i=e.style,n=e.width,r=e.height,a=e.onLoad,s=(0,ge.Z)(e,Xde),o=(0,qde.r)(),l=o.isDarkMode,d=(0,B.useState)(!0),u=(0,St.Z)(d,2),c=u[0],f=u[1];return(0,D.jsxs)("div",{className:t,style:(0,ae.Z)({height:r,position:"relative",width:n},i),children:[c&&(0,D.jsx)(Yde,{}),(0,D.jsx)(Ew,(0,ae.Z)({onLoad:function(p){f(!1),a==null||a(p)},scene:l?Qde:Kde},s))]})}),$de=Jde,ece=ee(48037),Pu=JSON.parse('{"cH":{"htm":"html","xhtml":"html","html_vm":"html","asp":"html","jade":"pug","pug":"pug","md":"markdown","markdown":"markdown","rst":"markdown","blink":"blink","css":"css","scss":"sass","sass":"sass","less":"less","json":"json","jsonc":"json","tsbuildinfo":"json","json5":"json","jsonl":"json","ndjson":"json","hjson":"hjson","jinja":"jinja","jinja2":"jinja","j2":"jinja","jinja-html":"jinja","proto":"proto","sublime-project":"sublime","sublime-workspace":"sublime","tw":"twine","twee":"twine","yml.dist":"yaml","yaml.dist":"yaml","YAML-tmLanguage":"yaml","xml":"xml","plist":"xml","xsd":"xml","dtd":"xml","xsl":"xml","xslt":"xml","resx":"xml","iml":"xml","xquery":"xml","tmLanguage":"xml","manifest":"xml","project":"xml","xml.dist":"xml","xml.dist.sample":"xml","dmn":"xml","jrxml":"xml","png":"image","jpeg":"image","jpg":"image","gif":"image","ico":"image","tif":"image","tiff":"image","psd":"image","psb":"image","ami":"image","apx":"image","avif":"image","bmp":"image","bpg":"image","brk":"image","cur":"image","dds":"image","dng":"image","exr":"image","fpx":"image","gbr":"image","img":"image","jbig2":"image","jb2":"image","jng":"image","jxr":"image","pgf":"image","pic":"image","raw":"image","webp":"image","eps":"image","afphoto":"image","ase":"image","aseprite":"image","clip":"image","cpt":"image","heif":"image","heic":"image","kra":"image","mdp":"image","ora":"image","pdn":"image","reb":"image","sai":"image","tga":"image","xcf":"image","jfif":"image","ppm":"image","pbm":"image","pgm":"image","pnm":"image","icns":"image","esx":"javascript","mjs":"javascript","jsx":"react","tsx":"react_ts","routing.ts":"routing","routing.tsx":"routing","routing.js":"routing","routing.jsx":"routing","routes.ts":"routing","routes.tsx":"routing","routes.js":"routing","routes.jsx":"routing","ini":"settings","dlc":"settings","config":"settings","conf":"settings","properties":"settings","prop":"settings","settings":"settings","option":"settings","props":"settings","toml":"settings","prefs":"settings","sln.dotsettings":"settings","sln.dotsettings.user":"settings","cfg":"settings","d.ts":"typescript-def","d.cts":"typescript-def","d.mts":"typescript-def","marko":"markojs","astro":"astro","pdf":"pdf","xlsx":"table","xlsm":"table","xls":"table","csv":"table","tsv":"table","psv":"table","ods":"table","vscodeignore":"vscode","vsixmanifest":"vscode","vsix":"vscode","code-workplace":"vscode","code-workspace":"vscode","code-profile":"vscode","code-snippets":"vscode","csproj":"visualstudio","ruleset":"visualstudio","sln":"visualstudio","slnx":"visualstudio","suo":"visualstudio","vb":"visualstudio","vbs":"visualstudio","vcxitems":"visualstudio","vcxitems.filters":"visualstudio","vcxproj":"visualstudio","vcxproj.filters":"visualstudio","pdb":"database","sql":"database","pks":"database","pkb":"database","accdb":"database","mdb":"database","sqlite":"database","sqlite3":"database","pgsql":"database","postgres":"database","plpgsql":"database","psql":"database","db":"database","db3":"database","dblite":"database","dblite3":"database","debugsymbols":"database","kql":"kusto","cs":"csharp","csx":"csharp","csharp":"csharp","qs":"qsharp","zip":"zip","tar":"zip","gz":"zip","xz":"zip","lzma":"zip","lz4":"zip","br":"zip","bz2":"zip","bzip2":"zip","gzip":"zip","brotli":"zip","7z":"zip","rar":"zip","tz":"zip","txz":"zip","tgz":"zip","zst":"zip","vala":"vala","zig":"zig","zon":"zig","exe":"exe","msi":"exe","dat":"hex","bin":"hex","hex":"hex","java":"java","jsp":"java","jar":"jar","class":"javaclass","c":"c","i":"c","mi":"c","h":"h","cc":"cpp","cpp":"cpp","cxx":"cpp","c++":"cpp","cp":"cpp","mii":"cpp","ii":"cpp","hh":"hpp","hpp":"hpp","hxx":"hpp","h++":"hpp","hp":"hpp","tcc":"hpp","inl":"hpp","rc":"rc","go":"go","py":"python","pyc":"python-misc","whl":"python-misc","url":"url","sh":"console","ksh":"console","csh":"console","tcsh":"console","zsh":"console","bash":"console","bat":"console","cmd":"console","awk":"console","fish":"console","exp":"console","nu":"console","ps1":"powershell","psm1":"powershell","psd1":"powershell","ps1xml":"powershell","psc1":"powershell","pssc":"powershell","gradle":"gradle","doc":"word","docx":"word","rtf":"word","odt":"word","cer":"certificate","cert":"certificate","crt":"certificate","pub":"key","key":"key","pem":"key","asc":"key","gpg":"key","passwd":"key","woff":"font","woff2":"font","ttf":"font","eot":"font","suit":"font","otf":"font","bmap":"font","fnt":"font","odttf":"font","ttc":"font","font":"font","fonts":"font","sui":"font","ntf":"font","mrf":"font","lib":"lib","bib":"lib","a":"lib","dll":"dll","ilk":"dll","so":"dll","rb":"ruby","erb":"ruby","rbs":"ruby","fs":"fsharp","fsx":"fsharp","fsi":"fsharp","fsproj":"fsharp","swift":"swift","ino":"arduino","dockerignore":"docker","dockerfile":"docker","docker-compose.yml":"docker","docker-compose.yaml":"docker","containerignore":"docker","containerfile":"docker","compose.yaml":"docker","compose.yml":"docker","tex":"tex","sty":"tex","dtx":"tex","ltx":"tex","pptx":"powerpoint","ppt":"powerpoint","pptm":"powerpoint","potx":"powerpoint","potm":"powerpoint","ppsx":"powerpoint","ppsm":"powerpoint","pps":"powerpoint","ppam":"powerpoint","ppa":"powerpoint","odp":"powerpoint","webm":"video","mkv":"video","flv":"video","vob":"video","ogv":"video","ogg":"video","gifv":"video","avi":"video","mov":"video","qt":"video","wmv":"video","yuv":"video","rm":"video","rmvb":"video","mp4":"video","m4v":"video","mpg":"video","mp2":"video","mpeg":"video","mpe":"video","mpv":"video","m2v":"video","vdi":"virtual","vbox":"virtual","vbox-prev":"virtual","ved":"vedic","veda":"vedic","vedic":"vedic","ics":"email","mp3":"audio","flac":"audio","m4a":"audio","wma":"audio","aiff":"audio","wav":"audio","coffee":"coffee","cson":"coffee","iced":"coffee","txt":"document","graphql":"graphql","gql":"graphql","rs":"rust","ron":"rust","raml":"raml","xaml":"xaml","hs":"haskell","kt":"kotlin","kts":"kotlin","otne":"otne","patch":"git","lua":"lua","clj":"clojure","cljs":"clojure","cljc":"clojure","groovy":"groovy","r":"r","rmd":"r","dart":"dart","freezed.dart":"dart_generated","g.dart":"dart_generated","as":"actionscript","mxml":"mxml","ahk":"autohotkey","swf":"flash","swc":"swc","cmake":"cmake","asm":"assembly","a51":"assembly","inc":"assembly","nasm":"assembly","s":"assembly","ms":"assembly","agc":"assembly","ags":"assembly","aea":"assembly","argus":"assembly","mitigus":"assembly","binsource":"assembly","vue":"vue","ml":"ocaml","mli":"ocaml","cmx":"ocaml","odin":"odin","js.map":"javascript-map","mjs.map":"javascript-map","cjs.map":"javascript-map","css.map":"css-map","lock":"lock","hbs":"handlebars","mustache":"handlebars","pm":"perl","raku":"perl","hx":"haxe","spec.ts":"test-ts","spec.cts":"test-ts","spec.mts":"test-ts","cy.ts":"test-ts","e2e-spec.ts":"test-ts","e2e-spec.cts":"test-ts","e2e-spec.mts":"test-ts","test.ts":"test-ts","test.cts":"test-ts","test.mts":"test-ts","ts.snap":"test-ts","spec-d.ts":"test-ts","test-d.ts":"test-ts","spec.tsx":"test-jsx","test.tsx":"test-jsx","tsx.snap":"test-jsx","spec.jsx":"test-jsx","test.jsx":"test-jsx","jsx.snap":"test-jsx","cy.jsx":"test-jsx","cy.tsx":"test-jsx","spec-d.tsx":"test-jsx","test-d.tsx":"test-jsx","spec.js":"test-js","spec.cjs":"test-js","spec.mjs":"test-js","e2e-spec.js":"test-js","e2e-spec.cjs":"test-js","e2e-spec.mjs":"test-js","test.js":"test-js","test.cjs":"test-js","test.mjs":"test-js","js.snap":"test-js","cy.js":"test-js","module.ts":"angular","module.js":"angular","ng-template":"angular","component.ts":"angular-component","component.js":"angular-component","guard.ts":"angular-guard","guard.js":"angular-guard","service.ts":"angular-service","service.js":"angular-service","pipe.ts":"angular-pipe","pipe.js":"angular-pipe","filter.js":"angular-pipe","directive.ts":"angular-directive","directive.js":"angular-directive","resolver.ts":"angular-resolver","resolver.js":"angular-resolver","pp":"puppet","ex":"elixir","exs":"elixir","eex":"elixir","leex":"elixir","heex":"elixir","ls":"livescript","erl":"erlang","twig":"twig","jl":"julia","elm":"elm","pure":"purescript","purs":"purescript","tpl":"smarty","styl":"stylus","re":"reason","rei":"reason","cmj":"bucklescript","merlin":"merlin","vhd":"verilog","sv":"verilog","svh":"verilog","nb":"mathematica","wl":"wolframlanguage","wls":"wolframlanguage","njk":"nunjucks","nunjucks":"nunjucks","robot":"robot","sol":"solidity","au3":"autoit","haml":"haml","yang":"yang","mjml":"mjml","tf":"terraform","tf.json":"terraform","tfvars":"terraform","tfstate":"terraform","tfbackend":"terraform","blade.php":"laravel","inky.php":"laravel","applescript":"applescript","ipa":"applescript","cake":"cake","feature":"cucumber","features":"cucumber","nim":"nim","nimble":"nim","apib":"apiblueprint","apiblueprint":"apiblueprint","riot":"riot","tag":"riot","vfl":"vfl","kl":"kl","pcss":"postcss","sss":"postcss","todo":"todo","cfml":"coldfusion","cfc":"coldfusion","lucee":"coldfusion","cfm":"coldfusion","cabal":"cabal","nix":"nix","slim":"slim","http":"http","rest":"http","rql":"restql","restql":"restql","kv":"kivy","graphcool":"graphcool","sbt":"sbt","apk":"android","smali":"android","dex":"android","env":"tune","gitlab-ci.yml":"gitlab","jenkinsfile":"jenkins","jenkins":"jenkins","fig":"figma","huff":"huff","cr":"crystal","ecr":"crystal","drone.yml":"drone","cu":"cuda","cuh":"cuda","log":"log","def":"dotjs","dot":"dotjs","jst":"dotjs","ejs":"ejs",".wakatime-project":"wakatime","pde":"processing","stories.js":"storybook","stories.jsx":"storybook","stories.mdx":"storybook","story.js":"storybook","story.jsx":"storybook","stories.ts":"storybook","stories.tsx":"storybook","story.ts":"storybook","story.tsx":"storybook","stories.svelte":"storybook","story.mdx":"storybook","wpy":"wepy","hcl":"hcl","san":"san","quokka.js":"quokka","quokka.ts":"quokka","quokka.jsx":"quokka","quokka.tsx":"quokka","djt":"django","red":"red","mk":"makefile","fxp":"foxpro","prg":"foxpro","pot":"i18n","po":"i18n","mo":"i18n","lang":"i18n","wat":"webassembly","wasm":"webassembly","ipynb":"jupyter","d":"d","mdx":"mdx","svx":"mdsvex","bal":"ballerina","balx":"ballerina","rkt":"racket","bzl":"bazel","bazel":"bazel","mint":"mint","vm":"velocity","fhtml":"velocity","vtl":"velocity","gd":"godot","godot":"godot-assets","tres":"godot-assets","tscn":"godot-assets","gdns":"godot-assets","gdnlib":"godot-assets","gdshader":"godot-assets","gdshaderinc":"godot-assets","gdextension":"godot-assets","azure-pipelines.yml":"azure-pipelines","azure-pipelines.yaml":"azure-pipelines","azure-pipelines-main.yml":"azure-pipelines","azure-pipelines-main.yaml":"azure-pipelines","azcli":"azure","vagrantfile":"vagrant","prisma":"prisma","cshtml":"razor","vbhtml":"razor","abc":"abc","ad":"asciidoc","adoc":"asciidoc","asciidoc":"asciidoc","edge":"edge","ss":"scheme","scm":"scheme","lisp":"lisp","lsp":"lisp","cl":"lisp","fast":"lisp","stl":"3d","stp":"3d","obj":"3d","o":"3d","ac":"3d","blend":"3d","dxf":"3d","fbx":"3d","mesh":"3d","mqo":"3d","pmd":"3d","pmx":"3d","skp":"3d","vac":"3d","vdp":"3d","vox":"3d","svg":"svg","svelte":"svelte","vimrc":"vim","gvimrc":"vim","exrc":"vim","vim":"vim","viminfo":"vim","moon":"moonscript","prw":"advpl_prw","prx":"advpl_prw","ptm":"advpl_ptm","tlpp":"advpl_tlpp","ch":"advpl_include","iso":"disc","vmdk":"disc","hdd":"disc","qcow":"disc","qcow2":"disc","qed":"disc","dmg":"disc","f":"fortran","f77":"fortran","f90":"fortran","f95":"fortran","f03":"fortran","f08":"fortran","tcl":"tcl","liquid":"liquid","p":"prolog","pro":"prolog","pl":"prolog","coco":"coconut","sketch":"sketch","pwn":"pawn","amx":"pawn","4th":"forth","fth":"forth","frt":"forth","iuml":"uml","pu":"uml","puml":"uml","plantuml":"uml","wsd":"uml","wrap":"meson","dhall":"dhall","dhallb":"dhall","sml":"sml","mlton":"sml","mlb":"sml","sig":"sml","fun":"sml","cm":"sml","lex":"sml","use":"sml","grm":"sml","opam":"opam","imba":"imba","drawio":"drawio","dio":"drawio","pas":"pascal","unity":"shaderlab","sas":"sas","sas7bdat":"sas","sashdat":"sas","astore":"sas","ast":"sas","sast":"sas","nupkg":"nuget","command":"command","dsc":"denizenscript","code-search":"search","nginx":"nginx","nginxconf":"nginx","nginxconfig":"nginx","mcfunction":"minecraft","mcmeta":"minecraft","mcr":"minecraft","mca":"minecraft","mcgame":"minecraft","mclevel":"minecraft","mcworld":"minecraft","mine":"minecraft","mus":"minecraft","mcstructure":"minecraft","mcpack":"minecraft","mcaddon":"minecraft","mctemplate":"minecraft","mcproject":"minecraft","res":"rescript","resi":"rescript-interface","b":"brainfuck","bf":"brainfuck","bicep":"bicep","cob":"cobol","cbl":"cobol","gr":"grain","lol":"lolcode","idr":"idris","ibc":"idris","pipeline":"pipeline","rego":"opa","windi":"windicss","scala":"scala","sc":"scala","ly":"lilypond","v":"vlang","pgn":"chess","fen":"chess","gmi":"gemini","gemini":"gemini","tsconfig.json":"tsconfig","tauri":"tauri","jsconfig.json":"jsconfig","ada":"ada","adb":"ada","ads":"ada","ali":"ada","horusec-config.json":"horusec","pdm.lock":"pdm","pdm.toml":"pdm","coarc":"coala","coafile":"coala","bubble":"dinophp","html.bubble":"dinophp","php.bubble":"dinophp","tl":"teal","template":"template","glsl":"shader","vert":"shader","tesc":"shader","tese":"shader","geom":"shader","frag":"shader","comp":"shader","vert.glsl":"shader","tesc.glsl":"shader","tese.glsl":"shader","geom.glsl":"shader","frag.glsl":"shader","comp.glsl":"shader","vertex.glsl":"shader","geometry.glsl":"shader","fragment.glsl":"shader","compute.glsl":"shader","ts.glsl":"shader","gs.glsl":"shader","vs.glsl":"shader","fs.glsl":"shader","shader":"shader","vertexshader":"shader","fragmentshader":"shader","geometryshader":"shader","computeshader":"shader","hlsl":"shader","pixel.hlsl":"shader","geometry.hlsl":"shader","compute.hlsl":"shader","tessellation.hlsl":"shader","px.hlsl":"shader","geom.hlsl":"shader","comp.hlsl":"shader","tess.hlsl":"shader","wgsl":"shader","sy":"siyuan","ndst.yml":"ndst","ndst.yaml":"ndst","ndst.json":"ndst","tobi":"tobi","gleam":"gleam","steadybit.yml":"steadybit","steadybit.yaml":"steadybit","capnp":"capnp","tree":"tree","cdc":"cadence","openapi.json":"openapi","openapi.yml":"openapi","openapi.yaml":"openapi","swagger.json":"swagger","swagger.yml":"swagger","swagger.yaml":"swagger","g4":"antlr","st.css":"stylable","pine":"pinejs","taskfile.yml":"taskfile","taskfile.yaml":"taskfile","gml":"gamemaker","yy":"gamemaker","yyp":"gamemaker","yyz":"gamemaker","tldr":"tldraw","typ":"typst","mmd":"mermaid","mermaid":"mermaid","mojo":"mojo","\u{1F525}":"mojo","rbxl":"roblox","rbxlx":"roblox","rbxm":"roblox","rbxmx":"roblox","spwn":"spwn","templ":"templ","crx":"chrome","stan":"stan","abap":"abap","acds":"abap","asddls":"abap","lottie":"lottie","gs":"apps-script","pkl":"pkl"},"A8":{".pug-lintrc":"pug",".pug-lintrc.js":"pug",".pug-lintrc.json":"pug",".jscsrc":"json",".jshintrc":"json","composer.lock":"json",".jsbeautifyrc":"json",".esformatter":"json","cdp.pid":"json",".lintstagedrc":"json",".whitesource":"json","playwright.config.js":"playwright","playwright.config.mjs":"playwright","playwright.config.ts":"playwright","playwright.config.base.js":"playwright","playwright.config.base.mjs":"playwright","playwright.config.base.ts":"playwright","playwright-ct.config.js":"playwright","playwright-ct.config.mjs":"playwright","playwright-ct.config.ts":"playwright",".htaccess":"xml","router.js":"routing","router.jsx":"routing","router.ts":"routing","router.tsx":"routing","routes.js":"routing","routes.jsx":"routing","routes.ts":"routing","routes.tsx":"routing",".jshintignore":"settings",".buildignore":"settings",".mrconfig":"settings",".yardopts":"settings","manifest.mf":"settings",".clang-format":"settings",".clang-tidy":"settings","astro.config.js":"astro","astro.config.mjs":"astro","astro.config.cjs":"astro","astro.config.ts":"astro","astro.config.cts":"astro","astro.config.mts":"astro","go.mod":"go-mod","go.sum":"go-mod","go.work":"go-mod","go.work.sum":"go-mod","requirements.txt":"python-misc","pipfile":"python-misc",".python-version":"python-misc","manifest.in":"python-misc","pylintrc":"python-misc",".pylintrc":"python-misc","pyproject.toml":"python-misc","commit-msg":"console","pre-commit":"console","pre-push":"console","post-merge":"console","gradle.properties":"gradle","gradlew":"gradle","gradle-wrapper.properties":"gradle","copying":"certificate","copying.md":"certificate","copying.rst":"certificate","copying.txt":"certificate","copyright":"certificate","copyright.md":"certificate","copyright.rst":"certificate","copyright.txt":"certificate","license":"certificate","license-agpl":"certificate","license-apache":"certificate","license-bsd":"certificate","license-mit":"certificate","license-gpl":"certificate","license-lgpl":"certificate","license.md":"certificate","license.rst":"certificate","license.txt":"certificate","licence":"certificate","licence-agpl":"certificate","licence-apache":"certificate","licence-bsd":"certificate","licence-mit":"certificate","licence-gpl":"certificate","licence-lgpl":"certificate","licence.md":"certificate","licence.rst":"certificate","licence.txt":"certificate",".htpasswd":"key",".ruby-version":"ruby","gemfile":"gemfile",".rubocop.yml":"rubocop",".rubocop-todo.yml":"rubocop",".rubocop_todo.yml":"rubocop",".rspec":"rspec","dockerfile":"docker","dockerfile.prod":"docker","dockerfile.production":"docker","dockerfile.alpha":"docker","dockerfile.beta":"docker","dockerfile.stage":"docker","dockerfile.staging":"docker","dockerfile.dev":"docker","dockerfile.development":"docker","dockerfile.local":"docker","dockerfile.test":"docker","dockerfile.testing":"docker","dockerfile.ci":"docker","dockerfile.web":"docker","dockerfile.worker":"docker","docker-compose.yml":"docker","docker-compose.override.yml":"docker","docker-compose.prod.yml":"docker","docker-compose.production.yml":"docker","docker-compose.alpha.yml":"docker","docker-compose.beta.yml":"docker","docker-compose.stage.yml":"docker","docker-compose.staging.yml":"docker","docker-compose.dev.yml":"docker","docker-compose.development.yml":"docker","docker-compose.local.yml":"docker","docker-compose.test.yml":"docker","docker-compose.testing.yml":"docker","docker-compose.ci.yml":"docker","docker-compose.web.yml":"docker","docker-compose.worker.yml":"docker","docker-compose.yaml":"docker","docker-compose.override.yaml":"docker","docker-compose.prod.yaml":"docker","docker-compose.production.yaml":"docker","docker-compose.alpha.yaml":"docker","docker-compose.beta.yaml":"docker","docker-compose.stage.yaml":"docker","docker-compose.staging.yaml":"docker","docker-compose.dev.yaml":"docker","docker-compose.development.yaml":"docker","docker-compose.local.yaml":"docker","docker-compose.test.yaml":"docker","docker-compose.testing.yaml":"docker","docker-compose.ci.yaml":"docker","docker-compose.web.yaml":"docker","docker-compose.worker.yaml":"docker","containerfile":"docker","containerfile.prod":"docker","containerfile.production":"docker","containerfile.alpha":"docker","containerfile.beta":"docker","containerfile.stage":"docker","containerfile.staging":"docker","containerfile.dev":"docker","containerfile.development":"docker","containerfile.local":"docker","containerfile.test":"docker","containerfile.testing":"docker","containerfile.ci":"docker","containerfile.web":"docker","containerfile.worker":"docker","compose.yaml":"docker","compose.override.yaml":"docker","compose.prod.yaml":"docker","compose.production.yaml":"docker","compose.alpha.yaml":"docker","compose.beta.yaml":"docker","compose.stage.yaml":"docker","compose.staging.yaml":"docker","compose.dev.yaml":"docker","compose.development.yaml":"docker","compose.local.yaml":"docker","compose.test.yaml":"docker","compose.testing.yaml":"docker","compose.ci.yaml":"docker","compose.web.yaml":"docker","compose.worker.yaml":"docker","compose.yml":"docker","compose.override.yml":"docker","compose.prod.yml":"docker","compose.production.yml":"docker","compose.alpha.yml":"docker","compose.beta.yml":"docker","compose.stage.yml":"docker","compose.staging.yml":"docker","compose.dev.yml":"docker","compose.development.yml":"docker","compose.local.yml":"docker","compose.test.yml":"docker","compose.testing.yml":"docker","compose.ci.yml":"docker","compose.web.yml":"docker","compose.worker.yml":"docker",".mailmap":"email",".graphqlrc":"graphql",".graphqlrc.json":"graphql",".graphqlrc.jsonc":"graphql",".graphqlrc.json5":"graphql",".graphqlrc.yaml":"graphql",".graphqlrc.yml":"graphql",".graphqlrc.toml":"graphql",".graphqlrc.js":"graphql",".graphqlrc.mjs":"graphql",".graphqlrc.cjs":"graphql",".graphqlrc.ts":"graphql",".graphqlrc.mts":"graphql",".graphqlrc.cts":"graphql",".config/graphqlrc":"graphql",".config/graphqlrc.json":"graphql",".config/graphqlrc.jsonc":"graphql",".config/graphqlrc.json5":"graphql",".config/graphqlrc.yaml":"graphql",".config/graphqlrc.yml":"graphql",".config/graphqlrc.toml":"graphql",".config/graphqlrc.js":"graphql",".config/graphqlrc.mjs":"graphql",".config/graphqlrc.cjs":"graphql",".config/graphqlrc.ts":"graphql",".config/graphqlrc.mts":"graphql",".config/graphqlrc.cts":"graphql","graphql.config.json":"graphql","graphql.config.jsonc":"graphql","graphql.config.json5":"graphql","graphql.config.yaml":"graphql","graphql.config.yml":"graphql","graphql.config.toml":"graphql","graphql.config.js":"graphql","graphql.config.mjs":"graphql","graphql.config.cjs":"graphql","graphql.config.ts":"graphql","graphql.config.mts":"graphql","graphql.config.cts":"graphql",".graphqlconfig":"graphql",".git":"git",".gitignore":"git",".gitmessage":"git",".gitignore-global":"git",".gitignore_global":"git",".gitattributes":"git",".gitattributes-global":"git",".gitattributes_global":"git",".gitconfig":"git",".gitmodules":"git",".gitkeep":"git",".keep":"git",".gitpreserve":"git",".gitinclude":"git",".git-blame-ignore":"git",".git-blame-ignore-revs":"git",".git-for-windows-updater":"git","git-history":"git",".luacheckrc":"lua",".Rhistory":"r",".pubignore":"dart","cmakelists.txt":"cmake","cmakecache.txt":"cmake","semgrep.yml":"semgrep",".semgrepignore":"semgrep","vue.config.js":"vue-config","vue.config.ts":"vue-config","vetur.config.js":"vue-config","vetur.config.ts":"vue-config","volar.config.js":"vue-config","nuxt.config.js":"nuxt","nuxt.config.ts":"nuxt",".nuxtignore":"nuxt","security.md":"lock","security.txt":"lock","security":"lock","angular-cli.json":"angular",".angular-cli.json":"angular","angular.json":"angular","ng-package.json":"angular",".mjmlconfig":"mjml","vercel.json":"vercel",".vercelignore":"vercel","now.json":"vercel",".nowignore":"vercel","verdaccio.yml":"verdaccio","payload.config.js":"payload","payload.config.mjs":"payload","payload.config.ts":"payload","payload.config.mts":"payload","next.config.js":"next","next.config.mjs":"next","next.config.ts":"next","next.config.mts":"next","remix.config.js":"remix","remix.config.ts":"remix","artisan":"laravel",".vfl":"vfl",".kl":"kl",".postcssrc":"postcss",".postcssrc.json":"postcss",".postcssrc.jsonc":"postcss",".postcssrc.json5":"postcss",".postcssrc.yaml":"postcss",".postcssrc.yml":"postcss",".postcssrc.toml":"postcss",".postcssrc.js":"postcss",".postcssrc.mjs":"postcss",".postcssrc.cjs":"postcss",".postcssrc.ts":"postcss",".postcssrc.mts":"postcss",".postcssrc.cts":"postcss",".config/postcssrc":"postcss",".config/postcssrc.json":"postcss",".config/postcssrc.jsonc":"postcss",".config/postcssrc.json5":"postcss",".config/postcssrc.yaml":"postcss",".config/postcssrc.yml":"postcss",".config/postcssrc.toml":"postcss",".config/postcssrc.js":"postcss",".config/postcssrc.mjs":"postcss",".config/postcssrc.cjs":"postcss",".config/postcssrc.ts":"postcss",".config/postcssrc.mts":"postcss",".config/postcssrc.cts":"postcss","postcss.config.json":"postcss","postcss.config.jsonc":"postcss","postcss.config.json5":"postcss","postcss.config.yaml":"postcss","postcss.config.yml":"postcss","postcss.config.toml":"postcss","postcss.config.js":"postcss","postcss.config.mjs":"postcss","postcss.config.cjs":"postcss","postcss.config.ts":"postcss","postcss.config.mts":"postcss","postcss.config.cts":"postcss",".posthtmlrc":"posthtml",".posthtmlrc.json":"posthtml",".posthtmlrc.jsonc":"posthtml",".posthtmlrc.json5":"posthtml",".posthtmlrc.yaml":"posthtml",".posthtmlrc.yml":"posthtml",".posthtmlrc.toml":"posthtml",".posthtmlrc.js":"posthtml",".posthtmlrc.mjs":"posthtml",".posthtmlrc.cjs":"posthtml",".posthtmlrc.ts":"posthtml",".posthtmlrc.mts":"posthtml",".posthtmlrc.cts":"posthtml",".config/posthtmlrc":"posthtml",".config/posthtmlrc.json":"posthtml",".config/posthtmlrc.jsonc":"posthtml",".config/posthtmlrc.json5":"posthtml",".config/posthtmlrc.yaml":"posthtml",".config/posthtmlrc.yml":"posthtml",".config/posthtmlrc.toml":"posthtml",".config/posthtmlrc.js":"posthtml",".config/posthtmlrc.mjs":"posthtml",".config/posthtmlrc.cjs":"posthtml",".config/posthtmlrc.ts":"posthtml",".config/posthtmlrc.mts":"posthtml",".config/posthtmlrc.cts":"posthtml","posthtml.config.json":"posthtml","posthtml.config.jsonc":"posthtml","posthtml.config.json5":"posthtml","posthtml.config.yaml":"posthtml","posthtml.config.yml":"posthtml","posthtml.config.toml":"posthtml","posthtml.config.js":"posthtml","posthtml.config.mjs":"posthtml","posthtml.config.cjs":"posthtml","posthtml.config.ts":"posthtml","posthtml.config.mts":"posthtml","posthtml.config.cts":"posthtml","todo.md":"todo","todos.md":"todo","cabal.project":"cabal","cabal.project.freeze":"cabal","cabal.project.local":"cabal","CNAME":"http","project.graphcool":"graphcool","webpack.base.js":"webpack","webpack.base.mjs":"webpack","webpack.base.cjs":"webpack","webpack.base.ts":"webpack","webpack.base.mts":"webpack","webpack.base.cts":"webpack","webpack.client.js":"webpack","webpack.client.mjs":"webpack","webpack.client.cjs":"webpack","webpack.client.ts":"webpack","webpack.client.mts":"webpack","webpack.client.cts":"webpack","webpack.common.js":"webpack","webpack.common.mjs":"webpack","webpack.common.cjs":"webpack","webpack.common.ts":"webpack","webpack.common.mts":"webpack","webpack.common.cts":"webpack","webpack.config.babel.js":"webpack","webpack.config.babel.mjs":"webpack","webpack.config.babel.cjs":"webpack","webpack.config.babel.ts":"webpack","webpack.config.babel.mts":"webpack","webpack.config.babel.cts":"webpack","webpack.config.base.babel.js":"webpack","webpack.config.base.babel.mjs":"webpack","webpack.config.base.babel.cjs":"webpack","webpack.config.base.babel.ts":"webpack","webpack.config.base.babel.mts":"webpack","webpack.config.base.babel.cts":"webpack","webpack.config.base.js":"webpack","webpack.config.base.mjs":"webpack","webpack.config.base.cjs":"webpack","webpack.config.base.ts":"webpack","webpack.config.base.mts":"webpack","webpack.config.base.cts":"webpack","webpack.config.client.js":"webpack","webpack.config.client.mjs":"webpack","webpack.config.client.cjs":"webpack","webpack.config.client.ts":"webpack","webpack.config.client.mts":"webpack","webpack.config.client.cts":"webpack","webpack.config.common.babel.js":"webpack","webpack.config.common.babel.mjs":"webpack","webpack.config.common.babel.cjs":"webpack","webpack.config.common.babel.ts":"webpack","webpack.config.common.babel.mts":"webpack","webpack.config.common.babel.cts":"webpack","webpack.config.common.js":"webpack","webpack.config.common.mjs":"webpack","webpack.config.common.cjs":"webpack","webpack.config.common.ts":"webpack","webpack.config.common.mts":"webpack","webpack.config.common.cts":"webpack","webpack.config.dev.babel.js":"webpack","webpack.config.dev.babel.mjs":"webpack","webpack.config.dev.babel.cjs":"webpack","webpack.config.dev.babel.ts":"webpack","webpack.config.dev.babel.mts":"webpack","webpack.config.dev.babel.cts":"webpack","webpack.config.dev.js":"webpack","webpack.config.dev.mjs":"webpack","webpack.config.dev.cjs":"webpack","webpack.config.dev.ts":"webpack","webpack.config.dev.mts":"webpack","webpack.config.dev.cts":"webpack","webpack.config.main.js":"webpack","webpack.config.main.mjs":"webpack","webpack.config.main.cjs":"webpack","webpack.config.main.ts":"webpack","webpack.config.main.mts":"webpack","webpack.config.main.cts":"webpack","webpack.config.prod.babel.js":"webpack","webpack.config.prod.babel.mjs":"webpack","webpack.config.prod.babel.cjs":"webpack","webpack.config.prod.babel.ts":"webpack","webpack.config.prod.babel.mts":"webpack","webpack.config.prod.babel.cts":"webpack","webpack.config.prod.js":"webpack","webpack.config.prod.mjs":"webpack","webpack.config.prod.cjs":"webpack","webpack.config.prod.ts":"webpack","webpack.config.prod.mts":"webpack","webpack.config.prod.cts":"webpack","webpack.config.production.babel.js":"webpack","webpack.config.production.babel.mjs":"webpack","webpack.config.production.babel.cjs":"webpack","webpack.config.production.babel.ts":"webpack","webpack.config.production.babel.mts":"webpack","webpack.config.production.babel.cts":"webpack","webpack.config.production.js":"webpack","webpack.config.production.mjs":"webpack","webpack.config.production.cjs":"webpack","webpack.config.production.ts":"webpack","webpack.config.production.mts":"webpack","webpack.config.production.cts":"webpack","webpack.config.renderer.js":"webpack","webpack.config.renderer.mjs":"webpack","webpack.config.renderer.cjs":"webpack","webpack.config.renderer.ts":"webpack","webpack.config.renderer.mts":"webpack","webpack.config.renderer.cts":"webpack","webpack.config.server.js":"webpack","webpack.config.server.mjs":"webpack","webpack.config.server.cjs":"webpack","webpack.config.server.ts":"webpack","webpack.config.server.mts":"webpack","webpack.config.server.cts":"webpack","webpack.config.staging.babel.js":"webpack","webpack.config.staging.babel.mjs":"webpack","webpack.config.staging.babel.cjs":"webpack","webpack.config.staging.babel.ts":"webpack","webpack.config.staging.babel.mts":"webpack","webpack.config.staging.babel.cts":"webpack","webpack.config.staging.js":"webpack","webpack.config.staging.mjs":"webpack","webpack.config.staging.cjs":"webpack","webpack.config.staging.ts":"webpack","webpack.config.staging.mts":"webpack","webpack.config.staging.cts":"webpack","webpack.config.test.js":"webpack","webpack.config.test.mjs":"webpack","webpack.config.test.cjs":"webpack","webpack.config.test.ts":"webpack","webpack.config.test.mts":"webpack","webpack.config.test.cts":"webpack","webpack.config.vendor.production.js":"webpack","webpack.config.vendor.production.mjs":"webpack","webpack.config.vendor.production.cjs":"webpack","webpack.config.vendor.production.ts":"webpack","webpack.config.vendor.production.mts":"webpack","webpack.config.vendor.production.cts":"webpack","webpack.config.vendor.js":"webpack","webpack.config.vendor.mjs":"webpack","webpack.config.vendor.cjs":"webpack","webpack.config.vendor.ts":"webpack","webpack.config.vendor.mts":"webpack","webpack.config.vendor.cts":"webpack","webpack.config.js":"webpack","webpack.config.mjs":"webpack","webpack.config.cjs":"webpack","webpack.config.ts":"webpack","webpack.config.mts":"webpack","webpack.config.cts":"webpack","webpack.dev.js":"webpack","webpack.dev.mjs":"webpack","webpack.dev.cjs":"webpack","webpack.dev.ts":"webpack","webpack.dev.mts":"webpack","webpack.dev.cts":"webpack","webpack.development.js":"webpack","webpack.development.mjs":"webpack","webpack.development.cjs":"webpack","webpack.development.ts":"webpack","webpack.development.mts":"webpack","webpack.development.cts":"webpack","webpack.dist.js":"webpack","webpack.dist.mjs":"webpack","webpack.dist.cjs":"webpack","webpack.dist.ts":"webpack","webpack.dist.mts":"webpack","webpack.dist.cts":"webpack","webpack.mix.js":"webpack","webpack.mix.mjs":"webpack","webpack.mix.cjs":"webpack","webpack.mix.ts":"webpack","webpack.mix.mts":"webpack","webpack.mix.cts":"webpack","webpack.prod.config.js":"webpack","webpack.prod.config.mjs":"webpack","webpack.prod.config.cjs":"webpack","webpack.prod.config.ts":"webpack","webpack.prod.config.mts":"webpack","webpack.prod.config.cts":"webpack","webpack.prod.js":"webpack","webpack.prod.mjs":"webpack","webpack.prod.cjs":"webpack","webpack.prod.ts":"webpack","webpack.prod.mts":"webpack","webpack.prod.cts":"webpack","webpack.production.js":"webpack","webpack.production.mjs":"webpack","webpack.production.cjs":"webpack","webpack.production.ts":"webpack","webpack.production.mts":"webpack","webpack.production.cts":"webpack","webpack.server.js":"webpack","webpack.server.mjs":"webpack","webpack.server.cjs":"webpack","webpack.server.ts":"webpack","webpack.server.mts":"webpack","webpack.server.cts":"webpack","webpack.test.js":"webpack","webpack.test.mjs":"webpack","webpack.test.cjs":"webpack","webpack.test.ts":"webpack","webpack.test.mts":"webpack","webpack.test.cts":"webpack","webpack.js":"webpack","webpack.mjs":"webpack","webpack.cjs":"webpack","webpack.ts":"webpack","webpack.mts":"webpack","webpack.cts":"webpack","webpackfile.js":"webpack","webpackfile.mjs":"webpack","webpackfile.cjs":"webpack","webpackfile.ts":"webpack","webpackfile.mts":"webpack","webpackfile.cts":"webpack","webpack.config.coffee":"webpack","ionic.config.json":"ionic",".io-config.json":"ionic","gulpfile.js":"gulp","gulpfile.mjs":"gulp","gulpfile.ts":"gulp","gulpfile.cts":"gulp","gulpfile.mts":"gulp","gulpfile.babel.js":"gulp","package.json":"nodejs","package-lock.json":"nodejs",".nvmrc":"nodejs",".esmrc":"nodejs",".node-version":"nodejs",".npmignore":"npm",".npmrc":"npm",".yarnrc":"yarn","yarn.lock":"yarn",".yarnclean":"yarn",".yarn-integrity":"yarn","yarn-error.log":"yarn",".yarnrc.yml":"yarn",".yarnrc.yaml":"yarn","androidmanifest.xml":"android",".env.defaults":"tune",".env.example":"tune",".env.sample":"tune",".env.template":"tune",".env.schema":"tune",".env.local":"tune",".env.dev":"tune",".env.development":"tune",".env.alpha":"tune",".env.e2e":"tune",".env.qa":"tune",".env.dist":"tune",".env.prod":"tune",".env.production":"tune",".env.stage":"tune",".env.staging":"tune",".env.preview":"tune",".env.test":"tune",".env.testing":"tune",".env.development.local":"tune",".env.qa.local":"tune",".env.production.local":"tune",".env.staging.local":"tune",".env.test.local":"tune",".env.uat":"tune","turbo.json":"turborepo",".babelrc":"babel",".babelrc.json":"babel",".babelrc.jsonc":"babel",".babelrc.json5":"babel",".babelrc.yaml":"babel",".babelrc.yml":"babel",".babelrc.toml":"babel",".babelrc.js":"babel",".babelrc.mjs":"babel",".babelrc.cjs":"babel",".babelrc.ts":"babel",".babelrc.mts":"babel",".babelrc.cts":"babel",".config/babelrc":"babel",".config/babelrc.json":"babel",".config/babelrc.jsonc":"babel",".config/babelrc.json5":"babel",".config/babelrc.yaml":"babel",".config/babelrc.yml":"babel",".config/babelrc.toml":"babel",".config/babelrc.js":"babel",".config/babelrc.mjs":"babel",".config/babelrc.cjs":"babel",".config/babelrc.ts":"babel",".config/babelrc.mts":"babel",".config/babelrc.cts":"babel","babel.config.json":"babel","babel.config.jsonc":"babel","babel.config.json5":"babel","babel.config.yaml":"babel","babel.config.yml":"babel","babel.config.toml":"babel","babel.config.js":"babel","babel.config.mjs":"babel","babel.config.cjs":"babel","babel.config.ts":"babel","babel.config.mts":"babel","babel.config.cts":"babel",".babel-plugin-macrosrc":"babel",".babel-plugin-macrosrc.json":"babel",".babel-plugin-macrosrc.jsonc":"babel",".babel-plugin-macrosrc.json5":"babel",".babel-plugin-macrosrc.yaml":"babel",".babel-plugin-macrosrc.yml":"babel",".babel-plugin-macrosrc.toml":"babel",".babel-plugin-macrosrc.js":"babel",".babel-plugin-macrosrc.mjs":"babel",".babel-plugin-macrosrc.cjs":"babel",".babel-plugin-macrosrc.ts":"babel",".babel-plugin-macrosrc.mts":"babel",".babel-plugin-macrosrc.cts":"babel",".config/babel-plugin-macrosrc":"babel",".config/babel-plugin-macrosrc.json":"babel",".config/babel-plugin-macrosrc.jsonc":"babel",".config/babel-plugin-macrosrc.json5":"babel",".config/babel-plugin-macrosrc.yaml":"babel",".config/babel-plugin-macrosrc.yml":"babel",".config/babel-plugin-macrosrc.toml":"babel",".config/babel-plugin-macrosrc.js":"babel",".config/babel-plugin-macrosrc.mjs":"babel",".config/babel-plugin-macrosrc.cjs":"babel",".config/babel-plugin-macrosrc.ts":"babel",".config/babel-plugin-macrosrc.mts":"babel",".config/babel-plugin-macrosrc.cts":"babel","babel-plugin-macros.config.json":"babel","babel-plugin-macros.config.jsonc":"babel","babel-plugin-macros.config.json5":"babel","babel-plugin-macros.config.yaml":"babel","babel-plugin-macros.config.yml":"babel","babel-plugin-macros.config.toml":"babel","babel-plugin-macros.config.js":"babel","babel-plugin-macros.config.mjs":"babel","babel-plugin-macros.config.cjs":"babel","babel-plugin-macros.config.ts":"babel","babel-plugin-macros.config.mts":"babel","babel-plugin-macros.config.cts":"babel","babel-transform.js":"babel","blitz.config.js":"blitz","blitz.config.ts":"blitz",".blitz.config.compiled.js":"blitz","contributing.md":"contributing","contributing.rst":"contributing","contributing.txt":"contributing","contributing":"contributing","readme.md":"readme","readme.rst":"readme","readme.txt":"readme","readme":"readme","changelog":"changelog","changelog.md":"changelog","changelog.rst":"changelog","changelog.txt":"changelog","changes":"changelog","changes.md":"changelog","changes.rst":"changelog","changes.txt":"changelog","architecture.md":"architecture","architecture.rst":"architecture","architecture.txt":"architecture","architecture":"architecture","credits.md":"credits","credits.rst":"credits","credits.txt":"credits","credits":"credits","authors.md":"authors","authors.rst":"authors","authors.txt":"authors","authors":"authors","contributors.md":"authors","contributors.rst":"authors","contributors.txt":"authors","contributors":"authors",".flowconfig":"flow","favicon.ico":"favicon","karma.conf.js":"karma","karma.conf.ts":"karma","karma.conf.coffee":"karma","karma.config.js":"karma","karma.config.ts":"karma","karma-main.js":"karma","karma-main.ts":"karma",".bithoundrc":"bithound","svgo.config.js":"svgo","svgo.config.cjs":"svgo","svgo.config.mjs":"svgo",".appveyor.yml":"appveyor","appveyor.yml":"appveyor",".travis.yml":"travis",".codecov.yml":"codecov","codecov.yml":"codecov","sonar-project.properties":"sonarcloud",".sonarcloud.properties":"sonarcloud","sonarcloud.yaml":"sonarcloud","protractor.conf.js":"protractor","protractor.conf.ts":"protractor","protractor.conf.coffee":"protractor","protractor.config.js":"protractor","protractor.config.ts":"protractor","fuse.js":"fusebox","procfile":"heroku","procfile.windows":"heroku",".editorconfig":"editorconfig",".bowerrc":"bower","bower.json":"bower",".eslintrc":"eslint",".eslintrc.json":"eslint",".eslintrc.jsonc":"eslint",".eslintrc.json5":"eslint",".eslintrc.yaml":"eslint",".eslintrc.yml":"eslint",".eslintrc.toml":"eslint",".eslintrc.js":"eslint",".eslintrc.mjs":"eslint",".eslintrc.cjs":"eslint",".eslintrc.ts":"eslint",".eslintrc.mts":"eslint",".eslintrc.cts":"eslint",".config/eslintrc":"eslint",".config/eslintrc.json":"eslint",".config/eslintrc.jsonc":"eslint",".config/eslintrc.json5":"eslint",".config/eslintrc.yaml":"eslint",".config/eslintrc.yml":"eslint",".config/eslintrc.toml":"eslint",".config/eslintrc.js":"eslint",".config/eslintrc.mjs":"eslint",".config/eslintrc.cjs":"eslint",".config/eslintrc.ts":"eslint",".config/eslintrc.mts":"eslint",".config/eslintrc.cts":"eslint","eslint.config.json":"eslint","eslint.config.jsonc":"eslint","eslint.config.json5":"eslint","eslint.config.yaml":"eslint","eslint.config.yml":"eslint","eslint.config.toml":"eslint","eslint.config.js":"eslint","eslint.config.mjs":"eslint","eslint.config.cjs":"eslint","eslint.config.ts":"eslint","eslint.config.mts":"eslint","eslint.config.cts":"eslint",".eslintrc-md.js":"eslint",".eslintrc-jsdoc.js":"eslint",".eslintignore":"eslint",".eslintcache":"eslint",".eslintrc.base.json":"eslint","code_of_conduct.md":"conduct","code_of_conduct.txt":"conduct","code_of_conduct":"conduct",".watchmanconfig":"watchman","aurelia.json":"aurelia",".autorc":"auto","auto.config.js":"auto","auto.config.ts":"auto","auto-config.json":"auto","auto-config.yaml":"auto","auto-config.yml":"auto","auto-config.ts":"auto","auto-config.js":"auto","mocha.opts":"mocha",".mocharc.yml":"mocha",".mocharc.yaml":"mocha",".mocharc.js":"mocha",".mocharc.json":"mocha",".mocharc.jsonc":"mocha","jenkinsfile":"jenkins","firebase.json":"firebase",".firebaserc":"firebase","firestore.rules":"firebase","firestore.indexes.json":"firebase","rollup.config.js":"rollup","rollup.config.mjs":"rollup","rollup.config.ts":"rollup","rollup-config.js":"rollup","rollup-config.mjs":"rollup","rollup-config.ts":"rollup","rollup.config.common.js":"rollup","rollup.config.common.mjs":"rollup","rollup.config.common.ts":"rollup","rollup.config.base.js":"rollup","rollup.config.base.mjs":"rollup","rollup.config.base.ts":"rollup","rollup.config.prod.js":"rollup","rollup.config.prod.mjs":"rollup","rollup.config.prod.ts":"rollup","rollup.config.dev.js":"rollup","rollup.config.dev.mjs":"rollup","rollup.config.dev.ts":"rollup","rollup.config.prod.vendor.js":"rollup","rollup.config.prod.vendor.mjs":"rollup","rollup.config.prod.vendor.ts":"rollup",".hhconfig":"hack","hardhat.config.js":"hardhat","hardhat.config.ts":"hardhat",".stylelintrc":"stylelint",".stylelintrc.json":"stylelint",".stylelintrc.jsonc":"stylelint",".stylelintrc.json5":"stylelint",".stylelintrc.yaml":"stylelint",".stylelintrc.yml":"stylelint",".stylelintrc.toml":"stylelint",".stylelintrc.js":"stylelint",".stylelintrc.mjs":"stylelint",".stylelintrc.cjs":"stylelint",".stylelintrc.ts":"stylelint",".stylelintrc.mts":"stylelint",".stylelintrc.cts":"stylelint",".config/stylelintrc":"stylelint",".config/stylelintrc.json":"stylelint",".config/stylelintrc.jsonc":"stylelint",".config/stylelintrc.json5":"stylelint",".config/stylelintrc.yaml":"stylelint",".config/stylelintrc.yml":"stylelint",".config/stylelintrc.toml":"stylelint",".config/stylelintrc.js":"stylelint",".config/stylelintrc.mjs":"stylelint",".config/stylelintrc.cjs":"stylelint",".config/stylelintrc.ts":"stylelint",".config/stylelintrc.mts":"stylelint",".config/stylelintrc.cts":"stylelint","stylelint.config.json":"stylelint","stylelint.config.jsonc":"stylelint","stylelint.config.json5":"stylelint","stylelint.config.yaml":"stylelint","stylelint.config.yml":"stylelint","stylelint.config.toml":"stylelint","stylelint.config.js":"stylelint","stylelint.config.mjs":"stylelint","stylelint.config.cjs":"stylelint","stylelint.config.ts":"stylelint","stylelint.config.mts":"stylelint","stylelint.config.cts":"stylelint",".stylelintignore":"stylelint",".stylelintcache":"stylelint",".codeclimate.yml":"code-climate",".prettierrc":"prettier",".prettierrc.json":"prettier",".prettierrc.jsonc":"prettier",".prettierrc.json5":"prettier",".prettierrc.yaml":"prettier",".prettierrc.yml":"prettier",".prettierrc.toml":"prettier",".prettierrc.js":"prettier",".prettierrc.mjs":"prettier",".prettierrc.cjs":"prettier",".prettierrc.ts":"prettier",".prettierrc.mts":"prettier",".prettierrc.cts":"prettier",".config/prettierrc":"prettier",".config/prettierrc.json":"prettier",".config/prettierrc.jsonc":"prettier",".config/prettierrc.json5":"prettier",".config/prettierrc.yaml":"prettier",".config/prettierrc.yml":"prettier",".config/prettierrc.toml":"prettier",".config/prettierrc.js":"prettier",".config/prettierrc.mjs":"prettier",".config/prettierrc.cjs":"prettier",".config/prettierrc.ts":"prettier",".config/prettierrc.mts":"prettier",".config/prettierrc.cts":"prettier","prettier.config.json":"prettier","prettier.config.jsonc":"prettier","prettier.config.json5":"prettier","prettier.config.yaml":"prettier","prettier.config.yml":"prettier","prettier.config.toml":"prettier","prettier.config.js":"prettier","prettier.config.mjs":"prettier","prettier.config.cjs":"prettier","prettier.config.ts":"prettier","prettier.config.mts":"prettier","prettier.config.cts":"prettier",".prettierignore":"prettier",".renovaterc":"renovate",".renovaterc.json":"renovate","renovate-config.json":"renovate","renovate.json":"renovate","renovate.json5":"renovate","apollo.config.js":"apollo","nodemon.json":"nodemon","nodemon-debug.json":"nodemon",".hintrc":"webhint","browserslist":"browserlist",".browserslistrc":"browserlist",".snyk":"snyk",".drone.yml":"drone",".sequelizerc":"sequelize","gatsby-config.js":"gatsby","gatsby-config.mjs":"gatsby","gatsby-config.ts":"gatsby","gatsby-node.js":"gatsby","gatsby-node.mjs":"gatsby","gatsby-node.ts":"gatsby","gatsby-browser.js":"gatsby","gatsby-browser.tsx":"gatsby","gatsby-ssr.js":"gatsby","gatsby-ssr.tsx":"gatsby",".wakatime-project":"wakatime","circle.yml":"circleci",".cfignore":"cloudfoundry","gruntfile.js":"grunt","gruntfile.ts":"grunt","gruntfile.cjs":"grunt","gruntfile.cts":"grunt","gruntfile.coffee":"grunt","gruntfile.babel.js":"grunt","gruntfile.babel.ts":"grunt","gruntfile.babel.coffee":"grunt","jest.config.js":"jest","jest.config.cjs":"jest","jest.config.mjs":"jest","jest.config.ts":"jest","jest.config.cts":"jest","jest.config.mts":"jest","jest.config.json":"jest","jest.e2e.config.js":"jest","jest.e2e.config.cjs":"jest","jest.e2e.config.mjs":"jest","jest.e2e.config.ts":"jest","jest.e2e.config.cts":"jest","jest.e2e.config.mts":"jest","jest.e2e.config.json":"jest","jest.e2e.json":"jest","jest-unit.config.js":"jest","jest-e2e.config.js":"jest","jest-e2e.config.cjs":"jest","jest-e2e.config.mjs":"jest","jest-e2e.config.ts":"jest","jest-e2e.config.cts":"jest","jest-e2e.config.mts":"jest","jest-e2e.config.json":"jest","jest-e2e.json":"jest","jest-github-actions-reporter.js":"jest","jest.setup.js":"jest","jest.setup.ts":"jest","jest.json":"jest",".jestrc":"jest",".jestrc.js":"jest",".jestrc.json":"jest","jest.teardown.js":"jest","jest-preset.json":"jest","jest-preset.js":"jest","jest-preset.cjs":"jest","jest-preset.mjs":"jest","jest.preset.js":"jest","jest.preset.mjs":"jest","jest.preset.cjs":"jest","jest.preset.json":"jest","fastfile":"fastlane","appfile":"fastlane",".helmignore":"helm","wallaby.js":"wallaby","wallaby.conf.js":"wallaby","stencil.config.js":"stencil","stencil.config.ts":"stencil","makefile":"makefile","gnumakefile":"makefile","kbuild":"makefile",".releaserc":"semantic-release",".releaserc.json":"semantic-release",".releaserc.jsonc":"semantic-release",".releaserc.json5":"semantic-release",".releaserc.yaml":"semantic-release",".releaserc.yml":"semantic-release",".releaserc.toml":"semantic-release",".releaserc.js":"semantic-release",".releaserc.mjs":"semantic-release",".releaserc.cjs":"semantic-release",".releaserc.ts":"semantic-release",".releaserc.mts":"semantic-release",".releaserc.cts":"semantic-release",".config/releaserc":"semantic-release",".config/releaserc.json":"semantic-release",".config/releaserc.jsonc":"semantic-release",".config/releaserc.json5":"semantic-release",".config/releaserc.yaml":"semantic-release",".config/releaserc.yml":"semantic-release",".config/releaserc.toml":"semantic-release",".config/releaserc.js":"semantic-release",".config/releaserc.mjs":"semantic-release",".config/releaserc.cjs":"semantic-release",".config/releaserc.ts":"semantic-release",".config/releaserc.mts":"semantic-release",".config/releaserc.cts":"semantic-release","release.config.json":"semantic-release","release.config.jsonc":"semantic-release","release.config.json5":"semantic-release","release.config.yaml":"semantic-release","release.config.yml":"semantic-release","release.config.toml":"semantic-release","release.config.js":"semantic-release","release.config.mjs":"semantic-release","release.config.cjs":"semantic-release","release.config.ts":"semantic-release","release.config.mts":"semantic-release","release.config.cts":"semantic-release","bitbucket-pipelines.yaml":"bitbucket","bitbucket-pipelines.yml":"bitbucket",".bazelignore":"bazel",".bazelrc":"bazel",".bazelversion":"bazel",".gdignore":"godot-assets","._sc_":"godot-assets","_sc_":"godot-assets","azure-pipelines.yml":"azure-pipelines","azure-pipelines.yaml":"azure-pipelines","azure-pipelines-main.yml":"azure-pipelines","azure-pipelines-main.yaml":"azure-pipelines","vagrantfile":"vagrant","prisma.yml":"prisma",".nycrc":"istanbul",".nycrc.json":"istanbul",".nycrc.yaml":"istanbul",".nycrc.yml":"istanbul","nyc.config.js":"istanbul",".istanbul.yml":"istanbul","tailwind.js":"tailwindcss","tailwind.ts":"tailwindcss","tailwind.config.js":"tailwindcss","tailwind.config.cjs":"tailwindcss","tailwind.config.mjs":"tailwindcss","tailwind.config.ts":"tailwindcss","tailwind.config.cts":"tailwindcss","tailwind.config.mts":"tailwindcss","buildkite.yml":"buildkite","buildkite.yaml":"buildkite","netlify.json":"netlify","netlify.yml":"netlify","netlify.yaml":"netlify","netlify.toml":"netlify","svelte.config.js":"svelte","svelte.config.cjs":"svelte","nest-cli.json":"nest",".nest-cli.json":"nest","nestconfig.json":"nest",".nestconfig.json":"nest","moon.yml":"moon",".percy.yml":"percy",".gitpod.yml":"gitpod","codeowners":"codeowners","OWNERS":"codeowners",".gcloudignore":"gcp",".huskyrc":"husky",".huskyrc.json":"husky",".huskyrc.jsonc":"husky",".huskyrc.json5":"husky",".huskyrc.yaml":"husky",".huskyrc.yml":"husky",".huskyrc.toml":"husky",".huskyrc.js":"husky",".huskyrc.mjs":"husky",".huskyrc.cjs":"husky",".huskyrc.ts":"husky",".huskyrc.mts":"husky",".huskyrc.cts":"husky",".config/huskyrc":"husky",".config/huskyrc.json":"husky",".config/huskyrc.jsonc":"husky",".config/huskyrc.json5":"husky",".config/huskyrc.yaml":"husky",".config/huskyrc.yml":"husky",".config/huskyrc.toml":"husky",".config/huskyrc.js":"husky",".config/huskyrc.mjs":"husky",".config/huskyrc.cjs":"husky",".config/huskyrc.ts":"husky",".config/huskyrc.mts":"husky",".config/huskyrc.cts":"husky","husky.config.json":"husky","husky.config.jsonc":"husky","husky.config.json5":"husky","husky.config.yaml":"husky","husky.config.yml":"husky","husky.config.toml":"husky","husky.config.js":"husky","husky.config.mjs":"husky","husky.config.cjs":"husky","husky.config.ts":"husky","husky.config.mts":"husky","husky.config.cts":"husky","tiltfile":"tilt","capacitor.config.json":"capacitor","capacitor.config.ts":"capacitor",".adonisrc.json":"adonis","ace":"adonis","meson.build":"meson","meson_options.txt":"meson",".commitlintrc":"commitlint",".commitlintrc.json":"commitlint",".commitlintrc.jsonc":"commitlint",".commitlintrc.json5":"commitlint",".commitlintrc.yaml":"commitlint",".commitlintrc.yml":"commitlint",".commitlintrc.toml":"commitlint",".commitlintrc.js":"commitlint",".commitlintrc.mjs":"commitlint",".commitlintrc.cjs":"commitlint",".commitlintrc.ts":"commitlint",".commitlintrc.mts":"commitlint",".commitlintrc.cts":"commitlint",".config/commitlintrc":"commitlint",".config/commitlintrc.json":"commitlint",".config/commitlintrc.jsonc":"commitlint",".config/commitlintrc.json5":"commitlint",".config/commitlintrc.yaml":"commitlint",".config/commitlintrc.yml":"commitlint",".config/commitlintrc.toml":"commitlint",".config/commitlintrc.js":"commitlint",".config/commitlintrc.mjs":"commitlint",".config/commitlintrc.cjs":"commitlint",".config/commitlintrc.ts":"commitlint",".config/commitlintrc.mts":"commitlint",".config/commitlintrc.cts":"commitlint","commitlint.config.json":"commitlint","commitlint.config.jsonc":"commitlint","commitlint.config.json5":"commitlint","commitlint.config.yaml":"commitlint","commitlint.config.yml":"commitlint","commitlint.config.toml":"commitlint","commitlint.config.js":"commitlint","commitlint.config.mjs":"commitlint","commitlint.config.cjs":"commitlint","commitlint.config.ts":"commitlint","commitlint.config.mts":"commitlint","commitlint.config.cts":"commitlint",".commitlint.yaml":"commitlint",".commitlint.yml":"commitlint",".buckconfig":"buck","nx.json":"nx",".nxignore":"nx","dune":"dune","dune-project":"dune","dune-workspace":"dune","dune-workspace.dev":"dune","roadmap.md":"roadmap","roadmap.txt":"roadmap","timeline.md":"roadmap","timeline.txt":"roadmap","milestones.md":"roadmap","milestones.txt":"roadmap","nuget.config":"nuget",".nuspec":"nuget","nuget.exe":"nuget","stryker.conf.json":"stryker","stryker.conf.js":"stryker","stryker.conf.cjs":"stryker","stryker.conf.mjs":"stryker",".stryker.conf.json":"stryker",".stryker.conf.js":"stryker",".stryker.conf.cjs":"stryker",".stryker.conf.mjs":"stryker",".modernizrrc":"modernizr",".modernizrrc.js":"modernizr",".modernizrrc.json":"modernizr",".slugignore":"slug","stitches.config.js":"stitches","stitches.config.ts":"stitches","nginx.conf":"nginx",".mcattributes":"minecraft",".mcdefinitions":"minecraft",".mcignore":"minecraft",".replit":"replit","snowpack.config.js":"snowpack","snowpack.config.cjs":"snowpack","snowpack.config.mjs":"snowpack","snowpack.config.ts":"snowpack","snowpack.config.cts":"snowpack","snowpack.config.mts":"snowpack","snowpack.deps.json":"snowpack","snowpack.config.json":"snowpack","quasar.conf.js":"quasar","quasar.config.js":"quasar","dependabot.yml":"dependabot","dependabot.yaml":"dependabot","vite.config.js":"vite","vite.config.mjs":"vite","vite.config.cjs":"vite","vite.config.ts":"vite","vite.config.cts":"vite","vite.config.mts":"vite","vitest.config.ts":"vitest","vitest.config.mts":"vitest","vitest.config.cts":"vitest","vitest.config.js":"vitest","vitest.config.mjs":"vitest","vitest.config.cjs":"vitest","vitest.workspace.ts":"vitest","vitest.workspace.mts":"vitest","vitest.workspace.cts":"vitest","vitest.workspace.js":"vitest","vitest.workspace.mjs":"vitest","vitest.workspace.cjs":"vitest","lerna.json":"lerna","windi.config.js":"windicss","windi.config.cjs":"windicss","windi.config.ts":"windicss","windi.config.cts":"windicss","windi.config.json":"windicss",".textlintrc":"textlint",".textlintrc.js":"textlint",".textlintrc.json":"textlint",".textlintrc.yml":"textlint",".textlintrc.yaml":"textlint","vpkg.json":"vlang","v.mod":"vlang",".sentryclirc":"sentry",".phpunit.result.cache":"phpunit",".phpunit-watcher.yml":"phpunit","phpunit.xml":"phpunit","phpunit.xml.dist":"phpunit","phpunit-watcher.yml":"phpunit","phpunit-watcher.yml.dist":"phpunit",".php_cs":"php-cs-fixer",".php_cs.dist":"php-cs-fixer",".php_cs.php":"php-cs-fixer",".php_cs.dist.php":"php-cs-fixer",".php-cs-fixer.php":"php-cs-fixer",".php-cs-fixer.dist.php":"php-cs-fixer","robots.txt":"robots","tsconfig.json":"tsconfig","tsconfig.app.json":"tsconfig","tsconfig.editor.json":"tsconfig","tsconfig.spec.json":"tsconfig","tsconfig.base.json":"tsconfig","tsconfig.build.json":"tsconfig","tsconfig.eslint.json":"tsconfig","tsconfig.lib.json":"tsconfig","tsconfig.lib.prod.json":"tsconfig","tsconfig.node.json":"tsconfig","tsconfig.test.json":"tsconfig","tsconfig.e2e.json":"tsconfig","tsconfig.web.json":"tsconfig","tsconfig.webworker.json":"tsconfig","tsconfig.worker.json":"tsconfig","tsconfig.config.json":"tsconfig","tsconfig.vitest.json":"tsconfig","tsconfig.cjs.json":"tsconfig","tsconfig.esm.json":"tsconfig","tsconfig.mjs.json":"tsconfig","tsconfig.doc.json":"tsconfig","tsconfig.paths.json":"tsconfig","tsconfig.main.json":"tsconfig","tsconfig.renderer.json":"tsconfig","tsconfig.server.json":"tsconfig","tauri.conf.json":"tauri","tauri.config.json":"tauri","tauri.linux.conf.json":"tauri","tauri.windows.conf.json":"tauri","tauri.macos.conf.json":"tauri",".taurignore":"tauri","jsconfig.json":"jsconfig","maven.config":"maven","jvm.config":"maven","pom.xml":"maven","serverless.yml":"serverless","serverless.yaml":"serverless","serverless.json":"serverless","serverless.js":"serverless","serverless.ts":"serverless","supabase.js":"supabase","supabase.py":"supabase",".ember-cli":"ember",".ember-cli.js":"ember","ember-cli-builds.js":"ember","horusec-config.json":"horusec","poetry.lock":"poetry","pdm.lock":"pdm","pdm.toml":"pdm",".pdm-python":"pdm",".parcelrc":"parcel",".astylerc":"astyle",".lighthouserc.js":"lighthouse","lighthouserc.js":"lighthouse",".lighthouserc.cjs":"lighthouse","lighthouserc.cjs":"lighthouse",".lighthouserc.json":"lighthouse","lighthouserc.json":"lighthouse",".lighthouserc.yml":"lighthouse","lighthouserc.yml":"lighthouse",".lighthouserc.yaml":"lighthouse","lighthouserc.yaml":"lighthouse",".svgrrc":"svgr",".svgrrc.json":"svgr",".svgrrc.jsonc":"svgr",".svgrrc.json5":"svgr",".svgrrc.yaml":"svgr",".svgrrc.yml":"svgr",".svgrrc.toml":"svgr",".svgrrc.js":"svgr",".svgrrc.mjs":"svgr",".svgrrc.cjs":"svgr",".svgrrc.ts":"svgr",".svgrrc.mts":"svgr",".svgrrc.cts":"svgr",".config/svgrrc":"svgr",".config/svgrrc.json":"svgr",".config/svgrrc.jsonc":"svgr",".config/svgrrc.json5":"svgr",".config/svgrrc.yaml":"svgr",".config/svgrrc.yml":"svgr",".config/svgrrc.toml":"svgr",".config/svgrrc.js":"svgr",".config/svgrrc.mjs":"svgr",".config/svgrrc.cjs":"svgr",".config/svgrrc.ts":"svgr",".config/svgrrc.mts":"svgr",".config/svgrrc.cts":"svgr","svgr.config.json":"svgr","svgr.config.jsonc":"svgr","svgr.config.json5":"svgr","svgr.config.yaml":"svgr","svgr.config.yml":"svgr","svgr.config.toml":"svgr","svgr.config.js":"svgr","svgr.config.mjs":"svgr","svgr.config.cjs":"svgr","svgr.config.ts":"svgr","svgr.config.mts":"svgr","svgr.config.cts":"svgr","rome.json":"rome","cypress.json":"cypress","cypress.env.json":"cypress","cypress.config.ts":"cypress","cypress.config.js":"cypress","cypress.config.cjs":"cypress","cypress.config.mjs":"cypress","plopfile.js":"plop","plopfile.cjs":"plop","plopfile.mjs":"plop","plopfile.ts":"plop",".tobimake":"tobimake","gleam.toml":"gleam","pnpm-lock.yaml":"pnpm","pnpm-workspace.yaml":"pnpm",".pnpmfile.cjs":"pnpm","gridsome.config.js":"gridsome","gridsome.server.js":"gridsome",".steadybit.yml":"steadybit","steadybit.yml":"steadybit",".steadybit.yaml":"steadybit","steadybit.yaml":"steadybit","Caddyfile":"caddy","openapi.json":"openapi","openapi.yml":"openapi","openapi.yaml":"openapi","swagger.json":"swagger","swagger.yml":"swagger","swagger.yaml":"swagger","bun.lockb":"bun","bunfig.toml":"bun",".nano-staged.js":"nano-staged","nano-staged.js":"nano-staged",".nano-staged.cjs":"nano-staged","nano-staged.cjs":"nano-staged",".nano-staged.mjs":"nano-staged","nano-staged.mjs":"nano-staged",".nano-staged.json":"nano-staged","nano-staged.json":"nano-staged",".nanostagedrc":"nano-staged","knip.json":"knip","knip.jsonc":"knip",".knip.json":"knip",".knip.jsonc":"knip","knip.ts":"knip","knip.js":"knip","knip.config.ts":"knip","knip.config.js":"knip","taskfile.yml":"taskfile","taskfile.yaml":"taskfile","taskfile.dist.yml":"taskfile","taskfile.dist.yaml":"taskfile",".cracorc":"craco",".cracorc.json":"craco",".cracorc.jsonc":"craco",".cracorc.json5":"craco",".cracorc.yaml":"craco",".cracorc.yml":"craco",".cracorc.toml":"craco",".cracorc.js":"craco",".cracorc.mjs":"craco",".cracorc.cjs":"craco",".cracorc.ts":"craco",".cracorc.mts":"craco",".cracorc.cts":"craco",".config/cracorc":"craco",".config/cracorc.json":"craco",".config/cracorc.jsonc":"craco",".config/cracorc.json5":"craco",".config/cracorc.yaml":"craco",".config/cracorc.yml":"craco",".config/cracorc.toml":"craco",".config/cracorc.js":"craco",".config/cracorc.mjs":"craco",".config/cracorc.cjs":"craco",".config/cracorc.ts":"craco",".config/cracorc.mts":"craco",".config/cracorc.cts":"craco","craco.config.json":"craco","craco.config.jsonc":"craco","craco.config.json5":"craco","craco.config.yaml":"craco","craco.config.yml":"craco","craco.config.toml":"craco","craco.config.js":"craco","craco.config.mjs":"craco","craco.config.cjs":"craco","craco.config.ts":"craco","craco.config.mts":"craco","craco.config.cts":"craco",".hg":"mercurial",".hgignore":"mercurial",".hgflow":"mercurial",".hgrc":"mercurial","hgrc":"mercurial","mercurial.ini":"mercurial","deno.json":"deno","deno.jsonc":"deno","deno.lock":"deno","plastic.branchexplorer":"plastic","plastic.selector":"plastic","plastic.wktree":"plastic","plastic.workspace":"plastic","plastic.workspaces":"plastic","uno.config.js":"unocss","uno.config.mjs":"unocss","uno.config.ts":"unocss","uno.config.mts":"unocss","unocss.config.js":"unocss","unocss.config.mjs":"unocss","unocss.config.ts":"unocss","unocss.config.mts":"unocss",".mincloudrc":"ifanr-cloud","concourse.yml":"concourse",".syncpackrc":"syncpack",".syncpackrc.json":"syncpack",".syncpackrc.jsonc":"syncpack",".syncpackrc.json5":"syncpack",".syncpackrc.yaml":"syncpack",".syncpackrc.yml":"syncpack",".syncpackrc.toml":"syncpack",".syncpackrc.js":"syncpack",".syncpackrc.mjs":"syncpack",".syncpackrc.cjs":"syncpack",".syncpackrc.ts":"syncpack",".syncpackrc.mts":"syncpack",".syncpackrc.cts":"syncpack",".config/syncpackrc":"syncpack",".config/syncpackrc.json":"syncpack",".config/syncpackrc.jsonc":"syncpack",".config/syncpackrc.json5":"syncpack",".config/syncpackrc.yaml":"syncpack",".config/syncpackrc.yml":"syncpack",".config/syncpackrc.toml":"syncpack",".config/syncpackrc.js":"syncpack",".config/syncpackrc.mjs":"syncpack",".config/syncpackrc.cjs":"syncpack",".config/syncpackrc.ts":"syncpack",".config/syncpackrc.mts":"syncpack",".config/syncpackrc.cts":"syncpack","syncpack.config.json":"syncpack","syncpack.config.jsonc":"syncpack","syncpack.config.json5":"syncpack","syncpack.config.yaml":"syncpack","syncpack.config.yml":"syncpack","syncpack.config.toml":"syncpack","syncpack.config.js":"syncpack","syncpack.config.mjs":"syncpack","syncpack.config.cjs":"syncpack","syncpack.config.ts":"syncpack","syncpack.config.mts":"syncpack","syncpack.config.cts":"syncpack","werf.yaml":"werf","werf.yml":"werf","werf-giterminism.yaml":"werf","werf-giterminism.yml":"werf","panda.config.ts":"panda","panda.config.js":"panda","panda.config.mjs":"panda","panda.config.mts":"panda","panda.config.cjs":"panda","biome.json":"biome","esbuild.js":"esbuild","esbuild.ts":"esbuild","esbuild.cjs":"esbuild","esbuild.mjs":"esbuild","esbuild.config.js":"esbuild","esbuild.config.ts":"esbuild","esbuild.config.cjs":"esbuild","esbuild.config.mjs":"esbuild",".puppeteerrc":"puppeteer",".puppeteerrc.json":"puppeteer",".puppeteerrc.jsonc":"puppeteer",".puppeteerrc.json5":"puppeteer",".puppeteerrc.yaml":"puppeteer",".puppeteerrc.yml":"puppeteer",".puppeteerrc.toml":"puppeteer",".puppeteerrc.js":"puppeteer",".puppeteerrc.mjs":"puppeteer",".puppeteerrc.cjs":"puppeteer",".puppeteerrc.ts":"puppeteer",".puppeteerrc.mts":"puppeteer",".puppeteerrc.cts":"puppeteer",".config/puppeteerrc":"puppeteer",".config/puppeteerrc.json":"puppeteer",".config/puppeteerrc.jsonc":"puppeteer",".config/puppeteerrc.json5":"puppeteer",".config/puppeteerrc.yaml":"puppeteer",".config/puppeteerrc.yml":"puppeteer",".config/puppeteerrc.toml":"puppeteer",".config/puppeteerrc.js":"puppeteer",".config/puppeteerrc.mjs":"puppeteer",".config/puppeteerrc.cjs":"puppeteer",".config/puppeteerrc.ts":"puppeteer",".config/puppeteerrc.mts":"puppeteer",".config/puppeteerrc.cts":"puppeteer","puppeteer.config.json":"puppeteer","puppeteer.config.jsonc":"puppeteer","puppeteer.config.json5":"puppeteer","puppeteer.config.yaml":"puppeteer","puppeteer.config.yml":"puppeteer","puppeteer.config.toml":"puppeteer","puppeteer.config.js":"puppeteer","puppeteer.config.mjs":"puppeteer","puppeteer.config.cjs":"puppeteer","puppeteer.config.ts":"puppeteer","puppeteer.config.mts":"puppeteer","puppeteer.config.cts":"puppeteer","PklProject":"pkl","PklProject.deps.json":"pkl","k8s.yml":"kubernetes","k8s.yaml":"kubernetes","kubernetes.yml":"kubernetes","kubernetes.yaml":"kubernetes",".k8s.yml":"kubernetes",".k8s.yaml":"kubernetes"},"c":{"bot":"folder-robot",".bot":"folder-robot","_bot":"folder-robot","__bot__":"folder-robot","robot":"folder-robot",".robot":"folder-robot","_robot":"folder-robot","__robot__":"folder-robot","src":"folder-src",".src":"folder-src","_src":"folder-src","__src__":"folder-src","srcs":"folder-src",".srcs":"folder-src","_srcs":"folder-src","__srcs__":"folder-src","source":"folder-src",".source":"folder-src","_source":"folder-src","__source__":"folder-src","sources":"folder-src",".sources":"folder-src","_sources":"folder-src","__sources__":"folder-src","code":"folder-src",".code":"folder-src","_code":"folder-src","__code__":"folder-src","dist":"folder-dist",".dist":"folder-dist","_dist":"folder-dist","__dist__":"folder-dist","out":"folder-dist",".out":"folder-dist","_out":"folder-dist","__out__":"folder-dist","build":"folder-dist",".build":"folder-dist","_build":"folder-dist","__build__":"folder-dist","release":"folder-dist",".release":"folder-dist","_release":"folder-dist","__release__":"folder-dist","bin":"folder-dist",".bin":"folder-dist","_bin":"folder-dist","__bin__":"folder-dist","css":"folder-css",".css":"folder-css","_css":"folder-css","__css__":"folder-css","stylesheet":"folder-css",".stylesheet":"folder-css","_stylesheet":"folder-css","__stylesheet__":"folder-css","stylesheets":"folder-css",".stylesheets":"folder-css","_stylesheets":"folder-css","__stylesheets__":"folder-css","style":"folder-css",".style":"folder-css","_style":"folder-css","__style__":"folder-css","styles":"folder-css",".styles":"folder-css","_styles":"folder-css","__styles__":"folder-css","sass":"folder-sass",".sass":"folder-sass","_sass":"folder-sass","__sass__":"folder-sass","scss":"folder-sass",".scss":"folder-sass","_scss":"folder-sass","__scss__":"folder-sass","tv":"folder-television",".tv":"folder-television","_tv":"folder-television","__tv__":"folder-television","television":"folder-television",".television":"folder-television","_television":"folder-television","__television__":"folder-television","desktop":"folder-desktop",".desktop":"folder-desktop","_desktop":"folder-desktop","__desktop__":"folder-desktop","console":"folder-console",".console":"folder-console","_console":"folder-console","__console__":"folder-console","images":"folder-images",".images":"folder-images","_images":"folder-images","__images__":"folder-images","image":"folder-images",".image":"folder-images","_image":"folder-images","__image__":"folder-images","imgs":"folder-images",".imgs":"folder-images","_imgs":"folder-images","__imgs__":"folder-images","img":"folder-images",".img":"folder-images","_img":"folder-images","__img__":"folder-images","icons":"folder-images",".icons":"folder-images","_icons":"folder-images","__icons__":"folder-images","icon":"folder-images",".icon":"folder-images","_icon":"folder-images","__icon__":"folder-images","icos":"folder-images",".icos":"folder-images","_icos":"folder-images","__icos__":"folder-images","ico":"folder-images",".ico":"folder-images","_ico":"folder-images","__ico__":"folder-images","figures":"folder-images",".figures":"folder-images","_figures":"folder-images","__figures__":"folder-images","figure":"folder-images",".figure":"folder-images","_figure":"folder-images","__figure__":"folder-images","figs":"folder-images",".figs":"folder-images","_figs":"folder-images","__figs__":"folder-images","fig":"folder-images",".fig":"folder-images","_fig":"folder-images","__fig__":"folder-images","screenshot":"folder-images",".screenshot":"folder-images","_screenshot":"folder-images","__screenshot__":"folder-images","screenshots":"folder-images",".screenshots":"folder-images","_screenshots":"folder-images","__screenshots__":"folder-images","screengrab":"folder-images",".screengrab":"folder-images","_screengrab":"folder-images","__screengrab__":"folder-images","screengrabs":"folder-images",".screengrabs":"folder-images","_screengrabs":"folder-images","__screengrabs__":"folder-images","pic":"folder-images",".pic":"folder-images","_pic":"folder-images","__pic__":"folder-images","pics":"folder-images",".pics":"folder-images","_pics":"folder-images","__pics__":"folder-images","picture":"folder-images",".picture":"folder-images","_picture":"folder-images","__picture__":"folder-images","pictures":"folder-images",".pictures":"folder-images","_pictures":"folder-images","__pictures__":"folder-images","photo":"folder-images",".photo":"folder-images","_photo":"folder-images","__photo__":"folder-images","photos":"folder-images",".photos":"folder-images","_photos":"folder-images","__photos__":"folder-images","photograph":"folder-images",".photograph":"folder-images","_photograph":"folder-images","__photograph__":"folder-images","photographs":"folder-images",".photographs":"folder-images","_photographs":"folder-images","__photographs__":"folder-images","script":"folder-scripts",".script":"folder-scripts","_script":"folder-scripts","__script__":"folder-scripts","scripts":"folder-scripts",".scripts":"folder-scripts","_scripts":"folder-scripts","__scripts__":"folder-scripts","scripting":"folder-scripts",".scripting":"folder-scripts","_scripting":"folder-scripts","__scripting__":"folder-scripts","node_modules":"folder-node",".node_modules":"folder-node","_node_modules":"folder-node","__node_modules__":"folder-node","js":"folder-javascript",".js":"folder-javascript","_js":"folder-javascript","__js__":"folder-javascript","javascript":"folder-javascript",".javascript":"folder-javascript","_javascript":"folder-javascript","__javascript__":"folder-javascript","javascripts":"folder-javascript",".javascripts":"folder-javascript","_javascripts":"folder-javascript","__javascripts__":"folder-javascript","json":"folder-json",".json":"folder-json","_json":"folder-json","__json__":"folder-json","jsons":"folder-json",".jsons":"folder-json","_jsons":"folder-json","__jsons__":"folder-json","font":"folder-font",".font":"folder-font","_font":"folder-font","__font__":"folder-font","fonts":"folder-font",".fonts":"folder-font","_fonts":"folder-font","__fonts__":"folder-font","bower_components":"folder-bower",".bower_components":"folder-bower","_bower_components":"folder-bower","__bower_components__":"folder-bower","test":"folder-test",".test":"folder-test","_test":"folder-test","__test__":"folder-test","tests":"folder-test",".tests":"folder-test","_tests":"folder-test","__tests__":"folder-test","testing":"folder-test",".testing":"folder-test","_testing":"folder-test","__testing__":"folder-test","snapshots":"folder-test",".snapshots":"folder-test","_snapshots":"folder-test","__snapshots__":"folder-test","spec":"folder-test",".spec":"folder-test","_spec":"folder-test","__spec__":"folder-test","specs":"folder-test",".specs":"folder-test","_specs":"folder-test","__specs__":"folder-test","jinja":"folder-jinja",".jinja":"folder-jinja","_jinja":"folder-jinja","__jinja__":"folder-jinja","jinja2":"folder-jinja",".jinja2":"folder-jinja","_jinja2":"folder-jinja","__jinja2__":"folder-jinja","j2":"folder-jinja",".j2":"folder-jinja","_j2":"folder-jinja","__j2__":"folder-jinja","markdown":"folder-markdown",".markdown":"folder-markdown","_markdown":"folder-markdown","__markdown__":"folder-markdown","md":"folder-markdown",".md":"folder-markdown","_md":"folder-markdown","__md__":"folder-markdown","pdm-plugins":"folder-pdm",".pdm-plugins":"folder-pdm","_pdm-plugins":"folder-pdm","__pdm-plugins__":"folder-pdm","pdm-build":"folder-pdm",".pdm-build":"folder-pdm","_pdm-build":"folder-pdm","__pdm-build__":"folder-pdm","php":"folder-php",".php":"folder-php","_php":"folder-php","__php__":"folder-php","phpmailer":"folder-phpmailer",".phpmailer":"folder-phpmailer","_phpmailer":"folder-phpmailer","__phpmailer__":"folder-phpmailer","sublime":"folder-sublime",".sublime":"folder-sublime","_sublime":"folder-sublime","__sublime__":"folder-sublime","doc":"folder-docs",".doc":"folder-docs","_doc":"folder-docs","__doc__":"folder-docs","docs":"folder-docs",".docs":"folder-docs","_docs":"folder-docs","__docs__":"folder-docs","document":"folder-docs",".document":"folder-docs","_document":"folder-docs","__document__":"folder-docs","documents":"folder-docs",".documents":"folder-docs","_documents":"folder-docs","__documents__":"folder-docs","documentation":"folder-docs",".documentation":"folder-docs","_documentation":"folder-docs","__documentation__":"folder-docs","post":"folder-docs",".post":"folder-docs","_post":"folder-docs","__post__":"folder-docs","posts":"folder-docs",".posts":"folder-docs","_posts":"folder-docs","__posts__":"folder-docs","article":"folder-docs",".article":"folder-docs","_article":"folder-docs","__article__":"folder-docs","articles":"folder-docs",".articles":"folder-docs","_articles":"folder-docs","__articles__":"folder-docs","git":"folder-git",".git":"folder-git","_git":"folder-git","__git__":"folder-git","patches":"folder-git",".patches":"folder-git","_patches":"folder-git","__patches__":"folder-git","githooks":"folder-git",".githooks":"folder-git","_githooks":"folder-git","__githooks__":"folder-git","submodules":"folder-git",".submodules":"folder-git","_submodules":"folder-git","__submodules__":"folder-git","github":"folder-github",".github":"folder-github","_github":"folder-github","__github__":"folder-github","gitlab":"folder-gitlab",".gitlab":"folder-gitlab","_gitlab":"folder-gitlab","__gitlab__":"folder-gitlab","vscode":"folder-vscode",".vscode":"folder-vscode","_vscode":"folder-vscode","__vscode__":"folder-vscode","vscode-test":"folder-vscode",".vscode-test":"folder-vscode","_vscode-test":"folder-vscode","__vscode-test__":"folder-vscode","view":"folder-views",".view":"folder-views","_view":"folder-views","__view__":"folder-views","views":"folder-views",".views":"folder-views","_views":"folder-views","__views__":"folder-views","screen":"folder-views",".screen":"folder-views","_screen":"folder-views","__screen__":"folder-views","screens":"folder-views",".screens":"folder-views","_screens":"folder-views","__screens__":"folder-views","page":"folder-views",".page":"folder-views","_page":"folder-views","__page__":"folder-views","pages":"folder-views",".pages":"folder-views","_pages":"folder-views","__pages__":"folder-views","public_html":"folder-views",".public_html":"folder-views","_public_html":"folder-views","__public_html__":"folder-views","html":"folder-views",".html":"folder-views","_html":"folder-views","__html__":"folder-views","vue":"folder-vue",".vue":"folder-vue","_vue":"folder-vue","__vue__":"folder-vue","vuepress":"folder-vuepress",".vuepress":"folder-vuepress","_vuepress":"folder-vuepress","__vuepress__":"folder-vuepress","expo":"folder-expo",".expo":"folder-expo","_expo":"folder-expo","__expo__":"folder-expo","expo-shared":"folder-expo",".expo-shared":"folder-expo","_expo-shared":"folder-expo","__expo-shared__":"folder-expo","cfg":"folder-config",".cfg":"folder-config","_cfg":"folder-config","__cfg__":"folder-config","cfgs":"folder-config",".cfgs":"folder-config","_cfgs":"folder-config","__cfgs__":"folder-config","conf":"folder-config",".conf":"folder-config","_conf":"folder-config","__conf__":"folder-config","confs":"folder-config",".confs":"folder-config","_confs":"folder-config","__confs__":"folder-config","config":"folder-config",".config":"folder-config","_config":"folder-config","__config__":"folder-config","configs":"folder-config",".configs":"folder-config","_configs":"folder-config","__configs__":"folder-config","configuration":"folder-config",".configuration":"folder-config","_configuration":"folder-config","__configuration__":"folder-config","configurations":"folder-config",".configurations":"folder-config","_configurations":"folder-config","__configurations__":"folder-config","setting":"folder-config",".setting":"folder-config","_setting":"folder-config","__setting__":"folder-config","settings":"folder-config",".settings":"folder-config","_settings":"folder-config","__settings__":"folder-config","META-INF":"folder-config",".META-INF":"folder-config","_META-INF":"folder-config","__META-INF__":"folder-config","option":"folder-config",".option":"folder-config","_option":"folder-config","__option__":"folder-config","options":"folder-config",".options":"folder-config","_options":"folder-config","__options__":"folder-config","i18n":"folder-i18n",".i18n":"folder-i18n","_i18n":"folder-i18n","__i18n__":"folder-i18n","internationalization":"folder-i18n",".internationalization":"folder-i18n","_internationalization":"folder-i18n","__internationalization__":"folder-i18n","lang":"folder-i18n",".lang":"folder-i18n","_lang":"folder-i18n","__lang__":"folder-i18n","langs":"folder-i18n",".langs":"folder-i18n","_langs":"folder-i18n","__langs__":"folder-i18n","language":"folder-i18n",".language":"folder-i18n","_language":"folder-i18n","__language__":"folder-i18n","languages":"folder-i18n",".languages":"folder-i18n","_languages":"folder-i18n","__languages__":"folder-i18n","locale":"folder-i18n",".locale":"folder-i18n","_locale":"folder-i18n","__locale__":"folder-i18n","locales":"folder-i18n",".locales":"folder-i18n","_locales":"folder-i18n","__locales__":"folder-i18n","l10n":"folder-i18n",".l10n":"folder-i18n","_l10n":"folder-i18n","__l10n__":"folder-i18n","localization":"folder-i18n",".localization":"folder-i18n","_localization":"folder-i18n","__localization__":"folder-i18n","translation":"folder-i18n",".translation":"folder-i18n","_translation":"folder-i18n","__translation__":"folder-i18n","translate":"folder-i18n",".translate":"folder-i18n","_translate":"folder-i18n","__translate__":"folder-i18n","translations":"folder-i18n",".translations":"folder-i18n","_translations":"folder-i18n","__translations__":"folder-i18n","tx":"folder-i18n",".tx":"folder-i18n","_tx":"folder-i18n","__tx__":"folder-i18n","components":"folder-components",".components":"folder-components","_components":"folder-components","__components__":"folder-components","widget":"folder-components",".widget":"folder-components","_widget":"folder-components","__widget__":"folder-components","widgets":"folder-components",".widgets":"folder-components","_widgets":"folder-components","__widgets__":"folder-components","fragments":"folder-components",".fragments":"folder-components","_fragments":"folder-components","__fragments__":"folder-components","verdaccio":"folder-verdaccio",".verdaccio":"folder-verdaccio","_verdaccio":"folder-verdaccio","__verdaccio__":"folder-verdaccio","aurelia_project":"folder-aurelia",".aurelia_project":"folder-aurelia","_aurelia_project":"folder-aurelia","__aurelia_project__":"folder-aurelia","resource":"folder-resource",".resource":"folder-resource","_resource":"folder-resource","__resource__":"folder-resource","resources":"folder-resource",".resources":"folder-resource","_resources":"folder-resource","__resources__":"folder-resource","res":"folder-resource",".res":"folder-resource","_res":"folder-resource","__res__":"folder-resource","asset":"folder-resource",".asset":"folder-resource","_asset":"folder-resource","__asset__":"folder-resource","assets":"folder-resource",".assets":"folder-resource","_assets":"folder-resource","__assets__":"folder-resource","static":"folder-resource",".static":"folder-resource","_static":"folder-resource","__static__":"folder-resource","report":"folder-resource",".report":"folder-resource","_report":"folder-resource","__report__":"folder-resource","reports":"folder-resource",".reports":"folder-resource","_reports":"folder-resource","__reports__":"folder-resource","lib":"folder-lib",".lib":"folder-lib","_lib":"folder-lib","__lib__":"folder-lib","libs":"folder-lib",".libs":"folder-lib","_libs":"folder-lib","__libs__":"folder-lib","library":"folder-lib",".library":"folder-lib","_library":"folder-lib","__library__":"folder-lib","libraries":"folder-lib",".libraries":"folder-lib","_libraries":"folder-lib","__libraries__":"folder-lib","vendor":"folder-lib",".vendor":"folder-lib","_vendor":"folder-lib","__vendor__":"folder-lib","vendors":"folder-lib",".vendors":"folder-lib","_vendors":"folder-lib","__vendors__":"folder-lib","third-party":"folder-lib",".third-party":"folder-lib","_third-party":"folder-lib","__third-party__":"folder-lib","themes":"folder-theme",".themes":"folder-theme","_themes":"folder-theme","__themes__":"folder-theme","theme":"folder-theme",".theme":"folder-theme","_theme":"folder-theme","__theme__":"folder-theme","color":"folder-theme",".color":"folder-theme","_color":"folder-theme","__color__":"folder-theme","colors":"folder-theme",".colors":"folder-theme","_colors":"folder-theme","__colors__":"folder-theme","design":"folder-theme",".design":"folder-theme","_design":"folder-theme","__design__":"folder-theme","designs":"folder-theme",".designs":"folder-theme","_designs":"folder-theme","__designs__":"folder-theme","webpack":"folder-webpack",".webpack":"folder-webpack","_webpack":"folder-webpack","__webpack__":"folder-webpack","global":"folder-global",".global":"folder-global","_global":"folder-global","__global__":"folder-global","public":"folder-public",".public":"folder-public","_public":"folder-public","__public__":"folder-public","www":"folder-public",".www":"folder-public","_www":"folder-public","__www__":"folder-public","wwwroot":"folder-public",".wwwroot":"folder-public","_wwwroot":"folder-public","__wwwroot__":"folder-public","web":"folder-public",".web":"folder-public","_web":"folder-public","__web__":"folder-public","website":"folder-public",".website":"folder-public","_website":"folder-public","__website__":"folder-public","site":"folder-public",".site":"folder-public","_site":"folder-public","__site__":"folder-public","browser":"folder-public",".browser":"folder-public","_browser":"folder-public","__browser__":"folder-public","browsers":"folder-public",".browsers":"folder-public","_browsers":"folder-public","__browsers__":"folder-public","inc":"folder-include",".inc":"folder-include","_inc":"folder-include","__inc__":"folder-include","include":"folder-include",".include":"folder-include","_include":"folder-include","__include__":"folder-include","includes":"folder-include",".includes":"folder-include","_includes":"folder-include","__includes__":"folder-include","partial":"folder-include",".partial":"folder-include","_partial":"folder-include","__partial__":"folder-include","partials":"folder-include",".partials":"folder-include","_partials":"folder-include","__partials__":"folder-include","docker":"folder-docker",".docker":"folder-docker","_docker":"folder-docker","__docker__":"folder-docker","dockerfiles":"folder-docker",".dockerfiles":"folder-docker","_dockerfiles":"folder-docker","__dockerfiles__":"folder-docker","db":"folder-database",".db":"folder-database","_db":"folder-database","__db__":"folder-database","data":"folder-database",".data":"folder-database","_data":"folder-database","__data__":"folder-database","database":"folder-database",".database":"folder-database","_database":"folder-database","__database__":"folder-database","databases":"folder-database",".databases":"folder-database","_databases":"folder-database","__databases__":"folder-database","sql":"folder-database",".sql":"folder-database","_sql":"folder-database","__sql__":"folder-database","log":"folder-log",".log":"folder-log","_log":"folder-log","__log__":"folder-log","logs":"folder-log",".logs":"folder-log","_logs":"folder-log","__logs__":"folder-log","logging":"folder-log",".logging":"folder-log","_logging":"folder-log","__logging__":"folder-log","target":"folder-target",".target":"folder-target","_target":"folder-target","__target__":"folder-target","temp":"folder-temp",".temp":"folder-temp","_temp":"folder-temp","__temp__":"folder-temp","tmp":"folder-temp",".tmp":"folder-temp","_tmp":"folder-temp","__tmp__":"folder-temp","cached":"folder-temp",".cached":"folder-temp","_cached":"folder-temp","__cached__":"folder-temp","cache":"folder-temp",".cache":"folder-temp","_cache":"folder-temp","__cache__":"folder-temp","aws":"folder-aws",".aws":"folder-aws","_aws":"folder-aws","__aws__":"folder-aws","aud":"folder-audio",".aud":"folder-audio","_aud":"folder-audio","__aud__":"folder-audio","auds":"folder-audio",".auds":"folder-audio","_auds":"folder-audio","__auds__":"folder-audio","audio":"folder-audio",".audio":"folder-audio","_audio":"folder-audio","__audio__":"folder-audio","audios":"folder-audio",".audios":"folder-audio","_audios":"folder-audio","__audios__":"folder-audio","music":"folder-audio",".music":"folder-audio","_music":"folder-audio","__music__":"folder-audio","sound":"folder-audio",".sound":"folder-audio","_sound":"folder-audio","__sound__":"folder-audio","sounds":"folder-audio",".sounds":"folder-audio","_sounds":"folder-audio","__sounds__":"folder-audio","vid":"folder-video",".vid":"folder-video","_vid":"folder-video","__vid__":"folder-video","vids":"folder-video",".vids":"folder-video","_vids":"folder-video","__vids__":"folder-video","video":"folder-video",".video":"folder-video","_video":"folder-video","__video__":"folder-video","videos":"folder-video",".videos":"folder-video","_videos":"folder-video","__videos__":"folder-video","movie":"folder-video",".movie":"folder-video","_movie":"folder-video","__movie__":"folder-video","movies":"folder-video",".movies":"folder-video","_movies":"folder-video","__movies__":"folder-video","kubernetes":"folder-kubernetes",".kubernetes":"folder-kubernetes","_kubernetes":"folder-kubernetes","__kubernetes__":"folder-kubernetes","k8s":"folder-kubernetes",".k8s":"folder-kubernetes","_k8s":"folder-kubernetes","__k8s__":"folder-kubernetes","import":"folder-import",".import":"folder-import","_import":"folder-import","__import__":"folder-import","imports":"folder-import",".imports":"folder-import","_imports":"folder-import","__imports__":"folder-import","imported":"folder-import",".imported":"folder-import","_imported":"folder-import","__imported__":"folder-import","export":"folder-export",".export":"folder-export","_export":"folder-export","__export__":"folder-export","exports":"folder-export",".exports":"folder-export","_exports":"folder-export","__exports__":"folder-export","exported":"folder-export",".exported":"folder-export","_exported":"folder-export","__exported__":"folder-export","wakatime":"folder-wakatime",".wakatime":"folder-wakatime","_wakatime":"folder-wakatime","__wakatime__":"folder-wakatime","circleci":"folder-circleci",".circleci":"folder-circleci","_circleci":"folder-circleci","__circleci__":"folder-circleci","wordpress-org":"folder-wordpress",".wordpress-org":"folder-wordpress","_wordpress-org":"folder-wordpress","__wordpress-org__":"folder-wordpress","wp-content":"folder-wordpress",".wp-content":"folder-wordpress","_wp-content":"folder-wordpress","__wp-content__":"folder-wordpress","gradle":"folder-gradle",".gradle":"folder-gradle","_gradle":"folder-gradle","__gradle__":"folder-gradle","coverage":"folder-coverage",".coverage":"folder-coverage","_coverage":"folder-coverage","__coverage__":"folder-coverage","nyc-output":"folder-coverage",".nyc-output":"folder-coverage","_nyc-output":"folder-coverage","__nyc-output__":"folder-coverage","nyc_output":"folder-coverage",".nyc_output":"folder-coverage","_nyc_output":"folder-coverage","__nyc_output__":"folder-coverage","e2e":"folder-coverage",".e2e":"folder-coverage","_e2e":"folder-coverage","__e2e__":"folder-coverage","it":"folder-coverage",".it":"folder-coverage","_it":"folder-coverage","__it__":"folder-coverage","integration-test":"folder-coverage",".integration-test":"folder-coverage","_integration-test":"folder-coverage","__integration-test__":"folder-coverage","integration-tests":"folder-coverage",".integration-tests":"folder-coverage","_integration-tests":"folder-coverage","__integration-tests__":"folder-coverage","class":"folder-class",".class":"folder-class","_class":"folder-class","__class__":"folder-class","classes":"folder-class",".classes":"folder-class","_classes":"folder-class","__classes__":"folder-class","model":"folder-class",".model":"folder-class","_model":"folder-class","__model__":"folder-class","models":"folder-class",".models":"folder-class","_models":"folder-class","__models__":"folder-class","schemas":"folder-class",".schemas":"folder-class","_schemas":"folder-class","__schemas__":"folder-class","schema":"folder-class",".schema":"folder-class","_schema":"folder-class","__schema__":"folder-class","other":"folder-other",".other":"folder-other","_other":"folder-other","__other__":"folder-other","others":"folder-other",".others":"folder-other","_others":"folder-other","__others__":"folder-other","misc":"folder-other",".misc":"folder-other","_misc":"folder-other","__misc__":"folder-other","miscellaneous":"folder-other",".miscellaneous":"folder-other","_miscellaneous":"folder-other","__miscellaneous__":"folder-other","extra":"folder-other",".extra":"folder-other","_extra":"folder-other","__extra__":"folder-other","extras":"folder-other",".extras":"folder-other","_extras":"folder-other","__extras__":"folder-other","etc":"folder-other",".etc":"folder-other","_etc":"folder-other","__etc__":"folder-other","lua":"folder-lua",".lua":"folder-lua","_lua":"folder-lua","__lua__":"folder-lua","typescript":"folder-typescript",".typescript":"folder-typescript","_typescript":"folder-typescript","__typescript__":"folder-typescript","ts":"folder-typescript",".ts":"folder-typescript","_ts":"folder-typescript","__ts__":"folder-typescript","typings":"folder-typescript",".typings":"folder-typescript","_typings":"folder-typescript","__typings__":"folder-typescript","@types":"folder-typescript",".@types":"folder-typescript","_@types":"folder-typescript","__@types__":"folder-typescript","types":"folder-typescript",".types":"folder-typescript","_types":"folder-typescript","__types__":"folder-typescript","graphql":"folder-graphql",".graphql":"folder-graphql","_graphql":"folder-graphql","__graphql__":"folder-graphql","gql":"folder-graphql",".gql":"folder-graphql","_gql":"folder-graphql","__gql__":"folder-graphql","routes":"folder-routes",".routes":"folder-routes","_routes":"folder-routes","__routes__":"folder-routes","router":"folder-routes",".router":"folder-routes","_router":"folder-routes","__router__":"folder-routes","routers":"folder-routes",".routers":"folder-routes","_routers":"folder-routes","__routers__":"folder-routes","ci":"folder-ci",".ci":"folder-ci","_ci":"folder-ci","__ci__":"folder-ci","benchmark":"folder-benchmark",".benchmark":"folder-benchmark","_benchmark":"folder-benchmark","__benchmark__":"folder-benchmark","benchmarks":"folder-benchmark",".benchmarks":"folder-benchmark","_benchmarks":"folder-benchmark","__benchmarks__":"folder-benchmark","performance":"folder-benchmark",".performance":"folder-benchmark","_performance":"folder-benchmark","__performance__":"folder-benchmark","measure":"folder-benchmark",".measure":"folder-benchmark","_measure":"folder-benchmark","__measure__":"folder-benchmark","measures":"folder-benchmark",".measures":"folder-benchmark","_measures":"folder-benchmark","__measures__":"folder-benchmark","measurement":"folder-benchmark",".measurement":"folder-benchmark","_measurement":"folder-benchmark","__measurement__":"folder-benchmark","messages":"folder-messages",".messages":"folder-messages","_messages":"folder-messages","__messages__":"folder-messages","messaging":"folder-messages",".messaging":"folder-messages","_messaging":"folder-messages","__messaging__":"folder-messages","forum":"folder-messages",".forum":"folder-messages","_forum":"folder-messages","__forum__":"folder-messages","chat":"folder-messages",".chat":"folder-messages","_chat":"folder-messages","__chat__":"folder-messages","chats":"folder-messages",".chats":"folder-messages","_chats":"folder-messages","__chats__":"folder-messages","conversation":"folder-messages",".conversation":"folder-messages","_conversation":"folder-messages","__conversation__":"folder-messages","conversations":"folder-messages",".conversations":"folder-messages","_conversations":"folder-messages","__conversations__":"folder-messages","less":"folder-less",".less":"folder-less","_less":"folder-less","__less__":"folder-less","gulp":"folder-gulp",".gulp":"folder-gulp","_gulp":"folder-gulp","__gulp__":"folder-gulp","gulp-tasks":"folder-gulp",".gulp-tasks":"folder-gulp","_gulp-tasks":"folder-gulp","__gulp-tasks__":"folder-gulp","gulpfile.js":"folder-gulp",".gulpfile.js":"folder-gulp","_gulpfile.js":"folder-gulp","__gulpfile.js__":"folder-gulp","gulpfile.mjs":"folder-gulp",".gulpfile.mjs":"folder-gulp","_gulpfile.mjs":"folder-gulp","__gulpfile.mjs__":"folder-gulp","gulpfile.ts":"folder-gulp",".gulpfile.ts":"folder-gulp","_gulpfile.ts":"folder-gulp","__gulpfile.ts__":"folder-gulp","gulpfile.babel.js":"folder-gulp",".gulpfile.babel.js":"folder-gulp","_gulpfile.babel.js":"folder-gulp","__gulpfile.babel.js__":"folder-gulp","python":"folder-python",".python":"folder-python","_python":"folder-python","__python__":"folder-python","pycache":"folder-python",".pycache":"folder-python","_pycache":"folder-python","__pycache__":"folder-python","pytest_cache":"folder-python",".pytest_cache":"folder-python","_pytest_cache":"folder-python","__pytest_cache__":"folder-python","mojo":"folder-mojo",".mojo":"folder-mojo","_mojo":"folder-mojo","__mojo__":"folder-mojo","moon":"folder-moon",".moon":"folder-moon","_moon":"folder-moon","__moon__":"folder-moon","debug":"folder-debug",".debug":"folder-debug","_debug":"folder-debug","__debug__":"folder-debug","debugging":"folder-debug",".debugging":"folder-debug","_debugging":"folder-debug","__debugging__":"folder-debug","fastlane":"folder-fastlane",".fastlane":"folder-fastlane","_fastlane":"folder-fastlane","__fastlane__":"folder-fastlane","plugin":"folder-plugin",".plugin":"folder-plugin","_plugin":"folder-plugin","__plugin__":"folder-plugin","plugins":"folder-plugin",".plugins":"folder-plugin","_plugins":"folder-plugin","__plugins__":"folder-plugin","mod":"folder-plugin",".mod":"folder-plugin","_mod":"folder-plugin","__mod__":"folder-plugin","mods":"folder-plugin",".mods":"folder-plugin","_mods":"folder-plugin","__mods__":"folder-plugin","modding":"folder-plugin",".modding":"folder-plugin","_modding":"folder-plugin","__modding__":"folder-plugin","extension":"folder-plugin",".extension":"folder-plugin","_extension":"folder-plugin","__extension__":"folder-plugin","extensions":"folder-plugin",".extensions":"folder-plugin","_extensions":"folder-plugin","__extensions__":"folder-plugin","addon":"folder-plugin",".addon":"folder-plugin","_addon":"folder-plugin","__addon__":"folder-plugin","addons":"folder-plugin",".addons":"folder-plugin","_addons":"folder-plugin","__addons__":"folder-plugin","module":"folder-plugin",".module":"folder-plugin","_module":"folder-plugin","__module__":"folder-plugin","modules":"folder-plugin",".modules":"folder-plugin","_modules":"folder-plugin","__modules__":"folder-plugin","middleware":"folder-middleware",".middleware":"folder-middleware","_middleware":"folder-middleware","__middleware__":"folder-middleware","middlewares":"folder-middleware",".middlewares":"folder-middleware","_middlewares":"folder-middleware","__middlewares__":"folder-middleware","controller":"folder-controller",".controller":"folder-controller","_controller":"folder-controller","__controller__":"folder-controller","controllers":"folder-controller",".controllers":"folder-controller","_controllers":"folder-controller","__controllers__":"folder-controller","service":"folder-controller",".service":"folder-controller","_service":"folder-controller","__service__":"folder-controller","services":"folder-controller",".services":"folder-controller","_services":"folder-controller","__services__":"folder-controller","provider":"folder-controller",".provider":"folder-controller","_provider":"folder-controller","__provider__":"folder-controller","providers":"folder-controller",".providers":"folder-controller","_providers":"folder-controller","__providers__":"folder-controller","handler":"folder-controller",".handler":"folder-controller","_handler":"folder-controller","__handler__":"folder-controller","handlers":"folder-controller",".handlers":"folder-controller","_handlers":"folder-controller","__handlers__":"folder-controller","ansible":"folder-ansible",".ansible":"folder-ansible","_ansible":"folder-ansible","__ansible__":"folder-ansible","server":"folder-server",".server":"folder-server","_server":"folder-server","__server__":"folder-server","servers":"folder-server",".servers":"folder-server","_servers":"folder-server","__servers__":"folder-server","backend":"folder-server",".backend":"folder-server","_backend":"folder-server","__backend__":"folder-server","backends":"folder-server",".backends":"folder-server","_backends":"folder-server","__backends__":"folder-server","client":"folder-client",".client":"folder-client","_client":"folder-client","__client__":"folder-client","clients":"folder-client",".clients":"folder-client","_clients":"folder-client","__clients__":"folder-client","frontend":"folder-client",".frontend":"folder-client","_frontend":"folder-client","__frontend__":"folder-client","frontends":"folder-client",".frontends":"folder-client","_frontends":"folder-client","__frontends__":"folder-client","pwa":"folder-client",".pwa":"folder-client","_pwa":"folder-client","__pwa__":"folder-client","tasks":"folder-tasks",".tasks":"folder-tasks","_tasks":"folder-tasks","__tasks__":"folder-tasks","tickets":"folder-tasks",".tickets":"folder-tasks","_tickets":"folder-tasks","__tickets__":"folder-tasks","android":"folder-android",".android":"folder-android","_android":"folder-android","__android__":"folder-android","ios":"folder-ios",".ios":"folder-ios","_ios":"folder-ios","__ios__":"folder-ios","uploads":"folder-upload",".uploads":"folder-upload","_uploads":"folder-upload","__uploads__":"folder-upload","upload":"folder-upload",".upload":"folder-upload","_upload":"folder-upload","__upload__":"folder-upload","downloads":"folder-download",".downloads":"folder-download","_downloads":"folder-download","__downloads__":"folder-download","download":"folder-download",".download":"folder-download","_download":"folder-download","__download__":"folder-download","tools":"folder-tools",".tools":"folder-tools","_tools":"folder-tools","__tools__":"folder-tools","toolkit":"folder-tools",".toolkit":"folder-tools","_toolkit":"folder-tools","__toolkit__":"folder-tools","toolkits":"folder-tools",".toolkits":"folder-tools","_toolkits":"folder-tools","__toolkits__":"folder-tools","toolbox":"folder-tools",".toolbox":"folder-tools","_toolbox":"folder-tools","__toolbox__":"folder-tools","toolboxes":"folder-tools",".toolboxes":"folder-tools","_toolboxes":"folder-tools","__toolboxes__":"folder-tools","tooling":"folder-tools",".tooling":"folder-tools","_tooling":"folder-tools","__tooling__":"folder-tools","helpers":"folder-helper",".helpers":"folder-helper","_helpers":"folder-helper","__helpers__":"folder-helper","helper":"folder-helper",".helper":"folder-helper","_helper":"folder-helper","__helper__":"folder-helper","serverless":"folder-serverless",".serverless":"folder-serverless","_serverless":"folder-serverless","__serverless__":"folder-serverless","api":"folder-api",".api":"folder-api","_api":"folder-api","__api__":"folder-api","apis":"folder-api",".apis":"folder-api","_apis":"folder-api","__apis__":"folder-api","restapi":"folder-api",".restapi":"folder-api","_restapi":"folder-api","__restapi__":"folder-api","app":"folder-app",".app":"folder-app","_app":"folder-app","__app__":"folder-app","apps":"folder-app",".apps":"folder-app","_apps":"folder-app","__apps__":"folder-app","apollo":"folder-apollo",".apollo":"folder-apollo","_apollo":"folder-apollo","__apollo__":"folder-apollo","apollo-client":"folder-apollo",".apollo-client":"folder-apollo","_apollo-client":"folder-apollo","__apollo-client__":"folder-apollo","apollo-cache":"folder-apollo",".apollo-cache":"folder-apollo","_apollo-cache":"folder-apollo","__apollo-cache__":"folder-apollo","apollo-config":"folder-apollo",".apollo-config":"folder-apollo","_apollo-config":"folder-apollo","__apollo-config__":"folder-apollo","arc":"folder-archive",".arc":"folder-archive","_arc":"folder-archive","__arc__":"folder-archive","arcs":"folder-archive",".arcs":"folder-archive","_arcs":"folder-archive","__arcs__":"folder-archive","archive":"folder-archive",".archive":"folder-archive","_archive":"folder-archive","__archive__":"folder-archive","archives":"folder-archive",".archives":"folder-archive","_archives":"folder-archive","__archives__":"folder-archive","archival":"folder-archive",".archival":"folder-archive","_archival":"folder-archive","__archival__":"folder-archive","bkp":"folder-archive",".bkp":"folder-archive","_bkp":"folder-archive","__bkp__":"folder-archive","bkps":"folder-archive",".bkps":"folder-archive","_bkps":"folder-archive","__bkps__":"folder-archive","bak":"folder-archive",".bak":"folder-archive","_bak":"folder-archive","__bak__":"folder-archive","baks":"folder-archive",".baks":"folder-archive","_baks":"folder-archive","__baks__":"folder-archive","backup":"folder-archive",".backup":"folder-archive","_backup":"folder-archive","__backup__":"folder-archive","backups":"folder-archive",".backups":"folder-archive","_backups":"folder-archive","__backups__":"folder-archive","back-up":"folder-archive",".back-up":"folder-archive","_back-up":"folder-archive","__back-up__":"folder-archive","back-ups":"folder-archive",".back-ups":"folder-archive","_back-ups":"folder-archive","__back-ups__":"folder-archive","history":"folder-archive",".history":"folder-archive","_history":"folder-archive","__history__":"folder-archive","histories":"folder-archive",".histories":"folder-archive","_histories":"folder-archive","__histories__":"folder-archive","batch":"folder-batch",".batch":"folder-batch","_batch":"folder-batch","__batch__":"folder-batch","batchs":"folder-batch",".batchs":"folder-batch","_batchs":"folder-batch","__batchs__":"folder-batch","batches":"folder-batch",".batches":"folder-batch","_batches":"folder-batch","__batches__":"folder-batch","buildkite":"folder-buildkite",".buildkite":"folder-buildkite","_buildkite":"folder-buildkite","__buildkite__":"folder-buildkite","cluster":"folder-cluster",".cluster":"folder-cluster","_cluster":"folder-cluster","__cluster__":"folder-cluster","clusters":"folder-cluster",".clusters":"folder-cluster","_clusters":"folder-cluster","__clusters__":"folder-cluster","command":"folder-command",".command":"folder-command","_command":"folder-command","__command__":"folder-command","commands":"folder-command",".commands":"folder-command","_commands":"folder-command","__commands__":"folder-command","cmd":"folder-command",".cmd":"folder-command","_cmd":"folder-command","__cmd__":"folder-command","cli":"folder-command",".cli":"folder-command","_cli":"folder-command","__cli__":"folder-command","clis":"folder-command",".clis":"folder-command","_clis":"folder-command","__clis__":"folder-command","constant":"folder-constant",".constant":"folder-constant","_constant":"folder-constant","__constant__":"folder-constant","constants":"folder-constant",".constants":"folder-constant","_constants":"folder-constant","__constants__":"folder-constant","container":"folder-container",".container":"folder-container","_container":"folder-container","__container__":"folder-container","containers":"folder-container",".containers":"folder-container","_containers":"folder-container","__containers__":"folder-container","devcontainer":"folder-container",".devcontainer":"folder-container","_devcontainer":"folder-container","__devcontainer__":"folder-container","content":"folder-content",".content":"folder-content","_content":"folder-content","__content__":"folder-content","contents":"folder-content",".contents":"folder-content","_contents":"folder-content","__contents__":"folder-content","context":"folder-context",".context":"folder-context","_context":"folder-context","__context__":"folder-context","contexts":"folder-context",".contexts":"folder-context","_contexts":"folder-context","__contexts__":"folder-context","core":"folder-core",".core":"folder-core","_core":"folder-core","__core__":"folder-core","delta":"folder-delta",".delta":"folder-delta","_delta":"folder-delta","__delta__":"folder-delta","deltas":"folder-delta",".deltas":"folder-delta","_deltas":"folder-delta","__deltas__":"folder-delta","changes":"folder-delta",".changes":"folder-delta","_changes":"folder-delta","__changes__":"folder-delta","dump":"folder-dump",".dump":"folder-dump","_dump":"folder-dump","__dump__":"folder-dump","dumps":"folder-dump",".dumps":"folder-dump","_dumps":"folder-dump","__dumps__":"folder-dump","demo":"folder-examples",".demo":"folder-examples","_demo":"folder-examples","__demo__":"folder-examples","demos":"folder-examples",".demos":"folder-examples","_demos":"folder-examples","__demos__":"folder-examples","example":"folder-examples",".example":"folder-examples","_example":"folder-examples","__example__":"folder-examples","examples":"folder-examples",".examples":"folder-examples","_examples":"folder-examples","__examples__":"folder-examples","sample":"folder-examples",".sample":"folder-examples","_sample":"folder-examples","__sample__":"folder-examples","samples":"folder-examples",".samples":"folder-examples","_samples":"folder-examples","__samples__":"folder-examples","sample-data":"folder-examples",".sample-data":"folder-examples","_sample-data":"folder-examples","__sample-data__":"folder-examples","env":"folder-environment",".env":"folder-environment","_env":"folder-environment","__env__":"folder-environment","envs":"folder-environment",".envs":"folder-environment","_envs":"folder-environment","__envs__":"folder-environment","environment":"folder-environment",".environment":"folder-environment","_environment":"folder-environment","__environment__":"folder-environment","environments":"folder-environment",".environments":"folder-environment","_environments":"folder-environment","__environments__":"folder-environment","venv":"folder-environment",".venv":"folder-environment","_venv":"folder-environment","__venv__":"folder-environment","func":"folder-functions",".func":"folder-functions","_func":"folder-functions","__func__":"folder-functions","funcs":"folder-functions",".funcs":"folder-functions","_funcs":"folder-functions","__funcs__":"folder-functions","function":"folder-functions",".function":"folder-functions","_function":"folder-functions","__function__":"folder-functions","functions":"folder-functions",".functions":"folder-functions","_functions":"folder-functions","__functions__":"folder-functions","lambda":"folder-functions",".lambda":"folder-functions","_lambda":"folder-functions","__lambda__":"folder-functions","lambdas":"folder-functions",".lambdas":"folder-functions","_lambdas":"folder-functions","__lambdas__":"folder-functions","logic":"folder-functions",".logic":"folder-functions","_logic":"folder-functions","__logic__":"folder-functions","math":"folder-functions",".math":"folder-functions","_math":"folder-functions","__math__":"folder-functions","maths":"folder-functions",".maths":"folder-functions","_maths":"folder-functions","__maths__":"folder-functions","calc":"folder-functions",".calc":"folder-functions","_calc":"folder-functions","__calc__":"folder-functions","calcs":"folder-functions",".calcs":"folder-functions","_calcs":"folder-functions","__calcs__":"folder-functions","calculation":"folder-functions",".calculation":"folder-functions","_calculation":"folder-functions","__calculation__":"folder-functions","calculations":"folder-functions",".calculations":"folder-functions","_calculations":"folder-functions","__calculations__":"folder-functions","generator":"folder-generator",".generator":"folder-generator","_generator":"folder-generator","__generator__":"folder-generator","generators":"folder-generator",".generators":"folder-generator","_generators":"folder-generator","__generators__":"folder-generator","generated":"folder-generator",".generated":"folder-generator","_generated":"folder-generator","__generated__":"folder-generator","cfn-gen":"folder-generator",".cfn-gen":"folder-generator","_cfn-gen":"folder-generator","__cfn-gen__":"folder-generator","gen":"folder-generator",".gen":"folder-generator","_gen":"folder-generator","__gen__":"folder-generator","gens":"folder-generator",".gens":"folder-generator","_gens":"folder-generator","__gens__":"folder-generator","auto":"folder-generator",".auto":"folder-generator","_auto":"folder-generator","__auto__":"folder-generator","hook":"folder-hook",".hook":"folder-hook","_hook":"folder-hook","__hook__":"folder-hook","hooks":"folder-hook",".hooks":"folder-hook","_hooks":"folder-hook","__hooks__":"folder-hook","trigger":"folder-hook",".trigger":"folder-hook","_trigger":"folder-hook","__trigger__":"folder-hook","triggers":"folder-hook",".triggers":"folder-hook","_triggers":"folder-hook","__triggers__":"folder-hook","job":"folder-job",".job":"folder-job","_job":"folder-job","__job__":"folder-job","jobs":"folder-job",".jobs":"folder-job","_jobs":"folder-job","__jobs__":"folder-job","key":"folder-keys",".key":"folder-keys","_key":"folder-keys","__key__":"folder-keys","keys":"folder-keys",".keys":"folder-keys","_keys":"folder-keys","__keys__":"folder-keys","token":"folder-keys",".token":"folder-keys","_token":"folder-keys","__token__":"folder-keys","tokens":"folder-keys",".tokens":"folder-keys","_tokens":"folder-keys","__tokens__":"folder-keys","jwt":"folder-keys",".jwt":"folder-keys","_jwt":"folder-keys","__jwt__":"folder-keys","secret":"folder-keys",".secret":"folder-keys","_secret":"folder-keys","__secret__":"folder-keys","secrets":"folder-keys",".secrets":"folder-keys","_secrets":"folder-keys","__secrets__":"folder-keys","layout":"folder-layout",".layout":"folder-layout","_layout":"folder-layout","__layout__":"folder-layout","layouts":"folder-layout",".layouts":"folder-layout","_layouts":"folder-layout","__layouts__":"folder-layout","mail":"folder-mail",".mail":"folder-mail","_mail":"folder-mail","__mail__":"folder-mail","mails":"folder-mail",".mails":"folder-mail","_mails":"folder-mail","__mails__":"folder-mail","email":"folder-mail",".email":"folder-mail","_email":"folder-mail","__email__":"folder-mail","emails":"folder-mail",".emails":"folder-mail","_emails":"folder-mail","__emails__":"folder-mail","smtp":"folder-mail",".smtp":"folder-mail","_smtp":"folder-mail","__smtp__":"folder-mail","mailers":"folder-mail",".mailers":"folder-mail","_mailers":"folder-mail","__mailers__":"folder-mail","mappings":"folder-mappings",".mappings":"folder-mappings","_mappings":"folder-mappings","__mappings__":"folder-mappings","mapping":"folder-mappings",".mapping":"folder-mappings","_mapping":"folder-mappings","__mapping__":"folder-mappings","meta":"folder-meta",".meta":"folder-meta","_meta":"folder-meta","__meta__":"folder-meta","changesets":"folder-changesets",".changesets":"folder-changesets","_changesets":"folder-changesets","__changesets__":"folder-changesets","changeset":"folder-changesets",".changeset":"folder-changesets","_changeset":"folder-changesets","__changeset__":"folder-changesets","package":"folder-packages",".package":"folder-packages","_package":"folder-packages","__package__":"folder-packages","packages":"folder-packages",".packages":"folder-packages","_packages":"folder-packages","__packages__":"folder-packages","pkg":"folder-packages",".pkg":"folder-packages","_pkg":"folder-packages","__pkg__":"folder-packages","pkgs":"folder-packages",".pkgs":"folder-packages","_pkgs":"folder-packages","__pkgs__":"folder-packages","shared":"folder-shared",".shared":"folder-shared","_shared":"folder-shared","__shared__":"folder-shared","common":"folder-shared",".common":"folder-shared","_common":"folder-shared","__common__":"folder-shared","glsl":"folder-shader",".glsl":"folder-shader","_glsl":"folder-shader","__glsl__":"folder-shader","hlsl":"folder-shader",".hlsl":"folder-shader","_hlsl":"folder-shader","__hlsl__":"folder-shader","shader":"folder-shader",".shader":"folder-shader","_shader":"folder-shader","__shader__":"folder-shader","shaders":"folder-shader",".shaders":"folder-shader","_shaders":"folder-shader","__shaders__":"folder-shader","stack":"folder-stack",".stack":"folder-stack","_stack":"folder-stack","__stack__":"folder-stack","stacks":"folder-stack",".stacks":"folder-stack","_stacks":"folder-stack","__stacks__":"folder-stack","template":"folder-template",".template":"folder-template","_template":"folder-template","__template__":"folder-template","templates":"folder-template",".templates":"folder-template","_templates":"folder-template","__templates__":"folder-template","util":"folder-utils",".util":"folder-utils","_util":"folder-utils","__util__":"folder-utils","utils":"folder-utils",".utils":"folder-utils","_utils":"folder-utils","__utils__":"folder-utils","utility":"folder-utils",".utility":"folder-utils","_utility":"folder-utils","__utility__":"folder-utils","utilities":"folder-utils",".utilities":"folder-utils","_utilities":"folder-utils","__utilities__":"folder-utils","supabase":"folder-supabase",".supabase":"folder-supabase","_supabase":"folder-supabase","__supabase__":"folder-supabase","private":"folder-private",".private":"folder-private","_private":"folder-private","__private__":"folder-private","linux":"folder-linux",".linux":"folder-linux","_linux":"folder-linux","__linux__":"folder-linux","linuxbsd":"folder-linux",".linuxbsd":"folder-linux","_linuxbsd":"folder-linux","__linuxbsd__":"folder-linux","unix":"folder-linux",".unix":"folder-linux","_unix":"folder-linux","__unix__":"folder-linux","windows":"folder-windows",".windows":"folder-windows","_windows":"folder-windows","__windows__":"folder-windows","win":"folder-windows",".win":"folder-windows","_win":"folder-windows","__win__":"folder-windows","macos":"folder-macos",".macos":"folder-macos","_macos":"folder-macos","__macos__":"folder-macos","mac":"folder-macos",".mac":"folder-macos","_mac":"folder-macos","__mac__":"folder-macos","DS_Store":"folder-macos",".DS_Store":"folder-macos","_DS_Store":"folder-macos","__DS_Store__":"folder-macos","error":"folder-error",".error":"folder-error","_error":"folder-error","__error__":"folder-error","errors":"folder-error",".errors":"folder-error","_errors":"folder-error","__errors__":"folder-error","err":"folder-error",".err":"folder-error","_err":"folder-error","__err__":"folder-error","errs":"folder-error",".errs":"folder-error","_errs":"folder-error","__errs__":"folder-error","crash":"folder-error",".crash":"folder-error","_crash":"folder-error","__crash__":"folder-error","crashes":"folder-error",".crashes":"folder-error","_crashes":"folder-error","__crashes__":"folder-error","event":"folder-event",".event":"folder-event","_event":"folder-event","__event__":"folder-event","events":"folder-event",".events":"folder-event","_events":"folder-event","__events__":"folder-event","auth":"folder-secure",".auth":"folder-secure","_auth":"folder-secure","__auth__":"folder-secure","authentication":"folder-secure",".authentication":"folder-secure","_authentication":"folder-secure","__authentication__":"folder-secure","secure":"folder-secure",".secure":"folder-secure","_secure":"folder-secure","__secure__":"folder-secure","security":"folder-secure",".security":"folder-secure","_security":"folder-secure","__security__":"folder-secure","cert":"folder-secure",".cert":"folder-secure","_cert":"folder-secure","__cert__":"folder-secure","certs":"folder-secure",".certs":"folder-secure","_certs":"folder-secure","__certs__":"folder-secure","certificate":"folder-secure",".certificate":"folder-secure","_certificate":"folder-secure","__certificate__":"folder-secure","certificates":"folder-secure",".certificates":"folder-secure","_certificates":"folder-secure","__certificates__":"folder-secure","ssl":"folder-secure",".ssl":"folder-secure","_ssl":"folder-secure","__ssl__":"folder-secure","custom":"folder-custom",".custom":"folder-custom","_custom":"folder-custom","__custom__":"folder-custom","customs":"folder-custom",".customs":"folder-custom","_customs":"folder-custom","__customs__":"folder-custom","draft":"folder-mock",".draft":"folder-mock","_draft":"folder-mock","__draft__":"folder-mock","drafts":"folder-mock",".drafts":"folder-mock","_drafts":"folder-mock","__drafts__":"folder-mock","mock":"folder-mock",".mock":"folder-mock","_mock":"folder-mock","__mock__":"folder-mock","mocks":"folder-mock",".mocks":"folder-mock","_mocks":"folder-mock","__mocks__":"folder-mock","fixture":"folder-mock",".fixture":"folder-mock","_fixture":"folder-mock","__fixture__":"folder-mock","fixtures":"folder-mock",".fixtures":"folder-mock","_fixtures":"folder-mock","__fixtures__":"folder-mock","concept":"folder-mock",".concept":"folder-mock","_concept":"folder-mock","__concept__":"folder-mock","concepts":"folder-mock",".concepts":"folder-mock","_concepts":"folder-mock","__concepts__":"folder-mock","sketch":"folder-mock",".sketch":"folder-mock","_sketch":"folder-mock","__sketch__":"folder-mock","sketches":"folder-mock",".sketches":"folder-mock","_sketches":"folder-mock","__sketches__":"folder-mock","syntax":"folder-syntax",".syntax":"folder-syntax","_syntax":"folder-syntax","__syntax__":"folder-syntax","syntaxes":"folder-syntax",".syntaxes":"folder-syntax","_syntaxes":"folder-syntax","__syntaxes__":"folder-syntax","spellcheck":"folder-syntax",".spellcheck":"folder-syntax","_spellcheck":"folder-syntax","__spellcheck__":"folder-syntax","vm":"folder-vm",".vm":"folder-vm","_vm":"folder-vm","__vm__":"folder-vm","vms":"folder-vm",".vms":"folder-vm","_vms":"folder-vm","__vms__":"folder-vm","stylus":"folder-stylus",".stylus":"folder-stylus","_stylus":"folder-stylus","__stylus__":"folder-stylus","flow-typed":"folder-flow",".flow-typed":"folder-flow","_flow-typed":"folder-flow","__flow-typed__":"folder-flow","rule":"folder-rules",".rule":"folder-rules","_rule":"folder-rules","__rule__":"folder-rules","rules":"folder-rules",".rules":"folder-rules","_rules":"folder-rules","__rules__":"folder-rules","validation":"folder-rules",".validation":"folder-rules","_validation":"folder-rules","__validation__":"folder-rules","validations":"folder-rules",".validations":"folder-rules","_validations":"folder-rules","__validations__":"folder-rules","validator":"folder-rules",".validator":"folder-rules","_validator":"folder-rules","__validator__":"folder-rules","validators":"folder-rules",".validators":"folder-rules","_validators":"folder-rules","__validators__":"folder-rules","review":"folder-review",".review":"folder-review","_review":"folder-review","__review__":"folder-review","reviews":"folder-review",".reviews":"folder-review","_reviews":"folder-review","__reviews__":"folder-review","revisal":"folder-review",".revisal":"folder-review","_revisal":"folder-review","__revisal__":"folder-review","revisals":"folder-review",".revisals":"folder-review","_revisals":"folder-review","__revisals__":"folder-review","reviewed":"folder-review",".reviewed":"folder-review","_reviewed":"folder-review","__reviewed__":"folder-review","anim":"folder-animation",".anim":"folder-animation","_anim":"folder-animation","__anim__":"folder-animation","anims":"folder-animation",".anims":"folder-animation","_anims":"folder-animation","__anims__":"folder-animation","animation":"folder-animation",".animation":"folder-animation","_animation":"folder-animation","__animation__":"folder-animation","animations":"folder-animation",".animations":"folder-animation","_animations":"folder-animation","__animations__":"folder-animation","animated":"folder-animation",".animated":"folder-animation","_animated":"folder-animation","__animated__":"folder-animation","guard":"folder-guard",".guard":"folder-guard","_guard":"folder-guard","__guard__":"folder-guard","guards":"folder-guard",".guards":"folder-guard","_guards":"folder-guard","__guards__":"folder-guard","prisma":"folder-prisma",".prisma":"folder-prisma","_prisma":"folder-prisma","__prisma__":"folder-prisma","pipe":"folder-pipe",".pipe":"folder-pipe","_pipe":"folder-pipe","__pipe__":"folder-pipe","pipes":"folder-pipe",".pipes":"folder-pipe","_pipes":"folder-pipe","__pipes__":"folder-pipe","svg":"folder-svg",".svg":"folder-svg","_svg":"folder-svg","__svg__":"folder-svg","svgs":"folder-svg",".svgs":"folder-svg","_svgs":"folder-svg","__svgs__":"folder-svg","terraform":"folder-terraform",".terraform":"folder-terraform","_terraform":"folder-terraform","__terraform__":"folder-terraform","mobile":"folder-mobile",".mobile":"folder-mobile","_mobile":"folder-mobile","__mobile__":"folder-mobile","mobiles":"folder-mobile",".mobiles":"folder-mobile","_mobiles":"folder-mobile","__mobiles__":"folder-mobile","portable":"folder-mobile",".portable":"folder-mobile","_portable":"folder-mobile","__portable__":"folder-mobile","portability":"folder-mobile",".portability":"folder-mobile","_portability":"folder-mobile","__portability__":"folder-mobile","stencil":"folder-stencil",".stencil":"folder-stencil","_stencil":"folder-stencil","__stencil__":"folder-stencil","firebase":"folder-firebase",".firebase":"folder-firebase","_firebase":"folder-firebase","__firebase__":"folder-firebase","svelte":"folder-svelte",".svelte":"folder-svelte","_svelte":"folder-svelte","__svelte__":"folder-svelte","svelte-kit":"folder-svelte",".svelte-kit":"folder-svelte","_svelte-kit":"folder-svelte","__svelte-kit__":"folder-svelte","update":"folder-update",".update":"folder-update","_update":"folder-update","__update__":"folder-update","updates":"folder-update",".updates":"folder-update","_updates":"folder-update","__updates__":"folder-update","upgrade":"folder-update",".upgrade":"folder-update","_upgrade":"folder-update","__upgrade__":"folder-update","upgrades":"folder-update",".upgrades":"folder-update","_upgrades":"folder-update","__upgrades__":"folder-update","idea":"folder-intellij",".idea":"folder-intellij","_idea":"folder-intellij","__idea__":"folder-intellij","azure-pipelines":"folder-azure-pipelines",".azure-pipelines":"folder-azure-pipelines","_azure-pipelines":"folder-azure-pipelines","__azure-pipelines__":"folder-azure-pipelines","azure-pipelines-ci":"folder-azure-pipelines",".azure-pipelines-ci":"folder-azure-pipelines","_azure-pipelines-ci":"folder-azure-pipelines","__azure-pipelines-ci__":"folder-azure-pipelines","mjml":"folder-mjml",".mjml":"folder-mjml","_mjml":"folder-mjml","__mjml__":"folder-mjml","admin":"folder-admin",".admin":"folder-admin","_admin":"folder-admin","__admin__":"folder-admin","admins":"folder-admin",".admins":"folder-admin","_admins":"folder-admin","__admins__":"folder-admin","manager":"folder-admin",".manager":"folder-admin","_manager":"folder-admin","__manager__":"folder-admin","managers":"folder-admin",".managers":"folder-admin","_managers":"folder-admin","__managers__":"folder-admin","moderator":"folder-admin",".moderator":"folder-admin","_moderator":"folder-admin","__moderator__":"folder-admin","moderators":"folder-admin",".moderators":"folder-admin","_moderators":"folder-admin","__moderators__":"folder-admin","scala":"folder-scala",".scala":"folder-scala","_scala":"folder-scala","__scala__":"folder-scala","connection":"folder-connection",".connection":"folder-connection","_connection":"folder-connection","__connection__":"folder-connection","connections":"folder-connection",".connections":"folder-connection","_connections":"folder-connection","__connections__":"folder-connection","integration":"folder-connection",".integration":"folder-connection","_integration":"folder-connection","__integration__":"folder-connection","integrations":"folder-connection",".integrations":"folder-connection","_integrations":"folder-connection","__integrations__":"folder-connection","quasar":"folder-quasar",".quasar":"folder-quasar","_quasar":"folder-quasar","__quasar__":"folder-quasar","next":"folder-next",".next":"folder-next","_next":"folder-next","__next__":"folder-next","cobol":"folder-cobol",".cobol":"folder-cobol","_cobol":"folder-cobol","__cobol__":"folder-cobol","yarn":"folder-yarn",".yarn":"folder-yarn","_yarn":"folder-yarn","__yarn__":"folder-yarn","husky":"folder-husky",".husky":"folder-husky","_husky":"folder-husky","__husky__":"folder-husky","storybook":"folder-storybook",".storybook":"folder-storybook","_storybook":"folder-storybook","__storybook__":"folder-storybook","stories":"folder-storybook",".stories":"folder-storybook","_stories":"folder-storybook","__stories__":"folder-storybook","base":"folder-base",".base":"folder-base","_base":"folder-base","__base__":"folder-base","bases":"folder-base",".bases":"folder-base","_bases":"folder-base","__bases__":"folder-base","cart":"folder-cart",".cart":"folder-cart","_cart":"folder-cart","__cart__":"folder-cart","shopping-cart":"folder-cart",".shopping-cart":"folder-cart","_shopping-cart":"folder-cart","__shopping-cart__":"folder-cart","shopping":"folder-cart",".shopping":"folder-cart","_shopping":"folder-cart","__shopping__":"folder-cart","shop":"folder-cart",".shop":"folder-cart","_shop":"folder-cart","__shop__":"folder-cart","home":"folder-home",".home":"folder-home","_home":"folder-home","__home__":"folder-home","start":"folder-home",".start":"folder-home","_start":"folder-home","__start__":"folder-home","project":"folder-project",".project":"folder-project","_project":"folder-project","__project__":"folder-project","projects":"folder-project",".projects":"folder-project","_projects":"folder-project","__projects__":"folder-project","interface":"folder-interface",".interface":"folder-interface","_interface":"folder-interface","__interface__":"folder-interface","interfaces":"folder-interface",".interfaces":"folder-interface","_interfaces":"folder-interface","__interfaces__":"folder-interface","netlify":"folder-netlify",".netlify":"folder-netlify","_netlify":"folder-netlify","__netlify__":"folder-netlify","enum":"folder-enum",".enum":"folder-enum","_enum":"folder-enum","__enum__":"folder-enum","enums":"folder-enum",".enums":"folder-enum","_enums":"folder-enum","__enums__":"folder-enum","pact":"folder-contract",".pact":"folder-contract","_pact":"folder-contract","__pact__":"folder-contract","pacts":"folder-contract",".pacts":"folder-contract","_pacts":"folder-contract","__pacts__":"folder-contract","contract":"folder-contract",".contract":"folder-contract","_contract":"folder-contract","__contract__":"folder-contract","contracts":"folder-contract",".contracts":"folder-contract","_contracts":"folder-contract","__contracts__":"folder-contract","contract-testing":"folder-contract",".contract-testing":"folder-contract","_contract-testing":"folder-contract","__contract-testing__":"folder-contract","contract-test":"folder-contract",".contract-test":"folder-contract","_contract-test":"folder-contract","__contract-test__":"folder-contract","contract-tests":"folder-contract",".contract-tests":"folder-contract","_contract-tests":"folder-contract","__contract-tests__":"folder-contract","queue":"folder-queue",".queue":"folder-queue","_queue":"folder-queue","__queue__":"folder-queue","queues":"folder-queue",".queues":"folder-queue","_queues":"folder-queue","__queues__":"folder-queue","bull":"folder-queue",".bull":"folder-queue","_bull":"folder-queue","__bull__":"folder-queue","mq":"folder-queue",".mq":"folder-queue","_mq":"folder-queue","__mq__":"folder-queue","vercel":"folder-vercel",".vercel":"folder-vercel","_vercel":"folder-vercel","__vercel__":"folder-vercel","now":"folder-vercel",".now":"folder-vercel","_now":"folder-vercel","__now__":"folder-vercel","cypress":"folder-cypress",".cypress":"folder-cypress","_cypress":"folder-cypress","__cypress__":"folder-cypress","decorator":"folder-decorators",".decorator":"folder-decorators","_decorator":"folder-decorators","__decorator__":"folder-decorators","decorators":"folder-decorators",".decorators":"folder-decorators","_decorators":"folder-decorators","__decorators__":"folder-decorators","java":"folder-java",".java":"folder-java","_java":"folder-java","__java__":"folder-java","resolver":"folder-resolver",".resolver":"folder-resolver","_resolver":"folder-resolver","__resolver__":"folder-resolver","resolvers":"folder-resolver",".resolvers":"folder-resolver","_resolvers":"folder-resolver","__resolvers__":"folder-resolver","angular":"folder-angular",".angular":"folder-angular","_angular":"folder-angular","__angular__":"folder-angular","unity":"folder-unity",".unity":"folder-unity","_unity":"folder-unity","__unity__":"folder-unity","pdf":"folder-pdf",".pdf":"folder-pdf","_pdf":"folder-pdf","__pdf__":"folder-pdf","pdfs":"folder-pdf",".pdfs":"folder-pdf","_pdfs":"folder-pdf","__pdfs__":"folder-pdf","protobuf":"folder-proto",".protobuf":"folder-proto","_protobuf":"folder-proto","__protobuf__":"folder-proto","protobufs":"folder-proto",".protobufs":"folder-proto","_protobufs":"folder-proto","__protobufs__":"folder-proto","proto":"folder-proto",".proto":"folder-proto","_proto":"folder-proto","protos":"folder-proto",".protos":"folder-proto","_protos":"folder-proto","__protos__":"folder-proto","plastic":"folder-plastic",".plastic":"folder-plastic","_plastic":"folder-plastic","__plastic__":"folder-plastic","gamemaker":"folder-gamemaker",".gamemaker":"folder-gamemaker","_gamemaker":"folder-gamemaker","__gamemaker__":"folder-gamemaker","gamemaker2":"folder-gamemaker",".gamemaker2":"folder-gamemaker","_gamemaker2":"folder-gamemaker","__gamemaker2__":"folder-gamemaker","hg":"folder-mercurial",".hg":"folder-mercurial","_hg":"folder-mercurial","__hg__":"folder-mercurial","hghooks":"folder-mercurial",".hghooks":"folder-mercurial","_hghooks":"folder-mercurial","__hghooks__":"folder-mercurial","hgext":"folder-mercurial",".hgext":"folder-mercurial","_hgext":"folder-mercurial","__hgext__":"folder-mercurial","godot":"folder-godot",".godot":"folder-godot","_godot":"folder-godot","__godot__":"folder-godot","godot-cpp":"folder-godot",".godot-cpp":"folder-godot","_godot-cpp":"folder-godot","__godot-cpp__":"folder-godot","lottie":"folder-lottie",".lottie":"folder-lottie","_lottie":"folder-lottie","__lottie__":"folder-lottie","lotties":"folder-lottie",".lotties":"folder-lottie","_lotties":"folder-lottie","__lotties__":"folder-lottie","lottiefiles":"folder-lottie",".lottiefiles":"folder-lottie","_lottiefiles":"folder-lottie","__lottiefiles__":"folder-lottie","taskfile":"folder-taskfile",".taskfile":"folder-taskfile","_taskfile":"folder-taskfile","__taskfile__":"folder-taskfile","taskfiles":"folder-taskfile",".taskfiles":"folder-taskfile","_taskfiles":"folder-taskfile","__taskfiles__":"folder-taskfile","cloudflare":"folder-cloudflare",".cloudflare":"folder-cloudflare","_cloudflare":"folder-cloudflare","__cloudflare__":"folder-cloudflare","seeds":"folder-seeders",".seeds":"folder-seeders","_seeds":"folder-seeders","__seeds__":"folder-seeders","seeders":"folder-seeders",".seeders":"folder-seeders","_seeders":"folder-seeders","__seeders__":"folder-seeders","seed":"folder-seeders",".seed":"folder-seeders","_seed":"folder-seeders","__seed__":"folder-seeders","seeding":"folder-seeders",".seeding":"folder-seeders","_seeding":"folder-seeders","__seeding__":"folder-seeders"}}');function tce(e){return e.slice(Math.max(0,e.lastIndexOf(".")+1))}function ice(e){return e.slice(e.indexOf(".")+1)}function S5(e){var t,i=e.split("/");return(t=i.at(-1))!==null&&t!==void 0?t:e}function nce(e){var t,i,n,r,a,s,o;return(t=(i=(n=(r=(a=(s=(o=Pu.A8[e])!==null&&o!==void 0?o:Pu.A8[e.toLowerCase()])!==null&&s!==void 0?s:Pu.cH[ice(e)])!==null&&a!==void 0?a:Pu.cH[tce(e)])!==null&&r!==void 0?r:e.endsWith(".html")?"html":null)!==null&&n!==void 0?n:e.endsWith(".ts")?"typescript":null)!==null&&i!==void 0?i:e.endsWith(".js")?"javascript":null)!==null&&t!==void 0?t:"file"}function rce(e){var t,i;return(t=(i=Pu.c[e])!==null&&i!==void 0?i:Pu.c[e.toLowerCase()])!==null&&t!==void 0?t:"folder"}function ace(e){var t=S5(e);return nce(t)}function sce(e){var t=S5(e);return rce(t)}function A5(e,t,i){return"".concat(t,"/").concat(e.toString()).concat(i?"-open":"",".svg")}function oce(e,t){var i=ace(e);return A5(i,t)}function lce(e,t,i){var n=sce(e);return A5(n,t,i)}var dce=["filename","size","variant","type","style","open"],cce=(0,B.memo)(function(e){var t=e.filename,i=e.size,n=i===void 0?48:i,r=e.variant,a=r===void 0?"pure":r,s=e.type,o=e.style,l=e.open,d=(0,ge.Z)(e,dce),u=(0,Od.nc)(),c=u({path:"assets",pkg:"@lobehub/assets-fileicon",version:"1.0.0"}),f=(0,B.useMemo)(function(){return s==="file"?oce(t,c):lce(t,c,l)},[c,s,t,l]);return a==="pure"?(0,D.jsx)(jd.Z,(0,ae.Z)({height:n,src:f,style:o,width:n},d)):(0,D.jsxs)(k5.Z,(0,ae.Z)((0,ae.Z)({flex:"none",height:n,style:(0,ae.Z)({position:"relative"},o),width:n},d),{},{children:[(0,D.jsx)(m3,{type:a,variant:"mono"}),(0,D.jsx)(jd.Z,(0,ae.Z)({height:n/2,src:f,style:{position:"absolute",top:n/3},width:n/2},d))]}))}),uce=cce,M5,C5,E5,T5,D5,fce=(0,K.kc)(function(e){var t=e.css,i=e.token;return{center:t(M5||(M5=(0,re.Z)([`
      height: 100%;
    `]))),container:t(C5||(C5=(0,re.Z)([`
      overflow: hidden;
      flex: none;
      width: 100vw;
      background: `,`;
    `])),i.colorBgLayout),inner:t(E5||(E5=(0,re.Z)([`
      position: relative;

      width: 100%;
      height: 44px;
      min-height: 44px;
      max-height: 44px;
      padding-block: 0;
      padding-inline: 6px;
    `]))),left:t(T5||(T5=(0,re.Z)([`
      justify-content: flex-start;
      height: 100%;
    `]))),right:t(D5||(D5=(0,re.Z)([`
      justify-content: flex-end;
      height: 100%;
    `])))}}),hce=(0,B.memo)(function(e){var t=e.className,i=e.safeArea,n=i===void 0?!0:i,r=e.style,a=e.center,s=e.left,o=e.right,l=e.gap,d=e.classNames,u=e.onBackClick,c=e.showBackButton,f=e.contentStyles,h=fce(),p=h.styles,m=h.cx;return(0,D.jsxs)(Me.D,{className:m(p.container,t),style:r,children:[n&&(0,D.jsx)(Uh,{position:"top"}),(0,D.jsxs)(Me.D,{align:"center",className:p.inner,flex:1,horizontal:!0,justify:"space-between",children:[(0,D.jsxs)(Me.D,{align:"center",className:m(p.left,d==null?void 0:d.left),flex:1,gap:l==null?void 0:l.left,horizontal:!0,style:f==null?void 0:f.left,children:[c&&(0,D.jsx)(Ut.Z,{icon:sx.Z,onClick:function(){return u==null?void 0:u()},size:{fontSize:24}}),s]}),(0,D.jsx)(Me.D,{align:"center",className:m(p.center,d==null?void 0:d.center),flex:1,gap:l==null?void 0:l.center,horizontal:!0,justify:"center",style:f==null?void 0:f.center,children:a}),(0,D.jsx)(Me.D,{align:"center",className:m(p.right,d==null?void 0:d.right),flex:1,gap:l==null?void 0:l.right,horizontal:!0,style:f==null?void 0:f.right,children:o})]})]})}),pce=hce,P5,I5,O5,j5,R5,mce=(0,K.kc)(function(e){var t=e.css,i=e.token;return{desc:t(P5||(P5=(0,re.Z)([`
    overflow: hidden;

    width: 100%;

    font-size: 12px;
    line-height: 1;
    color: `,`;
    text-overflow: ellipsis;
    white-space: nowrap;
  `])),i.colorTextTertiary),tag:t(I5||(I5=(0,re.Z)([`
    flex: none;
  `]))),title:t(O5||(O5=(0,re.Z)([`
    overflow: hidden;

    font-size: 16px;
    font-weight: bold;
    line-height: 1;
    text-overflow: ellipsis;
    white-space: nowrap;
  `]))),titleContainer:t(j5||(j5=(0,re.Z)([`
    flex: 1;
  `]))),titleWithDesc:t(R5||(R5=(0,re.Z)([`
    overflow: hidden;

    font-weight: bold;
    line-height: 1;
    text-overflow: ellipsis;
    white-space: nowrap;
  `])))}}),gce=(0,B.memo)(function(e){var t=e.title,i=e.desc,n=e.tag,r=mce(),a=r.styles;return i?(0,D.jsxs)(Me.D,{align:"center",flex:1,gap:4,justify:"center",children:[(0,D.jsxs)(Me.D,{align:"center",className:a.titleContainer,gap:4,horizontal:!0,children:[(0,D.jsx)("div",{className:a.titleWithDesc,children:t}),n&&(0,D.jsx)(Me.D,{className:a.tag,horizontal:!0,children:n})]}),(0,D.jsx)(Me.D,{align:"center",horizontal:!0,children:(0,D.jsx)("div",{className:a.desc,children:i})})]}):(0,D.jsxs)(Me.D,{align:"center",flex:1,gap:4,horizontal:!0,justify:"center",children:[(0,D.jsx)("div",{className:a.title,children:t}),(0,D.jsx)(Me.D,{className:a.tag,horizontal:!0,children:n})]})}),vce=gce,z5,B5,L5,F5,N5,U5,yce=(0,K.kc)(function(e){var t=e.css,i=e.token;return{active:t(z5||(z5=(0,re.Z)([`
      color: `,`;
    `])),i.colorPrimary),container:t(B5||(B5=(0,re.Z)([`
      user-select: none;

      overflow: hidden;
      flex: none;

      width: 100vw;

      background: `,`;
      border-block-start: 1px solid `,`;
    `])),i.colorBgLayout,(0,sa.m4)(i.colorBorder,.25)),icon:t(L5||(L5=(0,re.Z)([`
      width: 24px;
      height: 24px;
      font-size: 24px;
    `]))),inner:t(F5||(F5=(0,re.Z)([`
      position: relative;
      width: 100%;
      height: 48px;
    `]))),tab:t(N5||(N5=(0,re.Z)([`
      cursor: pointer;
      width: 48px;
      height: 48px;
      color: `,`;
    `])),i.colorTextDescription),title:t(U5||(U5=(0,re.Z)([`
      overflow: hidden;

      width: 100%;
      margin-block-start: -0.125em;

      font-size: 12px;
      line-height: 1.125em;
      text-align: center;
      text-overflow: ellipsis;
      white-space: nowrap;
    `])))}}),bce=(0,B.memo)(function(e){var t=e.className,i=e.safeArea,n=e.style,r=e.items,a=e.activeKey,s=e.defaultActiveKey,o=e.onChange,l=(0,ns.Z)(s||r[0].key,{defaultValue:s,onChange:o,value:a}),d=(0,St.Z)(l,2),u=d[0],c=d[1],f=yce(),h=f.styles,p=f.cx;return(0,D.jsxs)(Me.D,{className:p(h.container,t),style:n,children:[(0,D.jsx)(Me.D,{align:"center",className:h.inner,horizontal:!0,justify:"space-around",children:r.map(function(m){var g=m.key===u;return(0,D.jsxs)(Me.D,{align:"center",className:p(h.tab,g&&h.active),gap:4,justify:"center",onClick:function(){var y;c(m.key),m==null||(y=m.onClick)===null||y===void 0||y.call(m)},children:[(0,D.jsx)(Me.D,{align:"center",className:h.icon,justify:"center",children:typeof m.icon=="function"?m.icon(g):m.icon}),(0,D.jsx)("div",{className:h.title,children:typeof m.title=="function"?m.title(g):m.title})]},m.key)})}),i&&(0,D.jsx)(Uh,{position:"bottom"})]})}),_ce=bce,wce=ee(19210),V5,H5,G5,W5,q5,Z5,xce=(0,K.kc)(function(e){var t=e.css,i=e.token,n=e.cx,r=t(V5||(V5=(0,re.Z)([`
    &:hover {
      border-color: `,`;
      box-shadow: 0 0 0 2px `,`;
    }
  `])),i.colorText,i.colorText),a=n(t(H5||(H5=(0,re.Z)([`
      position: relative;
      overflow: hidden;
      border-radius: `,`px;
      transition: all 100ms `,`;

      &::before {
        content: '';

        position: absolute;
        inset: 0;

        display: block;

        width: 100%;
        height: 100%;

        border-radius: inherit;
        box-shadow: inset 0 0 0 2px `,`;
      }
    `])),i.borderRadius,i.motionEaseOut,i.colorSplit),r);return{active:t(G5||(G5=(0,re.Z)([`
      color: `,`;
    `])),i.colorText),container:t(W5||(W5=(0,re.Z)([`
      cursor: pointer;
      color: `,`;
    `])),i.colorTextDescription),img:a,imgActive:t(q5||(q5=(0,re.Z)([`
      box-shadow: 0 0 0 2px `,`;

      .`,`:before {
        box-shadow: none;
      }
    `])),i.colorTextTertiary,a),imgCtn:t(Z5||(Z5=(0,re.Z)([`
      background: `,`;
      border-radius: `,`px;

      `,`
    `])),i.colorFillTertiary,i.borderRadius,r)}}),kce=(0,B.memo)(function(e){var t=e.className,i=e.style,n=e.value,r=e.defaultValue,a=e.onChange,s=e.options,o=e.width,l=o===void 0?144:o,d=e.height,u=d===void 0?86:d,c=e.styles,f=c===void 0?{}:c,h=e.classNames,p=h===void 0?{}:h,m=e.unoptimized,g=(0,ns.Z)(r,{defaultValue:r,onChange:a,value:n}),v=(0,St.Z)(g,2),y=v[0],b=v[1],_=xce(),x=_.styles,k=_.cx;return(0,D.jsx)(Me.D,{className:t,gap:16,horizontal:!0,style:i,children:s==null?void 0:s.map(function(w){var S=w.value===y;return(0,D.jsxs)(Me.D,{align:"center",className:k(x.container,S&&x.active),gap:4,onClick:function(){return b(w.value)},children:[(0,D.jsx)("div",{className:k(x.imgCtn,S&&x.imgActive,p.img),style:(0,ae.Z)((0,ae.Z)({},f.img),{},{height:u,width:l}),children:(0,D.jsx)("div",{className:x.img,children:(0,D.jsx)(jd.Z,{alt:typeof w.label=="string"?w.label:w.ariaLabel,height:u,src:w.img,unoptimized:m,width:l})})}),(0,D.jsxs)(Me.D,{align:"center",gap:4,horizontal:!0,children:[w.icon&&(0,D.jsx)(hi.Z,{icon:w.icon}),w.label]})]},w.value)})})}),Sce=kce,Y5,Ace=(0,K.kc)(function(e){var t=e.css,i=e.token;return t(Y5||(Y5=(0,re.Z)([`
    width: 64px;
    height: 100%;
    min-height: 640px;
    padding-block: 16px;
    padding-inline: 0;

    background: `,`;
    border-inline-end: 1px solid `,`;
  `])),i.colorBgContainer,i.colorBorder)}),Mce=["className","avatar","topActions","bottomActions"],Cce=(0,B.memo)(function(e){var t=e.className,i=e.avatar,n=e.topActions,r=e.bottomActions,a=(0,ge.Z)(e,Mce),s=Ace(),o=s.styles,l=s.cx;return(0,D.jsxs)(Me.D,(0,ae.Z)((0,ae.Z)({align:"center",className:l(o,t),flex:"none",justify:"space-between"},a),{},{children:[(0,D.jsxs)(Me.D,{align:"center",direction:"vertical",gap:16,children:[i,(0,D.jsx)(Me.D,{align:"center",direction:"vertical",gap:8,children:n})]}),(0,D.jsx)(Me.D,{align:"center",direction:"vertical",gap:4,children:r})]}))}),Ece=Cce,Tce=ee(16322),Dce=ee(59549);function Pce(e){return e===null}var X5=Pce,Ice=["step","value","onChange","max","min","defaultValue","size","controls","gap","style","className","disabled"],Oce=(0,B.memo)(function(e){var t=e.step,i=e.value,n=e.onChange,r=e.max,a=e.min,s=e.defaultValue,o=e.size,l=e.controls,d=e.gap,u=d===void 0?16:d,c=e.style,f=e.className,h=e.disabled,p=(0,ge.Z)(e,Ice),m=(0,B.useCallback)(function(g){Number.isNaN(g)||X5(g)||n==null||n(g)},[]);return(0,D.jsxs)(Me.D,{align:"center",className:f,direction:"horizontal",gap:u,style:c,children:[(0,D.jsx)(Tce.Z,(0,ae.Z)({defaultValue:s,disabled:h,max:r,min:a,onChange:m,step:t,style:o==="small"?{flex:1,margin:0}:{flex:1},tooltip:{open:!1},value:typeof i=="number"?i:0},p)),(0,D.jsx)(Dce.Z,{controls:o!=="small"||l,defaultValue:s,disabled:h,max:r,min:a,onChange:m,size:o,step:Number.isNaN(t)||X5(t)?void 0:t,style:{flex:1,maxWidth:o==="small"?40:64},value:typeof i=="number"?i:0})]})}),jce=Oce,Rce=ee(94174),Iu=ee(95295);function zce(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,B.useMemo)(()=>n=>{t.forEach(r=>r(n))},t)}const ov=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function Ou(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Tw(e){return"nodeType"in e}function Mr(e){var t,i;return e?Ou(e)?e:Tw(e)&&(t=(i=e.ownerDocument)==null?void 0:i.defaultView)!=null?t:window:window}function Dw(e){const{Document:t}=Mr(e);return e instanceof t}function Th(e){return Ou(e)?!1:e instanceof Mr(e).HTMLElement}function K5(e){return e instanceof Mr(e).SVGElement}function ju(e){return e?Ou(e)?e.document:Tw(e)?Dw(e)?e:Th(e)||K5(e)?e.ownerDocument:document:document:document}const Aa=ov?B.useLayoutEffect:B.useEffect;function lv(e){const t=(0,B.useRef)(e);return Aa(()=>{t.current=e}),(0,B.useCallback)(function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t.current==null?void 0:t.current(...n)},[])}function Bce(){const e=(0,B.useRef)(null),t=(0,B.useCallback)((n,r)=>{e.current=setInterval(n,r)},[]),i=(0,B.useCallback)(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,i]}function Dh(e,t){t===void 0&&(t=[e]);const i=(0,B.useRef)(e);return Aa(()=>{i.current!==e&&(i.current=e)},t),i}function Ph(e,t){const i=(0,B.useRef)();return(0,B.useMemo)(()=>{const n=e(i.current);return i.current=n,n},[...t])}function dv(e){const t=lv(e),i=(0,B.useRef)(null),n=(0,B.useCallback)(r=>{r!==i.current&&(t==null||t(r,i.current)),i.current=r},[]);return[i,n]}function cv(e){const t=(0,B.useRef)();return(0,B.useEffect)(()=>{t.current=e},[e]),t.current}let Pw={};function Ih(e,t){return(0,B.useMemo)(()=>{if(t)return t;const i=Pw[e]==null?0:Pw[e]+1;return Pw[e]=i,e+"-"+i},[e,t])}function Q5(e){return function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return n.reduce((a,s)=>{const o=Object.entries(s);for(const[l,d]of o){const u=a[l];u!=null&&(a[l]=u+e*d)}return a},R({},t))}}const Ru=Q5(1),Oh=Q5(-1);function Lce(e){return"clientX"in e&&"clientY"in e}function uv(e){if(!e)return!1;const{KeyboardEvent:t}=Mr(e.target);return t&&e instanceof t}function Fce(e){if(!e)return!1;const{TouchEvent:t}=Mr(e.target);return t&&e instanceof t}function fv(e){if(Fce(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:i}=e.touches[0];return{x:t,y:i}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:i}=e.changedTouches[0];return{x:t,y:i}}}return Lce(e)?{x:e.clientX,y:e.clientY}:null}const wl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:i}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:i}=e;return"scaleX("+t+") scaleY("+i+")"}},Transform:{toString(e){if(e)return[wl.Translate.toString(e),wl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:i,easing:n}=e;return t+" "+i+"ms "+n}}}),J5="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Nce(e){return e.matches(J5)?e:e.querySelector(J5)}const Uce={display:"none"};function Vce(e){let{id:t,value:i}=e;return B.createElement("div",{id:t,style:Uce},i)}function Hce(e){let{id:t,announcement:i,ariaLiveType:n="assertive"}=e;const r={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return B.createElement("div",{id:t,style:r,role:"status","aria-live":n,"aria-atomic":!0},i)}function Gce(){const[e,t]=(0,B.useState)("");return{announce:(0,B.useCallback)(n=>{n!=null&&t(n)},[]),announcement:e}}const $5=(0,B.createContext)(null);function Wce(e){const t=(0,B.useContext)($5);(0,B.useEffect)(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function qce(){const[e]=(0,B.useState)(()=>new Set),t=(0,B.useCallback)(n=>(e.add(n),()=>e.delete(n)),[e]);return[(0,B.useCallback)(n=>{let{type:r,event:a}=n;e.forEach(s=>{var o;return(o=s[r])==null?void 0:o.call(s,a)})},[e]),t]}const Zce={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Yce={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:i}=e;return i?"Draggable item "+t.id+" was moved over droppable area "+i.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:i}=e;return i?"Draggable item "+t.id+" was dropped over droppable area "+i.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Xce(e){let{announcements:t=Yce,container:i,hiddenTextDescribedById:n,screenReaderInstructions:r=Zce}=e;const{announce:a,announcement:s}=Gce(),o=Ih("DndLiveRegion"),[l,d]=(0,B.useState)(!1);if((0,B.useEffect)(()=>{d(!0)},[]),Wce((0,B.useMemo)(()=>({onDragStart(c){let{active:f}=c;a(t.onDragStart({active:f}))},onDragMove(c){let{active:f,over:h}=c;t.onDragMove&&a(t.onDragMove({active:f,over:h}))},onDragOver(c){let{active:f,over:h}=c;a(t.onDragOver({active:f,over:h}))},onDragEnd(c){let{active:f,over:h}=c;a(t.onDragEnd({active:f,over:h}))},onDragCancel(c){let{active:f,over:h}=c;a(t.onDragCancel({active:f,over:h}))}}),[a,t])),!l)return null;const u=B.createElement(B.Fragment,null,B.createElement(Vce,{id:n,value:r.draggable}),B.createElement(Hce,{id:o,announcement:s}));return i?(0,Iu.createPortal)(u,i):u}var Sn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Sn||(Sn={}));function hv(){}function eI(e,t){return(0,B.useMemo)(()=>({sensor:e,options:t!=null?t:{}}),[e,t])}function Kce(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,B.useMemo)(()=>[...t].filter(n=>n!=null),[...t])}const Ja=Object.freeze({x:0,y:0});function Iw(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Qce(e,t){const i=fv(e);if(!i)return"0 0";const n={x:(i.x-t.left)/t.width*100,y:(i.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function Ow(e,t){let{data:{value:i}}=e,{data:{value:n}}=t;return i-n}function Jce(e,t){let{data:{value:i}}=e,{data:{value:n}}=t;return n-i}function jw(e){let{left:t,top:i,height:n,width:r}=e;return[{x:t,y:i},{x:t+r,y:i},{x:t,y:i+n},{x:t+r,y:i+n}]}function tI(e,t){if(!e||e.length===0)return null;const[i]=e;return t?i[t]:i}function iI(e,t,i){return t===void 0&&(t=e.left),i===void 0&&(i=e.top),{x:t+e.width*.5,y:i+e.height*.5}}const Epe=e=>{let{collisionRect:t,droppableRects:i,droppableContainers:n}=e;const r=iI(t,t.left,t.top),a=[];for(const s of n){const{id:o}=s,l=i.get(o);if(l){const d=Iw(iI(l),r);a.push({id:o,data:{droppableContainer:s,value:d}})}}return a.sort(Ow)},$ce=e=>{let{collisionRect:t,droppableRects:i,droppableContainers:n}=e;const r=jw(t),a=[];for(const s of n){const{id:o}=s,l=i.get(o);if(l){const d=jw(l),u=r.reduce((f,h,p)=>f+Iw(d[p],h),0),c=Number((u/4).toFixed(4));a.push({id:o,data:{droppableContainer:s,value:c}})}}return a.sort(Ow)};function eue(e,t){const i=Math.max(t.top,e.top),n=Math.max(t.left,e.left),r=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),s=r-n,o=a-i;if(n<r&&i<a){const l=t.width*t.height,d=e.width*e.height,u=s*o,c=u/(l+d-u);return Number(c.toFixed(4))}return 0}const tue=e=>{let{collisionRect:t,droppableRects:i,droppableContainers:n}=e;const r=[];for(const a of n){const{id:s}=a,o=i.get(s);if(o){const l=eue(o,t);l>0&&r.push({id:s,data:{droppableContainer:a,value:l}})}}return r.sort(Jce)};function iue(e,t){const{top:i,left:n,bottom:r,right:a}=t;return i<=e.y&&e.y<=r&&n<=e.x&&e.x<=a}const Tpe=e=>{let{droppableContainers:t,droppableRects:i,pointerCoordinates:n}=e;if(!n)return[];const r=[];for(const a of t){const{id:s}=a,o=i.get(s);if(o&&iue(n,o)){const d=jw(o).reduce((c,f)=>c+Iw(n,f),0),u=Number((d/4).toFixed(4));r.push({id:s,data:{droppableContainer:a,value:u}})}}return r.sort(Ow)};function nue(e,t,i){return Q(R({},e),{scaleX:t&&i?t.width/i.width:1,scaleY:t&&i?t.height/i.height:1})}function nI(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ja}function rue(e){return function(i){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((s,o)=>Q(R({},s),{top:s.top+e*o.y,bottom:s.bottom+e*o.y,left:s.left+e*o.x,right:s.right+e*o.x}),R({},i))}}const aue=rue(1);function rI(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function sue(e,t,i){const n=rI(t);if(!n)return e;const{scaleX:r,scaleY:a,x:s,y:o}=n,l=e.left-s-(1-r)*parseFloat(i),d=e.top-o-(1-a)*parseFloat(i.slice(i.indexOf(" ")+1)),u=r?e.width/r:e.width,c=a?e.height/a:e.height;return{width:u,height:c,top:d,right:l+u,bottom:d+c,left:l}}const oue={ignoreTransform:!1};function zu(e,t){t===void 0&&(t=oue);let i=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:u}=Mr(e).getComputedStyle(e);d&&(i=sue(i,d,u))}const{top:n,left:r,width:a,height:s,bottom:o,right:l}=i;return{top:n,left:r,width:a,height:s,bottom:o,right:l}}function aI(e){return zu(e,{ignoreTransform:!0})}function lue(e){const t=e.innerWidth,i=e.innerHeight;return{top:0,left:0,right:t,bottom:i,width:t,height:i}}function due(e,t){return t===void 0&&(t=Mr(e).getComputedStyle(e)),t.position==="fixed"}function cue(e,t){t===void 0&&(t=Mr(e).getComputedStyle(e));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const a=t[r];return typeof a=="string"?i.test(a):!1})}function pv(e,t){const i=[];function n(r){if(t!=null&&i.length>=t||!r)return i;if(Dw(r)&&r.scrollingElement!=null&&!i.includes(r.scrollingElement))return i.push(r.scrollingElement),i;if(!Th(r)||K5(r)||i.includes(r))return i;const a=Mr(e).getComputedStyle(r);return r!==e&&cue(r,a)&&i.push(r),due(r,a)?i:n(r.parentNode)}return e?n(e):i}function sI(e){const[t]=pv(e,1);return t!=null?t:null}function Rw(e){return!ov||!e?null:Ou(e)?e:Tw(e)?Dw(e)||e===ju(e).scrollingElement?window:Th(e)?e:null:null}function oI(e){return Ou(e)?e.scrollX:e.scrollLeft}function lI(e){return Ou(e)?e.scrollY:e.scrollTop}function zw(e){return{x:oI(e),y:lI(e)}}var zn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(zn||(zn={}));function dI(e){return!ov||!e?!1:e===document.scrollingElement}function cI(e){const t={x:0,y:0},i=dI(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-i.width,y:e.scrollHeight-i.height},r=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,s=e.scrollTop>=n.y,o=e.scrollLeft>=n.x;return{isTop:r,isLeft:a,isBottom:s,isRight:o,maxScroll:n,minScroll:t}}const uue={x:.2,y:.2};function fue(e,t,i,n,r){let{top:a,left:s,right:o,bottom:l}=i;n===void 0&&(n=10),r===void 0&&(r=uue);const{isTop:d,isBottom:u,isLeft:c,isRight:f}=cI(e),h={x:0,y:0},p={x:0,y:0},m={height:t.height*r.y,width:t.width*r.x};return!d&&a<=t.top+m.height?(h.y=zn.Backward,p.y=n*Math.abs((t.top+m.height-a)/m.height)):!u&&l>=t.bottom-m.height&&(h.y=zn.Forward,p.y=n*Math.abs((t.bottom-m.height-l)/m.height)),!f&&o>=t.right-m.width?(h.x=zn.Forward,p.x=n*Math.abs((t.right-m.width-o)/m.width)):!c&&s<=t.left+m.width&&(h.x=zn.Backward,p.x=n*Math.abs((t.left+m.width-s)/m.width)),{direction:h,speed:p}}function hue(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:s}=window;return{top:0,left:0,right:a,bottom:s,width:a,height:s}}const{top:t,left:i,right:n,bottom:r}=e.getBoundingClientRect();return{top:t,left:i,right:n,bottom:r,width:e.clientWidth,height:e.clientHeight}}function uI(e){return e.reduce((t,i)=>Ru(t,zw(i)),Ja)}function pue(e){return e.reduce((t,i)=>t+oI(i),0)}function mue(e){return e.reduce((t,i)=>t+lI(i),0)}function fI(e,t){if(t===void 0&&(t=zu),!e)return;const{top:i,left:n,bottom:r,right:a}=t(e);sI(e)&&(r<=0||a<=0||i>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const gue=[["x",["left","right"],pue],["y",["top","bottom"],mue]];class Bw{constructor(t,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=pv(i),r=uI(n);this.rect=R({},t),this.width=t.width,this.height=t.height;for(const[a,s,o]of gue)for(const l of s)Object.defineProperty(this,l,{get:()=>{const d=o(n),u=r[a]-d;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class jh{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...i)})},this.target=t}add(t,i,n){var r;(r=this.target)==null||r.addEventListener(t,i,n),this.listeners.push([t,i,n])}}function vue(e){const{EventTarget:t}=Mr(e);return e instanceof t?e:ju(e)}function Lw(e,t){const i=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(Si(i,2)+Si(n,2))>t:"x"in t&&"y"in t?i>t.x&&n>t.y:"x"in t?i>t.x:"y"in t?n>t.y:!1}var Ma;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Ma||(Ma={}));function hI(e){e.preventDefault()}function yue(e){e.stopPropagation()}var ei;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(ei||(ei={}));const pI={start:[ei.Space,ei.Enter],cancel:[ei.Esc],end:[ei.Space,ei.Enter]},bue=(e,t)=>{let{currentCoordinates:i}=t;switch(e.code){case ei.Right:return Q(R({},i),{x:i.x+25});case ei.Left:return Q(R({},i),{x:i.x-25});case ei.Down:return Q(R({},i),{y:i.y+25});case ei.Up:return Q(R({},i),{y:i.y-25})}};class Fw{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:i}}=t;this.props=t,this.listeners=new jh(ju(i)),this.windowListeners=new jh(Mr(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ma.Resize,this.handleCancel),this.windowListeners.add(Ma.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ma.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:i}=this.props,n=t.node.current;n&&fI(n),i(Ja)}handleKeyDown(t){if(uv(t)){const{active:i,context:n,options:r}=this.props,{keyboardCodes:a=pI,coordinateGetter:s=bue,scrollBehavior:o="smooth"}=r,{code:l}=t;if(a.end.includes(l)){this.handleEnd(t);return}if(a.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:d}=n.current,u=d?{x:d.left,y:d.top}:Ja;this.referenceCoordinates||(this.referenceCoordinates=u);const c=s(t,{active:i,context:n.current,currentCoordinates:u});if(c){const f=Oh(c,u),h={x:0,y:0},{scrollableAncestors:p}=n.current;for(const m of p){const g=t.code,{isTop:v,isRight:y,isLeft:b,isBottom:_,maxScroll:x,minScroll:k}=cI(m),w=hue(m),S={x:Math.min(g===ei.Right?w.right-w.width/2:w.right,Math.max(g===ei.Right?w.left:w.left+w.width/2,c.x)),y:Math.min(g===ei.Down?w.bottom-w.height/2:w.bottom,Math.max(g===ei.Down?w.top:w.top+w.height/2,c.y))},A=g===ei.Right&&!y||g===ei.Left&&!b,M=g===ei.Down&&!_||g===ei.Up&&!v;if(A&&S.x!==c.x){const C=m.scrollLeft+f.x,T=g===ei.Right&&C<=x.x||g===ei.Left&&C>=k.x;if(T&&!f.y){m.scrollTo({left:C,behavior:o});return}T?h.x=m.scrollLeft-C:h.x=g===ei.Right?m.scrollLeft-x.x:m.scrollLeft-k.x,h.x&&m.scrollBy({left:-h.x,behavior:o});break}else if(M&&S.y!==c.y){const C=m.scrollTop+f.y,T=g===ei.Down&&C<=x.y||g===ei.Up&&C>=k.y;if(T&&!f.x){m.scrollTo({top:C,behavior:o});return}T?h.y=m.scrollTop-C:h.y=g===ei.Down?m.scrollTop-x.y:m.scrollTop-k.y,h.y&&m.scrollBy({top:-h.y,behavior:o});break}}this.handleMove(t,Ru(Oh(c,this.referenceCoordinates),h))}}}handleMove(t,i){const{onMove:n}=this.props;t.preventDefault(),n(i)}handleEnd(t){const{onEnd:i}=this.props;t.preventDefault(),this.detach(),i()}handleCancel(t){const{onCancel:i}=this.props;t.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Fw.activators=[{eventName:"onKeyDown",handler:(e,t,i)=>{let{keyboardCodes:n=pI,onActivation:r}=t,{active:a}=i;const{code:s}=e.nativeEvent;if(n.start.includes(s)){const o=a.activatorNode.current;return o&&e.target!==o?!1:(e.preventDefault(),r==null||r({event:e.nativeEvent}),!0)}return!1}}];function mI(e){return!!(e&&"distance"in e)}function gI(e){return!!(e&&"delay"in e)}class Nw{constructor(t,i,n){var r;n===void 0&&(n=vue(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=i;const{event:a}=t,{target:s}=a;this.props=t,this.events=i,this.document=ju(s),this.documentListeners=new jh(this.document),this.listeners=new jh(n),this.windowListeners=new jh(Mr(s)),this.initialCoordinates=(r=fv(a))!=null?r:Ja,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:i,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(Ma.Resize,this.handleCancel),this.windowListeners.add(Ma.DragStart,hI),this.windowListeners.add(Ma.VisibilityChange,this.handleCancel),this.windowListeners.add(Ma.ContextMenu,hI),this.documentListeners.add(Ma.Keydown,this.handleKeydown),i){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(gI(i)){this.timeoutId=setTimeout(this.handleStart,i.delay);return}if(mI(i))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:i}=this.props;t&&(this.activated=!0,this.documentListeners.add(Ma.Click,yue,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ma.SelectionChange,this.removeTextSelection),i(t))}handleMove(t){var i;const{activated:n,initialCoordinates:r,props:a}=this,{onMove:s,options:{activationConstraint:o}}=a;if(!r)return;const l=(i=fv(t))!=null?i:Ja,d=Oh(r,l);if(!n&&o){if(mI(o)){if(o.tolerance!=null&&Lw(d,o.tolerance))return this.handleCancel();if(Lw(d,o.distance))return this.handleStart()}return gI(o)&&Lw(d,o.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),s(l)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===ei.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const _ue={move:{name:"pointermove"},end:{name:"pointerup"}};class Uw extends Nw{constructor(t){const{event:i}=t,n=ju(i.target);super(t,_ue,n)}}Uw.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:i}=e,{onActivation:n}=t;return!i.isPrimary||i.button!==0?!1:(n==null||n({event:i}),!0)}}];const wue={move:{name:"mousemove"},end:{name:"mouseup"}};var Vw;(function(e){e[e.RightClick=2]="RightClick"})(Vw||(Vw={}));class xue extends Nw{constructor(t){super(t,wue,ju(t.event.target))}}xue.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:i}=e,{onActivation:n}=t;return i.button===Vw.RightClick?!1:(n==null||n({event:i}),!0)}}];const Hw={move:{name:"touchmove"},end:{name:"touchend"}};class kue extends Nw{constructor(t){super(t,Hw)}static setup(){return window.addEventListener(Hw.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Hw.move.name,t)};function t(){}}}kue.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:i}=e,{onActivation:n}=t;const{touches:r}=i;return r.length>1?!1:(n==null||n({event:i}),!0)}}];var Rh;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Rh||(Rh={}));var mv;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(mv||(mv={}));function Sue(e){let{acceleration:t,activator:i=Rh.Pointer,canScroll:n,draggingRect:r,enabled:a,interval:s=5,order:o=mv.TreeOrder,pointerCoordinates:l,scrollableAncestors:d,scrollableAncestorRects:u,delta:c,threshold:f}=e;const h=Mue({delta:c,disabled:!a}),[p,m]=Bce(),g=(0,B.useRef)({x:0,y:0}),v=(0,B.useRef)({x:0,y:0}),y=(0,B.useMemo)(()=>{switch(i){case Rh.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Rh.DraggableRect:return r}},[i,r,l]),b=(0,B.useRef)(null),_=(0,B.useCallback)(()=>{const k=b.current;if(!k)return;const w=g.current.x*v.current.x,S=g.current.y*v.current.y;k.scrollBy(w,S)},[]),x=(0,B.useMemo)(()=>o===mv.TreeOrder?[...d].reverse():d,[o,d]);(0,B.useEffect)(()=>{if(!a||!d.length||!y){m();return}for(const k of x){if((n==null?void 0:n(k))===!1)continue;const w=d.indexOf(k),S=u[w];if(!S)continue;const{direction:A,speed:M}=fue(k,S,y,t,f);for(const C of["x","y"])h[C][A[C]]||(M[C]=0,A[C]=0);if(M.x>0||M.y>0){m(),b.current=k,p(_,s),g.current=M,v.current=A;return}}g.current={x:0,y:0},v.current={x:0,y:0},m()},[t,_,n,m,a,s,JSON.stringify(y),JSON.stringify(h),p,d,x,u,JSON.stringify(f)])}const Aue={x:{[zn.Backward]:!1,[zn.Forward]:!1},y:{[zn.Backward]:!1,[zn.Forward]:!1}};function Mue(e){let{delta:t,disabled:i}=e;const n=cv(t);return Ph(r=>{if(i||!n||!r)return Aue;const a={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[zn.Backward]:r.x[zn.Backward]||a.x===-1,[zn.Forward]:r.x[zn.Forward]||a.x===1},y:{[zn.Backward]:r.y[zn.Backward]||a.y===-1,[zn.Forward]:r.y[zn.Forward]||a.y===1}}},[i,t,n])}function Cue(e,t){const i=t!==null?e.get(t):void 0,n=i?i.node.current:null;return Ph(r=>{var a;return t===null?null:(a=n!=null?n:r)!=null?a:null},[n,t])}function Eue(e,t){return(0,B.useMemo)(()=>e.reduce((i,n)=>{const{sensor:r}=n,a=r.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,n)}));return[...i,...a]},[]),[e,t])}var zh;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(zh||(zh={}));var Gw;(function(e){e.Optimized="optimized"})(Gw||(Gw={}));const vI=new Map;function Tue(e,t){let{dragging:i,dependencies:n,config:r}=t;const[a,s]=(0,B.useState)(null),{frequency:o,measure:l,strategy:d}=r,u=(0,B.useRef)(e),c=g(),f=Dh(c),h=(0,B.useCallback)(function(v){v===void 0&&(v=[]),!f.current&&s(y=>y===null?v:y.concat(v.filter(b=>!y.includes(b))))},[f]),p=(0,B.useRef)(null),m=Ph(v=>{if(c&&!i)return vI;if(!v||v===vI||u.current!==e||a!=null){const y=new Map;for(let b of e){if(!b)continue;if(a&&a.length>0&&!a.includes(b.id)&&b.rect.current){y.set(b.id,b.rect.current);continue}const _=b.node.current,x=_?new Bw(l(_),_):null;b.rect.current=x,x&&y.set(b.id,x)}return y}return v},[e,a,i,c,l]);return(0,B.useEffect)(()=>{u.current=e},[e]),(0,B.useEffect)(()=>{c||h()},[i,c]),(0,B.useEffect)(()=>{a&&a.length>0&&s(null)},[JSON.stringify(a)]),(0,B.useEffect)(()=>{c||typeof o!="number"||p.current!==null||(p.current=setTimeout(()=>{h(),p.current=null},o))},[o,c,h,...n]),{droppableRects:m,measureDroppableContainers:h,measuringScheduled:a!=null};function g(){switch(d){case zh.Always:return!1;case zh.BeforeDragging:return i;default:return!i}}}function Ww(e,t){return Ph(i=>e?i||(typeof t=="function"?t(e):e):null,[t,e])}function Due(e,t){return Ww(e,t)}function Pue(e){let{callback:t,disabled:i}=e;const n=lv(t),r=(0,B.useMemo)(()=>{if(i||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;const{MutationObserver:a}=window;return new a(n)},[n,i]);return(0,B.useEffect)(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function gv(e){let{callback:t,disabled:i}=e;const n=lv(t),r=(0,B.useMemo)(()=>{if(i||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;const{ResizeObserver:a}=window;return new a(n)},[i]);return(0,B.useEffect)(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function Iue(e){return new Bw(zu(e),e)}function yI(e,t,i){t===void 0&&(t=Iue);const[n,r]=(0,B.useReducer)(o,null),a=Pue({callback(l){if(e)for(const d of l){const{type:u,target:c}=d;if(u==="childList"&&c instanceof HTMLElement&&c.contains(e)){r();break}}}}),s=gv({callback:r});return Aa(()=>{r(),e?(s==null||s.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),a==null||a.disconnect())},[e]),n;function o(l){if(!e)return null;if(e.isConnected===!1){var d;return(d=l!=null?l:i)!=null?d:null}const u=t(e);return JSON.stringify(l)===JSON.stringify(u)?l:u}}function Oue(e){const t=Ww(e);return nI(e,t)}const bI=[];function jue(e){const t=(0,B.useRef)(e),i=Ph(n=>e?n&&n!==bI&&e&&t.current&&e.parentNode===t.current.parentNode?n:pv(e):bI,[e]);return(0,B.useEffect)(()=>{t.current=e},[e]),i}function Rue(e){const[t,i]=(0,B.useState)(null),n=(0,B.useRef)(e),r=(0,B.useCallback)(a=>{const s=Rw(a.target);s&&i(o=>o?(o.set(s,zw(s)),new Map(o)):null)},[]);return(0,B.useEffect)(()=>{const a=n.current;if(e!==a){s(a);const o=e.map(l=>{const d=Rw(l);return d?(d.addEventListener("scroll",r,{passive:!0}),[d,zw(d)]):null}).filter(l=>l!=null);i(o.length?new Map(o):null),n.current=e}return()=>{s(e),s(a)};function s(o){o.forEach(l=>{const d=Rw(l);d==null||d.removeEventListener("scroll",r)})}},[r,e]),(0,B.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((a,s)=>Ru(a,s),Ja):uI(e):Ja,[e,t])}function _I(e,t){t===void 0&&(t=[]);const i=(0,B.useRef)(null);return(0,B.useEffect)(()=>{i.current=null},t),(0,B.useEffect)(()=>{const n=e!==Ja;n&&!i.current&&(i.current=e),!n&&i.current&&(i.current=null)},[e]),i.current?Oh(e,i.current):Ja}function zue(e){(0,B.useEffect)(()=>{if(!ov)return;const t=e.map(i=>{let{sensor:n}=i;return n.setup==null?void 0:n.setup()});return()=>{for(const i of t)i==null||i()}},e.map(t=>{let{sensor:i}=t;return i}))}function Bue(e,t){return(0,B.useMemo)(()=>e.reduce((i,n)=>{let{eventName:r,handler:a}=n;return i[r]=s=>{a(s,t)},i},{}),[e,t])}function wI(e){return(0,B.useMemo)(()=>e?lue(e):null,[e])}const qw=[];function Lue(e,t){t===void 0&&(t=zu);const[i]=e,n=wI(i?Mr(i):null),[r,a]=(0,B.useReducer)(o,qw),s=gv({callback:a});return e.length>0&&r===qw&&a(),Aa(()=>{e.length?e.forEach(l=>s==null?void 0:s.observe(l)):(s==null||s.disconnect(),a())},[e]),r;function o(){return e.length?e.map(l=>dI(l)?n:new Bw(t(l),l)):qw}}function xI(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Th(t)?t:e}function Fue(e){let{measure:t}=e;const[i,n]=(0,B.useState)(null),r=(0,B.useCallback)(d=>{for(const{target:u}of d)if(Th(u)){n(c=>{const f=t(u);return c?Q(R({},c),{width:f.width,height:f.height}):f});break}},[t]),a=gv({callback:r}),s=(0,B.useCallback)(d=>{const u=xI(d);a==null||a.disconnect(),u&&(a==null||a.observe(u)),n(u?t(u):null)},[t,a]),[o,l]=dv(s);return(0,B.useMemo)(()=>({nodeRef:o,rect:i,setRef:l}),[i,o,l])}const Nue=[{sensor:Uw,options:{}},{sensor:Fw,options:{}}],Uue={current:{}},vv={draggable:{measure:aI},droppable:{measure:aI,strategy:zh.WhileDragging,frequency:Gw.Optimized},dragOverlay:{measure:zu}};class Bh extends Map{get(t){var i;return t!=null&&(i=super.get(t))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:i}=t;return!i})}getNodeFor(t){var i,n;return(i=(n=this.get(t))==null?void 0:n.node.current)!=null?i:void 0}}const Vue={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Bh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:hv},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:vv,measureDroppableContainers:hv,windowRect:null,measuringScheduled:!1},kI={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:hv,draggableNodes:new Map,over:null,measureDroppableContainers:hv},Lh=(0,B.createContext)(kI),SI=(0,B.createContext)(Vue);function Hue(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Bh}}}function Gue(e,t){switch(t.type){case Sn.DragStart:return Q(R({},e),{draggable:Q(R({},e.draggable),{initialCoordinates:t.initialCoordinates,active:t.active})});case Sn.DragMove:return e.draggable.active?Q(R({},e),{draggable:Q(R({},e.draggable),{translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}})}):e;case Sn.DragEnd:case Sn.DragCancel:return Q(R({},e),{draggable:Q(R({},e.draggable),{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case Sn.RegisterDroppable:{const{element:i}=t,{id:n}=i,r=new Bh(e.droppable.containers);return r.set(n,i),Q(R({},e),{droppable:Q(R({},e.droppable),{containers:r})})}case Sn.SetDroppableDisabled:{const{id:i,key:n,disabled:r}=t,a=e.droppable.containers.get(i);if(!a||n!==a.key)return e;const s=new Bh(e.droppable.containers);return s.set(i,Q(R({},a),{disabled:r})),Q(R({},e),{droppable:Q(R({},e.droppable),{containers:s})})}case Sn.UnregisterDroppable:{const{id:i,key:n}=t,r=e.droppable.containers.get(i);if(!r||n!==r.key)return e;const a=new Bh(e.droppable.containers);return a.delete(i),Q(R({},e),{droppable:Q(R({},e.droppable),{containers:a})})}default:return e}}function Wue(e){let{disabled:t}=e;const{active:i,activatorEvent:n,draggableNodes:r}=(0,B.useContext)(Lh),a=cv(n),s=cv(i==null?void 0:i.id);return(0,B.useEffect)(()=>{if(!t&&!n&&a&&s!=null){if(!uv(a)||document.activeElement===a.target)return;const o=r.get(s);if(!o)return;const{activatorNode:l,node:d}=o;if(!l.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[l.current,d.current]){if(!u)continue;const c=Nce(u);if(c){c.focus();break}}})}},[n,t,r,s,a]),null}function AI(e,t){let r=t,{transform:i}=r,n=Eo(r,["transform"]);return e!=null&&e.length?e.reduce((a,s)=>s(R({transform:a},n)),i):i}function que(e){return(0,B.useMemo)(()=>({draggable:R(R({},vv.draggable),e==null?void 0:e.draggable),droppable:R(R({},vv.droppable),e==null?void 0:e.droppable),dragOverlay:R(R({},vv.dragOverlay),e==null?void 0:e.dragOverlay)}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Zue(e){let{activeNode:t,measure:i,initialRect:n,config:r=!0}=e;const a=(0,B.useRef)(!1),{x:s,y:o}=typeof r=="boolean"?{x:r,y:r}:r;Aa(()=>{if(!s&&!o||!t){a.current=!1;return}if(a.current||!n)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const u=i(d),c=nI(u,n);if(s||(c.x=0),o||(c.y=0),a.current=!0,Math.abs(c.x)>0||Math.abs(c.y)>0){const f=sI(d);f&&f.scrollBy({top:c.y,left:c.x})}},[t,s,o,n,i])}const yv=(0,B.createContext)(Q(R({},Ja),{scaleX:1,scaleY:1}));var xl;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(xl||(xl={}));const Yue=(0,B.memo)(function(t){var i,n,r,a;let Oe=t,{id:s,accessibility:o,autoScroll:l=!0,children:d,sensors:u=Nue,collisionDetection:c=tue,measuring:f,modifiers:h}=Oe,p=Eo(Oe,["id","accessibility","autoScroll","children","sensors","collisionDetection","measuring","modifiers"]);const m=(0,B.useReducer)(Gue,void 0,Hue),[g,v]=m,[y,b]=qce(),[_,x]=(0,B.useState)(xl.Uninitialized),k=_===xl.Initialized,{draggable:{active:w,nodes:S,translate:A},droppable:{containers:M}}=g,C=w?S.get(w):null,T=(0,B.useRef)({initial:null,translated:null}),P=(0,B.useMemo)(()=>{var ye;return w!=null?{id:w,data:(ye=C==null?void 0:C.data)!=null?ye:Uue,rect:T}:null},[w,C]),I=(0,B.useRef)(null),[j,H]=(0,B.useState)(null),[U,O]=(0,B.useState)(null),F=Dh(p,Object.values(p)),Z=Ih("DndDescribedBy",s),G=(0,B.useMemo)(()=>M.getEnabled(),[M]),L=que(f),{droppableRects:X,measureDroppableContainers:q,measuringScheduled:J}=Tue(G,{dragging:k,dependencies:[A.x,A.y],config:L.droppable}),W=Cue(S,w),ce=(0,B.useMemo)(()=>U?fv(U):null,[U]),te=be(),oe=Due(W,L.draggable.measure);Zue({activeNode:w?S.get(w):null,config:te.layoutShiftCompensation,initialRect:oe,measure:L.draggable.measure});const ie=yI(W,L.draggable.measure,oe),we=yI(W?W.parentElement:null),pe=(0,B.useRef)({activatorEvent:null,active:null,activeNode:W,collisionRect:null,collisions:null,droppableRects:X,draggableNodes:S,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),fe=M.getNodeFor((i=pe.current.over)==null?void 0:i.id),Le=Fue({measure:L.dragOverlay.measure}),Be=(n=Le.nodeRef.current)!=null?n:W,Ne=k?(r=Le.rect)!=null?r:ie:null,Ye=!!(Le.nodeRef.current&&Le.rect),ze=Oue(Ye?null:ie),Pe=wI(Be?Mr(Be):null),Ze=jue(k?fe!=null?fe:W:null),st=Lue(Ze),V=AI(h,{transform:{x:A.x-ze.x,y:A.y-ze.y,scaleX:1,scaleY:1},activatorEvent:U,active:P,activeNodeRect:ie,containerNodeRect:we,draggingNodeRect:Ne,over:pe.current.over,overlayNodeRect:Le.rect,scrollableAncestors:Ze,scrollableAncestorRects:st,windowRect:Pe}),z=ce?Ru(ce,A):null,le=Rue(Ze),Ie=_I(le),ke=_I(le,[ie]),je=Ru(V,Ie),tt=Ne?aue(Ne,V):null,We=P&&tt?c({active:P,collisionRect:tt,droppableRects:X,droppableContainers:G,pointerCoordinates:z}):null,Se=tI(We,"id"),[qe,it]=(0,B.useState)(null),Qe=Ye?V:Ru(V,ke),ht=nue(Qe,(a=qe==null?void 0:qe.rect)!=null?a:null,ie),lt=(0,B.useCallback)((ye,Ce)=>{let{sensor:Fe,options:nt}=Ce;if(I.current==null)return;const mt=S.get(I.current);if(!mt)return;const Mt=ye.nativeEvent,rt=new Fe({active:I.current,activeNode:mt,event:Mt,options:nt,context:pe,onStart(At){const Qt=I.current;if(Qt==null)return;const ki=S.get(Qt);if(!ki)return;const{onDragStart:nn}=F.current,nr={active:{id:Qt,data:ki.data,rect:T}};(0,Iu.unstable_batchedUpdates)(()=>{nn==null||nn(nr),x(xl.Initializing),v({type:Sn.DragStart,initialCoordinates:At,active:Qt}),y({type:"onDragStart",event:nr})})},onMove(At){v({type:Sn.DragMove,coordinates:At})},onEnd:Tt(Sn.DragEnd),onCancel:Tt(Sn.DragCancel)});(0,Iu.unstable_batchedUpdates)(()=>{H(rt),O(ye.nativeEvent)});function Tt(At){return function(){return ri(this,null,function*(){const{active:ki,collisions:nn,over:nr,scrollAdjustedTranslate:N}=pe.current;let de=null;if(ki&&N){const{cancelDrop:me}=F.current;de={activatorEvent:Mt,active:ki,collisions:nn,delta:N,over:nr},At===Sn.DragEnd&&typeof me=="function"&&(yield Promise.resolve(me(de)))&&(At=Sn.DragCancel)}I.current=null,(0,Iu.unstable_batchedUpdates)(()=>{v({type:At}),x(xl.Uninitialized),it(null),H(null),O(null);const me=At===Sn.DragEnd?"onDragEnd":"onDragCancel";if(de){const ne=F.current[me];ne==null||ne(de),y({type:me,event:de})}})})}}},[S]),Vt=(0,B.useCallback)((ye,Ce)=>(Fe,nt)=>{const mt=Fe.nativeEvent,Mt=S.get(nt);if(I.current!==null||!Mt||mt.dndKit||mt.defaultPrevented)return;const rt={active:Mt};ye(Fe,Ce.options,rt)===!0&&(mt.dndKit={capturedBy:Ce.sensor},I.current=nt,lt(Fe,Ce))},[S,lt]),oi=Eue(u,Vt);zue(u),Aa(()=>{ie&&_===xl.Initializing&&x(xl.Initialized)},[ie,_]),(0,B.useEffect)(()=>{const{onDragMove:ye}=F.current,{active:Ce,activatorEvent:Fe,collisions:nt,over:mt}=pe.current;if(!Ce||!Fe)return;const Mt={active:Ce,activatorEvent:Fe,collisions:nt,delta:{x:je.x,y:je.y},over:mt};(0,Iu.unstable_batchedUpdates)(()=>{ye==null||ye(Mt),y({type:"onDragMove",event:Mt})})},[je.x,je.y]),(0,B.useEffect)(()=>{const{active:ye,activatorEvent:Ce,collisions:Fe,droppableContainers:nt,scrollAdjustedTranslate:mt}=pe.current;if(!ye||I.current==null||!Ce||!mt)return;const{onDragOver:Mt}=F.current,rt=nt.get(Se),Tt=rt&&rt.rect.current?{id:rt.id,rect:rt.rect.current,data:rt.data,disabled:rt.disabled}:null,At={active:ye,activatorEvent:Ce,collisions:Fe,delta:{x:mt.x,y:mt.y},over:Tt};(0,Iu.unstable_batchedUpdates)(()=>{it(Tt),Mt==null||Mt(At),y({type:"onDragOver",event:At})})},[Se]),Aa(()=>{pe.current={activatorEvent:U,active:P,activeNode:W,collisionRect:tt,collisions:We,droppableRects:X,draggableNodes:S,draggingNode:Be,draggingNodeRect:Ne,droppableContainers:M,over:qe,scrollableAncestors:Ze,scrollAdjustedTranslate:je},T.current={initial:Ne,translated:tt}},[P,W,We,tt,S,Be,Ne,X,M,qe,Ze,je]),Sue(Q(R({},te),{delta:A,draggingRect:tt,pointerCoordinates:z,scrollableAncestors:Ze,scrollableAncestorRects:st}));const ji=(0,B.useMemo)(()=>({active:P,activeNode:W,activeNodeRect:ie,activatorEvent:U,collisions:We,containerNodeRect:we,dragOverlay:Le,draggableNodes:S,droppableContainers:M,droppableRects:X,over:qe,measureDroppableContainers:q,scrollableAncestors:Ze,scrollableAncestorRects:st,measuringConfiguration:L,measuringScheduled:J,windowRect:Pe}),[P,W,ie,U,We,we,Le,S,M,X,qe,q,Ze,st,L,J,Pe]),$=(0,B.useMemo)(()=>({activatorEvent:U,activators:oi,active:P,activeNodeRect:ie,ariaDescribedById:{draggable:Z},dispatch:v,draggableNodes:S,over:qe,measureDroppableContainers:q}),[U,oi,P,ie,v,Z,S,qe,q]);return B.createElement($5.Provider,{value:b},B.createElement(Lh.Provider,{value:$},B.createElement(SI.Provider,{value:ji},B.createElement(yv.Provider,{value:ht},d)),B.createElement(Wue,{disabled:(o==null?void 0:o.restoreFocus)===!1})),B.createElement(Xce,Q(R({},o),{hiddenTextDescribedById:Z})));function be(){const ye=(j==null?void 0:j.autoScrollEnabled)===!1,Ce=typeof l=="object"?l.enabled===!1:l===!1,Fe=k&&!ye&&!Ce;return typeof l=="object"?Q(R({},l),{enabled:Fe}):{enabled:Fe}}}),Xue=(0,B.createContext)(null),MI="button",Kue="Droppable";function Que(e){let{id:t,data:i,disabled:n=!1,attributes:r}=e;const a=Ih(Kue),{activators:s,activatorEvent:o,active:l,activeNodeRect:d,ariaDescribedById:u,draggableNodes:c,over:f}=(0,B.useContext)(Lh),{role:h=MI,roleDescription:p="draggable",tabIndex:m=0}=r!=null?r:{},g=(l==null?void 0:l.id)===t,v=(0,B.useContext)(g?yv:Xue),[y,b]=dv(),[_,x]=dv(),k=Bue(s,t),w=Dh(i);Aa(()=>(c.set(t,{id:t,key:a,node:y,activatorNode:_,data:w}),()=>{const A=c.get(t);A&&A.key===a&&c.delete(t)}),[c,t]);const S=(0,B.useMemo)(()=>({role:h,tabIndex:m,"aria-disabled":n,"aria-pressed":g&&h===MI?!0:void 0,"aria-roledescription":p,"aria-describedby":u.draggable}),[n,h,m,g,p,u.draggable]);return{active:l,activatorEvent:o,activeNodeRect:d,attributes:S,isDragging:g,listeners:n?void 0:k,node:y,over:f,setNodeRef:b,setActivatorNodeRef:x,transform:v}}function CI(){return(0,B.useContext)(SI)}const Jue="Droppable",$ue={timeout:25};function efe(e){let{data:t,disabled:i=!1,id:n,resizeObserverConfig:r}=e;const a=Ih(Jue),{active:s,dispatch:o,over:l,measureDroppableContainers:d}=(0,B.useContext)(Lh),u=(0,B.useRef)({disabled:i}),c=(0,B.useRef)(!1),f=(0,B.useRef)(null),h=(0,B.useRef)(null),{disabled:p,updateMeasurementsFor:m,timeout:g}=R(R({},$ue),r),v=Dh(m!=null?m:n),y=(0,B.useCallback)(()=>{if(!c.current){c.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{d(Array.isArray(v.current)?v.current:[v.current]),h.current=null},g)},[g]),b=gv({callback:y,disabled:p||!s}),_=(0,B.useCallback)((S,A)=>{b&&(A&&(b.unobserve(A),c.current=!1),S&&b.observe(S))},[b]),[x,k]=dv(_),w=Dh(t);return(0,B.useEffect)(()=>{!b||!x.current||(b.disconnect(),c.current=!1,b.observe(x.current))},[x,b]),Aa(()=>(o({type:Sn.RegisterDroppable,element:{id:n,key:a,disabled:i,node:x,rect:f,data:w}}),()=>o({type:Sn.UnregisterDroppable,key:a,id:n})),[n]),(0,B.useEffect)(()=>{i!==u.current.disabled&&(o({type:Sn.SetDroppableDisabled,id:n,key:a,disabled:i}),u.current.disabled=i)},[n,a,i,o]),{active:s,rect:f,isOver:(l==null?void 0:l.id)===n,node:x,over:l,setNodeRef:k}}function tfe(e){let{animation:t,children:i}=e;const[n,r]=(0,B.useState)(null),[a,s]=(0,B.useState)(null),o=cv(i);return!i&&!n&&o&&r(o),Aa(()=>{if(!a)return;const l=n==null?void 0:n.key,d=n==null?void 0:n.props.id;if(l==null||d==null){r(null);return}Promise.resolve(t(d,a)).then(()=>{r(null)})},[t,n,a]),B.createElement(B.Fragment,null,i,n?(0,B.cloneElement)(n,{ref:s}):null)}const ife={x:0,y:0,scaleX:1,scaleY:1};function nfe(e){let{children:t}=e;return B.createElement(Lh.Provider,{value:kI},B.createElement(yv.Provider,{value:ife},t))}const rfe={position:"fixed",touchAction:"none"},afe=e=>uv(e)?"transform 250ms ease":void 0,sfe=(0,B.forwardRef)((e,t)=>{let{as:i,activatorEvent:n,adjustScale:r,children:a,className:s,rect:o,style:l,transform:d,transition:u=afe}=e;if(!o)return null;const c=r?d:Q(R({},d),{scaleX:1,scaleY:1}),f=R(Q(R({},rfe),{width:o.width,height:o.height,top:o.top,left:o.left,transform:wl.Transform.toString(c),transformOrigin:r&&n?Qce(n,o):void 0,transition:typeof u=="function"?u(n):u}),l);return B.createElement(i,{className:s,style:f,ref:t},a)}),EI=e=>t=>{let{active:i,dragOverlay:n}=t;const r={},{styles:a,className:s}=e;if(a!=null&&a.active)for(const[o,l]of Object.entries(a.active))l!==void 0&&(r[o]=i.node.style.getPropertyValue(o),i.node.style.setProperty(o,l));if(a!=null&&a.dragOverlay)for(const[o,l]of Object.entries(a.dragOverlay))l!==void 0&&n.node.style.setProperty(o,l);return s!=null&&s.active&&i.node.classList.add(s.active),s!=null&&s.dragOverlay&&n.node.classList.add(s.dragOverlay),function(){for(const[l,d]of Object.entries(r))i.node.style.setProperty(l,d);s!=null&&s.active&&i.node.classList.remove(s.active)}},ofe={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:i}}=e;return[{transform:wl.Transform.toString(t)},{transform:wl.Transform.toString(i)}]},sideEffects:EI({styles:{active:{opacity:"0"}}})};function lfe(e){let{config:t,draggableNodes:i,droppableContainers:n,measuringConfiguration:r}=e;return lv((a,s)=>{if(t===null)return;const o=i.get(a);if(!o)return;const l=o.node.current;if(!l)return;const d=xI(s);if(!d)return;const{transform:u}=Mr(s).getComputedStyle(s),c=rI(u);if(!c)return;const f=typeof t=="function"?t:dfe(t);return fI(l,r.draggable.measure),f({active:{id:a,data:o.data,node:l,rect:r.draggable.measure(l)},draggableNodes:i,dragOverlay:{node:s,rect:r.dragOverlay.measure(d)},droppableContainers:n,measuringConfiguration:r,transform:c})})}function dfe(e){const{duration:t,easing:i,sideEffects:n,keyframes:r}=R(R({},ofe),e);return a=>{let y=a,{active:s,dragOverlay:o,transform:l}=y,d=Eo(y,["active","dragOverlay","transform"]);if(!t)return;const u={x:o.rect.left-s.rect.left,y:o.rect.top-s.rect.top},c={scaleX:l.scaleX!==1?s.rect.width*l.scaleX/o.rect.width:1,scaleY:l.scaleY!==1?s.rect.height*l.scaleY/o.rect.height:1},f=R({x:l.x-u.x,y:l.y-u.y},c),h=r(Q(R({},d),{active:s,dragOverlay:o,transform:{initial:l,final:f}})),[p]=h,m=h[h.length-1];if(JSON.stringify(p)===JSON.stringify(m))return;const g=n==null?void 0:n(R({active:s,dragOverlay:o},d)),v=o.node.animate(h,{duration:t,easing:i,fill:"forwards"});return new Promise(b=>{v.onfinish=()=>{g==null||g(),b()}})}}let TI=0;function cfe(e){return(0,B.useMemo)(()=>{if(e!=null)return TI++,TI},[e])}const ufe=B.memo(e=>{let{adjustScale:t=!1,children:i,dropAnimation:n,style:r,transition:a,modifiers:s,wrapperElement:o="div",className:l,zIndex:d=999}=e;const{activatorEvent:u,active:c,activeNodeRect:f,containerNodeRect:h,draggableNodes:p,droppableContainers:m,dragOverlay:g,over:v,measuringConfiguration:y,scrollableAncestors:b,scrollableAncestorRects:_,windowRect:x}=CI(),k=(0,B.useContext)(yv),w=cfe(c==null?void 0:c.id),S=AI(s,{activatorEvent:u,active:c,activeNodeRect:f,containerNodeRect:h,draggingNodeRect:g.rect,over:v,overlayNodeRect:g.rect,scrollableAncestors:b,scrollableAncestorRects:_,transform:k,windowRect:x}),A=Ww(f),M=lfe({config:n,draggableNodes:p,droppableContainers:m,measuringConfiguration:y}),C=A?g.setRef:void 0;return B.createElement(nfe,null,B.createElement(tfe,{animation:M},c&&w?B.createElement(sfe,{key:w,id:c.id,ref:C,as:o,activatorEvent:u,adjustScale:t,className:l,transition:a,rect:A,style:R({zIndex:d},r),transform:S},i):null))});function Ppe(e){return t=>{let{transform:i}=t;return Q(R({},i),{x:Math.ceil(i.x/e)*e,y:Math.ceil(i.y/e)*e})}}const Ipe=e=>{let{transform:t}=e;return Q(R({},t),{y:0})};function Zw(e,t,i){const n=R({},e);return t.top+e.y<=i.top?n.y=i.top-t.top:t.bottom+e.y>=i.top+i.height&&(n.y=i.top+i.height-t.bottom),t.left+e.x<=i.left?n.x=i.left-t.left:t.right+e.x>=i.left+i.width&&(n.x=i.left+i.width-t.right),n}const Ope=e=>{let{containerNodeRect:t,draggingNodeRect:i,transform:n}=e;return!i||!t?n:Zw(n,i,t)},jpe=e=>{let{draggingNodeRect:t,transform:i,scrollableAncestorRects:n}=e;const r=n[0];return!t||!r?i:Zw(i,t,r)},ffe=e=>{let{transform:t}=e;return Q(R({},t),{x:0})},hfe=e=>{let{transform:t,draggingNodeRect:i,windowRect:n}=e;return!i||!n?t:Zw(t,i,n)},Rpe=e=>{let{activatorEvent:t,draggingNodeRect:i,transform:n}=e;if(i&&t){const r=getEventCoordinates(t);if(!r)return n;const a=r.x-i.left,s=r.y-i.top;return Q(R({},n),{x:n.x+a-i.width/2,y:n.y+s-i.height/2})}return n};function Yw(e,t,i){const n=e.slice();return n.splice(i<0?n.length+i:i,0,n.splice(t,1)[0]),n}function zpe(e,t,i){const n=e.slice();return n[t]=e[i],n[i]=e[t],n}function pfe(e,t){return e.reduce((i,n,r)=>{const a=t.get(n);return a&&(i[r]=a),i},Array(e.length))}function bv(e){return e!==null&&e>=0}function mfe(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function gfe(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const _v={scaleX:1,scaleY:1},Bpe=e=>{var t;let{rects:i,activeNodeRect:n,activeIndex:r,overIndex:a,index:s}=e;const o=(t=i[r])!=null?t:n;if(!o)return null;const l=vfe(i,s,r);if(s===r){const d=i[a];return d?R({x:r<a?d.left+d.width-(o.left+o.width):d.left-o.left,y:0},_v):null}return s>r&&s<=a?R({x:-o.width-l,y:0},_v):s<r&&s>=a?R({x:o.width+l,y:0},_v):R({x:0,y:0},_v)};function vfe(e,t,i){const n=e[t],r=e[t-1],a=e[t+1];return!n||!r&&!a?0:i<t?r?n.left-(r.left+r.width):a.left-(n.left+n.width):a?a.left-(n.left+n.width):n.left-(r.left+r.width)}const DI=e=>{let{rects:t,activeIndex:i,overIndex:n,index:r}=e;const a=Yw(t,n,i),s=t[r],o=a[r];return!o||!s?null:{x:o.left-s.left,y:o.top-s.top,scaleX:o.width/s.width,scaleY:o.height/s.height}},Lpe=e=>{let{activeIndex:t,index:i,rects:n,overIndex:r}=e,a,s;return i===t&&(a=n[i],s=n[r]),i===r&&(a=n[i],s=n[t]),!s||!a?null:{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}},wv={scaleX:1,scaleY:1},yfe=e=>{var t;let{activeIndex:i,activeNodeRect:n,index:r,rects:a,overIndex:s}=e;const o=(t=a[i])!=null?t:n;if(!o)return null;if(r===i){const d=a[s];return d?R({x:0,y:i<s?d.top+d.height-(o.top+o.height):d.top-o.top},wv):null}const l=bfe(a,r,i);return r>i&&r<=s?R({x:0,y:-o.height-l},wv):r<i&&r>=s?R({x:0,y:o.height+l},wv):R({x:0,y:0},wv)};function bfe(e,t,i){const n=e[t],r=e[t-1],a=e[t+1];return n?i<t?r?n.top-(r.top+r.height):a?a.top-(n.top+n.height):0:a?a.top-(n.top+n.height):r?n.top-(r.top+r.height):0:0}const PI="Sortable",II=B.createContext({activeIndex:-1,containerId:PI,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:DI,disabled:{draggable:!1,droppable:!1}});function _fe(e){let{children:t,id:i,items:n,strategy:r=DI,disabled:a=!1}=e;const{active:s,dragOverlay:o,droppableRects:l,over:d,measureDroppableContainers:u}=CI(),c=Ih(PI,i),f=o.rect!==null,h=(0,B.useMemo)(()=>n.map(k=>typeof k=="object"&&"id"in k?k.id:k),[n]),p=s!=null,m=s?h.indexOf(s.id):-1,g=d?h.indexOf(d.id):-1,v=(0,B.useRef)(h),y=!mfe(h,v.current),b=g!==-1&&m===-1||y,_=gfe(a);Aa(()=>{y&&p&&u(h)},[y,h,p,u]),(0,B.useEffect)(()=>{v.current=h},[h]);const x=(0,B.useMemo)(()=>({activeIndex:m,containerId:c,disabled:_,disableTransforms:b,items:h,overIndex:g,useDragOverlay:f,sortedRects:pfe(h,l),strategy:r}),[m,c,_.draggable,_.droppable,b,h,g,l,f,r]);return B.createElement(II.Provider,{value:x},t)}const wfe=e=>{let{id:t,items:i,activeIndex:n,overIndex:r}=e;return Yw(i,n,r).indexOf(t)},xfe=e=>{let{containerId:t,isSorting:i,wasDragging:n,index:r,items:a,newIndex:s,previousItems:o,previousContainerId:l,transition:d}=e;return!d||!n||o!==a&&r===s?!1:i?!0:s!==r&&t===l},kfe={duration:200,easing:"ease"},OI="transform",Sfe=wl.Transition.toString({property:OI,duration:0,easing:"linear"}),Afe={roleDescription:"sortable"};function Mfe(e){let{disabled:t,index:i,node:n,rect:r}=e;const[a,s]=(0,B.useState)(null),o=(0,B.useRef)(i);return Aa(()=>{if(!t&&i!==o.current&&n.current){const l=r.current;if(l){const d=zu(n.current,{ignoreTransform:!0}),u={x:l.left-d.left,y:l.top-d.top,scaleX:l.width/d.width,scaleY:l.height/d.height};(u.x||u.y)&&s(u)}}i!==o.current&&(o.current=i)},[t,i,n,r]),(0,B.useEffect)(()=>{a&&s(null)},[a]),a}function Cfe(e){let{animateLayoutChanges:t=xfe,attributes:i,disabled:n,data:r,getNewIndex:a=wfe,id:s,strategy:o,resizeObserverConfig:l,transition:d=kfe}=e;const{items:u,containerId:c,activeIndex:f,disabled:h,disableTransforms:p,sortedRects:m,overIndex:g,useDragOverlay:v,strategy:y}=(0,B.useContext)(II),b=Efe(n,h),_=u.indexOf(s),x=(0,B.useMemo)(()=>R({sortable:{containerId:c,index:_,items:u}},r),[c,r,_,u]),k=(0,B.useMemo)(()=>u.slice(u.indexOf(s)),[u,s]),{rect:w,node:S,isOver:A,setNodeRef:M}=efe({id:s,data:x,disabled:b.droppable,resizeObserverConfig:R({updateMeasurementsFor:k},l)}),{active:C,activatorEvent:T,activeNodeRect:P,attributes:I,setNodeRef:j,listeners:H,isDragging:U,over:O,setActivatorNodeRef:F,transform:Z}=Que({id:s,data:x,attributes:R(R({},Afe),i),disabled:b.draggable}),G=zce(M,j),L=!!C,X=L&&!p&&bv(f)&&bv(g),q=!v&&U,J=q&&X?Z:null,W=o!=null?o:y,ce=X?J!=null?J:W({rects:m,activeNodeRect:P,activeIndex:f,overIndex:g,index:_}):null,te=bv(f)&&bv(g)?a({id:s,items:u,activeIndex:f,overIndex:g}):_,oe=C==null?void 0:C.id,ie=(0,B.useRef)({activeId:oe,items:u,newIndex:te,containerId:c}),we=u!==ie.current.items,pe=t({active:C,containerId:c,isDragging:U,isSorting:L,id:s,index:_,items:u,newIndex:ie.current.newIndex,previousItems:ie.current.items,previousContainerId:ie.current.containerId,transition:d,wasDragging:ie.current.activeId!=null}),fe=Mfe({disabled:!pe,index:_,node:S,rect:w});return(0,B.useEffect)(()=>{L&&ie.current.newIndex!==te&&(ie.current.newIndex=te),c!==ie.current.containerId&&(ie.current.containerId=c),u!==ie.current.items&&(ie.current.items=u)},[L,te,c,u]),(0,B.useEffect)(()=>{if(oe===ie.current.activeId)return;if(oe&&!ie.current.activeId){ie.current.activeId=oe;return}const Be=setTimeout(()=>{ie.current.activeId=oe},50);return()=>clearTimeout(Be)},[oe]),{active:C,activeIndex:f,attributes:I,data:x,rect:w,index:_,newIndex:te,items:u,isOver:A,isSorting:L,isDragging:U,listeners:H,node:S,overIndex:g,over:O,setNodeRef:G,setActivatorNodeRef:F,setDroppableNodeRef:M,setDraggableNodeRef:j,transform:fe!=null?fe:ce,transition:Le()};function Le(){if(fe||we&&ie.current.newIndex===_)return Sfe;if(!(q&&!uv(T)||!d)&&(L||pe))return wl.Transition.toString(Q(R({},d),{property:OI}))}}function Efe(e,t){var i,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(i=e==null?void 0:e.draggable)!=null?i:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}function xv(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Tfe=[ei.Down,ei.Right,ei.Up,ei.Left],Dfe=(e,t)=>{let{context:{active:i,collisionRect:n,droppableRects:r,droppableContainers:a,over:s,scrollableAncestors:o}}=t;if(Tfe.includes(e.code)){if(e.preventDefault(),!i||!n)return;const l=[];a.getEnabled().forEach(c=>{if(!c||c!=null&&c.disabled)return;const f=r.get(c.id);if(f)switch(e.code){case ei.Down:n.top<f.top&&l.push(c);break;case ei.Up:n.top>f.top&&l.push(c);break;case ei.Left:n.left>f.left&&l.push(c);break;case ei.Right:n.left<f.left&&l.push(c);break}});const d=$ce({active:i,collisionRect:n,droppableRects:r,droppableContainers:l,pointerCoordinates:null});let u=tI(d,"id");if(u===(s==null?void 0:s.id)&&d.length>1&&(u=d[1].id),u!=null){const c=a.get(i.id),f=a.get(u),h=f?r.get(f.id):null,p=f==null?void 0:f.node.current;if(p&&h&&c&&f){const g=pv(p).some((k,w)=>o[w]!==k),v=jI(c,f),y=Pfe(c,f),b=g||!v?{x:0,y:0}:{x:y?n.width-h.width:0,y:y?n.height-h.height:0},_={x:h.left,y:h.top};return b.x&&b.y?_:Oh(_,b)}}}};function jI(e,t){return!xv(e)||!xv(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Pfe(e,t){return!xv(e)||!xv(t)||!jI(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}var Ife=ee(49610),RI,zI,BI=(0,K.kc)(function(e){var t=e.css;return{container:t(RI||(RI=(0,re.Z)([`
      padding: 0;
      list-style: none;
    `]))),item:t(zI||(zI=(0,re.Z)([`
      box-sizing: border-box;
      list-style: none;
    `])))}}),Ofe=["children","id","style"],LI=(0,B.createContext)({attributes:{},listeners:void 0,ref:function(){}}),jfe=(0,B.memo)(function(e){var t=e.children,i=e.id,n=e.style,r=(0,ge.Z)(e,Ofe),a=BI(),s=a.styles,o=Cfe({id:i}),l=o.attributes,d=o.isDragging,u=o.listeners,c=o.setNodeRef,f=o.setActivatorNodeRef,h=o.transform,p=o.transition,m=(0,B.useMemo)(function(){return{attributes:l,listeners:u,ref:f}},[l,u,f]);return(0,D.jsx)(LI.Provider,{value:m,children:(0,D.jsx)(Me.D,(0,ae.Z)((0,ae.Z)({align:"center",as:"li",className:s.item,gap:4,horizontal:!0,ref:c,style:(0,ae.Z)({opacity:d?.4:void 0,transform:wl.Translate.toString(h),transition:p},n)},r),{},{children:t}))})}),Rfe=jfe,zfe=["style"],Bfe=(0,B.memo)(function(e){var t=e.style,i=(0,ge.Z)(e,zfe),n=(0,B.useState)(!1),r=(0,St.Z)(n,2),a=r[0],s=r[1],o=(0,B.useContext)(LI),l=o.attributes,d=o.listeners,u=o.ref;return(0,D.jsx)(Ut.Z,(0,ae.Z)((0,ae.Z)((0,ae.Z)((0,ae.Z)({"data-cypress":"draggable-handle",glass:!0,icon:Ife.Z,onMouseDown:function(){return s(!0)},onMouseUp:function(){return s(!1)},size:"small",style:(0,ae.Z)({cursor:a?"grab":"grabbing"},t)},i),l),d),{},{ref:u}))}),Lfe=Bfe,Ffe={sideEffects:EI({styles:{active:{opacity:"0.4"}}})},Nfe=(0,B.memo)(function(e){var t=e.children;return(0,D.jsx)(ufe,{dropAnimation:Ffe,children:t})}),Ufe=Nfe,Vfe=["items","onChange","renderItem","gap"],Hfe=(0,B.memo)(function(e){var t=e.items,i=e.onChange,n=e.renderItem,r=e.gap,a=r===void 0?8:r,s=(0,ge.Z)(e,Vfe),o=(0,B.useState)(null),l=(0,St.Z)(o,2),d=l[0],u=l[1],c=BI(),f=c.styles,h=(0,B.useMemo)(function(){return t.find(function(m){return m.id===(d==null?void 0:d.id)})},[d,t]),p=Kce(eI(Uw),eI(Fw,{coordinateGetter:Dfe}));return(0,D.jsxs)(Yue,{modifiers:[ffe,hfe],onDragCancel:function(){u(null)},onDragEnd:function(g){var v=g.active,y=g.over;if(y&&v.id!==(y==null?void 0:y.id)){var b=t.findIndex(function(x){var k=x.id;return k===v.id}),_=t.findIndex(function(x){var k=x.id;return k===y.id});i(Yw(t,b,_))}u(null)},onDragStart:function(g){var v=g.active;u(v)},sensors:p,children:[(0,D.jsx)(_fe,{items:t,strategy:yfe,children:(0,D.jsx)(Me.D,(0,ae.Z)((0,ae.Z)({as:"ul",className:f.container,gap:a},s),{},{children:t.map(function(m){return(0,D.jsx)(B.Fragment,{children:n(m)},m.id)})}))}),(0,D.jsx)(Ufe,{children:h?n(h):null})]})}),Xw=Hfe;Xw.Item=Rfe,Xw.DragHandle=Lfe;var Gfe=Xw,Wfe=ee(31266),qfe=ee(5666),FI=ee(75521),Ur=ee(92015),NI=ee(55541),Bu=ee(89056),Vr={blue:Ur._.blue.dark[9],cyan:Ur._.cyan.dark[9],geekblue:Ur._.geekblue.dark[9],gold:Ur._.gold.dark[9],green:Ur._.green.dark[9],lime:Ur._.lime.dark[9],magenta:Ur._.magenta.dark[9],orange:Ur._.orange.dark[9],purple:Ur._.purple.dark[9],red:Ur._.red.dark[9],volcano:Ur._.volcano.dark[9],yellow:Ur._.yellow.dark[9]},Zfe=[Vr.red,Vr.orange,Vr.gold,Vr.yellow,Vr.lime,Vr.green,Vr.cyan,Vr.blue,Vr.geekblue,Vr.purple,Vr.magenta,Vr.volcano],Md={mauve:Bu.H.mauve.dark[9],olive:Bu.H.olive.dark[9],sage:Bu.H.sage.dark[9],sand:Bu.H.sand.dark[9],slate:Bu.H.slate.dark[9]},Yfe=[Md.mauve,Md.slate,Md.sage,Md.olive,Md.sand],Xfe=function(t,i){var n=t==="primary"?Vr:Md,r=Object.entries(n).find(function(a){return a[1]===i});return r==null?void 0:r[0]},Kfe=ee(91263),Qfe=ee(14776),UI,VI,Jfe=(0,K.kc)(function(e,t){var i=e.css,n=e.token;return{active:i(UI||(UI=(0,re.Z)([`
      box-shadow: 0 0 0 2px `,`;
    `])),n.colorTextTertiary),container:i(VI||(VI=(0,re.Z)([`
      cursor: pointer;

      width: `,`px;
      height: `,`px;

      background: `,`;
      border-radius: 50%;
      box-shadow: inset 0 0 0 2px `,`;

      transition:
        scale 400ms `,`,
        box-shadow 100ms `,`;

      &:hover {
        box-shadow: 0 0 0 3px `,`;
      }

      &:active {
        scale: 0.8;
      }
    `])),t,t,n.colorBgContainer,n.colorSplit,n.motionEaseOut,n.motionEaseOut,n.colorText)}}),$fe=(0,B.memo)(function(e){var t=e.colors,i=e.activeColor,n=e.onSelect,r=e.size,a=r===void 0?24:r,s=(0,K.Fg)(),o=Jfe(a),l=o.cx,d=o.styles;return(0,D.jsxs)(Me.D,{gap:8,horizontal:!0,style:{flexWrap:"wrap"},children:[(0,D.jsx)(Me.D,{className:l(d.container,!i&&d.active),onClick:function(){n==null||n()},style:{background:s.colorBgContainer}}),t.map(function(u){var c=u===i;return(0,D.jsx)(Me.D,{className:l(d.container,c&&d.active),onClick:function(){n==null||n(u)},style:{background:u}},u)})]})}),ehe=$fe,the=ee(69916),ihe=ee(87956),nhe=(0,B.memo)(function(e){var t=e.title,i=t===void 0?"LobeHub":t,n=e.description,r=n===void 0?"Empowering your AI dreams with LobeHub":n,a=e.withManifest,s=(0,Od.nc)(),o=(0,B.useCallback)(function(l){return s({path:l,pkg:"@lobehub/assets-favicons",version:"latest"})},[]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("link",{href:o("assets/favicon.ico"),rel:"shortcut icon"}),(0,D.jsx)("link",{href:o("assets/apple-touch-icon.png"),rel:"apple-touch-icon",sizes:"180x180"}),(0,D.jsx)("link",{href:o("assets/favicon-32x32.png"),rel:"icon",sizes:"32x32",type:"image/png"}),(0,D.jsx)("link",{href:o("assets/favicon-16x16.png"),rel:"icon",sizes:"16x16",type:"image/png"}),(0,D.jsx)("meta",{content:"width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, viewport-fit=cover, user-scalable=no",name:"viewport"}),(0,D.jsx)("meta",{content:i,name:"apple-mobile-web-app-title"}),(0,D.jsx)("meta",{content:i,name:"application-name"}),(0,D.jsx)("meta",{content:r,name:"description"}),(0,D.jsx)("meta",{content:"#000000",name:"msapplication-TileColor"}),(0,D.jsx)("meta",{content:"#fff",media:"(prefers-color-scheme: light)",name:"theme-color"}),(0,D.jsx)("meta",{content:"#000",media:"(prefers-color-scheme: dark)",name:"theme-color"}),(0,D.jsx)("meta",{content:"yes",name:"apple-mobile-web-app-capable"}),(0,D.jsx)("meta",{content:i,name:"apple-mobile-web-app-title"}),(0,D.jsx)("meta",{content:"black-translucent",name:"apple-mobile-web-app-status-bar-style"}),a&&(0,D.jsx)("link",{href:o("assets/site.webmanifest"),rel:"manifest"})]})}),rhe=nhe,ahe=ee(77388),she=ee(61882),ohe=ee(58173),lhe=ee.n(ohe),HI,GI,WI,qI,ZI,YI,kv=28,Kw=20,dhe=(0,K.kc)(function(e,t){var i=e.cx,n=e.css,r=e.token,a=e.isDarkMode,s=t.type,o=t.shape,l;switch(s){case"normal":{l=n(HI||(HI=(0,re.Z)([`
          color: `,`;
        `])),r.colorSuccessText);break}case"low":{l=n(GI||(GI=(0,re.Z)([`
          color: `,`;
        `])),r.colorWarningText);break}case"overload":{l=n(WI||(WI=(0,re.Z)([`
          color: `,`;
        `])),r.colorErrorText);break}}var d=n(qI||(qI=(0,re.Z)([`
      padding-block: 0;
      padding-inline: `,"px ",`px;
      background: `,`;
      border-radius: `,`px;
    `])),(kv-Kw)/2,(kv-Kw)*1.2,a?r.colorFillSecondary:r.colorFillTertiary,kv/2),u=n(ZI||(ZI=(0,re.Z)([`
      border-radius: `,`px;
    `])),r.borderRadiusSM);return{container:i(l,o==="round"?d:u,n(YI||(YI=(0,re.Z)([`
          user-select: none;

          overflow: hidden;

          min-width: fit-content;
          height: `,`px;

          font-size: 13px;
          line-height: 1;
        `])),kv))}}),che=["className","displayMode","maxValue","value","text","shape","unoptimized"],XI=function(t){return lhe()(t).format("0,0")},uhe=(0,B.forwardRef)(function(e,t){var i=e.className,n=e.displayMode,r=n===void 0?"remained":n,a=e.maxValue,s=e.value,o=e.text,l=e.shape,d=l===void 0?"round":l,u=e.unoptimized,c=(0,ge.Z)(e,che),f=(0,Al.F)(),h=f.mobile,p=a-s,m=p/a,g,v;m>.3?(g="normal",v="\u{1F600}"):m>0?(g="low",v="\u{1F605}"):(g="overload",v="\u{1F92F}");var y=dhe({shape:d,type:g}),b=y.styles,_=y.cx;return(0,D.jsxs)(Me.D,(0,ae.Z)((0,ae.Z)({align:"center",className:_(b.container,i),flex:"none",gap:4,horizontal:!0,ref:t},c),{},{children:[(0,D.jsx)(g3.Z,{emoji:v,size:Kw,unoptimized:u}),p>0?[h?"":r==="remained"?(o==null?void 0:o.remained)||"Remained":(o==null?void 0:o.used)||"Used",XI(r==="remained"?p:s)].join(" "):(o==null?void 0:o.overload)||"Overload"]}))}),fhe=uhe,hhe=ee(59732),phe=ee(56853),KI=ee(34947),mhe=ee(45290)},58173:function(Ri,Di,ee){var Ut,ae;(function(ge,rn){Ut=rn,ae=typeof Ut=="function"?Ut.call(Di,ee,Di,Ri):Ut,ae!==void 0&&(Ri.exports=ae)})(this,function(){var ge,rn,Ls="2.0.6",B={},Me={},hi={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},Ai={currentLocale:hi.currentLocale,zeroFormat:hi.zeroFormat,nullFormat:hi.nullFormat,defaultFormat:hi.defaultFormat,scalePercentBy100:hi.scalePercentBy100};function re(K,ve){this._input=K,this._value=ve}return ge=function(K){var ve,Xe,Ve,D;if(ge.isNumeral(K))ve=K.value();else if(K===0||typeof K=="undefined")ve=0;else if(K===null||rn.isNaN(K))ve=null;else if(typeof K=="string")if(Ai.zeroFormat&&K===Ai.zeroFormat)ve=0;else if(Ai.nullFormat&&K===Ai.nullFormat||!K.replace(/[^0-9]+/g,"").length)ve=null;else{for(Xe in B)if(D=typeof B[Xe].regexps.unformat=="function"?B[Xe].regexps.unformat():B[Xe].regexps.unformat,D&&K.match(D)){Ve=B[Xe].unformat;break}Ve=Ve||ge._.stringToNumber,ve=Ve(K)}else ve=Number(K)||null;return new re(K,ve)},ge.version=Ls,ge.isNumeral=function(K){return K instanceof re},ge._=rn={numberToFormat:function(K,ve,Xe){var Ve=Me[ge.options.currentLocale],D=!1,He=!1,ut=0,yt="",St=1e12,ci=1e9,An=1e6,Hr=1e3,an="",$a=!1,Bn,Gn,Lt,Ft,Re,ue,Je,ai,Jt,Li;if(K=K||0,Gn=Math.abs(K),ge._.includes(ve,"(")?(D=!0,ve=ve.replace(/[\(|\)]/g,"")):(ge._.includes(ve,"+")||ge._.includes(ve,"-"))&&(ai=ge._.includes(ve,"+")?ve.indexOf("+"):K<0?ve.indexOf("-"):-1,ve=ve.replace(/[\+|\-]/g,"")),ge._.includes(ve,"a")&&(Bn=ve.match(/a(k|m|b|t)?/),Bn=Bn?Bn[1]:!1,ge._.includes(ve," a")&&(yt=" "),ve=ve.replace(new RegExp(yt+"a[kmbt]?"),""),Gn>=St&&!Bn||Bn==="t"?(yt+=Ve.abbreviations.trillion,K=K/St):Gn<St&&Gn>=ci&&!Bn||Bn==="b"?(yt+=Ve.abbreviations.billion,K=K/ci):Gn<ci&&Gn>=An&&!Bn||Bn==="m"?(yt+=Ve.abbreviations.million,K=K/An):(Gn<An&&Gn>=Hr&&!Bn||Bn==="k")&&(yt+=Ve.abbreviations.thousand,K=K/Hr)),ge._.includes(ve,"[.]")&&(He=!0,ve=ve.replace("[.]",".")),ue=K.toString().split(".")[0],Je=ve.split(".")[1],Jt=ve.indexOf(","),ut=(ve.split(".")[0].split(",")[0].match(/0/g)||[]).length,Je?(ge._.includes(Je,"[")?(Je=Je.replace("]",""),Je=Je.split("["),an=ge._.toFixed(K,Je[0].length+Je[1].length,Xe,Je[1].length)):an=ge._.toFixed(K,Je.length,Xe),ue=an.split(".")[0],ge._.includes(an,".")?an=Ve.delimiters.decimal+an.split(".")[1]:an="",He&&Number(an.slice(1))===0&&(an="")):ue=ge._.toFixed(K,0,Xe),yt&&!Bn&&Number(ue)>=1e3&&yt!==Ve.abbreviations.trillion)switch(ue=String(Number(ue)/1e3),yt){case Ve.abbreviations.thousand:yt=Ve.abbreviations.million;break;case Ve.abbreviations.million:yt=Ve.abbreviations.billion;break;case Ve.abbreviations.billion:yt=Ve.abbreviations.trillion;break}if(ge._.includes(ue,"-")&&(ue=ue.slice(1),$a=!0),ue.length<ut)for(var Gr=ut-ue.length;Gr>0;Gr--)ue="0"+ue;return Jt>-1&&(ue=ue.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+Ve.delimiters.thousands)),ve.indexOf(".")===0&&(ue=""),Li=ue+an+(yt||""),D?Li=(D&&$a?"(":"")+Li+(D&&$a?")":""):ai>=0?Li=ai===0?($a?"-":"+")+Li:Li+($a?"-":"+"):$a&&(Li="-"+Li),Li},stringToNumber:function(K){var ve=Me[Ai.currentLocale],Xe=K,Ve={thousand:3,million:6,billion:9,trillion:12},D,He,ut,yt;if(Ai.zeroFormat&&K===Ai.zeroFormat)He=0;else if(Ai.nullFormat&&K===Ai.nullFormat||!K.replace(/[^0-9]+/g,"").length)He=null;else{He=1,ve.delimiters.decimal!=="."&&(K=K.replace(/\./g,"").replace(ve.delimiters.decimal,"."));for(D in Ve)if(yt=new RegExp("[^a-zA-Z]"+ve.abbreviations[D]+"(?:\\)|(\\"+ve.currency.symbol+")?(?:\\))?)?$"),Xe.match(yt)){He*=Math.pow(10,Ve[D]);break}He*=(K.split("-").length+Math.min(K.split("(").length-1,K.split(")").length-1))%2?1:-1,K=K.replace(/[^0-9\.]+/g,""),He*=Number(K)}return He},isNaN:function(K){return typeof K=="number"&&isNaN(K)},includes:function(K,ve){return K.indexOf(ve)!==-1},insert:function(K,ve,Xe){return K.slice(0,Xe)+ve+K.slice(Xe)},reduce:function(K,ve){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof ve!="function")throw new TypeError(ve+" is not a function");var Xe=Object(K),Ve=Xe.length>>>0,D=0,He;if(arguments.length===3)He=arguments[2];else{for(;D<Ve&&!(D in Xe);)D++;if(D>=Ve)throw new TypeError("Reduce of empty array with no initial value");He=Xe[D++]}for(;D<Ve;D++)D in Xe&&(He=ve(He,Xe[D],D,Xe));return He},multiplier:function(K){var ve=K.toString().split(".");return ve.length<2?1:Math.pow(10,ve[1].length)},correctionFactor:function(){var K=Array.prototype.slice.call(arguments);return K.reduce(function(ve,Xe){var Ve=rn.multiplier(Xe);return ve>Ve?ve:Ve},1)},toFixed:function(K,ve,Xe,Ve){var D=K.toString().split("."),He=ve-(Ve||0),ut,yt,St,ci;return D.length===2?ut=Math.min(Math.max(D[1].length,He),ve):ut=He,St=Math.pow(10,ut),ci=(Xe(K+"e+"+ut)/St).toFixed(ut),Ve>ve-ut&&(yt=new RegExp("\\.?0{1,"+(Ve-(ve-ut))+"}$"),ci=ci.replace(yt,"")),ci}},ge.options=Ai,ge.formats=B,ge.locales=Me,ge.locale=function(K){return K&&(Ai.currentLocale=K.toLowerCase()),Ai.currentLocale},ge.localeData=function(K){if(!K)return Me[Ai.currentLocale];if(K=K.toLowerCase(),!Me[K])throw new Error("Unknown locale : "+K);return Me[K]},ge.reset=function(){for(var K in hi)Ai[K]=hi[K]},ge.zeroFormat=function(K){Ai.zeroFormat=typeof K=="string"?K:null},ge.nullFormat=function(K){Ai.nullFormat=typeof K=="string"?K:null},ge.defaultFormat=function(K){Ai.defaultFormat=typeof K=="string"?K:"0.0"},ge.register=function(K,ve,Xe){if(ve=ve.toLowerCase(),this[K+"s"][ve])throw new TypeError(ve+" "+K+" already registered.");return this[K+"s"][ve]=Xe,Xe},ge.validate=function(K,ve){var Xe,Ve,D,He,ut,yt,St,ci;if(typeof K!="string"&&(K+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",K)),K=K.trim(),K.match(/^\d+$/))return!0;if(K==="")return!1;try{St=ge.localeData(ve)}catch(An){St=ge.localeData(ge.locale())}return D=St.currency.symbol,ut=St.abbreviations,Xe=St.delimiters.decimal,St.delimiters.thousands==="."?Ve="\\.":Ve=St.delimiters.thousands,ci=K.match(/^[^\d]+/),ci!==null&&(K=K.substr(1),ci[0]!==D)||(ci=K.match(/[^\d]+$/),ci!==null&&(K=K.slice(0,-1),ci[0]!==ut.thousand&&ci[0]!==ut.million&&ci[0]!==ut.billion&&ci[0]!==ut.trillion))?!1:(yt=new RegExp(Ve+"{2}"),K.match(/[^\d.,]/g)?!1:(He=K.split(Xe),He.length>2?!1:He.length<2?!!He[0].match(/^\d+.*\d$/)&&!He[0].match(yt):He[0].length===1?!!He[0].match(/^\d+$/)&&!He[0].match(yt)&&!!He[1].match(/^\d+$/):!!He[0].match(/^\d+.*\d$/)&&!He[0].match(yt)&&!!He[1].match(/^\d+$/)))},ge.fn=re.prototype={clone:function(){return ge(this)},format:function(K,ve){var Xe=this._value,Ve=K||Ai.defaultFormat,D,He,ut;if(ve=ve||Math.round,Xe===0&&Ai.zeroFormat!==null)He=Ai.zeroFormat;else if(Xe===null&&Ai.nullFormat!==null)He=Ai.nullFormat;else{for(D in B)if(Ve.match(B[D].regexps.format)){ut=B[D].format;break}ut=ut||ge._.numberToFormat,He=ut(Xe,Ve,ve)}return He},value:function(){return this._value},input:function(){return this._input},set:function(K){return this._value=Number(K),this},add:function(K){var ve=rn.correctionFactor.call(null,this._value,K);function Xe(Ve,D,He,ut){return Ve+Math.round(ve*D)}return this._value=rn.reduce([this._value,K],Xe,0)/ve,this},subtract:function(K){var ve=rn.correctionFactor.call(null,this._value,K);function Xe(Ve,D,He,ut){return Ve-Math.round(ve*D)}return this._value=rn.reduce([K],Xe,Math.round(this._value*ve))/ve,this},multiply:function(K){function ve(Xe,Ve,D,He){var ut=rn.correctionFactor(Xe,Ve);return Math.round(Xe*ut)*Math.round(Ve*ut)/Math.round(ut*ut)}return this._value=rn.reduce([this._value,K],ve,1),this},divide:function(K){function ve(Xe,Ve,D,He){var ut=rn.correctionFactor(Xe,Ve);return Math.round(Xe*ut)/Math.round(Ve*ut)}return this._value=rn.reduce([this._value,K],ve),this},difference:function(K){return Math.abs(ge(this._value).subtract(K).value())}},ge.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(K){var ve=K%10;return~~(K%100/10)===1?"th":ve===1?"st":ve===2?"nd":ve===3?"rd":"th"},currency:{symbol:"$"}}),function(){ge.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(K,ve,Xe){var Ve=ge._.includes(ve," BPS")?" ":"",D;return K=K*1e4,ve=ve.replace(/\s?BPS/,""),D=ge._.numberToFormat(K,ve,Xe),ge._.includes(D,")")?(D=D.split(""),D.splice(-1,0,Ve+"BPS"),D=D.join("")):D=D+Ve+"BPS",D},unformat:function(K){return+(ge._.stringToNumber(K)*1e-4).toFixed(15)}})}(),function(){var K={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},ve={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},Xe=K.suffixes.concat(ve.suffixes.filter(function(D){return K.suffixes.indexOf(D)<0})),Ve=Xe.join("|");Ve="("+Ve.replace("B","B(?!PS)")+")",ge.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(Ve)},format:function(D,He,ut){var yt,St=ge._.includes(He,"ib")?ve:K,ci=ge._.includes(He," b")||ge._.includes(He," ib")?" ":"",An,Hr,an;for(He=He.replace(/\s?i?b/,""),An=0;An<=St.suffixes.length;An++)if(Hr=Math.pow(St.base,An),an=Math.pow(St.base,An+1),D===null||D===0||D>=Hr&&D<an){ci+=St.suffixes[An],Hr>0&&(D=D/Hr);break}return yt=ge._.numberToFormat(D,He,ut),yt+ci},unformat:function(D){var He=ge._.stringToNumber(D),ut,yt;if(He){for(ut=K.suffixes.length-1;ut>=0;ut--){if(ge._.includes(D,K.suffixes[ut])){yt=Math.pow(K.base,ut);break}if(ge._.includes(D,ve.suffixes[ut])){yt=Math.pow(ve.base,ut);break}}He*=yt||1}return He}})}(),function(){ge.register("format","currency",{regexps:{format:/(\$)/},format:function(K,ve,Xe){var Ve=ge.locales[ge.options.currentLocale],D={before:ve.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:ve.match(/([\+|\-|\)|\s|\$]*)$/)[0]},He,ut,yt;for(ve=ve.replace(/\s?\$\s?/,""),He=ge._.numberToFormat(K,ve,Xe),K>=0?(D.before=D.before.replace(/[\-\(]/,""),D.after=D.after.replace(/[\-\)]/,"")):K<0&&!ge._.includes(D.before,"-")&&!ge._.includes(D.before,"(")&&(D.before="-"+D.before),yt=0;yt<D.before.length;yt++)switch(ut=D.before[yt],ut){case"$":He=ge._.insert(He,Ve.currency.symbol,yt);break;case" ":He=ge._.insert(He," ",yt+Ve.currency.symbol.length-1);break}for(yt=D.after.length-1;yt>=0;yt--)switch(ut=D.after[yt],ut){case"$":He=yt===D.after.length-1?He+Ve.currency.symbol:ge._.insert(He,Ve.currency.symbol,-(D.after.length-(1+yt)));break;case" ":He=yt===D.after.length-1?He+" ":ge._.insert(He," ",-(D.after.length-(1+yt)+Ve.currency.symbol.length-1));break}return He}})}(),function(){ge.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(K,ve,Xe){var Ve,D=typeof K=="number"&&!ge._.isNaN(K)?K.toExponential():"0e+0",He=D.split("e");return ve=ve.replace(/e[\+|\-]{1}0/,""),Ve=ge._.numberToFormat(Number(He[0]),ve,Xe),Ve+"e"+He[1]},unformat:function(K){var ve=ge._.includes(K,"e+")?K.split("e+"):K.split("e-"),Xe=Number(ve[0]),Ve=Number(ve[1]);Ve=ge._.includes(K,"e-")?Ve*=-1:Ve;function D(He,ut,yt,St){var ci=ge._.correctionFactor(He,ut),An=He*ci*(ut*ci)/(ci*ci);return An}return ge._.reduce([Xe,Math.pow(10,Ve)],D,1)}})}(),function(){ge.register("format","ordinal",{regexps:{format:/(o)/},format:function(K,ve,Xe){var Ve=ge.locales[ge.options.currentLocale],D,He=ge._.includes(ve," o")?" ":"";return ve=ve.replace(/\s?o/,""),He+=Ve.ordinal(K),D=ge._.numberToFormat(K,ve,Xe),D+He}})}(),function(){ge.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(K,ve,Xe){var Ve=ge._.includes(ve," %")?" ":"",D;return ge.options.scalePercentBy100&&(K=K*100),ve=ve.replace(/\s?\%/,""),D=ge._.numberToFormat(K,ve,Xe),ge._.includes(D,")")?(D=D.split(""),D.splice(-1,0,Ve+"%"),D=D.join("")):D=D+Ve+"%",D},unformat:function(K){var ve=ge._.stringToNumber(K);return ge.options.scalePercentBy100?ve*.01:ve}})}(),function(){ge.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(K,ve,Xe){var Ve=Math.floor(K/60/60),D=Math.floor((K-Ve*60*60)/60),He=Math.round(K-Ve*60*60-D*60);return Ve+":"+(D<10?"0"+D:D)+":"+(He<10?"0"+He:He)},unformat:function(K){var ve=K.split(":"),Xe=0;return ve.length===3?(Xe=Xe+Number(ve[0])*60*60,Xe=Xe+Number(ve[1])*60,Xe=Xe+Number(ve[2])):ve.length===2&&(Xe=Xe+Number(ve[0])*60,Xe=Xe+Number(ve[1])),Number(Xe)}})}(),ge})},55640:function(Ri,Di,ee){"use strict";var Ut=this&&this.__extends||function(){var Lt=function(Ft,Re){return Lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ue,Je){ue.__proto__=Je}||function(ue,Je){for(var ai in Je)Object.prototype.hasOwnProperty.call(Je,ai)&&(ue[ai]=Je[ai])},Lt(Ft,Re)};return function(Ft,Re){if(typeof Re!="function"&&Re!==null)throw new TypeError("Class extends value "+String(Re)+" is not a constructor or null");Lt(Ft,Re);function ue(){this.constructor=Ft}Ft.prototype=Re===null?Object.create(Re):(ue.prototype=Re.prototype,new ue)}}(),ae=this&&this.__assign||function(){return ae=Object.assign||function(Lt){for(var Ft,Re=1,ue=arguments.length;Re<ue;Re++){Ft=arguments[Re];for(var Je in Ft)Object.prototype.hasOwnProperty.call(Ft,Je)&&(Lt[Je]=Ft[Je])}return Lt},ae.apply(this,arguments)},ge=this&&this.__createBinding||(Object.create?function(Lt,Ft,Re,ue){ue===void 0&&(ue=Re);var Je=Object.getOwnPropertyDescriptor(Ft,Re);(!Je||("get"in Je?!Ft.__esModule:Je.writable||Je.configurable))&&(Je={enumerable:!0,get:function(){return Ft[Re]}}),Object.defineProperty(Lt,ue,Je)}:function(Lt,Ft,Re,ue){ue===void 0&&(ue=Re),Lt[ue]=Ft[Re]}),rn=this&&this.__setModuleDefault||(Object.create?function(Lt,Ft){Object.defineProperty(Lt,"default",{enumerable:!0,value:Ft})}:function(Lt,Ft){Lt.default=Ft}),Ls=this&&this.__importStar||function(Lt){if(Lt&&Lt.__esModule)return Lt;var Ft={};if(Lt!=null)for(var Re in Lt)Re!=="default"&&Object.prototype.hasOwnProperty.call(Lt,Re)&&ge(Ft,Lt,Re);return rn(Ft,Lt),Ft},B=this&&this.__rest||function(Lt,Ft){var Re={};for(var ue in Lt)Object.prototype.hasOwnProperty.call(Lt,ue)&&Ft.indexOf(ue)<0&&(Re[ue]=Lt[ue]);if(Lt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Je=0,ue=Object.getOwnPropertySymbols(Lt);Je<ue.length;Je++)Ft.indexOf(ue[Je])<0&&Object.prototype.propertyIsEnumerable.call(Lt,ue[Je])&&(Re[ue[Je]]=Lt[ue[Je]]);return Re};Object.defineProperty(Di,"__esModule",{value:!0});var Me=Ls(ee(92379)),hi=13,Ai=9,re=8,K=89,ve=90,Xe=77,Ve=57,D=219,He=222,ut=192,yt=27,St=100,ci=3e3,An=typeof window!="undefined"&&"navigator"in window&&/Win/i.test(navigator.platform),Hr=typeof window!="undefined"&&"navigator"in window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),an="npm__react-simple-code-editor__textarea",$a=`
/**
 * Reset the text fill color so that placeholder is visible
 */
.`.concat(an,`:empty {
  -webkit-text-fill-color: inherit !important;
}

/**
 * Hack to apply on some CSS on IE10 and IE11
 */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /**
    * IE doesn't support '-webkit-text-fill-color'
    * So we use 'color: transparent' to make the text transparent on IE
    * Unlike other browsers, it doesn't affect caret color in IE
    */
  .`).concat(an,` {
    color: transparent !important;
  }

  .`).concat(an,`::selection {
    background-color: #accef7 !important;
    color: transparent !important;
  }
}
`),Bn=function(Lt){Ut(Ft,Lt);function Ft(){var Re=Lt!==null&&Lt.apply(this,arguments)||this;return Re.state={capture:!0},Re._recordCurrentState=function(){var ue=Re._input;if(ue){var Je=ue.value,ai=ue.selectionStart,Jt=ue.selectionEnd;Re._recordChange({value:Je,selectionStart:ai,selectionEnd:Jt})}},Re._getLines=function(ue,Je){return ue.substring(0,Je).split(`
`)},Re._recordChange=function(ue,Je){var ai,Jt,Li;Je===void 0&&(Je=!1);var Gr=Re._history,Wr=Gr.stack,Mi=Gr.offset;if(Wr.length&&Mi>-1){Re._history.stack=Wr.slice(0,Mi+1);var ui=Re._history.stack.length;if(ui>St){var Fi=ui-St;Re._history.stack=Wr.slice(Fi,ui),Re._history.offset=Math.max(Re._history.offset-Fi,0)}}var qi=Date.now();if(Je){var ar=Re._history.stack[Re._history.offset];if(ar&&qi-ar.timestamp<ci){var es=/[^a-z0-9]([a-z0-9]+)$/i,ts=(ai=Re._getLines(ar.value,ar.selectionStart).pop())===null||ai===void 0?void 0:ai.match(es),Ca=(Jt=Re._getLines(ue.value,ue.selectionStart).pop())===null||Jt===void 0?void 0:Jt.match(es);if(ts!=null&&ts[1]&&(!((Li=Ca==null?void 0:Ca[1])===null||Li===void 0)&&Li.startsWith(ts[1]))){Re._history.stack[Re._history.offset]=ae(ae({},ue),{timestamp:qi});return}}}Re._history.stack.push(ae(ae({},ue),{timestamp:qi})),Re._history.offset++},Re._updateInput=function(ue){var Je=Re._input;Je&&(Je.value=ue.value,Je.selectionStart=ue.selectionStart,Je.selectionEnd=ue.selectionEnd,Re.props.onValueChange(ue.value))},Re._applyEdits=function(ue){var Je=Re._input,ai=Re._history.stack[Re._history.offset];ai&&Je&&(Re._history.stack[Re._history.offset]=ae(ae({},ai),{selectionStart:Je.selectionStart,selectionEnd:Je.selectionEnd})),Re._recordChange(ue),Re._updateInput(ue)},Re._undoEdit=function(){var ue=Re._history,Je=ue.stack,ai=ue.offset,Jt=Je[ai-1];Jt&&(Re._updateInput(Jt),Re._history.offset=Math.max(ai-1,0))},Re._redoEdit=function(){var ue=Re._history,Je=ue.stack,ai=ue.offset,Jt=Je[ai+1];Jt&&(Re._updateInput(Jt),Re._history.offset=Math.min(ai+1,Je.length-1))},Re._handleKeyDown=function(ue){var Je=Re.props,ai=Je.tabSize,Jt=Je.insertSpaces,Li=Je.ignoreTabKey,Gr=Je.onKeyDown;if(!(Gr&&(Gr(ue),ue.defaultPrevented))){ue.keyCode===yt&&ue.currentTarget.blur();var Wr=ue.currentTarget,Mi=Wr.value,ui=Wr.selectionStart,Fi=Wr.selectionEnd,qi=(Jt?" ":"	").repeat(ai);if(ue.keyCode===Ai&&!Li&&Re.state.capture)if(ue.preventDefault(),ue.shiftKey){var ar=Re._getLines(Mi,ui),es=ar.length-1,ts=Re._getLines(Mi,Fi).length-1,Ca=Mi.split(`
`).map(function(Fs,Id){return Id>=es&&Id<=ts&&Fs.startsWith(qi)?Fs.substring(qi.length):Fs}).join(`
`);if(Mi!==Ca){var is=ar[es];Re._applyEdits({value:Ca,selectionStart:is!=null&&is.startsWith(qi)?ui-qi.length:ui,selectionEnd:Fi-(Mi.length-Ca.length)})}}else if(ui!==Fi){var ar=Re._getLines(Mi,ui),qr=ar.length-1,Dd=Re._getLines(Mi,Fi).length-1,is=ar[qr];Re._applyEdits({value:Mi.split(`
`).map(function(sr,To){return To>=qr&&To<=Dd?qi+sr:sr}).join(`
`),selectionStart:is&&/\S/.test(is)?ui+qi.length:ui,selectionEnd:Fi+qi.length*(Dd-qr+1)})}else{var Zr=ui+qi.length;Re._applyEdits({value:Mi.substring(0,ui)+qi+Mi.substring(Fi),selectionStart:Zr,selectionEnd:Zr})}else if(ue.keyCode===re){var kl=ui!==Fi,Nh=Mi.substring(0,ui);if(Nh.endsWith(qi)&&!kl){ue.preventDefault();var Zr=ui-qi.length;Re._applyEdits({value:Mi.substring(0,ui-qi.length)+Mi.substring(Fi),selectionStart:Zr,selectionEnd:Zr})}}else if(ue.keyCode===hi){if(ui===Fi){var Pd=Re._getLines(Mi,ui).pop(),Sl=Pd==null?void 0:Pd.match(/^\s+/);if(Sl!=null&&Sl[0]){ue.preventDefault();var Lu=`
`+Sl[0],Zr=ui+Lu.length;Re._applyEdits({value:Mi.substring(0,ui)+Lu+Mi.substring(Fi),selectionStart:Zr,selectionEnd:Zr})}}}else if(ue.keyCode===Ve||ue.keyCode===D||ue.keyCode===He||ue.keyCode===ut){var aa=void 0;ue.keyCode===Ve&&ue.shiftKey?aa=["(",")"]:ue.keyCode===D?ue.shiftKey?aa=["{","}"]:aa=["[","]"]:ue.keyCode===He?ue.shiftKey?aa=['"','"']:aa=["'","'"]:ue.keyCode===ut&&!ue.shiftKey&&(aa=["`","`"]),ui!==Fi&&aa&&(ue.preventDefault(),Re._applyEdits({value:Mi.substring(0,ui)+aa[0]+Mi.substring(ui,Fi)+aa[1]+Mi.substring(Fi),selectionStart:ui,selectionEnd:Fi+2}))}else(Hr?ue.metaKey&&ue.keyCode===ve:ue.ctrlKey&&ue.keyCode===ve)&&!ue.shiftKey&&!ue.altKey?(ue.preventDefault(),Re._undoEdit()):(Hr?ue.metaKey&&ue.keyCode===ve&&ue.shiftKey:An?ue.ctrlKey&&ue.keyCode===K:ue.ctrlKey&&ue.keyCode===ve&&ue.shiftKey)&&!ue.altKey?(ue.preventDefault(),Re._redoEdit()):ue.keyCode===Xe&&ue.ctrlKey&&(!Hr||ue.shiftKey)&&(ue.preventDefault(),Re.setState(function(Fs){return{capture:!Fs.capture}}))}},Re._handleChange=function(ue){var Je=ue.currentTarget,ai=Je.value,Jt=Je.selectionStart,Li=Je.selectionEnd;Re._recordChange({value:ai,selectionStart:Jt,selectionEnd:Li},!0),Re.props.onValueChange(ai)},Re._history={stack:[],offset:-1},Re._input=null,Re}return Ft.prototype.componentDidMount=function(){this._recordCurrentState()},Object.defineProperty(Ft.prototype,"session",{get:function(){return{history:this._history}},set:function(Re){this._history=Re.history},enumerable:!1,configurable:!0}),Ft.prototype.render=function(){var Re=this,ue=this.props,Je=ue.value,ai=ue.style,Jt=ue.padding,Li=ue.highlight,Gr=ue.textareaId,Wr=ue.textareaClassName,Mi=ue.autoFocus,ui=ue.disabled,Fi=ue.form,qi=ue.maxLength,ar=ue.minLength,es=ue.name,ts=ue.placeholder,Ca=ue.readOnly,is=ue.required,qr=ue.onClick,Dd=ue.onFocus,Zr=ue.onBlur,kl=ue.onKeyUp,Nh=ue.onKeyDown,Pd=ue.onValueChange,Sl=ue.tabSize,Lu=ue.insertSpaces,aa=ue.ignoreTabKey,Fs=ue.preClassName,Id=B(ue,["value","style","padding","highlight","textareaId","textareaClassName","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey","preClassName"]),sr={paddingTop:typeof Jt=="object"?Jt.top:Jt,paddingRight:typeof Jt=="object"?Jt.right:Jt,paddingBottom:typeof Jt=="object"?Jt.bottom:Jt,paddingLeft:typeof Jt=="object"?Jt.left:Jt},To=Li(Je);return Me.createElement("div",ae({},Id,{style:ae(ae({},Gn.container),ai)}),Me.createElement("pre",ae({className:Fs,"aria-hidden":"true",style:ae(ae(ae({},Gn.editor),Gn.highlight),sr)},typeof To=="string"?{dangerouslySetInnerHTML:{__html:To+"<br />"}}:{children:To})),Me.createElement("textarea",{ref:function(sa){return Re._input=sa},style:ae(ae(ae({},Gn.editor),Gn.textarea),sr),className:an+(Wr?" ".concat(Wr):""),id:Gr,value:Je,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:qr,onKeyUp:kl,onFocus:Dd,onBlur:Zr,disabled:ui,form:Fi,maxLength:qi,minLength:ar,name:es,placeholder:ts,readOnly:Ca,required:is,autoFocus:Mi,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),Me.createElement("style",{dangerouslySetInnerHTML:{__html:$a}}))},Ft.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},Ft}(Me.Component);Di.default=Bn;var Gn={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}}}}]);
}());